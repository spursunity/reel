!function(t){var e=window.webpackHotUpdate;window.webpackHotUpdate=function(t,r){!function(t,e){if(!b[t]||!x[t])return;for(var r in x[t]=!1,e)Object.prototype.hasOwnProperty.call(e,r)&&(v[r]=e[r]);0==--y&&0===g&&S()}(t,r),e&&e(t,r)};var r,i=!0,n="adcef59d071aacc7bc92",o=1e4,s={},a=[],h=[];function u(t){var e=I[t];if(!e)return A;var i=function(i){return e.hot.active?(I[i]?-1===I[i].parents.indexOf(t)&&I[i].parents.push(t):(a=[t],r=i),-1===e.children.indexOf(i)&&e.children.push(i)):(console.warn("[HMR] unexpected require("+i+") from disposed module "+t),a=[]),A(i)},n=function(t){return{configurable:!0,enumerable:!0,get:function(){return A[t]},set:function(e){A[t]=e}}};for(var o in A)Object.prototype.hasOwnProperty.call(A,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(i,o,n(o));return i.e=function(t){return"ready"===d&&p("prepare"),g++,A.e(t).then(e,function(t){throw e(),t});function e(){g--,"prepare"===d&&(_[t]||w(t),0===g&&0===y&&S())}},i.t=function(t,e){return 1&e&&(t=i(t)),A.t(t,-2&e)},i}function l(t){var e={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:r!==t,active:!0,accept:function(t,r){if(void 0===t)e._selfAccepted=!0;else if("function"==typeof t)e._selfAccepted=t;else if("object"==typeof t)for(var i=0;i<t.length;i++)e._acceptedDependencies[t[i]]=r||function(){};else e._acceptedDependencies[t]=r||function(){}},decline:function(t){if(void 0===t)e._selfDeclined=!0;else if("object"==typeof t)for(var r=0;r<t.length;r++)e._declinedDependencies[t[r]]=!0;else e._declinedDependencies[t]=!0},dispose:function(t){e._disposeHandlers.push(t)},addDisposeHandler:function(t){e._disposeHandlers.push(t)},removeDisposeHandler:function(t){var r=e._disposeHandlers.indexOf(t);r>=0&&e._disposeHandlers.splice(r,1)},check:E,apply:P,status:function(t){if(!t)return d;c.push(t)},addStatusHandler:function(t){c.push(t)},removeStatusHandler:function(t){var e=c.indexOf(t);e>=0&&c.splice(e,1)},data:s[t]};return r=void 0,e}var c=[],d="idle";function p(t){d=t;for(var e=0;e<c.length;e++)c[e].call(null,t)}var f,v,m,y=0,g=0,_={},x={},b={};function T(t){return+t+""===t?+t:t}function E(t){if("idle"!==d)throw new Error("check() is only allowed in idle status");return i=t,p("check"),(e=o,e=e||1e4,new Promise(function(t,r){if("undefined"==typeof XMLHttpRequest)return r(new Error("No browser support"));try{var i=new XMLHttpRequest,o=A.p+""+n+".hot-update.json";i.open("GET",o,!0),i.timeout=e,i.send(null)}catch(t){return r(t)}i.onreadystatechange=function(){if(4===i.readyState)if(0===i.status)r(new Error("Manifest request to "+o+" timed out."));else if(404===i.status)t();else if(200!==i.status&&304!==i.status)r(new Error("Manifest request to "+o+" failed."));else{try{var e=JSON.parse(i.responseText)}catch(t){return void r(t)}t(e)}}})).then(function(t){if(!t)return p("idle"),null;x={},_={},b=t.c,m=t.h,p("prepare");var e=new Promise(function(t,e){f={resolve:t,reject:e}});v={};return w(0),"prepare"===d&&0===g&&0===y&&S(),e});var e}function w(t){b[t]?(x[t]=!0,y++,function(t){var e=document.createElement("script");e.charset="utf-8",e.src=A.p+""+t+"."+n+".hot-update.js",document.head.appendChild(e)}(t)):_[t]=!0}function S(){p("ready");var t=f;if(f=null,t)if(i)Promise.resolve().then(function(){return P(i)}).then(function(e){t.resolve(e)},function(e){t.reject(e)});else{var e=[];for(var r in v)Object.prototype.hasOwnProperty.call(v,r)&&e.push(T(r));t.resolve(e)}}function P(e){if("ready"!==d)throw new Error("apply() is only allowed in ready status");var r,i,o,h,u;function l(t){for(var e=[t],r={},i=e.slice().map(function(t){return{chain:[t],id:t}});i.length>0;){var n=i.pop(),o=n.id,s=n.chain;if((h=I[o])&&!h.hot._selfAccepted){if(h.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:o};if(h.hot._main)return{type:"unaccepted",chain:s,moduleId:o};for(var a=0;a<h.parents.length;a++){var u=h.parents[a],l=I[u];if(l){if(l.hot._declinedDependencies[o])return{type:"declined",chain:s.concat([u]),moduleId:o,parentId:u};-1===e.indexOf(u)&&(l.hot._acceptedDependencies[o]?(r[u]||(r[u]=[]),c(r[u],[o])):(delete r[u],e.push(u),i.push({chain:s.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:t,outdatedModules:e,outdatedDependencies:r}}function c(t,e){for(var r=0;r<e.length;r++){var i=e[r];-1===t.indexOf(i)&&t.push(i)}}e=e||{};var f={},y=[],g={},_=function(){console.warn("[HMR] unexpected require("+E.moduleId+") to disposed module")};for(var x in v)if(Object.prototype.hasOwnProperty.call(v,x)){var E;u=T(x);var w=!1,S=!1,P=!1,O="";switch((E=v[x]?l(u):{type:"disposed",moduleId:x}).chain&&(O="\nUpdate propagation: "+E.chain.join(" -> ")),E.type){case"self-declined":e.onDeclined&&e.onDeclined(E),e.ignoreDeclined||(w=new Error("Aborted because of self decline: "+E.moduleId+O));break;case"declined":e.onDeclined&&e.onDeclined(E),e.ignoreDeclined||(w=new Error("Aborted because of declined dependency: "+E.moduleId+" in "+E.parentId+O));break;case"unaccepted":e.onUnaccepted&&e.onUnaccepted(E),e.ignoreUnaccepted||(w=new Error("Aborted because "+u+" is not accepted"+O));break;case"accepted":e.onAccepted&&e.onAccepted(E),S=!0;break;case"disposed":e.onDisposed&&e.onDisposed(E),P=!0;break;default:throw new Error("Unexception type "+E.type)}if(w)return p("abort"),Promise.reject(w);if(S)for(u in g[u]=v[u],c(y,E.outdatedModules),E.outdatedDependencies)Object.prototype.hasOwnProperty.call(E.outdatedDependencies,u)&&(f[u]||(f[u]=[]),c(f[u],E.outdatedDependencies[u]));P&&(c(y,[E.moduleId]),g[u]=_)}var M,C=[];for(i=0;i<y.length;i++)u=y[i],I[u]&&I[u].hot._selfAccepted&&C.push({module:u,errorHandler:I[u].hot._selfAccepted});p("dispose"),Object.keys(b).forEach(function(t){!1===b[t]&&function(t){delete installedChunks[t]}(t)});for(var D,R,L=y.slice();L.length>0;)if(u=L.pop(),h=I[u]){var F={},N=h.hot._disposeHandlers;for(o=0;o<N.length;o++)(r=N[o])(F);for(s[u]=F,h.hot.active=!1,delete I[u],delete f[u],o=0;o<h.children.length;o++){var U=I[h.children[o]];U&&((M=U.parents.indexOf(u))>=0&&U.parents.splice(M,1))}}for(u in f)if(Object.prototype.hasOwnProperty.call(f,u)&&(h=I[u]))for(R=f[u],o=0;o<R.length;o++)D=R[o],(M=h.children.indexOf(D))>=0&&h.children.splice(M,1);for(u in p("apply"),n=m,g)Object.prototype.hasOwnProperty.call(g,u)&&(t[u]=g[u]);var B=null;for(u in f)if(Object.prototype.hasOwnProperty.call(f,u)&&(h=I[u])){R=f[u];var k=[];for(i=0;i<R.length;i++)if(D=R[i],r=h.hot._acceptedDependencies[D]){if(-1!==k.indexOf(r))continue;k.push(r)}for(i=0;i<k.length;i++){r=k[i];try{r(R)}catch(t){e.onErrored&&e.onErrored({type:"accept-errored",moduleId:u,dependencyId:R[i],error:t}),e.ignoreErrored||B||(B=t)}}}for(i=0;i<C.length;i++){var X=C[i];u=X.module,a=[u];try{A(u)}catch(t){if("function"==typeof X.errorHandler)try{X.errorHandler(t)}catch(r){e.onErrored&&e.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:r,originalError:t}),e.ignoreErrored||B||(B=r),B||(B=t)}else e.onErrored&&e.onErrored({type:"self-accept-errored",moduleId:u,error:t}),e.ignoreErrored||B||(B=t)}}return B?(p("fail"),Promise.reject(B)):(p("idle"),new Promise(function(t){t(y)}))}var I={};function A(e){if(I[e])return I[e].exports;var r=I[e]={i:e,l:!1,exports:{},hot:l(e),parents:(h=a,a=[],h),children:[]};return t[e].call(r.exports,r,r.exports,u(e)),r.l=!0,r.exports}A.m=t,A.c=I,A.d=function(t,e,r){A.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},A.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},A.t=function(t,e){if(1&e&&(t=A(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(A.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)A.d(r,i,function(e){return t[e]}.bind(null,i));return r},A.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return A.d(e,"a",e),e},A.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},A.p="",A.h=function(){return n},u(28)(A.s=28)}([function(t,e,r){var i,n,o;!function(r){var s=/iPhone/i,a=/iPod/i,h=/iPad/i,u=/\bAndroid(?:.+)Mobile\b/i,l=/Android/i,c=/\bAndroid(?:.+)SD4930UR\b/i,d=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,p=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,v=/BlackBerry/i,m=/BB10/i,y=/Opera Mini/i,g=/\b(CriOS|Chrome)(?:.+)Mobile/i,_=/Mobile(?:.+)Firefox\b/i;function x(t,e){return t.test(e)}function b(t){var e=t||("undefined"!=typeof navigator?navigator.userAgent:""),r=e.split("[FBAN");void 0!==r[1]&&(e=r[0]),void 0!==(r=e.split("Twitter"))[1]&&(e=r[0]);var i={apple:{phone:x(s,e)&&!x(p,e),ipod:x(a,e),tablet:!x(s,e)&&x(h,e)&&!x(p,e),device:(x(s,e)||x(a,e)||x(h,e))&&!x(p,e)},amazon:{phone:x(c,e),tablet:!x(c,e)&&x(d,e),device:x(c,e)||x(d,e)},android:{phone:!x(p,e)&&x(c,e)||!x(p,e)&&x(u,e),tablet:!x(p,e)&&!x(c,e)&&!x(u,e)&&(x(d,e)||x(l,e)),device:!x(p,e)&&(x(c,e)||x(d,e)||x(u,e)||x(l,e))||x(/\bokhttp\b/i,e)},windows:{phone:x(p,e),tablet:x(f,e),device:x(p,e)||x(f,e)},other:{blackberry:x(v,e),blackberry10:x(m,e),opera:x(y,e),firefox:x(_,e),chrome:x(g,e),device:x(v,e)||x(m,e)||x(y,e)||x(_,e)||x(g,e)}};return i.any=i.apple.device||i.android.device||i.windows.device||i.other.device,i.phone=i.apple.phone||i.android.phone||i.windows.phone,i.tablet=i.apple.tablet||i.android.tablet||i.windows.tablet,i}t.exports&&"undefined"==typeof window?t.exports=b:t.exports&&"undefined"!=typeof window?(t.exports=b(),t.exports.isMobile=b):(n=[],i=r.isMobile=b(),void 0===(o="function"==typeof i?i.apply(e,n):i)||(t.exports=o))}(this)},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";var i=r(17),n=r(19);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=_,e.resolve=function(t,e){return _(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?_(t,!1,!0).resolveObject(e):e},e.format=function(t){n.isString(t)&&(t=_(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),c=["%","/","?",";","#"].concat(l),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=r(20);function _(t,e,r){if(t&&n.isObject(t)&&t instanceof o)return t;var i=new o;return i.parse(t,e,r),i}o.prototype.parse=function(t,e,r){if(!n.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",u=t.split(a);u[0]=u[0].replace(/\\/g,"/");var _=t=u.join(a);if(_=_.trim(),!r&&1===t.split("#").length){var x=h.exec(_);if(x)return this.path=_,this.href=_,this.pathname=x[1],x[2]?(this.search=x[2],this.query=e?g.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var b=s.exec(_);if(b){var T=(b=b[0]).toLowerCase();this.protocol=T,_=_.substr(b.length)}if(r||b||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===_.substr(0,2);!E||b&&m[b]||(_=_.substr(2),this.slashes=!0)}if(!m[b]&&(E||b&&!y[b])){for(var w,S,P=-1,I=0;I<d.length;I++){-1!==(A=_.indexOf(d[I]))&&(-1===P||A<P)&&(P=A)}-1!==(S=-1===P?_.lastIndexOf("@"):_.lastIndexOf("@",P))&&(w=_.slice(0,S),_=_.slice(S+1),this.auth=decodeURIComponent(w)),P=-1;for(I=0;I<c.length;I++){var A;-1!==(A=_.indexOf(c[I]))&&(-1===P||A<P)&&(P=A)}-1===P&&(P=_.length),this.host=_.slice(0,P),_=_.slice(P),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var M=this.hostname.split(/\./),C=(I=0,M.length);I<C;I++){var D=M[I];if(D&&!D.match(p)){for(var R="",L=0,F=D.length;L<F;L++)D.charCodeAt(L)>127?R+="x":R+=D[L];if(!R.match(p)){var N=M.slice(0,I),U=M.slice(I+1),B=D.match(f);B&&(N.push(B[1]),U.unshift(B[2])),U.length&&(_="/"+U.join(".")+_),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=i.toASCII(this.hostname));var k=this.port?":"+this.port:"",X=this.hostname||"";this.host=X+k,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!v[T])for(I=0,C=l.length;I<C;I++){var j=l[I];if(-1!==_.indexOf(j)){var H=encodeURIComponent(j);H===j&&(H=escape(j)),_=_.split(j).join(H)}}var G=_.indexOf("#");-1!==G&&(this.hash=_.substr(G),_=_.slice(0,G));var Y=_.indexOf("?");if(-1!==Y?(this.search=_.substr(Y),this.query=_.substr(Y+1),e&&(this.query=g.parse(this.query)),_=_.slice(0,Y)):e&&(this.search="",this.query={}),_&&(this.pathname=_),y[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){k=this.pathname||"";var z=this.search||"";this.path=k+z}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(s=g.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||y[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+i},o.prototype.resolve=function(t){return this.resolveObject(_(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(n.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,i=Object.keys(this),s=0;s<i.length;s++){var a=i[s];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),u=0;u<h.length;u++){var l=h[u];"protocol"!==l&&(r[l]=t[l])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!y[t.protocol]){for(var c=Object.keys(t),d=0;d<c.length;d++){var p=c[d];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||m[t.protocol])r.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var v=r.pathname||"",g=r.search||"";r.path=v+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var _=r.pathname&&"/"===r.pathname.charAt(0),x=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=x||_||r.host&&t.pathname,T=b,E=r.pathname&&r.pathname.split("/")||[],w=(f=t.pathname&&t.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(w&&(r.hostname="",r.port=null,r.host&&(""===E[0]?E[0]=r.host:E.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),b=b&&(""===f[0]||""===E[0])),x)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,E=f;else if(f.length)E||(E=[]),E.pop(),E=E.concat(f),r.search=t.search,r.query=t.query;else if(!n.isNullOrUndefined(t.search)){if(w)r.hostname=r.host=E.shift(),(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.host=r.hostname=O.shift());return r.search=t.search,r.query=t.query,n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=E.slice(-1)[0],P=(r.host||t.host||E.length>1)&&("."===S||".."===S)||""===S,I=0,A=E.length;A>=0;A--)"."===(S=E[A])?E.splice(A,1):".."===S?(E.splice(A,1),I++):I&&(E.splice(A,1),I--);if(!b&&!T)for(;I--;I)E.unshift("..");!b||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),P&&"/"!==E.join("/").substr(-1)&&E.push("");var O,M=""===E[0]||E[0]&&"/"===E[0].charAt(0);w&&(r.hostname=r.host=M?"":E.length?E.shift():"",(O=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=O.shift(),r.host=r.hostname=O.shift()));return(b=b||r.host&&E.length)&&!M&&E.unshift(""),E.length?r.pathname=E.join("/"):(r.pathname=null,r.path=null),n.isNull(r.pathname)&&n.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){"use strict";var i=r(23).Loader,n=r(10).Resource,o=r(9),s=r(24);i.Resource=n,i.async=o,i.encodeBinary=s,i.base64=s,t.exports=i,t.exports.Loader=i,t.exports.default=i},function(t,e,r){},function(t,e,r){"use strict";var i=Object.prototype.hasOwnProperty,n="~";function o(){}function s(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function a(t,e,r,i,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new s(r,i||t,o),h=n?n+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],a]:t._events[h].push(a):(t._events[h]=a,t._eventsCount++),t}function h(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(n=!1)),u.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)i.call(t,e)&&r.push(n?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},u.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},u.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},u.prototype.emit=function(t,e,r,i,o,s){var a=n?n+t:t;if(!this._events[a])return!1;var h,u,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,i),!0;case 5:return l.fn.call(l.context,e,r,i,o),!0;case 6:return l.fn.call(l.context,e,r,i,o,s),!0}for(u=1,h=new Array(c-1);u<c;u++)h[u-1]=arguments[u];l.fn.apply(l.context,h)}else{var d,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),c){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,r);break;case 4:l[u].fn.call(l[u].context,e,r,i);break;default:if(!h)for(d=1,h=new Array(c-1);d<c;d++)h[d-1]=arguments[d];l[u].fn.apply(l[u].context,h)}}return!0},u.prototype.on=function(t,e,r){return a(this,t,e,r,!1)},u.prototype.once=function(t,e,r){return a(this,t,e,r,!0)},u.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return h(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||r&&s.context!==r||h(this,o);else{for(var a=0,u=[],l=s.length;a<l;a++)(s[a].fn!==e||i&&!s[a].once||r&&s[a].context!==r)&&u.push(s[a]);u.length?this._events[o]=1===u.length?u[0]:u:h(this,o)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&h(this,e)):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u},function(t,e,r){"use strict";function i(t,e,r){r=r||2;var i,a,h,u,l,p,v,m=e&&e.length,y=m?e[0]*r:t.length,g=n(t,0,y,r,!0),_=[];if(!g||g.next===g.prev)return _;if(m&&(g=function(t,e,r,i){var s,a,h,u,l,p=[];for(s=0,a=e.length;s<a;s++)h=e[s]*i,u=s<a-1?e[s+1]*i:t.length,(l=n(t,h,u,i,!1))===l.next&&(l.steiner=!0),p.push(f(l));for(p.sort(c),s=0;s<p.length;s++)d(p[s],r),r=o(r,r.next);return r}(t,e,g,r)),t.length>80*r){i=h=t[0],a=u=t[1];for(var x=r;x<y;x+=r)(l=t[x])<i&&(i=l),(p=t[x+1])<a&&(a=p),l>h&&(h=l),p>u&&(u=p);v=0!==(v=Math.max(h-i,u-a))?1/v:0}return s(g,_,r,i,a,v),_}function n(t,e,r,i,n){var o,s;if(n===S(t,e,r,i)>0)for(o=e;o<r;o+=i)s=T(o,t[o],t[o+1],s);else for(o=r-i;o>=e;o-=i)s=T(o,t[o],t[o+1],s);return s&&g(s,s.next)&&(E(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var r,i=t;do{if(r=!1,i.steiner||!g(i,i.next)&&0!==y(i.prev,i,i.next))i=i.next;else{if(E(i),(i=e=i.prev)===i.next)break;r=!0}}while(r||i!==e);return e}function s(t,e,r,i,n,c,d){if(t){!d&&c&&function(t,e,r,i){var n=t;do{null===n.z&&(n.z=p(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,r,i,n,o,s,a,h,u=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,i=r,a=0,e=0;e<u&&(a++,i=i.nextZ);e++);for(h=u;a>0||h>0&&i;)0!==a&&(0===h||!i||r.z<=i.z)?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,h--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;r=i}o.nextZ=null,u*=2}while(s>1)}(n)}(t,i,n,c);for(var f,v,m=t;t.prev!==t.next;)if(f=t.prev,v=t.next,c?h(t,i,n,c):a(t))e.push(f.i/r),e.push(t.i/r),e.push(v.i/r),E(t),t=v.next,m=v.next;else if((t=v)===m){d?1===d?s(t=u(t,e,r),e,r,i,n,c,2):2===d&&l(t,e,r,i,n,c):s(o(t),e,r,i,n,c,1);break}}}function a(t){var e=t.prev,r=t,i=t.next;if(y(e,r,i)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(v(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&y(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function h(t,e,r,i){var n=t.prev,o=t,s=t.next;if(y(n,o,s)>=0)return!1;for(var a=n.x<o.x?n.x<s.x?n.x:s.x:o.x<s.x?o.x:s.x,h=n.y<o.y?n.y<s.y?n.y:s.y:o.y<s.y?o.y:s.y,u=n.x>o.x?n.x>s.x?n.x:s.x:o.x>s.x?o.x:s.x,l=n.y>o.y?n.y>s.y?n.y:s.y:o.y>s.y?o.y:s.y,c=p(a,h,e,r,i),d=p(u,l,e,r,i),f=t.prevZ,m=t.nextZ;f&&f.z>=c&&m&&m.z<=d;){if(f!==t.prev&&f!==t.next&&v(n.x,n.y,o.x,o.y,s.x,s.y,f.x,f.y)&&y(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,m!==t.prev&&m!==t.next&&v(n.x,n.y,o.x,o.y,s.x,s.y,m.x,m.y)&&y(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;f&&f.z>=c;){if(f!==t.prev&&f!==t.next&&v(n.x,n.y,o.x,o.y,s.x,s.y,f.x,f.y)&&y(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;m&&m.z<=d;){if(m!==t.prev&&m!==t.next&&v(n.x,n.y,o.x,o.y,s.x,s.y,m.x,m.y)&&y(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function u(t,e,r){var i=t;do{var n=i.prev,o=i.next.next;!g(n,o)&&_(n,i,i.next,o)&&x(n,o)&&x(o,n)&&(e.push(n.i/r),e.push(i.i/r),e.push(o.i/r),E(i),E(i.next),i=t=o),i=i.next}while(i!==t);return i}function l(t,e,r,i,n,a){var h=t;do{for(var u=h.next.next;u!==h.prev;){if(h.i!==u.i&&m(h,u)){var l=b(h,u);return h=o(h,h.next),l=o(l,l.next),s(h,e,r,i,n,a),void s(l,e,r,i,n,a)}u=u.next}h=h.next}while(h!==t)}function c(t,e){return t.x-e.x}function d(t,e){if(e=function(t,e){var r,i=e,n=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=n&&a>s){if(s=a,a===n){if(o===i.y)return i;if(o===i.next.y)return i.next}r=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!r)return null;if(n===s)return r.prev;var h,u=r,l=r.x,c=r.y,d=1/0;i=r.next;for(;i!==u;)n>=i.x&&i.x>=l&&n!==i.x&&v(o<c?n:s,o,l,c,o<c?s:n,o,i.x,i.y)&&((h=Math.abs(o-i.y)/(n-i.x))<d||h===d&&i.x>r.x)&&x(i,t)&&(r=i,d=h),i=i.next;return r}(t,e)){var r=b(e,t);o(r,r.next)}}function p(t,e,r,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function f(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function v(t,e,r,i,n,o,s,a){return(n-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(r-s)*(e-a)>=0&&(r-s)*(o-a)-(n-s)*(i-a)>=0}function m(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&_(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&x(t,e)&&x(e,t)&&function(t,e){var r=t,i=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&n<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next}while(r!==t);return i}(t,e)}function y(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function g(t,e){return t.x===e.x&&t.y===e.y}function _(t,e,r,i){return!!(g(t,e)&&g(r,i)||g(t,i)&&g(r,e))||y(t,e,r)>0!=y(t,e,i)>0&&y(r,i,t)>0!=y(r,i,e)>0}function x(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function b(t,e){var r=new w(t.i,t.x,t.y),i=new w(e.i,e.x,e.y),n=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,o.next=i,i.prev=o,i}function T(t,e,r,i){var n=new w(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function E(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function w(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,r,i){for(var n=0,o=e,s=r-i;o<r;o+=i)n+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return n}t.exports=i,t.exports.default=i,i.deviation=function(t,e,r,i){var n=e&&e.length,o=n?e[0]*r:t.length,s=Math.abs(S(t,0,o,r));if(n)for(var a=0,h=e.length;a<h;a++){var u=e[a]*r,l=a<h-1?e[a+1]*r:t.length;s-=Math.abs(S(t,u,l,r))}var c=0;for(a=0;a<i.length;a+=3){var d=i[a]*r,p=i[a+1]*r,f=i[a+2]*r;c+=Math.abs((t[d]-t[f])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[f+1]-t[d+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},i.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[n][o][s]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,r,i){void 0===r&&(r=!1),n(this,t),this._fn=e,this._once=r,this._thisArg=i,this._next=this._prev=this._owner=null}return i(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function s(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var a=function(){function t(){n(this,t),this._head=this._tail=void 0}return i(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return s(this,new o(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return s(this,new o(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=o,e.default=a,t.exports=e.default},function(t,e,r){"use strict";t.exports=function(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=r.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[r.key[o]]=i[o]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,function(t,e,i){e&&(n[r.q.name][e]=i)}),n}},function(t,e,r){"use strict";function i(){}function n(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}e.__esModule=!0,e.eachSeries=function(t,e,r,i){var n=0,o=t.length;!function s(a){a||n===o?r&&r(a):i?setTimeout(function(){e(t[n++],s)},1):e(t[n++],s)}()},e.queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var r=0,o={_tasks:[],concurrency:e,saturated:i,unsaturated:i,buffer:e/4,empty:i,drain:i,error:i,started:!1,paused:!1,push:function(t,e){s(t,!1,e)},kill:function(){r=0,o.drain=i,o.started=!1,o._tasks=[]},unshift:function(t,e){s(t,!0,e)},process:function(){for(;!o.paused&&r<o.concurrency&&o._tasks.length;){var e=o._tasks.shift();0===o._tasks.length&&o.empty(),(r+=1)===o.concurrency&&o.saturated(),t(e.data,n(a(e)))}},length:function(){return o._tasks.length},running:function(){return r},idle:function(){return o._tasks.length+r===0},pause:function(){!0!==o.paused&&(o.paused=!0)},resume:function(){if(!1!==o.paused){o.paused=!1;for(var t=1;t<=o.concurrency;t++)o.process()}}};function s(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(o.started=!0,null==t&&o.idle())setTimeout(function(){return o.drain()},1);else{var n={data:t,callback:"function"==typeof r?r:i};e?o._tasks.unshift(n):o._tasks.push(n),setTimeout(function(){return o.process()},1)}}function a(t){return function(){r-=1,t.callback.apply(t,arguments),null!=arguments[0]&&o.error(arguments[0],t.data),r<=o.concurrency-o.buffer&&o.unsaturated(),o.idle()&&o.drain(),o.process()}}return o}},function(t,e,r){"use strict";e.__esModule=!0,e.Resource=void 0;var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),n=s(r(8)),o=s(r(7));function s(t){return t&&t.__esModule?t:{default:t}}var a=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),h=null;function u(){}var l=e.Resource=function(){function t(e,r,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=u,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new o.default,this.onProgress=new o.default,this.onComplete=new o.default,this.onAfterMiddleware=new o.default}return t.setExtensionLoadType=function(e,r){c(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){c(t._xhrTypeMap,e,r)},t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(r)},1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:a&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return 0!=(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=r,i},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(d(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(d(t)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(d(t)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",i=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===i&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2===(i/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,h||(h=document.createElement("a")),h.href=t;var r=!(t=(0,n.default)(h.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,i=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&i===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var i=t.indexOf("?"),n=t.indexOf("#"),o=Math.min(i>-1?i:t.length,n>-1?n:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},i(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function c(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function d(t){return t.toString().replace("object ","")}l.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},l.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},l.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},l.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},l._loadTypeMap={gif:l.LOAD_TYPE.IMAGE,png:l.LOAD_TYPE.IMAGE,bmp:l.LOAD_TYPE.IMAGE,jpg:l.LOAD_TYPE.IMAGE,jpeg:l.LOAD_TYPE.IMAGE,tif:l.LOAD_TYPE.IMAGE,tiff:l.LOAD_TYPE.IMAGE,webp:l.LOAD_TYPE.IMAGE,tga:l.LOAD_TYPE.IMAGE,svg:l.LOAD_TYPE.IMAGE,"svg+xml":l.LOAD_TYPE.IMAGE,mp3:l.LOAD_TYPE.AUDIO,ogg:l.LOAD_TYPE.AUDIO,wav:l.LOAD_TYPE.AUDIO,mp4:l.LOAD_TYPE.VIDEO,webm:l.LOAD_TYPE.VIDEO},l._xhrTypeMap={xhtml:l.XHR_RESPONSE_TYPE.DOCUMENT,html:l.XHR_RESPONSE_TYPE.DOCUMENT,htm:l.XHR_RESPONSE_TYPE.DOCUMENT,xml:l.XHR_RESPONSE_TYPE.DOCUMENT,tmx:l.XHR_RESPONSE_TYPE.DOCUMENT,svg:l.XHR_RESPONSE_TYPE.DOCUMENT,tsx:l.XHR_RESPONSE_TYPE.DOCUMENT,gif:l.XHR_RESPONSE_TYPE.BLOB,png:l.XHR_RESPONSE_TYPE.BLOB,bmp:l.XHR_RESPONSE_TYPE.BLOB,jpg:l.XHR_RESPONSE_TYPE.BLOB,jpeg:l.XHR_RESPONSE_TYPE.BLOB,tif:l.XHR_RESPONSE_TYPE.BLOB,tiff:l.XHR_RESPONSE_TYPE.BLOB,webp:l.XHR_RESPONSE_TYPE.BLOB,tga:l.XHR_RESPONSE_TYPE.BLOB,json:l.XHR_RESPONSE_TYPE.JSON,text:l.XHR_RESPONSE_TYPE.TEXT,txt:l.XHR_RESPONSE_TYPE.TEXT,ttf:l.XHR_RESPONSE_TYPE.BUFFER,otf:l.XHR_RESPONSE_TYPE.BUFFER},l.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",t.exports.default=l},function(t,e,r){(function(i,n){var o;!function(i){var s=i.Promise,a=s&&"resolve"in s&&"reject"in s&&"all"in s&&"race"in s&&function(){var t;return new s(function(e){t=e}),"function"==typeof t}();e?(e.Promise=a?s:I,e.Polyfill=I):void 0===(o=function(){return a?s:I}.call(e,r,e,t))||(t.exports=o);var h="pending",u="sealed",l="fulfilled",c="rejected",d=function(){};function p(t){return"[object Array]"===Object.prototype.toString.call(t)}var f,v=void 0!==n?n:setTimeout,m=[];function y(){for(var t=0;t<m.length;t++)m[t][0](m[t][1]);m=[],f=!1}function g(t,e){m.push([t,e]),f||(f=!0,v(y,0))}function _(t){var e=t.owner,r=e.state_,i=e.data_,n=t[r],o=t.then;if("function"==typeof n){r=l;try{i=n(i)}catch(t){E(o,t)}}x(o,i)||(r===l&&b(o,i),r===c&&E(o,i))}function x(t,e){var r;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var i=e.then;if("function"==typeof i)return i.call(e,function(i){r||(r=!0,e!==i?b(t,i):T(t,i))},function(e){r||(r=!0,E(t,e))}),!0}}catch(e){return r||E(t,e),!0}return!1}function b(t,e){t!==e&&x(t,e)||T(t,e)}function T(t,e){t.state_===h&&(t.state_=u,t.data_=e,g(S,t))}function E(t,e){t.state_===h&&(t.state_=u,t.data_=e,g(P,t))}function w(t){var e=t.then_;t.then_=void 0;for(var r=0;r<e.length;r++)_(e[r])}function S(t){t.state_=l,w(t)}function P(t){t.state_=c,w(t)}function I(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof I==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(t,e){function r(t){E(e,t)}try{t(function(t){b(e,t)},r)}catch(t){r(t)}}(t,this)}I.prototype={constructor:I,state_:h,then_:null,data_:void 0,then:function(t,e){var r={owner:this,then:new this.constructor(d),fulfilled:t,rejected:e};return this.state_===l||this.state_===c?g(_,r):this.then_.push(r),r.then},catch:function(t){return this.then(null,t)}},I.all=function(t){if(!p(t))throw new TypeError("You must pass an array to Promise.all().");return new this(function(e,r){var i=[],n=0;function o(t){return n++,function(r){i[t]=r,--n||e(i)}}for(var s,a=0;a<t.length;a++)(s=t[a])&&"function"==typeof s.then?s.then(o(a),r):i[a]=s;n||e(i)})},I.race=function(t){if(!p(t))throw new TypeError("You must pass an array to Promise.race().");return new this(function(e,r){for(var i,n=0;n<t.length;n++)(i=t[n])&&"function"==typeof i.then?i.then(e,r):e(i)})},I.resolve=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this(function(e){e(t)})},I.reject=function(t){return new this(function(e,r){r(t)})}}("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this)}).call(this,r(1),r(14).setImmediate)},function(t,e,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,s,a=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),h=1;h<arguments.length;h++){for(var u in r=Object(arguments[h]))n.call(r,u)&&(a[u]=r[u]);if(i){s=i(r);for(var l=0;l<s.length;l++)o.call(r,s[l])&&(a[s[l]]=r[s[l]])}}return a}},function(t,e,r){"use strict";(function(t){var e=r(11),i=r(12),n=r.n(i);
/*!
 * @pixi/polyfill - v5.0.3
 * Compiled Sun, 19 May 2019 19:03:31 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
window.Promise||(window.Promise=e.Polyfill),Object.assign||(Object.assign=n.a);var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!o.performance||!o.performance.now){var s=Date.now();o.performance||(o.performance={}),o.performance.now=function(){return Date.now()-s}}for(var a=Date.now(),h=["ms","moz","webkit","o"],u=0;u<h.length&&!o.requestAnimationFrame;++u){var l=h[u];o.requestAnimationFrame=o[l+"RequestAnimationFrame"],o.cancelAnimationFrame=o[l+"CancelAnimationFrame"]||o[l+"CancelRequestAnimationFrame"]}o.requestAnimationFrame||(o.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+a-e;return r<0&&(r=0),a=e,setTimeout(function(){a=Date.now(),t(performance.now())},r)}),o.cancelAnimationFrame||(o.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array)}).call(this,r(1))},function(t,e,r){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(n.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(n.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(15),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(1))},function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var i,n,o,s,a,h=1,u={},l=!1,c=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick(function(){f(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){f(t.data)},i=function(t){o.port2.postMessage(t)}):c&&"onreadystatechange"in c.createElement("script")?(n=c.documentElement,i=function(t){var e=c.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,n.removeChild(e),e=null},n.appendChild(e)}):i=function(t){setTimeout(f,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&f(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),i=function(e){t.postMessage(s+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var n={callback:t,args:e};return u[h]=n,i(h),h++},d.clearImmediate=p}function p(t){delete u[t]}function f(t){if(l)setTimeout(f,0,t);else{var e=u[t];if(e){l=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(r,i)}}(e)}finally{p(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r(1),r(16))},function(t,e){var r,i,n=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var h,u=[],l=!1,c=-1;function d(){l&&h&&(l=!1,h.length?u=h.concat(u):c=-1,u.length&&p())}function p(){if(!l){var t=a(d);l=!0;for(var e=u.length;e;){for(h=u,u=[];++c<e;)h&&h[c].run();c=-1,e=u.length}h=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function v(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new f(t,e)),1!==u.length||l||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=v,n.addListener=v,n.once=v,n.off=v,n.removeListener=v,n.removeAllListeners=v,n.emit=v,n.prependListener=v,n.prependOnceListener=v,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,r){(function(t,i){var n;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof i&&i;s.global!==s&&s.window!==s&&s.self;var a,h=2147483647,u=36,l=1,c=26,d=38,p=700,f=72,v=128,m="-",y=/^xn--/,g=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=u-l,T=Math.floor,E=String.fromCharCode;function w(t){throw new RangeError(x[t])}function S(t,e){for(var r=t.length,i=[];r--;)i[r]=e(t[r]);return i}function P(t,e){var r=t.split("@"),i="";return r.length>1&&(i=r[0]+"@",t=r[1]),i+S((t=t.replace(_,".")).split("."),e).join(".")}function I(t){for(var e,r,i=[],n=0,o=t.length;n<o;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<o?56320==(64512&(r=t.charCodeAt(n++)))?i.push(((1023&e)<<10)+(1023&r)+65536):(i.push(e),n--):i.push(e);return i}function A(t){return S(t,function(t){var e="";return t>65535&&(e+=E((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=E(t)}).join("")}function O(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function M(t,e,r){var i=0;for(t=r?T(t/p):t>>1,t+=T(t/e);t>b*c>>1;i+=u)t=T(t/b);return T(i+(b+1)*t/(t+d))}function C(t){var e,r,i,n,o,s,a,d,p,y,g,_=[],x=t.length,b=0,E=v,S=f;for((r=t.lastIndexOf(m))<0&&(r=0),i=0;i<r;++i)t.charCodeAt(i)>=128&&w("not-basic"),_.push(t.charCodeAt(i));for(n=r>0?r+1:0;n<x;){for(o=b,s=1,a=u;n>=x&&w("invalid-input"),((d=(g=t.charCodeAt(n++))-48<10?g-22:g-65<26?g-65:g-97<26?g-97:u)>=u||d>T((h-b)/s))&&w("overflow"),b+=d*s,!(d<(p=a<=S?l:a>=S+c?c:a-S));a+=u)s>T(h/(y=u-p))&&w("overflow"),s*=y;S=M(b-o,e=_.length+1,0==o),T(b/e)>h-E&&w("overflow"),E+=T(b/e),b%=e,_.splice(b++,0,E)}return A(_)}function D(t){var e,r,i,n,o,s,a,d,p,y,g,_,x,b,S,P=[];for(_=(t=I(t)).length,e=v,r=0,o=f,s=0;s<_;++s)(g=t[s])<128&&P.push(E(g));for(i=n=P.length,n&&P.push(m);i<_;){for(a=h,s=0;s<_;++s)(g=t[s])>=e&&g<a&&(a=g);for(a-e>T((h-r)/(x=i+1))&&w("overflow"),r+=(a-e)*x,e=a,s=0;s<_;++s)if((g=t[s])<e&&++r>h&&w("overflow"),g==e){for(d=r,p=u;!(d<(y=p<=o?l:p>=o+c?c:p-o));p+=u)S=d-y,b=u-y,P.push(E(O(y+S%b,0))),d=T(S/b);P.push(E(O(d,0))),o=M(r,x,i==n),r=0,++i}++r,++e}return P.join("")}a={version:"1.4.1",ucs2:{decode:I,encode:A},decode:C,encode:D,toASCII:function(t){return P(t,function(t){return g.test(t)?"xn--"+D(t):t})},toUnicode:function(t){return P(t,function(t){return y.test(t)?C(t.slice(4).toLowerCase()):t})}},void 0===(n=function(){return a}.call(e,r,e,t))||(t.exports=n)}()}).call(this,r(18)(t),r(1))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,r){"use strict";e.decode=e.parse=r(21),e.encode=e.stringify=r(22)},function(t,e,r){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,o){e=e||"&",r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var h=1e3;o&&"number"==typeof o.maxKeys&&(h=o.maxKeys);var u=t.length;h>0&&u>h&&(u=h);for(var l=0;l<u;++l){var c,d,p,f,v=t[l].replace(a,"%20"),m=v.indexOf(r);m>=0?(c=v.substr(0,m),d=v.substr(m+1)):(c=v,d=""),p=decodeURIComponent(c),f=decodeURIComponent(d),i(s,p)?n(s[p])?s[p].push(f):s[p]=[s[p],f]:s[p]=f}return s};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,a){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),function(s){var a=encodeURIComponent(i(s))+r;return n(t[s])?o(t[s],function(t){return a+encodeURIComponent(i(t))}).join(e):a+encodeURIComponent(i(t[s]))}).join(e):a?encodeURIComponent(i(a))+r+encodeURIComponent(i(t)):""};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var r=[],i=0;i<t.length;i++)r.push(e(t[i],i));return r}var s=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){"use strict";e.__esModule=!0,e.Loader=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),o=u(r(7)),s=u(r(8)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(9)),h=r(10);function u(t){return t&&t.__esModule?t:{default:t}}var l=/(#[\w-]+)?$/,c=e.Loader=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,r){return e._loadResource(t,r)},this._queue=a.queue(this._boundLoadResource,i),this._queue.pause(),this.resources={},this.onProgress=new o.default,this.onError=new o.default,this.onLoad=new o.default,this.onStart=new o.default,this.onComplete=new o.default;for(var n=0;n<t._defaultBeforeMiddleware.length;++n)this.pre(t._defaultBeforeMiddleware[n]);for(var s=0;s<t._defaultAfterMiddleware.length;++s)this.use(t._defaultAfterMiddleware[s])}return t.prototype.add=function(t,e,r,n){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if("object"===(void 0===t?"undefined":i(t))&&(n=e||t.callback||t.onComplete,r=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(n=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof r&&(n=r,r=null),this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new h.Resource(t,e,r),"function"==typeof n&&this.resources[t].onAfterMiddleware.once(n),this.loading){for(var s=r.parentResource,a=[],u=0;u<s.children.length;++u)s.children[u].isComplete||a.push(s.children[u]);var l=s.progressChunk*(a.length+1)/(a.length+2);s.children.push(this.resources[t]),s.progressChunk=l;for(var c=0;c<a.length;++c)a[c].progressChunk=l;this.resources[t].progressChunk=l}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},t.prototype._prepareUrl=function(t){var e=(0,s.default)(t,{strictMode:!0}),r=void 0;if(r=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var i=l.exec(r)[0];-1!==(r=r.substr(0,r.length-i.length)).indexOf("?")?r+="&"+this.defaultQueryString:r+="?"+this.defaultQueryString,r+=i}return r},t.prototype._loadResource=function(t,e){var r=this;t._dequeue=e,a.eachSeries(this._beforeMiddleware,function(e,i){e.call(r,t,function(){i(t.isComplete?{}:null)})},function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),a.eachSeries(this._afterMiddleware,function(r,i){r.call(e,t,i)},function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},n(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();c._defaultBeforeMiddleware=[],c._defaultAfterMiddleware=[],c.pre=function(t){return c._defaultBeforeMiddleware.push(t),c},c.use=function(t){return c._defaultAfterMiddleware.push(t),c}},function(t,e,r){"use strict";e.__esModule=!0,e.encodeBinary=n;var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],o=[0,0,0,0],s=0;s<n.length;++s)r<t.length?n[s]=255&t.charCodeAt(r++):n[s]=0;switch(o[0]=n[0]>>2,o[1]=(3&n[0])<<4|n[1]>>4,o[2]=(15&n[1])<<2|n[2]>>6,o[3]=63&n[2],r-(t.length-1)){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var a=0;a<o.length;++a)e+=i.charAt(o[a])}return e}t.exports.default=n},function(t,e,r){var i=r(4);"string"==typeof i&&(i=[[t.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0},o=r(26)(i,n);i.locals&&(t.exports=i.locals),t.hot.accept(4,function(){var e=r(4);if("string"==typeof e&&(e=[[t.i,e,""]]),!function(t,e){var r,i=0;for(r in t){if(!e||t[r]!==e[r])return!1;i++}for(r in e)i--;return 0===i}(i.locals,e.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(e)}),t.hot.dispose(function(){o()})},function(t,e,r){var i,n,o={},s=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===n&&(n=i.apply(this,arguments)),n}),a=function(t){var e={};return function(t,r){if("function"==typeof t)return t();if(void 0===e[t]){var i=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,r);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),h=null,u=0,l=[],c=r(27);function d(t,e){for(var r=0;r<t.length;r++){var i=t[r],n=o[i.id];if(n){n.refs++;for(var s=0;s<n.parts.length;s++)n.parts[s](i.parts[s]);for(;s<i.parts.length;s++)n.parts.push(g(i.parts[s],e))}else{var a=[];for(s=0;s<i.parts.length;s++)a.push(g(i.parts[s],e));o[i.id]={id:i.id,refs:1,parts:a}}}}function p(t,e){for(var r=[],i={},n=0;n<t.length;n++){var o=t[n],s=e.base?o[0]+e.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};i[s]?i[s].parts.push(a):r.push(i[s]={id:s,parts:[a]})}return r}function f(t,e){var r=a(t.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=l[l.length-1];if("top"===t.insertAt)i?i.nextSibling?r.insertBefore(e,i.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),l.push(e);else if("bottom"===t.insertAt)r.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var n=a(t.insertAt.before,r);r.insertBefore(e,n)}}function v(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function m(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=function(){0;return r.nc}();i&&(t.attrs.nonce=i)}return y(e,t.attrs),f(t,e),e}function y(t,e){Object.keys(e).forEach(function(r){t.setAttribute(r,e[r])})}function g(t,e){var r,i,n,o;if(e.transform&&t.css){if(!(o="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var s=u++;r=h||(h=m(e)),i=b.bind(null,r,s,!1),n=b.bind(null,r,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),f(t,e),e}(e),i=function(t,e,r){var i=r.css,n=r.sourceMap,o=void 0===e.convertToAbsoluteUrls&&n;(e.convertToAbsoluteUrls||o)&&(i=c(i));n&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var s=new Blob([i],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,r,e),n=function(){v(r),r.href&&URL.revokeObjectURL(r.href)}):(r=m(e),i=function(t,e){var r=e.css,i=e.media;i&&t.setAttribute("media",i);if(t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}.bind(null,r),n=function(){v(r)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else n()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var r=p(t,e);return d(r,e),function(t){for(var i=[],n=0;n<r.length;n++){var s=r[n];(a=o[s.id]).refs--,i.push(a)}t&&d(p(t,e),e);for(n=0;n<i.length;n++){var a;if(0===(a=i[n]).refs){for(var h=0;h<a.parts.length;h++)a.parts[h]();delete o[a.id]}}}};var _,x=(_=[],function(t,e){return _[t]=e,_.filter(Boolean).join("\n")});function b(t,e,r,i){var n=r?"":i.css;if(t.styleSheet)t.styleSheet.cssText=x(e,n);else{var o=document.createTextNode(n),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var r=e.protocol+"//"+e.host,i=r+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var n,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(n=0===o.indexOf("//")?o:0===o.indexOf("/")?r+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}},function(t,e,r){"use strict";r.r(e);var i={};r.r(i),r.d(i,"isMobile",function(){return l.a}),r.d(i,"EventEmitter",function(){return p.a}),r.d(i,"earcut",function(){return v.a}),r.d(i,"url",function(){return y.a}),r.d(i,"BaseTextureCache",function(){return et}),r.d(i,"CanvasRenderTarget",function(){return ot}),r.d(i,"DATA_URI",function(){return ht}),r.d(i,"ProgramCache",function(){return $}),r.d(i,"TextureCache",function(){return tt}),r.d(i,"clearTextureCache",function(){return it}),r.d(i,"correctBlendMode",function(){return j}),r.d(i,"createIndicesForQuads",function(){return z}),r.d(i,"decomposeDataUri",function(){return ut}),r.d(i,"deprecation",function(){return pt}),r.d(i,"destroyTextureCache",function(){return rt}),r.d(i,"determineCrossOrigin",function(){return lt}),r.d(i,"getResolutionOfUrl",function(){return ct}),r.d(i,"hex2rgb",function(){return N}),r.d(i,"hex2string",function(){return U}),r.d(i,"isPow2",function(){return J}),r.d(i,"isWebGLSupported",function(){return F}),r.d(i,"log2",function(){return Q}),r.d(i,"nextPow2",function(){return K}),r.d(i,"premultiplyBlendMode",function(){return X}),r.d(i,"premultiplyRgba",function(){return H}),r.d(i,"premultiplyTint",function(){return G}),r.d(i,"premultiplyTintToRgba",function(){return Y}),r.d(i,"removeItems",function(){return V}),r.d(i,"rgb2hex",function(){return k}),r.d(i,"sayHello",function(){return L}),r.d(i,"sign",function(){return Z}),r.d(i,"skipHello",function(){return R}),r.d(i,"string2hex",function(){return B}),r.d(i,"trimCanvas",function(){return nt}),r.d(i,"uid",function(){return q});var n={};r.r(n),r.d(n,"AccessibilityManager",function(){return zt}),r.d(n,"accessibleTarget",function(){return Yt});var o={};r.r(o),r.d(o,"Extract",function(){return ui});var s={};r.r(s),r.d(s,"InteractionData",function(){return li}),r.d(s,"InteractionEvent",function(){return di}),r.d(s,"InteractionManager",function(){return gi}),r.d(s,"InteractionTrackingData",function(){return pi}),r.d(s,"interactiveTarget",function(){return vi});var a={};r.r(a),r.d(a,"BasePrepare",function(){return nn}),r.d(a,"CountLimiter",function(){return rn}),r.d(a,"Prepare",function(){return dn}),r.d(a,"TimeLimiter",function(){return mn});var h={};r.r(h),r.d(h,"accessibility",function(){return n}),r.d(h,"extract",function(){return o}),r.d(h,"interaction",function(){return s}),r.d(h,"prepare",function(){return a}),r.d(h,"utils",function(){return i}),r.d(h,"VERSION",function(){return Fo}),r.d(h,"filters",function(){return No}),r.d(h,"useDeprecated",function(){return Lo}),r.d(h,"Application",function(){return yn}),r.d(h,"AbstractRenderer",function(){return Wr}),r.d(h,"Attribute",function(){return Se}),r.d(h,"BaseRenderTexture",function(){return _e}),r.d(h,"BaseTexture",function(){return he}),r.d(h,"BatchDrawCall",function(){return ti}),r.d(h,"BatchGeometry",function(){return $r}),r.d(h,"BatchRenderer",function(){return ai}),r.d(h,"Buffer",function(){return Ie}),r.d(h,"CubeTexture",function(){return Qr}),r.d(h,"Filter",function(){return br}),r.d(h,"Framebuffer",function(){return ye}),r.d(h,"GLProgram",function(){return Rr}),r.d(h,"GLTexture",function(){return he}),r.d(h,"Geometry",function(){return Re}),r.d(h,"ObjectRenderer",function(){return Xe}),r.d(h,"Program",function(){return vr}),r.d(h,"Quad",function(){return Le}),r.d(h,"QuadUv",function(){return Fe}),r.d(h,"RenderTexture",function(){return we}),r.d(h,"Renderer",function(){return qr}),r.d(h,"Shader",function(){return yr}),r.d(h,"SpriteMaskFilter",function(){return Ir}),r.d(h,"State",function(){return _r}),r.d(h,"System",function(){return ve}),r.d(h,"Texture",function(){return Te}),r.d(h,"TextureMatrix",function(){return Sr}),r.d(h,"TextureUvs",function(){return xe}),r.d(h,"UniformGroup",function(){return Ue}),r.d(h,"autoDetectRenderer",function(){return Zr}),r.d(h,"checkMaxIfStatementsInShader",function(){return cr}),r.d(h,"defaultFilterVertex",function(){return Jr}),r.d(h,"defaultVertex",function(){return Kr}),r.d(h,"generateMultiTextureShader",function(){return si}),r.d(h,"resources",function(){return fe}),r.d(h,"systems",function(){return zr}),r.d(h,"AppLoaderPlugin",function(){return Dn}),r.d(h,"Loader",function(){return Cn}),r.d(h,"LoaderResource",function(){return Rn}),r.d(h,"TextureLoader",function(){return Mn}),r.d(h,"ParticleContainer",function(){return Ln}),r.d(h,"ParticleRenderer",function(){return Bn}),r.d(h,"Spritesheet",function(){return kn}),r.d(h,"SpritesheetLoader",function(){return jn}),r.d(h,"TilingSprite",function(){return Gn}),r.d(h,"TilingSpriteRenderer",function(){return qn}),r.d(h,"BitmapFontLoader",function(){return Kn}),r.d(h,"BitmapText",function(){return Zn}),r.d(h,"Ticker",function(){return Kt}),r.d(h,"TickerPlugin",function(){return $t}),r.d(h,"UPDATE_PRIORITY",function(){return qt}),r.d(h,"BLEND_MODES",function(){return x}),r.d(h,"DRAW_MODES",function(){return b}),r.d(h,"ENV",function(){return g}),r.d(h,"FORMATS",function(){return T}),r.d(h,"GC_MODES",function(){return A}),r.d(h,"MIPMAP_MODES",function(){return I}),r.d(h,"PRECISION",function(){return O}),r.d(h,"RENDERER_TYPE",function(){return _}),r.d(h,"SCALE_MODES",function(){return S}),r.d(h,"TARGETS",function(){return E}),r.d(h,"TYPES",function(){return w}),r.d(h,"WRAP_MODES",function(){return P}),r.d(h,"Bounds",function(){return Xt}),r.d(h,"Container",function(){return Gt}),r.d(h,"DisplayObject",function(){return jt}),r.d(h,"FillStyle",function(){return xi}),r.d(h,"GRAPHICS_CURVES",function(){return _i}),r.d(h,"Graphics",function(){return Xi}),r.d(h,"GraphicsData",function(){return bi}),r.d(h,"GraphicsGeometry",function(){return Di}),r.d(h,"LineStyle",function(){return Ri}),r.d(h,"Circle",function(){return Nt}),r.d(h,"DEG_TO_RAD",function(){return _t}),r.d(h,"Ellipse",function(){return Ut}),r.d(h,"GroupD8",function(){return Mt}),r.d(h,"Matrix",function(){return bt}),r.d(h,"ObservablePoint",function(){return vt}),r.d(h,"PI_2",function(){return yt}),r.d(h,"Point",function(){return ft}),r.d(h,"Polygon",function(){return Bt}),r.d(h,"RAD_TO_DEG",function(){return gt}),r.d(h,"Rectangle",function(){return Rt}),r.d(h,"RoundedRectangle",function(){return kt}),r.d(h,"SHAPES",function(){return xt}),r.d(h,"Transform",function(){return Ct}),r.d(h,"Mesh",function(){return xo}),r.d(h,"MeshBatchUvs",function(){return yo}),r.d(h,"MeshGeometry",function(){return wo}),r.d(h,"MeshMaterial",function(){return Eo}),r.d(h,"NineSlicePlane",function(){return Co}),r.d(h,"PlaneGeometry",function(){return So}),r.d(h,"RopeGeometry",function(){return Po}),r.d(h,"SimpleMesh",function(){return Oo}),r.d(h,"SimplePlane",function(){return Ao}),r.d(h,"SimpleRope",function(){return Io}),r.d(h,"Runner",function(){return Vt}),r.d(h,"Sprite",function(){return Gi}),r.d(h,"AnimatedSprite",function(){return Do}),r.d(h,"TEXT_GRADIENT",function(){return Yi}),r.d(h,"Text",function(){return en}),r.d(h,"TextMetrics",function(){return Qi}),r.d(h,"TextStyle",function(){return Wi}),r.d(h,"isMobile",function(){return l.a}),r.d(h,"settings",function(){return c});r(13);var u=r(0),l=r.n(u);var c={MIPMAP_TEXTURES:1,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:
/*!
 * @pixi/settings - v5.0.3
 * Compiled Sun, 19 May 2019 19:03:31 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
function(t){var e=!0;if(l.a.tablet||l.a.phone){if(e=!1,l.a.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)>=11&&(e=!0)}if(l.a.android.device){var i=navigator.userAgent.match(/Android\s([0-9.]*)/);i&&parseInt(i[1],10)>=7&&(e=!0)}}return e?t:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:l.a.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!l.a.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},d=r(5),p=r.n(d),f=r(6),v=r.n(f),m=r(2),y=r.n(m),g={WEBGL_LEGACY:0,WEBGL:1,WEBGL2:2},_={UNKNOWN:0,WEBGL:1,CANVAS:2},x={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19,NONE:20,SRC_OVER:0,SRC_IN:21,SRC_OUT:22,SRC_ATOP:23,DST_OVER:24,DST_IN:25,DST_OUT:26,DST_ATOP:27,ERASE:26,SUBTRACT:28},b={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},T={RGBA:6408,RGB:6407,ALPHA:6406,LUMINANCE:6409,LUMINANCE_ALPHA:6410,DEPTH_COMPONENT:6402,DEPTH_STENCIL:34041},E={TEXTURE_2D:3553,TEXTURE_CUBE_MAP:34067,TEXTURE_2D_ARRAY:35866,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074},w={UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_5_6_5:33635,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,FLOAT:5126,HALF_FLOAT:36193},S={LINEAR:1,NEAREST:0},P={CLAMP:33071,REPEAT:10497,MIRRORED_REPEAT:33648},I={OFF:0,POW2:1,ON:2},A={AUTO:0,MANUAL:1},O={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"};
/*!
 * @pixi/utils - v5.0.3
 * Compiled Sun, 19 May 2019 19:03:31 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
c.RETINA_PREFIX=/@([0-9\.]+)x/;var M,C=!1,D="5.0.3";function R(){C=!0}function L(t){if(!C){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+D+" -  "+t+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+D+" - "+t+" - http://www.pixijs.com/");C=!0}}function F(){return void 0===M&&(M=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!(!r||!r.getContextAttributes().stencil);if(r){var n=r.getExtension("WEBGL_lose_context");n&&n.loseContext()}return r=null,i}catch(t){return!1}}()),M}function N(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function U(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)}function B(t){return"string"==typeof t&&"#"===t[0]&&(t=t.substr(1)),parseInt(t,16)}function k(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}var X=function(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[x.NORMAL_NPM]=x.NORMAL,t[x.ADD_NPM]=x.ADD,t[x.SCREEN_NPM]=x.SCREEN,e[x.NORMAL]=x.NORMAL_NPM,e[x.ADD]=x.ADD_NPM,e[x.SCREEN]=x.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i}();function j(t,e){return X[e?1:0][t]}function H(t,e,r,i){return r=r||new Float32Array(4),i||void 0===i?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function G(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var r=t>>16&255,i=t>>8&255,n=255&t;return(255*e<<24)+((r=r*e+.5|0)<<16)+((i=i*e+.5|0)<<8)+(n=n*e+.5|0)}function Y(t,e,r,i){return(r=r||new Float32Array(4))[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(255&t)/255,(i||void 0===i)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function z(t){for(var e=6*t,r=new Uint16Array(e),i=0,n=0;i<e;i+=6,n+=4)r[i+0]=n+0,r[i+1]=n+1,r[i+2]=n+2,r[i+3]=n+0,r[i+4]=n+2,r[i+5]=n+3;return r}function V(t,e,r){var i,n=t.length;if(!(e>=n||0===r)){var o=n-(r=e+r>n?n-e:r);for(i=e;i<o;++i)t[i]=t[i+r];t.length=o}}var W=0;function q(){return++W}function Z(t){return 0===t?0:t<0?-1:1}function K(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function J(t){return!(t&t-1||!t)}function Q(t){var e=(t>65535)<<4,r=((t>>>=e)>255)<<3;return e|=r,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1}var $={},tt=Object.create(null),et=Object.create(null);function rt(){var t;for(t in tt)tt[t].destroy();for(t in et)et[t].destroy()}function it(){var t;for(t in tt)delete tt[t];for(t in et)delete et[t]}function nt(t){var e,r,i,n=t.width,o=t.height,s=t.getContext("2d"),a=s.getImageData(0,0,n,o).data,h=a.length,u={top:null,left:null,right:null,bottom:null},l=null;for(e=0;e<h;e+=4)0!==a[e+3]&&(r=e/4%n,i=~~(e/4/n),null===u.top&&(u.top=i),null===u.left?u.left=r:r<u.left&&(u.left=r),null===u.right?u.right=r+1:u.right<r&&(u.right=r+1),null===u.bottom?u.bottom=i:u.bottom<i&&(u.bottom=i));return null!==u.top&&(n=u.right-u.left,o=u.bottom-u.top+1,l=s.getImageData(u.left,u.top,n,o)),{height:o,width:n,data:l}}var ot=function(t,e,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||c.RESOLUTION,this.resize(t,e)},st={width:{configurable:!0},height:{configurable:!0}};ot.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},ot.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},ot.prototype.destroy=function(){this.context=null,this.canvas=null},st.width.get=function(){return this.canvas.width},st.width.set=function(t){this.canvas.width=t},st.height.get=function(){return this.canvas.height},st.height.set=function(t){this.canvas.height=t},Object.defineProperties(ot.prototype,st);var at,ht=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function ut(t){var e=ht.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function lt(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,at||(at=document.createElement("a")),at.href=t;var r=!(t=y.a.parse(at.href)).port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&r&&t.protocol===e.protocol?"":"anonymous"}function ct(t,e){var r=c.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):void 0!==e?e:1}var dt={};function pt(t,e,r){if(void 0===r&&(r=3),!dt[e]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(i=i.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(i))),dt[e]=!0}}
/*!
 * @pixi/math - v5.0.3
 * Compiled Sun, 19 May 2019 19:03:31 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ft=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e};ft.prototype.clone=function(){return new ft(this.x,this.y)},ft.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},ft.prototype.copyTo=function(t){return t.set(this.x,this.y),t},ft.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},ft.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)};var vt=function(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0),this._x=r,this._y=i,this.cb=t,this.scope=e},mt={x:{configurable:!0},y:{configurable:!0}};vt.prototype.clone=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var r=t||this.cb,i=e||this.scope;return new vt(r,i,this._x,this._y)},vt.prototype.set=function(t,e){var r=t||0,i=e||(0!==e?r:0);this._x===r&&this._y===i||(this._x=r,this._y=i,this.cb.call(this.scope))},vt.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},vt.prototype.copyTo=function(t){return t.set(this._x,this._y),t},vt.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},mt.x.get=function(){return this._x},mt.x.set=function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},mt.y.get=function(){return this._y},mt.y.set=function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},Object.defineProperties(vt.prototype,mt);var yt=2*Math.PI,gt=180/Math.PI,_t=Math.PI/180,xt={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},bt=function(t,e,r,i,n,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o,this.array=null},Tt={IDENTITY:{configurable:!0},TEMP_MATRIX:{configurable:!0}};bt.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},bt.prototype.set=function(t,e,r,i,n,o){return this.a=t,this.b=e,this.c=r,this.d=i,this.tx=n,this.ty=o,this},bt.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var r=e||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},bt.prototype.apply=function(t,e){e=e||new ft;var r=t.x,i=t.y;return e.x=this.a*r+this.c*i+this.tx,e.y=this.b*r+this.d*i+this.ty,e},bt.prototype.applyInverse=function(t,e){e=e||new ft;var r=1/(this.a*this.d+this.c*-this.b),i=t.x,n=t.y;return e.x=this.d*r*i+-this.c*r*n+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*n+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,e},bt.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},bt.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},bt.prototype.rotate=function(t){var e=Math.cos(t),r=Math.sin(t),i=this.a,n=this.c,o=this.tx;return this.a=i*e-this.b*r,this.b=i*r+this.b*e,this.c=n*e-this.d*r,this.d=n*r+this.d*e,this.tx=o*e-this.ty*r,this.ty=o*r+this.ty*e,this},bt.prototype.append=function(t){var e=this.a,r=this.b,i=this.c,n=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*r+t.b*n,this.c=t.c*e+t.d*i,this.d=t.c*r+t.d*n,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*r+t.ty*n+this.ty,this},bt.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){return this.a=Math.cos(s+h)*n,this.b=Math.sin(s+h)*n,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(r*this.a+i*this.c),this.ty=e-(r*this.b+i*this.d),this},bt.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var r=this.a,i=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},bt.prototype.decompose=function(t){var e=this.a,r=this.b,i=this.c,n=this.d,o=-Math.atan2(-i,n),s=Math.atan2(r,e),a=Math.abs(o+s);return a<1e-5||Math.abs(yt-a)<1e-5?(t.rotation=s,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+r*r),t.scale.y=Math.sqrt(i*i+n*n),t.position.x=this.tx,t.position.y=this.ty,t},bt.prototype.invert=function(){var t=this.a,e=this.b,r=this.c,i=this.d,n=this.tx,o=t*i-e*r;return this.a=i/o,this.b=-e/o,this.c=-r/o,this.d=t/o,this.tx=(r*this.ty-i*n)/o,this.ty=-(t*this.ty-e*n)/o,this},bt.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},bt.prototype.clone=function(){var t=new bt;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},bt.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},bt.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Tt.IDENTITY.get=function(){return new bt},Tt.TEMP_MATRIX.get=function(){return new bt},Object.defineProperties(bt,Tt);var Et=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],wt=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],St=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Pt=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],It=[],At=[];function Ot(t){return t<0?-1:t>0?1:0}!function(){for(var t=0;t<16;t++){var e=[];At.push(e);for(var r=0;r<16;r++)for(var i=Ot(Et[t]*Et[r]+St[t]*wt[r]),n=Ot(wt[t]*Et[r]+Pt[t]*wt[r]),o=Ot(Et[t]*St[r]+St[t]*Pt[r]),s=Ot(wt[t]*St[r]+Pt[t]*Pt[r]),a=0;a<16;a++)if(Et[a]===i&&wt[a]===n&&St[a]===o&&Pt[a]===s){e.push(a);break}}for(var h=0;h<16;h++){var u=new bt;u.set(Et[h],wt[h],St[h],Pt[h],0,0),It.push(u)}}();var Mt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return Et[t]},uY:function(t){return wt[t]},vX:function(t){return St[t]},vY:function(t){return Pt[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return At[t][e]},sub:function(t,e){return At[t][Mt.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?Mt.S:Mt.N:2*Math.abs(e)<=Math.abs(t)?t>0?Mt.E:Mt.W:e>0?t>0?Mt.SE:Mt.SW:t>0?Mt.NE:Mt.NW},matrixAppendRotationInv:function(t,e,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var n=It[Mt.inv(e)];n.tx=r,n.ty=i,t.append(n)}},Ct=function(){this.worldTransform=new bt,this.localTransform=new bt,this.position=new vt(this.onChange,this,0,0),this.scale=new vt(this.onChange,this,1,1),this.pivot=new vt(this.onChange,this,0,0),this.skew=new vt(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0},Dt={rotation:{configurable:!0}};Ct.prototype.onChange=function(){this._localID++},Ct.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},Ct.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},Ct.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}},Ct.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Dt.rotation.get=function(){return this._rotation},Dt.rotation.set=function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},Object.defineProperties(Ct.prototype,Dt),Ct.IDENTITY=new Ct;var Rt=function(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=Number(t),this.y=Number(e),this.width=Number(r),this.height=Number(i),this.type=xt.RECT},Lt={left:{configurable:!0},right:{configurable:!0},top:{configurable:!0},bottom:{configurable:!0}},Ft={EMPTY:{configurable:!0}};Lt.left.get=function(){return this.x},Lt.right.get=function(){return this.x+this.width},Lt.top.get=function(){return this.y},Lt.bottom.get=function(){return this.y+this.height},Ft.EMPTY.get=function(){return new Rt(0,0,0,0)},Rt.prototype.clone=function(){return new Rt(this.x,this.y,this.width,this.height)},Rt.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},Rt.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},Rt.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},Rt.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},Rt.prototype.fit=function(t){var e=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),n=Math.min(this.y+this.height,t.y+t.height);this.x=e,this.width=Math.max(r-e,0),this.y=i,this.height=Math.max(n-i,0)},Rt.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var r=Math.ceil((this.x+this.width-e)*t)/t,i=Math.ceil((this.y+this.height-e)*t)/t;this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=r-this.x,this.height=i-this.y},Rt.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=r-e,this.y=i,this.height=n-i},Object.defineProperties(Rt.prototype,Lt),Object.defineProperties(Rt,Ft);var Nt=function(t,e,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),this.x=t,this.y=e,this.radius=r,this.type=xt.CIRC};Nt.prototype.clone=function(){return new Nt(this.x,this.y,this.radius)},Nt.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.radius*this.radius,i=this.x-t,n=this.y-e;return(i*=i)+(n*=n)<=r},Nt.prototype.getBounds=function(){return new Rt(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)};var Ut=function(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=t,this.y=e,this.width=r,this.height=i,this.type=xt.ELIP};Ut.prototype.clone=function(){return new Ut(this.x,this.y,this.width,this.height)},Ut.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var r=(t-this.x)/this.width,i=(e-this.y)/this.height;return(r*=r)+(i*=i)<=1},Ut.prototype.getBounds=function(){return new Rt(this.x-this.width,this.y-this.height,this.width,this.height)};var Bt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(Array.isArray(t[0])&&(t=t[0]),t[0]instanceof ft){for(var r=[],i=0,n=t.length;i<n;i++)r.push(t[i].x,t[i].y);t=r}this.points=t,this.type=xt.POLY,this.closeStroke=!0};Bt.prototype.clone=function(){var t=new Bt(this.points.slice());return t.closeStroke=this.closeStroke,t},Bt.prototype.contains=function(t,e){for(var r=!1,i=this.points.length/2,n=0,o=i-1;n<i;o=n++){var s=this.points[2*n],a=this.points[2*n+1],h=this.points[2*o],u=this.points[2*o+1];a>e!=u>e&&t<(e-a)/(u-a)*(h-s)+s&&(r=!r)}return r};var kt=function(t,e,r,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=20),this.x=t,this.y=e,this.width=r,this.height=i,this.radius=n,this.type=xt.RREC};kt.prototype.clone=function(){return new kt(this.x,this.y,this.width,this.height,this.radius)},kt.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var r=t-(this.x+this.radius),i=e-(this.y+this.radius),n=this.radius*this.radius;if(r*r+i*i<=n)return!0;if((r=t-(this.x+this.width-this.radius))*r+i*i<=n)return!0;if(r*r+(i=e-(this.y+this.height-this.radius))*i<=n)return!0;if((r=t-(this.x+this.radius))*r+i*i<=n)return!0}return!1},
/*!
 * @pixi/display - v5.0.3
 * Compiled Sun, 19 May 2019 19:03:31 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
c.SORTABLE_CHILDREN=!1;var Xt=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null};Xt.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},Xt.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},Xt.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?Rt.EMPTY:((t=t||new Rt(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},Xt.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},Xt.prototype.addQuad=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY,o=t[0],s=t[1];e=o<e?o:e,r=s<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[2])<e?o:e,r=(s=t[3])<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[4])<e?o:e,r=(s=t[5])<r?s:r,i=o>i?o:i,n=s>n?s:n,e=(o=t[6])<e?o:e,r=(s=t[7])<r?s:r,i=o>i?o:i,n=s>n?s:n,this.minX=e,this.minY=r,this.maxX=i,this.maxY=n},Xt.prototype.addFrame=function(t,e,r,i,n){var o=t.worldTransform,s=o.a,a=o.b,h=o.c,u=o.d,l=o.tx,c=o.ty,d=this.minX,p=this.minY,f=this.maxX,v=this.maxY,m=s*e+h*r+l,y=a*e+u*r+c;d=m<d?m:d,p=y<p?y:p,f=m>f?m:f,v=y>v?y:v,d=(m=s*i+h*r+l)<d?m:d,p=(y=a*i+u*r+c)<p?y:p,f=m>f?m:f,v=y>v?y:v,d=(m=s*e+h*n+l)<d?m:d,p=(y=a*e+u*n+c)<p?y:p,f=m>f?m:f,v=y>v?y:v,d=(m=s*i+h*n+l)<d?m:d,p=(y=a*i+u*n+c)<p?y:p,f=m>f?m:f,v=y>v?y:v,this.minX=d,this.minY=p,this.maxX=f,this.maxY=v},Xt.prototype.addVertexData=function(t,e,r){for(var i=this.minX,n=this.minY,o=this.maxX,s=this.maxY,a=e;a<r;a+=2){var h=t[a],u=t[a+1];i=h<i?h:i,n=u<n?u:n,o=h>o?h:o,s=u>s?u:s}this.minX=i,this.minY=n,this.maxX=o,this.maxY=s},Xt.prototype.addVertices=function(t,e,r,i){for(var n=t.worldTransform,o=n.a,s=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,c=this.minX,d=this.minY,p=this.maxX,f=this.maxY,v=r;v<i;v+=2){var m=e[v],y=e[v+1],g=o*m+a*y+u,_=h*y+s*m+l;c=g<c?g:c,d=_<d?_:d,p=g>p?g:p,f=_>f?_:f}this.minX=c,this.minY=d,this.maxX=p,this.maxY=f},Xt.prototype.addBounds=function(t){var e=this.minX,r=this.minY,i=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<r?t.minY:r,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>n?t.maxY:n},Xt.prototype.addBoundsMask=function(t,e){var r=t.minX>e.minX?t.minX:e.minX,i=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(r<=n&&i<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}},Xt.prototype.addBoundsArea=function(t,e){var r=t.minX>e.x?t.minX:e.x,i=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(r<=n&&i<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=r<s?r:s,this.minY=i<a?i:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}};var jt=function(t){function e(){t.call(this),this.tempDisplayObjectParent=null,this.transform=new Ct,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Xt,this._boundsID=0,this._lastBoundsID=-1,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._destroyed=!1,this.isSprite=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={_tempDisplayObjectParent:{configurable:!0},x:{configurable:!0},y:{configurable:!0},worldTransform:{configurable:!0},localTransform:{configurable:!0},position:{configurable:!0},scale:{configurable:!0},pivot:{configurable:!0},skew:{configurable:!0},rotation:{configurable:!0},angle:{configurable:!0},zIndex:{configurable:!0},worldVisible:{configurable:!0},mask:{configurable:!0}};return e.mixin=function(t){for(var r=Object.keys(t),i=0;i<r.length;++i){var n=r[i];Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t,n))}},r._tempDisplayObjectParent.get=function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent},e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new Rt),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new Rt),t=this._localBoundsRect);var i=this.getBounds(!1,t);return this.parent=r,this.transform=e,i},e.prototype.toGlobal=function(t,e,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,r,i){return e&&(t=e.toGlobal(t,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},e.prototype.render=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,r,i,n,o,s,a,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=h,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},r.x.get=function(){return this.position.x},r.x.set=function(t){this.transform.position.x=t},r.y.get=function(){return this.position.y},r.y.set=function(t){this.transform.position.y=t},r.worldTransform.get=function(){return this.transform.worldTransform},r.localTransform.get=function(){return this.transform.localTransform},r.position.get=function(){return this.transform.position},r.position.set=function(t){this.transform.position.copyFrom(t)},r.scale.get=function(){return this.transform.scale},r.scale.set=function(t){this.transform.scale.copyFrom(t)},r.pivot.get=function(){return this.transform.pivot},r.pivot.set=function(t){this.transform.pivot.copyFrom(t)},r.skew.get=function(){return this.transform.skew},r.skew.set=function(t){this.transform.skew.copyFrom(t)},r.rotation.get=function(){return this.transform.rotation},r.rotation.set=function(t){this.transform.rotation=t},r.angle.get=function(){return this.transform.rotation*gt},r.angle.set=function(t){this.transform.rotation=t*_t},r.zIndex.get=function(){return this._zIndex},r.zIndex.set=function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},r.worldVisible.get=function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},r.mask.get=function(){return this._mask},r.mask.set=function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)},Object.defineProperties(e.prototype,r),e}(p.a);function Ht(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}jt.prototype.displayObjectUpdateTransform=jt.prototype.updateTransform;var Gt=function(t){function e(){t.call(this),this.children=[],this.sortableChildren=c.SORTABLE_CHILDREN,this.sortDirty=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={width:{configurable:!0},height:{configurable:!0}};return e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments,r=arguments.length;if(r>1)for(var i=0;i<r;i++)this.addChild(e[i]);else t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var r=this.getChildIndex(t),i=this.getChildIndex(e);this.children[r]=e,this.children[i]=t,this.onChildrenChange(r<i?r:i)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(t);V(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments,r=arguments.length;if(r>1)for(var i=0;i<r;i++)this.removeChild(e[i]);else{var n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,V(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this),this.emit("childRemoved",t,this,n)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,V(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0);var r,i=t,n="number"==typeof e?e:this.children.length,o=n-i;if(o>0&&o<=n){r=this.children.splice(i,o);for(var s=0;s<r.length;++s)r[s].parent=null,r[s].transform&&(r[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<r.length;++a)r[a].emit("removed",this),this.emit("childRemoved",r[a],this,a);return r}if(0===o&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,r=this.children.length;e<r;++e){var i=this.children[e];i._lastSortedIndex=e,t||0===i.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(Ht),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var r=this.children[t];r.visible&&r.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters)this.renderAdvanced(t);else{this._render(t);for(var e=0,r=this.children.length;e<r;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var i=0;i<e.length;i++)e[i].enabled&&this._enabledFilters.push(e[i]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}r&&t.mask.push(this,this._mask),this._render(t);for(var n=0,o=this.children.length;n<o;n++)this.children[n].render(t);t.batch.flush(),r&&t.mask.pop(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"==typeof e?e:e&&e.children,i=this.removeChildren(0,this.children.length);if(r)for(var n=0;n<i.length;++n)i[n].destroy(e)},r.width.get=function(){return this.scale.x*this.getLocalBounds().width},r.width.set=function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},r.height.get=function(){return this.scale.y*this.getLocalBounds().height},r.height.set=function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},Object.defineProperties(e.prototype,r),e}(jt);Gt.prototype.containerUpdateTransform=Gt.prototype.updateTransform;
/*!
 * @pixi/accessibility - v5.0.3
 * Compiled Sun, 19 May 2019 19:03:31 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Yt={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1};jt.mixin(Yt);var zt=function(t){this._hookDiv=null,(l.a.tablet||l.a.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2,this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessibility=!1,window.addEventListener("keydown",this._onKeyDown,!1)};zt.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},zt.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},zt.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},zt.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessibility&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},zt.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,r=0;r<e.length;r++)this.updateAccessibleObjects(e[r])}},zt.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,r=t.height/this.renderer.height,i=this.div;i.style.left=t.left+"px",i.style.top=t.top+"px",i.style.width=this.renderer.width+"px",i.style.height=this.renderer.height+"px";for(var n=0;n<this.children.length;n++){var o=this.children[n];if(o.renderId!==this.renderId)o._accessibleActive=!1,V(this.children,n,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,n--,0===this.children.length&&this.deactivate();else{i=o._accessibleDiv;var s=o.hitArea,a=o.worldTransform;o.hitArea?(i.style.left=(a.tx+s.x*a.a)*e+"px",i.style.top=(a.ty+s.y*a.d)*r+"px",i.style.width=s.width*a.a*e+"px",i.style.height=s.height*a.d*r+"px"):(s=o.getBounds(),this.capHitArea(s),i.style.left=s.x*e+"px",i.style.top=s.y*r+"px",i.style.width=s.width*e+"px",i.style.height=s.height*r+"px",i.title!==o.accessibleTitle&&null!==o.accessibleTitle&&(i.title=o.accessibleTitle),i.getAttribute("aria-label")!==o.accessibleHint&&null!==o.accessibleHint&&i.setAttribute("aria-label",o.accessibleHint))}}this.renderId++}},zt.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},zt.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2,e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},zt.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},zt.prototype._onFocus=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},zt.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},zt.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},zt.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},zt.prototype.destroy=function(){this.destroyTouchHook(),this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null};
/*!
 * @pixi/runner - v5.0.3
 * Compiled Sun, 19 May 2019 19:03:31 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Vt=function(t){this.items=[],this._name=t},Wt={empty:{configurable:!0},name:{configurable:!0}};Vt.prototype.emit=function(t,e,r,i,n,o,s,a){if(arguments.length>8)throw new Error("max arguments reached");for(var h=this.name,u=this.items,l=0,c=u.length;l<c;l++)u[l][h](t,e,r,i,n,o,s,a);return this},Vt.prototype.add=function(t){return t[this._name]&&(this.remove(t),this.items.push(t)),this},Vt.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&this.items.splice(e,1),this},Vt.prototype.contains=function(t){return-1!==this.items.indexOf(t)},Vt.prototype.removeAll=function(){return this.items.length=0,this},Vt.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Wt.empty.get=function(){return 0===this.items.length},Wt.name.get=function(){return this._name},Object.defineProperties(Vt.prototype,Wt),Vt.prototype.dispatch=Vt.prototype.emit,Vt.prototype.run=Vt.prototype.emit,
/*!
 * @pixi/ticker - v5.0.3
 * Compiled Sun, 19 May 2019 19:03:31 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
c.TARGET_FPMS=.06;var qt={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50},Zt=function(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=0),void 0===i&&(i=!1),this.fn=t,this.context=e,this.priority=r,this.once=i,this.next=null,this.previous=null,this._destroyed=!1};Zt.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},Zt.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},Zt.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},Zt.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e};var Kt=function(){var t=this;this._head=new Zt(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/c.TARGET_FPMS,this.elapsedMS=1/c.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}},Jt={FPS:{configurable:!0},minFPS:{configurable:!0},maxFPS:{configurable:!0}},Qt={shared:{configurable:!0},system:{configurable:!0}};Kt.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},Kt.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},Kt.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},Kt.prototype.add=function(t,e,r){return void 0===r&&(r=qt.NORMAL),this._addListener(new Zt(t,e,r))},Kt.prototype.addOnce=function(t,e,r){return void 0===r&&(r=qt.NORMAL),this._addListener(new Zt(t,e,r,!0))},Kt.prototype._addListener=function(t){var e=this._head.next,r=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}else t.connect(r);return this._startIfPossible(),this},Kt.prototype.remove=function(t,e){for(var r=this._head.next;r;)r=r.match(t,e)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Kt.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},Kt.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},Kt.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},Kt.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS&&e+1<this._minElapsedMS)return;this.deltaMS=e,this.deltaTime=this.deltaMS*c.TARGET_FPMS;for(var r=this._head,i=r.next;i;)i=i.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Jt.FPS.get=function(){return 1e3/this.elapsedMS},Jt.minFPS.get=function(){return 1e3/this._maxElapsedMS},Jt.minFPS.set=function(t){var e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,c.TARGET_FPMS);this._maxElapsedMS=1/r},Jt.maxFPS.get=function(){return this._minElapsedMS?1e3/this._minElapsedMS:1e3*c.TARGET_FPMS},Jt.maxFPS.set=function(t){if(t/1e3>=c.TARGET_FPMS)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t),r=Math.min(Math.max(1,e)/1e3,c.TARGET_FPMS);this._minElapsedMS=1/r}},Qt.shared.get=function(){if(!Kt._shared){var t=Kt._shared=new Kt;t.autoStart=!0,t._protected=!0}return Kt._shared},Qt.system.get=function(){if(!Kt._system){var t=Kt._system=new Kt;t.autoStart=!0,t._protected=!0}return Kt._system},Object.defineProperties(Kt.prototype,Jt),Object.defineProperties(Kt,Qt);var $t=function(){};$t.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,qt.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Kt.shared:new Kt,t.autoStart&&this.start()},$t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}};
/*!
 * @pixi/core - v5.0.3
 * Compiled Sun, 19 May 2019 19:03:31 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var te=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new Vt("setRealSize",2),this.onUpdate=new Vt("update")},ee={valid:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};te.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),(this._width||this._height)&&this.onResize.run(this._width,this._height)},te.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t)},te.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.run(t,e))},ee.valid.get=function(){return!!this._width&&!!this._height},te.prototype.update=function(){this.destroyed||this.onUpdate.run()},te.prototype.load=function(){return Promise.resolve()},ee.width.get=function(){return this._width},ee.height.get=function(){return this._height},te.prototype.upload=function(t,e,r){return!1},te.prototype.style=function(t,e,r){return!1},te.prototype.dispose=function(){},te.prototype.destroy=function(){this.destroyed||(this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null,this.destroyed=!0,this.dispose())},Object.defineProperties(te.prototype,ee);var re=function(t){function e(e){var r=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;t.call(this,r,i),this.source=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.crossOrigin=function(t,e,r){void 0===r&&0!==e.indexOf("data:")?t.crossOrigin=lt(e):!1!==r&&(t.crossOrigin="string"==typeof r?r:"anonymous")},e.prototype.upload=function(t,e,r,i){var n=t.gl,o=e.realWidth,s=e.realHeight;return i=i||this.source,n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),e.target===n.TEXTURE_2D&&r.width===o&&r.height===s?n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,e.type,i):(r.width=o,r.height=s,n.texImage2D(e.target,0,e.format,e.format,e.type,i)),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source.naturalWidth||this.source.videoWidth||this.source.width,r=this.source.naturalHeight||this.source.videoHeight||this.source.height;this.resize(e,r),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(te),ie=function(t){function e(e,r){if(r=r||{},!(e instanceof HTMLImageElement)){var i=new Image;t.crossOrigin(i,e,r.crossorigin),i.src=e,e=i}t.call(this,e),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(void 0!==r.createBitmap?r.createBitmap:c.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,this.premultiplyAlpha=!1!==r.premultiplyAlpha,this.bitmap=null,this._load=null,!1!==r.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(t){var e=this;return void 0!==t&&(this.createBitmap=t),this._load?this._load:(this._load=new Promise(function(t){e.url=e.source.src;var r=e.source,i=function(){e.destroyed||(r.onload=null,r.onerror=null,e.resize(r.width,r.height),e._load=null,e.createBitmap?t(e.process()):t(e))};r.complete&&r.src?i():r.onload=i}),this._load)},e.prototype.process=function(){var t=this;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(this.source,0,0,this.source.width,this.source.height,{premultiplyAlpha:this.premultiplyAlpha?"premultiply":"none"}).then(function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))}),this._process):Promise.resolve(this)},e.prototype.upload=function(e,r,i){if(r.premultiplyAlpha=this.premultiplyAlpha,!this.createBitmap)return t.prototype.upload.call(this,e,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,r,i,this.bitmap),!this.preserveBitmap){var n=!0;for(var o in r._glTextures){var s=r._glTextures[o];if(s!==i&&s.dirtyId!==r.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e}(re),ne=[];function oe(t,e){if(!t)return null;var r="";if("string"==typeof t){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);i&&(r=i[1].toLowerCase())}for(var n=ne.length-1;n>=0;--n){var o=ne[n];if(o.test&&o.test(t,r))return new o(t,e)}return new ie(t,e)}var se=function(t){function e(e,r){var i=r||{},n=i.width,o=i.height;if(!n||!o)throw new Error("BufferResource width or height invalid");t.call(this,n,o),this.data=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.upload=function(t,e,r){var i=t.gl;if(i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),r.width===e.width&&r.height===e.height)i.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data);else{r.width=e.width,r.height=e.height;var n=e.format;2===t.context.webGLVersion&&e.type===t.gl.FLOAT&&e.format===t.gl.RGBA&&(n=t.gl.RGBA32F),i.texImage2D(e.target,0,n,e.width,e.height,0,e.format,e.type,this.data)}return!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(te),ae={scaleMode:S.NEAREST,format:T.RGBA,premultiplyAlpha:!1},he=function(t){function e(e,r){void 0===e&&(e=null),void 0===r&&(r=null),t.call(this);var i=(r=r||{}).premultiplyAlpha,n=r.mipmap,o=r.scaleMode,s=r.width,a=r.height,h=r.wrapMode,u=r.format,l=r.type,d=r.target,p=r.resolution,f=r.resourceOptions;!e||e instanceof te||((e=oe(e,f)).internal=!0),this.width=s||0,this.height=a||0,this.resolution=p||c.RESOLUTION,this.mipmap=void 0!==n?n:c.MIPMAP_TEXTURES,this.wrapMode=h||c.WRAP_MODE,this.scaleMode=void 0!==o?o:c.SCALE_MODE,this.format=u||T.RGBA,this.type=l||w.UNSIGNED_BYTE,this.target=d||E.TEXTURE_2D,this.premultiplyAlpha=!1!==i,this.uid=q(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=s>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this.setResource(e)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={realWidth:{configurable:!0},realHeight:{configurable:!0}};return r.realWidth.get=function(){return this.width*this.resolution},r.realHeight.get=function(){return this.height*this.resolution},e.prototype.setStyle=function(t,e){var r;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,r){return this.resolution=r||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=J(this.realWidth)&&J(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete et[this.cacheId],delete tt[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.from=function(t,r){var i=null;"string"==typeof t?i=t:(t._pixiId||(t._pixiId="pixiid_"+q()),i=t._pixiId);var n=et[i];return n||((n=new e(t,r)).cacheId=i,e.addToCache(n,i)),n},e.fromBuffer=function(t,r,i,n){t=t||new Float32Array(r*i*4);var o=new se(t,{width:r,height:i}),s=t instanceof Float32Array?w.FLOAT:w.UNSIGNED_BYTE;return new e(o,Object.assign(ae,n||{width:r,height:i,type:s}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),et[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),et[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=et[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete et[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete et[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},Object.defineProperties(e.prototype,r),e}(p.a);he._globalBatch=0;var ue=function(t){function e(e,r){var i;r=r||{};var n=e;Array.isArray(e)&&(i=e,n=e.length),t.call(this,r.width,r.height),this.items=[],this.itemDirtyIds=[];for(var o=0;o<n;o++){var s=new he;this.items.push(s),this.itemDirtyIds.push(-1)}if(this.length=n,this._load=null,i)for(var a=0;a<n;a++)this.addResourceAt(oe(i[a],r),a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=E.TEXTURE_2D_ARRAY;for(var r=0;r<this.length;r++)this.items[r].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var r=0;r<this.length;r++)this.items[r].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map(function(t){return t.resource}),r=e.map(function(t){return t.load()});return this._load=Promise.all(r).then(function(){var r=e[0],i=r.width,n=r.height;return t.resize(i,n),Promise.resolve(t)}),this._load},e.prototype.upload=function(t,e,r){var i=this.length,n=this.itemDirtyIds,o=this.items,s=t.gl;r.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,i,0,e.format,e.type,null);for(var a=0;a<i;a++){var h=o[a];n[a]<h.dirtyId&&(n[a]=h.dirtyId,h.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,a,h.resource.width,h.resource.height,1,e.format,e.type,h.resource.source))}return!0},e}(te),le=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.test=function(t){return t instanceof HTMLCanvasElement},e}(re),ce=function(t){function e(r,i){if(i=i||{},t.call(this,r,i),this.length!==e.SIDES)throw new Error("Invalid length. Got "+this.length+", expected 6");for(var n=0;n<e.SIDES;n++)this.items[n].target=E.TEXTURE_CUBE_MAP_POSITIVE_X+n;!1!==i.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=E.TEXTURE_CUBE_MAP},e.prototype.upload=function(t,r,i){for(var n=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];n[o]<s.dirtyId&&(n[o]=s.dirtyId,s.valid&&s.resource.upload(t,s,i))}return!0},e}(ue);ce.SIDES=6;var de=function(t){function e(e,r){r=r||{},t.call(this,document.createElement("canvas")),this.svg=e,this.scale=r.scale||1,this._resolve=null,this._load=null,!1!==r.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;return this._load?this._load:(this._load=new Promise(function(e){t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())&&(t.svg="data:image/svg+xml;utf8,"+t.svg);var r=ut(t.svg);r?t._loadDataUri(r):t._loadXhr()}),this._load)},e.prototype._loadDataUri=function(t){var e;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadString(e)},e.prototype._loadXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadString(e.response)},e.open("GET",this.svg,!0),e.send()},e.prototype._loadString=function(t){var r=this,i=e.getSize(t),n=new Image;n.src="data:image/svg+xml,"+t,n.onerror=function(){throw new Error("Unable to load image from: "+n.src)},n.onload=function(){var t=i.width,e=i.height;if(!t||!e)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=Math.round(t*r.scale),s=Math.round(e*r.scale),a=r.source;a.width=o,a.height=s,a._pixiId="canvas_"+q(),a.getContext("2d").drawImage(n,0,0,t,e,0,0,o,s),r._resolve(),r._resolve=null}},e.getSize=function(t){var r=e.SVG_SIZE.exec(t),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&0===t.indexOf("data:image/svg+xml")},e}(re);de.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var pe=function(t){function e(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){var i=document.createElement("video");i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),t.crossOrigin(i,e[0].src||e[0],r.crossorigin);for(var n=0;n<e.length;++n){var o=document.createElement("source"),s=e[n],a=s.src,h=s.mime,u=(a=a||e[n]).split("?").shift().toLowerCase(),l=u.substr(u.lastIndexOf(".")+1);h=h||"video/"+l,o.src=a,o.type=h,i.appendChild(o)}e=i}t.call(this,e),this._autoUpdate=!0,this._isAutoUpdating=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==r.autoPlay,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),!1!==r.autoLoad&&this.load()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={autoUpdate:{configurable:!0},updateFPS:{configurable:!0}};return e.prototype.update=function(e){if(void 0===e&&(e=0),!this.destroyed){var r=Kt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this,e),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay)),this._load=new Promise(function(r){t.valid?r(t):(t._resolve=r,e.load())}),this._load},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(Kt.shared.add(this.update,this),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(Kt.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isAutoUpdating&&Kt.shared.remove(this.update,this),this.source&&(this.source.pause(),this.source.src="",this.source.load()),t.prototype.dispose.call(this)},r.autoUpdate.get=function(){return this._autoUpdate},r.autoUpdate.set=function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(Kt.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(Kt.shared.add(this.update,this),this._isAutoUpdating=!0))},r.updateFPS.get=function(){return this._updateFPS},r.updateFPS.set=function(t){t!==this._updateFPS&&(this._updateFPS=t)},e.test=function(t,r){return t instanceof HTMLVideoElement||e.TYPES.indexOf(r)>-1},Object.defineProperties(e.prototype,r),e}(re);pe.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],ne.push(ie,le,pe,de,se,ce,ue);var fe={INSTALLED:ne,autoDetectResource:oe,ArrayResource:ue,BufferResource:se,CanvasResource:le,CubeResource:ce,ImageResource:ie,SVGResource:de,VideoResource:pe,Resource:te,BaseImageResource:re},ve=function(t){this.renderer=t,this.renderer.runners.contextChange.add(this)};ve.prototype.contextChange=function(t){},ve.prototype.destroy=function(){this.renderer.runners.contextChange.remove(this),this.renderer=null};var me=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.upload=function(t,e,r){var i=t.gl;return i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),r.width===e.width&&r.height===e.height?i.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(r.width=e.width,r.height=e.height,i.texImage2D(e.target,0,i.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},e}(se),ye=function(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Vt("disposeFramebuffer",2)},ge={colorTexture:{configurable:!0}};ge.colorTexture.get=function(){return this.colorTextures[0]},ye.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new he(null,{scaleMode:0,resolution:1,mipmap:!1,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},ye.prototype.addDepthTexture=function(t){return this.depthTexture=t||new he(new me(null,{width:this.width,height:this.height}),{scaleMode:0,resolution:1,width:this.width,height:this.height,mipmap:!1,format:T.DEPTH_COMPONENT,type:w.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},ye.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},ye.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},ye.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r],n=i.resolution;i.setSize(t/n,e/n)}if(this.depthTexture){var o=this.depthTexture.resolution;this.depthTexture.setSize(t/o,e/o)}}},ye.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Object.defineProperties(ye.prototype,ge);var _e=function(t){function e(e){"number"==typeof e&&(e={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]});t.call(this,null,e);var r=e||{},i=r.width,n=r.height;this.mipmap=!1,this.width=Math.ceil(i)||100,this.height=Math.ceil(n)||100,this.valid=!0,this._canvasRenderTarget=null,this.clearColor=[0,0,0,0],this.framebuffer=new ye(this.width*this.resolution,this.height*this.resolution).addColorTexture(0,this).enableStencil(),this.stencilMaskStack=[],this.filterStack=[{}]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.framebuffer=null,this.renderer=null},e}(he),xe=function(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)};xe.prototype.set=function(t,e,r){var i=e.width,n=e.height;if(r){var o=t.width/2/i,s=t.height/2/n,a=t.x/i+o,h=t.y/n+s;r=Mt.add(r,Mt.NW),this.x0=a+o*Mt.uX(r),this.y0=h+s*Mt.uY(r),r=Mt.add(r,2),this.x1=a+o*Mt.uX(r),this.y1=h+s*Mt.uY(r),r=Mt.add(r,2),this.x2=a+o*Mt.uX(r),this.y2=h+s*Mt.uY(r),r=Mt.add(r,2),this.x3=a+o*Mt.uX(r),this.y3=h+s*Mt.uY(r)}else this.x0=t.x/i,this.y0=t.y/n,this.x1=(t.x+t.width)/i,this.y1=t.y/n,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/n,this.x3=t.x/i,this.y3=(t.y+t.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3};var be=new xe,Te=function(t){function e(r,i,n,o,s,a){if(t.call(this),this.noFrame=!1,i||(this.noFrame=!0,i=new Rt(0,0,1,1)),r instanceof e&&(r=r.baseTexture),this.baseTexture=r,this._frame=i,this.trim=o,this.valid=!1,this.requiresUpdate=!1,this._uvs=be,this.uvMatrix=null,this.orig=n||i,this._rotate=Number(s||0),!0===s)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=a?new ft(a.x,a.y):new ft(0,0),this._updateID=0,this.textureCacheIds=[],r.valid?this.noFrame?r.valid&&this.onBaseTextureUpdated(r):this.frame=i:r.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&r.on("update",this.onBaseTextureUpdated,this)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={frame:{configurable:!0},rotate:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var r=this.baseTexture.resource;r&&tt[r.url]&&e.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===be&&(this._uvs=new xe),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,r){void 0===r&&(r={});var i=null;"string"==typeof t?i=t:(t._pixiId||(t._pixiId="pixiid_"+q()),i=t._pixiId);var n=tt[i];return n||(r.resolution||(r.resolution=ct(t)),(n=new e(new he(t,r))).baseTexture.cacheId=i,he.addToCache(n.baseTexture,i),e.addToCache(n,i)),n},e.fromBuffer=function(t,r,i,n){return new e(he.fromBuffer(t,r,i,n))},e.fromLoader=function(t,r,i){var n=new ie(t);n.url=r;var o=new e(new he(n,{scaleMode:c.SCALE_MODE,resolution:ct(r)}));return i||(i=r),he.addToCache(o.baseTexture,i),e.addToCache(o,i),i!==r&&(he.addToCache(o.baseTexture,r),e.addToCache(o,r)),o},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),tt[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),tt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=tt[t];if(e){var r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete tt[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)tt[t.textureCacheIds[i]]===t&&delete tt[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},r.frame.get=function(){return this._frame},r.frame.set=function(t){this._frame=t,this.noFrame=!1;var e=t.x,r=t.y,i=t.width,n=t.height,o=e+i>this.baseTexture.width,s=r+n>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",h="X: "+e+" + "+i+" = "+(e+i)+" > "+this.baseTexture.width,u="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+h+" "+a+" "+u)}this.valid=i&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},r.rotate.get=function(){return this._rotate},r.rotate.set=function(t){this._rotate=t,this.valid&&this.updateUvs()},r.width.get=function(){return this.orig.width},r.height.get=function(){return this.orig.height},Object.defineProperties(e.prototype,r),e}(p.a);function Ee(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}Te.EMPTY=new Te(new he),Ee(Te.EMPTY),Ee(Te.EMPTY.baseTexture),Te.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new Te(new he(new le(t)))}(),Ee(Te.WHITE),Ee(Te.WHITE.baseTexture);var we=function(t){function e(e,r){var i=null;if(!(e instanceof _e)){var n=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4];console.warn("Please use RenderTexture.create("+n+", "+o+") instead of the ctor directly."),i=arguments[0],r=null,e=new _e({width:n,height:o,scaleMode:s,resolution:a})}t.call(this,e,r),this.legacyRenderer=i,this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.resize=function(t,e,r){void 0===r&&(r=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,r&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){return"number"==typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new e(new _e(t))},e}(Te),Se=function(t,e,r,i,n,o,s){void 0===r&&(r=!1),void 0===i&&(i=5126),this.buffer=t,this.size=e,this.normalized=r,this.type=i,this.stride=n,this.start=o,this.instance=s};Se.prototype.destroy=function(){this.buffer=null},Se.from=function(t,e,r,i,n){return new Se(t,e,r,i,n)};var Pe=0,Ie=function(t,e,r){void 0===e&&(e=!0),void 0===r&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=e,this.id=Pe++,this.disposeRunner=new Vt("disposeBuffer",2)};function Ae(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}Ie.prototype.update=function(t){this.data=t||this.data,this._updateID++},Ie.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Ie.prototype.destroy=function(){this.dispose(),this.data=null},Ie.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new Ie(t)};var Oe={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var Me={5126:4,5123:2,5121:1},Ce=0,De={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Re=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Ce++,this.instanced=!1,this.instanceCount=1,this._size=null,this.disposeRunner=new Vt("disposeGeometry",2),this.refCount=0};Re.prototype.addAttribute=function(t,e,r,i,n,o,s,a){if(void 0===i&&(i=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e.data||(e instanceof Array&&(e=new Float32Array(e)),e=new Ie(e));var h=t.split("|");if(h.length>1){for(var u=0;u<h.length;u++)this.addAttribute(h[u],e,r,i,n);return this}var l=this.buffers.indexOf(e);return-1===l&&(this.buffers.push(e),l=this.buffers.length-1),this.attributes[t]=new Se(l,r,i,n,o,s,a),this.instanced=this.instanced||a,this},Re.prototype.getAttribute=function(t){return this.attributes[t]},Re.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},Re.prototype.addIndex=function(t){return t.data||(t instanceof Array&&(t=new Uint16Array(t)),t=new Ie(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},Re.prototype.getIndex=function(){return this.indexBuffer},Re.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],r=[],i=new Ie;for(t in this.attributes){var n=this.attributes[t],o=this.buffers[n.buffer];e.push(o.data),r.push(n.size*Me[n.type]/4),n.buffer=0}for(i.data=function(t,e){for(var r=0,i=0,n={},o=0;o<t.length;o++)i+=e[o],r+=t[o].length;for(var s=new ArrayBuffer(4*r),a=null,h=0,u=0;u<t.length;u++){var l=e[u],c=t[u],d=Ae(c);n[d]||(n[d]=new Oe[d](s)),a=n[d];for(var p=0;p<c.length;p++)a[(p/l|0)*i+h+p%l]=c[p];h+=l}return new Float32Array(s)}(e,r),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},Re.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},Re.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Re.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer.destroy(),this.attributes=null},Re.prototype.clone=function(){for(var t=new Re,e=0;e<this.buffers.length;e++)t.buffers[e]=new Ie(this.buffers[e].data.slice());for(var r in this.attributes){var i=this.attributes[r];t.attributes[r]=new Se(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},Re.merge=function(t){for(var e,r=new Re,i=[],n=[],o=[],s=0;s<t.length;s++){e=t[s];for(var a=0;a<e.buffers.length;a++)n[a]=n[a]||0,n[a]+=e.buffers[a].data.length,o[a]=0}for(var h=0;h<e.buffers.length;h++)i[h]=new(De[Ae(e.buffers[h].data)])(n[h]),r.buffers[h]=new Ie(i[h]);for(var u=0;u<t.length;u++){e=t[u];for(var l=0;l<e.buffers.length;l++)i[l].set(e.buffers[l].data,o[l]),o[l]+=e.buffers[l].data.length}if(r.attributes=e.attributes,e.indexBuffer){r.indexBuffer=r.buffers[e.buffers.indexOf(e.indexBuffer)],r.indexBuffer.index=!0;for(var c=0,d=0,p=0,f=0,v=0;v<e.buffers.length;v++)if(e.buffers[v]!==e.indexBuffer){f=v;break}for(var m in e.attributes){var y=e.attributes[m];(0|y.buffer)===f&&(d+=y.size*Me[y.type]/4)}for(var g=0;g<t.length;g++){for(var _=t[g].indexBuffer.data,x=0;x<_.length;x++)r.indexBuffer.data[x+p]+=c;c+=e.buffers[f].data.length/d,p+=_.length}}return r};var Le=function(t){function e(){t.call(this),this.addAttribute("aVertexPosition",[0,0,1,0,1,1,0,1]).addIndex([0,1,3,2])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Re),Fe=function(t){function e(){t.call(this),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Ie(this.vertices),this.uvBuffer=new Ie(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(t,e){var r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+e.width/t.width,this.uvs[3]=i,this.uvs[4]=r+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=r,this.uvs[7]=i+e.height/t.height,r=e.x,i=e.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+e.width,this.vertices[3]=i,this.vertices[4]=r+e.width,this.vertices[5]=i+e.height,this.vertices[6]=r,this.vertices[7]=i+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Re),Ne=0,Ue=function(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Ne++,this.static=!!e};Ue.prototype.update=function(){this.dirtyId++},Ue.prototype.add=function(t,e,r){this.uniforms[t]=new Ue(e,r)},Ue.from=function(t,e){return new Ue(t,e)};var Be=function(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new Rt,this.destinationFrame=new Rt,this.filters=[]};Be.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null};var ke=function(t){function e(e){t.call(this,e),this.defaultFilterStack=[{}],this.texturePool={},this.statePool=[],this.quad=new Le,this.quadUv=new Fe,this.tempRect=new Rt,this.activeState={},this.globalUniforms=new Ue({outputFrame:this.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this._pixelsWidth=e.view.width,this._pixelsHeight=e.view.height}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e){for(var r=this.renderer,i=this.defaultFilterStack,n=this.statePool.pop()||new Be,o=e[0].resolution,s=e[0].padding,a=e[0].autoFit,h=e[0].legacy,u=1;u<e.length;u++){var l=e[u];o=Math.min(o,l.resolution),s=Math.max(s,l.padding),a=a||l.autoFit,h=h||l.legacy}1===i.length&&(this.defaultFilterStack[0].renderTexture=r.renderTexture.current),i.push(n),n.resolution=o,n.legacy=h,n.target=t,n.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),n.sourceFrame.pad(s),a&&n.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),n.sourceFrame.ceil(o),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,o),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height,n.renderTexture.filterFrame=n.sourceFrame,r.renderTexture.bind(n.renderTexture,n.sourceFrame),r.renderTexture.clear()},e.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),r=e.filters;this.activeState=e;var i=this.globalUniforms.uniforms;i.outputFrame=e.sourceFrame,i.resolution=e.resolution;var n=i.inputSize,o=i.inputPixel,s=i.inputClamp;if(n[0]=e.destinationFrame.width,n[1]=e.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],o[0]=n[0]*e.resolution,o[1]=n[1]*e.resolution,o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=e.sourceFrame.width*n[2]-.5*o[2],s[3]=e.sourceFrame.height*n[3]-.5*o[3],e.legacy){var a=i.filterArea;a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=e.sourceFrame.x,a[3]=e.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var h=t[t.length-1];if(1===r.length)r[0].apply(this,e.renderTexture,h.renderTexture,!1,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,l=this.getOptimalFilterTexture(u.width,u.height,e.resolution);l.filterFrame=u.filterFrame;var c=0;for(c=0;c<r.length-1;++c){r[c].apply(this,u,l,!0,e);var d=u;u=l,l=d}r[c].apply(this,u,h.renderTexture,!1,e),this.returnFilterTexture(u),this.returnFilterTexture(l)}e.clear(),this.statePool.push(e)},e.prototype.applyFilter=function(t,e,r,i){var n=this.renderer;n.renderTexture.bind(r,r?r.filterFrame:null),i&&n.renderTexture.clear(),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,n.state.setState(t.state),n.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(b.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(b.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,e){var r=this.activeState,i=r.sourceFrame,n=r.destinationFrame,o=e._texture.orig,s=t.set(n.width,0,0,n.height,i.x,i.y),a=e.worldTransform.copyTo(bt.TEMP_MATRIX);return a.invert(),s.prepend(a),s.scale(1/o.width,1/o.height),s.translate(e.anchor.x,e.anchor.y),s},e.prototype.destroy=function(t){void 0===t&&(t=!1),t?this.texturePool={}:this.emptyPool()},e.prototype.getOptimalFilterTexture=function(t,e,r){void 0===r&&(r=1);var i="screen";e*=r,(t*=r)===this._pixelsWidth&&e===this._pixelsHeight||(i=(65535&(t=K(t)))<<16|65535&(e=K(e))),this.texturePool[i]||(this.texturePool[i]=[]);var n=this.texturePool[i].pop();return n||(n=we.create({width:t/r,height:e/r,resolution:r})),n.filterPoolKey=i,n.setResolution(r),n},e.prototype.getFilterTexture=function(t){var e=this.activeState.renderTexture,r=this.getOptimalFilterTexture(e.width,e.height,t||e.baseTexture.resolution);return r.filterFrame=e.filterFrame,r},e.prototype.returnFilterTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},e.prototype.emptyPool=function(){for(var t in this.texturePool){var e=this.texturePool[t];if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0)}this.texturePool={}},e.prototype.resize=function(){var t=this.texturePool.screen;if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.texturePool.screen=[],this._pixelsWidth=this.renderer.view.width,this._pixelsHeight=this.renderer.view.height},e}(ve),Xe=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(ve),je=function(t){function e(e){t.call(this,e),this.emptyRenderer=new Xe(e),this.currentRenderer=this.emptyRenderer}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e}(ve);c.PREFER_ENV=l.a.any?g.WEBGL:g.WEBGL2;var He=0,Ge=function(t){function e(e){t.call(this,e),this.webGLVersion=1,this.extensions={},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={isLost:{configurable:!0}};return r.isLost.get=function(){return!this.gl||this.gl.isContextLost()},e.prototype.contextChange=function(t){this.gl=t,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=He++,this.renderer.runners.contextChange.run(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var r;if(c.PREFER_ENV>=g.WEBGL2&&(r=t.getContext("webgl2",e)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),r},e.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion&&Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBKIT_WEBGL_depth_texture"),floatTexture:t.getExtension("OES_texture_float"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.run(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.gl.flush()},e.prototype.validateContext=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")},Object.defineProperties(e.prototype,r),e}(ve),Ye=function(t){function e(e){t.call(this,e),this.managedFramebuffers=[],this.unknownFramebuffer=new ye(10,10)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={size:{configurable:!0}};return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Rt,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;c.PREFER_ENV===g.WEBGL_LEGACY&&(e=null,r=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}},e.prototype.bind=function(t,e){var r=this.gl;if(t){var i=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.dirtyId!==t.dirtyId&&(i.dirtyId=t.dirtyId,i.dirtyFormat!==t.dirtyFormat?(i.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):i.dirtySize!==t.dirtySize&&(i.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var n=0;n<t.colorTextures.length;n++)t.colorTextures[n].texturePart?this.renderer.texture.unbind(t.colorTextures[n].texture):this.renderer.texture.unbind(t.colorTextures[n]);t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,r,i){var n=this.viewport;n.width===r&&n.height===i&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=r,n.height=i,this.gl.viewport(t,e,r,i))},r.size.get=function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},e.prototype.clear=function(t,e,r,i){var n=this.gl;n.clearColor(t,e,r,i),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT)},e.prototype.initFramebuffer=function(t){var e={framebuffer:this.gl.createFramebuffer(),stencil:null,dirtyId:0,dirtyFormat:0,dirtySize:0};return t.glFramebuffers[this.CONTEXT_UID]=e,this.managedFramebuffers.push(t),t.disposeRunner.add(this),e},e.prototype.resizeFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID];r.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var i=t.colorTextures,n=0;n<i.length;n++)this.renderer.texture.bind(i[n],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var e=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],i=t.colorTextures.length;e.drawBuffers||(i=Math.min(i,1));for(var n=[],o=0;o<i;o++){var s=t.colorTextures[o];s.texturePart?(this.renderer.texture.bind(s.texture,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,e.TEXTURE_CUBE_MAP_NEGATIVE_X+s.side,s.texture._glTextures[this.CONTEXT_UID].texture,0)):(this.renderer.texture.bind(s,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,e.TEXTURE_2D,s._glTextures[this.CONTEXT_UID].texture,0)),n.push(e.COLOR_ATTACHMENT0+o)}if((n.length>1&&e.drawBuffers(n),t.depthTexture)&&this.writeDepthTexture){var a=t.depthTexture;this.renderer.texture.bind(a,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a._glTextures[this.CONTEXT_UID].texture,0)}r.stencil||!t.stencil&&!t.depth||(r.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.stencil),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,r.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height))},e.prototype.disposeFramebuffer=function(t,e){var r=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(r){delete t.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(t);n>=0&&this.managedFramebuffers.splice(n,1),t.disposeRunner.remove(this),e||(i.deleteFramebuffer(r.framebuffer),r.stencil&&i.deleteRenderbuffer(r.stencil))}},e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<e.count;r++)this.disposeFramebuffer(e[r],t)},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Rt},Object.defineProperties(e.prototype,r),e}(ve),ze=function(t){this.buffer=t,this.updateID=-1,this.byteLength=-1,this.refCount=0},Ve={5126:4,5123:2,5121:1},We=function(t){function e(e){t.call(this,e),this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.boundBuffers={},this.managedGeometries={},this.managedBuffers={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,!t.createVertexArray){var e=this.renderer.context.extensions.vertexArrayObject;c.PREFER_ENV===g.WEBGL_LEGACY&&(e=null),e?(t.createVertexArray=function(){return e.createVertexArrayOES()},t.bindVertexArray=function(t){return e.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return e.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){},t.bindVertexArray=function(){},t.deleteVertexArray=function(){})}if(!t.vertexAttribDivisor){var r=t.getExtension("ANGLE_instanced_arrays");r?(t.vertexAttribDivisor=function(t,e){return r.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,i,n,o){return r.drawElementsInstancedANGLE(t,e,i,n,o)},t.drawArraysInstanced=function(t,e,i,n){return r.drawArraysInstancedANGLE(t,e,i,n)}):this.hasInstance=!1}},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var r=this.gl,i=t.glVertexArrayObjects[this.CONTEXT_UID];i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={});var n=i[e.program.id]||this.initGeometryVao(t,e.program);this._activeGeometry=t,this._activeVao!==n&&(this._activeVao=n,this.hasVao?r.bindVertexArray(n):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,r=0;r<t.buffers.length;r++){var i=t.buffers[r],n=i._glBuffers[this.CONTEXT_UID];if(i._updateID!==n.updateID){n.updateID=i._updateID;var o=i.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(o,n.buffer),this._boundBuffer=n,n.byteLength>=i.data.byteLength)e.bufferSubData(o,0,i.data);else{var s=i.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;n.byteLength=i.data.byteLength,e.bufferData(o,i.data,s)}}}},e.prototype.checkCompatibility=function(t,e){var r=t.attributes,i=e.attributeData;for(var n in i)if(!r[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},e.prototype.getSignature=function(t,e){var r=t.attributes,i=e.attributeData,n=["g",t.id];for(var o in r)i[o]&&n.push(o);return n.join("-")},e.prototype.initGeometryVao=function(t,e){this.checkCompatibility(t,e);var r=this.gl,i=this.CONTEXT_UID,n=this.getSignature(t,e),o=t.glVertexArrayObjects[this.CONTEXT_UID],s=o[n];if(s)return o[e.id]=s,s;var a=t.buffers,h=t.attributes,u={},l={};for(var c in a)u[c]=0,l[c]=0;for(var d in h)!h[d].size&&e.attributeData[d]?h[d].size=e.attributeData[d].size:h[d].size||console.warn("PIXI Geometry attribute '"+d+"' size cannot be determined (likely the bound shader does not have the attribute)"),u[h[d].buffer]+=h[d].size*Ve[h[d].type];for(var p in h){var f=h[p],v=f.size;void 0===f.stride&&(u[f.buffer]===v*Ve[f.type]?f.stride=0:f.stride=u[f.buffer]),void 0===f.start&&(f.start=l[f.buffer],l[f.buffer]+=v*Ve[f.type])}s=r.createVertexArray(),r.bindVertexArray(s);for(var m=0;m<a.length;m++){var y=a[m];y._glBuffers[i]||(y._glBuffers[i]=new ze(r.createBuffer()),this.managedBuffers[y.id]=y,y.disposeRunner.add(this)),y._glBuffers[i].refCount++}return this.activateVao(t,e),this._activeVao=s,o[e.id]=s,o[n]=s,s},e.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),r&&(e||i.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,n=t.buffers;if(t.disposeRunner.remove(this),r){for(var o=0;o<n.length;o++){var s=n[o]._glBuffers[this.CONTEXT_UID];s.refCount--,0!==s.refCount||e||this.disposeBuffer(n[o],e)}if(!e)for(var a in r)if("g"===a[0]){var h=r[a];this._activeVao===h&&this.unbind(),i.deleteVertexArray(h)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),r=0;r<e.length;r++)this.disposeGeometry(this.managedGeometries[e[r]],t);e=Object.keys(this.managedBuffers);for(var i=0;i<e.length;i++)this.disposeBuffer(this.managedBuffers[e[i]],t)},e.prototype.activateVao=function(t,e){var r=this.gl,i=this.CONTEXT_UID,n=t.buffers,o=t.attributes;t.indexBuffer&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[i].buffer);var s=null;for(var a in o){var h=o[a],u=n[h.buffer]._glBuffers[i];if(e.attributeData[a]){s!==u&&(r.bindBuffer(r.ARRAY_BUFFER,u.buffer),s=u);var l=e.attributeData[a].location;if(r.enableVertexAttribArray(l),r.vertexAttribPointer(l,h.size,h.type||r.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(l,1)}}}},e.prototype.draw=function(t,e,r,i){var n=this.gl,o=this._activeGeometry;return o.indexBuffer?o.instanced?n.drawElementsInstanced(t,e||o.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(r||0),i||1):n.drawElements(t,e||o.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(r||0)):o.instanced?n.drawArraysInstanced(t,r,e||o.getSize(),i||1):n.drawArrays(t,r,e||o.getSize()),this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(ve);function qe(t,e,r,i){var n=Ze(t,t.VERTEX_SHADER,e),o=Ze(t,t.FRAGMENT_SHADER,r),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,o),i)for(var a in i)t.bindAttribLocation(s,i[a],a);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(n),t.deleteShader(o),s}function Ze(t,e,r){var i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:(console.warn(r),console.error(t.getShaderInfoLog(i)),null)}function Ke(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return Je(2*e);case"bvec3":return Je(3*e);case"bvec4":return Je(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function Je(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}var Qe,$e=null;function tr(){if(!$e){var t,e=document.createElement("canvas");if(c.PREFER_ENV>=g.WEBGL2&&(t=e.getContext("webgl2",{})),!t){if(!(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{})))throw new Error("This browser does not support WebGL. Try using the canvas renderer");t.getExtension("WEBGL_draw_buffers")}return $e=t,t}return $e}function er(t,e,r){if("precision"!==t.substring(0,9)){var i=e;return e===O.HIGH&&r!==O.HIGH&&(i=O.MEDIUM),"precision "+i+" float;\n"+t}return r!==O.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var rr={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function ir(t){return rr[t]}var nr=null,or={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray"};function sr(t,e){if(!nr){var r=Object.keys(or);nr={};for(var i=0;i<r.length;++i){var n=r[i];nr[t[n]]=or[n]}}return nr[e]}var ar={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},hr={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var ur,lr=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function cr(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var i=lr.replace(/%forloop%/gi,dr(t));if(e.shaderSource(r,i),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return t}function dr(t){for(var e="",r=0;r<t;++r)r>0&&(e+="\nelse "),r<t-1&&(e+="if(test == "+r+".0){}");return e}var pr=0,fr={},vr=function t(e,r,i){void 0===i&&(i="pixi-shader"),this.id=pr++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),fr[i]?(fr[i]++,i+="-"+fr[i]):fr[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=er(this.vertexSrc,c.PRECISION_VERTEX,O.HIGH),this.fragmentSrc=er(this.fragmentSrc,c.PRECISION_FRAGMENT,function(){if(!Qe){Qe=O.MEDIUM;var t=tr();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);Qe=e.precision?O.HIGH:O.MEDIUM}}return Qe}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null},mr={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};vr.prototype.extractData=function(t,e){var r=tr();if(r){var i=qe(r,t,e);this.attributeData=this.getAttributeData(i,r),this.uniformData=this.getUniformData(i,r),r.deleteProgram(i)}else this.uniformData={},this.attributeData={}},vr.prototype.getAttributeData=function(t,e){for(var r={},i=[],n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<n;o++){var s=e.getActiveAttrib(t,o),a=sr(e,s.type),h={type:a,name:s.name,size:ir(a),location:0};r[s.name]=h,i.push(h)}i.sort(function(t,e){return t.name>e.name?1:-1});for(var u=0;u<i.length;u++)i[u].location=u;return r},vr.prototype.getUniformData=function(t,e){for(var r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<i;n++){var o=e.getActiveUniform(t,n),s=o.name.replace(/\[.*?\]/,""),a=o.name.match(/\[.*?\]/,""),h=sr(e,o.type);r[s]={type:h,size:o.size,isArray:a,value:Ke(h,o.size)}}return r},mr.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},mr.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},vr.from=function(t,e,r){var i=t+e,n=$[i];return n||($[i]=n=new vr(t,e,r)),n},Object.defineProperties(vr,mr);var yr=function(t,e){for(var r in this.program=t,this.uniformGroup=e?e instanceof Ue?e:new Ue(e):new Ue({}),t.uniformData)this.uniformGroup.uniforms[r]instanceof Array&&(this.uniformGroup.uniforms[r]=new Float32Array(this.uniformGroup.uniforms[r]))},gr={uniforms:{configurable:!0}};yr.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var r in e.uniforms){var i=e.uniforms[r];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},yr.prototype.destroy=function(){this.uniformGroup=null},gr.uniforms.get=function(){return this.uniformGroup.uniforms},yr.from=function(t,e,r){var i=vr.from(t,e);return new yr(i,r)},Object.defineProperties(yr.prototype,gr);var _r=function(){this.data=0,this.blendMode=x.NORMAL,this.polygonOffset=0,this.blend=!0},xr={blend:{configurable:!0},offsets:{configurable:!0},culling:{configurable:!0},depthTest:{configurable:!0},clockwiseFrontFace:{configurable:!0},blendMode:{configurable:!0},polygonOffset:{configurable:!0}};xr.blend.get=function(){return!!(1&this.data)},xr.blend.set=function(t){!!(1&this.data)!==t&&(this.data^=1)},xr.offsets.get=function(){return!!(2&this.data)},xr.offsets.set=function(t){!!(2&this.data)!==t&&(this.data^=2)},xr.culling.get=function(){return!!(4&this.data)},xr.culling.set=function(t){!!(4&this.data)!==t&&(this.data^=4)},xr.depthTest.get=function(){return!!(8&this.data)},xr.depthTest.set=function(t){!!(8&this.data)!==t&&(this.data^=8)},xr.clockwiseFrontFace.get=function(){return!!(16&this.data)},xr.clockwiseFrontFace.set=function(t){!!(16&this.data)!==t&&(this.data^=16)},xr.blendMode.get=function(){return this._blendMode},xr.blendMode.set=function(t){this.blend=t!==x.NONE,this._blendMode=t},xr.polygonOffset.get=function(){return this._polygonOffset},xr.polygonOffset.set=function(t){this.offsets=!!t,this._polygonOffset=t},_r.for2d=function(){var t=new _r;return t.depthTest=!1,t.blend=!0,t},Object.defineProperties(_r.prototype,xr);var br=function(t){function e(r,i,n){var o=vr.from(r||e.defaultVertexSrc,i||e.defaultFragmentSrc);t.call(this,o,n),this.padding=0,this.resolution=c.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0,this.legacy=!!this.program.attributeData.aTextureCoord,this.state=new _r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={blendMode:{configurable:!0}},i={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};return e.prototype.apply=function(t,e,r,i,n){t.applyFilter(this,e,r,i,n)},r.blendMode.get=function(){return this.state.blendMode},r.blendMode.set=function(t){this.state.blendMode=t},i.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},i.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},Object.defineProperties(e.prototype,r),Object.defineProperties(e,i),e}(yr);br.SOURCE_KEY_MAP={};var Tr="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",Er="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",wr=new bt,Sr=function(t,e){this._texture=t,this.mapCoord=new bt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._updateID=-1,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1},Pr={texture:{configurable:!0}};Pr.texture.get=function(){return this._texture},Pr.texture.set=function(t){this._texture=t,this._updateID=-1},Sr.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,i=0;i<t.length;i+=2){var n=t[i],o=t[i+1];e[i]=n*r.a+o*r.c+r.tx,e[i+1]=n*r.b+o*r.d+r.ty}return e},Sr.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._updateID===e._updateID)return!1;this._updateID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=e.orig,n=e.trim;n&&(wr.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(wr));var o=e.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(e._frame.x+a+h)/o.width,s[1]=(e._frame.y+a+h)/o.height,s[2]=(e._frame.x+e._frame.width-a+h)/o.width,s[3]=(e._frame.y+e._frame.height-a+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},Object.defineProperties(Sr.prototype,Pr);var Ir=function(t){function e(e){var r=new bt;t.call(this,Tr,Er),e.renderable=!1,this.maskSprite=e,this.maskMatrix=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t,e,r,i){var n=this.maskSprite,o=this.maskSprite.texture;o.valid&&(o.transform||(o.transform=new Sr(o,0)),o.transform.update(),this.uniforms.npmAlpha=o.baseTexture.premultiplyAlpha?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.transform.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=o.transform.uClampFrame,t.applyFilter(this,e,r,i))},e}(br),Ar=function(t){function e(e){t.call(this,e),this.scissor=!1,this.scissorData=null,this.scissorRenderTarget=null,this.enableScissor=!1,this.alphaMaskPool=[],this.alphaMaskIndex=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e){if(e.isSprite)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencil.stencilMaskStack.length&&e.isFastRect()){var r=e.worldTransform,i=Math.atan2(r.b,r.a);(i=Math.round(i*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.pop=function(t,e){e.isSprite?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencil.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new Ir(e)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=e;var i=t.filterArea;t.filterArea=e.getBounds(!0),this.renderer.filter.push(t,r),t.filterArea=i,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.batch.flush(),this.renderer.stencil.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.stencil.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var r=this.renderer._activeRenderTarget,i=e.getBounds();i.fit(r.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var n=this.renderer.resolution;this.renderer.gl.scissor(i.x*n,(r.root?r.size.height-i.y-i.height:i.y)*n,i.width*n,i.height*n),this.scissorRenderTarget=r,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(ve),Or=function(t){function e(e){t.call(this,e),this.stencilMaskStack=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMaskStack=function(t){var e=this.renderer.gl;t.length!==this.stencilMaskStack.length&&(0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)),this.stencilMaskStack=t},e.prototype.pushStencil=function(t){var e=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,r,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent()},e.prototype.popStencil=function(){var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){t.prototype.destroy.call(this,this),this.stencilMaskStack=null},e}(ve),Mr=function(t){function e(e){t.call(this,e),this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new bt,this.transform=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(t,e,r,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,r,i){var n=this.projectionMatrix;i?(n.a=1/t.width*2*r,n.d=-1/t.height*2*r,n.tx=-1-e.x*n.a,n.ty=1-e.y*n.d):(n.a=1/t.width*2*r,n.d=1/t.height*2*r,n.tx=-1-e.x*n.a,n.ty=-1-e.y*n.d)},e.prototype.setTransform=function(){},e}(ve),Cr=new Rt,Dr=function(t){function e(e){t.call(this,e),this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Rt,this.destinationFrame=new Rt}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(t,e,r){void 0===t&&(t=null),this.current=t;var i,n=this.renderer;if(t){var o=t.baseTexture;i=o.resolution,r||(Cr.width=o.realWidth,Cr.height=o.realHeight,r=Cr),e||(e=r),this.renderer.framebuffer.bind(o.framebuffer,r),this.renderer.projection.update(r,e,i,!1),this.renderer.stencil.setMaskStack(o.stencilMaskStack)}else i=this.renderer.resolution,r||(Cr.width=n.width,Cr.height=n.height,r=Cr),e||(e=r),n.framebuffer.bind(null,r),this.renderer.projection.update(r,e,i,!0),this.renderer.stencil.setMaskStack(this.defaultMaskStack);this.sourceFrame.copyFrom(e),this.destinationFrame.x=r.x/i,this.destinationFrame.y=r.y/i,this.destinationFrame.width=r.width/i,this.destinationFrame.height=r.height/i,e===r&&this.sourceFrame.copyFrom(this.destinationFrame)},e.prototype.clear=function(t){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3])},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(ve),Rr=function(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}};Rr.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null};var Lr=0,Fr=function(t){function e(e){t.call(this,e),this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this.id=Lr++}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof ur)return ur;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");ur=!0===t({a:"b"},"a","b")}catch(t){ur=!1}return ur}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),e||this.syncUniformGroup(t.uniformGroup),i},e.prototype.setUniforms=function(t){var e=this.shader.program,r=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(r.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t){var e=this.getglProgram();t.static&&t.dirtyId===e.uniformGroups[t.id]||(e.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,e))},e.prototype.syncUniforms=function(t,e){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var r=0,i="var v = null;\n    var cv = null\n    var gl = renderer.gl";for(var n in t.uniforms){var o=e[n];o?"float"===o.type&&1===o.size?i+="\n            if(uv."+n+" !== ud."+n+".value)\n            {\n                ud."+n+".value = uv."+n+"\n                gl.uniform1f(ud."+n+".location, uv."+n+")\n            }\n":"sampler2D"!==o.type&&"samplerCube"!==o.type&&"sampler2DArray"!==o.type||1!==o.size||o.isArray?"mat3"===o.type&&1===o.size?void 0!==t.uniforms[n].a?i+="\n                gl.uniformMatrix3fv(ud."+n+".location, false, uv."+n+".toArray(true));\n                \n":i+="\n                gl.uniformMatrix3fv(ud."+n+".location, false, uv."+n+");\n                \n":"vec2"===o.type&&1===o.size?void 0!==t.uniforms[n].x?i+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud."+n+".location, v.x, v.y);\n                }\n":i+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud."+n+".location, v[0], v[1]);\n                }\n                \n":"vec4"===o.type&&1===o.size?void 0!==t.uniforms[n].width?i+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud."+n+".location, v.x, v.y, v.width, v.height)\n                }\n":i+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud."+n+".location, v[0], v[1], v[2], v[3])\n                }\n                \n":i+="\n            cv = ud."+n+".value;\n            v = uv."+n+";\n            "+(1===o.size?ar:hr)[o.type].replace("location","ud."+n+".location")+";\n":(i+="\n            renderer.texture.bind(uv."+n+", "+r+");\n\n            if(ud."+n+".value !== "+r+")\n            {\n                ud."+n+".value = "+r+";\n                gl.uniform1i(ud."+n+".location, "+r+");\n; // eslint-disable-line max-len\n            }\n",r++):t.uniforms[n].group&&(i+="\n                    renderer.shader.syncUniformGroup(uv."+n+");\n                ")}return new Function("ud","uv","renderer",i)}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var r=t.uniforms,i=[];for(var n in r)i.push(n),e[n]&&i.push(e[n].type);return i.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,r=t.program,i={};for(var n in r.attributeData)i[n]=r.attributeData[n].location;var o=qe(e,r.vertexSrc,r.fragmentSrc,i),s={};for(var a in r.uniformData){var h=r.uniformData[a];s[a]={location:e.getUniformLocation(o,a),value:Ke(h.type,h.size)}}var u=new Rr(o,s);return r.glPrograms[this.renderer.CONTEXT_UID]=u,u},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(ve);var Nr=0,Ur=1,Br=2,kr=3,Xr=4,jr=function(t){function e(e){t.call(this,e),this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=x.NONE,this._blendEq=!1,this.map=[],this.map[Nr]=this.setBlend,this.map[Ur]=this.setOffset,this.map[Br]=this.setCullFace,this.map[kr]=this.setDepthTest,this.map[Xr]=this.setFrontFace,this.checks=[],this.defaultState=new _r,this.defaultState.blend=!0,this.defaultState.depth=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[x.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.ADD]=[t.ONE,t.DST_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.NONE]=[0,0],e[x.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[x.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[x.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[x.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[x.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[x.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[x.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[x.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[x.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.setState(this.defaultState),this.reset()},e.prototype.setState=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,r=0;e;)1&e&&this.map[r].call(this,!!(t.data&1<<r)),e>>=1,r++;this.stateId=t.data}for(var i=0;i<this.checks.length;i++)this.checks[i](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(var r=0;r<this.checks.length;r++)this.checks[r](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],r=this.gl;2===e.length?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(0),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var r=this.checks.indexOf(t);e&&-1===r?this.checks.push(t):e||-1===r||this.checks.splice(r,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e}(ve),Hr=function(t){function e(e){t.call(this,e),this.count=0,this.checkCount=0,this.maxIdle=c.GC_MAX_IDLE,this.checkCountMax=c.GC_MAX_CHECK_COUNT,this.mode=c.GC_MODE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.postrender=function(){this.count++,this.mode!==A.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,r=!1,i=0;i<e.length;i++){var n=e[i];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[i]=null,r=!0)}if(r){for(var o=0,s=0;s<e.length;s++)null!==e[s]&&(e[o++]=e[s]);e.length=o}},e.prototype.unload=function(t){var e=this.renderer.textureSystem;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},e}(ve),Gr=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071},Yr=function(t){function e(e){t.call(this,e),this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new he}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var r=0;r<e;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new Gr(t.createTexture());t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Gr(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var o=0;o<this.boundTextures.length;o++)this.bind(null,o)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var r=this.gl;if(t){if((t=t.baseTexture||t).valid){t.touched=this.renderer.textureGC.count;var i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),this.boundTextures[e]!==t&&r.bindTexture(t.target,i.texture),i.dirtyId!==t.dirtyId&&this.updateTexture(t),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var e=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(var n=0;n<r.length;n++)r[n]===t&&(this.currentLocation!==n&&(e.activeTexture(e.TEXTURE0+n),this.currentLocation=n),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[t.target].texture),r[n]=null)},e.prototype.initTexture=function(t){var e=new Gr(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID],r=this.renderer;if(t.resource&&t.resource.upload(r,t,e));else{var i=t.realWidth,n=t.realHeight,o=r.gl;(e.width!==i||e.height!==n||e.dirtyId<0)&&(e.width=i,e.height=n,o.texImage2D(t.target,0,t.format,i,n,0,t.format,t.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId},e.prototype.destroyTexture=function(t,e){var r=this.gl;if((t=t.baseTexture||t)._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var i=this.managedTextures.indexOf(t);-1!==i&&V(this.managedTextures,i,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==I.POW2&&2===this.webGLVersion||t.isPowerOfTwo?(e.mipmap=t.mipmap>=1,e.wrapMode=t.wrapMode):(e.mipmap=0,e.wrapMode=P.CLAMP),t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var r=this.gl;e.mipmap&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap?r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST):r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode?r.LINEAR:r.NEAREST),r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode?r.LINEAR:r.NEAREST)},e}(ve),zr={FilterSystem:ke,BatchSystem:je,ContextSystem:Ge,FramebufferSystem:Ye,GeometrySystem:We,MaskSystem:Ar,StencilSystem:Or,ProjectionSystem:Mr,RenderTextureSystem:Dr,ShaderSystem:Fr,StateSystem:jr,TextureGCSystem:Hr,TextureSystem:Yr},Vr=new bt,Wr=function(t){function e(e,r){t.call(this),(r=Object.assign({},c.RENDER_OPTIONS,r)).roundPixels&&(c.ROUND_PIXELS=r.roundPixels,pt("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),this.options=r,this.type=_.UNKNOWN,this.screen=new Rt(0,0,r.width,r.height),this.view=r.view||document.createElement("canvas"),this.resolution=r.resolution||c.RESOLUTION,this.transparent=r.transparent,this.autoDensity=r.autoDensity||r.autoResize||!1,this.preserveDrawingBuffer=r.preserveDrawingBuffer,this.clearBeforeRender=r.clearBeforeRender,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,0],this._backgroundColorString="#000000",this.backgroundColor=r.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent=new Gt,this._lastObjectRendered=this._tempDisplayObjectParent,this.plugins={}}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={width:{configurable:!0},height:{configurable:!0},backgroundColor:{configurable:!0}};return e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},r.width.get=function(){return this.view.width},r.height.get=function(){return this.view.height},e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,r,i){0===(i=i||t.getLocalBounds()).width&&(i.width=1),0===i.height&&(i.height=1);var n=we.create(0|i.width,0|i.height,e,r);return Vr.tx=-i.x,Vr.ty=-i.y,this.render(t,n,!1,Vr,!!t.parent),n},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.plugins=null,this.type=_.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoDensity=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},r.backgroundColor.get=function(){return this._backgroundColor},r.backgroundColor.set=function(t){this._backgroundColor=t,this._backgroundColorString=U(t),N(t,this._backgroundColorRgba)},Object.defineProperties(e.prototype,r),e}(p.a),qr=function(t){function e(r){void 0===r&&(r={}),t.call(this,"WebGL",r),r=this.options,this.type=_.WEBGL,this.gl=null,this.CONTEXT_UID=0,this.runners={destroy:new Vt("destroy"),contextChange:new Vt("contextChange",1),reset:new Vt("reset"),update:new Vt("update"),postrender:new Vt("postrender"),prerender:new Vt("prerender"),resize:new Vt("resize",2)},this.globalUniforms=new Ue({projectionMatrix:new bt},!0),this.addSystem(Ar,"mask").addSystem(Ge,"context").addSystem(jr,"state").addSystem(Fr,"shader").addSystem(Yr,"texture").addSystem(We,"geometry").addSystem(Ye,"framebuffer").addSystem(Or,"stencil").addSystem(Mr,"projection").addSystem(Hr,"textureGC").addSystem(ke,"filter").addSystem(Dr,"renderTexture").addSystem(je,"batch"),this.initPlugins(e.__plugins),r.context?this.context.initFromContext(r.context):this.context.initFromOptions({alpha:this.transparent,antialias:r.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:this.options.powerPreference}),this.renderingToScreen=!0,L(2===this.context.webGLVersion?"WebGL 2":"WebGL 1"),this.resize(this.options.width,this.options.height)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t){if(F())return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,e){e||(e=t.name);var r=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var i in this[e]=r,this.runners)this.runners[i].add(r);return this},e.prototype.render=function(t,e,r,i,n){if(this.renderingToScreen=!e,this.runners.prerender.run(),this.emit("prerender"),this.projection.transform=i,!this.context.isLost){if(e||(this._lastObjectRendered=t),!n){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.run(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(e,r){t.prototype.resize.call(this,e,r),this.runners.resize.run(e,r)},e.prototype.reset=function(){return this.runners.reset.run(),this},e.prototype.clear=function(){this.framebuffer.bind(),this.framebuffer.clear()},e.prototype.destroy=function(e){this.runners.destroy.run(),t.prototype.destroy.call(this,e),this.gl=null},e.registerPlugin=function(t,r){e.__plugins=e.__plugins||{},e.__plugins[t]=r},e}(Wr);function Zr(t){return qr.create(t)}var Kr="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",Jr="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Qr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.from=function(t,r){return new e(new ce(t,r))},e}(he),$r=function(t){function e(e){void 0===e&&(e=!1),t.call(this),this._buffer=new Ie(null,e,!1),this._indexBuffer=new Ie(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,w.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,w.FLOAT).addAttribute("aColor",this._buffer,4,!0,w.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,w.FLOAT).addIndex(this._indexBuffer)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Re),ti=function(){this.textures=[],this.ids=[],this.blend=0,this.textureCount=0,this.start=0,this.size=0,this.type=4},ei=function(t){this.vertices=new ArrayBuffer(t),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)};ei.prototype.destroy=function(){this.vertices=null,this.float32View=null,this.uint32View=null};var ri="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",ii=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","%forloop%","gl_FragColor = color * vColor;","}"].join("\n"),ni={},oi={};function si(t,e){if(!oi[e]){for(var r=new Int32Array(e),i=0;i<e;i++)r[i]=i;ni[e]=Ue.from({uSamplers:r},!0);var n=ii;n=(n=n.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n",e+="\n";for(var r=0;r<t;r++)r>0&&(e+="\nelse "),r<t-1&&(e+="if(vTextureId < "+r+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}(e)),oi[e]=new vr(ri,n)}var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new bt,default:ni[e]};return new yr(oi[e],o)}var ai=function(t){function e(e){t.call(this,e),this.vertSize=6,this.vertByteSize=4*this.vertSize,this.size=8e3,this.currentSize=0,this.currentIndexSize=0,this.attributeBuffers={},this.aBuffers={},this.iBuffers={},this.onlySprites=!1,this.shader=null,this.currentIndex=0,this.groups=[];for(var r=0;r<this.size/4;r++)this.groups[r]=new ti;this.elements=[],this.vaos=[],this.vaoMax=2,this.vertexCount=0,this.renderer.on("prerender",this.onPrerender,this),this.state=_r.for2d()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){var t=this.renderer.gl;c.PREFER_ENV===g.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),c.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=cr(this.MAX_TEXTURES,t)),this.shader=si(0,this.MAX_TEXTURES);for(var e=0;e<this.vaoMax;e++)this.vaos[e]=new $r},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){t._texture.valid&&(this.currentSize+t.vertexData.length/2>this.size&&this.flush(),this.elements[this.currentIndex++]=t,this.currentSize+=t.vertexData.length/2,this.currentIndexSize+=t.indices.length)},e.prototype.getIndexBuffer=function(t){var e=K(Math.ceil(t/12)),r=Q(e),i=12*e;this.iBuffers.length<=r&&(this.iBuffers.length=r+1);var n=this.iBuffers[r];return n||(this.iBuffers[r]=n=new Uint16Array(i)),n},e.prototype.getAttributeBuffer=function(t){var e=K(Math.ceil(t/8)),r=Q(e),i=8*e;this.aBuffers.length<=r&&(this.iBuffers.length=r+1);var n=this.aBuffers[i];return n||(this.aBuffers[i]=n=new ei(i*this.vertByteSize)),n},e.prototype.flush=function(){if(0!==this.currentSize){var t,e,r=this.renderer.gl,i=this.MAX_TEXTURES,n=this.getAttributeBuffer(this.currentSize),o=this.getIndexBuffer(this.currentIndexSize),s=this.elements,a=this.groups,h=n.float32View,u=n.uint32View,l=this.renderer.textureGC.count,d=0,p=0,f=0,v=0,m=a[0],y=-1;m.textureCount=0,m.start=0,m.blend=y;var g,_=++he._globalBatch;for(g=0;g<this.currentIndex;++g){var x=s[g];s[g]=null,t=x._texture.baseTexture;var b=X[t.premultiplyAlpha?1:0][x.blendMode];y!==b&&(y=b,e=null,v=i,_++),e!==t&&(e=t,t._batchEnabled!==_&&(v===i&&(_++,v=0,m.size=p-m.start,(m=a[f++]).textureCount=0,m.blend=y,m.start=p),t.touched=l,t._batchEnabled=_,t._id=v,m.textures[m.textureCount++]=t,v++)),this.packGeometry(x,h,u,o,d,p),d+=x.vertexData.length/2*this.vertSize,p+=x.indices.length}he._globalBatch=_,m.size=p-m.start,c.CAN_UPLOAD_SAME_BUFFER?(this.vaos[this.vertexCount]._buffer.update(n.vertices,0),this.vaos[this.vertexCount]._indexBuffer.update(o,0),this.renderer.geometry.updateBuffers()):(this.vaoMax<=this.vertexCount&&(this.vaoMax++,this.vaos[this.vertexCount]=new $r),this.vaos[this.vertexCount]._buffer.update(n.vertices,0),this.vaos[this.vertexCount]._indexBuffer.update(o,0),this.renderer.geometry.bind(this.vaos[this.vertexCount]),this.renderer.geometry.updateBuffers(),this.vertexCount++);var T=this.renderer.texture,E=this.renderer.state;for(g=0;g<f;g++){for(var w=a[g],S=w.textureCount,P=0;P<S;P++)T.bind(w.textures[P],P),w.textures[P]=null;E.setBlendMode(w.blend),r.drawElements(w.type,w.size,r.UNSIGNED_SHORT,2*w.start)}this.currentIndex=0,this.currentSize=0,this.currentIndexSize=0}},e.prototype.packGeometry=function(t,e,r,i,n,o){for(var s=n/this.vertSize,a=t.uvs,h=t.indices,u=t.vertexData,l=t._texture.baseTexture._id,c=Math.min(t.worldAlpha,1),d=c<1&&t._texture.baseTexture.premultiplyAlpha?G(t._tintRGB,c):t._tintRGB+(255*c<<24),p=0;p<u.length;p+=2)e[n++]=u[p],e[n++]=u[p+1],e[n++]=a[p],e[n++]=a[p+1],r[n++]=d,e[n++]=l;for(var f=0;f<h.length;f++)i[o++]=s+h[f]},e.prototype.start=function(){this.renderer.state.setState(this.state),this.renderer.shader.bind(this.shader),c.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this.vaos[this.vertexCount])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),this.shader&&(this.shader.destroy(),this.shader=null),this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null,t.prototype.destroy.call(this)},e}(Xe),hi=new Rt,ui=function(t){this.renderer=t,t.extract=this};
/*!
 * @pixi/extract - v5.0.3
 * Compiled Sun, 19 May 2019 19:03:31 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ui.prototype.image=function(t,e,r){var i=new Image;return i.src=this.base64(t,e,r),i},ui.prototype.base64=function(t,e,r){return this.canvas(t).toDataURL(e,r)},ui.prototype.canvas=function(t){var e,r,i,n=this.renderer,o=!1,s=!1;t&&(t instanceof we?i=t:(i=this.renderer.generateTexture(t),s=!0)),i?(e=i.baseTexture.resolution,r=i.frame,o=!1,n.renderTexture.bind(i)):(e=this.renderer.resolution,o=!0,(r=hi).width=this.renderer.width,r.height=this.renderer.height,n.renderTexture.bind(null));var a=r.width*e,h=r.height*e,u=new ot(a,h,1),l=new Uint8Array(4*a*h),c=n.gl;c.readPixels(r.x*e,r.y*e,a,h,c.RGBA,c.UNSIGNED_BYTE,l);var d=u.context.getImageData(0,0,a,h);return d.data.set(l),u.context.putImageData(d,0,0),o&&(u.context.scale(1,-1),u.context.drawImage(u.canvas,0,-h)),s&&i.destroy(!0),u.canvas},ui.prototype.pixels=function(t){var e,r,i,n=this.renderer,o=!1;t&&(t instanceof we?i=t:(i=this.renderer.generateTexture(t),o=!0)),i?(e=i.baseTexture.resolution,r=i.frame,n.renderTexture.bind(i)):(e=n.resolution,(r=hi).width=n.width,r.height=n.height,n.renderTexture.bind(null));var s=r.width*e,a=r.height*e,h=new Uint8Array(4*s*a),u=n.gl;return u.readPixels(r.x*e,r.y*e,s,a,u.RGBA,u.UNSIGNED_BYTE,h),o&&i.destroy(!0),h},ui.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null};
/*!
 * @pixi/interaction - v5.0.3
 * Compiled Sun, 19 May 2019 19:03:31 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var li=function(){this.global=new ft,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0},ci={pointerId:{configurable:!0}};ci.pointerId.get=function(){return this.identifier},li.prototype.getLocalPosition=function(t,e,r){return t.worldTransform.applyInverse(r||this.global,e)},li.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},li.prototype.reset=function(){this.isPrimary=!1},Object.defineProperties(li.prototype,ci);var di=function(){this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null};di.prototype.stopPropagation=function(){this.stopped=!0},di.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null};var pi=function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE},fi={pointerId:{configurable:!0},flags:{configurable:!0},none:{configurable:!0},over:{configurable:!0},rightDown:{configurable:!0},leftDown:{configurable:!0}};pi.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},fi.pointerId.get=function(){return this._pointerId},fi.flags.get=function(){return this._flags},fi.flags.set=function(t){this._flags=t},fi.none.get=function(){return this._flags===this.constructor.FLAGS.NONE},fi.over.get=function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},fi.over.set=function(t){this._doSet(this.constructor.FLAGS.OVER,t)},fi.rightDown.get=function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},fi.rightDown.set=function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)},fi.leftDown.get=function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},fi.leftDown.set=function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)},Object.defineProperties(pi.prototype,fi),pi.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4});var vi={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};jt.mixin(vi);var mi=1,yi={target:null,data:{global:null}},gi=function(t){function e(e,r){t.call(this),r=r||{},this.renderer=e,this.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,this.interactionFrequency=r.interactionFrequency||10,this.mouse=new li,this.mouse.identifier=mi,this.mouse.global.set(-999999),this.activeInteractionData={},this.activeInteractionData[mi]=this.mouse,this.interactionDataPool=[],this.eventData=new di,this.interactionDOMElement=null,this.moveWhenInside=!1,this.eventsAdded=!1,this.mouseOverRenderer=!1,this.supportsTouchEvents="ontouchstart"in window,this.supportsPointerEvents=!!window.PointerEvent,this.onPointerUp=this.onPointerUp.bind(this),this.processPointerUp=this.processPointerUp.bind(this),this.onPointerCancel=this.onPointerCancel.bind(this),this.processPointerCancel=this.processPointerCancel.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.processPointerDown=this.processPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.processPointerMove=this.processPointerMove.bind(this),this.onPointerOut=this.onPointerOut.bind(this),this.processPointerOverOut=this.processPointerOverOut.bind(this),this.onPointerOver=this.onPointerOver.bind(this),this.cursorStyles={default:"inherit",pointer:"pointer"},this.currentCursorMode=null,this.cursor=null,this._tempPoint=new ft,this.resolution=1,this.setTargetElement(this.renderer.view,this.renderer.resolution)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hitTest=function(t,e){return yi.target=null,yi.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(yi,e,null,!0),yi.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(Kt.system.add(this.update,this,qt.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(Kt.system.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var r=this.activeInteractionData[e];if(r.originalEvent&&"touch"!==r.pointerType){var i=this.configureInteractionEventForDOMEvent(this.eventData,r.originalEvent,r);this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,r){r.stopped||(r.currentTarget=t,r.type=e,t.emit(e,r),t[e]&&t[e](r))},e.prototype.mapPositionToPoint=function(t,e,r){var i;i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n=1/this.resolution;t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)*n,t.y=(r-i.top)*(this.interactionDOMElement.height/i.height)*n},e.prototype.processInteractive=function(t,e,r,i,n){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=n=e.interactive||n,h=!0;if(e.hitArea?(i&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,h=!1)),a=!1):e._mask&&i&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(i=!1)),h&&e.interactiveChildren&&e.children)for(var u=e.children,l=u.length-1;l>=0;l--){var c=u[l],d=this.processInteractive(t,c,r,i,a);if(d){if(!c.parent)continue;a=!1,d&&(t.target&&(i=!1),s=!0)}}return n&&(i&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),r&&r(t,e,!!s))),s},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized)(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);if(s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType)this.emit("touchstart",s);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,r){var i=t.data,n=t.data.identifier;if(r)if(e.trackedPointers[n]||(e.trackedPointers[n]=new pi(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===i.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===i.pointerType||"pen"===i.pointerType){var o=2===i.button;o?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,r){for(var i=this.normalizeToPointerData(t),n=i.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<n;s++){var a=i[s],h=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,h);if(u.data.originalEvent=t,this.processInteractive(u,this.renderer._lastObjectRendered,r,e||!o),this.emit(e?"pointercancel":"pointerup"+o,u),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+o:"mouseup"+o,u)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,u),this.releaseInteractionDataForPointerId(a.pointerId,h))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var r=t.data,i=t.data.identifier;void 0!==e.trackedPointers[i]&&(delete e.trackedPointers[i],this.dispatchEvent(e,"pointercancel",t),"touch"===r.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,r){var i=t.data,n=t.data.identifier,o=e.trackedPointers[n],s="touch"===i.pointerType,a="mouse"===i.pointerType||"pen"===i.pointerType,h=!1;if(a){var u=2===i.button,l=pi.FLAGS,c=u?l.RIGHT_DOWN:l.LEFT_DOWN,d=void 0!==o&&o.flags&c;r?(this.dispatchEvent(e,u?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,u?"rightclick":"click",t),h=!0)):d&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),o&&(u?o.rightDown=!1:o.leftDown=!1)}r?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(a&&!h||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[n]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var r=e.length,i=0;i<r;i++){var n=e[i],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);s.data.originalEvent=t;var a="touch"!==n.pointerType||this.moveWhenInside;this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,a),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,r){var i=t.data,n="touch"===i.pointerType,o="mouse"===i.pointerType||"pen"===i.pointerType;o&&this.processPointerOverOut(t,e,r),this.moveWhenInside&&!r||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",i),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",i):this.releaseInteractionDataForPointerId(r.identifier)}},e.prototype.processPointerOverOut=function(t,e,r){var i=t.data,n=t.data.identifier,o="mouse"===i.pointerType||"pen"===i.pointerType,s=e.trackedPointers[n];r&&!s&&(s=e.trackedPointers[n]=new pi(n)),void 0!==s&&(r&&this.mouseOverRenderer?(s.over||(s.over=!0,this.dispatchEvent(e,"pointerover",t),o&&this.dispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[n]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],r=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,r);i.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",i),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",i)},e.prototype.getInteractionDataForPointerId=function(t){var e,r=t.pointerId;return r===mi||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[r]?e=this.activeInteractionData[r]:((e=this.interactionDataPool.pop()||new li).identifier=r,this.activeInteractionData[r]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,r){return t.data=r,this.mapPositionToPoint(r.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=r.global.x,e.globalY=r.global.y),r.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,i=t.changedTouches.length;r<i;r++){var n=t.changedTouches[r];void 0===n.button&&(n.button=t.touches.length?1:0),void 0===n.buttons&&(n.buttons=t.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),void 0===n.twist&&(n.twist=0),void 0===n.tangentialPressure&&(n.tangentialPressure=0),void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,e.push(n)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=mi),void 0===t.pressure&&(t.pressure=.5),void 0===t.twist&&(t.twist=0),void 0===t.tangentialPressure&&(t.tangentialPressure=0),t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(p.a),_i={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive)return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},xi=function(){this.reset()};xi.prototype.clone=function(){var t=new xi;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},xi.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Te.WHITE,this.matrix=null,this.visible=!1},xi.prototype.destroy=function(){this.texture=null,this.matrix=null};var bi=function(t,e,r,i){void 0===e&&(e=null),void 0===r&&(r=null),void 0===i&&(i=null),this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=i,this.type=t.type,this.points=[],this.holes=[]};bi.prototype.clone=function(){return new bi(this.shape,this.fillStyle,this.lineStyle,this.matrix)},bi.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null};var Ti={build:function(t){var e,r,i=t.shape,n=t.points,o=i.x,s=i.y;if(n.length=0,t.type===xt.CIRC?(e=i.radius,r=i.radius):(e=i.width,r=i.height),0!==e&&0!==r){var a=Math.floor(30*Math.sqrt(i.radius))||Math.floor(15*Math.sqrt(i.width+i.height));a/=2.3;for(var h=2*Math.PI/a,u=0;u<a;u++)n.push(o+Math.sin(-h*u)*e,s+Math.cos(-h*u)*r);n.push(n[0],n[1])}},triangulate:function(t,e){var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=o;i.push(t.shape.x,t.shape.y);for(var a=0;a<r.length;a+=2)i.push(r[a],r[a+1]),n.push(o++,s,o)}};function Ei(t,e){t.lineStyle.native?function(t,e){var r=0,i=t.points||t.shape.points;if(0===i.length)return;var n=e.points,o=e.indices,s=i.length/2,a=n.length/2;for(r=1;r<s;r++){var h=i[2*(r-1)],u=i[2*(r-1)+1],l=i[2*r],c=i[2*r+1];n.push(h,u),n.push(l,c),o.push(a++,a++)}}(t,e):function(t,e){var r=t.shape,i=t.points||r.points.slice();if(0===i.length)return;var n=t.lineStyle,o=new ft(i[0],i[1]),s=new ft(i[i.length-2],i[i.length-1]),a=r.type!==xt.POLY||r.closeStroke,h=o.x===s.x&&o.y===s.y;if(a){i=i.slice(),h&&(i.pop(),i.pop(),s.set(i[i.length-2],i[i.length-1]));var u=s.x+.5*(o.x-s.x),l=s.y+.5*(o.y-s.y);i.unshift(u,l),i.push(u,l)}var c=e.points,d=i.length/2,p=i.length,f=c.length/2,v=n.width/2,m=i[0],y=i[1],g=i[2],_=i[3],x=0,b=0,T=-(y-_),E=m-g,w=0,S=0,P=0,I=0,A=Math.sqrt(T*T+E*E);T/=A,E/=A,T*=v,E*=v;var O=n.alignment,M=2*(1-O),C=2*O;c.push(m-T*M,y-E*M),c.push(m+T*C,y+E*C);for(var D=1;D<d-1;++D){m=i[2*(D-1)],y=i[2*(D-1)+1],g=i[2*D],_=i[2*D+1],x=i[2*(D+1)],b=i[2*(D+1)+1],T=-(y-_),E=m-g,A=Math.sqrt(T*T+E*E),T/=A,E/=A,T*=v,E*=v,w=-(_-b),S=g-x,A=Math.sqrt(w*w+S*S),w/=A,S/=A;var R=-E+y-(-E+_),L=-T+g-(-T+m),F=(-T+m)*(-E+_)-(-T+g)*(-E+y),N=-(S*=v)+b-(-S+_),U=-(w*=v)+g-(-w+x),B=(-w+x)*(-S+_)-(-w+g)*(-S+b),k=R*U-N*L;if(Math.abs(k)<.1)k+=10.1,c.push(g-T*M,_-E*M),c.push(g+T*C,_+E*C);else{var X=(L*B-U*F)/k,j=(N*F-R*B)/k,H=(X-g)*(X-g)+(j-_)*(j-_);H>196*v*v?(P=T-w,I=E-S,A=Math.sqrt(P*P+I*I),P/=A,I/=A,P*=v,I*=v,c.push(g-P*M,_-I*M),c.push(g+P*C,_+I*C),c.push(g-P*C*M,_-I*M),p++):(c.push(g+(X-g)*M,_+(j-_)*M),c.push(g-(X-g)*C,_-(j-_)*C))}}m=i[2*(d-2)],y=i[2*(d-2)+1],g=i[2*(d-1)],_=i[2*(d-1)+1],T=-(y-_),E=m-g,A=Math.sqrt(T*T+E*E),T/=A,E/=A,T*=v,E*=v,c.push(g-T*M,_-E*M),c.push(g+T*C,_+E*C);for(var G=e.indices,Y=0;Y<p-2;++Y)G.push(f,f+1,f+2),f++}(t,e)}var wi={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,i=t.holes,n=e.points,o=e.indices;if(r.length>=6){for(var s=[],a=0;a<i.length;a++){var h=i[a];s.push(r.length/2),r=r.concat(h.points)}var u=v()(r,s,2);if(!u)return;for(var l=n.length/2,c=0;c<u.length;c+=3)o.push(u[c]+l),o.push(u[c+1]+l),o.push(u[c+2]+l);for(var d=0;d<r.length;d++)n.push(r[d])}}},Si={build:function(t){var e=t.shape,r=t.points,i=e.x,n=e.y,o=e.width,s=e.height,a=e.radius;r.length=0,Ii(i,n+a,i,n,i+a,n,r),Ii(i+o-a,n,i+o,n,i+o,n+a,r),Ii(i+o,n+s-a,i+o,n+s,i+o-a,n+s,r),Ii(i+a,n+s,i,n+s,i,n+s-a,r)},triangulate:function(t,e){for(var r=t.points,i=e.points,n=e.indices,o=i.length/2,s=v()(r,null,2),a=0,h=s.length;a<h;a+=3)n.push(s[a]+o),n.push(s[a+1]+o),n.push(s[a+2]+o);for(var u=0,l=r.length;u<l;u++)i.push(r[u],r[++u])}};function Pi(t,e,r){return t+(e-t)*r}function Ii(t,e,r,i,n,o,s){void 0===s&&(s=[]);for(var a=s,h=0,u=0,l=0,c=0,d=0,p=0,f=0,v=0;f<=20;++f)h=Pi(t,r,v=f/20),u=Pi(e,i,v),l=Pi(r,n,v),c=Pi(i,o,v),d=Pi(h,l,v),p=Pi(u,c,v),a.push(d,p);return a}var Ai=[],Oi=[],Mi={};Mi[xt.POLY]=wi,Mi[xt.CIRC]=Ti,Mi[xt.ELIP]=Ti,Mi[xt.RECT]={build:function(t){var e=t.shape,r=e.x,i=e.y,n=e.width,o=e.height,s=t.points;s.length=0,s.push(r,i,r+n,i,r+n,i+o,r,i+o)},triangulate:function(t,e){var r=t.points,i=e.points,n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},Mi[xt.RREC]=Si;var Ci=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},Di=function(t){function e(){t.call(this),this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.dirty=0,this.batchDirty=-1,this.cacheDirty=-1,this.clearDirty=0,this.drawCalls=[],this.batches=[],this.shapeIndex=0,this._bounds=new Xt,this.boundsDirty=-1,this.boundsPadding=0,this.batchable=!1,this.indicesUint16=null,this.uvsFloat32=null}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={bounds:{configurable:!0}};return r.bounds.get=function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},e.prototype.clear=function(){if(this.graphicsData.length>0){this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.batchDirty++,this.graphicsData.length=0,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].textures.length=0,Oi.push(this.drawCalls[t]);this.drawCalls.length=0;for(var e=0;e<this.batches.length;e++){var r=this.batches[e];r.start=0,r.attribStart=0,r.style=null,Ai.push(r)}this.batches.length=0}return this},e.prototype.drawShape=function(t,e,r,i){var n=new bi(t,e,r,i);return this.graphicsData.push(n),this.dirty++,this},e.prototype.drawHole=function(t,e){if(!this.graphicsData.length)return null;var r=new bi(t,null,null,e),i=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=i.lineStyle,i.holes.push(r),this.dirty++,r},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,r=0;r<e.length;++r){var i=e[r];if(i.fillStyle.visible&&(i.shape&&i.shape.contains(t.x,t.y))){if(i.holes)for(var n=0;n<i.holes.length;n++){if(i.holes[n].shape.contains(t.x,t.y))return!1}return!0}}return!1},e.prototype.updateBatches=function(){if(this.dirty!==this.cacheDirty&&0!==this.graphicsData.length){if(this.dirty!==this.cacheDirty)for(var t=0;t<this.graphicsData.length;t++){var e=this.graphicsData[t];if(e.fillStyle&&!e.fillStyle.texture.baseTexture.valid)return;if(e.lineStyle&&!e.lineStyle.texture.baseTexture.valid)return}this.cacheDirty=this.dirty;var r=this.uvs,i=this.batches.pop()||Ai.pop()||new Ci;i.style=i.style||this.graphicsData[0].fillStyle||this.graphicsData[0].lineStyle;var n=i.style.texture.baseTexture,o=i.style.color+i.style.alpha;this.batches.push(i);for(var s=this.shapeIndex;s<this.graphicsData.length;s++){this.shapeIndex++;var a=this.graphicsData[s],h=Mi[a.type],u=a.fillStyle,l=a.lineStyle;h.build(a),a.matrix&&this.transformPoints(a.points,a.matrix);for(var c=0;c<2;c++){var d=0===c?u:l;if(d.visible){var p=d.texture.baseTexture;if(n!==p||d.color+d.alpha!==o){p.wrapMode=10497,n=p,o=d.color+d.alpha;var f=this.indices.length,v=this.points.length/2;i.size=f-i.start,i.attribSize=v-i.attribStart,i.size>0&&(i=Ai.pop()||new Ci,this.batches.push(i)),i.style=d,i.start=f,i.attribStart=v}var m=this.points.length/2;if(0===c)a.holes.length?(this.processHoles(a.holes),wi.triangulate(a,this)):h.triangulate(a,this);else{Ei(a,this);for(var y=0;y<a.holes.length;y++)Ei(a.holes[y],this)}var g=this.points.length/2-m;this.addUvs(this.points,r,d.texture,m,g,d.matrix)}}}var _=this.indices.length,x=this.points.length/2;if(i.size=_-i.start,i.attribSize=x-i.attribStart,this.indicesUint16=new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var b=0;b<this.batches.length;b++)for(var T=this.batches[b],E=0;E<T.size;E++){var w=T.start+E;this.indicesUint16[w]=this.indicesUint16[w]-T.attribStart}}else this.buildDrawCalls()}},e.prototype.isBatchable=function(){for(var t=this.batches,r=0;r<t.length;r++)if(t[r].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++he._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].textures.length=0,Oi.push(this.drawCalls[e]);this.drawCalls.length=0;var r=this.uvs,i=this.colors,n=this.textureIds,o=Oi.pop()||new ti;o.textureCount=0,o.start=0,o.size=0,o.type=b.TRIANGLES;var s=0,a=null,h=0,u=!1,l=b.TRIANGLES,c=0;this.drawCalls.push(o);for(var d=0;d<this.batches.length;d++){var p=this.batches[d],f=p.style,v=f.texture.baseTexture;u!==f.native&&(l=(u=f.native)?b.LINES:b.TRIANGLES,a=null,s=8,t++),a!==v&&(a=v,v._batchEnabled!==t&&(8===s&&(t++,s=0,o.size>0&&(o=Oi.pop()||new ti,this.drawCalls.push(o)),o.start=c,o.size=0,o.textureCount=0,o.type=l),v.touched=1,v._batchEnabled=t,v._id=s,v.wrapMode=10497,o.textures[o.textureCount++]=v,s++)),o.size+=p.size,c+=p.size,h=v._id,this.addColors(i,f.color,f.alpha,p.attribSize),this.addTextureIds(n,h,p.attribSize)}he._globalBatch=t;for(var m=this.points,y=new ArrayBuffer(3*m.length*4),g=new Float32Array(y),_=new Uint32Array(y),x=0,T=0;T<m.length/2;T++)g[x++]=m[2*T],g[x++]=m[2*T+1],g[x++]=r[2*T],g[x++]=r[2*T+1],_[x++]=i[T],g[x++]=n[T];this._buffer.update(y),this._indexBuffer.update(this.indicesUint16)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var r=t[e];Mi[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},e.prototype.calculateBounds=function(){var t=1/0,e=-1/0,r=1/0,i=-1/0;if(this.graphicsData.length)for(var n=null,o=0,s=0,a=0,h=0,u=0;u<this.graphicsData.length;u++){var l=this.graphicsData[u],c=l.type,d=l.lineStyle?l.lineStyle.width:0;if(n=l.shape,c===xt.RECT||c===xt.RREC)o=n.x-d/2,s=n.y-d/2,t=o<t?o:t,e=o+(a=n.width+d)>e?o+a:e,r=s<r?s:r,i=s+(h=n.height+d)>i?s+h:i;else if(c===xt.CIRC)o=n.x,s=n.y,t=o-(a=n.radius+d/2)<t?o-a:t,e=o+a>e?o+a:e,r=s-(h=n.radius+d/2)<r?s-h:r,i=s+h>i?s+h:i;else if(c===xt.ELIP)o=n.x,s=n.y,t=o-(a=n.width+d/2)<t?o-a:t,e=o+a>e?o+a:e,r=s-(h=n.height+d/2)<r?s-h:r,i=s+h>i?s+h:i;else for(var p=n.points,f=0,v=0,m=0,y=0,g=0,_=0,x=0,b=0,T=0;T+2<p.length;T+=2)o=p[T],s=p[T+1],f=p[T+2],v=p[T+3],m=Math.abs(f-o),y=Math.abs(v-s),h=d,(a=Math.sqrt(m*m+y*y))<1e-9||(t=(x=(f+o)/2)-(g=(h/a*y+m)/2)<t?x-g:t,e=x+g>e?x+g:e,r=(b=(v+s)/2)-(_=(h/a*m+y)/2)<r?b-_:r,i=b+_>i?b+_:i)}else t=0,e=0,r=0,i=0;var E=this.boundsPadding;this._bounds.minX=t-E,this._bounds.maxX=e+E,this._bounds.minY=r-E,this._bounds.maxY=i+E},e.prototype.transformPoints=function(t,e){for(var r=0;r<t.length/2;r++){var i=t[2*r],n=t[2*r+1];t[2*r]=e.a*i+e.c*n+e.tx,t[2*r+1]=e.b*i+e.d*n+e.ty}},e.prototype.addColors=function(t,e,r,i){for(var n=G((e>>16)+(65280&e)+((255&e)<<16),r);i-- >0;)t.push(n)},e.prototype.addTextureIds=function(t,e,r){for(;r-- >0;)t.push(e)},e.prototype.addUvs=function(t,e,r,i,n,o){for(var s=0,a=e.length,h=r.frame;s<n;){var u=t[2*(i+s)],l=t[2*(i+s)+1];if(o){var c=o.a*u+o.c*l+o.tx;l=o.b*u+o.d*l+o.ty,u=c}s++,e.push(u/h.width,l/h.height)}var d=r.baseTexture;(h.width<d.width||h.height<d.height)&&this.adjustUvs(e,r,a,n)},e.prototype.adjustUvs=function(t,e,r,i){for(var n=e.baseTexture,o=r+2*i,s=e.frame,a=s.width/n.width,h=s.height/n.height,u=s.x/s.width,l=s.y/s.height,c=Math.floor(t[r]+1e-6),d=Math.floor(t[r+1]+1e-6),p=r+2;p<o;p+=2)c=Math.min(c,Math.floor(t[p]+1e-6)),d=Math.min(d,Math.floor(t[p+1]+1e-6));u-=c,l-=d;for(var f=r;f<o;f+=2)t[f]=(t[f]+u)*a,t[f+1]=(t[f+1]+l)*h},Object.defineProperties(e.prototype,r),e}($r);Di.BATCHABLE_SIZE=100;var Ri=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.width=0,this.alignment=.5,this.native=!1},e}(xi),Li=function(){};Li.curveLength=function(t,e,r,i,n,o,s,a){for(var h=0,u=0,l=0,c=0,d=0,p=0,f=0,v=0,m=0,y=0,g=0,_=t,x=e,b=1;b<=10;++b)y=_-(v=(f=(p=(d=1-(u=b/10))*d)*d)*t+3*p*u*r+3*d*(l=u*u)*n+(c=l*u)*s),g=x-(m=f*e+3*p*u*i+3*d*l*o+c*a),_=v,x=m,h+=Math.sqrt(y*y+g*g);return h},Li.curveTo=function(t,e,r,i,n,o,s){var a=s[s.length-2],h=s[s.length-1];s.length-=2;var u=_i._segmentsCount(Li.curveLength(a,h,t,e,r,i,n,o)),l=0,c=0,d=0,p=0,f=0;s.push(a,h);for(var v=1,m=0;v<=u;++v)d=(c=(l=1-(m=v/u))*l)*l,f=(p=m*m)*m,s.push(d*a+3*c*m*t+3*l*p*r+f*n,d*h+3*c*m*e+3*l*p*i+f*o)};var Fi=function(){};Fi.curveLength=function(t,e,r,i,n,o){var s=t-2*r+n,a=e-2*i+o,h=2*r-2*t,u=2*i-2*e,l=4*(s*s+a*a),c=4*(s*h+a*u),d=h*h+u*u,p=2*Math.sqrt(l+c+d),f=Math.sqrt(l),v=2*l*f,m=2*Math.sqrt(d),y=c/f;return(v*p+f*c*(p-m)+(4*d*l-c*c)*Math.log((2*f+y+p)/(y+m)))/(4*v)},Fi.curveTo=function(t,e,r,i,n){for(var o=n[n.length-2],s=n[n.length-1],a=_i._segmentsCount(Fi.curveLength(o,s,t,e,r,i)),h=0,u=0,l=1;l<=a;++l){var c=l/a;h=o+(t-o)*c,u=s+(e-s)*c,n.push(h+(t+(r-t)*c-h)*c,u+(e+(i-e)*c-u)*c)}};var Ni=function(){};Ni.curveTo=function(t,e,r,i,n,o){var s=o[o.length-2],a=o[o.length-1]-e,h=s-t,u=i-e,l=r-t,c=Math.abs(a*l-h*u);if(c<1e-8||0===n)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var d=a*a+h*h,p=u*u+l*l,f=a*u+h*l,v=n*Math.sqrt(d)/c,m=n*Math.sqrt(p)/c,y=v*f/d,g=m*f/p,_=v*l+m*h,x=v*u+m*a,b=h*(m+y),T=a*(m+y),E=l*(v+g),w=u*(v+g);return{cx:_+t,cy:x+e,radius:n,startAngle:Math.atan2(T-x,b-_),endAngle:Math.atan2(w-x,E-_),anticlockwise:h*u>l*a}},Ni.arc=function(t,e,r,i,n,o,s,a,h){for(var u=s-o,l=_i._segmentsCount(Math.abs(u)*n,40*Math.ceil(Math.abs(u)/yt)),c=u/(2*l),d=2*c,p=Math.cos(c),f=Math.sin(c),v=l-1,m=v%1/v,y=0;y<=v;++y){var g=c+o+d*(y+m*y),_=Math.cos(g),x=-Math.sin(g);h.push((p*_+f*x)*n+r,(p*-x+f*_)*n+i)}};var Ui=function(t){function e(e,r,i,n,o,s){o=o||n/2;for(var a=-1*Math.PI/2+s,h=2*i,u=yt/h,l=[],c=0;c<h;c++){var d=c%2?o:n,p=c*u+a;l.push(e+d*Math.cos(p),r+d*Math.sin(p))}t.call(this,l)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Bt),Bi=new Float32Array(3),ki=null,Xi=function(t){function e(e){void 0===e&&(e=null),t.call(this),this.geometry=e||new Di,this.geometry.refCount++,this.shader=null,this.state=_r.for2d(),this._fillStyle=new xi,this._lineStyle=new Ri,this._matrix=null,this._holeMode=!1,this.currentPath=null,this.batches=[],this.batchTint=-1,this.vertexData=null,this._transformID=-1,this.batchDirty=-1,this.tint=16777215,this.blendMode=x.NORMAL}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={blendMode:{configurable:!0},tint:{configurable:!0},fill:{configurable:!0},line:{configurable:!0}};return e.prototype.clone=function(){return this.finishPoly(),new e(this.geometry)},r.blendMode.set=function(t){this.state.blendMode=t},r.blendMode.get=function(){return this.state.blendMode},r.tint.get=function(){return this._tint},r.tint.set=function(t){this._tint=t},r.fill.get=function(){return this._fillStyle},r.line.get=function(){return this._lineStyle},e.prototype.lineStyle=function(t,e,r,i,n){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=1),void 0===i&&(i=.5),void 0===n&&(n=!1),this.lineTextureStyle(t,Te.WHITE,e,r,null,i,n),this},e.prototype.lineTextureStyle=function(t,e,r,i,n,o,s){void 0===t&&(t=0),void 0===e&&(e=Te.WHITE),void 0===r&&(r=16777215),void 0===i&&(i=1),void 0===n&&(n=null),void 0===o&&(o=.5),void 0===s&&(s=!1),this.currentPath&&this.startPoly();var a=t>0&&i>0;return a?(n&&(n=n.clone()).invert(),Object.assign(this._lineStyle,{color:r,width:t,alpha:i,matrix:n,texture:e,alignment:o,native:s,visible:a})):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Bt,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Bt,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,i=r[r.length-2],n=r[r.length-1];return i===t&&n===e||r.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,r,i){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),Fi.curveTo(t,e,r,i,n),this},e.prototype.bezierCurveTo=function(t,e,r,i,n,o){return this._initCurve(),Li.curveTo(t,e,r,i,n,o,this.currentPath.points),this},e.prototype.arcTo=function(t,e,r,i,n){this._initCurve(t,e);var o=this.currentPath.points,s=Ni.curveTo(t,e,r,i,n,o);if(s){var a=s.cx,h=s.cy,u=s.radius,l=s.startAngle,c=s.endAngle,d=s.anticlockwise;this.arc(a,h,u,l,c,d)}return this},e.prototype.arc=function(t,e,r,i,n,o){if(void 0===o&&(o=!1),i===n)return this;if(!o&&n<=i?n+=yt:o&&i<=n&&(i+=yt),0===n-i)return this;var s=t+Math.cos(i)*r,a=e+Math.sin(i)*r,h=this.currentPath?this.currentPath.points:null;if(h){var u=Math.abs(h[h.length-2]-s),l=Math.abs(h[h.length-1]-a);u<.001&&l<.001||h.push(s,a)}else this.moveTo(s,a),h=this.currentPath.points;return Ni.arc(s,a,t,e,r,i,n,o,h),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill(Te.WHITE,t,e)},e.prototype.beginTextureFill=function(t,e,r,i){void 0===t&&(t=Te.WHITE),void 0===e&&(e=16777215),void 0===r&&(r=1),void 0===i&&(i=null),this.currentPath&&this.startPoly();var n=r>0;return n?(i&&(i=i.clone()).invert(),Object.assign(this._fillStyle,{color:e,alpha:r,texture:t,matrix:i,visible:n})):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,r,i){return this.drawShape(new Rt(t,e,r,i))},e.prototype.drawRoundedRect=function(t,e,r,i,n){return this.drawShape(new kt(t,e,r,i,n))},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new Nt(t,e,r))},e.prototype.drawEllipse=function(t,e,r,i){return this.drawShape(new Ut(t,e,r,i))},e.prototype.drawPolygon=function(t){var e=arguments,r=t,i=!0;if(r.points&&(i=r.closeStroke,r=r.points),!Array.isArray(r)){r=new Array(arguments.length);for(var n=0;n<r.length;++n)r[n]=e[n]}var o=new Bt(r);return o.closeStroke=i,this.drawShape(o),this},e.prototype.drawShape=function(t){return this._holeMode?this.geometry.drawHole(t,this._matrix):this.geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.drawStar=function(t,e,r,i,n,o){return void 0===o&&(o=0),this.drawPolygon(new Ui(t,e,r,i,n,o))},e.prototype.clear=function(){return this.geometry.clear(),this._matrix=null,this._holeMode=!1,this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return!1},e.prototype._render=function(t){this.finishPoly();var e=this.geometry;if(e.updateBatches(),e.batchable){if(this.batchDirty!==e.batchDirty){this.batches=[],this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.vertexData=new Float32Array(e.points);for(var r=this.blendMode,i=0;i<e.batches.length;i++){var n=e.batches[i],o=n.style.color,s=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(e.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),h={vertexData:s,blendMode:r,indices:new Uint16Array(e.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:N(o),_tintRGB:o,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[i]=h}}if(t.batch.setObjectRenderer(t.plugins.batch),this.batches.length){this.calculateVertices(),this.calculateTints();for(var u=0;u<this.batches.length;u++){var l=this.batches[u];l.worldAlpha=this.worldAlpha*l.alpha,t.plugins.batch.render(l)}}}else{if(t.batch.flush(),!this.shader){if(!ki){for(var c=new Int32Array(16),d=0;d<16;d++)c[d]=d;var p={tint:new Float32Array([1,1,1,1]),translationMatrix:new bt,default:Ue.from({uSamplers:c},!0)},f=t.plugins.batch.shader.program;ki=new yr(f,p)}this.shader=ki}var v=this.shader.uniforms;v.translationMatrix=this.transform.worldTransform;var m=this.tint,y=this.worldAlpha;v.tint[0]=(m>>16&255)/255*y,v.tint[1]=(m>>8&255)/255*y,v.tint[2]=(255&m)/255*y,v.tint[3]=y,t.shader.bind(this.shader),t.geometry.bind(e,this.shader),t.state.setState(this.state);for(var g=0;g<e.drawCalls.length;g++){for(var _=e.drawCalls[g],x=_.textureCount,b=0;b<x;b++)t.texture.bind(_.textures[b],b);t.geometry.draw(_.type,_.size,_.start)}}},e.prototype._calculateBounds=function(){this.finishPoly();var t=this.geometry.bounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this.geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=N(this.tint,Bi),e=0;e<this.batches.length;e++){var r=this.batches[e],i=r._batchRGB,n=(t[0]*i[0]*255<<16)+(t[1]*i[1]*255<<8)+(0|t[2]*i[2]*255);r._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID;for(var t=this.transform.worldTransform,e=t.a,r=t.b,i=t.c,n=t.d,o=t.tx,s=t.ty,a=this.geometry.points,h=this.vertexData,u=0,l=0;l<a.length;l+=2){var c=a[l],d=a[l+1];h[u++]=e*c+i*d+o,h[u++]=n*d+r*c+s}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this.geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},Object.defineProperties(e.prototype,r),e}(Gt);Xi._TEMP_POINT=new ft;
/*!
 * @pixi/sprite - v5.0.3
 * Compiled Sun, 19 May 2019 19:03:31 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var ji=new ft,Hi=new Uint16Array([0,1,2,0,2,3]),Gi=function(t){function e(e){t.call(this),this._anchor=new vt(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=x.NORMAL,this.shader=null,this.cachedTint=16777215,this.uvs=null,this.texture=e||Te.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=Hi,this.size=4,this.start=0,this.pluginName="batch",this.isSprite=!0,this._roundPixels=c.ROUND_PIXELS}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={roundPixels:{configurable:!0},width:{configurable:!0},height:{configurable:!0},anchor:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this._width&&(this.scale.x=Z(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Z(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this.vertexData,u=t.trim,l=t.orig,c=this._anchor,d=0,p=0,f=0,v=0;if(u?(d=(p=u.x-c._x*l.width)+u.width,f=(v=u.y-c._y*l.height)+u.height):(d=(p=-c._x*l.width)+l.width,f=(v=-c._y*l.height)+l.height),h[0]=r*p+n*v+s,h[1]=o*v+i*p+a,h[2]=r*d+n*v+s,h[3]=o*v+i*d+a,h[4]=r*d+n*f+s,h[5]=o*f+i*d+a,h[6]=r*p+n*f+s,h[7]=o*f+i*p+a,this._roundPixels)for(var m=0;m<8;m++)h[m]=Math.round(h[m])}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,i=this._anchor,n=this.transform.worldTransform,o=n.a,s=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,c=-i._x*r.width,d=c+r.width,p=-i._y*r.height,f=p+r.height;e[0]=o*c+a*p+u,e[1]=h*p+s*c+l,e[2]=o*d+a*p+u,e[3]=h*p+s*d+l,e[4]=o*d+a*f+u,e[5]=h*f+s*d+l,e[6]=o*c+a*f+u,e[7]=h*f+s*c+l},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Rt),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,ji);var e=this._texture.orig.width,r=this._texture.orig.height,i=-e*this.anchor.x,n=0;return ji.x>=i&&ji.x<i+e&&(n=-r*this.anchor.y,ji.y>=n&&ji.y<n+r)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var r="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!r)}this._texture=null,this.shader=null},e.from=function(t,r){return new e(t instanceof Te?t:new Te.from(t,r))},r.roundPixels.set=function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},r.roundPixels.get=function(){return this._roundPixels},r.width.get=function(){return Math.abs(this.scale.x)*this._texture.orig.width},r.width.set=function(t){var e=Z(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},r.height.get=function(){return Math.abs(this.scale.y)*this._texture.orig.height},r.height.set=function(t){var e=Z(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},r.anchor.get=function(){return this._anchor},r.anchor.set=function(t){this._anchor.copyFrom(t)},r.tint.get=function(){return this._tint},r.tint.set=function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},r.texture.get=function(){return this._texture},r.texture.set=function(t){this._texture!==t&&(this._texture=t||Te.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},Object.defineProperties(e.prototype,r),e}(Gt),Yi={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},zi={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Yi.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Vi=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Wi=function(t){this.styleID=0,this.reset(),Ji(this,t,t)},qi={align:{configurable:!0},breakWords:{configurable:!0},dropShadow:{configurable:!0},dropShadowAlpha:{configurable:!0},dropShadowAngle:{configurable:!0},dropShadowBlur:{configurable:!0},dropShadowColor:{configurable:!0},dropShadowDistance:{configurable:!0},fill:{configurable:!0},fillGradientType:{configurable:!0},fillGradientStops:{configurable:!0},fontFamily:{configurable:!0},fontSize:{configurable:!0},fontStyle:{configurable:!0},fontVariant:{configurable:!0},fontWeight:{configurable:!0},letterSpacing:{configurable:!0},lineHeight:{configurable:!0},leading:{configurable:!0},lineJoin:{configurable:!0},miterLimit:{configurable:!0},padding:{configurable:!0},stroke:{configurable:!0},strokeThickness:{configurable:!0},textBaseline:{configurable:!0},trim:{configurable:!0},whiteSpace:{configurable:!0},wordWrap:{configurable:!0},wordWrapWidth:{configurable:!0}};function Zi(t){return"number"==typeof t?U(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function Ki(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=Zi(t[e]);return t}return Zi(t)}function Ji(t,e,r){for(var i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}Wi.prototype.clone=function(){var t={};return Ji(t,this,zi),new Wi(t)},Wi.prototype.reset=function(){Ji(this,zi,zi)},qi.align.get=function(){return this._align},qi.align.set=function(t){this._align!==t&&(this._align=t,this.styleID++)},qi.breakWords.get=function(){return this._breakWords},qi.breakWords.set=function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},qi.dropShadow.get=function(){return this._dropShadow},qi.dropShadow.set=function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},qi.dropShadowAlpha.get=function(){return this._dropShadowAlpha},qi.dropShadowAlpha.set=function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},qi.dropShadowAngle.get=function(){return this._dropShadowAngle},qi.dropShadowAngle.set=function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},qi.dropShadowBlur.get=function(){return this._dropShadowBlur},qi.dropShadowBlur.set=function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},qi.dropShadowColor.get=function(){return this._dropShadowColor},qi.dropShadowColor.set=function(t){var e=Ki(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},qi.dropShadowDistance.get=function(){return this._dropShadowDistance},qi.dropShadowDistance.set=function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},qi.fill.get=function(){return this._fill},qi.fill.set=function(t){var e=Ki(t);this._fill!==e&&(this._fill=e,this.styleID++)},qi.fillGradientType.get=function(){return this._fillGradientType},qi.fillGradientType.set=function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},qi.fillGradientStops.get=function(){return this._fillGradientStops},qi.fillGradientStops.set=function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},qi.fontFamily.get=function(){return this._fontFamily},qi.fontFamily.set=function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},qi.fontSize.get=function(){return this._fontSize},qi.fontSize.set=function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},qi.fontStyle.get=function(){return this._fontStyle},qi.fontStyle.set=function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},qi.fontVariant.get=function(){return this._fontVariant},qi.fontVariant.set=function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},qi.fontWeight.get=function(){return this._fontWeight},qi.fontWeight.set=function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},qi.letterSpacing.get=function(){return this._letterSpacing},qi.letterSpacing.set=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},qi.lineHeight.get=function(){return this._lineHeight},qi.lineHeight.set=function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},qi.leading.get=function(){return this._leading},qi.leading.set=function(t){this._leading!==t&&(this._leading=t,this.styleID++)},qi.lineJoin.get=function(){return this._lineJoin},qi.lineJoin.set=function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},qi.miterLimit.get=function(){return this._miterLimit},qi.miterLimit.set=function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},qi.padding.get=function(){return this._padding},qi.padding.set=function(t){this._padding!==t&&(this._padding=t,this.styleID++)},qi.stroke.get=function(){return this._stroke},qi.stroke.set=function(t){var e=Ki(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},qi.strokeThickness.get=function(){return this._strokeThickness},qi.strokeThickness.set=function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},qi.textBaseline.get=function(){return this._textBaseline},qi.textBaseline.set=function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},qi.trim.get=function(){return this._trim},qi.trim.set=function(t){this._trim!==t&&(this._trim=t,this.styleID++)},qi.whiteSpace.get=function(){return this._whiteSpace},qi.whiteSpace.set=function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},qi.wordWrap.get=function(){return this._wordWrap},qi.wordWrap.set=function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},qi.wordWrapWidth.get=function(){return this._wordWrapWidth},qi.wordWrapWidth.set=function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},Wi.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var r=e.length-1;r>=0;r--){var i=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&Vi.indexOf(i)<0&&(i='"'+i+'"'),e[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},Object.defineProperties(Wi.prototype,qi);var Qi=function(t,e,r,i,n,o,s,a,h){this.text=t,this.style=e,this.width=r,this.height=i,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=h};Qi.measureText=function(t,e,r,i){void 0===i&&(i=Qi._canvas),r=null==r?e.wordWrap:r;var n=e.toFontString(),o=Qi.measureFont(n);0===o.fontSize&&(o.fontSize=e.fontSize,o.ascent=e.fontSize);var s=i.getContext("2d");s.font=n;for(var a=(r?Qi.wordWrap(t,e,i):t).split(/(?:\r\n|\r|\n)/),h=new Array(a.length),u=0,l=0;l<a.length;l++){var c=s.measureText(a[l]).width+(a[l].length-1)*e.letterSpacing;h[l]=c,u=Math.max(u,c)}var d=u+e.strokeThickness;e.dropShadow&&(d+=e.dropShadowDistance);var p=e.lineHeight||o.fontSize+e.strokeThickness,f=Math.max(p,o.fontSize+e.strokeThickness)+(a.length-1)*(p+e.leading);return e.dropShadow&&(f+=e.dropShadowDistance),new Qi(t,e,d,f,a,h,p+e.leading,u,o)},Qi.wordWrap=function(t,e,r){void 0===r&&(r=Qi._canvas);for(var i=r.getContext("2d"),n=0,o="",s="",a={},h=e.letterSpacing,u=e.whiteSpace,l=Qi.collapseSpaces(u),c=Qi.collapseNewlines(u),d=!l,p=e.wordWrapWidth+h,f=Qi.tokenize(t),v=0;v<f.length;v++){var m=f[v];if(Qi.isNewline(m)){if(!c){s+=Qi.addLine(o),d=!l,o="",n=0;continue}m=" "}if(l){var y=Qi.isBreakingSpace(m),g=Qi.isBreakingSpace(o[o.length-1]);if(y&&g)continue}var _=Qi.getFromCache(m,h,a,i);if(_>p)if(""!==o&&(s+=Qi.addLine(o),o="",n=0),Qi.canBreakWords(m,e.breakWords))for(var x=m.split(""),b=0;b<x.length;b++){for(var T=x[b],E=1;x[b+E];){var w=x[b+E],S=T[T.length-1];if(Qi.canBreakChars(S,w,m,b,e.breakWords))break;T+=w,E++}b+=T.length-1;var P=Qi.getFromCache(T,h,a,i);P+n>p&&(s+=Qi.addLine(o),d=!1,o="",n=0),o+=T,n+=P}else{o.length>0&&(s+=Qi.addLine(o),o="",n=0);var I=v===f.length-1;s+=Qi.addLine(m,!I),d=!1,o="",n=0}else _+n>p&&(d=!1,s+=Qi.addLine(o),o="",n=0),(o.length>0||!Qi.isBreakingSpace(m)||d)&&(o+=m,n+=_)}return s+=Qi.addLine(o,!1)},Qi.addLine=function(t,e){return void 0===e&&(e=!0),t=Qi.trimRight(t),t=e?t+"\n":t},Qi.getFromCache=function(t,e,r,i){var n=r[t];if(void 0===n){var o=t.length*e;n=i.measureText(t).width+o,r[t]=n}return n},Qi.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},Qi.collapseNewlines=function(t){return"normal"===t},Qi.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;e>=0;e--){var r=t[e];if(!Qi.isBreakingSpace(r))break;t=t.slice(0,-1)}return t},Qi.isNewline=function(t){return"string"==typeof t&&Qi._newlines.indexOf(t.charCodeAt(0))>=0},Qi.isBreakingSpace=function(t){return"string"==typeof t&&Qi._breakingSpaces.indexOf(t.charCodeAt(0))>=0},Qi.tokenize=function(t){var e=[],r="";if("string"!=typeof t)return e;for(var i=0;i<t.length;i++){var n=t[i];Qi.isBreakingSpace(n)||Qi.isNewline(n)?(""!==r&&(e.push(r),r=""),e.push(n)):r+=n}return""!==r&&e.push(r),e},Qi.canBreakWords=function(t,e){return e},Qi.canBreakChars=function(t,e,r,i,n){return!0},Qi.measureFont=function(t){if(Qi._fonts[t])return Qi._fonts[t];var e={},r=Qi._canvas,i=Qi._context;i.font=t;var n=Qi.METRICS_STRING+Qi.BASELINE_SYMBOL,o=Math.ceil(i.measureText(n).width),s=Math.ceil(i.measureText(Qi.BASELINE_SYMBOL).width),a=2*s;s=s*Qi.BASELINE_MULTIPLIER|0,r.width=o,r.height=a,i.fillStyle="#f00",i.fillRect(0,0,o,a),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(n,0,s);var h=i.getImageData(0,0,o,a).data,u=h.length,l=4*o,c=0,d=0,p=!1;for(c=0;c<s;++c){for(var f=0;f<l;f+=4)if(255!==h[d+f]){p=!0;break}if(p)break;d+=l}for(e.ascent=s-c,d=u-l,p=!1,c=a;c>s;--c){for(var v=0;v<l;v+=4)if(255!==h[d+v]){p=!0;break}if(p)break;d-=l}return e.descent=c-s,e.fontSize=e.ascent+e.descent,Qi._fonts[t]=e,e},Qi.clearMetrics=function(t){void 0===t&&(t=""),t?delete Qi._fonts[t]:Qi._fonts={}};var $i=document.createElement("canvas");$i.width=$i.height=10,Qi._canvas=$i,Qi._context=$i.getContext("2d"),Qi._fonts={},Qi.METRICS_STRING="|q",Qi.BASELINE_SYMBOL="M",Qi.BASELINE_MULTIPLIER=1.4,Qi._newlines=[10,13],Qi._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var tn={texture:!0,children:!1,baseTexture:!0},en=function(t){function e(e,r,i){(i=i||document.createElement("canvas")).width=3,i.height=3;var n=Te.from(i);n.orig=new Rt,n.trim=new Rt,t.call(this,n),this.canvas=i,this.context=this.canvas.getContext("2d"),this._resolution=c.RESOLUTION,this._autoResolution=!0,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={width:{configurable:!0},height:{configurable:!0},style:{configurable:!0},text:{configurable:!0},resolution:{configurable:!0}};return e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var r,i,n=this.context,o=Qi.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=o.width,a=o.height,h=o.lines,u=o.lineHeight,l=o.lineWidths,c=o.maxLineWidth,d=o.fontProperties;if(this.canvas.width=Math.ceil((Math.max(1,s)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,a)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.strokeStyle=e.stroke,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,e.dropShadow){var p=e.dropShadowColor,f=N("number"==typeof p?p:B(p));n.shadowColor="rgba("+255*f[0]+","+255*f[1]+","+255*f[2]+","+e.dropShadowAlpha+")",n.shadowBlur=e.dropShadowBlur,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance}else n.shadowColor=0,n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;n.fillStyle=this._generateFillStyle(e,h);for(var v=0;v<h.length;v++)r=e.strokeThickness/2,i=e.strokeThickness/2+v*u+d.ascent,"right"===e.align?r+=c-l[v]:"center"===e.align&&(r+=(c-l[v])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(h[v],r+e.padding,i+e.padding,!0),e.fill&&this.drawLetterSpacing(h[v],r+e.padding,i+e.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,r,i){void 0===i&&(i=!1);var n=this._style.letterSpacing;if(0!==n)for(var o=e,s=Array.from?Array.from(t):t.split(""),a=0;a<s.length;++a){var h=s[a];i?this.context.strokeText(h,o,r):this.context.fillText(h,o,r),o+=this.context.measureText(h).width+n}else i?this.context.strokeText(t,e,r):this.context.fillText(t,e,r)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=nt(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var r=this._texture,i=this._style,n=i.trim?0:i.padding,o=r.baseTexture;r.trim.width=r._frame.width=t.width/this._resolution,r.trim.height=r._frame.height=t.height/this._resolution,r.trim.x=-n,r.trim.y=-n,r.orig.width=r._frame.width-2*n,r.orig.height=r._frame.height-2*n,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this._resolution),this.dirty=!1},e.prototype.render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.render.call(this,e)},e.prototype._renderCanvas=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;var r,i,n,o,s=this.canvas.width/this._resolution,a=this.canvas.height/this._resolution,h=t.fill.slice(),u=t.fillGradientStops.slice();if(!u.length)for(var l=h.length+1,c=1;c<l;++c)u.push(c/l);if(h.unshift(t.fill[0]),u.unshift(0),h.push(t.fill[t.fill.length-1]),u.push(1),t.fillGradientType===Yi.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,0,s/2,a),i=(h.length+1)*e.length,n=0;for(var d=0;d<e.length;d++){n+=1;for(var p=0;p<h.length;p++)o="number"==typeof u[p]?u[p]/e.length+d/e.length:n/i,r.addColorStop(o,h[p]),n++}}else{r=this.context.createLinearGradient(0,a/2,s,a/2),i=h.length+1,n=1;for(var f=0;f<h.length;f++)o="number"==typeof u[f]?u[f]:n/i,r.addColorStop(o,h[f]),n++}return r},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},tn,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},r.width.get=function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},r.width.set=function(t){this.updateText(!0);var e=Z(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},r.height.get=function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},r.height.set=function(t){this.updateText(!0);var e=Z(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},r.style.get=function(){return this._style},r.style.set=function(t){t=t||{},this._style=t instanceof Wi?t:new Wi(t),this.localStyleID=-1,this.dirty=!0},r.text.get=function(){return this._text},r.text.set=function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},r.resolution.get=function(){return this._resolution},r.resolution.set=function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},Object.defineProperties(e.prototype,r),e}(Gi);
/*!
 * @pixi/prepare - v5.0.3
 * Compiled Sun, 19 May 2019 19:03:31 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
c.UPLOADS_PER_FRAME=4;var rn=function(t){this.maxItemsPerFrame=t,this.itemsLeft=0};rn.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},rn.prototype.allowedToUpload=function(){return this.itemsLeft-- >0};var nn=function(t){var e=this;this.limiter=new rn(c.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(ln),this.registerFindHook(cn),this.registerFindHook(on),this.registerFindHook(sn),this.registerFindHook(an),this.registerUploadHook(hn),this.registerUploadHook(un)};function on(t,e){var r=!1;if(t&&t._textures&&t._textures.length)for(var i=0;i<t._textures.length;i++)if(t._textures[i]instanceof Te){var n=t._textures[i].baseTexture;-1===e.indexOf(n)&&(e.push(n),r=!0)}return r}function sn(t,e){return t instanceof he&&(-1===e.indexOf(t)&&e.push(t),!0)}function an(t,e){if(t._texture&&t._texture instanceof Te){var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function hn(t,e){return e instanceof en&&(e.updateText(!0),!0)}function un(t,e){if(e instanceof Wi){var r=e.toFontString();return Qi.measureFont(r),!0}return!1}function ln(t,e){if(t instanceof en){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var r=t._texture.baseTexture;return-1===e.indexOf(r)&&e.push(r),!0}return!1}function cn(t,e){return t instanceof Wi&&(-1===e.indexOf(t)&&e.push(t),!0)}nn.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,Kt.system.addOnce(this.tick,this,qt.UTILITY))):e&&e()},nn.prototype.tick=function(){setTimeout(this.delayedTick,0)},nn.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)Kt.system.addOnce(this.tick,this,qt.UTILITY);else{this.ticking=!1;var n=this.completes.slice(0);this.completes.length=0;for(var o=0,s=n.length;o<s;o++)n[o]()}},nn.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},nn.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},nn.prototype.add=function(t){for(var e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Gt)for(var i=t.children.length-1;i>=0;i--)this.add(t.children[i]);return this},nn.prototype.destroy=function(){this.ticking&&Kt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null};var dn=function(t){function e(e){t.call(this,e),this.uploadHookHelper=this.renderer,this.registerFindHook(vn),this.registerUploadHook(pn),this.registerUploadHook(fn)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(nn);function pn(t,e){return e instanceof he&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function fn(t,e){return e instanceof Xi&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function vn(t,e){return t instanceof Xi&&(e.push(t),!0)}var mn=function(t){this.maxMilliseconds=t,this.frameStart=0};mn.prototype.beginFrame=function(){this.frameStart=Date.now()},mn.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};
/*!
 * @pixi/app - v5.0.3
 * Compiled Sun, 19 May 2019 19:03:31 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var yn=function t(e){var r=this;e=Object.assign({forceCanvas:!1},e),this.renderer=Zr(e),this.stage=new Gt,t._plugins.forEach(function(t){t.init.call(r,e)})},gn={view:{configurable:!0},screen:{configurable:!0}};yn.registerPlugin=function(t){yn._plugins.push(t)},yn.prototype.render=function(){this.renderer.render(this.stage)},gn.view.get=function(){return this.renderer.view},gn.screen.get=function(){return this.renderer.screen},yn.prototype.destroy=function(t){var e=this,r=yn._plugins.slice(0);r.reverse(),r.forEach(function(t){t.destroy.call(e)}),this.stage.destroy(),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},Object.defineProperties(yn.prototype,gn),yn._plugins=[];var _n=function(){};_n.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.resize),this._resizeTo=t,t&&(window.addEventListener("resize",this.resize),this.resize())},get:function(){return this._resizeTo}}),this.resize=function(){e._resizeTo&&(e._resizeTo===window?e.renderer.resize(window.innerWidth,window.innerHeight):e.renderer.resize(e._resizeTo.clientWidth,e._resizeTo.clientHeight))},this._resizeTo=null,this.resizeTo=t.resizeTo||null},_n.destroy=function(){this.resizeTo=null,this.resize=null},yn.registerPlugin(_n);var xn=r(3),bn=r.n(xn);
/*!
 * @pixi/loaders - v5.0.3
 * Compiled Sun, 19 May 2019 19:03:31 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
function Tn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function En(t,e){return t(e={exports:{}},e.exports),e.exports}var wn=function(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=r.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[r.key[o]]=i[o]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,function(t,e,i){e&&(n[r.q.name][e]=i)}),n},Sn=En(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(e,r,n){void 0===r&&(r=!1),i(this,t),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return r(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function o(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var s=function(){function t(){i(this,t),this._head=this._tail=void 0}return r(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r}},{key:"has",value:function(t){if(!(t instanceof n))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=arguments,e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,t),e=e._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new n(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new n(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof n))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();s.MiniSignalBinding=n,e.default=s,t.exports=e.default});Tn(Sn);var Pn=En(function(t,e){e.__esModule=!0,e.Resource=void 0;var r=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),i=o(wn),n=o(Sn);function o(t){return t&&t.__esModule?t:{default:t}}var s=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),a=null;function h(){}var u=e.Resource=function(){function t(e,r,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=h,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new n.default,this.onProgress=new n.default,this.onComplete=new n.default,this.onAfterMiddleware=new n.default}return t.setExtensionLoadType=function(e,r){l(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){l(t._xhrTypeMap,e,r)},t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(r)},1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:s&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return 0!=(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=r,i},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(c(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(c(t)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(c(t)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",i=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===i&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2===(i/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,a||(a=document.createElement("a")),a.href=t;var r=!(t=(0,i.default)(a.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,n=t.protocol?t.protocol+":":"";return t.host===e.hostname&&r&&n===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var i=t.indexOf("?"),n=t.indexOf("#"),o=Math.min(i>-1?i:t.length,n>-1?n:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},r(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function l(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function c(t){return t.toString().replace("object ","")}u.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},u.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},u.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},u.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},u._loadTypeMap={gif:u.LOAD_TYPE.IMAGE,png:u.LOAD_TYPE.IMAGE,bmp:u.LOAD_TYPE.IMAGE,jpg:u.LOAD_TYPE.IMAGE,jpeg:u.LOAD_TYPE.IMAGE,tif:u.LOAD_TYPE.IMAGE,tiff:u.LOAD_TYPE.IMAGE,webp:u.LOAD_TYPE.IMAGE,tga:u.LOAD_TYPE.IMAGE,svg:u.LOAD_TYPE.IMAGE,"svg+xml":u.LOAD_TYPE.IMAGE,mp3:u.LOAD_TYPE.AUDIO,ogg:u.LOAD_TYPE.AUDIO,wav:u.LOAD_TYPE.AUDIO,mp4:u.LOAD_TYPE.VIDEO,webm:u.LOAD_TYPE.VIDEO},u._xhrTypeMap={xhtml:u.XHR_RESPONSE_TYPE.DOCUMENT,html:u.XHR_RESPONSE_TYPE.DOCUMENT,htm:u.XHR_RESPONSE_TYPE.DOCUMENT,xml:u.XHR_RESPONSE_TYPE.DOCUMENT,tmx:u.XHR_RESPONSE_TYPE.DOCUMENT,svg:u.XHR_RESPONSE_TYPE.DOCUMENT,tsx:u.XHR_RESPONSE_TYPE.DOCUMENT,gif:u.XHR_RESPONSE_TYPE.BLOB,png:u.XHR_RESPONSE_TYPE.BLOB,bmp:u.XHR_RESPONSE_TYPE.BLOB,jpg:u.XHR_RESPONSE_TYPE.BLOB,jpeg:u.XHR_RESPONSE_TYPE.BLOB,tif:u.XHR_RESPONSE_TYPE.BLOB,tiff:u.XHR_RESPONSE_TYPE.BLOB,webp:u.XHR_RESPONSE_TYPE.BLOB,tga:u.XHR_RESPONSE_TYPE.BLOB,json:u.XHR_RESPONSE_TYPE.JSON,text:u.XHR_RESPONSE_TYPE.TEXT,txt:u.XHR_RESPONSE_TYPE.TEXT,ttf:u.XHR_RESPONSE_TYPE.BUFFER,otf:u.XHR_RESPONSE_TYPE.BUFFER},u.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",t.exports.default=u});Tn(Pn);Pn.Resource;var In=En(function(t,e){e.__esModule=!0,e.encodeBinary=i;var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(t){for(var e="",i=0;i<t.length;){for(var n=[0,0,0],o=[0,0,0,0],s=0;s<n.length;++s)i<t.length?n[s]=255&t.charCodeAt(i++):n[s]=0;switch(o[0]=n[0]>>2,o[1]=(3&n[0])<<4|n[1]>>4,o[2]=(15&n[1])<<2|n[2]>>6,o[3]=63&n[2],i-(t.length-1)){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var a=0;a<o.length;++a)e+=r.charAt(o[a])}return e}t.exports.default=i});Tn(In);In.encodeBinary;var An=En(function(t,e){e.__esModule=!0,e.blobMiddlewareFactory=function(){return function(t,e){if(t.data){if(t.xhr&&t.xhrType===Pn.Resource.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var i=r.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=i,t.type=Pn.Resource.TYPE.IMAGE,void(t.data.onload=function(){r.revokeObjectURL(i),t.data.onload=null,e()})}}else{var n=t.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return t.data=new Image,t.data.src="data:"+n+";base64,"+(0,In.encodeBinary)(t.xhr.responseText),t.type=Pn.Resource.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}};var r=window.URL||window.webkitURL});Tn(An);var On=An.blobMiddlewareFactory,Mn=function(){};Mn.use=function(t,e){t.data&&t.type===xn.Resource.TYPE.IMAGE&&(t.texture=Te.fromLoader(t.data,t.url,t.name)),e()};var Cn=function(t){function e(r,i){var n=this;t.call(this,r,i),p.a.call(this);for(var o=0;o<e._plugins.length;++o){var s=e._plugins[o],a=s.pre,h=s.use;a&&this.pre(a),h&&this.use(h)}this.onStart.add(function(t){return n.emit("start",t)}),this.onProgress.add(function(t,e){return n.emit("progress",t,e)}),this.onError.add(function(t,e,r){return n.emit("error",t,e,r)}),this.onLoad.add(function(t,e){return n.emit("load",t,e)}),this.onComplete.add(function(t,e){return n.emit("complete",t,e)}),this._protected=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={shared:{configurable:!0}};return e.prototype.destroy=function(){this._protected||(this.removeAllListeners(),this.reset())},r.shared.get=function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},Object.defineProperties(e,r),e}(bn.a);Object.assign(Cn.prototype,p.a.prototype),Cn._plugins=[],Cn.registerPlugin=function(t){return Cn._plugins.push(t),t.add&&t.add(),Cn},Cn.registerPlugin({use:On()}),Cn.registerPlugin(Mn);var Dn=function(){};Dn.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?Cn.shared:new Cn},Dn.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)};var Rn=xn.Resource,Ln=function(t){function e(e,r,i,n){void 0===e&&(e=1500),void 0===i&&(i=16384),void 0===n&&(n=!1),t.call(this);i>16384&&(i=16384),i>e&&(i=e),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=i,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=x.NORMAL,this.autoResize=n,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tint=0,this.tintRgb=new Float32Array(4),this.tint=16777215}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={tint:{configurable:!0}};return e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},r.tint.get=function(){return this._tint},r.tint.set=function(t){this._tint=t,N(t,this.tintRgb)},e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},Object.defineProperties(e.prototype,r),e}(Gt),Fn=function(t,e,r){this.geometry=new Re,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var n=t[i];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||w.FLOAT,offset:n.offset},e[i]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()};
/*!
 * @pixi/particles - v5.0.3
 * Compiled Sun, 19 May 2019 19:03:31 UTC
 *
 * @pixi/particles is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Fn.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new Ie(z(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r){var i=this.dynamicProperties[r];i.offset=e,e+=i.size,this.dynamicStride+=i.size}var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Ie(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var s=0;s<this.staticProperties.length;++s){var a=this.staticProperties[s];a.offset=o,o+=a.size,this.staticStride+=a.size}var h=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(h),this.staticDataUint32=new Uint32Array(h),this.staticBuffer=new Ie(this.staticData,!0,!1);for(var u=0;u<this.dynamicProperties.length;++u){var l=this.dynamicProperties[u];t.addAttribute(l.attributeName,this.dynamicBuffer,0,l.type===w.UNSIGNED_BYTE,l.type,4*this.dynamicStride,4*l.offset)}for(var c=0;c<this.staticProperties.length;++c){var d=this.staticProperties[c];t.addAttribute(d.attributeName,this.staticBuffer,0,d.type===w.UNSIGNED_BYTE,d.type,4*this.staticStride,4*d.offset)}},Fn.prototype.uploadDynamic=function(t,e,r){for(var i=0;i<this.dynamicProperties.length;i++){var n=this.dynamicProperties[i];n.uploadFunction(t,e,r,n.type===w.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},Fn.prototype.uploadStatic=function(t,e,r){for(var i=0;i<this.staticProperties.length;i++){var n=this.staticProperties[i];n.uploadFunction(t,e,r,n.type===w.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},Fn.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()};var Nn="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n",Un="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",Bn=function(t){function e(e){t.call(this,e),this.shader=null,this.properties=null,this.tempMatrix=new bt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:w.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=yr.from(Nn,Un,{})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=t.children,r=t._maxSize,i=t._batchSize,n=this.renderer,o=e.length;if(0!==o){o>r&&(o=r);var s=t._buffers;s||(s=t._buffers=this.generateBuffers(t));var a=e[0]._texture.baseTexture;this.renderer.state.setBlendMode(j(t.blendMode,a.premultiplyAlpha));var h=n.gl,u=t.worldTransform.copyTo(this.tempMatrix);u.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=u.toArray(!0),this.shader.uniforms.uColor=H(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,a.premultiplyAlpha),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var l=!1,c=0,d=0;c<o;c+=i,d+=1){var p=o-c;if(p>i&&(p=i),d>=s.length){if(!t.autoResize)break;s.push(this._generateOneMoreBuffer(t))}var f=s[d];f.uploadDynamic(e,c,p);var v=t._bufferUpdateIDs[d]||0;(l=l||f._updateID<v)&&(f._updateID=t._updateID,f.uploadStatic(e,c,p)),n.geometry.bind(f.geometry),h.drawElements(h.TRIANGLES,6*p,h.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],r=t._maxSize,i=t._batchSize,n=t._properties,o=0;o<r;o+=i)e.push(new Fn(this.properties,n,i));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,r=t._properties;return new Fn(this.properties,r,e)},e.prototype.uploadVertices=function(t,e,r,i,n,o){for(var s=0,a=0,h=0,u=0,l=0;l<r;++l){var c=t[e+l],d=c._texture,p=c.scale.x,f=c.scale.y,v=d.trim,m=d.orig;v?(s=(a=v.x-c.anchor.x*m.width)+v.width,h=(u=v.y-c.anchor.y*m.height)+v.height):(s=m.width*(1-c.anchor.x),a=m.width*-c.anchor.x,h=m.height*(1-c.anchor.y),u=m.height*-c.anchor.y),i[o]=a*p,i[o+1]=u*f,i[o+n]=s*p,i[o+n+1]=u*f,i[o+2*n]=s*p,i[o+2*n+1]=h*f,i[o+3*n]=a*p,i[o+3*n+1]=h*f,o+=4*n}},e.prototype.uploadPosition=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].position;i[o]=a.x,i[o+1]=a.y,i[o+n]=a.x,i[o+n+1]=a.y,i[o+2*n]=a.x,i[o+2*n+1]=a.y,i[o+3*n]=a.x,i[o+3*n+1]=a.y,o+=4*n}},e.prototype.uploadRotation=function(t,e,r,i,n,o){for(var s=0;s<r;s++){var a=t[e+s].rotation;i[o]=a,i[o+n]=a,i[o+2*n]=a,i[o+3*n]=a,o+=4*n}},e.prototype.uploadUvs=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s]._texture._uvs;a?(i[o]=a.x0,i[o+1]=a.y0,i[o+n]=a.x1,i[o+n+1]=a.y1,i[o+2*n]=a.x2,i[o+2*n+1]=a.y2,i[o+3*n]=a.x3,i[o+3*n+1]=a.y3,o+=4*n):(i[o]=0,i[o+1]=0,i[o+n]=0,i[o+n+1]=0,i[o+2*n]=0,i[o+2*n+1]=0,i[o+3*n]=0,i[o+3*n+1]=0,o+=4*n)}},e.prototype.uploadTint=function(t,e,r,i,n,o){for(var s=0;s<r;++s){var a=t[e+s],h=a._texture.baseTexture.premultiplyAlpha,u=a.alpha,l=u<1&&h?G(a._tintRGB,u):a._tintRGB+(255*u<<24);i[o]=l,i[o+n]=l,i[o+2*n]=l,i[o+3*n]=l,o+=4*n}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(Xe),kn=function(t,e,r){void 0===r&&(r=null),this.baseTexture=t,this.textures={},this.animations={},this.data=e,this.resolution=this._updateResolution(r||(this.baseTexture.resource?this.baseTexture.resource.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null},Xn={BATCH_SIZE:{configurable:!0}};Xn.BATCH_SIZE.get=function(){return 1e3},kn.prototype._updateResolution=function(t){var e=this.data.meta.scale,r=ct(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&this.baseTexture.setResolution(r),r},kn.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=kn.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},kn.prototype._processFrames=function(t){for(var e=t,r=kn.BATCH_SIZE;e-t<r&&e<this._frameKeys.length;){var i=this._frameKeys[e],n=this._frames[i],o=n.frame;if(o){var s=null,a=null,h=!1!==n.trimmed&&n.sourceSize?n.sourceSize:n.frame,u=new Rt(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);s=n.rotated?new Rt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):new Rt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),!1!==n.trimmed&&n.spriteSourceSize&&(a=new Rt(Math.floor(n.spriteSourceSize.x)/this.resolution,Math.floor(n.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new Te(this.baseTexture,s,u,a,n.rotated?2:0,n.anchor),Te.addToCache(this.textures[i],i)}e++}},kn.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var r=0;r<t[e].length;r++){var i=t[e][r];this.animations[e].push(this.textures[i])}}},kn.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},kn.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*kn.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*kn.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},kn.prototype.destroy=function(t){for(var e in void 0===t&&(t=!1),this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},Object.defineProperties(kn,Xn);var jn=function(){};jn.use=function(t,e){var r=t.name+"_image";if(t.data&&t.type===Rn.TYPE.JSON&&t.data.frames&&!this.resources[r]){var i={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},n=jn.getResourcePath(t,this.baseUrl);this.add(r,n,i,function(r){if(r.error)e(r.error);else{var i=new kn(r.texture.baseTexture,t.data,t.url);i.parse(function(){t.spritesheet=i,t.textures=i.textures,e()})}})}else e()},jn.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:y.a.resolve(t.url.replace(e,""),t.data.meta.image)};
/*!
 * @pixi/sprite-tiling - v5.0.3
 * Compiled Sun, 19 May 2019 19:03:31 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Hn=new ft,Gn=function(t){function e(e,r,i){void 0===r&&(r=100),void 0===i&&(i=100),t.call(this,e),this.tileTransform=new Ct,this._width=r,this._height=i,this._canvasPattern=null,this.uvMatrix=e.uvMatrix||new Sr(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={clampMargin:{configurable:!0},tileScale:{configurable:!0},tilePosition:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return r.clampMargin.get=function(){return this.uvMatrix.clampMargin},r.clampMargin.set=function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},r.tileScale.get=function(){return this.tileTransform.scale},r.tileScale.set=function(t){this.tileTransform.scale.copyFrom(t)},r.tilePosition.get=function(){return this.tileTransform.position},r.tilePosition.set=function(t){this.tileTransform.position.copyFrom(t)},e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this.cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,r,i)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Rt),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Hn);var e=this._width,r=this._height,i=-e*this.anchor._x;if(Hn.x>=i&&Hn.x<i+e){var n=-r*this.anchor._y;if(Hn.y>=n&&Hn.y<n+r)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,r,i){return new e(Te.from(t),r,i)},e.fromFrame=function(t,r,i){var n=tt[t];if(!n)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(n,r,i)},e.fromImage=function(t,r,i,n){return n&&"object"!=typeof n&&(n={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),new e(Te.from(t,n),r,i)},r.width.get=function(){return this._width},r.width.set=function(t){this._width=t},r.height.get=function(){return this._height},r.height.set=function(t){this._height=t},Object.defineProperties(e.prototype,r),e}(Gi),Yn="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",zn="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n",Vn="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",Wn=new bt,qn=function(t){function e(e){t.call(this,e);var r={globals:this.renderer.globalUniforms};this.shader=yr.from(Yn,zn,r),this.simpleShader=yr.from(Yn,Vn,r),this.quad=new Fe}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=this.renderer,r=this.quad,i=r.vertices;i[0]=i[6]=t._width*-t.anchor.x,i[1]=i[3]=t._height*-t.anchor.y,i[2]=i[4]=t._width*(1-t.anchor.x),i[5]=i[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((i=r.uvs)[0]=i[6]=-t.anchor.x,i[1]=i[3]=-t.anchor.y,i[2]=i[4]=1-t.anchor.x,i[5]=i[7]=1-t.anchor.y),r.invalidate();var n=t._texture,o=n.baseTexture,s=t.tileTransform.localTransform,a=t.uvMatrix,h=o.isPowerOfTwo&&n.frame.width===o.width&&n.frame.height===o.height;h&&(o._glTextures[e.CONTEXT_UID]?h=o.wrapMode!==P.CLAMP:o.wrapMode===P.CLAMP&&(o.wrapMode=P.REPEAT));var u=h?this.simpleShader:this.shader,l=n.width,c=n.height,d=t._width,p=t._height;Wn.set(s.a*l/d,s.b*l/p,s.c*c/d,s.d*c/p,s.tx/d,s.ty/p),Wn.invert(),h?Wn.prepend(a.mapCoord):(u.uniforms.uMapCoord=a.mapCoord.toArray(!0),u.uniforms.uClampFrame=a.uClampFrame,u.uniforms.uClampOffset=a.uClampOffset),u.uniforms.uTransform=Wn.toArray(!0),u.uniforms.uColor=Y(t.tint,t.worldAlpha,u.uniforms.uColor,o.premultiplyAlpha),u.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),u.uniforms.uSampler=n,e.shader.bind(u),e.geometry.bind(r),e.state.setBlendMode(j(t.blendMode,o.premultiplyAlpha)),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(Xe),Zn=function(t){function e(e,r){var i=this;void 0===r&&(r={}),t.call(this),this._textWidth=0,this._textHeight=0,this._glyphs=[],this._font={tint:void 0!==r.tint?r.tint:16777215,align:r.align||"left",name:null,size:0},this.font=r.font,this._text=e,this._maxWidth=0,this._maxLineHeight=0,this._letterSpacing=0,this._anchor=new vt(function(){i.dirty=!0},this,0,0),this.dirty=!1,this.roundPixels=c.ROUND_PIXELS,this.updateText()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={tint:{configurable:!0},align:{configurable:!0},anchor:{configurable:!0},font:{configurable:!0},text:{configurable:!0},maxWidth:{configurable:!0},maxLineHeight:{configurable:!0},textWidth:{configurable:!0},letterSpacing:{configurable:!0},textHeight:{configurable:!0}};return e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],r=this._font.size/t.size,i=new ft,n=[],o=[],s=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",a=s.length,h=this._maxWidth*t.size/this._font.size,u=null,l=0,c=0,d=0,p=-1,f=0,v=0,m=0,y=0;y<a;y++){var g=s.charCodeAt(y),_=s.charAt(y);if(/(?:\s)/.test(_)&&(p=y,f=l),"\r"!==_&&"\n"!==_){var x=t.chars[g];x&&(u&&x.kerning[u]&&(i.x+=x.kerning[u]),n.push({texture:x.texture,line:d,charCode:g,position:new ft(i.x+x.xOffset+this._letterSpacing/2,i.y+x.yOffset)}),i.x+=x.xAdvance+this._letterSpacing,l=i.x,m=Math.max(m,x.yOffset+x.texture.height),u=g,-1!==p&&h>0&&i.x>h&&(V(n,1+p-++v,1+y-p),y=p,p=-1,o.push(f),c=Math.max(c,f),d++,i.x=0,i.y+=t.lineHeight,u=null))}else o.push(l),c=Math.max(c,l),++d,++v,i.x=0,i.y+=t.lineHeight,u=null}var b=s.charAt(s.length-1);"\r"!==b&&"\n"!==b&&(/(?:\s)/.test(b)&&(l=f),o.push(l),c=Math.max(c,l));for(var T=[],E=0;E<=d;E++){var w=0;"right"===this._font.align?w=c-o[E]:"center"===this._font.align&&(w=(c-o[E])/2),T.push(w)}for(var S=n.length,P=this.tint,I=0;I<S;I++){var A=this._glyphs[I];A?A.texture=n[I].texture:((A=new Gi(n[I].texture)).roundPixels=this.roundPixels,this._glyphs.push(A)),A.position.x=(n[I].position.x+T[n[I].line])*r,A.position.y=n[I].position.y*r,A.scale.x=A.scale.y=r,A.tint=P,A.parent||this.addChild(A)}for(var O=S;O<this._glyphs.length;++O)this.removeChild(this._glyphs[O]);if(this._textWidth=c*r,this._textHeight=(i.y+t.lineHeight)*r,0!==this.anchor.x||0!==this.anchor.y)for(var M=0;M<S;M++)this._glyphs[M].x-=this._textWidth*this.anchor.x,this._glyphs[M].y-=this._textHeight*this.anchor.y;this._maxLineHeight=m*r},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},r.tint.get=function(){return this._font.tint},r.tint.set=function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0},r.align.get=function(){return this._font.align},r.align.set=function(t){this._font.align=t||"left",this.dirty=!0},r.anchor.get=function(){return this._anchor},r.anchor.set=function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},r.font.get=function(){return this._font},r.font.set=function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)},r.text.get=function(){return this._text},r.text.set=function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},r.maxWidth.get=function(){return this._maxWidth},r.maxWidth.set=function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},r.maxLineHeight.get=function(){return this.validate(),this._maxLineHeight},r.textWidth.get=function(){return this.validate(),this._textWidth},r.letterSpacing.get=function(){return this._letterSpacing},r.letterSpacing.set=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},r.textHeight.get=function(){return this.validate(),this._textHeight},e.registerFont=function(t,r){var i={},n=t.getElementsByTagName("info")[0],o=t.getElementsByTagName("common")[0],s=t.getElementsByTagName("page"),a=ct(s[0].getAttribute("file"),c.RESOLUTION),h={};i.font=n.getAttribute("face"),i.size=parseInt(n.getAttribute("size"),10),i.lineHeight=parseInt(o.getAttribute("lineHeight"),10)/a,i.chars={},r instanceof Te&&(r=[r]);for(var u=0;u<s.length;u++){var l=s[u].getAttribute("id"),d=s[u].getAttribute("file");h[l]=r instanceof Array?r[u]:r[d]}for(var p=t.getElementsByTagName("char"),f=0;f<p.length;f++){var v=p[f],m=parseInt(v.getAttribute("id"),10),y=v.getAttribute("page")||0,g=new Rt(parseInt(v.getAttribute("x"),10)/a+h[y].frame.x/a,parseInt(v.getAttribute("y"),10)/a+h[y].frame.y/a,parseInt(v.getAttribute("width"),10)/a,parseInt(v.getAttribute("height"),10)/a);i.chars[m]={xOffset:parseInt(v.getAttribute("xoffset"),10)/a,yOffset:parseInt(v.getAttribute("yoffset"),10)/a,xAdvance:parseInt(v.getAttribute("xadvance"),10)/a,kerning:{},texture:new Te(h[y].baseTexture,g),page:y}}for(var _=t.getElementsByTagName("kerning"),x=0;x<_.length;x++){var b=_[x],T=parseInt(b.getAttribute("first"),10)/a,E=parseInt(b.getAttribute("second"),10)/a,w=parseInt(b.getAttribute("amount"),10)/a;i.chars[E]&&(i.chars[E].kerning[T]=w)}return e.fonts[i.font]=i,i},Object.defineProperties(e.prototype,r),e}(Gt);Zn.fonts={};var Kn=function(){};Kn.parse=function(t,e){t.bitmapFont=Zn.registerFont(t.data,e)},Kn.add=function(){Rn.setExtensionXhrType("fnt",Rn.XHR_RESPONSE_TYPE.DOCUMENT)},Kn.dirname=function(t){var e=t.replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},Kn.use=function(t,e){if(t.data&&t.type===Rn.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var r=t.isDataUrl?"":Kn.dirname(t.url);t.isDataUrl&&("."===r&&(r=""),this.baseUrl&&r&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(r+="/")),(r=r.replace(this.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/");for(var i=t.data.getElementsByTagName("page"),n={},o=function(r){n[r.metadata.pageFile]=r.texture,Object.keys(n).length===i.length&&(Kn.parse(t,n),e())},s=0;s<i.length;++s){var a=i[s].getAttribute("file"),h=r+a,u=!1;for(var l in this.resources){var c=this.resources[l];if(c.url===h){c.metadata.pageFile=a,c.texture?o(c):c.onAfterMiddleware.add(o),u=!0;break}}if(!u){var d={crossOrigin:t.crossOrigin,loadType:Rn.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:a},t.metadata.imageMetadata),parentResource:t};this.add(h,d,o)}}}else e();else e()};
/*!
 * @pixi/filter-alpha - v5.0.3
 * Compiled Sun, 19 May 2019 19:03:31 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Jn="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",Qn=function(t){function e(e){void 0===e&&(e=1),t.call(this,Kr,Jn,{uAlpha:1}),this.alpha=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={alpha:{configurable:!0}};return r.alpha.get=function(){return this.uniforms.uAlpha},r.alpha.set=function(t){this.uniforms.uAlpha=t},Object.defineProperties(e.prototype,r),e}(br),$n="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n    \n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n    \n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n    \n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";var to={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},eo=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");var ro=function(t){function e(e,r,i,n,o){var s=function(t,e){var r,i=Math.ceil(t/2),n=$n,o="";r=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var a=r.replace("%index%",s);o+=a=a.replace("%sampleIndex%",s-(i-1)+".0"),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t)}(o=o||5,e),a=function(t){for(var e,r=to[t],i=r.length,n=eo,o="",s=0;s<t;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s);e=s,s>=i&&(e=t-s-1),o+=a=a.replace("%value%",r[e]),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t)}(o);t.call(this,s,a),this.horizontal=e,this.resolution=n||c.RESOLUTION,this._quality=0,this.quality=i||4,this.blur=r||8}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={blur:{configurable:!0},quality:{configurable:!0}};return e.prototype.apply=function(t,e,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/e.width):this.uniforms.strength=1/r.height*(r.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,i);else{var n=t.getFilterTexture(),o=t.renderer,s=e,a=n;this.state.blend=!1,t.applyFilter(this,s,a,!1);for(var h=1;h<this.passes-1;h++){o.renderTexture.bind(s,s.filterFrame),this.uniforms.uSampler=a;var u=a;a=s,s=u,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,r,i),t.returnFilterTexture(n)}},r.blur.get=function(){return this.strength},r.blur.set=function(t){this.padding=1+2*Math.abs(t),this.strength=t},r.quality.get=function(){return this._quality},r.quality.set=function(t){this._quality=t,this.passes=t},Object.defineProperties(e.prototype,r),e}(br),io=function(t){function e(e,r,i,n){t.call(this),this.blurXFilter=new ro(!0,e,r,i,n),this.blurYFilter=new ro(!1,e,r,i,n),this.resolution=i||c.RESOLUTION,this.quality=r||4,this.blur=e||8,this.repeatEdgePixels=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={blur:{configurable:!0},quality:{configurable:!0},blurX:{configurable:!0},blurY:{configurable:!0},blendMode:{configurable:!0},repeatEdgePixels:{configurable:!0}};return e.prototype.apply=function(t,e,r,i){var n=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(n&&o){var s=t.getFilterTexture();this.blurXFilter.apply(t,e,s,!0),this.blurYFilter.apply(t,s,r,i),t.returnFilterTexture(s)}else o?this.blurYFilter.apply(t,e,r,i):this.blurXFilter.apply(t,e,r,i)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},r.blur.get=function(){return this.blurXFilter.blur},r.blur.set=function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},r.quality.get=function(){return this.blurXFilter.quality},r.quality.set=function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},r.blurX.get=function(){return this.blurXFilter.blur},r.blurX.set=function(t){this.blurXFilter.blur=t,this.updatePadding()},r.blurY.get=function(){return this.blurYFilter.blur},r.blurY.set=function(t){this.blurYFilter.blur=t,this.updatePadding()},r.blendMode.get=function(){return this.blurYFilter.blendMode},r.blendMode.set=function(t){this.blurYFilter.blendMode=t},r.repeatEdgePixels.get=function(){return this._repeatEdgePixels},r.repeatEdgePixels.set=function(t){this._repeatEdgePixels=t,this.updatePadding()},Object.defineProperties(e.prototype,r),e}(br),no="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",oo=function(t){function e(){var e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};t.call(this,Jr,no,e),this.alpha=1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={matrix:{configurable:!0},alpha:{configurable:!0}};return e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var r=t;e&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},e.prototype._multiply=function(t,e,r){return t[0]=e[0]*r[0]+e[1]*r[5]+e[2]*r[10]+e[3]*r[15],t[1]=e[0]*r[1]+e[1]*r[6]+e[2]*r[11]+e[3]*r[16],t[2]=e[0]*r[2]+e[1]*r[7]+e[2]*r[12]+e[3]*r[17],t[3]=e[0]*r[3]+e[1]*r[8]+e[2]*r[13]+e[3]*r[18],t[4]=e[0]*r[4]+e[1]*r[9]+e[2]*r[14]+e[3]*r[19]+e[4],t[5]=e[5]*r[0]+e[6]*r[5]+e[7]*r[10]+e[8]*r[15],t[6]=e[5]*r[1]+e[6]*r[6]+e[7]*r[11]+e[8]*r[16],t[7]=e[5]*r[2]+e[6]*r[7]+e[7]*r[12]+e[8]*r[17],t[8]=e[5]*r[3]+e[6]*r[8]+e[7]*r[13]+e[8]*r[18],t[9]=e[5]*r[4]+e[6]*r[9]+e[7]*r[14]+e[8]*r[19]+e[9],t[10]=e[10]*r[0]+e[11]*r[5]+e[12]*r[10]+e[13]*r[15],t[11]=e[10]*r[1]+e[11]*r[6]+e[12]*r[11]+e[13]*r[16],t[12]=e[10]*r[2]+e[11]*r[7]+e[12]*r[12]+e[13]*r[17],t[13]=e[10]*r[3]+e[11]*r[8]+e[12]*r[13]+e[13]*r[18],t[14]=e[10]*r[4]+e[11]*r[9]+e[12]*r[14]+e[13]*r[19]+e[14],t[15]=e[15]*r[0]+e[16]*r[5]+e[17]*r[10]+e[18]*r[15],t[16]=e[15]*r[1]+e[16]*r[6]+e[17]*r[11]+e[18]*r[16],t[17]=e[15]*r[2]+e[16]*r[7]+e[17]*r[12]+e[18]*r[17],t[18]=e[15]*r[3]+e[16]*r[8]+e[17]*r[13]+e[18]*r[18],t[19]=e[15]*r[4]+e[16]*r[9]+e[17]*r[14]+e[18]*r[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var r=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.greyscale=function(t,e){var r=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var r=Math.cos(t),i=Math.sin(t),n=1/3,o=(0,Math.sqrt)(n),s=[r+(1-r)*n,n*(1-r)-o*i,n*(1-r)+o*i,0,0,n*(1-r)+o*i,r+n*(1-r),n*(1-r)-o*i,0,0,n*(1-r)-o*i,n*(1-r)+o*i,r+n*(1-r),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var r=(t||0)+1,i=-.5*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var r=2*t/3+1,i=-.5*(r-1),n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,r,i,n){var o=((r=r||16770432)>>16&255)/255,s=(r>>8&255)/255,a=(255&r)/255,h=((i=i||3375104)>>16&255)/255,u=(i>>8&255)/255,l=(255&i)/255,c=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,h,u,l,e=e||.15,0,o-h,s-u,a-l,0,0];this._loadMatrix(c,n)},e.prototype.night=function(t,e){var r=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.predator=function(t,e){var r=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},r.matrix.get=function(){return this.uniforms.m},r.matrix.set=function(t){this.uniforms.m=t},r.alpha.get=function(){return this.uniforms.uAlpha},r.alpha.set=function(t){this.uniforms.uAlpha=t},Object.defineProperties(e.prototype,r),e}(br);oo.prototype.grayscale=oo.prototype.greyscale;
/*!
 * @pixi/filter-displacement - v5.0.3
 * Compiled Sun, 19 May 2019 19:03:31 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var so="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n",ao="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",ho=function(t){function e(e,r){var i=new bt;e.renderable=!1,t.call(this,so,ao,{mapSampler:e._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=i,null==r&&(r=20),this.scale=new ft(r,r)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={map:{configurable:!0}};return e.prototype.apply=function(t,e,r,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.transform.worldTransform,o=Math.sqrt(n.a*n.a+n.b*n.b),s=Math.sqrt(n.c*n.c+n.d*n.d);0!==o&&0!==s&&(this.uniforms.rotation[0]=n.a/o,this.uniforms.rotation[1]=n.b/o,this.uniforms.rotation[2]=n.c/s,this.uniforms.rotation[3]=n.d/s),t.applyFilter(this,e,r,i)},r.map.get=function(){return this.uniforms.mapSampler},r.map.set=function(t){this.uniforms.mapSampler=t},Object.defineProperties(e.prototype,r),e}(br),uo="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",lo='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n',co=function(t){function e(){t.call(this,uo,lo)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(br),po="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",fo=function(t){function e(e,r){void 0===e&&(e=.5),void 0===r&&(r=Math.random()),t.call(this,Jr,po,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={noise:{configurable:!0},seed:{configurable:!0}};return r.noise.get=function(){return this.uniforms.uNoise},r.noise.set=function(t){this.uniforms.uNoise=t},r.seed.get=function(){return this.uniforms.uSeed},r.seed.set=function(t){this.uniforms.uSeed=t},Object.defineProperties(e.prototype,r),e}(br),vo=new bt;jt.prototype._cacheAsBitmap=!1,jt.prototype._cacheData=!1;var mo=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(jt.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new mo),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),jt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},jt.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var r=this.getLocalBounds().clone();if(this.filters){var i=this.filters[0].padding;r.pad(i)}r.ceil(c.RESOLUTION);var n=t._activeRenderTarget,o=we.create(r.width,r.height),s="cacheAsBitmap_"+q();this._cacheData.textureCacheId=s,he.addToCache(o.baseTexture,s),Te.addToCache(o,s);var a=vo;a.tx=-r.x,a.ty=-r.y,this.transform.worldTransform.identity(),this.render=this._cacheData.originalRender,t.render(this,o,!0,a,!0),t.renderTexture.bind(n),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var h=new Gi(o);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-r.x/r.width,h.anchor.y=-r.y/r.height,h.alpha=e,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}},jt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},jt.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),r=this.alpha;this.alpha=1;var i=t.context;e.ceil(c.RESOLUTION);var n=we.create(e.width,e.height),o="cacheAsBitmap_"+q();this._cacheData.textureCacheId=o,he.addToCache(n.baseTexture,o),Te.addToCache(n,o);var s=vo;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=e.x,s.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,n,!0,s,!1),t.context=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var a=new Gi(n);a.transform.worldTransform=this.transform.worldTransform,a.anchor.x=-e.x/e.width,a.anchor.y=-e.y/e.height,a.alpha=r,a._bounds=this._bounds,this._cacheData.sprite=a,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=a.containsPoint.bind(a)}},jt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},jt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},jt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,he.removeFromCache(this._cacheData.textureCacheId),Te.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},jt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},
/*!
 * @pixi/mixin-get-child-by-name - v5.0.3
 * Compiled Sun, 19 May 2019 19:03:31 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
jt.prototype.name=null,Gt.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null},
/*!
 * @pixi/mixin-get-global-position - v5.0.3
 * Compiled Sun, 19 May 2019 19:03:31 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
jt.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new ft),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};
/*!
 * @pixi/mesh - v5.0.3
 * Compiled Sun, 19 May 2019 19:03:31 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var yo=function(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0};yo.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}};var go=new ft,_o=new Bt,xo=function(t){function e(e,r,i,n){void 0===n&&(n=b.TRIANGLES),t.call(this),this.geometry=e,e.refCount++,this.shader=r,this.state=i||_r.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=0,this._transformID=-1,this.tint=16777215,this.blendMode=x.NORMAL,this._roundPixels=c.ROUND_PIXELS,this.batchUvs=null}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={uvBuffer:{configurable:!0},verticesBuffer:{configurable:!0},material:{configurable:!0},blendMode:{configurable:!0},roundPixels:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return r.uvBuffer.get=function(){return this.geometry.buffers[1]},r.verticesBuffer.get=function(){return this.geometry.buffers[0]},r.material.set=function(t){this.shader=t},r.material.get=function(){return this.shader},r.blendMode.set=function(t){this.state.blendMode=t},r.blendMode.get=function(){return this.state.blendMode},r.roundPixels.set=function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},r.roundPixels.get=function(){return this._roundPixels},r.tint.get=function(){return this.shader.tint},r.tint.set=function(t){this.shader.tint=t},r.texture.get=function(){return this.shader.texture},r.texture.set=function(t){this.shader.texture=t},e.prototype._render=function(t){var r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===b.TRIANGLES&&r.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.setState(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var r=this.transform.worldTransform,i=r.a,n=r.b,o=r.c,s=r.d,a=r.tx,h=r.ty,u=this.vertexData,l=0;l<u.length/2;l++){var c=e[2*l],d=e[2*l+1];u[2*l]=i*c+o*d+a,u[2*l+1]=n*c+s*d+h}if(this._roundPixels)for(var p=0;p<u.length;p++)u[p]=Math.round(u[p]);this.vertexDirty=t.vertexDirtyId}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new yo(t,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,go);for(var e=this.geometry.getBuffer("aVertexPosition").data,r=_o.points,i=this.geometry.getIndex().data,n=i.length,o=4===this.drawMode?3:1,s=0;s+2<n;s+=o){var a=2*i[s],h=2*i[s+1],u=2*i[s+2];if(r[0]=e[a],r[1]=e[a+1],r[2]=e[h],r[3]=e[h+1],r[4]=e[u],r[5]=e[u+1],_o.contains(go.x,go.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},Object.defineProperties(e.prototype,r),e}(Gt);xo.BATCHABLE_SIZE=100;var bo="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n",To="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n",Eo=function(t){function e(e,r){var i={uSampler:e,alpha:1,uTextureMatrix:bt.IDENTITY,uColor:new Float32Array([1,1,1,1])};(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(i,r.uniforms),t.call(this,r.program||vr.from(bo,To),i),this._colorDirty=!1,this.uvMatrix=new Sr(e),this.batchable=void 0===r.program,this.pluginName=r.pluginName,this.tint=r.tint,this.alpha=r.alpha}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={texture:{configurable:!0},alpha:{configurable:!0},tint:{configurable:!0}};return r.texture.get=function(){return this.uniforms.uSampler},r.texture.set=function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},r.alpha.set=function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},r.alpha.get=function(){return this._alpha},r.tint.set=function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},r.tint.get=function(){return this._tint},e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;Y(this._tint,this._alpha,this.uniforms.uColor,t.premultiplyAlpha)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},Object.defineProperties(e.prototype,r),e}(yr),wo=function(t){function e(e,r,i){t.call(this);var n=new Ie(e),o=new Ie(r,!0),s=new Ie(i,!0,!0);this.addAttribute("aVertexPosition",n,2,!1,w.FLOAT).addAttribute("aTextureCoord",o,2,!1,w.FLOAT).addIndex(s),this._updateId=-1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={vertexDirtyId:{configurable:!0}};return r.vertexDirtyId.get=function(){return this.buffers[0]._updateID},Object.defineProperties(e.prototype,r),e}(Re),So=function(t){function e(e,r,i,n){void 0===e&&(e=100),void 0===r&&(r=100),void 0===i&&(i=10),void 0===n&&(n=10),t.call(this),this.segWidth=i,this.segHeight=n,this.width=e,this.height=r,this.build()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],r=[],i=[],n=this.segWidth-1,o=this.segHeight-1,s=this.width/n,a=this.height/o,h=0;h<t;h++){var u=h%this.segWidth,l=h/this.segWidth|0;e.push(u*s,l*a),r.push(u/n,l/o)}for(var c=n*o,d=0;d<c;d++){var p=d%n,f=d/n|0,v=f*this.segWidth+p,m=f*this.segWidth+p+1,y=(f+1)*this.segWidth+p,g=(f+1)*this.segWidth+p+1;i.push(v,m,y,m,g,y)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(wo),Po=function(t){function e(e,r){void 0===e&&(e=200),t.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1))),this.points=r,this.width=e,this.build()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),r.data=new Float32Array(4*t.length),i.data=new Uint16Array(6*(t.length-1)));var n=r.data,o=i.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var s=t.length,a=0;a<s;a++){var h=4*a,u=a/(s-1);n[h]=u,n[h+1]=0,n[h+2]=u,n[h+3]=1}for(var l=0,c=0;c<s-1;c++){var d=2*c;o[l++]=d,o[l++]=d+1,o[l++]=d+2,o[l++]=d+2,o[l++]=d+1,o[l++]=d+3}r.update(),i.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,r=t[0],i=0,n=0,o=this.buffers[0].data,s=t.length,a=0;a<s;a++){var h=t[a],u=4*a;n=-((e=a<t.length-1?t[a+1]:h).x-r.x),i=e.y-r.y;var l=Math.sqrt(i*i+n*n),c=this.width/2;i/=l,n/=l,i*=c,n*=c,o[u]=h.x+i,o[u+1]=h.y+n,o[u+2]=h.x-i,o[u+3]=h.y-n,r=h}this.buffers[0].update()}},e.prototype.update=function(){this.updateVertices()},e}(wo),Io=function(t){function e(e,r){var i=new Po(e.height,r),n=new Eo(e);t.call(this,i,n),this.autoUpdate=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._render=function(e){(this.autoUpdate||this.geometry.width!==this.shader.texture.height)&&(this.geometry.width=this.shader.texture.height,this.geometry.update()),t.prototype._render.call(this,e)},e}(xo),Ao=function(t){function e(e,r,i){var n=new So(e.width,e.height,r,i),o=new Eo(Te.WHITE);t.call(this,n,o),this.texture=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={texture:{configurable:!0}};return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this.geometry.width=this.shader.texture.width,this.geometry.height=this.shader.texture.height,this.geometry.build()},r.texture.set=function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},r.texture.get=function(){return this.shader.texture},e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},Object.defineProperties(e.prototype,r),e}(xo),Oo=function(t){function e(e,r,i,n,o){void 0===e&&(e=Te.EMPTY);var s=new wo(r,i,n);s.getBuffer("aVertexPosition").static=!1;var a=new Eo(e);t.call(this,s,a,null,o),this.autoUpdate=!0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={vertices:{configurable:!0}};return r.vertices.get=function(){return this.geometry.getBuffer("aVertexPosition").data},r.vertices.set=function(t){this.geometry.getBuffer("aVertexPosition").data=t},e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},Object.defineProperties(e.prototype,r),e}(xo),Mo=10,Co=function(t){function e(e,r,i,n,o){t.call(this,Te.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=void 0!==r?r:Mo,this._rightWidth=void 0!==n?n:Mo,this._topHeight=void 0!==i?i:Mo,this._bottomHeight=void 0!==o?o:Mo,this.texture=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={vertices:{configurable:!0},width:{configurable:!0},height:{configurable:!0},leftWidth:{configurable:!0},rightWidth:{configurable:!0},topHeight:{configurable:!0},bottomHeight:{configurable:!0}};return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},r.vertices.get=function(){return this.geometry.getBuffer("aVertexPosition").data},r.vertices.set=function(t){this.geometry.getBuffer("aVertexPosition").data=t},e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._topHeight+this._bottomHeight,r=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*r,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*r,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*r,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*r,t[6]=t[14]=t[22]=t[30]=this._width},r.width.get=function(){return this._width},r.width.set=function(t){this._width=t,this._refresh()},r.height.get=function(){return this._height},r.height.set=function(t){this._height=t,this._refresh()},r.leftWidth.get=function(){return this._leftWidth},r.leftWidth.set=function(t){this._leftWidth=t,this._refresh()},r.rightWidth.get=function(){return this._rightWidth},r.rightWidth.set=function(t){this._rightWidth=t,this._refresh()},r.topHeight.get=function(){return this._topHeight},r.topHeight.set=function(t){this._topHeight=t,this._refresh()},r.bottomHeight.get=function(){return this._bottomHeight},r.bottomHeight.set=function(t){this._bottomHeight=t,this._refresh()},e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var r=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},Object.defineProperties(e.prototype,r),e}(Ao),Do=function(t){function e(e,r){t.call(this,e[0]instanceof Te?e[0]:e[0].texture),this._textures=null,this._durations=null,this.textures=e,this._autoUpdate=!1!==r,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this.playing=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={totalFrames:{configurable:!0},textures:{configurable:!0},currentFrame:{configurable:!0}};return e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&Kt.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&Kt.shared.add(this.update,this,qt.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=e/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r?this.onLoop():this.animationSpeed<0&&this.currentFrame>r&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copy(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var r=[],i=0;i<t.length;++i)r.push(Te.from(t[i]));return new e(r)},e.fromImages=function(t){for(var r=[],i=0;i<t.length;++i)r.push(Te.from(t[i]));return new e(r)},r.totalFrames.get=function(){return this._textures.length},r.textures.get=function(){return this._textures},r.textures.set=function(t){if(t[0]instanceof Te)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()},r.currentFrame.get=function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},Object.defineProperties(e.prototype,r),e}(Gi),Ro="5.0.0";function Lo(){var t=this;Object.defineProperties(t,{SVG_SIZE:{get:function(){return pt(Ro,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),t.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return pt(Ro,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),t.Transform}},TransformBase:{get:function(){return pt(Ro,"PIXI.TransformBase class has been removed, use PIXI.Transform"),t.Transform}},TRANSFORM_MODE:{get:function(){return pt(Ro,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return pt(Ro,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),t.Renderer}},CanvasRenderTarget:{get:function(){return pt(Ro,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),t.utils.CanvasRenderTarget}},loader:{get:function(){return pt(Ro,"PIXI.loader instance has moved to PIXI.Loader.shared"),t.Loader.shared}},FilterManager:{get:function(){return pt(Ro,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),t.systems.FilterSystem}}}),t.extras={},Object.defineProperties(t.extras,{TilingSprite:{get:function(){return pt(Ro,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),t.TilingSprite}},TilingSpriteRenderer:{get:function(){return pt(Ro,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),t.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return pt(Ro,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),t.AnimatedSprite}},BitmapText:{get:function(){return pt(Ro,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),t.BitmapText}}}),Object.defineProperties(t.utils,{getSvgSize:{get:function(){return pt(Ro,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),t.SVGResource.getSize}}}),t.mesh={},Object.defineProperties(t.mesh,{Mesh:{get:function(){return pt(Ro,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),t.SimpleMesh}},NineSlicePlane:{get:function(){return pt(Ro,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),t.NineSlicePlane}},Plane:{get:function(){return pt(Ro,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),t.SimplePlane}},Rope:{get:function(){return pt(Ro,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),t.SimpleRope}},RawMesh:{get:function(){return pt(Ro,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),t.Mesh}},CanvasMeshRenderer:{get:function(){return pt(Ro,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),t.CanvasMeshRenderer}},MeshRenderer:{get:function(){return pt(Ro,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),t.MeshRenderer}}}),t.particles={},Object.defineProperties(t.particles,{ParticleContainer:{get:function(){return pt(Ro,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),t.ParticleContainer}},ParticleRenderer:{get:function(){return pt(Ro,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),t.ParticleRenderer}}}),t.ticker={},Object.defineProperties(t.ticker,{Ticker:{get:function(){return pt(Ro,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),t.Ticker}},shared:{get:function(){return pt(Ro,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),t.Ticker.shared}}}),t.loaders={},Object.defineProperties(t.loaders,{Loader:{get:function(){return pt(Ro,"PIXI.loaders.Loader class has moved to PIXI.Loader"),t.Loader}},Resource:{get:function(){return pt(Ro,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),t.LoaderResource}},bitmapFontParser:{get:function(){return pt(Ro,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),t.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){return pt(Ro,"PIXI.loaders.parseBitmapFontData function has moved to PIXI.BitmapFontLoader.parse"),t.BitmapFontLoader.parse}},spritesheetParser:{get:function(){return pt(Ro,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),t.SpritesheetLoader.use}},getResourcePath:{get:function(){return pt(Ro,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),t.SpritesheetLoader.getResourcePath}}}),t.Loader.addPixiMiddleware=function(e){return pt(Ro,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),t.loaders.Loader.registerPlugin({use:e()})},Object.defineProperty(t.extract,"WebGLExtract",{get:function(){return pt(Ro,"PIXI.extract.WebGLExtract method has moved to PIXI.extract.Extract"),t.extract.Extract}}),Object.defineProperty(t.prepare,"WebGLPrepare",{get:function(){return pt(Ro,"PIXI.prepare.WebGLPrepare class has moved to PIXI.prepare.Prepare"),t.prepare.Prepare}}),t.Container.prototype._renderWebGL=function(t){pt(Ro,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(t)},t.Container.prototype.renderWebGL=function(t){pt(Ro,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(t)},t.DisplayObject.prototype.renderWebGL=function(t){pt(Ro,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(t)},t.Container.prototype.renderAdvancedWebGL=function(t){pt(Ro,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(t)},Object.defineProperties(t.settings,{TRANSFORM_MODE:{get:function(){return pt(Ro,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){pt(Ro,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var e=t.BaseTexture;e.prototype.loadSource=function(e){pt(Ro,"PIXI.BaseTexture.loadSource method has been deprecated");var r=t.resources.autoDetectResource(e);r.internal=!0,this.setResource(r),this.update()},Object.defineProperties(e.prototype,{hasLoaded:{get:function(){return pt(Ro,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){return pt(Ro,"PIXI.BaseTexture.imageUrl property has been removed, use resource.url"),this.resource&&this.resource.url}},source:{get:function(){return pt(Ro,"PIXI.BaseTexture.source property has been moved, use `resource.source`"),this.resource&&this.resource.source},set:function(t){pt(Ro,"PIXI.BaseTexture.source property has been moved, use `resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=t)}}}),e.fromImage=function(t,r,i,n){pt(Ro,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");var o={scale:n,crossorigin:r};return e.from(t,{scaleMode:i,resourceOptions:o})},e.fromCanvas=function(t,r){return pt(Ro,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),e.from(t,{scaleMode:r})},e.fromSVG=function(t,r,i,n){pt(Ro,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");var o={scale:n,crossorigin:r};return e.from(t,{scaleMode:i,resourceOptions:o})},t.Point.prototype.copy=function(t){return pt(Ro,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(t)},t.ObservablePoint.prototype.copy=function(t){return pt(Ro,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(t)},t.Rectangle.prototype.copy=function(t){return pt(Ro,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(t)},t.Matrix.prototype.copy=function(t){return pt(Ro,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(t)},Object.assign(t.systems.FilterSystem.prototype,{getRenderTarget:function(t,e){return pt(Ro,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(e)},returnRenderTarget:function(t){pt(Ro,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture(t)},calculateScreenSpaceMatrix:function(t){pt(Ro,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var e=t.identity(),r=this.activeState,i=r.sourceFrame,n=r.destinationFrame;return e.translate(i.x/n.width,i.y/n.height),e.scale(n.width,n.height),e},calculateNormalizedScreenSpaceMatrix:function(t){pt(Ro,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var e=this.activeState,r=e.sourceFrame,i=e.destinationFrame,n=t.identity();n.translate(r.x/i.width,r.y/i.height);var o=i.width/r.width,s=i.height/r.height;return n.scale(o,s),n}}),Object.defineProperties(t.RenderTexture.prototype,{sourceFrame:{get:function(){return pt(Ro,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return pt(Ro,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var r=function(t){function e(e,r,i,n){pt(Ro,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!0,e,r,i,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.filters.BlurFilterPass),i=function(t){function e(e,r,i,n){pt(Ro,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!1,e,r,i,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.filters.BlurFilterPass);Object.assign(t.filters,{BlurXFilter:r,BlurYFilter:i});var n=t.Sprite,o=t.Texture,s=t.Graphics;function a(t,e,r,i){return pt(Ro,"PIXI.Sprite."+t+" method is deprecated, use PIXI.Sprite.from"),n.from(e,{resourceOptions:{scale:i,crossorigin:r}})}function h(t,e,r,i){return pt(Ro,"PIXI.Texture."+t+" method is deprecated, use PIXI.Texture.from"),o.from(e,{resourceOptions:{scale:i,crossorigin:r}})}s.prototype.generateCanvasTexture||(s.prototype.generateCanvasTexture=function(){pt(Ro,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),n.fromImage=a.bind(null,"fromImage"),n.fromSVG=a.bind(null,"fromSVG"),n.fromCanvas=a.bind(null,"fromCanvas"),n.fromVideo=a.bind(null,"fromVideo"),n.fromFrame=a.bind(null,"fromFrame"),o.fromImage=h.bind(null,"fromImage"),o.fromSVG=h.bind(null,"fromSVG"),o.fromCanvas=h.bind(null,"fromCanvas"),o.fromVideo=h.bind(null,"fromVideo"),o.fromFrame=h.bind(null,"fromFrame"),Object.defineProperty(t.AbstractRenderer.prototype,"autoResize",{get:function(){return pt(Ro,"PIXI.AbstractRenderer.autoResize property is deprecated, use autoDensity"),this.autoDensity},set:function(t){pt(Ro,"PIXI.AbstractRenderer.autoResize property is deprecated, use autoDensity"),this.autoDensity=t}}),t.utils.mixins={mixin:function(){pt(Ro,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){pt(Ro,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){pt(Ro,"PIXI.utils.mixins.performMixins function is no longer available")}}}qr.registerPlugin("accessibility",zt),qr.registerPlugin("extract",ui),qr.registerPlugin("interaction",gi),qr.registerPlugin("particle",Bn),qr.registerPlugin("prepare",dn),qr.registerPlugin("batch",ai),qr.registerPlugin("tilingSprite",qn),Cn.registerPlugin(Kn),Cn.registerPlugin(jn),yn.registerPlugin($t),yn.registerPlugin(Dn);var Fo="5.0.3",No={AlphaFilter:Qn,BlurFilter:io,BlurFilterPass:ro,ColorMatrixFilter:oo,DisplacementFilter:ho,FXAAFilter:co,NoiseFilter:fo},Uo=h,Bo=function(){function t(t,e,r,i){var n=this;this.symbolWidth=t,this.rows=e,this.columns=r,this.fallingVelocity=i,this.soundJS=createjs.Sound,this.baseSoundsPath="./sounds/",this.startSoundId="Start_Button",this.reel=document.querySelector("#reel"),this.startButton=document.querySelector("#button"),this.symbolsPath={basePath:"./images/symbols/symbol_",ext:".png",amount:8},this.buttonPathes={basePath:"./images/ui/btn_spin_",ext:".png",states:{normalButton:"normal",hoverButton:"hover",disabledButton:"disabled",pressedButton:"pressed"}},this.buttonMouseUpHandler=function(t){var e=n,r=e.startButton,i=e.buttonSrc;r.removeEventListener("mouseup",n.buttonMouseUpHandler),r.removeEventListener("mousedown",n.buttonMouseDownHandler),r.removeEventListener("mouseover",n.buttonMouseOverHandler),r.removeEventListener("mouseout",n.buttonMouseOutHandler),r.src=i.disabledButton,n.soundJS.play(n.startSoundId),n.startReelSpining()},this.buttonMouseDownHandler=function(t){var e=n,r=e.startButton,i=e.buttonSrc;r.src=i.pressedButton},this.buttonMouseOverHandler=function(t){var e=n,r=e.startButton,i=e.buttonSrc;r.src=i.hoverButton},this.buttonMouseOutHandler=function(t){var e=n,r=e.startButton,i=e.buttonSrc;r.src=i.normalButton}}return t.prototype.createReel=function(){var t=this;this.setApp(),this.createButtonSrc(),this.createSoundsData(),this.createSymbolsSrc();var e=this.app,r=this.symbolsSrc;this.reel.appendChild(e.view),e.loader.add(r).load(function(r,i){t.symbols=t.createImages(i);var n={reelSpining:!1};t.setButtonHandlers(),e.ticker.add(function(t){return o(t)});var o=function(e){t.symbols.forEach(function(e){var r=e.velocity;t.moveSymbol(e),n.reelSpining=r>0,t.checkSymbolShouldStop(e)&&t.stopFallingSymbol(e)}),t.checkReelShouldStart()?(t.symbols=t.createImages(i),t.startReelSpining()):t.checkReelShouldStop(n)&&(t.setButtonHandlers(),n.reelSpining=!1)}})},t.prototype.setMaskSize=function(){var t=this.symbolWidth,e=this.rows,r=t*this.columns,i=t*(e+1);this.maskSize={width:r,height:i}},t.prototype.setApp=function(){this.setMaskSize(),this.app=new Uo.Application(this.maskSize)},t.prototype.createStopSoundsIds=function(t){for(var e=[],r=1;r<=t;r++){var i="Reel_Stop_"+r;e.push(i)}this.stopSoundsIds=e},t.prototype.createSoundsData=function(){this.createStopSoundsIds(5);var t=this.startSoundId,e=this.stopSoundsIds,r=[],i={src:t+".mp3",id:""+t};r.push(i),e.forEach(function(t){var e={src:t+".mp3",id:""+t};r.push(e)}),this.sounds=r,this.soundJS.registerSounds(this.sounds,this.baseSoundsPath)},t.prototype.createSymbolsSrc=function(){for(var t=this.symbolsPath,e=t.basePath,r=t.ext,i=t.amount,n=[],o=1;o<=i;o++){var s=""+e+o+r;n.push(s)}this.symbolsSrc=n},t.prototype.createButtonSrc=function(){var t=this.buttonPathes,e=t.basePath,r=t.ext,i=t.states,n={};for(var o in i)if(i.hasOwnProperty(o)){var s=""+e+i[o]+r;n[o]=s}this.buttonSrc=n},t.prototype.createImages=function(t){for(var e=[],r=this.columns,i=r*this.rows,n=this.symbolWidth,o=this.symbolsSrc,s=this.app.renderer.height,a=0,h=1,u=0;u<i;u++){var l=o[Math.floor(Math.random()*o.length)],c={image:new Uo.Sprite(t[l].texture),width:n,startY:-h*n,endY:s-n*h,positionX:a*n,delay:100*(h*a+h),velocity:0};e.push(c),this.setImageAttributes(c),++a>r-1&&(a=0,h++)}return e},t.prototype.setImageAttributes=function(t){var e=t.image,r=t.startY,i=t.positionX,n=t.width;e.x=i,e.y=r,e.width=e.height=n,e.anchor.x=0,e.anchor.y=0,this.app.stage.addChild(e)},t.prototype.startReelSpining=function(){var t=this;this.symbols.forEach(function(e){setTimeout(function(){e.velocity=t.fallingVelocity},e.delay)})},t.prototype.setButtonHandlers=function(){var t=this.startButton;t.addEventListener("mouseup",this.buttonMouseUpHandler),t.addEventListener("mousedown",this.buttonMouseDownHandler),t.addEventListener("mouseover",this.buttonMouseOverHandler),t.addEventListener("mouseout",this.buttonMouseOutHandler)},t.prototype.moveSymbol=function(t){t.image.y+=t.velocity},t.prototype.checkSymbolShouldStop=function(t){var e=t.endY,r=t.image,i=t.velocity,n=e-r.y;return n>=0&&n<i},t.prototype.stopFallingSymbol=function(t){t.image.y=t.endY,t.velocity=0,this.playStopSound()},t.prototype.checkReelShouldStart=function(){var t=this.symbols,e=this.app.renderer.height;return t.every(function(t){return t.image.y>e})},t.prototype.checkReelShouldStop=function(t){return this.symbols.every(function(t){return 0===t.velocity})&&t.reelSpining},t.prototype.playStopSound=function(){var t=this.stopSoundsIds,e=t.length,r=t[Math.floor(Math.random()*e)];this.soundJS.play(r)},t}();r(25);window.addEventListener("load",function(){try{new Bo(123,3,5,11).createReel()}catch(t){console.log("!!! ",t.message)}})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2lzbW9iaWxlanMvZGlzdC9pc01vYmlsZS5taW4uanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXJsL3VybC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9lYXJjdXQvc3JjL2VhcmN1dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbWluaS1zaWduYWxzL2xpYi9taW5pLXNpZ25hbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BhcnNlLXVyaS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2FzeW5jLmpzIiwid2VicGFjazovLy8uLi9zcmMvUmVzb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2VzNi1wcm9taXNlLXBvbHlmaWxsL3Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29iamVjdC1hc3NpZ24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9Qcm9taXNlLmpzIiwid2VicGFjazovLy8uLi9zcmMvT2JqZWN0LmFzc2lnbi5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3JlcXVlc3RBbmltYXRpb25GcmFtZS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL01hdGguc2lnbi5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL051bWJlci5pc0ludGVnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RpbWVycy1icm93c2VyaWZ5L21haW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NldGltbWVkaWF0ZS9zZXRJbW1lZGlhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbm9kZS1saWJzLWJyb3dzZXIvbm9kZV9tb2R1bGVzL3B1bnljb2RlL3B1bnljb2RlLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VybC91dGlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9kZWNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9lbmNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9Mb2FkZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9iNjQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Nzcy9tYWluLmNzcz8zNGEyIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovLy8uLi9zcmMvc2V0dGluZ3MuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy91dGlscy9tYXhSZWNvbW1lbmRlZFRleHR1cmVzLmpzIiwid2VicGFjazovLy8uLi9zcmMvdXRpbHMvY2FuVXBsb2FkU2FtZUJ1ZmZlci5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2Jyb3dzZXIvaGVsbG8uanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9icm93c2VyL2lzV2ViR0xTdXBwb3J0ZWQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jb2xvci9oZXguanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9jb2xvci9wcmVtdWx0aXBseS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2RhdGEvY3JlYXRlSW5kaWNlc0ZvclF1YWRzLmpzIiwid2VicGFjazovLy8uLi9zcmMvZGF0YS9yZW1vdmVJdGVtcy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2RhdGEvdWlkLmpzIiwid2VicGFjazovLy8uLi9zcmMvZGF0YS9zaWduLmpzIiwid2VicGFjazovLy8uLi9zcmMvZGF0YS9wb3cyLmpzIiwid2VicGFjazovLy8uLi9zcmMvbWVkaWEvY2FjaGVzLmpzIiwid2VicGFjazovLy8uLi9zcmMvbWVkaWEvdHJpbUNhbnZhcy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL21lZGlhL0NhbnZhc1JlbmRlclRhcmdldC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2NvbnN0LmpzIiwid2VicGFjazovLy8uLi9zcmMvbmV0d29yay9kZXRlcm1pbmVDcm9zc09yaWdpbi5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL25ldHdvcmsvZGVjb21wb3NlRGF0YVVyaS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL25ldHdvcmsvZ2V0UmVzb2x1dGlvbk9mVXJsLmpzIiwid2VicGFjazovLy8uLi9zcmMvbG9nZ2luZy9kZXByZWNhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL1BvaW50LmpzIiwid2VicGFjazovLy8uLi9zcmMvT2JzZXJ2YWJsZVBvaW50LmpzIiwid2VicGFjazovLy8uLi9zcmMvTWF0cml4LmpzIiwid2VicGFjazovLy8uLi9zcmMvR3JvdXBEOC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3NoYXBlcy9SZWN0YW5nbGUuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9zaGFwZXMvQ2lyY2xlLmpzIiwid2VicGFjazovLy8uLi9zcmMvc2hhcGVzL0VsbGlwc2UuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9zaGFwZXMvUG9seWdvbi5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3NoYXBlcy9Sb3VuZGVkUmVjdGFuZ2xlLmpzIiwid2VicGFjazovLy8uLi9zcmMvQm91bmRzLmpzIiwid2VicGFjazovLy8uLi9zcmMvRGlzcGxheU9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL0NvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2FjY2Vzc2libGVUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9BY2Nlc3NpYmlsaXR5TWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL1J1bm5lci5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL1RpY2tlckxpc3RlbmVyLmpzIiwid2VicGFjazovLy8uLi9zcmMvVGlja2VyLmpzIiwid2VicGFjazovLy8uLi9zcmMvVGlja2VyUGx1Z2luLmpzIiwid2VicGFjazovLy8uLi9zcmMvdGV4dHVyZXMvcmVzb3VyY2VzL1Jlc291cmNlLmpzIiwid2VicGFjazovLy8uLi9zcmMvdGV4dHVyZXMvcmVzb3VyY2VzL0Jhc2VJbWFnZVJlc291cmNlLmpzIiwid2VicGFjazovLy8uLi9zcmMvdGV4dHVyZXMvcmVzb3VyY2VzL0ltYWdlUmVzb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy90ZXh0dXJlcy9yZXNvdXJjZXMvYXV0b0RldGVjdFJlc291cmNlLmpzIiwid2VicGFjazovLy8uLi9zcmMvdGV4dHVyZXMvcmVzb3VyY2VzL0J1ZmZlclJlc291cmNlLmpzIiwid2VicGFjazovLy8uLi9zcmMvdGV4dHVyZXMvQmFzZVRleHR1cmUuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy90ZXh0dXJlcy9yZXNvdXJjZXMvQXJyYXlSZXNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3RleHR1cmVzL3Jlc291cmNlcy9DYW52YXNSZXNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3RleHR1cmVzL3Jlc291cmNlcy9DdWJlUmVzb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy90ZXh0dXJlcy9yZXNvdXJjZXMvU1ZHUmVzb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy90ZXh0dXJlcy9yZXNvdXJjZXMvVmlkZW9SZXNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3RleHR1cmVzL3Jlc291cmNlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL1N5c3RlbS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3RleHR1cmVzL3Jlc291cmNlcy9EZXB0aFJlc291cmNlLmpzIiwid2VicGFjazovLy8uLi9zcmMvZnJhbWVidWZmZXIvRnJhbWVidWZmZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yZW5kZXJUZXh0dXJlL0Jhc2VSZW5kZXJUZXh0dXJlLmpzIiwid2VicGFjazovLy8uLi9zcmMvdGV4dHVyZXMvVGV4dHVyZVV2cy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3RleHR1cmVzL1RleHR1cmUuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9yZW5kZXJUZXh0dXJlL1JlbmRlclRleHR1cmUuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9nZW9tZXRyeS9BdHRyaWJ1dGUuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9nZW9tZXRyeS9CdWZmZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9nZW9tZXRyeS91dGlscy9nZXRCdWZmZXJUeXBlLmpzIiwid2VicGFjazovLy8uLi9zcmMvZ2VvbWV0cnkvdXRpbHMvaW50ZXJsZWF2ZVR5cGVkQXJyYXlzLmpzIiwid2VicGFjazovLy8uLi9zcmMvZ2VvbWV0cnkvR2VvbWV0cnkuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy91dGlscy9RdWFkLmpzIiwid2VicGFjazovLy8uLi9zcmMvdXRpbHMvUXVhZFV2LmpzIiwid2VicGFjazovLy8uLi9zcmMvc2hhZGVyL1VuaWZvcm1Hcm91cC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2ZpbHRlcnMvRmlsdGVyU3lzdGVtLmpzIiwid2VicGFjazovLy8uLi9zcmMvYmF0Y2gvT2JqZWN0UmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9iYXRjaC9CYXRjaFN5c3RlbS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2NvbnRleHQvQ29udGV4dFN5c3RlbS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2ZyYW1lYnVmZmVyL0ZyYW1lYnVmZmVyU3lzdGVtLmpzIiwid2VicGFjazovLy8uLi9zcmMvZ2VvbWV0cnkvR0xCdWZmZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9nZW9tZXRyeS9HZW9tZXRyeVN5c3RlbS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3NoYWRlci91dGlscy9jb21waWxlUHJvZ3JhbS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3NoYWRlci91dGlscy9kZWZhdWx0VmFsdWUuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9zaGFkZXIvdXRpbHMvZ2V0VGVzdENvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9zaGFkZXIvdXRpbHMvZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24uanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9zaGFkZXIvdXRpbHMvc2V0UHJlY2lzaW9uLmpzIiwid2VicGFjazovLy8uLi9zcmMvc2hhZGVyL3V0aWxzL21hcFNpemUuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9zaGFkZXIvdXRpbHMvbWFwVHlwZS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3NoYWRlci91dGlscy9nZW5lcmF0ZVVuaWZvcm1zU3luYy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3NoYWRlci91dGlscy9jaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyLmpzIiwid2VicGFjazovLy8uLi9zcmMvc2hhZGVyL3V0aWxzL3Vuc2FmZUV2YWxTdXBwb3J0ZWQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9zaGFkZXIvUHJvZ3JhbS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3NoYWRlci9TaGFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9zdGF0ZS9TdGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2ZpbHRlcnMvRmlsdGVyLmpzIiwid2VicGFjazovLy8uLi9zcmMvdGV4dHVyZXMvVGV4dHVyZU1hdHJpeC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2ZpbHRlcnMvc3ByaXRlTWFzay9TcHJpdGVNYXNrRmlsdGVyLmpzIiwid2VicGFjazovLy8uLi9zcmMvbWFzay9NYXNrU3lzdGVtLmpzIiwid2VicGFjazovLy8uLi9zcmMvbWFzay9TdGVuY2lsU3lzdGVtLmpzIiwid2VicGFjazovLy8uLi9zcmMvcHJvamVjdGlvbi9Qcm9qZWN0aW9uU3lzdGVtLmpzIiwid2VicGFjazovLy8uLi9zcmMvcmVuZGVyVGV4dHVyZS9SZW5kZXJUZXh0dXJlU3lzdGVtLmpzIiwid2VicGFjazovLy8uLi9zcmMvc2hhZGVyL0dMUHJvZ3JhbS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3NoYWRlci9TaGFkZXJTeXN0ZW0uanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9zdGF0ZS9TdGF0ZVN5c3RlbS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3N0YXRlL3V0aWxzL21hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3RleHR1cmVzL1RleHR1cmVHQ1N5c3RlbS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3RleHR1cmVzL0dMVGV4dHVyZS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3RleHR1cmVzL1RleHR1cmVTeXN0ZW0uanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9BYnN0cmFjdFJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uLi9zcmMvUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9hdXRvRGV0ZWN0UmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy90ZXh0dXJlcy9DdWJlVGV4dHVyZS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2JhdGNoL0JhdGNoR2VvbWV0cnkuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9iYXRjaC9CYXRjaERyYXdDYWxsLmpzIiwid2VicGFjazovLy8uLi9zcmMvYmF0Y2gvQmF0Y2hCdWZmZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9iYXRjaC9nZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlci5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2JhdGNoL0JhdGNoUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9FeHRyYWN0LmpzIiwid2VicGFjazovLy8uLi9zcmMvSW50ZXJhY3Rpb25EYXRhLmpzIiwid2VicGFjazovLy8uLi9zcmMvSW50ZXJhY3Rpb25FdmVudC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhLmpzIiwid2VicGFjazovLy8uLi9zcmMvaW50ZXJhY3RpdmVUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9JbnRlcmFjdGlvbk1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9zdHlsZXMvRmlsbFN0eWxlLmpzIiwid2VicGFjazovLy8uLi9zcmMvR3JhcGhpY3NEYXRhLmpzIiwid2VicGFjazovLy8uLi9zcmMvdXRpbHMvYnVpbGRDaXJjbGUuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy91dGlscy9idWlsZExpbmUuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy91dGlscy9idWlsZFBvbHkuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy91dGlscy9idWlsZFJvdW5kZWRSZWN0YW5nbGUuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9HcmFwaGljc0dlb21ldHJ5LmpzIiwid2VicGFjazovLy8uLi9zcmMvdXRpbHMvYnVpbGRSZWN0YW5nbGUuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9zdHlsZXMvTGluZVN0eWxlLmpzIiwid2VicGFjazovLy8uLi9zcmMvdXRpbHMvQmV6aWVyVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy91dGlscy9RdWFkcmF0aWNVdGlscy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL3V0aWxzL0FyY1V0aWxzLmpzIiwid2VicGFjazovLy8uLi9zcmMvdXRpbHMvU3Rhci5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL0dyYXBoaWNzLmpzIiwid2VicGFjazovLy8uLi9zcmMvU3ByaXRlLmpzIiwid2VicGFjazovLy8uLi9zcmMvVGV4dFN0eWxlLmpzIiwid2VicGFjazovLy8uLi9zcmMvVGV4dE1ldHJpY3MuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9UZXh0LmpzIiwid2VicGFjazovLy8uLi9zcmMvQ291bnRMaW1pdGVyLmpzIiwid2VicGFjazovLy8uLi9zcmMvQmFzZVByZXBhcmUuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9QcmVwYXJlLmpzIiwid2VicGFjazovLy8uLi9zcmMvVGltZUxpbWl0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9BcHBsaWNhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL1Jlc2l6ZVBsdWdpbi5qcyIsIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3BhcnNlLXVyaS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktc2lnbmFscy9saWIvbWluaS1zaWduYWxzLmpzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL3NyYy9SZXNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Jlc291cmNlLWxvYWRlci9zcmMvYjY0LmpzIiwid2VicGFjazovLy8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL3NyYy9taWRkbGV3YXJlcy9wYXJzaW5nL2Jsb2IuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9UZXh0dXJlTG9hZGVyLmpzIiwid2VicGFjazovLy8uLi9zcmMvQXBwTG9hZGVyUGx1Z2luLmpzIiwid2VicGFjazovLy8uLi9zcmMvUGFydGljbGVDb250YWluZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9QYXJ0aWNsZUJ1ZmZlci5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL1BhcnRpY2xlUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9TcHJpdGVzaGVldC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL1Nwcml0ZXNoZWV0TG9hZGVyLmpzIiwid2VicGFjazovLy8uLi9zcmMvVGlsaW5nU3ByaXRlLmpzIiwid2VicGFjazovLy8uLi9zcmMvVGlsaW5nU3ByaXRlUmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9CaXRtYXBUZXh0LmpzIiwid2VicGFjazovLy8uLi9zcmMvQml0bWFwRm9udExvYWRlci5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL0FscGhhRmlsdGVyLmpzIiwid2VicGFjazovLy8uLi9zcmMvZ2VuZXJhdGVCbHVyVmVydFNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9CbHVyRmlsdGVyUGFzcy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL0JsdXJGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9Db2xvck1hdHJpeEZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL0Rpc3BsYWNlbWVudEZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL0ZYQUFGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9Ob2lzZUZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL01lc2hCYXRjaFV2cy5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL01lc2guanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9NZXNoTWF0ZXJpYWwuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9NZXNoR2VvbWV0cnkuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy9nZW9tZXRyeS9QbGFuZUdlb21ldHJ5LmpzIiwid2VicGFjazovLy8uLi9zcmMvZ2VvbWV0cnkvUm9wZUdlb21ldHJ5LmpzIiwid2VicGFjazovLy8uLi9zcmMvU2ltcGxlUm9wZS5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL1NpbXBsZVBsYW5lLmpzIiwid2VicGFjazovLy8uLi9zcmMvU2ltcGxlTWVzaC5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL05pbmVTbGljZVBsYW5lLmpzIiwid2VicGFjazovLy8uLi9zcmMvQW5pbWF0ZWRTcHJpdGUuanMiLCJ3ZWJwYWNrOi8vLy4uL3NyYy91c2VEZXByZWNhdGVkLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9waXhpLW1vZHVsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvUmVlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdHMvaW5kZXgudHMiXSwibmFtZXMiOlsicGFyZW50SG90VXBkYXRlQ2FsbGJhY2siLCJ3aW5kb3ciLCJjaHVua0lkIiwibW9yZU1vZHVsZXMiLCJob3RBdmFpbGFibGVGaWxlc01hcCIsImhvdFJlcXVlc3RlZEZpbGVzTWFwIiwibW9kdWxlSWQiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJob3RVcGRhdGUiLCJob3RXYWl0aW5nRmlsZXMiLCJob3RDaHVua3NMb2FkaW5nIiwiaG90VXBkYXRlRG93bmxvYWRlZCIsImhvdEFkZFVwZGF0ZUNodW5rIiwiaG90Q3VycmVudENoaWxkTW9kdWxlIiwiaG90QXBwbHlPblVwZGF0ZSIsImhvdEN1cnJlbnRIYXNoIiwiaG90UmVxdWVzdFRpbWVvdXQiLCJob3RDdXJyZW50TW9kdWxlRGF0YSIsImhvdEN1cnJlbnRQYXJlbnRzIiwiaG90Q3VycmVudFBhcmVudHNUZW1wIiwiaG90Q3JlYXRlUmVxdWlyZSIsIm1lIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJmbiIsInJlcXVlc3QiLCJob3QiLCJhY3RpdmUiLCJwYXJlbnRzIiwiaW5kZXhPZiIsInB1c2giLCJjaGlsZHJlbiIsImNvbnNvbGUiLCJ3YXJuIiwiT2JqZWN0RmFjdG9yeSIsIm5hbWUiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwic2V0IiwidmFsdWUiLCJkZWZpbmVQcm9wZXJ0eSIsImUiLCJob3RTdGF0dXMiLCJob3RTZXRTdGF0dXMiLCJ0aGVuIiwiZmluaXNoQ2h1bmtMb2FkaW5nIiwiZXJyIiwiaG90V2FpdGluZ0ZpbGVzTWFwIiwiaG90RW5zdXJlVXBkYXRlQ2h1bmsiLCJ0IiwibW9kZSIsImhvdENyZWF0ZU1vZHVsZSIsIl9hY2NlcHRlZERlcGVuZGVuY2llcyIsIl9kZWNsaW5lZERlcGVuZGVuY2llcyIsIl9zZWxmQWNjZXB0ZWQiLCJfc2VsZkRlY2xpbmVkIiwiX2Rpc3Bvc2VIYW5kbGVycyIsIl9tYWluIiwiYWNjZXB0IiwiZGVwIiwiY2FsbGJhY2siLCJ1bmRlZmluZWQiLCJpIiwibGVuZ3RoIiwiZGVjbGluZSIsImRpc3Bvc2UiLCJhZGREaXNwb3NlSGFuZGxlciIsInJlbW92ZURpc3Bvc2VIYW5kbGVyIiwiaWR4Iiwic3BsaWNlIiwiY2hlY2siLCJob3RDaGVjayIsImFwcGx5IiwiaG90QXBwbHkiLCJzdGF0dXMiLCJsIiwiaG90U3RhdHVzSGFuZGxlcnMiLCJhZGRTdGF0dXNIYW5kbGVyIiwicmVtb3ZlU3RhdHVzSGFuZGxlciIsImRhdGEiLCJuZXdTdGF0dXMiLCJob3REZWZlcnJlZCIsImhvdFVwZGF0ZU5ld0hhc2giLCJ0b01vZHVsZUlkIiwiaWQiLCJFcnJvciIsInJlcXVlc3RUaW1lb3V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJYTUxIdHRwUmVxdWVzdCIsInJlcXVlc3RQYXRoIiwicCIsIm9wZW4iLCJ0aW1lb3V0Iiwic2VuZCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJ1cGRhdGUiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJjIiwiaCIsInByb21pc2UiLCJzY3JpcHQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjaGFyc2V0Iiwic3JjIiwiaGVhZCIsImFwcGVuZENoaWxkIiwiaG90RG93bmxvYWRVcGRhdGVDaHVuayIsImRlZmVycmVkIiwicmVzdWx0Iiwib3V0ZGF0ZWRNb2R1bGVzIiwib3B0aW9ucyIsImNiIiwiaiIsIm1vZHVsZSIsImdldEFmZmVjdGVkU3R1ZmYiLCJ1cGRhdGVNb2R1bGVJZCIsIm91dGRhdGVkRGVwZW5kZW5jaWVzIiwicXVldWUiLCJzbGljZSIsIm1hcCIsImNoYWluIiwicXVldWVJdGVtIiwicG9wIiwidHlwZSIsInBhcmVudElkIiwicGFyZW50IiwiY29uY2F0IiwiYWRkQWxsVG9TZXQiLCJhIiwiYiIsIml0ZW0iLCJhcHBsaWVkVXBkYXRlIiwid2FyblVuZXhwZWN0ZWRSZXF1aXJlIiwiYWJvcnRFcnJvciIsImRvQXBwbHkiLCJkb0Rpc3Bvc2UiLCJjaGFpbkluZm8iLCJqb2luIiwib25EZWNsaW5lZCIsImlnbm9yZURlY2xpbmVkIiwib25VbmFjY2VwdGVkIiwiaWdub3JlVW5hY2NlcHRlZCIsIm9uQWNjZXB0ZWQiLCJvbkRpc3Bvc2VkIiwib3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzIiwiZXJyb3JIYW5kbGVyIiwia2V5cyIsImZvckVhY2giLCJpbnN0YWxsZWRDaHVua3MiLCJob3REaXNwb3NlQ2h1bmsiLCJkZXBlbmRlbmN5IiwibW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMiLCJkaXNwb3NlSGFuZGxlcnMiLCJjaGlsZCIsIm1vZHVsZXMiLCJlcnJvciIsImNhbGxiYWNrcyIsIm9uRXJyb3JlZCIsImRlcGVuZGVuY3lJZCIsImlnbm9yZUVycm9yZWQiLCJlcnIyIiwib3JpZ2luYWxFcnJvciIsImV4cG9ydHMiLCJtIiwiZCIsImdldHRlciIsIm8iLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicyIsIl9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsImYiLCJ1IiwidiIsInciLCJ0ZXN0IiwibmF2aWdhdG9yIiwidXNlckFnZW50Iiwic3BsaXQiLCJhcHBsZSIsInBob25lIiwiaXBvZCIsInRhYmxldCIsImRldmljZSIsImFtYXpvbiIsImFuZHJvaWQiLCJ3aW5kb3dzIiwib3RoZXIiLCJibGFja2JlcnJ5IiwiYmxhY2tiZXJyeTEwIiwib3BlcmEiLCJmaXJlZm94IiwiY2hyb21lIiwiYW55IiwiaXNNb2JpbGUiLCJ0aGlzIiwiZyIsIkZ1bmN0aW9uIiwicHVueWNvZGUiLCJ1dGlsIiwiVXJsIiwicHJvdG9jb2wiLCJzbGFzaGVzIiwiYXV0aCIsImhvc3QiLCJwb3J0IiwiaG9zdG5hbWUiLCJoYXNoIiwic2VhcmNoIiwicXVlcnkiLCJwYXRobmFtZSIsInBhdGgiLCJocmVmIiwidXJsUGFyc2UiLCJzb3VyY2UiLCJyZWxhdGl2ZSIsInJlc29sdmVPYmplY3QiLCJmb3JtYXQiLCJvYmoiLCJpc1N0cmluZyIsInByb3RvY29sUGF0dGVybiIsInBvcnRQYXR0ZXJuIiwic2ltcGxlUGF0aFBhdHRlcm4iLCJ1bndpc2UiLCJhdXRvRXNjYXBlIiwibm9uSG9zdENoYXJzIiwiaG9zdEVuZGluZ0NoYXJzIiwiaG9zdG5hbWVQYXJ0UGF0dGVybiIsImhvc3RuYW1lUGFydFN0YXJ0IiwidW5zYWZlUHJvdG9jb2wiLCJqYXZhc2NyaXB0IiwiamF2YXNjcmlwdDoiLCJob3N0bGVzc1Byb3RvY29sIiwic2xhc2hlZFByb3RvY29sIiwiaHR0cCIsImh0dHBzIiwiZnRwIiwiZ29waGVyIiwiZmlsZSIsImh0dHA6IiwiaHR0cHM6IiwiZnRwOiIsImdvcGhlcjoiLCJmaWxlOiIsInF1ZXJ5c3RyaW5nIiwidXJsIiwicGFyc2VRdWVyeVN0cmluZyIsInNsYXNoZXNEZW5vdGVIb3N0IiwiaXNPYmplY3QiLCJUeXBlRXJyb3IiLCJxdWVyeUluZGV4Iiwic3BsaXR0ZXIiLCJ1U3BsaXQiLCJyZXBsYWNlIiwicmVzdCIsInRyaW0iLCJzaW1wbGVQYXRoIiwiZXhlYyIsInN1YnN0ciIsInByb3RvIiwibG93ZXJQcm90byIsInRvTG93ZXJDYXNlIiwibWF0Y2giLCJhdFNpZ24iLCJob3N0RW5kIiwiaGVjIiwibGFzdEluZGV4T2YiLCJkZWNvZGVVUklDb21wb25lbnQiLCJwYXJzZUhvc3QiLCJpcHY2SG9zdG5hbWUiLCJob3N0cGFydHMiLCJwYXJ0IiwibmV3cGFydCIsImsiLCJjaGFyQ29kZUF0IiwidmFsaWRQYXJ0cyIsIm5vdEhvc3QiLCJiaXQiLCJ1bnNoaWZ0IiwidG9BU0NJSSIsImFlIiwiZXNjIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZXNjYXBlIiwicW0iLCJzdHJpbmdpZnkiLCJjaGFyQXQiLCJyZWwiLCJ0a2V5cyIsInRrIiwidGtleSIsInJrZXlzIiwicmsiLCJya2V5IiwicmVsUGF0aCIsInNoaWZ0IiwiaXNTb3VyY2VBYnMiLCJpc1JlbEFicyIsIm11c3RFbmRBYnMiLCJyZW1vdmVBbGxEb3RzIiwic3JjUGF0aCIsInBzeWNob3RpYyIsImlzTnVsbE9yVW5kZWZpbmVkIiwiYXV0aEluSG9zdCIsImlzTnVsbCIsImxhc3QiLCJoYXNUcmFpbGluZ1NsYXNoIiwidXAiLCJpc0Fic29sdXRlIiwiTG9hZGVyIiwicmVxdWlyZSIsIlJlc291cmNlIiwiYXN5bmMiLCJiNjQiLCJlbmNvZGVCaW5hcnkiLCJiYXNlNjQiLCJkZWZhdWx0IiwiaGFzIiwicHJlZml4IiwiRXZlbnRzIiwiRUUiLCJjb250ZXh0Iiwib25jZSIsImFkZExpc3RlbmVyIiwiZW1pdHRlciIsImV2ZW50IiwibGlzdGVuZXIiLCJldnQiLCJfZXZlbnRzIiwiX2V2ZW50c0NvdW50IiwiY2xlYXJFdmVudCIsIkV2ZW50RW1pdHRlciIsIl9fcHJvdG9fXyIsImV2ZW50TmFtZXMiLCJldmVudHMiLCJuYW1lcyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImxpc3RlbmVycyIsImhhbmRsZXJzIiwiZWUiLCJBcnJheSIsImxpc3RlbmVyQ291bnQiLCJlbWl0IiwiYTEiLCJhMiIsImEzIiwiYTQiLCJhNSIsImFyZ3MiLCJsZW4iLCJhcmd1bWVudHMiLCJyZW1vdmVMaXN0ZW5lciIsIm9uIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwib2ZmIiwicHJlZml4ZWQiLCJlYXJjdXQiLCJob2xlSW5kaWNlcyIsImRpbSIsIm1pblgiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJ4IiwieSIsImludlNpemUiLCJoYXNIb2xlcyIsIm91dGVyTGVuIiwib3V0ZXJOb2RlIiwibGlua2VkTGlzdCIsInRyaWFuZ2xlcyIsIm5leHQiLCJwcmV2Iiwic3RhcnQiLCJlbmQiLCJsaXN0Iiwic3RlaW5lciIsImdldExlZnRtb3N0Iiwic29ydCIsImNvbXBhcmVYIiwiZWxpbWluYXRlSG9sZSIsImZpbHRlclBvaW50cyIsImVsaW1pbmF0ZUhvbGVzIiwiTWF0aCIsIm1heCIsImVhcmN1dExpbmtlZCIsImNsb2Nrd2lzZSIsInNpZ25lZEFyZWEiLCJpbnNlcnROb2RlIiwiZXF1YWxzIiwicmVtb3ZlTm9kZSIsImFnYWluIiwiYXJlYSIsImVhciIsInBhc3MiLCJ6Iiwiek9yZGVyIiwicHJldloiLCJuZXh0WiIsInEiLCJ0YWlsIiwibnVtTWVyZ2VzIiwicFNpemUiLCJxU2l6ZSIsImluU2l6ZSIsInNvcnRMaW5rZWQiLCJpbmRleEN1cnZlIiwic3RvcCIsImlzRWFySGFzaGVkIiwiaXNFYXIiLCJjdXJlTG9jYWxJbnRlcnNlY3Rpb25zIiwic3BsaXRFYXJjdXQiLCJwb2ludEluVHJpYW5nbGUiLCJtaW5UWCIsIm1pblRZIiwibWF4VFgiLCJtYXhUWSIsIm1pbloiLCJtYXhaIiwiaW50ZXJzZWN0cyIsImxvY2FsbHlJbnNpZGUiLCJpc1ZhbGlkRGlhZ29uYWwiLCJzcGxpdFBvbHlnb24iLCJob2xlIiwiaHgiLCJoeSIsInF4IiwiSW5maW5pdHkiLCJ0YW4iLCJteCIsIm15IiwidGFuTWluIiwiYWJzIiwiZmluZEhvbGVCcmlkZ2UiLCJsZWZ0bW9zdCIsImF4IiwiYXkiLCJieCIsImJ5IiwiY3giLCJjeSIsInB4IiwicHkiLCJpbnRlcnNlY3RzUG9seWdvbiIsImluc2lkZSIsIm1pZGRsZUluc2lkZSIsInAxIiwicDIiLCJxMSIsInEyIiwiTm9kZSIsImIyIiwiYW4iLCJicCIsInN1bSIsImRldmlhdGlvbiIsInBvbHlnb25BcmVhIiwidHJpYW5nbGVzQXJlYSIsImZsYXR0ZW4iLCJ2ZXJ0aWNlcyIsImhvbGVzIiwiZGltZW5zaW9ucyIsImhvbGVJbmRleCIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJ3cml0YWJsZSIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJNaW5pU2lnbmFsQmluZGluZyIsInRoaXNBcmciLCJfZm4iLCJfb25jZSIsIl90aGlzQXJnIiwiX25leHQiLCJfcHJldiIsIl9vd25lciIsImRldGFjaCIsIl9hZGRNaW5pU2lnbmFsQmluZGluZyIsInNlbGYiLCJub2RlIiwiX2hlYWQiLCJfdGFpbCIsIk1pbmlTaWduYWwiLCJleGlzdHMiLCJzdHIiLCJvcHRzIiwicGFyc2VyIiwic3RyaWN0IiwibG9vc2UiLCJzdHJpY3RNb2RlIiwidXJpIiwiJDAiLCIkMSIsIiQyIiwiX25vb3AiLCJvbmx5T25jZSIsImNhbGxGbiIsImVhY2hTZXJpZXMiLCJhcnJheSIsIml0ZXJhdG9yIiwiZGVmZXJOZXh0Iiwic2V0VGltZW91dCIsIndvcmtlciIsImNvbmN1cnJlbmN5Iiwid29ya2VycyIsIl90YXNrcyIsInNhdHVyYXRlZCIsInVuc2F0dXJhdGVkIiwiYnVmZmVyIiwiZW1wdHkiLCJkcmFpbiIsInN0YXJ0ZWQiLCJwYXVzZWQiLCJfaW5zZXJ0Iiwia2lsbCIsInByb2Nlc3MiLCJ0YXNrIiwicnVubmluZyIsImlkbGUiLCJwYXVzZSIsInJlc3VtZSIsImluc2VydEF0RnJvbnQiLCJ1c2VYZHIiLCJYRG9tYWluUmVxdWVzdCIsInRlbXBBbmNob3IiLCJfZmxhZ3MiLCJfc2V0RmxhZyIsIlNUQVRVU19GTEFHUyIsIkRBVEFfVVJMIiwiZXh0ZW5zaW9uIiwiX2dldEV4dGVuc2lvbiIsImNyb3NzT3JpZ2luIiwibG9hZFR5cGUiLCJfZGV0ZXJtaW5lTG9hZFR5cGUiLCJ4aHJUeXBlIiwibWV0YWRhdGEiLCJ4aHIiLCJUWVBFIiwiVU5LTk9XTiIsInByb2dyZXNzQ2h1bmsiLCJfZGVxdWV1ZSIsIl9vbkxvYWRCaW5kaW5nIiwiX2VsZW1lbnRUaW1lciIsIl9ib3VuZENvbXBsZXRlIiwiY29tcGxldGUiLCJfYm91bmRPbkVycm9yIiwiX29uRXJyb3IiLCJfYm91bmRPblByb2dyZXNzIiwiX29uUHJvZ3Jlc3MiLCJfYm91bmRPblRpbWVvdXQiLCJfb25UaW1lb3V0IiwiX2JvdW5kWGhyT25FcnJvciIsIl94aHJPbkVycm9yIiwiX2JvdW5kWGhyT25UaW1lb3V0IiwiX3hock9uVGltZW91dCIsIl9ib3VuZFhock9uQWJvcnQiLCJfeGhyT25BYm9ydCIsIl9ib3VuZFhock9uTG9hZCIsIl94aHJPbkxvYWQiLCJvblN0YXJ0IiwiU2lnbmFsIiwib25Qcm9ncmVzcyIsIm9uQ29tcGxldGUiLCJvbkFmdGVyTWlkZGxld2FyZSIsInNldEV4dGVuc2lvbkxvYWRUeXBlIiwiZXh0bmFtZSIsInNldEV4dE1hcCIsIl9sb2FkVHlwZU1hcCIsInNldEV4dGVuc2lvblhoclR5cGUiLCJfeGhyVHlwZU1hcCIsIl9jbGVhckV2ZW50cyIsIl9maW5pc2giLCJhYm9ydCIsIm1lc3NhZ2UiLCJ4ZHIiLCJFTVBUWV9HSUYiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJsb2FkIiwiX3RoaXMiLCJpc0xvYWRpbmciLCJpc0NvbXBsZXRlIiwiTE9BRElORyIsImRpc3BhdGNoIiwiX2RldGVybWluZUNyb3NzT3JpZ2luIiwiTE9BRF9UWVBFIiwiSU1BR0UiLCJfbG9hZEVsZW1lbnQiLCJBVURJTyIsIl9sb2FkU291cmNlRWxlbWVudCIsIlZJREVPIiwiWEhSIiwiX2xvYWRYZHIiLCJfbG9hZFhociIsIl9oYXNGbGFnIiwiZmxhZyIsImNsZWFyVGltZW91dCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvbmVycm9yIiwib250aW1lb3V0Iiwib25wcm9ncmVzcyIsIm9ubG9hZCIsIkNPTVBMRVRFIiwibG9hZEVsZW1lbnQiLCJJbWFnZSIsInNraXBTb3VyY2UiLCJhZGRFdmVudExpc3RlbmVyIiwiQXVkaW8iLCJpc0NvY29vbkpTIiwiaXNBcnJheSIsIm1pbWVUeXBlcyIsIm1pbWVUeXBlIiwiX2NyZWF0ZVNvdXJjZSIsIl9kZXRlcm1pbmVYaHJUeXBlIiwiWEhSX1JFU1BPTlNFX1RZUEUiLCJET0NVTUVOVCIsInJlc3BvbnNlVHlwZSIsIlRFWFQiLCJtaW1lIiwibm9kZU5hbWUiLCJsZW5ndGhDb21wdXRhYmxlIiwibG9hZGVkIiwidG90YWwiLCJyZXFUeXBlIiwic3RhdHVzVGV4dCIsInRleHQiLCJCVUZGRVIiLCJET01QYXJzZXIiLCJkb21wYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJkaXYiLCJpbm5lckhUTUwiLCJYTUwiLCJyZXNwb25zZSIsInJlc3BvbnNlVVJMIiwibG9jIiwib3JpZ2luIiwibG9jYXRpb24iLCJzYW1lUG9ydCIsIl9wYXJzZVVyaTIiLCJleHQiLCJpc0RhdGFVcmwiLCJzbGFzaEluZGV4Iiwic3Vic3RyaW5nIiwicXVlcnlTdGFydCIsImhhc2hTdGFydCIsImluZGV4IiwibWluIiwiX2dldE1pbWVGcm9tWGhyVHlwZSIsIkJMT0IiLCJERUZBVUxUIiwidmFsIiwidG9TdHJpbmciLCJOT05FIiwiZ2lmIiwicG5nIiwiYm1wIiwianBnIiwianBlZyIsInRpZiIsInRpZmYiLCJ3ZWJwIiwidGdhIiwic3ZnIiwic3ZnK3htbCIsIm1wMyIsIm9nZyIsIndhdiIsIm1wNCIsIndlYm0iLCJ4aHRtbCIsImh0bWwiLCJodG0iLCJ4bWwiLCJ0bXgiLCJ0c3giLCJqc29uIiwidHh0IiwidHRmIiwib3RmIiwiZ2xvYmFsIiwic2V0SW1tZWRpYXRlIiwiTmF0aXZlUHJvbWlzZSIsIm5hdGl2ZVByb21pc2VTdXBwb3J0ZWQiLCJQb2x5ZmlsbCIsIlBFTkRJTkciLCJTRUFMRUQiLCJGVUxGSUxMRUQiLCJSRUpFQ1RFRCIsIk5PT1AiLCJhc3luY1RpbWVyIiwiYXN5bmNTZXRUaW1lciIsImFzeW5jUXVldWUiLCJhc3luY0ZsdXNoIiwiYXN5bmNDYWxsIiwiYXJnIiwiaW52b2tlQ2FsbGJhY2siLCJzdWJzY3JpYmVyIiwib3duZXIiLCJzZXR0bGVkIiwic3RhdGVfIiwiZGF0YV8iLCJoYW5kbGVUaGVuYWJsZSIsInJlc29sdmVkIiwiZnVsZmlsbCIsInJlYXNvbiIsInB1Ymxpc2hGdWxmaWxsbWVudCIsInB1Ymxpc2hSZWplY3Rpb24iLCJwdWJsaXNoIiwidGhlbl8iLCJyZXNvbHZlciIsInJlamVjdFByb21pc2UiLCJpbnZva2VSZXNvbHZlciIsImNvbnN0cnVjdG9yIiwib25GdWxmaWxsbWVudCIsIm9uUmVqZWN0aW9uIiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJjYXRjaCIsImFsbCIsInByb21pc2VzIiwicmVzdWx0cyIsInJlbWFpbmluZyIsInJhY2UiLCJwcm9wSXNFbnVtZXJhYmxlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJhc3NpZ24iLCJ0ZXN0MSIsIlN0cmluZyIsImdldE93blByb3BlcnR5TmFtZXMiLCJ0ZXN0MiIsImZyb21DaGFyQ29kZSIsInRlc3QzIiwibGV0dGVyIiwic2hvdWxkVXNlTmF0aXZlIiwiZnJvbSIsInN5bWJvbHMiLCJ0byIsInRvT2JqZWN0IiwiZXM2X3Byb21pc2VfcG9seWZpbGxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsIm9iamVjdF9hc3NpZ25fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX19kZWZhdWx0IiwiRGF0ZSIsIm5vdyIsImdldFRpbWUiLCJwZXJmb3JtYW5jZSIsImNvbnN0Iiwic3RhcnRUaW1lIiwibGV0IiwibGFzdFRpbWUiLCJ2ZW5kb3JzIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJjdXJyZW50VGltZSIsImRlbGF5Iiwic2lnbiIsIk51bWJlciIsImlzTmFOIiwiaXNJbnRlZ2VyIiwiaXNGaW5pdGUiLCJmbG9vciIsIkFycmF5QnVmZmVyIiwiRmxvYXQzMkFycmF5IiwiVWludDMyQXJyYXkiLCJVaW50MTZBcnJheSIsIlVpbnQ4QXJyYXkiLCJJbnQzMkFycmF5Iiwic2NvcGUiLCJUaW1lb3V0IiwiY2xlYXJGbiIsIl9pZCIsIl9jbGVhckZuIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiY2xvc2UiLCJ1bnJlZiIsInJlZiIsImVucm9sbCIsIm1zZWNzIiwiX2lkbGVUaW1lb3V0SWQiLCJfaWRsZVRpbWVvdXQiLCJ1bmVucm9sbCIsIl91bnJlZkFjdGl2ZSIsImNsZWFySW1tZWRpYXRlIiwicmVnaXN0ZXJJbW1lZGlhdGUiLCJjaGFubmVsIiwibWVzc2FnZVByZWZpeCIsIm9uR2xvYmFsTWVzc2FnZSIsIm5leHRIYW5kbGUiLCJ0YXNrc0J5SGFuZGxlIiwiY3VycmVudGx5UnVubmluZ0FUYXNrIiwiZG9jIiwiYXR0YWNoVG8iLCJnZXRQcm90b3R5cGVPZiIsImhhbmRsZSIsIm5leHRUaWNrIiwicnVuSWZQcmVzZW50IiwicG9zdE1lc3NhZ2UiLCJpbXBvcnRTY3JpcHRzIiwicG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyIsIm9sZE9uTWVzc2FnZSIsIm9ubWVzc2FnZSIsImNhblVzZVBvc3RNZXNzYWdlIiwiTWVzc2FnZUNoYW5uZWwiLCJwb3J0MSIsInBvcnQyIiwiZG9jdW1lbnRFbGVtZW50IiwicmFuZG9tIiwiYXR0YWNoRXZlbnQiLCJydW4iLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwiY3VycmVudFF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5RdWV1ZSIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJub29wIiwidGl0bGUiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsInJvb3QiLCJub2RlVHlwZSIsImZyZWVHbG9iYWwiLCJtYXhJbnQiLCJiYXNlIiwidE1pbiIsInRNYXgiLCJza2V3IiwiZGFtcCIsImluaXRpYWxCaWFzIiwiaW5pdGlhbE4iLCJkZWxpbWl0ZXIiLCJyZWdleFB1bnljb2RlIiwicmVnZXhOb25BU0NJSSIsInJlZ2V4U2VwYXJhdG9ycyIsImVycm9ycyIsIm92ZXJmbG93Iiwibm90LWJhc2ljIiwiaW52YWxpZC1pbnB1dCIsImJhc2VNaW51c1RNaW4iLCJzdHJpbmdGcm9tQ2hhckNvZGUiLCJSYW5nZUVycm9yIiwibWFwRG9tYWluIiwic3RyaW5nIiwicGFydHMiLCJ1Y3MyZGVjb2RlIiwiZXh0cmEiLCJvdXRwdXQiLCJjb3VudGVyIiwidWNzMmVuY29kZSIsImRpZ2l0VG9CYXNpYyIsImRpZ2l0IiwiYWRhcHQiLCJkZWx0YSIsIm51bVBvaW50cyIsImZpcnN0VGltZSIsImRlY29kZSIsImlucHV0Iiwib3V0IiwiYmFzaWMiLCJvbGRpIiwiYmFzZU1pbnVzVCIsImNvZGVQb2ludCIsImlucHV0TGVuZ3RoIiwiYmlhcyIsImVuY29kZSIsImhhbmRsZWRDUENvdW50IiwiYmFzaWNMZW5ndGgiLCJjdXJyZW50VmFsdWUiLCJoYW5kbGVkQ1BDb3VudFBsdXNPbmUiLCJxTWludXNUIiwidWNzMiIsInRvVW5pY29kZSIsIndlYnBhY2tQb2x5ZmlsbCIsImRlcHJlY2F0ZSIsInBhdGhzIiwicHJvcCIsInFzIiwic2VwIiwiZXEiLCJyZWdleHAiLCJtYXhLZXlzIiwia3N0ciIsInZzdHIiLCJ4cyIsInN0cmluZ2lmeVByaW1pdGl2ZSIsIm9iamVjdEtleXMiLCJrcyIsInJlcyIsIl9SZXNvdXJjZSIsInJneEV4dHJhY3RVcmxIYXNoIiwiYmFzZVVybCIsInByb2dyZXNzIiwibG9hZGluZyIsImRlZmF1bHRRdWVyeVN0cmluZyIsIl9iZWZvcmVNaWRkbGV3YXJlIiwiX2FmdGVyTWlkZGxld2FyZSIsIl9yZXNvdXJjZXNQYXJzaW5nIiwiX2JvdW5kTG9hZFJlc291cmNlIiwiX2xvYWRSZXNvdXJjZSIsIl9xdWV1ZSIsInJlc291cmNlcyIsIm9uRXJyb3IiLCJvbkxvYWQiLCJfZGVmYXVsdEJlZm9yZU1pZGRsZXdhcmUiLCJwcmUiLCJfZGVmYXVsdEFmdGVyTWlkZGxld2FyZSIsInVzZSIsImFkZCIsIl90eXBlb2YiLCJwYXJlbnRSZXNvdXJjZSIsIl9wcmVwYXJlVXJsIiwiaW5jb21wbGV0ZUNoaWxkcmVuIiwiZWFjaENodW5rIiwicmVzZXQiLCJfb25TdGFydCIsIl9vbkNvbXBsZXRlIiwiY2h1bmsiLCJwYXJzZWRVcmwiLCJyZXNvdXJjZSIsImRlcXVldWUiLCJfdGhpczIiLCJfb25Mb2FkIiwiX3RoaXMzIiwiX2tleVN0ciIsImlueCIsImJ5dGVidWZmZXIiLCJlbmNvZGVkQ2hhckluZGV4ZXMiLCJqbngiLCJjb250ZW50IiwiaG1yIiwidHJhbnNmb3JtIiwiaW5zZXJ0SW50byIsImxvY2FscyIsIm5ld0NvbnRlbnQiLCJtZW1vIiwic3R5bGVzSW5Eb20iLCJpc09sZElFIiwiYXRvYiIsImdldEVsZW1lbnQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJzdHlsZXNJbnNlcnRlZEF0VG9wIiwiZml4VXJscyIsImFkZFN0eWxlc1RvRG9tIiwic3R5bGVzIiwiZG9tU3R5bGUiLCJyZWZzIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJuZXdTdHlsZXMiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwibGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiYmVmb3JlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwicGFyZW50Tm9kZSIsImNyZWF0ZVN0eWxlRWxlbWVudCIsImF0dHJzIiwibm9uY2UiLCJuYyIsImdldE5vbmNlIiwiYWRkQXR0cnMiLCJlbCIsInNldEF0dHJpYnV0ZSIsInJlbW92ZSIsInN0eWxlSW5kZXgiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwiQmxvYiIsImJ0b2EiLCJsaW5rIiwiY3JlYXRlTGlua0VsZW1lbnQiLCJhdXRvRml4VXJscyIsImNvbnZlcnRUb0Fic29sdXRlVXJscyIsInVuZXNjYXBlIiwiYmxvYiIsIm9sZFNyYyIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3JlYXRlVGV4dE5vZGUiLCJuZXdPYmoiLCJERUJVRyIsIm5ld0xpc3QiLCJtYXlSZW1vdmUiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsImNzc05vZGUiLCJjaGlsZE5vZGVzIiwiY3VycmVudERpciIsImZ1bGxNYXRjaCIsIm9yaWdVcmwiLCJuZXdVcmwiLCJ1bnF1b3RlZE9yaWdVcmwiLCJzZXR0aW5ncyIsIk1JUE1BUF9URVhUVVJFUyIsIlJFU09MVVRJT04iLCJGSUxURVJfUkVTT0xVVElPTiIsIlNQUklURV9NQVhfVEVYVFVSRVMiLCJhbGxvd01heCIsImlzTW9iaWxlX21pbl9kZWZhdWx0IiwicGFyc2VJbnQiLCJtYXhSZWNvbW1lbmRlZFRleHR1cmVzIiwiU1BSSVRFX0JBVENIX1NJWkUiLCJSRU5ERVJfT1BUSU9OUyIsInZpZXciLCJhbnRpYWxpYXMiLCJmb3JjZUZYQUEiLCJhdXRvRGVuc2l0eSIsInRyYW5zcGFyZW50IiwiYmFja2dyb3VuZENvbG9yIiwiY2xlYXJCZWZvcmVSZW5kZXIiLCJwcmVzZXJ2ZURyYXdpbmdCdWZmZXIiLCJ3aWR0aCIsImhlaWdodCIsImxlZ2FjeSIsIkdDX01PREUiLCJHQ19NQVhfSURMRSIsIkdDX01BWF9DSEVDS19DT1VOVCIsIldSQVBfTU9ERSIsIlNDQUxFX01PREUiLCJQUkVDSVNJT05fVkVSVEVYIiwiUFJFQ0lTSU9OX0ZSQUdNRU5UIiwiQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUiIsIkNSRUFURV9JTUFHRV9CSVRNQVAiLCJST1VORF9QSVhFTFMiLCJFTlYiLCJXRUJHTF9MRUdBQ1kiLCJXRUJHTCIsIldFQkdMMiIsIlJFTkRFUkVSX1RZUEUiLCJDQU5WQVMiLCJCTEVORF9NT0RFUyIsIk5PUk1BTCIsIkFERCIsIk1VTFRJUExZIiwiU0NSRUVOIiwiT1ZFUkxBWSIsIkRBUktFTiIsIkxJR0hURU4iLCJDT0xPUl9ET0RHRSIsIkNPTE9SX0JVUk4iLCJIQVJEX0xJR0hUIiwiU09GVF9MSUdIVCIsIkRJRkZFUkVOQ0UiLCJFWENMVVNJT04iLCJIVUUiLCJTQVRVUkFUSU9OIiwiQ09MT1IiLCJMVU1JTk9TSVRZIiwiTk9STUFMX05QTSIsIkFERF9OUE0iLCJTQ1JFRU5fTlBNIiwiU1JDX09WRVIiLCJTUkNfSU4iLCJTUkNfT1VUIiwiU1JDX0FUT1AiLCJEU1RfT1ZFUiIsIkRTVF9JTiIsIkRTVF9PVVQiLCJEU1RfQVRPUCIsIkVSQVNFIiwiU1VCVFJBQ1QiLCJEUkFXX01PREVTIiwiUE9JTlRTIiwiTElORVMiLCJMSU5FX0xPT1AiLCJMSU5FX1NUUklQIiwiVFJJQU5HTEVTIiwiVFJJQU5HTEVfU1RSSVAiLCJUUklBTkdMRV9GQU4iLCJGT1JNQVRTIiwiUkdCQSIsIlJHQiIsIkFMUEhBIiwiTFVNSU5BTkNFIiwiTFVNSU5BTkNFX0FMUEhBIiwiREVQVEhfQ09NUE9ORU5UIiwiREVQVEhfU1RFTkNJTCIsIlRBUkdFVFMiLCJURVhUVVJFXzJEIiwiVEVYVFVSRV9DVUJFX01BUCIsIlRFWFRVUkVfMkRfQVJSQVkiLCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1giLCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1giLCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1kiLCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1kiLCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1oiLCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1oiLCJUWVBFUyIsIlVOU0lHTkVEX0JZVEUiLCJVTlNJR05FRF9TSE9SVCIsIlVOU0lHTkVEX1NIT1JUXzVfNl81IiwiVU5TSUdORURfU0hPUlRfNF80XzRfNCIsIlVOU0lHTkVEX1NIT1JUXzVfNV81XzEiLCJGTE9BVCIsIkhBTEZfRkxPQVQiLCJTQ0FMRV9NT0RFUyIsIkxJTkVBUiIsIk5FQVJFU1QiLCJXUkFQX01PREVTIiwiQ0xBTVAiLCJSRVBFQVQiLCJNSVJST1JFRF9SRVBFQVQiLCJNSVBNQVBfTU9ERVMiLCJPRkYiLCJQT1cyIiwiT04iLCJHQ19NT0RFUyIsIkFVVE8iLCJNQU5VQUwiLCJQUkVDSVNJT04iLCJMT1ciLCJNRURJVU0iLCJISUdIIiwiUkVUSU5BX1BSRUZJWCIsInN1cHBvcnRlZCIsInNhaWRIZWxsbyIsIlZFUlNJT04iLCJza2lwSGVsbG8iLCJzYXlIZWxsbyIsImxvZyIsImlzV2ViR0xTdXBwb3J0ZWQiLCJjb250ZXh0T3B0aW9ucyIsInN0ZW5jaWwiLCJmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0IiwiV2ViR0xSZW5kZXJpbmdDb250ZXh0IiwiY2FudmFzIiwiZ2wiLCJnZXRDb250ZXh0Iiwic3VjY2VzcyIsImdldENvbnRleHRBdHRyaWJ1dGVzIiwibG9zZUNvbnRleHQiLCJnZXRFeHRlbnNpb24iLCJoZXgycmdiIiwiaGV4IiwiaGV4MnN0cmluZyIsInN0cmluZzJoZXgiLCJyZ2IyaGV4IiwicmdiIiwicHJlbXVsdGlwbHlCbGVuZE1vZGUiLCJwbSIsIm5wbSIsIm1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzIiwiY29ycmVjdEJsZW5kTW9kZSIsImJsZW5kTW9kZSIsInByZW11bHRpcGxpZWQiLCJwcmVtdWx0aXBseVJnYmEiLCJhbHBoYSIsInByZW11bHRpcGx5IiwicHJlbXVsdGlwbHlUaW50IiwidGludCIsIlIiLCJHIiwiQiIsInByZW11bHRpcGx5VGludFRvUmdiYSIsImNyZWF0ZUluZGljZXNGb3JRdWFkcyIsInNpemUiLCJ0b3RhbEluZGljZXMiLCJpbmRpY2VzIiwicmVtb3ZlSXRlbXMiLCJhcnIiLCJzdGFydElkeCIsInJlbW92ZUNvdW50IiwibmV4dFVpZCIsInVpZCIsIm5leHRQb3cyIiwiaXNQb3cyIiwibG9nMiIsIlByb2dyYW1DYWNoZSIsIlRleHR1cmVDYWNoZSIsIkJhc2VUZXh0dXJlQ2FjaGUiLCJkZXN0cm95VGV4dHVyZUNhY2hlIiwiZGVzdHJveSIsImNsZWFyVGV4dHVyZUNhY2hlIiwidHJpbUNhbnZhcyIsInBpeGVscyIsImdldEltYWdlRGF0YSIsImJvdW5kIiwidG9wIiwibGVmdCIsInJpZ2h0IiwiYm90dG9tIiwidXRpbHNfZXNfQ2FudmFzUmVuZGVyVGFyZ2V0IiwicmVzb2x1dGlvbiIsInJlc2l6ZSIsImNsZWFyIiwic2V0VHJhbnNmb3JtIiwiY2xlYXJSZWN0IiwidXRpbHNfZXNfcHJvdG90eXBlQWNjZXNzb3JzIiwiREFUQV9VUkkiLCJkZWNvbXBvc2VEYXRhVXJpIiwiZGF0YVVyaSIsImRhdGFVcmlNYXRjaCIsIm1lZGlhVHlwZSIsInN1YlR5cGUiLCJlbmNvZGluZyIsImRldGVybWluZUNyb3NzT3JpZ2luIiwidXJsX2RlZmF1bHQiLCJnZXRSZXNvbHV0aW9uT2ZVcmwiLCJkZWZhdWx0VmFsdWUiLCJwYXJzZUZsb2F0Iiwid2FybmluZ3MiLCJkZXByZWNhdGlvbiIsImlnbm9yZURlcHRoIiwic3RhY2siLCJncm91cENvbGxhcHNlZCIsImdyb3VwRW5kIiwiUG9pbnQiLCJjbG9uZSIsImNvcHlGcm9tIiwiY29weVRvIiwiT2JzZXJ2YWJsZVBvaW50IiwiX3giLCJfeSIsIl9jYiIsIl9zY29wZSIsIm1hdGhfZXNfcHJvdG90eXBlQWNjZXNzb3JzIiwiUElfMiIsIlBJIiwiUkFEX1RPX0RFRyIsIkRFR19UT19SQUQiLCJTSEFQRVMiLCJQT0xZIiwiUkVDVCIsIkNJUkMiLCJFTElQIiwiUlJFQyIsIk1hdHJpeCIsInR4IiwidHkiLCJmcm9tQXJyYXkiLCJ0b0FycmF5IiwidHJhbnNwb3NlIiwicG9zIiwibmV3UG9zIiwiYXBwbHlJbnZlcnNlIiwidHJhbnNsYXRlIiwic2NhbGUiLCJyb3RhdGUiLCJhbmdsZSIsImNvcyIsInNpbiIsImMxIiwidHgxIiwiYXBwZW5kIiwibWF0cml4IiwiYjEiLCJkMSIsInBpdm90WCIsInBpdm90WSIsInNjYWxlWCIsInNjYWxlWSIsInJvdGF0aW9uIiwic2tld1giLCJza2V3WSIsInByZXBlbmQiLCJkZWNvbXBvc2UiLCJhdGFuMiIsInNxcnQiLCJwb3NpdGlvbiIsImludmVydCIsImlkZW50aXR5IiwibWF0aF9lc19zdGF0aWNBY2Nlc3NvcnMiLCJJREVOVElUWSIsIlRFTVBfTUFUUklYIiwidXgiLCJ1eSIsInZ4IiwidnkiLCJ0ZW1wTWF0cmljZXMiLCJtdWwiLCJzaWdudW0iLCJyb3ciLCJfdXgiLCJfdXkiLCJfdngiLCJfdnkiLCJtYXQiLCJpbml0IiwiR3JvdXBEOCIsIkUiLCJTRSIsIlMiLCJTVyIsIlciLCJOVyIsIk4iLCJORSIsIk1JUlJPUl9WRVJUSUNBTCIsIk1JUlJPUl9IT1JJWk9OVEFMIiwidVgiLCJpbmQiLCJ1WSIsInZYIiwidlkiLCJpbnYiLCJyb3RhdGlvblNlY29uZCIsInJvdGF0aW9uRmlyc3QiLCJzdWIiLCJyb3RhdGUxODAiLCJpc1ZlcnRpY2FsIiwiYnlEaXJlY3Rpb24iLCJkeCIsImR5IiwibWF0cml4QXBwZW5kUm90YXRpb25JbnYiLCJUcmFuc2Zvcm0iLCJ3b3JsZFRyYW5zZm9ybSIsImxvY2FsVHJhbnNmb3JtIiwib25DaGFuZ2UiLCJwaXZvdCIsInVwZGF0ZVNrZXciLCJfcm90YXRpb24iLCJfY3giLCJfc3giLCJfY3kiLCJfc3kiLCJfbG9jYWxJRCIsIl9jdXJyZW50TG9jYWxJRCIsIl93b3JsZElEIiwiX3BhcmVudElEIiwidXBkYXRlTG9jYWxUcmFuc2Zvcm0iLCJsdCIsInVwZGF0ZVRyYW5zZm9ybSIsInBhcmVudFRyYW5zZm9ybSIsInB0Iiwid3QiLCJzZXRGcm9tTWF0cml4IiwicHJvdG90eXBlQWNjZXNzb3JzIiwiUmVjdGFuZ2xlIiwic3RhdGljQWNjZXNzb3JzIiwiRU1QVFkiLCJyZWN0YW5nbGUiLCJjb250YWlucyIsInBhZCIsInBhZGRpbmdYIiwicGFkZGluZ1kiLCJmaXQiLCJ4MSIsIngyIiwieTEiLCJ5MiIsImNlaWwiLCJlcHMiLCJlbmxhcmdlIiwiQ2lyY2xlIiwicmFkaXVzIiwicjIiLCJnZXRCb3VuZHMiLCJFbGxpcHNlIiwiaGFsZldpZHRoIiwiaGFsZkhlaWdodCIsIm5vcm14Iiwibm9ybXkiLCJtYXRoX2VzX1BvbHlnb24iLCJwb2ludHMiLCJpbCIsImNsb3NlU3Ryb2tlIiwicG9seWdvbiIsInhpIiwieWkiLCJ4aiIsInlqIiwiUm91bmRlZFJlY3RhbmdsZSIsInJhZGl1czIiLCJTT1JUQUJMRV9DSElMRFJFTiIsIkJvdW5kcyIsInJlY3QiLCJpc0VtcHR5IiwidXBkYXRlSUQiLCJnZXRSZWN0YW5nbGUiLCJhZGRQb2ludCIsInBvaW50IiwiYWRkUXVhZCIsImFkZEZyYW1lIiwieDAiLCJ5MCIsImFkZFZlcnRleERhdGEiLCJ2ZXJ0ZXhEYXRhIiwiYmVnaW5PZmZzZXQiLCJlbmRPZmZzZXQiLCJhZGRWZXJ0aWNlcyIsInJhd1giLCJyYXdZIiwiYWRkQm91bmRzIiwiYm91bmRzIiwiYWRkQm91bmRzTWFzayIsIm1hc2siLCJfbWluWCIsIl9taW5ZIiwiX21heFgiLCJfbWF4WSIsImFkZEJvdW5kc0FyZWEiLCJkaXNwbGF5X2VzX0Rpc3BsYXlPYmplY3QiLCJEaXNwbGF5T2JqZWN0Iiwic3VwZXIiLCJ0ZW1wRGlzcGxheU9iamVjdFBhcmVudCIsInZpc2libGUiLCJyZW5kZXJhYmxlIiwid29ybGRBbHBoYSIsIl9sYXN0U29ydGVkSW5kZXgiLCJfekluZGV4IiwiZmlsdGVyQXJlYSIsImZpbHRlcnMiLCJfZW5hYmxlZEZpbHRlcnMiLCJfYm91bmRzIiwiX2JvdW5kc0lEIiwiX2xhc3RCb3VuZHNJRCIsIl9ib3VuZHNSZWN0IiwiX2xvY2FsQm91bmRzUmVjdCIsIl9tYXNrIiwiX2Rlc3Ryb3llZCIsImlzU3ByaXRlIiwibWl4aW4iLCJwcm9wZXJ0eU5hbWUiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJfdGVtcERpc3BsYXlPYmplY3RQYXJlbnQiLCJfcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSIsInNraXBVcGRhdGUiLCJjYWxjdWxhdGVCb3VuZHMiLCJnZXRMb2NhbEJvdW5kcyIsInRyYW5zZm9ybVJlZiIsInBhcmVudFJlZiIsInRvR2xvYmFsIiwiZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSIsInRvTG9jYWwiLCJyZW5kZXIiLCJyZW5kZXJlciIsInNldFBhcmVudCIsImNvbnRhaW5lciIsImFkZENoaWxkIiwiX2N1cnJlbnRCb3VuZHMiLCJpbnRlcmFjdGl2ZSIsImludGVyYWN0aXZlQ2hpbGRyZW4iLCJ6SW5kZXgiLCJzb3J0RGlydHkiLCJ3b3JsZFZpc2libGUiLCJpc01hc2siLCJldmVudGVtaXR0ZXIzX2RlZmF1bHQiLCJzb3J0Q2hpbGRyZW4iLCJkaXNwbGF5X2VzX0NvbnRhaW5lciIsIkNvbnRhaW5lciIsInNvcnRhYmxlQ2hpbGRyZW4iLCJvbkNoaWxkcmVuQ2hhbmdlIiwiYXJndW1lbnRzTGVuZ3RoIiwiYWRkQ2hpbGRBdCIsInN3YXBDaGlsZHJlbiIsImNoaWxkMiIsImluZGV4MSIsImdldENoaWxkSW5kZXgiLCJpbmRleDIiLCJzZXRDaGlsZEluZGV4IiwiY3VycmVudEluZGV4IiwiZ2V0Q2hpbGRBdCIsInJlbW92ZUNoaWxkQXQiLCJyZW1vdmVDaGlsZHJlbiIsImJlZ2luSW5kZXgiLCJlbmRJbmRleCIsInJlbW92ZWQiLCJiZWdpbiIsInJhbmdlIiwic29ydFJlcXVpcmVkIiwiX2NhbGN1bGF0ZUJvdW5kcyIsInJlbmRlckFkdmFuY2VkIiwiX3JlbmRlciIsImJhdGNoIiwiZmx1c2giLCJlbmFibGVkIiwiZGVzdHJveUNoaWxkcmVuIiwib2xkQ2hpbGRyZW4iLCJfd2lkdGgiLCJfaGVpZ2h0IiwiY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtIiwiYWNjZXNzaWJsZVRhcmdldCIsImFjY2Vzc2libGUiLCJhY2Nlc3NpYmxlVGl0bGUiLCJhY2Nlc3NpYmxlSGludCIsInRhYkluZGV4IiwiX2FjY2Vzc2libGVBY3RpdmUiLCJfYWNjZXNzaWJsZURpdiIsImFjY2Vzc2liaWxpdHlfZXNfQWNjZXNzaWJpbGl0eU1hbmFnZXIiLCJfaG9va0RpdiIsImNyZWF0ZVRvdWNoSG9vayIsIkRJVl9UT1VDSF9TSVpFIiwiRElWX1RPVUNIX1BPU19YIiwiRElWX1RPVUNIX1BPU19ZIiwicG9vbCIsInJlbmRlcklkIiwiZGVidWciLCJfb25LZXlEb3duIiwiX29uTW91c2VNb3ZlIiwiaXNBY3RpdmUiLCJpc01vYmlsZUFjY2Vzc2liaWxpdHkiLCJob29rRGl2IiwiRElWX0hPT0tfU0laRSIsIkRJVl9IT09LX1BPU19YIiwiRElWX0hPT0tfUE9TX1kiLCJhY3RpdmF0ZSIsImRlc3Ryb3lUb3VjaEhvb2siLCJib2R5IiwiZGVhY3RpdmF0ZSIsInVwZGF0ZUFjY2Vzc2libGVPYmplY3RzIiwiZGlzcGxheU9iamVjdCIsInJlbmRlcmluZ1RvU2NyZWVuIiwiX2xhc3RPYmplY3RSZW5kZXJlZCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInN4Iiwic3kiLCJoaXRBcmVhIiwiY2FwSGl0QXJlYSIsImdldEF0dHJpYnV0ZSIsImJvcmRlclN0eWxlIiwiX29uQ2xpY2siLCJfb25Gb2N1cyIsIl9vbkZvY3VzT3V0IiwiaW50ZXJhY3Rpb25NYW5hZ2VyIiwicGx1Z2lucyIsImludGVyYWN0aW9uIiwiZGlzcGF0Y2hFdmVudCIsImV2ZW50RGF0YSIsImtleUNvZGUiLCJtb3ZlbWVudFgiLCJtb3ZlbWVudFkiLCJSdW5uZXIiLCJpdGVtcyIsIl9uYW1lIiwiYTAiLCJhNiIsImE3IiwicmVtb3ZlQWxsIiwicnVubmVyX2VzX3Byb3RvdHlwZUFjY2Vzc29ycyIsIlRBUkdFVF9GUE1TIiwiVVBEQVRFX1BSSU9SSVRZIiwiSU5URVJBQ1RJT04iLCJVVElMSVRZIiwiVGlja2VyTGlzdGVuZXIiLCJwcmlvcml0eSIsInByZXZpb3VzIiwiZGVsdGFUaW1lIiwicmVkaXJlY3QiLCJjb25uZWN0IiwiaGFyZCIsInRpY2tlcl9lc19UaWNrZXIiLCJfcmVxdWVzdElkIiwiX21heEVsYXBzZWRNUyIsIl9taW5FbGFwc2VkTVMiLCJhdXRvU3RhcnQiLCJkZWx0YU1TIiwiZWxhcHNlZE1TIiwic3BlZWQiLCJfcHJvdGVjdGVkIiwiX3RpY2siLCJ0aW1lIiwidGhpcyQxIiwiX3JlcXVlc3RJZk5lZWRlZCIsIl9jYW5jZWxJZk5lZWRlZCIsIl9zdGFydElmUG9zc2libGUiLCJfYWRkTGlzdGVuZXIiLCJhZGRPbmNlIiwiY3VycmVudCIsInRpY2tlcl9lc19wcm90b3R5cGVBY2Nlc3NvcnMiLCJGUFMiLCJtaW5GUFMiLCJmcHMiLCJtYXhGUFMiLCJtaW5GUE1TIiwibWF4RlBNUyIsInRpY2tlcl9lc19zdGF0aWNBY2Nlc3NvcnMiLCJzaGFyZWQiLCJfc2hhcmVkIiwic3lzdGVtIiwiX3N5c3RlbSIsIlRpY2tlclBsdWdpbiIsInNoYXJlZFRpY2tlciIsInRpY2tlciIsIl90aWNrZXIiLCJvbGRUaWNrZXIiLCJjb3JlX2VzX1Jlc291cmNlIiwiZGVzdHJveWVkIiwiaW50ZXJuYWwiLCJvblJlc2l6ZSIsIm9uVXBkYXRlIiwiYmFzZVRleHR1cmUiLCJ1bmJpbmQiLCJjb3JlX2VzX3Byb3RvdHlwZUFjY2Vzc29ycyIsInZhbGlkIiwidXBsb2FkIiwiZ2xUZXh0dXJlIiwiY29yZV9lc19CYXNlSW1hZ2VSZXNvdXJjZSIsIkJhc2VJbWFnZVJlc291cmNlIiwibmF0dXJhbFdpZHRoIiwidmlkZW9XaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJ2aWRlb0hlaWdodCIsImVsZW1lbnQiLCJjcm9zc29yaWdpbiIsInJlYWxXaWR0aCIsInJlYWxIZWlnaHQiLCJwaXhlbFN0b3JlaSIsIlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCIsInByZW11bHRpcGx5QWxwaGEiLCJ0ZXhTdWJJbWFnZTJEIiwidGV4SW1hZ2UyRCIsImNvcmVfZXNfSW1hZ2VSZXNvdXJjZSIsIkltYWdlUmVzb3VyY2UiLCJIVE1MSW1hZ2VFbGVtZW50IiwiaW1hZ2VFbGVtZW50IiwiX3Byb2Nlc3MiLCJwcmVzZXJ2ZUJpdG1hcCIsImNyZWF0ZUJpdG1hcCIsImNyZWF0ZUltYWdlQml0bWFwIiwiYml0bWFwIiwiX2xvYWQiLCJhdXRvTG9hZCIsImNvbXBsZXRlZCIsIl9nbFRleHR1cmVzIiwib3RoZXJUZXgiLCJkaXJ0eUlkIiwiSU5TVEFMTEVEIiwiYXV0b0RldGVjdFJlc291cmNlIiwiUmVzb3VyY2VQbHVnaW4iLCJCdWZmZXJSZXNvdXJjZSIsImludGVybmFsRm9ybWF0Iiwid2ViR0xWZXJzaW9uIiwiUkdCQTMyRiIsImRlZmF1bHRCdWZmZXJPcHRpb25zIiwic2NhbGVNb2RlIiwiY29yZV9lc19CYXNlVGV4dHVyZSIsIkJhc2VUZXh0dXJlIiwibWlwbWFwIiwid3JhcE1vZGUiLCJyZXNvdXJjZU9wdGlvbnMiLCJ0b3VjaGVkIiwiaXNQb3dlck9mVHdvIiwiX3JlZnJlc2hQT1QiLCJkaXJ0eVN0eWxlSWQiLCJjYWNoZUlkIiwidGV4dHVyZUNhY2hlSWRzIiwiX2JhdGNoRW5hYmxlZCIsInNldFJlc291cmNlIiwic2V0U3R5bGUiLCJkaXJ0eSIsInNldFNpemUiLCJzZXRSZWFsU2l6ZSIsInNldFJlc29sdXRpb24iLCJvbGRSZXNvbHV0aW9uIiwicmVtb3ZlRnJvbUNhY2hlIiwiX3BpeGlJZCIsImFkZFRvQ2FjaGUiLCJmcm9tQnVmZmVyIiwiYmFzZVRleHR1cmVGcm9tQ2FjaGUiLCJfZ2xvYmFsQmF0Y2giLCJjb3JlX2VzX0FycmF5UmVzb3VyY2UiLCJBcnJheVJlc291cmNlIiwidXJscyIsIml0ZW1EaXJ0eUlkcyIsInBhcnRUZXh0dXJlIiwiYWRkUmVzb3VyY2VBdCIsInRleHR1cmUiLCJ0ZXhJbWFnZTNEIiwidGV4U3ViSW1hZ2UzRCIsIkNhbnZhc1Jlc291cmNlIiwiSFRNTENhbnZhc0VsZW1lbnQiLCJjb3JlX2VzX0N1YmVSZXNvdXJjZSIsIkN1YmVSZXNvdXJjZSIsIlNJREVTIiwic2lkZSIsImNvcmVfZXNfU1ZHUmVzb3VyY2UiLCJTVkdSZXNvdXJjZSIsIl9yZXNvbHZlIiwiX2xvYWREYXRhVXJpIiwic3ZnU3RyaW5nIiwiX2xvYWRTdHJpbmciLCJzdmdYaHIiLCJET05FIiwic3ZnU2l6ZSIsImdldFNpemUiLCJ0ZW1wSW1hZ2UiLCJzdmdXaWR0aCIsInN2Z0hlaWdodCIsInJvdW5kIiwiZHJhd0ltYWdlIiwic2l6ZU1hdGNoIiwiU1ZHX1NJWkUiLCJjb3JlX2VzX1ZpZGVvUmVzb3VyY2UiLCJWaWRlb1Jlc291cmNlIiwiSFRNTFZpZGVvRWxlbWVudCIsInZpZGVvRWxlbWVudCIsInNvdXJjZUVsZW1lbnQiLCJiYXNlU3JjIiwiX2F1dG9VcGRhdGUiLCJfaXNBdXRvVXBkYXRpbmciLCJfdXBkYXRlRlBTIiwidXBkYXRlRlBTIiwiX21zVG9OZXh0VXBkYXRlIiwiYXV0b1BsYXkiLCJfb25DYW5QbGF5IiwicGxheWJhY2tSYXRlIiwiSEFWRV9FTk9VR0hfREFUQSIsIkhBVkVfRlVUVVJFX0RBVEEiLCJfb25QbGF5U3RhcnQiLCJfb25QbGF5U3RvcCIsIl9pc1NvdXJjZVJlYWR5IiwiX2lzU291cmNlUGxheWluZyIsImVuZGVkIiwiYXV0b1VwZGF0ZSIsInBsYXkiLCJjb3JlX2VzX1N5c3RlbSIsInJ1bm5lcnMiLCJjb250ZXh0Q2hhbmdlIiwiRGVwdGhSZXNvdXJjZSIsIkRFUFRIX0NPTVBPTkVOVDE2IiwiY29yZV9lc19GcmFtZWJ1ZmZlciIsImRlcHRoIiwiZGlydHlGb3JtYXQiLCJkaXJ0eVNpemUiLCJkZXB0aFRleHR1cmUiLCJjb2xvclRleHR1cmVzIiwiZ2xGcmFtZWJ1ZmZlcnMiLCJkaXNwb3NlUnVubmVyIiwiY29sb3JUZXh0dXJlIiwiYWRkQ29sb3JUZXh0dXJlIiwiVGV4dHVyZSIsImFkZERlcHRoVGV4dHVyZSIsImVuYWJsZURlcHRoIiwiZW5hYmxlU3RlbmNpbCIsIkJhc2VSZW5kZXJUZXh0dXJlIiwiX2NhbnZhc1JlbmRlclRhcmdldCIsImNsZWFyQ29sb3IiLCJmcmFtZWJ1ZmZlciIsInN0ZW5jaWxNYXNrU3RhY2siLCJmaWx0ZXJTdGFjayIsIlRleHR1cmVVdnMiLCJ4MyIsInkzIiwidXZzRmxvYXQzMiIsImZyYW1lIiwiYmFzZUZyYW1lIiwidHciLCJ0aCIsIncyIiwiaDIiLCJjWCIsImNZIiwiREVGQVVMVF9VVlMiLCJjb3JlX2VzX1RleHR1cmUiLCJvcmlnIiwiYW5jaG9yIiwibm9GcmFtZSIsIl9mcmFtZSIsInJlcXVpcmVzVXBkYXRlIiwiX3V2cyIsInV2TWF0cml4IiwiX3JvdGF0ZSIsImRlZmF1bHRBbmNob3IiLCJfdXBkYXRlSUQiLCJvbkJhc2VUZXh0dXJlVXBkYXRlZCIsInVwZGF0ZVV2cyIsImRlc3Ryb3lCYXNlIiwiZnJvbUxvYWRlciIsImltYWdlVXJsIiwidGV4dHVyZUZyb21DYWNoZSIsInhOb3RGaXQiLCJ5Tm90Rml0IiwicmVsYXRpb25zaGlwIiwiZXJyb3JYIiwiZXJyb3JZIiwicmVtb3ZlQWxsSGFuZGxlcnMiLCJ0ZXgiLCJXSElURSIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiY3JlYXRlV2hpdGVUZXh0dXJlIiwiUmVuZGVyVGV4dHVyZSIsImJhc2VSZW5kZXJUZXh0dXJlIiwiX2xlZ2FjeVJlbmRlcmVyIiwibGVnYWN5UmVuZGVyZXIiLCJmaWx0ZXJGcmFtZSIsImZpbHRlclBvb2xLZXkiLCJyZXNpemVCYXNlVGV4dHVyZSIsIkF0dHJpYnV0ZSIsIm5vcm1hbGl6ZWQiLCJzdHJpZGUiLCJVSUQiLCJjb3JlX2VzX0J1ZmZlciIsIl9zdGF0aWMiLCJfZ2xCdWZmZXJzIiwic3RhdGljIiwiZ2V0QnVmZmVyVHlwZSIsIkJZVEVTX1BFUl9FTEVNRU5UIiwiYnl0ZVNpemVNYXAiLCI1MTI2IiwiNTEyMyIsIjUxMjEiLCJjb3JlX2VzX0dlb21ldHJ5IiwiYnVmZmVycyIsImF0dHJpYnV0ZXMiLCJpbmRleEJ1ZmZlciIsImdsVmVydGV4QXJyYXlPYmplY3RzIiwiaW5zdGFuY2VkIiwiaW5zdGFuY2VDb3VudCIsIl9zaXplIiwicmVmQ291bnQiLCJhZGRBdHRyaWJ1dGUiLCJpZHMiLCJidWZmZXJJbmRleCIsImdldEJ1ZmZlciIsImFkZEluZGV4IiwiZ2V0SW5kZXgiLCJpbnRlcmxlYXZlIiwiYXJyYXlzIiwic2l6ZXMiLCJpbnRlcmxlYXZlZEJ1ZmZlciIsImF0dHJpYnV0ZSIsIm91dFNpemUiLCJ2aWV3cyIsImxpdHRsZU9mZnNldCIsImludGVybGVhdmVUeXBlZEFycmF5cyIsImdlb21ldHJ5IiwiYXR0cmliIiwibWVyZ2UiLCJnZW9tZXRyaWVzIiwiZ2VvbWV0cnlPdXQiLCJvZmZzZXRzIiwib2Zmc2V0Iiwib2Zmc2V0MiIsImJ1ZmZlckluZGV4VG9Db3VudCIsImluZGV4QnVmZmVyRGF0YSIsIlF1YWQiLCJHZW9tZXRyeSIsIlF1YWRVdiIsInV2cyIsInZlcnRleEJ1ZmZlciIsInV2QnVmZmVyIiwidGFyZ2V0VGV4dHVyZUZyYW1lIiwiZGVzdGluYXRpb25GcmFtZSIsImludmFsaWRhdGUiLCJVbmlmb3JtR3JvdXAiLCJ1bmlmb3JtcyIsImdyb3VwIiwic3luY1VuaWZvcm1zIiwiY29yZV9lc19GaWx0ZXJTdGF0ZSIsInJlbmRlclRleHR1cmUiLCJzb3VyY2VGcmFtZSIsImNvcmVfZXNfRmlsdGVyU3lzdGVtIiwiU3lzdGVtIiwiRmlsdGVyU3lzdGVtIiwiZGVmYXVsdEZpbHRlclN0YWNrIiwidGV4dHVyZVBvb2wiLCJzdGF0ZVBvb2wiLCJxdWFkIiwicXVhZFV2IiwidGVtcFJlY3QiLCJhY3RpdmVTdGF0ZSIsImdsb2JhbFVuaWZvcm1zIiwib3V0cHV0RnJhbWUiLCJpbnB1dFNpemUiLCJpbnB1dFBpeGVsIiwiaW5wdXRDbGFtcCIsImZpbHRlckNsYW1wIiwiX3BpeGVsc1dpZHRoIiwiX3BpeGVsc0hlaWdodCIsInN0YXRlIiwicGFkZGluZyIsImF1dG9GaXQiLCJnZXRPcHRpbWFsRmlsdGVyVGV4dHVyZSIsImxhc3RTdGF0ZSIsInJldHVybkZpbHRlclRleHR1cmUiLCJmbGlwIiwiZmxvcCIsImFwcGx5RmlsdGVyIiwidVNhbXBsZXIiLCJmaWx0ZXJHbG9iYWxzIiwic2V0U3RhdGUiLCJzaGFkZXIiLCJkcmF3IiwiY2FsY3VsYXRlU3ByaXRlTWF0cml4Iiwib3V0cHV0TWF0cml4Iiwic3ByaXRlIiwiX3RleHR1cmUiLCJtYXBwZWRNYXRyaXgiLCJjb250ZXh0TG9zdCIsImVtcHR5UG9vbCIsIm1pbldpZHRoIiwibWluSGVpZ2h0IiwiZ2V0RmlsdGVyVGV4dHVyZSIsInJ0IiwiZmlsdGVyVGV4dHVyZSIsInRleHR1cmVzIiwiY29yZV9lc19PYmplY3RSZW5kZXJlciIsIkJhdGNoU3lzdGVtIiwiZW1wdHlSZW5kZXJlciIsImN1cnJlbnRSZW5kZXJlciIsInNldE9iamVjdFJlbmRlcmVyIiwib2JqZWN0UmVuZGVyZXIiLCJQUkVGRVJfRU5WIiwiQ09OVEVYVF9VSUQiLCJjb3JlX2VzX0NvbnRleHRTeXN0ZW0iLCJDb250ZXh0U3lzdGVtIiwiZXh0ZW5zaW9ucyIsImhhbmRsZUNvbnRleHRMb3N0IiwiaGFuZGxlQ29udGV4dFJlc3RvcmVkIiwiaXNMb3N0IiwiaXNDb250ZXh0TG9zdCIsInJlc3RvcmVDb250ZXh0IiwiaW5pdEZyb21Db250ZXh0IiwidmFsaWRhdGVDb250ZXh0IiwiaW5pdEZyb21PcHRpb25zIiwiY3JlYXRlQ29udGV4dCIsImdldEV4dGVuc2lvbnMiLCJkcmF3QnVmZmVycyIsImZsb2F0VGV4dHVyZSIsInZlcnRleEFycmF5T2JqZWN0IiwicHJldmVudERlZmF1bHQiLCJ1c2VQcm9ncmFtIiwicG9zdHJlbmRlciIsImNvcmVfZXNfRnJhbWVidWZmZXJTeXN0ZW0iLCJGcmFtZWJ1ZmZlclN5c3RlbSIsIm1hbmFnZWRGcmFtZWJ1ZmZlcnMiLCJ1bmtub3duRnJhbWVidWZmZXIiLCJ2aWV3cG9ydCIsImhhc01SVCIsIndyaXRlRGVwdGhUZXh0dXJlIiwiZGlzcG9zZUFsbCIsIm5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uIiwibmF0aXZlRGVwdGhUZXh0dXJlRXh0ZW5zaW9uIiwiYWN0aXZlVGV4dHVyZXMiLCJkcmF3QnVmZmVyc1dFQkdMIiwiZmJvIiwiaW5pdEZyYW1lYnVmZmVyIiwiYmluZEZyYW1lYnVmZmVyIiwiRlJBTUVCVUZGRVIiLCJ1cGRhdGVGcmFtZWJ1ZmZlciIsInJlc2l6ZUZyYW1lYnVmZmVyIiwidGV4dHVyZVBhcnQiLCJzZXRWaWV3cG9ydCIsIkNPTE9SX0JVRkZFUl9CSVQiLCJERVBUSF9CVUZGRVJfQklUIiwiY3JlYXRlRnJhbWVidWZmZXIiLCJiaW5kUmVuZGVyYnVmZmVyIiwiUkVOREVSQlVGRkVSIiwicmVuZGVyYnVmZmVyU3RvcmFnZSIsImNvdW50IiwiZnJhbWVidWZmZXJUZXh0dXJlMkQiLCJDT0xPUl9BVFRBQ0hNRU5UMCIsIkRFUFRIX0FUVEFDSE1FTlQiLCJjcmVhdGVSZW5kZXJidWZmZXIiLCJmcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlciIsIkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCIsImRpc3Bvc2VGcmFtZWJ1ZmZlciIsImRlbGV0ZUZyYW1lYnVmZmVyIiwiZGVsZXRlUmVuZGVyYnVmZmVyIiwiR0xCdWZmZXIiLCJieXRlTGVuZ3RoIiwiY29yZV9lc19HZW9tZXRyeVN5c3RlbSIsIkdlb21ldHJ5U3lzdGVtIiwiX2FjdGl2ZUdlb21ldHJ5IiwiX2FjdGl2ZVZhbyIsImhhc1ZhbyIsImhhc0luc3RhbmNlIiwiYm91bmRCdWZmZXJzIiwibWFuYWdlZEdlb21ldHJpZXMiLCJtYW5hZ2VkQnVmZmVycyIsImNyZWF0ZVZlcnRleEFycmF5IiwibmF0aXZlVmFvRXh0ZW5zaW9uIiwiY3JlYXRlVmVydGV4QXJyYXlPRVMiLCJiaW5kVmVydGV4QXJyYXkiLCJ2YW8iLCJiaW5kVmVydGV4QXJyYXlPRVMiLCJkZWxldGVWZXJ0ZXhBcnJheSIsImRlbGV0ZVZlcnRleEFycmF5T0VTIiwidmVydGV4QXR0cmliRGl2aXNvciIsImluc3RhbmNlRXh0IiwidmVydGV4QXR0cmliRGl2aXNvckFOR0xFIiwiZHJhd0VsZW1lbnRzSW5zdGFuY2VkIiwiZHJhd0VsZW1lbnRzSW5zdGFuY2VkQU5HTEUiLCJkcmF3QXJyYXlzSW5zdGFuY2VkIiwiZHJhd0FycmF5c0luc3RhbmNlZEFOR0xFIiwidmFvcyIsInByb2dyYW0iLCJpbml0R2VvbWV0cnlWYW8iLCJhY3RpdmF0ZVZhbyIsInVwZGF0ZUJ1ZmZlcnMiLCJnbEJ1ZmZlciIsIkVMRU1FTlRfQVJSQVlfQlVGRkVSIiwiQVJSQVlfQlVGRkVSIiwiYmluZEJ1ZmZlciIsIl9ib3VuZEJ1ZmZlciIsImJ1ZmZlclN1YkRhdGEiLCJkcmF3VHlwZSIsIlNUQVRJQ19EUkFXIiwiRFlOQU1JQ19EUkFXIiwiYnVmZmVyRGF0YSIsImNoZWNrQ29tcGF0aWJpbGl0eSIsImdlb21ldHJ5QXR0cmlidXRlcyIsInNoYWRlckF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVEYXRhIiwiZ2V0U2lnbmF0dXJlIiwiYXR0cmlicyIsInN0cmluZ3MiLCJzaWduYXR1cmUiLCJ2YW9PYmplY3RIYXNoIiwidGVtcFN0cmlkZSIsInRlbXBTdGFydCIsImF0dHJpYlNpemUiLCJjcmVhdGVCdWZmZXIiLCJkaXNwb3NlQnVmZmVyIiwiZGVsZXRlQnVmZmVyIiwiZGlzcG9zZUdlb21ldHJ5IiwiYnVmIiwidmFvSWQiLCJsYXN0QnVmZmVyIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiZHJhd0VsZW1lbnRzIiwiZHJhd0FycmF5cyIsImNvbXBpbGVQcm9ncmFtIiwidmVydGV4U3JjIiwiZnJhZ21lbnRTcmMiLCJhdHRyaWJ1dGVMb2NhdGlvbnMiLCJnbFZlcnRTaGFkZXIiLCJjb21waWxlU2hhZGVyIiwiVkVSVEVYX1NIQURFUiIsImdsRnJhZ1NoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsImNyZWF0ZVByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJiaW5kQXR0cmliTG9jYXRpb24iLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsIlZBTElEQVRFX1NUQVRVUyIsImdldEVycm9yIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJkZWxldGVQcm9ncmFtIiwiZGVsZXRlU2hhZGVyIiwiY3JlYXRlU2hhZGVyIiwic2hhZGVyU291cmNlIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJnZXRTaGFkZXJJbmZvTG9nIiwiY29yZV9lc19kZWZhdWx0VmFsdWUiLCJib29sZWFuQXJyYXkiLCJtYXhGcmFnbWVudFByZWNpc2lvbiIsImNvcmVfZXNfY29udGV4dCIsImdldFRlc3RDb250ZXh0Iiwic2V0UHJlY2lzaW9uIiwicmVxdWVzdGVkUHJlY2lzaW9uIiwibWF4U3VwcG9ydGVkUHJlY2lzaW9uIiwicHJlY2lzaW9uIiwiR0xTTF9UT19TSVpFIiwiZmxvYXQiLCJ2ZWMyIiwidmVjMyIsInZlYzQiLCJpbnQiLCJpdmVjMiIsIml2ZWMzIiwiaXZlYzQiLCJib29sIiwiYnZlYzIiLCJidmVjMyIsImJ2ZWM0IiwibWF0MiIsIm1hdDMiLCJtYXQ0Iiwic2FtcGxlcjJEIiwibWFwU2l6ZSIsIkdMX1RBQkxFIiwiR0xfVE9fR0xTTF9UWVBFUyIsIkZMT0FUX1ZFQzIiLCJGTE9BVF9WRUMzIiwiRkxPQVRfVkVDNCIsIklOVCIsIklOVF9WRUMyIiwiSU5UX1ZFQzMiLCJJTlRfVkVDNCIsIkJPT0wiLCJCT09MX1ZFQzIiLCJCT09MX1ZFQzMiLCJCT09MX1ZFQzQiLCJGTE9BVF9NQVQyIiwiRkxPQVRfTUFUMyIsIkZMT0FUX01BVDQiLCJTQU1QTEVSXzJEIiwiU0FNUExFUl9DVUJFIiwiU0FNUExFUl8yRF9BUlJBWSIsIm1hcFR5cGUiLCJ0eXBlTmFtZXMiLCJ0biIsIkdMU0xfVE9fU0lOR0xFX1NFVFRFUlNfQ0FDSEVEIiwic2FtcGxlckN1YmUiLCJzYW1wbGVyMkRBcnJheSIsIkdMU0xfVE9fQVJSQVlfU0VUVEVSUyIsInVuc2FmZUV2YWwiLCJmcmFnVGVtcGxhdGUiLCJjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyIiwibWF4SWZzIiwiZ2VuZXJhdGVJZlRlc3RTcmMiLCJuYW1lQ2FjaGUiLCJjb3JlX2VzX1Byb2dyYW0iLCJQcm9ncmFtIiwiZGVmYXVsdFZlcnRleFNyYyIsImRlZmF1bHRGcmFnbWVudFNyYyIsImdldFNoYWRlclByZWNpc2lvbkZvcm1hdCIsInNoYWRlckZyYWdtZW50IiwiSElHSF9GTE9BVCIsImdldE1heEZyYWdtZW50UHJlY2lzaW9uIiwiZXh0cmFjdERhdGEiLCJnbFByb2dyYW1zIiwiZ2V0QXR0cmlidXRlRGF0YSIsInVuaWZvcm1EYXRhIiwiZ2V0VW5pZm9ybURhdGEiLCJhdHRyaWJ1dGVzQXJyYXkiLCJ0b3RhbEF0dHJpYnV0ZXMiLCJBQ1RJVkVfQVRUUklCVVRFUyIsImF0dHJpYkRhdGEiLCJnZXRBY3RpdmVBdHRyaWIiLCJ0b3RhbFVuaWZvcm1zIiwiQUNUSVZFX1VOSUZPUk1TIiwiZ2V0QWN0aXZlVW5pZm9ybSIsImNvcmVfZXNfc3RhdGljQWNjZXNzb3JzIiwiY29yZV9lc19TaGFkZXIiLCJ1bmlmb3JtR3JvdXAiLCJjaGVja1VuaWZvcm1FeGlzdHMiLCJ1bmlmb3JtIiwiY29yZV9lc19TdGF0ZSIsInBvbHlnb25PZmZzZXQiLCJibGVuZCIsImN1bGxpbmciLCJkZXB0aFRlc3QiLCJjbG9ja3dpc2VGcm9udEZhY2UiLCJfYmxlbmRNb2RlIiwiX3BvbHlnb25PZmZzZXQiLCJmb3IyZCIsImNvcmVfZXNfRmlsdGVyIiwiU2hhZGVyIiwiRmlsdGVyIiwiYVRleHR1cmVDb29yZCIsImZpbHRlck1hbmFnZXIiLCJjdXJyZW50U3RhdGUiLCJTT1VSQ0VfS0VZX01BUCIsInRlbXBNYXQiLCJjb3JlX2VzX1RleHR1cmVNYXRyaXgiLCJjbGFtcE1hcmdpbiIsIm1hcENvb3JkIiwidUNsYW1wRnJhbWUiLCJ1Q2xhbXBPZmZzZXQiLCJjbGFtcE9mZnNldCIsImlzU2ltcGxlIiwibXVsdGlwbHlVdnMiLCJmb3JjZVVwZGF0ZSIsInRleEJhc2UiLCJtYXJnaW4iLCJjb3JlX2VzX1Nwcml0ZU1hc2tGaWx0ZXIiLCJTcHJpdGVNYXNrRmlsdGVyIiwibWFza01hdHJpeCIsInZlcnRleCIsImZyYWdtZW50IiwibWFza1Nwcml0ZSIsIm5wbUFscGhhIiwib3RoZXJNYXRyaXgiLCJtYXNrQ2xhbXAiLCJNYXNrU3lzdGVtIiwic2Npc3NvciIsInNjaXNzb3JEYXRhIiwic2Npc3NvclJlbmRlclRhcmdldCIsImVuYWJsZVNjaXNzb3IiLCJhbHBoYU1hc2tQb29sIiwiYWxwaGFNYXNrSW5kZXgiLCJtYXNrRGF0YSIsInB1c2hTcHJpdGVNYXNrIiwiX2FjdGl2ZVJlbmRlclRhcmdldCIsImlzRmFzdFJlY3QiLCJyb3QiLCJwdXNoU3RlbmNpbE1hc2siLCJwdXNoU2Npc3Nvck1hc2siLCJwb3BTcHJpdGVNYXNrIiwicG9wU2Npc3Nvck1hc2siLCJwb3BTdGVuY2lsTWFzayIsImFscGhhTWFza0ZpbHRlciIsInN0YXNoRmlsdGVyQXJlYSIsInB1c2hTdGVuY2lsIiwicG9wU3RlbmNpbCIsInJlbmRlclRhcmdldCIsImVuYWJsZSIsIlNDSVNTT1JfVEVTVCIsImRpc2FibGUiLCJTdGVuY2lsU3lzdGVtIiwic2V0TWFza1N0YWNrIiwiU1RFTkNJTF9URVNUIiwiZ3JhcGhpY3MiLCJwcmV2TWFza0NvdW50IiwiY29sb3JNYXNrIiwic3RlbmNpbEZ1bmMiLCJFUVVBTCIsIl9nZXRCaXR3aXNlTWFzayIsInN0ZW5jaWxPcCIsIktFRVAiLCJJTkNSIiwiX3VzZUN1cnJlbnQiLCJTVEVOQ0lMX0JVRkZFUl9CSVQiLCJjbGVhclN0ZW5jaWwiLCJERUNSIiwiY29yZV9lc19Qcm9qZWN0aW9uU3lzdGVtIiwiUHJvamVjdGlvblN5c3RlbSIsImRlZmF1bHRGcmFtZSIsInByb2plY3Rpb25NYXRyaXgiLCJjYWxjdWxhdGVQcm9qZWN0aW9uIiwic3luY1VuaWZvcm1Hcm91cCIsImdsb2JhbHMiLCJjb3JlX2VzX1JlbmRlclRleHR1cmVTeXN0ZW0iLCJSZW5kZXJUZXh0dXJlU3lzdGVtIiwiX2JhY2tncm91bmRDb2xvclJnYmEiLCJkZWZhdWx0TWFza1N0YWNrIiwicHJvamVjdGlvbiIsIkdMUHJvZ3JhbSIsInVuaWZvcm1Hcm91cHMiLCJTaGFkZXJTeXN0ZW0iLCJzeXN0ZW1DaGVjayIsImNhY2hlIiwiZnVuYyIsInVuc2FmZUV2YWxTdXBwb3J0ZWQiLCJkb250U3luYyIsImdsUHJvZ3JhbSIsImdlbmVyYXRlU2hhZGVyIiwic2V0VW5pZm9ybXMiLCJnZXRnbFByb2dyYW0iLCJjcmVhdGVTeW5jR3JvdXBzIiwidGV4dHVyZUNvdW50IiwiZ2VuZXJhdGVVbmlmb3Jtc1N5bmMiLCJhdHRyaWJNYXAiLCJzaGFkZXJQcm9ncmFtIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiQkxFTkQiLCJPRkZTRVQiLCJDVUxMSU5HIiwiREVQVEhfVEVTVCIsIldJTkRJTkciLCJjb3JlX2VzX1N0YXRlU3lzdGVtIiwiU3RhdGVTeXN0ZW0iLCJzdGF0ZUlkIiwiX2JsZW5kRXEiLCJzZXRCbGVuZCIsInNldE9mZnNldCIsInNldEN1bGxGYWNlIiwic2V0RGVwdGhUZXN0Iiwic2V0RnJvbnRGYWNlIiwiY2hlY2tzIiwiZGVmYXVsdFN0YXRlIiwiYmxlbmRNb2RlcyIsIk9ORSIsIk9ORV9NSU5VU19TUkNfQUxQSEEiLCJEU1RfQUxQSEEiLCJEU1RfQ09MT1IiLCJPTkVfTUlOVVNfU1JDX0NPTE9SIiwiU1JDX0FMUEhBIiwiWkVSTyIsIk9ORV9NSU5VU19EU1RfQUxQSEEiLCJGVU5DX1JFVkVSU0VfU1VCVFJBQ1QiLCJGVU5DX0FERCIsIm1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aSIsImRpZmYiLCJmb3JjZVN0YXRlIiwidXBkYXRlQ2hlY2siLCJjaGVja0JsZW5kTW9kZSIsIlBPTFlHT05fT0ZGU0VUX0ZJTEwiLCJDVUxMX0ZBQ0UiLCJmcm9udEZhY2UiLCJzZXRCbGVuZE1vZGUiLCJibGVuZEZ1bmMiLCJibGVuZEZ1bmNTZXBhcmF0ZSIsImJsZW5kRXF1YXRpb25TZXBhcmF0ZSIsInNldFBvbHlnb25PZmZzZXQiLCJVTlBBQ0tfRkxJUF9ZX1dFQkdMIiwiY29yZV9lc19UZXh0dXJlR0NTeXN0ZW0iLCJUZXh0dXJlR0NTeXN0ZW0iLCJjaGVja0NvdW50IiwibWF4SWRsZSIsImNoZWNrQ291bnRNYXgiLCJ0bSIsIm1hbmFnZWRUZXh0dXJlcyIsIndhc1JlbW92ZWQiLCJkZXN0cm95VGV4dHVyZSIsInVubG9hZCIsInRleHR1cmVTeXN0ZW0iLCJfZ2xSZW5kZXJUYXJnZXRzIiwiR0xUZXh0dXJlIiwiY29yZV9lc19UZXh0dXJlU3lzdGVtIiwiVGV4dHVyZVN5c3RlbSIsImJvdW5kVGV4dHVyZXMiLCJjdXJyZW50TG9jYXRpb24iLCJfdW5rbm93bkJvdW5kVGV4dHVyZXMiLCJ1bmtub3duVGV4dHVyZSIsIm1heFRleHR1cmVzIiwiZ2V0UGFyYW1ldGVyIiwiTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMiLCJlbXB0eVRleHR1cmVzIiwiZW1wdHlUZXh0dXJlMkQiLCJjcmVhdGVUZXh0dXJlIiwiYmluZFRleHR1cmUiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwidGV4dHVyZUdDIiwiaW5pdFRleHR1cmUiLCJhY3RpdmVUZXh0dXJlIiwiVEVYVFVSRTAiLCJ1cGRhdGVUZXh0dXJlIiwidXBkYXRlVGV4dHVyZVN0eWxlIiwic2tpcFJlbW92ZSIsImRlbGV0ZVRleHR1cmUiLCJnZW5lcmF0ZU1pcG1hcCIsIlRFWFRVUkVfV1JBUF9TIiwiVEVYVFVSRV9XUkFQX1QiLCJMSU5FQVJfTUlQTUFQX0xJTkVBUiIsIk5FQVJFU1RfTUlQTUFQX05FQVJFU1QiLCJ0ZW1wTWF0cml4IiwiY29yZV9lc19BYnN0cmFjdFJlbmRlcmVyIiwiQWJzdHJhY3RSZW5kZXJlciIsInJvdW5kUGl4ZWxzIiwic2NyZWVuIiwiYXV0b1Jlc2l6ZSIsIl9iYWNrZ3JvdW5kQ29sb3IiLCJfYmFja2dyb3VuZENvbG9yU3RyaW5nIiwiaW5pdFBsdWdpbnMiLCJzdGF0aWNNYXAiLCJzY3JlZW5XaWR0aCIsInNjcmVlbkhlaWdodCIsImdlbmVyYXRlVGV4dHVyZSIsInJlZ2lvbiIsInJlbW92ZVZpZXciLCJjb3JlX2VzX1JlbmRlcmVyIiwiUmVuZGVyZXIiLCJwcmVyZW5kZXIiLCJhZGRTeXN0ZW0iLCJfX3BsdWdpbnMiLCJwcmVtdWx0aXBsaWVkQWxwaGEiLCJwb3dlclByZWZlcmVuY2UiLCJDbGFzc1JlZiIsInNraXBVcGRhdGVUcmFuc2Zvcm0iLCJjYWNoZVBhcmVudCIsInJlZ2lzdGVyUGx1Z2luIiwicGx1Z2luTmFtZSIsImN0b3IiLCJhdXRvRGV0ZWN0UmVuZGVyZXIiLCJDdWJlVGV4dHVyZSIsImNvcmVfZXNfQmF0Y2hHZW9tZXRyeSIsIkJhdGNoR2VvbWV0cnkiLCJfYnVmZmVyIiwiX2luZGV4QnVmZmVyIiwiQmF0Y2hEcmF3Q2FsbCIsIkJhdGNoQnVmZmVyIiwiZmxvYXQzMlZpZXciLCJ1aW50MzJWaWV3IiwiZGVmYXVsdEdyb3VwQ2FjaGUiLCJwcm9ncmFtQ2FjaGUiLCJnZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlciIsInNhbXBsZVZhbHVlcyIsInVTYW1wbGVycyIsImdlbmVyYXRlU2FtcGxlU3JjIiwidHJhbnNsYXRpb25NYXRyaXgiLCJjb3JlX2VzX0JhdGNoUmVuZGVyZXIiLCJPYmplY3RSZW5kZXJlciIsIkJhdGNoUmVuZGVyZXIiLCJ2ZXJ0U2l6ZSIsInZlcnRCeXRlU2l6ZSIsImN1cnJlbnRTaXplIiwiY3VycmVudEluZGV4U2l6ZSIsImF0dHJpYnV0ZUJ1ZmZlcnMiLCJhQnVmZmVycyIsImlCdWZmZXJzIiwib25seVNwcml0ZXMiLCJncm91cHMiLCJlbGVtZW50cyIsInZhb01heCIsInZlcnRleENvdW50Iiwib25QcmVyZW5kZXIiLCJNQVhfVEVYVFVSRVMiLCJnZXRJbmRleEJ1ZmZlciIsInJvdW5kZWRQMiIsInJvdW5kZWRTaXplSW5kZXgiLCJyb3VuZGVkU2l6ZSIsImdldEF0dHJpYnV0ZUJ1ZmZlciIsIm5leHRUZXh0dXJlIiwiY3VycmVudFRleHR1cmUiLCJ0b3VjaCIsImluZGV4Q291bnQiLCJncm91cENvdW50IiwiY3VycmVudEdyb3VwIiwiVElDSyIsInNwcml0ZUJsZW5kTW9kZSIsInBhY2tHZW9tZXRyeSIsInN0YXRlU3lzdGVtIiwiZ3JvdXBUZXh0dXJlQ291bnQiLCJpbmRpY2llcyIsInRleHR1cmVJZCIsImFyZ2IiLCJfdGludFJHQiIsInNwcml0ZXMiLCJURU1QX1JFQ1QiLCJFeHRyYWN0IiwiZXh0cmFjdCIsImltYWdlIiwicXVhbGl0eSIsInRvRGF0YVVSTCIsImZsaXBZIiwiZ2VuZXJhdGVkIiwiY2FudmFzQnVmZmVyIiwid2ViZ2xQaXhlbHMiLCJyZWFkUGl4ZWxzIiwiY2FudmFzRGF0YSIsInB1dEltYWdlRGF0YSIsImludGVyYWN0aW9uX2VzX0ludGVyYWN0aW9uRGF0YSIsIm9yaWdpbmFsRXZlbnQiLCJpZGVudGlmaWVyIiwiaXNQcmltYXJ5IiwiYnV0dG9uIiwiYnV0dG9ucyIsInRpbHRYIiwidGlsdFkiLCJwb2ludGVyVHlwZSIsInByZXNzdXJlIiwicm90YXRpb25BbmdsZSIsInR3aXN0IiwidGFuZ2VudGlhbFByZXNzdXJlIiwiaW50ZXJhY3Rpb25fZXNfcHJvdG90eXBlQWNjZXNzb3JzIiwicG9pbnRlcklkIiwiZ2V0TG9jYWxQb3NpdGlvbiIsImdsb2JhbFBvcyIsImNvcHlFdmVudCIsIndoaWNoIiwiSW50ZXJhY3Rpb25FdmVudCIsInN0b3BwZWQiLCJjdXJyZW50VGFyZ2V0Iiwic3RvcFByb3BhZ2F0aW9uIiwiSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEiLCJfcG9pbnRlcklkIiwiRkxBR1MiLCJfZG9TZXQiLCJ5biIsImZsYWdzIiwibm9uZSIsIm92ZXIiLCJPVkVSIiwicmlnaHREb3duIiwiUklHSFRfRE9XTiIsImxlZnREb3duIiwiTEVGVF9ET1dOIiwiZnJlZXplIiwiaW50ZXJhY3RpdmVUYXJnZXQiLCJidXR0b25Nb2RlIiwiY3Vyc29yIiwidHJhY2tlZFBvaW50ZXJzIiwiX3RyYWNrZWRQb2ludGVycyIsIk1PVVNFX1BPSU5URVJfSUQiLCJoaXRUZXN0RXZlbnQiLCJpbnRlcmFjdGlvbl9lc19JbnRlcmFjdGlvbk1hbmFnZXIiLCJJbnRlcmFjdGlvbk1hbmFnZXIiLCJhdXRvUHJldmVudERlZmF1bHQiLCJpbnRlcmFjdGlvbkZyZXF1ZW5jeSIsIm1vdXNlIiwiYWN0aXZlSW50ZXJhY3Rpb25EYXRhIiwiaW50ZXJhY3Rpb25EYXRhUG9vbCIsImludGVyYWN0aW9uRE9NRWxlbWVudCIsIm1vdmVXaGVuSW5zaWRlIiwiZXZlbnRzQWRkZWQiLCJtb3VzZU92ZXJSZW5kZXJlciIsInN1cHBvcnRzVG91Y2hFdmVudHMiLCJzdXBwb3J0c1BvaW50ZXJFdmVudHMiLCJQb2ludGVyRXZlbnQiLCJvblBvaW50ZXJVcCIsInByb2Nlc3NQb2ludGVyVXAiLCJvblBvaW50ZXJDYW5jZWwiLCJwcm9jZXNzUG9pbnRlckNhbmNlbCIsIm9uUG9pbnRlckRvd24iLCJwcm9jZXNzUG9pbnRlckRvd24iLCJvblBvaW50ZXJNb3ZlIiwicHJvY2Vzc1BvaW50ZXJNb3ZlIiwib25Qb2ludGVyT3V0IiwicHJvY2Vzc1BvaW50ZXJPdmVyT3V0Iiwib25Qb2ludGVyT3ZlciIsImN1cnNvclN0eWxlcyIsInBvaW50ZXIiLCJjdXJyZW50Q3Vyc29yTW9kZSIsIl90ZW1wUG9pbnQiLCJzZXRUYXJnZXRFbGVtZW50IiwiaGl0VGVzdCIsImdsb2JhbFBvaW50IiwicHJvY2Vzc0ludGVyYWN0aXZlIiwicmVtb3ZlRXZlbnRzIiwiYWRkRXZlbnRzIiwibXNQb2ludGVyRW5hYmxlZCIsIl9kZWx0YVRpbWUiLCJkaWRNb3ZlIiwiaW50ZXJhY3Rpb25EYXRhIiwiaW50ZXJhY3Rpb25FdmVudCIsImNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCIsInNldEN1cnNvck1vZGUiLCJldmVudFN0cmluZyIsIm1hcFBvc2l0aW9uVG9Qb2ludCIsInBhcmVudEVsZW1lbnQiLCJyZXNvbHV0aW9uTXVsdGlwbGllciIsImhpdCIsImludGVyYWN0aXZlUGFyZW50IiwiaGl0VGVzdENoaWxkcmVuIiwiY29udGFpbnNQb2ludCIsImNoaWxkSGl0Iiwibm9ybWFsaXplVG9Qb2ludGVyRGF0YSIsImlzTm9ybWFsaXplZCIsImNhbmNlbGFibGUiLCJldmVudExlbiIsImdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCIsImlzUmlnaHRCdXR0b24iLCJvblBvaW50ZXJDb21wbGV0ZSIsImNhbmNlbGxlZCIsImV2ZW50QXBwZW5kIiwicmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCIsInRyYWNraW5nRGF0YSIsImlzVG91Y2giLCJpc01vdXNlIiwiaXNNb3VzZVRhcCIsImlzRG93biIsInBvaW50ZXJFdmVudCIsImNsaWVudFgiLCJjbGllbnRZIiwiZ2xvYmFsWCIsImdsb2JhbFkiLCJub3JtYWxpemVkRXZlbnRzIiwiVG91Y2hFdmVudCIsImxpIiwiY2hhbmdlZFRvdWNoZXMiLCJ0b3VjaGVzIiwicmFkaXVzWCIsInJhZGl1c1kiLCJmb3JjZSIsImxheWVyWCIsIm9mZnNldFgiLCJsYXllclkiLCJvZmZzZXRZIiwiTW91c2VFdmVudCIsIkdSQVBISUNTX0NVUlZFUyIsImFkYXB0aXZlIiwibWF4TGVuZ3RoIiwibWluU2VnbWVudHMiLCJtYXhTZWdtZW50cyIsIl9zZWdtZW50c0NvdW50IiwiZGVmYXVsdFNlZ21lbnRzIiwiRmlsbFN0eWxlIiwiY29sb3IiLCJHcmFwaGljc0RhdGEiLCJzaGFwZSIsImxpbmVTdHlsZSIsImJ1aWxkQ2lyY2xlIiwiYnVpbGQiLCJncmFwaGljc0RhdGEiLCJjaXJjbGVEYXRhIiwidG90YWxTZWdzIiwic2VnIiwidHJpYW5ndWxhdGUiLCJncmFwaGljc0dlb21ldHJ5IiwidmVydHMiLCJ2ZXJ0UG9zIiwiY2VudGVyIiwiYnVpbGRMaW5lIiwibmF0aXZlIiwiaW5kZXhTdGFydCIsInAxeCIsInAxeSIsInAyeCIsInAyeSIsImJ1aWxkTmF0aXZlTGluZSIsImZpcnN0UG9pbnQiLCJsYXN0UG9pbnQiLCJjbG9zZWRTaGFwZSIsImNsb3NlZFBhdGgiLCJtaWRQb2ludFgiLCJtaWRQb2ludFkiLCJwM3giLCJwM3kiLCJwZXJweCIsInBlcnB5IiwicGVycDJ4IiwicGVycDJ5IiwicGVycDN4IiwicGVycDN5IiwiZGlzdCIsInJhdGlvIiwiYWxpZ25tZW50IiwicjEiLCJjMiIsImRlbm9tIiwicGRpc3QiLCJidWlsZFBvbHkiLCJob2xlQXJyYXkiLCJlYXJjdXRfZGVmYXVsdCIsImJ1aWxkUm91bmRlZFJlY3RhbmdsZSIsInJyZWN0RGF0YSIsInF1YWRyYXRpY0JlemllckN1cnZlIiwidmVjUG9zIiwiZ2V0UHQiLCJuMSIsIm4yIiwicGVyYyIsImZyb21YIiwiZnJvbVkiLCJjcFgiLCJjcFkiLCJ0b1giLCJ0b1kiLCJ4YSIsInlhIiwieGIiLCJ5YiIsIkJBVENIX1BPT0wiLCJEUkFXX0NBTExfUE9PTCIsImZpbGxDb21tYW5kcyIsInJlY3REYXRhIiwiQmF0Y2hQYXJ0IiwiYXR0cmliU3RhcnQiLCJncmFwaGljc19lc19HcmFwaGljc0dlb21ldHJ5IiwiR3JhcGhpY3NHZW9tZXRyeSIsImNvbG9ycyIsInRleHR1cmVJZHMiLCJiYXRjaERpcnR5IiwiY2FjaGVEaXJ0eSIsImNsZWFyRGlydHkiLCJkcmF3Q2FsbHMiLCJiYXRjaGVzIiwic2hhcGVJbmRleCIsImJvdW5kc0RpcnR5IiwiYm91bmRzUGFkZGluZyIsImJhdGNoYWJsZSIsImluZGljZXNVaW50MTYiLCJkcmF3U2hhcGUiLCJkcmF3SG9sZSIsImxhc3RTaGFwZSIsInVwZGF0ZUJhdGNoZXMiLCJiYXRjaFBhcnQiLCJjdXJyZW50Q29sb3IiLCJjb21tYW5kIiwidHJhbnNmb3JtUG9pbnRzIiwiYXR0cmliSW5kZXgiLCJwcm9jZXNzSG9sZXMiLCJhZGRVdnMiLCJpc0JhdGNoYWJsZSIsImJ1aWxkRHJhd0NhbGxzIiwiQkFUQ0hBQkxFX1NJWkUiLCJkcmF3TW9kZSIsImFkZENvbG9ycyIsImFkZFRleHR1cmVJZHMiLCJnbFBvaW50cyIsImYzMiIsInUzMiIsImxpbmVXaWR0aCIsInJ3IiwicmgiLCJyZ2JhIiwidXZzU3RhcnQiLCJueCIsImFkanVzdFV2cyIsImZpbmlzaCIsIkxpbmVTdHlsZSIsIkJlemllclV0aWxzIiwiY3VydmVMZW5ndGgiLCJjcFgyIiwiY3BZMiIsInQyIiwidDMiLCJudCIsIm50MiIsIm50MyIsInByZXZYIiwicHJldlkiLCJjdXJ2ZVRvIiwiZHQiLCJkdDIiLCJkdDMiLCJRdWFkcmF0aWNVdGlscyIsImEzMiIsImJhIiwiQXJjVXRpbHMiLCJtbSIsImRkIiwiY2MiLCJ0dCIsImsxIiwiazIiLCJqMSIsImoyIiwicXkiLCJzdGFydEFuZ2xlIiwiZW5kQW5nbGUiLCJhbnRpY2xvY2t3aXNlIiwiYXJjIiwic3RhcnRYIiwic3RhcnRZIiwic3dlZXAiLCJ0aGV0YSIsInRoZXRhMiIsImNUaGV0YSIsInNUaGV0YSIsInNlZ01pbnVzIiwicmVtYWluZGVyIiwiZ3JhcGhpY3NfZXNfU3RhciIsIlBvbHlnb24iLCJTdGFyIiwiaW5uZXJSYWRpdXMiLCJ0ZW1wIiwiZGVmYXVsdFNoYWRlciIsImdyYXBoaWNzX2VzX0dyYXBoaWNzIiwiR3JhcGhpY3MiLCJfZmlsbFN0eWxlIiwiX2xpbmVTdHlsZSIsIl9tYXRyaXgiLCJfaG9sZU1vZGUiLCJjdXJyZW50UGF0aCIsImJhdGNoVGludCIsIl90cmFuc2Zvcm1JRCIsImZpbmlzaFBvbHkiLCJfdGludCIsImZpbGwiLCJsaW5lIiwibGluZVRleHR1cmVTdHlsZSIsInN0YXJ0UG9seSIsIm1vdmVUbyIsImxpbmVUbyIsIl9pbml0Q3VydmUiLCJxdWFkcmF0aWNDdXJ2ZVRvIiwiYmV6aWVyQ3VydmVUbyIsImFyY1RvIiwicmFkaXVzJDEiLCJ4RGlmZiIsInlEaWZmIiwiYmVnaW5GaWxsIiwiYmVnaW5UZXh0dXJlRmlsbCIsImVuZEZpbGwiLCJkcmF3UmVjdCIsImRyYXdSb3VuZGVkUmVjdCIsImRyYXdDaXJjbGUiLCJkcmF3RWxsaXBzZSIsImRyYXdQb2x5Z29uIiwiZHJhd1N0YXIiLCJfc3ByaXRlUmVjdCIsImdJIiwiX2JhdGNoUkdCIiwiY2FsY3VsYXRlVmVydGljZXMiLCJjYWxjdWxhdGVUaW50cyIsIndhIiwiZHJhd0NhbGwiLCJsYiIsIl9URU1QX1BPSU5UIiwidGludFJHQiIsImNsb3NlUGF0aCIsInNldE1hdHJpeCIsImJlZ2luSG9sZSIsImVuZEhvbGUiLCJ0ZW1wUG9pbnQiLCJzcHJpdGVfZXNfaW5kaWNlcyIsInNwcml0ZV9lc19TcHJpdGUiLCJTcHJpdGUiLCJfYW5jaG9yIiwiX29uQW5jaG9yVXBkYXRlIiwiY2FjaGVkVGludCIsInZlcnRleFRyaW1tZWREYXRhIiwiX3RleHR1cmVJRCIsIl90cmFuc2Zvcm1UcmltbWVkSUQiLCJfdGV4dHVyZVRyaW1tZWRJRCIsIl9yb3VuZFBpeGVscyIsIl9vblRleHR1cmVVcGRhdGUiLCJ3MCIsIncxIiwiaDAiLCJoMSIsImNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcyIsImRlc3Ryb3lCYXNlVGV4dHVyZSIsIlRFWFRfR1JBRElFTlQiLCJMSU5FQVJfVkVSVElDQUwiLCJMSU5FQVJfSE9SSVpPTlRBTCIsImRlZmF1bHRTdHlsZSIsImFsaWduIiwiYnJlYWtXb3JkcyIsImRyb3BTaGFkb3ciLCJkcm9wU2hhZG93QWxwaGEiLCJkcm9wU2hhZG93QW5nbGUiLCJkcm9wU2hhZG93Qmx1ciIsImRyb3BTaGFkb3dDb2xvciIsImRyb3BTaGFkb3dEaXN0YW5jZSIsImZpbGxHcmFkaWVudFR5cGUiLCJmaWxsR3JhZGllbnRTdG9wcyIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImZvbnRTdHlsZSIsImZvbnRWYXJpYW50IiwiZm9udFdlaWdodCIsImxldHRlclNwYWNpbmciLCJsaW5lSGVpZ2h0IiwibGluZUpvaW4iLCJtaXRlckxpbWl0Iiwic3Ryb2tlIiwic3Ryb2tlVGhpY2tuZXNzIiwidGV4dEJhc2VsaW5lIiwid2hpdGVTcGFjZSIsIndvcmRXcmFwIiwid29yZFdyYXBXaWR0aCIsImxlYWRpbmciLCJnZW5lcmljRm9udEZhbWlsaWVzIiwiVGV4dFN0eWxlIiwic3R5bGVJRCIsImRlZXBDb3B5UHJvcGVydGllcyIsImdldFNpbmdsZUNvbG9yIiwiZ2V0Q29sb3IiLCJwcm9wZXJ0eU9iaiIsImNsb25lZFByb3BlcnRpZXMiLCJ0ZXh0X2VzX3Byb3RvdHlwZUFjY2Vzc29ycyIsIl9hbGlnbiIsIl9icmVha1dvcmRzIiwiX2Ryb3BTaGFkb3ciLCJfZHJvcFNoYWRvd0FscGhhIiwiX2Ryb3BTaGFkb3dBbmdsZSIsIl9kcm9wU2hhZG93Qmx1ciIsIl9kcm9wU2hhZG93Q29sb3IiLCJvdXRwdXRDb2xvciIsIl9kcm9wU2hhZG93RGlzdGFuY2UiLCJfZmlsbCIsIl9maWxsR3JhZGllbnRUeXBlIiwiX2ZpbGxHcmFkaWVudFN0b3BzIiwiYXJyYXkxIiwiYXJyYXkyIiwiYXJlQXJyYXlzRXF1YWwiLCJfZm9udEZhbWlseSIsIl9mb250U2l6ZSIsIl9mb250U3R5bGUiLCJfZm9udFZhcmlhbnQiLCJfZm9udFdlaWdodCIsIl9sZXR0ZXJTcGFjaW5nIiwiX2xpbmVIZWlnaHQiLCJfbGVhZGluZyIsIl9saW5lSm9pbiIsIl9taXRlckxpbWl0IiwiX3BhZGRpbmciLCJfc3Ryb2tlIiwiX3N0cm9rZVRoaWNrbmVzcyIsIl90ZXh0QmFzZWxpbmUiLCJfdHJpbSIsIl93aGl0ZVNwYWNlIiwiX3dvcmRXcmFwIiwiX3dvcmRXcmFwV2lkdGgiLCJ0b0ZvbnRTdHJpbmciLCJmb250U2l6ZVN0cmluZyIsImZvbnRGYW1pbGllcyIsIlRleHRNZXRyaWNzIiwibGluZXMiLCJsaW5lV2lkdGhzIiwibWF4TGluZVdpZHRoIiwiZm9udFByb3BlcnRpZXMiLCJtZWFzdXJlVGV4dCIsIl9jYW52YXMiLCJmb250IiwibWVhc3VyZUZvbnQiLCJhc2NlbnQiLCJjb2xsYXBzZVNwYWNlcyIsImNvbGxhcHNlTmV3bGluZXMiLCJjYW5QcmVwZW5kU3BhY2VzIiwidG9rZW5zIiwidG9rZW5pemUiLCJ0b2tlbiIsImlzTmV3bGluZSIsImFkZExpbmUiLCJjdXJySXNCcmVha2luZ1NwYWNlIiwiaXNCcmVha2luZ1NwYWNlIiwibGFzdElzQnJlYWtpbmdTcGFjZSIsInRva2VuV2lkdGgiLCJnZXRGcm9tQ2FjaGUiLCJjYW5CcmVha1dvcmRzIiwiY2hhcmFjdGVycyIsImNoYXIiLCJuZXh0Q2hhciIsImxhc3RDaGFyIiwiY2FuQnJlYWtDaGFycyIsImNoYXJhY3RlcldpZHRoIiwiaXNMYXN0VG9rZW4iLCJuZXdMaW5lIiwidHJpbVJpZ2h0Iiwic3BhY2luZyIsIl9uZXdsaW5lcyIsIl9icmVha2luZ1NwYWNlcyIsIl9mb250cyIsInByb3BlcnRpZXMiLCJfY29udGV4dCIsIm1ldHJpY3NTdHJpbmciLCJNRVRSSUNTX1NUUklORyIsIkJBU0VMSU5FX1NZTUJPTCIsImJhc2VsaW5lIiwiQkFTRUxJTkVfTVVMVElQTElFUiIsImZpbGxUZXh0IiwiaW1hZ2VkYXRhIiwiZGVzY2VudCIsImNsZWFyTWV0cmljcyIsInRleHRfZXNfY2FudmFzIiwiZGVmYXVsdERlc3Ryb3lPcHRpb25zIiwidGV4dF9lc19UZXh0IiwiVGV4dCIsIl9yZXNvbHV0aW9uIiwiX2F1dG9SZXNvbHV0aW9uIiwiX3RleHQiLCJfc3R5bGUiLCJfc3R5bGVMaXN0ZW5lciIsIl9mb250IiwibG9jYWxTdHlsZUlEIiwidXBkYXRlVGV4dCIsInJlc3BlY3REaXJ0eSIsImxpbmVQb3NpdGlvblgiLCJsaW5lUG9zaXRpb25ZIiwibWVhc3VyZWQiLCJzdHJva2VTdHlsZSIsInNoYWRvd0NvbG9yIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJzaGFkb3dPZmZzZXRZIiwiX2dlbmVyYXRlRmlsbFN0eWxlIiwiZHJhd0xldHRlclNwYWNpbmciLCJpc1N0cm9rZSIsImN1cnJlbnRQb3NpdGlvbiIsInN0cmluZ0FycmF5IiwiY3VycmVudENoYXIiLCJzdHJva2VUZXh0IiwidHJpbW1lZCIsIl9yZW5kZXJDYW52YXMiLCJfb25TdHlsZUNoYW5nZSIsImdyYWRpZW50IiwidG90YWxJdGVyYXRpb25zIiwiY3VycmVudEl0ZXJhdGlvbiIsImxlbmd0aFBsdXMxIiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJhZGRDb2xvclN0b3AiLCJVUExPQURTX1BFUl9GUkFNRSIsIkNvdW50TGltaXRlciIsIm1heEl0ZW1zUGVyRnJhbWUiLCJpdGVtc0xlZnQiLCJiZWdpbkZyYW1lIiwiYWxsb3dlZFRvVXBsb2FkIiwicHJlcGFyZV9lc19CYXNlUHJlcGFyZSIsImxpbWl0ZXIiLCJ1cGxvYWRIb29rSGVscGVyIiwiYWRkSG9va3MiLCJ1cGxvYWRIb29rcyIsImNvbXBsZXRlcyIsInRpY2tpbmciLCJkZWxheWVkVGljayIsInByZXBhcmVJdGVtcyIsInJlZ2lzdGVyRmluZEhvb2siLCJmaW5kVGV4dCIsImZpbmRUZXh0U3R5bGUiLCJmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMiLCJmaW5kQmFzZVRleHR1cmUiLCJmaW5kVGV4dHVyZSIsInJlZ2lzdGVyVXBsb2FkSG9vayIsImRyYXdUZXh0IiwiY2FsY3VsYXRlVGV4dFN0eWxlIiwiX3RleHR1cmVzIiwiaGVscGVyIiwiZG9uZSIsInRpY2siLCJ1cGxvYWRlZCIsImFkZEhvb2siLCJ1cGxvYWRIb29rIiwiUHJlcGFyZSIsIkJhc2VQcmVwYXJlIiwiZmluZEdyYXBoaWNzIiwidXBsb2FkQmFzZVRleHR1cmVzIiwidXBsb2FkR3JhcGhpY3MiLCJ0ZXh0dXJlTWFuYWdlciIsIl93ZWJHTCIsInVwZGF0ZUdyYXBoaWNzIiwiVGltZUxpbWl0ZXIiLCJtYXhNaWxsaXNlY29uZHMiLCJmcmFtZVN0YXJ0IiwiYXBwX2VzX0FwcGxpY2F0aW9uIiwiQXBwbGljYXRpb24iLCJmb3JjZUNhbnZhcyIsInN0YWdlIiwiX3BsdWdpbnMiLCJwbHVnaW4iLCJhcHBfZXNfcHJvdG90eXBlQWNjZXNzb3JzIiwicmV2ZXJzZSIsIl9vcHRpb25zIiwiUmVzaXplUGx1Z2luIiwiZG9tIiwiX3Jlc2l6ZVRvIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJyZXNpemVUbyIsInBhcnNlVXJpIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJ3ZWJraXRVUkwiLCJUZXh0dXJlTG9hZGVyIiwibGliIiwibG9hZGVyc19lc19Mb2FkZXIiLCJSZXNvdXJjZUxvYWRlciIsImxpYl9kZWZhdWx0IiwiYmxvYk1pZGRsZXdhcmVGYWN0b3J5IiwiQXBwTG9hZGVyUGx1Z2luIiwic2hhcmVkTG9hZGVyIiwibG9hZGVyIiwiTG9hZGVyUmVzb3VyY2UiLCJwYXJ0aWNsZXNfZXNfUGFydGljbGVDb250YWluZXIiLCJQYXJ0aWNsZUNvbnRhaW5lciIsIm1heFNpemUiLCJiYXRjaFNpemUiLCJfcHJvcGVydGllcyIsIl9tYXhTaXplIiwiX2JhdGNoU2l6ZSIsIl9idWZmZXJzIiwiX2J1ZmZlclVwZGF0ZUlEcyIsInNldFByb3BlcnRpZXMiLCJ0aW50UmdiIiwicGFydGljbGUiLCJzbWFsbGVzdENoaWxkSW5kZXgiLCJwYXJ0aWNsZXNfZXNfUGFydGljbGVCdWZmZXIiLCJkeW5hbWljUHJvcGVydHlGbGFncyIsImR5bmFtaWNQcm9wZXJ0aWVzIiwic3RhdGljUHJvcGVydGllcyIsImF0dHJpYnV0ZU5hbWUiLCJ1cGxvYWRGdW5jdGlvbiIsInN0YXRpY1N0cmlkZSIsInN0YXRpY0J1ZmZlciIsInN0YXRpY0RhdGEiLCJzdGF0aWNEYXRhVWludDMyIiwiZHluYW1pY1N0cmlkZSIsImR5bmFtaWNCdWZmZXIiLCJkeW5hbWljRGF0YSIsImR5bmFtaWNEYXRhVWludDMyIiwiaW5pdEJ1ZmZlcnMiLCJkeW5hbWljT2Zmc2V0IiwiZHluQnVmZmVyIiwic3RhdGljT2Zmc2V0Iiwic3RhdEJ1ZmZlciIsInByb3BlcnR5JDIiLCJwcm9wZXJ0eSQzIiwidXBsb2FkRHluYW1pYyIsInN0YXJ0SW5kZXgiLCJhbW91bnQiLCJ1cGxvYWRTdGF0aWMiLCJwYXJ0aWNsZXNfZXNfUGFydGljbGVSZW5kZXJlciIsIlBhcnRpY2xlUmVuZGVyZXIiLCJ1cGxvYWRWZXJ0aWNlcyIsInVwbG9hZFBvc2l0aW9uIiwidXBsb2FkUm90YXRpb24iLCJ1cGxvYWRVdnMiLCJ1cGxvYWRUaW50IiwicGFydGljbGVzX2VzX3ZlcnRleCIsInBhcnRpY2xlc19lc19mcmFnbWVudCIsInRvdGFsQ2hpbGRyZW4iLCJnZW5lcmF0ZUJ1ZmZlcnMiLCJ1Q29sb3IiLCJ1cGRhdGVTdGF0aWMiLCJfZ2VuZXJhdGVPbmVNb3JlQnVmZmVyIiwiYmlkIiwic3ByaXRlUG9zaXRpb24iLCJzcHJpdGVSb3RhdGlvbiIsInRleHR1cmVVdnMiLCJTcHJpdGVzaGVldCIsInJlc29sdXRpb25GaWxlbmFtZSIsImFuaW1hdGlvbnMiLCJfdXBkYXRlUmVzb2x1dGlvbiIsIl9mcmFtZXMiLCJmcmFtZXMiLCJfZnJhbWVLZXlzIiwiX2JhdGNoSW5kZXgiLCJfY2FsbGJhY2siLCJzcHJpdGVzaGVldF9lc19zdGF0aWNBY2Nlc3NvcnMiLCJCQVRDSF9TSVpFIiwibWV0YSIsIl9wcm9jZXNzRnJhbWVzIiwiX3Byb2Nlc3NBbmltYXRpb25zIiwiX3BhcnNlQ29tcGxldGUiLCJfbmV4dEJhdGNoIiwiaW5pdGlhbEZyYW1lSW5kZXgiLCJmcmFtZUluZGV4IiwibWF4RnJhbWVzIiwic291cmNlU2l6ZSIsInJvdGF0ZWQiLCJzcHJpdGVTb3VyY2VTaXplIiwiYW5pbU5hbWUiLCJmcmFtZU5hbWUiLCJTcHJpdGVzaGVldExvYWRlciIsImltYWdlUmVzb3VyY2VOYW1lIiwibG9hZE9wdGlvbnMiLCJpbWFnZU1ldGFkYXRhIiwicmVzb3VyY2VQYXRoIiwiZ2V0UmVzb3VyY2VQYXRoIiwic3ByaXRlc2hlZXQiLCJzcHJpdGVfdGlsaW5nX2VzX3RlbXBQb2ludCIsInNwcml0ZV90aWxpbmdfZXNfVGlsaW5nU3ByaXRlIiwiVGlsaW5nU3ByaXRlIiwidGlsZVRyYW5zZm9ybSIsIl9jYW52YXNQYXR0ZXJuIiwidXZSZXNwZWN0QW5jaG9yIiwidGlsZVNjYWxlIiwidGlsZVBvc2l0aW9uIiwiZnJvbUZyYW1lIiwiZnJhbWVJZCIsImZyb21JbWFnZSIsImltYWdlSWQiLCJzcHJpdGVfdGlsaW5nX2VzX3RlbXBNYXQiLCJzcHJpdGVfdGlsaW5nX2VzX1RpbGluZ1Nwcml0ZVJlbmRlcmVyIiwiVGlsaW5nU3ByaXRlUmVuZGVyZXIiLCJzcHJpdGVfdGlsaW5nX2VzX3ZlcnRleCIsInNwcml0ZV90aWxpbmdfZXNfZnJhZ21lbnQiLCJzaW1wbGVTaGFkZXIiLCJmcmFnbWVudFNpbXBsZSIsInRzIiwiYmFzZVRleCIsInV2IiwiSCIsInVNYXBDb29yZCIsInVUcmFuc2Zvcm0iLCJ0ZXh0X2JpdG1hcF9lc19CaXRtYXBUZXh0IiwiQml0bWFwVGV4dCIsIl90ZXh0V2lkdGgiLCJfdGV4dEhlaWdodCIsIl9nbHlwaHMiLCJfbWF4V2lkdGgiLCJfbWF4TGluZUhlaWdodCIsImZvbnRzIiwiY2hhcnMiLCJ0ZXh0TGVuZ3RoIiwibWF4V2lkdGgiLCJwcmV2Q2hhckNvZGUiLCJsYXN0TGluZVdpZHRoIiwibGFzdEJyZWFrUG9zIiwibGFzdEJyZWFrV2lkdGgiLCJzcGFjZXNSZW1vdmVkIiwibWF4TGluZUhlaWdodCIsImNoYXJDb2RlIiwiY2hhckRhdGEiLCJrZXJuaW5nIiwieE9mZnNldCIsInlPZmZzZXQiLCJ4QWR2YW5jZSIsImxpbmVBbGlnbk9mZnNldHMiLCJhbGlnbk9mZnNldCIsImxlbkNoYXJzIiwidmFsaWRhdGUiLCJ0ZXh0V2lkdGgiLCJ0ZXh0SGVpZ2h0IiwicmVnaXN0ZXJGb250IiwiaW5mbyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiY29tbW9uIiwicGFnZXMiLCJwYWdlc1RleHR1cmVzIiwibGV0dGVycyIsInBhZ2UiLCJ0ZXh0dXJlUmVjdCIsImtlcm5pbmdzIiwiZmlyc3QiLCJzZWNvbmQiLCJCaXRtYXBGb250TG9hZGVyIiwiYml0bWFwRm9udCIsImRpcm5hbWUiLCJ4bWxVcmwiLCJwYWdlRmlsZSIsImJpdG1hcFJlc291cmNlIiwiZmlsdGVyX2FscGhhX2VzX0FscGhhRmlsdGVyIiwiQWxwaGFGaWx0ZXIiLCJfZGVmYXVsdCIsImZpbHRlcl9hbHBoYV9lc19mcmFnbWVudCIsInVBbHBoYSIsInZlcnRUZW1wbGF0ZSIsIkdBVVNTSUFOX1ZBTFVFUyIsIjUiLCI3IiwiOSIsIjExIiwiMTMiLCIxNSIsImZpbHRlcl9ibHVyX2VzX2ZyYWdUZW1wbGF0ZSIsImZpbHRlcl9ibHVyX2VzX0JsdXJGaWx0ZXJQYXNzIiwiQmx1ckZpbHRlclBhc3MiLCJob3Jpem9udGFsIiwic3RyZW5ndGgiLCJrZXJuZWxTaXplIiwidmVydFNyYyIsInRlbXBsYXRlIiwiaGFsZkxlbmd0aCIsInZlcnRTb3VyY2UiLCJibHVyTG9vcCIsImJsdXIiLCJnZW5lcmF0ZUJsdXJWZXJ0U291cmNlIiwiZnJhZ1NyYyIsImtlcm5lbCIsImZyYWdTb3VyY2UiLCJnZW5lcmF0ZUJsdXJGcmFnU291cmNlIiwiX3F1YWxpdHkiLCJwYXNzZXMiLCJmaWx0ZXJfYmx1cl9lc19CbHVyRmlsdGVyIiwiQmx1ckZpbHRlciIsImJsdXJYRmlsdGVyIiwiYmx1cllGaWx0ZXIiLCJyZXBlYXRFZGdlUGl4ZWxzIiwieFN0cmVuZ3RoIiwieVN0cmVuZ3RoIiwidXBkYXRlUGFkZGluZyIsIl9yZXBlYXRFZGdlUGl4ZWxzIiwiYmx1clgiLCJibHVyWSIsImZpbHRlcl9jb2xvcl9tYXRyaXhfZXNfQ29sb3JNYXRyaXhGaWx0ZXIiLCJDb2xvck1hdHJpeEZpbHRlciIsImRlZmF1bHRGaWx0ZXIiLCJmaWx0ZXJfY29sb3JfbWF0cml4X2VzX2ZyYWdtZW50IiwiX2xvYWRNYXRyaXgiLCJtdWx0aXBseSIsIm5ld01hdHJpeCIsIl9tdWx0aXBseSIsIl9jb2xvck1hdHJpeCIsImJyaWdodG5lc3MiLCJncmV5c2NhbGUiLCJibGFja0FuZFdoaXRlIiwiaHVlIiwiY29zUiIsInNpblIiLCJzcXJXIiwiY29udHJhc3QiLCJzYXR1cmF0ZSIsImRlc2F0dXJhdGUiLCJuZWdhdGl2ZSIsInNlcGlhIiwidGVjaG5pY29sb3IiLCJwb2xhcm9pZCIsInRvQkdSIiwia29kYWNocm9tZSIsImJyb3duaSIsInZpbnRhZ2UiLCJjb2xvclRvbmUiLCJkZXNhdHVyYXRpb24iLCJ0b25lZCIsImxpZ2h0Q29sb3IiLCJkYXJrQ29sb3IiLCJsUiIsImxHIiwibEIiLCJkUiIsImRHIiwiZEIiLCJuaWdodCIsImludGVuc2l0eSIsInByZWRhdG9yIiwibHNkIiwiZ3JheXNjYWxlIiwiZmlsdGVyX2Rpc3BsYWNlbWVudF9lc19EaXNwbGFjZW1lbnRGaWx0ZXIiLCJEaXNwbGFjZW1lbnRGaWx0ZXIiLCJmaWx0ZXJfZGlzcGxhY2VtZW50X2VzX3ZlcnRleCIsImZpbHRlcl9kaXNwbGFjZW1lbnRfZXNfZnJhZ21lbnQiLCJtYXBTYW1wbGVyIiwiZmlsdGVyTWF0cml4IiwibGVuWCIsImxlblkiLCJGWEFBRmlsdGVyIiwiZmlsdGVyX2Z4YWFfZXNfdmVydGV4IiwiZmlsdGVyX2Z4YWFfZXNfZnJhZ21lbnQiLCJmaWx0ZXJfbm9pc2VfZXNfTm9pc2VGaWx0ZXIiLCJOb2lzZUZpbHRlciIsIm5vaXNlIiwic2VlZCIsImZpbHRlcl9ub2lzZV9lc19mcmFnbWVudCIsInVOb2lzZSIsInVTZWVkIiwiX3RlbXBNYXRyaXgiLCJfY2FjaGVBc0JpdG1hcCIsIl9jYWNoZURhdGEiLCJDYWNoZURhdGEiLCJ0ZXh0dXJlQ2FjaGVJZCIsIm9yaWdpbmFsUmVuZGVyIiwib3JpZ2luYWxSZW5kZXJDYW52YXMiLCJvcmlnaW5hbENhbGN1bGF0ZUJvdW5kcyIsIm9yaWdpbmFsR2V0TG9jYWxCb3VuZHMiLCJvcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybSIsIm9yaWdpbmFsSGl0VGVzdCIsIm9yaWdpbmFsRGVzdHJveSIsIm9yaWdpbmFsTWFzayIsIm9yaWdpbmFsRmlsdGVyQXJlYSIsImNhY2hlQXNCaXRtYXAiLCJyZW5kZXJDYW52YXMiLCJvcmlnaW5hbENvbnRhaW5zUG9pbnQiLCJfcmVuZGVyQ2FjaGVkIiwiX3JlbmRlckNhY2hlZENhbnZhcyIsIl9jYWNoZUFzQml0bWFwRGVzdHJveSIsIl9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCIsIl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdCIsImNhY2hlQWxwaGEiLCJjYWNoZWRSZW5kZXJUYXJnZXQiLCJfY2FsY3VsYXRlQ2FjaGVkQm91bmRzIiwiX2dldENhY2hlZExvY2FsQm91bmRzIiwiY2FjaGVkU3ByaXRlIiwiX2luaXRDYWNoZWREaXNwbGF5T2JqZWN0Q2FudmFzIiwiZ2V0Q2hpbGRCeU5hbWUiLCJnZXRHbG9iYWxQb3NpdGlvbiIsIk1lc2hCYXRjaFV2cyIsIl9idWZmZXJVcGRhdGVJZCIsIl90ZXh0dXJlVXBkYXRlSWQiLCJtZXNoX2VzX3RlbXBQb2ludCIsInRlbXBQb2x5Z29uIiwibWVzaF9lc19NZXNoIiwiTWVzaCIsInZlcnRleERpcnR5IiwiYmF0Y2hVdnMiLCJ2ZXJ0aWNlc0J1ZmZlciIsIm1hdGVyaWFsIiwiX3JlbmRlclRvQmF0Y2giLCJfcmVuZGVyRGVmYXVsdCIsImNhbGN1bGF0ZVV2cyIsInZlcnRleERpcnR5SWQiLCJnZW9tVXZzIiwic3RlcCIsImluZDAiLCJpbmQxIiwiaW5kMiIsIm1lc2hfZXNfTWVzaE1hdGVyaWFsIiwiTWVzaE1hdGVyaWFsIiwidVRleHR1cmVNYXRyaXgiLCJtZXNoX2VzX3ZlcnRleCIsIm1lc2hfZXNfZnJhZ21lbnQiLCJfY29sb3JEaXJ0eSIsIl9hbHBoYSIsIm1lc2hfZXNfTWVzaEdlb21ldHJ5IiwiTWVzaEdlb21ldHJ5IiwidXZzQnVmZmVyIiwiX3VwZGF0ZUlkIiwiUGxhbmVHZW9tZXRyeSIsInNlZ1dpZHRoIiwic2VnSGVpZ2h0Iiwic2VnbWVudHNYIiwic2VnbWVudHNZIiwic2l6ZVgiLCJzaXplWSIsInRvdGFsU3ViIiwieHBvcyIsInlwb3MiLCJ2YWx1ZTIiLCJ2YWx1ZTMiLCJ2YWx1ZTQiLCJSb3BlR2VvbWV0cnkiLCJ1cGRhdGVWZXJ0aWNlcyIsIm5leHRQb2ludCIsInBlcnBYIiwicGVycFkiLCJwZXJwTGVuZ3RoIiwibnVtIiwibWVzaF9leHRyYXNfZXNfU2ltcGxlUm9wZSIsIlNpbXBsZVJvcGUiLCJyb3BlR2VvbWV0cnkiLCJtZXNoTWF0ZXJpYWwiLCJtZXNoX2V4dHJhc19lc19TaW1wbGVQbGFuZSIsIlNpbXBsZVBsYW5lIiwidmVydGljZXNYIiwidmVydGljZXNZIiwicGxhbmVHZW9tZXRyeSIsInRleHR1cmVVcGRhdGVkIiwibWVzaF9leHRyYXNfZXNfU2ltcGxlTWVzaCIsIlNpbXBsZU1lc2giLCJERUZBVUxUX0JPUkRFUl9TSVpFIiwibWVzaF9leHRyYXNfZXNfTmluZVNsaWNlUGxhbmUiLCJOaW5lU2xpY2VQbGFuZSIsImxlZnRXaWR0aCIsInRvcEhlaWdodCIsInJpZ2h0V2lkdGgiLCJib3R0b21IZWlnaHQiLCJfb3JpZ1dpZHRoIiwiX29yaWdIZWlnaHQiLCJfbGVmdFdpZHRoIiwiX3JpZ2h0V2lkdGgiLCJfdG9wSGVpZ2h0IiwiX2JvdHRvbUhlaWdodCIsIl9yZWZyZXNoIiwidXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzIiwidXBkYXRlVmVydGljYWxWZXJ0aWNlcyIsIl91dnciLCJfdXZoIiwic3ByaXRlX2FuaW1hdGVkX2VzX0FuaW1hdGVkU3ByaXRlIiwiQW5pbWF0ZWRTcHJpdGUiLCJfZHVyYXRpb25zIiwiYW5pbWF0aW9uU3BlZWQiLCJsb29wIiwidXBkYXRlQW5jaG9yIiwib25GcmFtZUNoYW5nZSIsIm9uTG9vcCIsIl9jdXJyZW50VGltZSIsInBsYXlpbmciLCJnb3RvQW5kU3RvcCIsImZyYW1lTnVtYmVyIiwicHJldmlvdXNGcmFtZSIsImN1cnJlbnRGcmFtZSIsImdvdG9BbmRQbGF5IiwiZWxhcHNlZCIsImxhZyIsImNvcHkiLCJmcm9tRnJhbWVzIiwiZnJvbUltYWdlcyIsImltYWdlcyIsInRvdGFsRnJhbWVzIiwidjUiLCJ1c2VEZXByZWNhdGVkIiwiUElYSSIsIlRyYW5zZm9ybVN0YXRpYyIsIlRyYW5zZm9ybUJhc2UiLCJUUkFOU0ZPUk1fTU9ERSIsIlNUQVRJQyIsIkRZTkFNSUMiLCJXZWJHTFJlbmRlcmVyIiwiQ2FudmFzUmVuZGVyVGFyZ2V0IiwidXRpbHMiLCJGaWx0ZXJNYW5hZ2VyIiwic3lzdGVtcyIsImV4dHJhcyIsImdldFN2Z1NpemUiLCJtZXNoIiwiUGxhbmUiLCJSb3BlIiwiUmF3TWVzaCIsIkNhbnZhc01lc2hSZW5kZXJlciIsIk1lc2hSZW5kZXJlciIsInBhcnRpY2xlcyIsIlRpY2tlciIsImxvYWRlcnMiLCJiaXRtYXBGb250UGFyc2VyIiwicGFyc2VCaXRtYXBGb250RGF0YSIsInNwcml0ZXNoZWV0UGFyc2VyIiwiYWRkUGl4aU1pZGRsZXdhcmUiLCJtaWRkbGV3YXJlIiwicHJlcGFyZSIsIl9yZW5kZXJXZWJHTCIsInJlbmRlcldlYkdMIiwicmVuZGVyQWR2YW5jZWRXZWJHTCIsImxvYWRTb3VyY2UiLCJoYXNMb2FkZWQiLCJmcm9tQ2FudmFzIiwiZnJvbVNWRyIsImdldFJlbmRlclRhcmdldCIsInJldHVyblJlbmRlclRhcmdldCIsImNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4IiwiY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4IiwidHJhbnNsYXRlU2NhbGVYIiwidHJhbnNsYXRlU2NhbGVZIiwiQmx1clhGaWx0ZXIiLCJzdXBlcmNsYXNzIiwiQmx1cllGaWx0ZXIiLCJzcHJpdGVGcm9tIiwidGV4dHVyZUZyb20iLCJnZW5lcmF0ZUNhbnZhc1RleHR1cmUiLCJmcm9tVmlkZW8iLCJtaXhpbnMiLCJkZWxheU1peGluIiwicGVyZm9ybU1peGlucyIsImFjY2Vzc2liaWxpdHkuQWNjZXNzaWJpbGl0eU1hbmFnZXIiLCJleHRyYWN0LkV4dHJhY3QiLCJpbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIiLCJwcmVwYXJlLlByZXBhcmUiLCJwaXhpX2VzX1ZFUlNJT04iLCJwaXhpX21vZHVsZSIsInRzX1JlZWwiLCJSZWVsIiwic3ltYm9sV2lkdGgiLCJyb3dzIiwiY29sdW1ucyIsImZhbGxpbmdWZWxvY2l0eSIsInNvdW5kSlMiLCJjcmVhdGVqcyIsIlNvdW5kIiwiYmFzZVNvdW5kc1BhdGgiLCJzdGFydFNvdW5kSWQiLCJyZWVsIiwic3RhcnRCdXR0b24iLCJzeW1ib2xzUGF0aCIsImJhc2VQYXRoIiwiYnV0dG9uUGF0aGVzIiwic3RhdGVzIiwibm9ybWFsQnV0dG9uIiwiaG92ZXJCdXR0b24iLCJkaXNhYmxlZEJ1dHRvbiIsInByZXNzZWRCdXR0b24iLCJidXR0b25Nb3VzZVVwSGFuZGxlciIsIl9hIiwiYnV0dG9uU3JjIiwiYnV0dG9uTW91c2VEb3duSGFuZGxlciIsImJ1dHRvbk1vdXNlT3ZlckhhbmRsZXIiLCJidXR0b25Nb3VzZU91dEhhbmRsZXIiLCJzdGFydFJlZWxTcGluaW5nIiwiY3JlYXRlUmVlbCIsInNldEFwcCIsImNyZWF0ZUJ1dHRvblNyYyIsImNyZWF0ZVNvdW5kc0RhdGEiLCJjcmVhdGVTeW1ib2xzU3JjIiwiYXBwIiwic3ltYm9sc1NyYyIsImNyZWF0ZUltYWdlcyIsImNvbnRyb2wiLCJyZWVsU3BpbmluZyIsInNldEJ1dHRvbkhhbmRsZXJzIiwiZ2FtZUxvb3AiLCJzeW1iIiwidmVsb2NpdHkiLCJtb3ZlU3ltYm9sIiwiY2hlY2tTeW1ib2xTaG91bGRTdG9wIiwic3RvcEZhbGxpbmdTeW1ib2wiLCJjaGVja1JlZWxTaG91bGRTdGFydCIsImNoZWNrUmVlbFNob3VsZFN0b3AiLCJzZXRNYXNrU2l6ZSIsIm1hc2tTaXplIiwiY3JlYXRlU3RvcFNvdW5kc0lkcyIsImFtb3VudFN0b3BTb3VuZHMiLCJzdG9wU291bmRzSWRzIiwic291bmRzRGF0YSIsInN0YXJ0U291bmREYXRhIiwic3RvcElkIiwic3RvcFNvdW5kRGF0YSIsInNvdW5kcyIsInJlZ2lzdGVyU291bmRzIiwic291cmNlcyIsInN5bWJvbHNJblJvdyIsInN5bWJvbHNBbW91bnQiLCJtYXNrSGVpZ2h0IiwiY29sdW1uQ291bnRlciIsInJvd0NvdW50ZXIiLCJpbWFnZVBhdGgiLCJzeW1ib2xJbml0aWFsRGF0YSIsImVuZFkiLCJwb3NpdGlvblgiLCJzZXRJbWFnZUF0dHJpYnV0ZXMiLCJzeW1ib2xJdGVtIiwic3ltYm9sRGF0YSIsInJlbWFpbmluZ0Rpc3RhbmNlIiwicGxheVN0b3BTb3VuZCIsImV2ZXJ5IiwibWF4TnVtYmVyIiwic3RvcFNvdW5kSWQiXSwibWFwcGluZ3MiOiJhQUdBLElBQUFBLEVBQUFDLE9BQUEsaUJBQ0FBLE9BQUEsaUJBQ0EsU0FBQUMsRUFBQUMsSUFnUkEsU0FBQUQsRUFBQUMsR0FDQSxJQUFBQyxFQUFBRixLQUFBRyxFQUFBSCxHQUNBLE9BRUEsUUFBQUksS0FEQUQsRUFBQUgsSUFBQSxFQUNBQyxFQUNBSSxPQUFBQyxVQUFBQyxlQUFBQyxLQUFBUCxFQUFBRyxLQUNBSyxFQUFBTCxHQUFBSCxFQUFBRyxJQUdBLEtBQUFNLEdBQUEsSUFBQUMsR0FDQUMsSUF6UkFDLENBQUFiLEVBQUFDLEdBQ0FILEtBQUFFLEVBQUFDLElBdURBLElBS0FhLEVBTEFDLEdBQUEsRUFFQUMsRUFBQSx1QkFDQUMsRUFBQSxJQUNBQyxFQUFBLEdBR0FDLEVBQUEsR0FFQUMsRUFBQSxHQUdBLFNBQUFDLEVBQUFqQixHQUNBLElBQUFrQixFQUFBQyxFQUFBbkIsR0FDQSxJQUFBa0IsRUFBQSxPQUFBRSxFQUNBLElBQUFDLEVBQUEsU0FBQUMsR0FzQkEsT0FyQkFKLEVBQUFLLElBQUFDLFFBQ0FMLEVBQUFHLElBQ0EsSUFBQUgsRUFBQUcsR0FBQUcsUUFBQUMsUUFBQTFCLElBQ0FtQixFQUFBRyxHQUFBRyxRQUFBRSxLQUFBM0IsSUFHQWUsRUFBQSxDQUFBZixHQUNBVSxFQUFBWSxJQUVBLElBQUFKLEVBQUFVLFNBQUFGLFFBQUFKLElBQ0FKLEVBQUFVLFNBQUFELEtBQUFMLEtBR0FPLFFBQUFDLEtBQ0EsNEJBQ0FSLEVBQ0EsMEJBQ0F0QixHQUVBZSxFQUFBLElBRUFLLEVBQUFFLElBRUFTLEVBQUEsU0FBQUMsR0FDQSxPQUNBQyxjQUFBLEVBQ0FDLFlBQUEsRUFDQUMsSUFBQSxXQUNBLE9BQUFmLEVBQUFZLElBRUFJLElBQUEsU0FBQUMsR0FDQWpCLEVBQUFZLEdBQUFLLEtBSUEsUUFBQUwsS0FBQVosRUFFQW5CLE9BQUFDLFVBQUFDLGVBQUFDLEtBQUFnQixFQUFBWSxJQUNBLE1BQUFBLEdBQ0EsTUFBQUEsR0FFQS9CLE9BQUFxQyxlQUFBakIsRUFBQVcsRUFBQUQsRUFBQUMsSUEyQkEsT0F4QkFYLEVBQUFrQixFQUFBLFNBQUEzQyxHQUdBLE1BRkEsVUFBQTRDLEdBQUFDLEVBQUEsV0FDQWxDLElBQ0FhLEVBQUFtQixFQUFBM0MsR0FBQThDLEtBQUFDLEVBQUEsU0FBQUMsR0FFQSxNQURBRCxJQUNBQyxJQUdBLFNBQUFELElBQ0FwQyxJQUNBLFlBQUFpQyxJQUNBSyxFQUFBakQsSUFDQWtELEVBQUFsRCxHQUVBLElBQUFXLEdBQUEsSUFBQUQsR0FDQUUsT0FLQWEsRUFBQTBCLEVBQUEsU0FBQVYsRUFBQVcsR0FFQSxPQURBLEVBQUFBLElBQUFYLEVBQUFoQixFQUFBZ0IsSUFDQWpCLEVBQUEyQixFQUFBVixHQUFBLEVBQUFXLElBRUEzQixFQUlBLFNBQUE0QixFQUFBakQsR0FDQSxJQUFBdUIsRUFBQSxDQUVBMkIsc0JBQUEsR0FDQUMsc0JBQUEsR0FDQUMsZUFBQSxFQUNBQyxlQUFBLEVBQ0FDLGlCQUFBLEdBQ0FDLE1BQUE3QyxJQUFBVixFQUdBd0IsUUFBQSxFQUNBZ0MsT0FBQSxTQUFBQyxFQUFBQyxHQUNBLFFBQUFDLElBQUFGLEVBQUFsQyxFQUFBNkIsZUFBQSxPQUNBLHNCQUFBSyxFQUFBbEMsRUFBQTZCLGNBQUFLLE9BQ0Esb0JBQUFBLEVBQ0EsUUFBQUcsRUFBQSxFQUFxQkEsRUFBQUgsRUFBQUksT0FBZ0JELElBQ3JDckMsRUFBQTJCLHNCQUFBTyxFQUFBRyxJQUFBRixHQUFBLGtCQUNBbkMsRUFBQTJCLHNCQUFBTyxHQUFBQyxHQUFBLGNBRUFJLFFBQUEsU0FBQUwsR0FDQSxRQUFBRSxJQUFBRixFQUFBbEMsRUFBQThCLGVBQUEsT0FDQSxvQkFBQUksRUFDQSxRQUFBRyxFQUFBLEVBQXFCQSxFQUFBSCxFQUFBSSxPQUFnQkQsSUFDckNyQyxFQUFBNEIsc0JBQUFNLEVBQUFHLEtBQUEsT0FDQXJDLEVBQUE0QixzQkFBQU0sSUFBQSxHQUVBTSxRQUFBLFNBQUFMLEdBQ0FuQyxFQUFBK0IsaUJBQUEzQixLQUFBK0IsSUFFQU0sa0JBQUEsU0FBQU4sR0FDQW5DLEVBQUErQixpQkFBQTNCLEtBQUErQixJQUVBTyxxQkFBQSxTQUFBUCxHQUNBLElBQUFRLEVBQUEzQyxFQUFBK0IsaUJBQUE1QixRQUFBZ0MsR0FDQVEsR0FBQSxHQUFBM0MsRUFBQStCLGlCQUFBYSxPQUFBRCxFQUFBLElBSUFFLE1BQUFDLEVBQ0FDLE1BQUFDLEVBQ0FDLE9BQUEsU0FBQUMsR0FDQSxJQUFBQSxFQUFBLE9BQUFqQyxFQUNBa0MsRUFBQS9DLEtBQUE4QyxJQUVBRSxpQkFBQSxTQUFBRixHQUNBQyxFQUFBL0MsS0FBQThDLElBRUFHLG9CQUFBLFNBQUFILEdBQ0EsSUFBQVAsRUFBQVEsRUFBQWhELFFBQUErQyxHQUNBUCxHQUFBLEdBQUFRLEVBQUFQLE9BQUFELEVBQUEsSUFJQVcsS0FBQS9ELEVBQUFkLElBR0EsT0FEQVUsT0FBQWlELEVBQ0FwQyxFQUdBLElBQUFtRCxFQUFBLEdBQ0FsQyxFQUFBLE9BRUEsU0FBQUMsRUFBQXFDLEdBQ0F0QyxFQUFBc0MsRUFDQSxRQUFBbEIsRUFBQSxFQUFrQkEsRUFBQWMsRUFBQWIsT0FBOEJELElBQ2hEYyxFQUFBZCxHQUFBeEQsS0FBQSxLQUFBMEUsR0FJQSxJQUtBQyxFQUdBMUUsRUFBQTJFLEVBUkExRSxFQUFBLEVBQ0FDLEVBQUEsRUFDQXNDLEVBQUEsR0FDQTlDLEVBQUEsR0FDQUQsRUFBQSxHQU1BLFNBQUFtRixFQUFBQyxHQUVBLE9BREFBLEVBQUEsS0FBQUEsR0FDQUEsSUFHQSxTQUFBYixFQUFBQyxHQUNBLFlBQUE5QixFQUNBLFVBQUEyQyxNQUFBLDBDQUlBLE9BRkF4RSxFQUFBMkQsRUFDQTdCLEVBQUEsVUE1TkEyQyxFQTZOQXZFLEVBNU5BdUUsS0FBQSxJQUNBLElBQUFDLFFBQUEsU0FBQUMsRUFBQUMsR0FDQSx1QkFBQUMsZUFDQSxPQUFBRCxFQUFBLElBQUFKLE1BQUEsdUJBRUEsSUFDQSxJQUFBN0QsRUFBQSxJQUFBa0UsZUFDQUMsRUFBQXJFLEVBQUFzRSxFQUFBLEdBQUE5RSxFQUFBLG1CQUNBVSxFQUFBcUUsS0FBQSxNQUFBRixHQUFBLEdBQ0FuRSxFQUFBc0UsUUFBQVIsRUFDQTlELEVBQUF1RSxLQUFBLE1BQ0ssTUFBQWpELEdBQ0wsT0FBQTJDLEVBQUEzQyxHQUVBdEIsRUFBQXdFLG1CQUFBLFdBQ0EsT0FBQXhFLEVBQUF5RSxXQUNBLE9BQUF6RSxFQUFBa0QsT0FFQWUsRUFDQSxJQUFBSixNQUFBLHVCQUFBTSxFQUFBLHFCQUVNLFNBQUFuRSxFQUFBa0QsT0FFTmMsU0FDTSxTQUFBaEUsRUFBQWtELFFBQUEsTUFBQWxELEVBQUFrRCxPQUVOZSxFQUFBLElBQUFKLE1BQUEsdUJBQUFNLEVBQUEsaUJBQ00sQ0FFTixJQUNBLElBQUFPLEVBQUFDLEtBQUFDLE1BQUE1RSxFQUFBNkUsY0FDTyxNQUFBNUQsR0FFUCxZQURBZ0QsRUFBQWhELEdBR0ErQyxFQUFBVSxRQXlMQXRELEtBQUEsU0FBQXNELEdBQ0EsSUFBQUEsRUFFQSxPQURBdkQsRUFBQSxRQUNBLEtBRUExQyxFQUFBLEdBQ0E4QyxFQUFBLEdBQ0EvQyxFQUFBa0csRUFBQUksRUFDQXBCLEVBQUFnQixFQUFBSyxFQUVBNUQsRUFBQSxXQUNBLElBQUE2RCxFQUFBLElBQUFqQixRQUFBLFNBQUFDLEVBQUFDLEdBQ0FSLEVBQUEsQ0FDQU8sVUFDQUMsWUFHQWxGLEVBQUEsR0FjQSxPQVRBeUMsRUFKQSxHQU9BLFlBQUFOLEdBQ0EsSUFBQWpDLEdBQ0EsSUFBQUQsR0FFQUUsSUFFQThGLElBNVBBLElBQUFsQixFQStRQSxTQUFBdEMsRUFBQWxELEdBQ0FFLEVBQUFGLElBR0FHLEVBQUFILElBQUEsRUFDQVUsSUE3UkEsU0FBQVYsR0FDQSxJQUFBMkcsRUFBQUMsU0FBQUMsY0FBQSxVQUNBRixFQUFBRyxRQUFBLFFBQ0FILEVBQUFJLElBQUF2RixFQUFBc0UsRUFBQSxHQUFBOUYsRUFBQSxJQUFBZ0IsRUFBQSxpQkFFQTRGLFNBQUFJLEtBQUFDLFlBQUFOLEdBeVJBTyxDQUFBbEgsSUFKQWlELEVBQUFqRCxJQUFBLEVBUUEsU0FBQVksSUFDQWlDLEVBQUEsU0FDQSxJQUFBc0UsRUFBQWhDLEVBRUEsR0FEQUEsRUFBQSxLQUNBZ0MsRUFDQSxHQUFBcEcsRUFJQTBFLFFBQUFDLFVBQ0E1QyxLQUFBLFdBQ0EsT0FBQTZCLEVBQUE1RCxLQUVBK0IsS0FDQSxTQUFBc0UsR0FDQUQsRUFBQXpCLFFBQUEwQixJQUVBLFNBQUFwRSxHQUNBbUUsRUFBQXhCLE9BQUEzQyxTQUdJLENBQ0osSUFBQXFFLEVBQUEsR0FDQSxRQUFBL0IsS0FBQTdFLEVBQ0FKLE9BQUFDLFVBQUFDLGVBQUFDLEtBQUFDLEVBQUE2RSxJQUNBK0IsRUFBQXRGLEtBQUFzRCxFQUFBQyxJQUdBNkIsRUFBQXpCLFFBQUEyQixJQUlBLFNBQUExQyxFQUFBMkMsR0FDQSxhQUFBMUUsRUFDQSxVQUFBMkMsTUFBQSwyQ0FHQSxJQUFBZ0MsRUFDQXZELEVBQ0F3RCxFQUNBQyxFQUNBckgsRUFFQSxTQUFBc0gsRUFBQUMsR0FVQSxJQVRBLElBQUFOLEVBQUEsQ0FBQU0sR0FDQUMsRUFBQSxHQUVBQyxFQUFBUixFQUFBUyxRQUFBQyxJQUFBLFNBQUF6QyxHQUNBLE9BQ0EwQyxNQUFBLENBQUExQyxHQUNBQSxRQUdBdUMsRUFBQTVELE9BQUEsSUFDQSxJQUFBZ0UsRUFBQUosRUFBQUssTUFDQTlILEVBQUE2SCxFQUFBM0MsR0FDQTBDLEVBQUFDLEVBQUFELE1BRUEsSUFEQVAsRUFBQWxHLEVBQUFuQixNQUNBcUgsRUFBQTlGLElBQUE2QixjQUFBLENBQ0EsR0FBQWlFLEVBQUE5RixJQUFBOEIsY0FDQSxPQUNBMEUsS0FBQSxnQkFDQUgsUUFDQTVILFlBR0EsR0FBQXFILEVBQUE5RixJQUFBZ0MsTUFDQSxPQUNBd0UsS0FBQSxhQUNBSCxRQUNBNUgsWUFHQSxRQUFBNEQsRUFBQSxFQUFvQkEsRUFBQXlELEVBQUE1RixRQUFBb0MsT0FBMkJELElBQUEsQ0FDL0MsSUFBQW9FLEVBQUFYLEVBQUE1RixRQUFBbUMsR0FDQXFFLEVBQUE5RyxFQUFBNkcsR0FDQSxHQUFBQyxFQUFBLENBQ0EsR0FBQUEsRUFBQTFHLElBQUE0QixzQkFBQW5ELEdBQ0EsT0FDQStILEtBQUEsV0FDQUgsUUFBQU0sT0FBQSxDQUFBRixJQUNBaEksV0FDQWdJLGFBR0EsSUFBQWYsRUFBQXZGLFFBQUFzRyxLQUNBQyxFQUFBMUcsSUFBQTJCLHNCQUFBbEQsSUFDQXdILEVBQUFRLEtBQ0FSLEVBQUFRLEdBQUEsSUFDQUcsRUFBQVgsRUFBQVEsR0FBQSxDQUFBaEksYUFHQXdILEVBQUFRLEdBQ0FmLEVBQUF0RixLQUFBcUcsR0FDQVAsRUFBQTlGLEtBQUEsQ0FDQWlHLFFBQUFNLE9BQUEsQ0FBQUYsSUFDQTlDLEdBQUE4QyxTQUtBLE9BQ0FELEtBQUEsV0FDQS9ILFNBQUF1SCxFQUNBTixrQkFDQU8sd0JBSUEsU0FBQVcsRUFBQUMsRUFBQUMsR0FDQSxRQUFBekUsRUFBQSxFQUFtQkEsRUFBQXlFLEVBQUF4RSxPQUFjRCxJQUFBLENBQ2pDLElBQUEwRSxFQUFBRCxFQUFBekUsSUFDQSxJQUFBd0UsRUFBQTFHLFFBQUE0RyxJQUFBRixFQUFBekcsS0FBQTJHLElBN0VBcEIsS0FBQSxHQW1GQSxJQUFBTSxFQUFBLEdBQ0FQLEVBQUEsR0FDQXNCLEVBQUEsR0FFQUMsRUFBQSxXQUNBM0csUUFBQUMsS0FDQSw0QkFBQWtGLEVBQUFoSCxTQUFBLHlCQUlBLFFBQUFrRixLQUFBN0UsRUFDQSxHQUFBSixPQUFBQyxVQUFBQyxlQUFBQyxLQUFBQyxFQUFBNkUsR0FBQSxDQUdBLElBQUE4QixFQUZBaEgsRUFBQWlGLEVBQUFDLEdBWUEsSUFBQXVELEdBQUEsRUFDQUMsR0FBQSxFQUNBQyxHQUFBLEVBQ0FDLEVBQUEsR0FJQSxRQWZBNUIsRUFEQTNHLEVBQUE2RSxHQUNBb0MsRUFBQXRILEdBRUEsQ0FDQStILEtBQUEsV0FDQS9ILFNBQUFrRixJQVFBMEMsUUFDQWdCLEVBQUEseUJBQUE1QixFQUFBWSxNQUFBaUIsS0FBQSxTQUVBN0IsRUFBQWUsTUFDQSxvQkFDQWIsRUFBQTRCLFlBQUE1QixFQUFBNEIsV0FBQTlCLEdBQ0FFLEVBQUE2QixpQkFDQU4sRUFBQSxJQUFBdEQsTUFDQSxvQ0FDQTZCLEVBQUFoSCxTQUNBNEksSUFFQSxNQUNBLGVBQ0ExQixFQUFBNEIsWUFBQTVCLEVBQUE0QixXQUFBOUIsR0FDQUUsRUFBQTZCLGlCQUNBTixFQUFBLElBQUF0RCxNQUNBLDJDQUNBNkIsRUFBQWhILFNBQ0EsT0FDQWdILEVBQUFnQixTQUNBWSxJQUVBLE1BQ0EsaUJBQ0ExQixFQUFBOEIsY0FBQTlCLEVBQUE4QixhQUFBaEMsR0FDQUUsRUFBQStCLG1CQUNBUixFQUFBLElBQUF0RCxNQUNBLG1CQUFBbkYsRUFBQSxtQkFBQTRJLElBRUEsTUFDQSxlQUNBMUIsRUFBQWdDLFlBQUFoQyxFQUFBZ0MsV0FBQWxDLEdBQ0EwQixHQUFBLEVBQ0EsTUFDQSxlQUNBeEIsRUFBQWlDLFlBQUFqQyxFQUFBaUMsV0FBQW5DLEdBQ0EyQixHQUFBLEVBQ0EsTUFDQSxRQUNBLFVBQUF4RCxNQUFBLG9CQUFBNkIsRUFBQWUsTUFFQSxHQUFBVSxFQUVBLE9BREFoRyxFQUFBLFNBQ0E0QyxRQUFBRSxPQUFBa0QsR0FFQSxHQUFBQyxFQUdBLElBQUExSSxLQUZBdUksRUFBQXZJLEdBQUFLLEVBQUFMLEdBQ0FtSSxFQUFBbEIsRUFBQUQsRUFBQUMsaUJBQ0FELEVBQUFRLHFCQUVBdkgsT0FBQUMsVUFBQUMsZUFBQUMsS0FDQTRHLEVBQUFRLHFCQUNBeEgsS0FHQXdILEVBQUF4SCxLQUNBd0gsRUFBQXhILEdBQUEsSUFDQW1JLEVBQ0FYLEVBQUF4SCxHQUNBZ0gsRUFBQVEscUJBQUF4SCxLQUtBMkksSUFDQVIsRUFBQWxCLEVBQUEsQ0FBQUQsRUFBQWhILFdBQ0F1SSxFQUFBdkksR0FBQXdJLEdBTUEsSUFxQkF0RSxFQXJCQWtGLEVBQUEsR0FDQSxJQUFBeEYsRUFBQSxFQUFjQSxFQUFBcUQsRUFBQXBELE9BQTRCRCxJQUMxQzVELEVBQUFpSCxFQUFBckQsR0FFQXpDLEVBQUFuQixJQUNBbUIsRUFBQW5CLEdBQUF1QixJQUFBNkIsZUFFQWdHLEVBQUF6SCxLQUFBLENBQ0EwRixPQUFBckgsRUFDQXFKLGFBQUFsSSxFQUFBbkIsR0FBQXVCLElBQUE2QixnQkFLQVgsRUFBQSxXQUNBeEMsT0FBQXFKLEtBQUF4SixHQUFBeUosUUFBQSxTQUFBM0osSUFDQSxJQUFBRSxFQUFBRixJQXhoQkEsU0FBQUEsVUFDQTRKLGdCQUFBNUosR0F3aEJBNkosQ0FBQTdKLEtBTUEsSUFEQSxJQXFDQThKLEVBQ0FDLEVBdENBbEMsRUFBQVIsRUFBQVMsUUFDQUQsRUFBQTVELE9BQUEsR0FHQSxHQUZBN0QsRUFBQXlILEVBQUFLLE1BQ0FULEVBQUFsRyxFQUFBbkIsR0FDQSxDQUVBLElBQUE2RSxFQUFBLEdBR0ErRSxFQUFBdkMsRUFBQTlGLElBQUErQixpQkFDQSxJQUFBOEQsRUFBQSxFQUFlQSxFQUFBd0MsRUFBQS9GLE9BQTRCdUQsS0FDM0NELEVBQUF5QyxFQUFBeEMsSUFDQXZDLEdBY0EsSUFaQS9ELEVBQUFkLEdBQUE2RSxFQUdBd0MsRUFBQTlGLElBQUFDLFFBQUEsU0FHQUwsRUFBQW5CLFVBR0F3SCxFQUFBeEgsR0FHQW9ILEVBQUEsRUFBZUEsRUFBQUMsRUFBQXpGLFNBQUFpQyxPQUE0QnVELElBQUEsQ0FDM0MsSUFBQXlDLEVBQUExSSxFQUFBa0csRUFBQXpGLFNBQUF3RixJQUNBeUMsS0FDQTNGLEVBQUEyRixFQUFBcEksUUFBQUMsUUFBQTFCLEtBQ0EsR0FDQTZKLEVBQUFwSSxRQUFBMEMsT0FBQUQsRUFBQSxLQVFBLElBQUFsRSxLQUFBd0gsRUFDQSxHQUNBdkgsT0FBQUMsVUFBQUMsZUFBQUMsS0FBQW9ILEVBQUF4SCxLQUVBcUgsRUFBQWxHLEVBQUFuQixJQUdBLElBREEySixFQUFBbkMsRUFBQXhILEdBQ0FvSCxFQUFBLEVBQWlCQSxFQUFBdUMsRUFBQTlGLE9BQXVDdUQsSUFDeERzQyxFQUFBQyxFQUFBdkMsSUFDQWxELEVBQUFtRCxFQUFBekYsU0FBQUYsUUFBQWdJLEtBQ0EsR0FBQXJDLEVBQUF6RixTQUFBdUMsT0FBQUQsRUFBQSxHQVlBLElBQUFsRSxLQUxBeUMsRUFBQSxTQUVBN0IsRUFBQW9FLEVBR0F1RCxFQUNBdEksT0FBQUMsVUFBQUMsZUFBQUMsS0FBQW1JLEVBQUF2SSxLQUNBOEosRUFBQTlKLEdBQUF1SSxFQUFBdkksSUFLQSxJQUFBK0osRUFBQSxLQUNBLElBQUEvSixLQUFBd0gsRUFDQSxHQUNBdkgsT0FBQUMsVUFBQUMsZUFBQUMsS0FBQW9ILEVBQUF4SCxLQUVBcUgsRUFBQWxHLEVBQUFuQixJQUNBLENBQ0EySixFQUFBbkMsRUFBQXhILEdBQ0EsSUFBQWdLLEVBQUEsR0FDQSxJQUFBcEcsRUFBQSxFQUFpQkEsRUFBQStGLEVBQUE5RixPQUF1Q0QsSUFHeEQsR0FGQThGLEVBQUFDLEVBQUEvRixHQUNBdUQsRUFBQUUsRUFBQTlGLElBQUEyQixzQkFBQXdHLEdBQ0EsQ0FDQSxRQUFBTSxFQUFBdEksUUFBQXlGLEdBQUEsU0FDQTZDLEVBQUFySSxLQUFBd0YsR0FHQSxJQUFBdkQsRUFBQSxFQUFpQkEsRUFBQW9HLEVBQUFuRyxPQUFzQkQsSUFBQSxDQUN2Q3VELEVBQUE2QyxFQUFBcEcsR0FDQSxJQUNBdUQsRUFBQXdDLEdBQ1EsTUFBQS9HLEdBQ1JzRSxFQUFBK0MsV0FDQS9DLEVBQUErQyxVQUFBLENBQ0FsQyxLQUFBLGlCQUNBL0gsV0FDQWtLLGFBQUFQLEVBQUEvRixHQUNBbUcsTUFBQW5ILElBR0FzRSxFQUFBaUQsZUFDQUosTUFBQW5ILEtBU0EsSUFBQWdCLEVBQUEsRUFBY0EsRUFBQXdGLEVBQUF2RixPQUF3Q0QsSUFBQSxDQUN0RCxJQUFBMEUsRUFBQWMsRUFBQXhGLEdBQ0E1RCxFQUFBc0ksRUFBQWpCLE9BQ0F0RyxFQUFBLENBQUFmLEdBQ0EsSUFDQW9CLEVBQUFwQixHQUNLLE1BQUE0QyxHQUNMLHNCQUFBMEYsRUFBQWUsYUFDQSxJQUNBZixFQUFBZSxhQUFBekcsR0FDTyxNQUFBd0gsR0FDUGxELEVBQUErQyxXQUNBL0MsRUFBQStDLFVBQUEsQ0FDQWxDLEtBQUEsb0NBQ0EvSCxXQUNBK0osTUFBQUssRUFDQUMsY0FBQXpILElBR0FzRSxFQUFBaUQsZUFDQUosTUFBQUssR0FFQUwsTUFBQW5ILFFBR0FzRSxFQUFBK0MsV0FDQS9DLEVBQUErQyxVQUFBLENBQ0FsQyxLQUFBLHNCQUNBL0gsV0FDQStKLE1BQUFuSCxJQUdBc0UsRUFBQWlELGVBQ0FKLE1BQUFuSCxJQU9BLE9BQUFtSCxHQUNBdEgsRUFBQSxRQUNBNEMsUUFBQUUsT0FBQXdFLEtBR0F0SCxFQUFBLFFBQ0EsSUFBQTRDLFFBQUEsU0FBQUMsR0FDQUEsRUFBQTJCLE1BS0EsSUFBQTlGLEVBQUEsR0FHQSxTQUFBQyxFQUFBcEIsR0FHQSxHQUFBbUIsRUFBQW5CLEdBQ0EsT0FBQW1CLEVBQUFuQixHQUFBc0ssUUFHQSxJQUFBakQsRUFBQWxHLEVBQUFuQixHQUFBLENBQ0E0RCxFQUFBNUQsRUFDQXlFLEdBQUEsRUFDQTZGLFFBQUEsR0FDQS9JLElBQUEwQixFQUFBakQsR0FDQXlCLFNBQUFULEVBQUFELElBQUEsR0FBQUMsR0FDQVksU0FBQSxJQVVBLE9BTkFrSSxFQUFBOUosR0FBQUksS0FBQWlILEVBQUFpRCxRQUFBakQsSUFBQWlELFFBQUFySixFQUFBakIsSUFHQXFILEVBQUE1QyxHQUFBLEVBR0E0QyxFQUFBaUQsUUFLQWxKLEVBQUFtSixFQUFBVCxFQUdBMUksRUFBQWdGLEVBQUFqRixFQUdBQyxFQUFBb0osRUFBQSxTQUFBRixFQUFBdEksRUFBQXlJLEdBQ0FySixFQUFBc0osRUFBQUosRUFBQXRJLElBQ0EvQixPQUFBcUMsZUFBQWdJLEVBQUF0SSxFQUFBLENBQTBDRSxZQUFBLEVBQUFDLElBQUFzSSxLQUsxQ3JKLEVBQUF1SixFQUFBLFNBQUFMLEdBQ0Esb0JBQUFNLGVBQUFDLGFBQ0E1SyxPQUFBcUMsZUFBQWdJLEVBQUFNLE9BQUFDLFlBQUEsQ0FBd0R4SSxNQUFBLFdBRXhEcEMsT0FBQXFDLGVBQUFnSSxFQUFBLGNBQWlEakksT0FBQSxLQVFqRGpCLEVBQUEyQixFQUFBLFNBQUFWLEVBQUFXLEdBRUEsR0FEQSxFQUFBQSxJQUFBWCxFQUFBakIsRUFBQWlCLElBQ0EsRUFBQVcsRUFBQSxPQUFBWCxFQUNBLEtBQUFXLEdBQUEsaUJBQUFYLFFBQUF5SSxXQUFBLE9BQUF6SSxFQUNBLElBQUEwSSxFQUFBOUssT0FBQStLLE9BQUEsTUFHQSxHQUZBNUosRUFBQXVKLEVBQUFJLEdBQ0E5SyxPQUFBcUMsZUFBQXlJLEVBQUEsV0FBeUM3SSxZQUFBLEVBQUFHLFVBQ3pDLEVBQUFXLEdBQUEsaUJBQUFYLEVBQUEsUUFBQTRJLEtBQUE1SSxFQUFBakIsRUFBQW9KLEVBQUFPLEVBQUFFLEVBQUEsU0FBQUEsR0FBZ0gsT0FBQTVJLEVBQUE0SSxJQUFxQkMsS0FBQSxLQUFBRCxJQUNySSxPQUFBRixHQUlBM0osRUFBQStKLEVBQUEsU0FBQTlELEdBQ0EsSUFBQW9ELEVBQUFwRCxLQUFBeUQsV0FDQSxXQUEyQixPQUFBekQsRUFBQSxTQUMzQixXQUFpQyxPQUFBQSxHQUVqQyxPQURBakcsRUFBQW9KLEVBQUFDLEVBQUEsSUFBQUEsR0FDQUEsR0FJQXJKLEVBQUFzSixFQUFBLFNBQUFVLEVBQUFDLEdBQXNELE9BQUFwTCxPQUFBQyxVQUFBQyxlQUFBQyxLQUFBZ0wsRUFBQUMsSUFHdERqSyxFQUFBc0UsRUFBQSxHQUdBdEUsRUFBQWlGLEVBQUEsV0FBc0MsT0FBQXpGLEdBSXRDSyxFQUFBLEdBQUFBLENBQUFHLEVBQUFrSyxFQUFBLHNCQ3J4QkEsSUFBQUMsRUFBQUMsRUFBQUMsR0FBQSxTQUFBbEosR0FBYSxJQUFBNEksRUFBQSxVQUFBcEksRUFBQSxRQUFBNEgsRUFBQSxRQUFBdkMsRUFBQSwyQkFBQTFDLEVBQUEsV0FBQTJDLEVBQUEsNkJBQUE1RCxFQUFBLHFDQUE4SWlILEVBQUEsaUJBQUFKLEVBQUEsd0JBQUFLLEVBQUEsY0FBQXZGLEVBQUEsUUFBQUMsRUFBQSxjQUFBdUYsRUFBQSxnQ0FBQUMsRUFBQSx5QkFBMEosU0FBQXRCLEVBQUFoSSxFQUFBcUIsR0FBZ0IsT0FBQXJCLEVBQUF1SixLQUFBbEksR0FBaUIsU0FBQUEsRUFBQXJCLEdBQWMsSUFBQXFCLEVBQUFyQixJQUFBLG9CQUFBd0osb0JBQUFDLFVBQUEsSUFBQXRCLEVBQUE5RyxFQUFBcUksTUFBQSxjQUFtRixJQUFBdkIsRUFBQSxLQUFBOUcsRUFBQThHLEVBQUEsY0FBQUEsRUFBQTlHLEVBQUFxSSxNQUFBLGlCQUFBckksRUFBQThHLEVBQUEsSUFBcUUsSUFBQUYsRUFBQSxDQUFPMEIsTUFBQSxDQUFPQyxNQUFBNUIsRUFBQVksRUFBQXZILEtBQUEyRyxFQUFBbUIsRUFBQTlILEdBQUF3SSxLQUFBN0IsRUFBQXhILEVBQUFhLEdBQUF5SSxRQUFBOUIsRUFBQVksRUFBQXZILElBQUEyRyxFQUFBSSxFQUFBL0csS0FBQTJHLEVBQUFtQixFQUFBOUgsR0FBQTBJLFFBQUEvQixFQUFBWSxFQUFBdkgsSUFBQTJHLEVBQUF4SCxFQUFBYSxJQUFBMkcsRUFBQUksRUFBQS9HLE1BQUEyRyxFQUFBbUIsRUFBQTlILElBQTJHMkksT0FBQSxDQUFTSixNQUFBNUIsRUFBQWxDLEVBQUF6RSxHQUFBeUksUUFBQTlCLEVBQUFsQyxFQUFBekUsSUFBQTJHLEVBQUE5RixFQUFBYixHQUFBMEksT0FBQS9CLEVBQUFsQyxFQUFBekUsSUFBQTJHLEVBQUE5RixFQUFBYixJQUEwRDRJLFFBQUEsQ0FBVUwsT0FBQTVCLEVBQUFtQixFQUFBOUgsSUFBQTJHLEVBQUFsQyxFQUFBekUsS0FBQTJHLEVBQUFtQixFQUFBOUgsSUFBQTJHLEVBQUFuQyxFQUFBeEUsR0FBQXlJLFFBQUE5QixFQUFBbUIsRUFBQTlILEtBQUEyRyxFQUFBbEMsRUFBQXpFLEtBQUEyRyxFQUFBbkMsRUFBQXhFLEtBQUEyRyxFQUFBOUYsRUFBQWIsSUFBQTJHLEVBQUE3RSxFQUFBOUIsSUFBQTBJLFFBQUEvQixFQUFBbUIsRUFBQTlILEtBQUEyRyxFQUFBbEMsRUFBQXpFLElBQUEyRyxFQUFBOUYsRUFBQWIsSUFBQTJHLEVBQUFuQyxFQUFBeEUsSUFBQTJHLEVBQUE3RSxFQUFBOUIsS0FBQTJHLEVBQUEsY0FBQTNHLElBQStKNkksUUFBQSxDQUFVTixNQUFBNUIsRUFBQW1CLEVBQUE5SCxHQUFBeUksT0FBQTlCLEVBQUFlLEVBQUExSCxHQUFBMEksT0FBQS9CLEVBQUFtQixFQUFBOUgsSUFBQTJHLEVBQUFlLEVBQUExSCxJQUFpRDhJLE1BQUEsQ0FBUUMsV0FBQXBDLEVBQUFvQixFQUFBL0gsR0FBQWdKLGFBQUFyQyxFQUFBbkUsRUFBQXhDLEdBQUFpSixNQUFBdEMsRUFBQWxFLEVBQUF6QyxHQUFBa0osUUFBQXZDLEVBQUFzQixFQUFBakksR0FBQW1KLE9BQUF4QyxFQUFBcUIsRUFBQWhJLEdBQUEwSSxPQUFBL0IsRUFBQW9CLEVBQUEvSCxJQUFBMkcsRUFBQW5FLEVBQUF4QyxJQUFBMkcsRUFBQWxFLEVBQUF6QyxJQUFBMkcsRUFBQXNCLEVBQUFqSSxJQUFBMkcsRUFBQXFCLEVBQUFoSSxLQUFnSSxPQUFBNEcsRUFBQXdDLElBQUF4QyxFQUFBMEIsTUFBQUksUUFBQTlCLEVBQUFnQyxRQUFBRixRQUFBOUIsRUFBQWlDLFFBQUFILFFBQUE5QixFQUFBa0MsTUFBQUosT0FBQTlCLEVBQUEyQixNQUFBM0IsRUFBQTBCLE1BQUFDLE9BQUEzQixFQUFBZ0MsUUFBQUwsT0FBQTNCLEVBQUFpQyxRQUFBTixNQUFBM0IsRUFBQTZCLE9BQUE3QixFQUFBMEIsTUFBQUcsUUFBQTdCLEVBQUFnQyxRQUFBSCxRQUFBN0IsRUFBQWlDLFFBQUFKLE9BQUE3QixFQUFnT25ELEVBQUFpRCxTQUFBLG9CQUFBM0ssT0FBQTBILEVBQUFpRCxRQUFBMUcsRUFBd0Z5RCxFQUFBaUQsU0FBQSxvQkFBQTNLLFFBQUEwSCxFQUFBaUQsUUFBQTFHLElBQUF5RCxFQUFBaUQsUUFBQTJDLFNBQUFySixJQUFrSTRILEVBQU8sR0FBRUQsRUFBQ2hKLEVBQUEwSyxTQUFBckosU0FBY0QsS0FBQThILEVBQUEsbUJBQUFGLElBQUFqSCxNQUFBZ0csRUFBQWtCLEdBQUFELEtBQUFsRSxFQUFBaUQsUUFBQW1CLElBQXQvQyxDQUF1Z0R5QixxQkNBdmdELElBQUFDLEVBR0FBLEVBQUEsV0FDQSxPQUFBRCxLQURBLEdBSUEsSUFFQUMsS0FBQSxJQUFBQyxTQUFBLGlCQUNDLE1BQUE3SyxHQUVELGlCQUFBNUMsU0FBQXdOLEVBQUF4TixRQU9BMEgsRUFBQWlELFFBQUE2QyxnQ0NJQSxJQUFBRSxFQUFlak0sRUFBUSxJQUN2QmtNLEVBQVdsTSxFQUFRLElBU25CLFNBQUFtTSxJQUNBTCxLQUFBTSxTQUFBLEtBQ0FOLEtBQUFPLFFBQUEsS0FDQVAsS0FBQVEsS0FBQSxLQUNBUixLQUFBUyxLQUFBLEtBQ0FULEtBQUFVLEtBQUEsS0FDQVYsS0FBQVcsU0FBQSxLQUNBWCxLQUFBWSxLQUFBLEtBQ0FaLEtBQUFhLE9BQUEsS0FDQWIsS0FBQWMsTUFBQSxLQUNBZCxLQUFBZSxTQUFBLEtBQ0FmLEtBQUFnQixLQUFBLEtBQ0FoQixLQUFBaUIsS0FBQSxLQW5CQTdELEVBQUFwRSxNQUFBa0ksRUFDQTlELEVBQUFoRixRQTBaQSxTQUFBK0ksRUFBQUMsR0FDQSxPQUFBRixFQUFBQyxHQUFBLE1BQUEvSSxRQUFBZ0osSUExWkFoRSxFQUFBaUUsY0FpYUEsU0FBQUYsRUFBQUMsR0FDQSxPQUFBRCxFQUNBRCxFQUFBQyxHQUFBLE1BQUFFLGNBQUFELEdBREFBLEdBamFBaEUsRUFBQWtFLE9Bc1ZBLFNBQUFDLEdBS0FuQixFQUFBb0IsU0FBQUQsT0FBQUwsRUFBQUssSUFDQSxPQUFBQSxhQUFBbEIsRUFDQWtCLEVBQUFELFNBREFqQixFQUFBck4sVUFBQXNPLE9BQUFwTyxLQUFBcU8sSUExVkFuRSxFQUFBaUQsTUFxQkEsSUFBQW9CLEVBQUEsb0JBQ0FDLEVBQUEsV0FHQUMsRUFBQSxxQ0FPQUMsRUFBQSxLQUFnQixJQUFLLGtCQUFBNUcsT0FIckIsc0NBTUE2RyxFQUFBLE1BQUE3RyxPQUFBNEcsR0FLQUUsRUFBQSxpQkFBcUMsS0FBQTlHLE9BQUE2RyxHQUNyQ0UsRUFBQSxjQUVBQyxFQUFBLHlCQUNBQyxFQUFBLCtCQUVBQyxFQUFBLENBQ0FDLFlBQUEsRUFDQUMsZUFBQSxHQUdBQyxFQUFBLENBQ0FGLFlBQUEsRUFDQUMsZUFBQSxHQUdBRSxFQUFBLENBQ0FDLE1BQUEsRUFDQUMsT0FBQSxFQUNBQyxLQUFBLEVBQ0FDLFFBQUEsRUFDQUMsTUFBQSxFQUNBQyxTQUFBLEVBQ0FDLFVBQUEsRUFDQUMsUUFBQSxFQUNBQyxXQUFBLEVBQ0FDLFNBQUEsR0FFQUMsRUFBa0IvTyxFQUFRLElBRTFCLFNBQUFnTixFQUFBZ0MsRUFBQUMsRUFBQUMsR0FDQSxHQUFBRixHQUFBOUMsRUFBQWlELFNBQUFILGlCQUFBN0MsRUFBQSxPQUFBNkMsRUFFQSxJQUFBekUsRUFBQSxJQUFBNEIsRUFFQSxPQURBNUIsRUFBQXpGLE1BQUFrSyxFQUFBQyxFQUFBQyxHQUNBM0UsRUFHQTRCLEVBQUFyTixVQUFBZ0csTUFBQSxTQUFBa0ssRUFBQUMsRUFBQUMsR0FDQSxJQUFBaEQsRUFBQW9CLFNBQUEwQixHQUNBLFVBQUFJLFVBQUEsZ0RBQUFKLEdBTUEsSUFBQUssRUFBQUwsRUFBQTFPLFFBQUEsS0FDQWdQLEdBQ0EsSUFBQUQsS0FBQUwsRUFBQTFPLFFBQUEsYUFDQWlQLEVBQUFQLEVBQUFuRSxNQUFBeUUsR0FFQUMsRUFBQSxHQUFBQSxFQUFBLEdBQUFDLFFBREEsTUFDQSxLQUdBLElBQUFDLEVBRkFULEVBQUFPLEVBQUE5SCxLQUFBNkgsR0FRQSxHQUZBRyxJQUFBQyxRQUVBUixHQUFBLElBQUFGLEVBQUFuRSxNQUFBLEtBQUFwSSxPQUFBLENBRUEsSUFBQWtOLEVBQUFsQyxFQUFBbUMsS0FBQUgsR0FDQSxHQUFBRSxFQWVBLE9BZEE3RCxLQUFBZ0IsS0FBQTJDLEVBQ0EzRCxLQUFBaUIsS0FBQTBDLEVBQ0EzRCxLQUFBZSxTQUFBOEMsRUFBQSxHQUNBQSxFQUFBLElBQ0E3RCxLQUFBYSxPQUFBZ0QsRUFBQSxHQUVBN0QsS0FBQWMsTUFEQXFDLEVBQ0FGLEVBQUFqSyxNQUFBZ0gsS0FBQWEsT0FBQWtELE9BQUEsSUFFQS9ELEtBQUFhLE9BQUFrRCxPQUFBLElBRU9aLElBQ1BuRCxLQUFBYSxPQUFBLEdBQ0FiLEtBQUFjLE1BQUEsSUFFQWQsS0FJQSxJQUFBZ0UsRUFBQXZDLEVBQUFxQyxLQUFBSCxHQUNBLEdBQUFLLEVBQUEsQ0FFQSxJQUFBQyxHQURBRCxJQUFBLElBQ0FFLGNBQ0FsRSxLQUFBTSxTQUFBMkQsRUFDQU4sSUFBQUksT0FBQUMsRUFBQXJOLFFBT0EsR0FBQXlNLEdBQUFZLEdBQUFMLEVBQUFRLE1BQUEseUJBQ0EsSUFBQTVELEVBQUEsT0FBQW9ELEVBQUFJLE9BQUEsTUFDQXhELEdBQUF5RCxHQUFBM0IsRUFBQTJCLEtBQ0FMLElBQUFJLE9BQUEsR0FDQS9ELEtBQUFPLFNBQUEsR0FJQSxJQUFBOEIsRUFBQTJCLEtBQ0F6RCxHQUFBeUQsSUFBQTFCLEVBQUEwQixJQUFBLENBbUJBLElBREEsSUFTQXhELEVBQUE0RCxFQVRBQyxHQUFBLEVBQ0EzTixFQUFBLEVBQW1CQSxFQUFBcUwsRUFBQXBMLE9BQTRCRCxJQUFBLEVBRS9DLEtBREE0TixFQUFBWCxFQUFBblAsUUFBQXVOLEVBQUFyTCxRQUNBLElBQUEyTixHQUFBQyxFQUFBRCxLQUNBQSxFQUFBQyxJQWlCQSxLQVRBRixHQUZBLElBQUFDLEVBRUFWLEVBQUFZLFlBQUEsS0FJQVosRUFBQVksWUFBQSxJQUFBRixNQU1BN0QsRUFBQW1ELEVBQUFuSixNQUFBLEVBQUE0SixHQUNBVCxJQUFBbkosTUFBQTRKLEVBQUEsR0FDQXBFLEtBQUFRLEtBQUFnRSxtQkFBQWhFLElBSUE2RCxHQUFBLEVBQ0EsSUFBQTNOLEVBQUEsRUFBbUJBLEVBQUFvTCxFQUFBbkwsT0FBeUJELElBQUEsQ0FDNUMsSUFBQTROLEdBQ0EsS0FEQUEsRUFBQVgsRUFBQW5QLFFBQUFzTixFQUFBcEwsUUFDQSxJQUFBMk4sR0FBQUMsRUFBQUQsS0FDQUEsRUFBQUMsSUFHQSxJQUFBRCxJQUNBQSxFQUFBVixFQUFBaE4sUUFFQXFKLEtBQUFTLEtBQUFrRCxFQUFBbkosTUFBQSxFQUFBNkosR0FDQVYsSUFBQW5KLE1BQUE2SixHQUdBckUsS0FBQXlFLFlBSUF6RSxLQUFBVyxTQUFBWCxLQUFBVyxVQUFBLEdBSUEsSUFBQStELEVBQUEsTUFBQTFFLEtBQUFXLFNBQUEsSUFDQSxNQUFBWCxLQUFBVyxTQUFBWCxLQUFBVyxTQUFBaEssT0FBQSxHQUdBLElBQUErTixFQUVBLElBREEsSUFBQUMsRUFBQTNFLEtBQUFXLFNBQUE1QixNQUFBLE1BQ0F4SCxHQUFBYixFQUFBLEVBQUFpTyxFQUFBaE8sUUFBMkNELEVBQUFhLEVBQU9iLElBQUEsQ0FDbEQsSUFBQWtPLEVBQUFELEVBQUFqTyxHQUNBLEdBQUFrTyxJQUNBQSxFQUFBVCxNQUFBbkMsR0FBQSxDQUVBLElBREEsSUFBQTZDLEVBQUEsR0FDQTNLLEVBQUEsRUFBQTRLLEVBQUFGLEVBQUFqTyxPQUEwQ3VELEVBQUE0SyxFQUFPNUssSUFDakQwSyxFQUFBRyxXQUFBN0ssR0FBQSxJQUlBMkssR0FBQSxJQUVBQSxHQUFBRCxFQUFBMUssR0FJQSxJQUFBMkssRUFBQVYsTUFBQW5DLEdBQUEsQ0FDQSxJQUFBZ0QsRUFBQUwsRUFBQW5LLE1BQUEsRUFBQTlELEdBQ0F1TyxFQUFBTixFQUFBbkssTUFBQTlELEVBQUEsR0FDQXdPLEVBQUFOLEVBQUFULE1BQUFsQyxHQUNBaUQsSUFDQUYsRUFBQXZRLEtBQUF5USxFQUFBLElBQ0FELEVBQUFFLFFBQUFELEVBQUEsS0FFQUQsRUFBQXRPLFNBQ0FnTixFQUFBLElBQUFzQixFQUFBdEosS0FBQSxLQUFBZ0ksR0FFQTNELEtBQUFXLFNBQUFxRSxFQUFBckosS0FBQSxLQUNBLFFBTUFxRSxLQUFBVyxTQUFBaEssT0FqTkEsSUFrTkFxSixLQUFBVyxTQUFBLEdBR0FYLEtBQUFXLFNBQUFYLEtBQUFXLFNBQUF1RCxjQUdBUSxJQUtBMUUsS0FBQVcsU0FBQVIsRUFBQWlGLFFBQUFwRixLQUFBVyxXQUdBLElBQUFuSSxFQUFBd0gsS0FBQVUsS0FBQSxJQUFBVixLQUFBVSxLQUFBLEdBQ0F2SCxFQUFBNkcsS0FBQVcsVUFBQSxHQUNBWCxLQUFBUyxLQUFBdEgsRUFBQVgsRUFDQXdILEtBQUFpQixNQUFBakIsS0FBQVMsS0FJQWlFLElBQ0ExRSxLQUFBVyxTQUFBWCxLQUFBVyxTQUFBb0QsT0FBQSxFQUFBL0QsS0FBQVcsU0FBQWhLLE9BQUEsR0FDQSxNQUFBZ04sRUFBQSxLQUNBQSxFQUFBLElBQUFBLElBT0EsSUFBQXpCLEVBQUErQixHQUtBLElBQUF2TixFQUFBLEVBQUFhLEVBQUFzSyxFQUFBbEwsT0FBMENELEVBQUFhLEVBQU9iLElBQUEsQ0FDakQsSUFBQTJPLEVBQUF4RCxFQUFBbkwsR0FDQSxRQUFBaU4sRUFBQW5QLFFBQUE2USxHQUFBLENBRUEsSUFBQUMsRUFBQUMsbUJBQUFGLEdBQ0FDLElBQUFELElBQ0FDLEVBQUFFLE9BQUFILElBRUExQixJQUFBNUUsTUFBQXNHLEdBQUExSixLQUFBMkosSUFNQSxJQUFBMUUsRUFBQStDLEVBQUFuUCxRQUFBLE1BQ0EsSUFBQW9NLElBRUFaLEtBQUFZLEtBQUErQyxFQUFBSSxPQUFBbkQsR0FDQStDLElBQUFuSixNQUFBLEVBQUFvRyxJQUVBLElBQUE2RSxFQUFBOUIsRUFBQW5QLFFBQUEsS0FvQkEsSUFuQkEsSUFBQWlSLEdBQ0F6RixLQUFBYSxPQUFBOEMsRUFBQUksT0FBQTBCLEdBQ0F6RixLQUFBYyxNQUFBNkMsRUFBQUksT0FBQTBCLEVBQUEsR0FDQXRDLElBQ0FuRCxLQUFBYyxNQUFBbUMsRUFBQWpLLE1BQUFnSCxLQUFBYyxRQUVBNkMsSUFBQW5KLE1BQUEsRUFBQWlMLElBQ0d0QyxJQUVIbkQsS0FBQWEsT0FBQSxHQUNBYixLQUFBYyxNQUFBLElBRUE2QyxJQUFBM0QsS0FBQWUsU0FBQTRDLEdBQ0FyQixFQUFBMkIsSUFDQWpFLEtBQUFXLFdBQUFYLEtBQUFlLFdBQ0FmLEtBQUFlLFNBQUEsS0FJQWYsS0FBQWUsVUFBQWYsS0FBQWEsT0FBQSxDQUNBckksRUFBQXdILEtBQUFlLFVBQUEsT0FDQTNDLEVBQUE0QixLQUFBYSxRQUFBLEdBQ0FiLEtBQUFnQixLQUFBeEksRUFBQTRGLEVBS0EsT0FEQTRCLEtBQUFpQixLQUFBakIsS0FBQXNCLFNBQ0F0QixNQWNBSyxFQUFBck4sVUFBQXNPLE9BQUEsV0FDQSxJQUFBZCxFQUFBUixLQUFBUSxNQUFBLEdBQ0FBLElBRUFBLEdBREFBLEVBQUErRSxtQkFBQS9FLElBQ0FrRCxRQUFBLFlBQ0FsRCxHQUFBLEtBR0EsSUFBQUYsRUFBQU4sS0FBQU0sVUFBQSxHQUNBUyxFQUFBZixLQUFBZSxVQUFBLEdBQ0FILEVBQUFaLEtBQUFZLE1BQUEsR0FDQUgsR0FBQSxFQUNBSyxFQUFBLEdBRUFkLEtBQUFTLEtBQ0FBLEVBQUFELEVBQUFSLEtBQUFTLEtBQ0dULEtBQUFXLFdBQ0hGLEVBQUFELElBQUEsSUFBQVIsS0FBQVcsU0FBQW5NLFFBQUEsS0FDQXdMLEtBQUFXLFNBQ0EsSUFBQVgsS0FBQVcsU0FBQSxLQUNBWCxLQUFBVSxPQUNBRCxHQUFBLElBQUFULEtBQUFVLE9BSUFWLEtBQUFjLE9BQ0FWLEVBQUFpRCxTQUFBckQsS0FBQWMsUUFDQS9OLE9BQUFxSixLQUFBNEQsS0FBQWMsT0FBQW5LLFNBQ0FtSyxFQUFBbUMsRUFBQXlDLFVBQUExRixLQUFBYyxRQUdBLElBQUFELEVBQUFiLEtBQUFhLFFBQUFDLEdBQUEsSUFBQUEsR0FBQSxHQXNCQSxPQXBCQVIsR0FBQSxNQUFBQSxFQUFBeUQsUUFBQSxLQUFBekQsR0FBQSxLQUlBTixLQUFBTyxXQUNBRCxHQUFBZ0MsRUFBQWhDLE1BQUEsSUFBQUcsR0FDQUEsRUFBQSxNQUFBQSxHQUFBLElBQ0FNLEdBQUEsTUFBQUEsRUFBQTRFLE9BQUEsS0FBQTVFLEVBQUEsSUFBQUEsSUFDR04sSUFDSEEsRUFBQSxJQUdBRyxHQUFBLE1BQUFBLEVBQUErRSxPQUFBLEtBQUEvRSxFQUFBLElBQUFBLEdBQ0FDLEdBQUEsTUFBQUEsRUFBQThFLE9BQUEsS0FBQTlFLEVBQUEsSUFBQUEsR0FPQVAsRUFBQUcsR0FMQU0sSUFBQTJDLFFBQUEsaUJBQUFTLEdBQ0EsT0FBQW9CLG1CQUFBcEIsT0FFQXRELElBQUE2QyxRQUFBLFlBRUE5QyxHQU9BUCxFQUFBck4sVUFBQW9GLFFBQUEsU0FBQWdKLEdBQ0EsT0FBQXBCLEtBQUFxQixjQUFBSCxFQUFBRSxHQUFBLE9BQUFFLFVBUUFqQixFQUFBck4sVUFBQXFPLGNBQUEsU0FBQUQsR0FDQSxHQUFBaEIsRUFBQW9CLFNBQUFKLEdBQUEsQ0FDQSxJQUFBd0UsRUFBQSxJQUFBdkYsRUFDQXVGLEVBQUE1TSxNQUFBb0ksR0FBQSxNQUNBQSxFQUFBd0UsRUFLQSxJQUZBLElBQUE5TCxFQUFBLElBQUF1RyxFQUNBd0YsRUFBQTlTLE9BQUFxSixLQUFBNEQsTUFDQThGLEVBQUEsRUFBa0JBLEVBQUFELEVBQUFsUCxPQUFtQm1QLElBQUEsQ0FDckMsSUFBQUMsRUFBQUYsRUFBQUMsR0FDQWhNLEVBQUFpTSxHQUFBL0YsS0FBQStGLEdBUUEsR0FIQWpNLEVBQUE4RyxLQUFBUSxFQUFBUixLQUdBLEtBQUFRLEVBQUFILEtBRUEsT0FEQW5ILEVBQUFtSCxLQUFBbkgsRUFBQXdILFNBQ0F4SCxFQUlBLEdBQUFzSCxFQUFBYixVQUFBYSxFQUFBZCxTQUFBLENBR0EsSUFEQSxJQUFBMEYsRUFBQWpULE9BQUFxSixLQUFBZ0YsR0FDQTZFLEVBQUEsRUFBb0JBLEVBQUFELEVBQUFyUCxPQUFtQnNQLElBQUEsQ0FDdkMsSUFBQUMsRUFBQUYsRUFBQUMsR0FDQSxhQUFBQyxJQUNBcE0sRUFBQW9NLEdBQUE5RSxFQUFBOEUsSUFVQSxPQU5BNUQsRUFBQXhJLEVBQUF3RyxXQUNBeEcsRUFBQTZHLFdBQUE3RyxFQUFBaUgsV0FDQWpILEVBQUFrSCxLQUFBbEgsRUFBQWlILFNBQUEsS0FHQWpILEVBQUFtSCxLQUFBbkgsRUFBQXdILFNBQ0F4SCxFQUdBLEdBQUFzSCxFQUFBZCxVQUFBYyxFQUFBZCxXQUFBeEcsRUFBQXdHLFNBQUEsQ0FTQSxJQUFBZ0MsRUFBQWxCLEVBQUFkLFVBQUEsQ0FFQSxJQURBLElBQUFsRSxFQUFBckosT0FBQXFKLEtBQUFnRixHQUNBMUMsRUFBQSxFQUFxQkEsRUFBQXRDLEVBQUF6RixPQUFpQitILElBQUEsQ0FDdEMsSUFBQW9HLEVBQUExSSxFQUFBc0MsR0FDQTVFLEVBQUFnTCxHQUFBMUQsRUFBQTBELEdBR0EsT0FEQWhMLEVBQUFtSCxLQUFBbkgsRUFBQXdILFNBQ0F4SCxFQUlBLEdBREFBLEVBQUF3RyxTQUFBYyxFQUFBZCxTQUNBYyxFQUFBWCxNQUFBNEIsRUFBQWpCLEVBQUFkLFVBU0F4RyxFQUFBaUgsU0FBQUssRUFBQUwsYUFUQSxDQUVBLElBREEsSUFBQW9GLEdBQUEvRSxFQUFBTCxVQUFBLElBQUFoQyxNQUFBLEtBQ0FvSCxFQUFBeFAsVUFBQXlLLEVBQUFYLEtBQUEwRixFQUFBQyxXQUNBaEYsRUFBQVgsT0FBQVcsRUFBQVgsS0FBQSxJQUNBVyxFQUFBVCxXQUFBUyxFQUFBVCxTQUFBLElBQ0EsS0FBQXdGLEVBQUEsSUFBQUEsRUFBQWhCLFFBQUEsSUFDQWdCLEVBQUF4UCxPQUFBLEdBQUF3UCxFQUFBaEIsUUFBQSxJQUNBckwsRUFBQWlILFNBQUFvRixFQUFBeEssS0FBQSxLQVdBLEdBUEE3QixFQUFBK0csT0FBQU8sRUFBQVAsT0FDQS9HLEVBQUFnSCxNQUFBTSxFQUFBTixNQUNBaEgsRUFBQTJHLEtBQUFXLEVBQUFYLE1BQUEsR0FDQTNHLEVBQUEwRyxLQUFBWSxFQUFBWixLQUNBMUcsRUFBQTZHLFNBQUFTLEVBQUFULFVBQUFTLEVBQUFYLEtBQ0EzRyxFQUFBNEcsS0FBQVUsRUFBQVYsS0FFQTVHLEVBQUFpSCxVQUFBakgsRUFBQStHLE9BQUEsQ0FDQSxJQUFBckksRUFBQXNCLEVBQUFpSCxVQUFBLEdBQ0EzQyxFQUFBdEUsRUFBQStHLFFBQUEsR0FDQS9HLEVBQUFrSCxLQUFBeEksRUFBQTRGLEVBSUEsT0FGQXRFLEVBQUF5RyxRQUFBekcsRUFBQXlHLFNBQUFhLEVBQUFiLFFBQ0F6RyxFQUFBbUgsS0FBQW5ILEVBQUF3SCxTQUNBeEgsRUFHQSxJQUFBdU0sRUFBQXZNLEVBQUFpSCxVQUFBLE1BQUFqSCxFQUFBaUgsU0FBQTRFLE9BQUEsR0FDQVcsRUFDQWxGLEVBQUFYLE1BQ0FXLEVBQUFMLFVBQUEsTUFBQUssRUFBQUwsU0FBQTRFLE9BQUEsR0FFQVksRUFBQUQsR0FBQUQsR0FDQXZNLEVBQUEyRyxNQUFBVyxFQUFBTCxTQUNBeUYsRUFBQUQsRUFDQUUsRUFBQTNNLEVBQUFpSCxVQUFBakgsRUFBQWlILFNBQUFoQyxNQUFBLFNBRUEySCxHQURBUCxFQUFBL0UsRUFBQUwsVUFBQUssRUFBQUwsU0FBQWhDLE1BQUEsU0FDQWpGLEVBQUF3RyxXQUFBZ0MsRUFBQXhJLEVBQUF3RyxXQTJCQSxHQXBCQW9HLElBQ0E1TSxFQUFBNkcsU0FBQSxHQUNBN0csRUFBQTRHLEtBQUEsS0FDQTVHLEVBQUEyRyxPQUNBLEtBQUFnRyxFQUFBLEdBQUFBLEVBQUEsR0FBQTNNLEVBQUEyRyxLQUNBZ0csRUFBQXRCLFFBQUFyTCxFQUFBMkcsT0FFQTNHLEVBQUEyRyxLQUFBLEdBQ0FXLEVBQUFkLFdBQ0FjLEVBQUFULFNBQUEsS0FDQVMsRUFBQVYsS0FBQSxLQUNBVSxFQUFBWCxPQUNBLEtBQUEwRixFQUFBLEdBQUFBLEVBQUEsR0FBQS9FLEVBQUFYLEtBQ0EwRixFQUFBaEIsUUFBQS9ELEVBQUFYLE9BRUFXLEVBQUFYLEtBQUEsTUFFQThGLE1BQUEsS0FBQUosRUFBQSxTQUFBTSxFQUFBLEtBR0FILEVBRUF4TSxFQUFBMkcsS0FBQVcsRUFBQVgsTUFBQSxLQUFBVyxFQUFBWCxLQUNBVyxFQUFBWCxLQUFBM0csRUFBQTJHLEtBQ0EzRyxFQUFBNkcsU0FBQVMsRUFBQVQsVUFBQSxLQUFBUyxFQUFBVCxTQUNBUyxFQUFBVCxTQUFBN0csRUFBQTZHLFNBQ0E3RyxFQUFBK0csT0FBQU8sRUFBQVAsT0FDQS9HLEVBQUFnSCxNQUFBTSxFQUFBTixNQUNBMkYsRUFBQU4sT0FFRyxHQUFBQSxFQUFBeFAsT0FHSDhQLE1BQUEsSUFDQUEsRUFBQTdMLE1BQ0E2TCxJQUFBekwsT0FBQW1MLEdBQ0FyTSxFQUFBK0csT0FBQU8sRUFBQVAsT0FDQS9HLEVBQUFnSCxNQUFBTSxFQUFBTixXQUNHLElBQUFWLEVBQUF1RyxrQkFBQXZGLEVBQUFQLFFBQUEsQ0FJSCxHQUFBNkYsRUFDQTVNLEVBQUE2RyxTQUFBN0csRUFBQTJHLEtBQUFnRyxFQUFBTCxTQUlBUSxLQUFBOU0sRUFBQTJHLE1BQUEzRyxFQUFBMkcsS0FBQWpNLFFBQUEsU0FDQXNGLEVBQUEyRyxLQUFBMUIsTUFBQSxRQUVBakYsRUFBQTBHLEtBQUFvRyxFQUFBUixRQUNBdE0sRUFBQTJHLEtBQUEzRyxFQUFBNkcsU0FBQWlHLEVBQUFSLFNBV0EsT0FSQXRNLEVBQUErRyxPQUFBTyxFQUFBUCxPQUNBL0csRUFBQWdILE1BQUFNLEVBQUFOLE1BRUFWLEVBQUF5RyxPQUFBL00sRUFBQWlILFdBQUFYLEVBQUF5RyxPQUFBL00sRUFBQStHLFVBQ0EvRyxFQUFBa0gsTUFBQWxILEVBQUFpSCxTQUFBakgsRUFBQWlILFNBQUEsS0FDQWpILEVBQUErRyxPQUFBL0csRUFBQStHLE9BQUEsS0FFQS9HLEVBQUFtSCxLQUFBbkgsRUFBQXdILFNBQ0F4SCxFQUdBLElBQUEyTSxFQUFBOVAsT0FXQSxPQVJBbUQsRUFBQWlILFNBQUEsS0FFQWpILEVBQUErRyxPQUNBL0csRUFBQWtILEtBQUEsSUFBQWxILEVBQUErRyxPQUVBL0csRUFBQWtILEtBQUEsS0FFQWxILEVBQUFtSCxLQUFBbkgsRUFBQXdILFNBQ0F4SCxFQWNBLElBUkEsSUFBQWdOLEVBQUFMLEVBQUFqTSxPQUFBLE1BQ0F1TSxHQUNBak4sRUFBQTJHLE1BQUFXLEVBQUFYLE1BQUFnRyxFQUFBOVAsT0FBQSxLQUNBLE1BQUFtUSxHQUFBLE9BQUFBLElBQUEsS0FBQUEsRUFJQUUsRUFBQSxFQUNBdFEsRUFBQStQLEVBQUE5UCxPQUE4QkQsR0FBQSxFQUFRQSxJQUV0QyxPQURBb1EsRUFBQUwsRUFBQS9QLElBRUErUCxFQUFBeFAsT0FBQVAsRUFBQSxHQUNLLE9BQUFvUSxHQUNMTCxFQUFBeFAsT0FBQVAsRUFBQSxHQUNBc1EsS0FDS0EsSUFDTFAsRUFBQXhQLE9BQUFQLEVBQUEsR0FDQXNRLEtBS0EsSUFBQVQsSUFBQUMsRUFDQSxLQUFVUSxJQUFNQSxFQUNoQlAsRUFBQXRCLFFBQUEsT0FJQW9CLEdBQUEsS0FBQUUsRUFBQSxJQUNBQSxFQUFBLFVBQUFBLEVBQUEsR0FBQWQsT0FBQSxJQUNBYyxFQUFBdEIsUUFBQSxJQUdBNEIsR0FBQSxNQUFBTixFQUFBOUssS0FBQSxLQUFBb0ksUUFBQSxJQUNBMEMsRUFBQWhTLEtBQUEsSUFHQSxJQVVBbVMsRUFWQUssRUFBQSxLQUFBUixFQUFBLElBQ0FBLEVBQUEsVUFBQUEsRUFBQSxHQUFBZCxPQUFBLEdBR0FlLElBQ0E1TSxFQUFBNkcsU0FBQTdHLEVBQUEyRyxLQUFBd0csRUFBQSxHQUNBUixFQUFBOVAsT0FBQThQLEVBQUFMLFFBQUEsSUFJQVEsS0FBQTlNLEVBQUEyRyxNQUFBM0csRUFBQTJHLEtBQUFqTSxRQUFBLFNBQ0FzRixFQUFBMkcsS0FBQTFCLE1BQUEsUUFFQWpGLEVBQUEwRyxLQUFBb0csRUFBQVIsUUFDQXRNLEVBQUEyRyxLQUFBM0csRUFBQTZHLFNBQUFpRyxFQUFBUixVQXlCQSxPQXJCQUcsS0FBQXpNLEVBQUEyRyxNQUFBZ0csRUFBQTlQLFVBRUFzUSxHQUNBUixFQUFBdEIsUUFBQSxJQUdBc0IsRUFBQTlQLE9BSUFtRCxFQUFBaUgsU0FBQTBGLEVBQUE5SyxLQUFBLE1BSEE3QixFQUFBaUgsU0FBQSxLQUNBakgsRUFBQWtILEtBQUEsTUFNQVosRUFBQXlHLE9BQUEvTSxFQUFBaUgsV0FBQVgsRUFBQXlHLE9BQUEvTSxFQUFBK0csVUFDQS9HLEVBQUFrSCxNQUFBbEgsRUFBQWlILFNBQUFqSCxFQUFBaUgsU0FBQSxLQUNBakgsRUFBQStHLE9BQUEvRyxFQUFBK0csT0FBQSxLQUVBL0csRUFBQTBHLEtBQUFZLEVBQUFaLE1BQUExRyxFQUFBMEcsS0FDQTFHLEVBQUF5RyxRQUFBekcsRUFBQXlHLFNBQUFhLEVBQUFiLFFBQ0F6RyxFQUFBbUgsS0FBQW5ILEVBQUF3SCxTQUNBeEgsR0FHQXVHLEVBQUFyTixVQUFBeVIsVUFBQSxXQUNBLElBQUFoRSxFQUFBVCxLQUFBUyxLQUNBQyxFQUFBZ0IsRUFBQW9DLEtBQUFyRCxHQUNBQyxJQUVBLE9BREFBLElBQUEsTUFFQVYsS0FBQVUsT0FBQXFELE9BQUEsSUFFQXRELElBQUFzRCxPQUFBLEVBQUF0RCxFQUFBOUosT0FBQStKLEVBQUEvSixTQUVBOEosSUFBQVQsS0FBQVcsU0FBQUYsa0NDbnRCQSxJQUFNeUcsRUFBU0MsRUFBUSxJQUFZRCxPQUM3QkUsRUFBV0QsRUFBUSxJQUFjQyxTQUNqQ0MsRUFBUUYsRUFBUSxHQUNoQkcsRUFBTUgsRUFBUSxJQVFwQkQsRUFBT0UsU0FBV0EsRUFRbEJGLEVBQU9HLE1BQVFBLEVBUWZILEVBQU9LLGFBQWVELEVBV3RCSixFQUFPTSxPQUFTRixFQUdoQm5OLEVBQU9pRCxRQUFVOEosRUFHakIvTSxFQUFPaUQsUUFBUThKLE9BQVNBLEVBQ3hCL00sRUFBT2lELFFBQVFxSyxRQUFVUCxrRENsRHpCLElBQUFRLEVBQUEzVSxPQUFBQyxVQUFBQyxlQUNBMFUsRUFBQSxJQVNBLFNBQUFDLEtBNEJBLFNBQUFDLEVBQUExVCxFQUFBMlQsRUFBQUMsR0FDQS9ILEtBQUE3TCxLQUNBNkwsS0FBQThILFVBQ0E5SCxLQUFBK0gsU0FBQSxFQWNBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUEvVCxFQUFBMlQsRUFBQUMsR0FDQSxzQkFBQTVULEVBQ0EsVUFBQW1QLFVBQUEsbUNBR0EsSUFBQTZFLEVBQUEsSUFBQU4sRUFBQTFULEVBQUEyVCxHQUFBRyxFQUFBRixHQUNBSyxFQUFBVCxJQUFBTyxJQU1BLE9BSkFELEVBQUFJLFFBQUFELEdBQ0FILEVBQUFJLFFBQUFELEdBQUFqVSxHQUNBOFQsRUFBQUksUUFBQUQsR0FBQSxDQUFBSCxFQUFBSSxRQUFBRCxHQUFBRCxHQURBRixFQUFBSSxRQUFBRCxHQUFBM1QsS0FBQTBULElBREFGLEVBQUFJLFFBQUFELEdBQUFELEVBQUFGLEVBQUFLLGdCQUlBTCxFQVVBLFNBQUFNLEVBQUFOLEVBQUFHLEdBQ0EsS0FBQUgsRUFBQUssYUFBQUwsRUFBQUksUUFBQSxJQUFBVCxTQUNBSyxFQUFBSSxRQUFBRCxHQVVBLFNBQUFJLElBQ0F4SSxLQUFBcUksUUFBQSxJQUFBVCxFQUNBNUgsS0FBQXNJLGFBQUEsRUF4RUF2VixPQUFBK0ssU0FDQThKLEVBQUE1VSxVQUFBRCxPQUFBK0ssT0FBQSxPQU1BLElBQUE4SixHQUFBYSxZQUFBZCxHQUFBLElBMkVBYSxFQUFBeFYsVUFBQTBWLFdBQUEsV0FDQSxJQUNBQyxFQUNBN1QsRUFGQThULEVBQUEsR0FJQSxPQUFBNUksS0FBQXNJLGFBQUEsT0FBQU0sRUFFQSxJQUFBOVQsS0FBQTZULEVBQUEzSSxLQUFBcUksUUFDQVgsRUFBQXhVLEtBQUF5VixFQUFBN1QsSUFBQThULEVBQUFuVSxLQUFBa1QsRUFBQTdTLEVBQUEwRixNQUFBLEdBQUExRixHQUdBLE9BQUEvQixPQUFBOFYsc0JBQ0FELEVBQUE1TixPQUFBakksT0FBQThWLHNCQUFBRixJQUdBQyxHQVVBSixFQUFBeFYsVUFBQThWLFVBQUEsU0FBQVosR0FDQSxJQUFBRSxFQUFBVCxJQUFBTyxJQUNBYSxFQUFBL0ksS0FBQXFJLFFBQUFELEdBRUEsSUFBQVcsRUFBQSxTQUNBLEdBQUFBLEVBQUE1VSxHQUFBLE9BQUE0VSxFQUFBNVUsSUFFQSxRQUFBdUMsRUFBQSxFQUFBYSxFQUFBd1IsRUFBQXBTLE9BQUFxUyxFQUFBLElBQUFDLE1BQUExUixHQUF5RGIsRUFBQWEsRUFBT2IsSUFDaEVzUyxFQUFBdFMsR0FBQXFTLEVBQUFyUyxHQUFBdkMsR0FHQSxPQUFBNlUsR0FVQVIsRUFBQXhWLFVBQUFrVyxjQUFBLFNBQUFoQixHQUNBLElBQUFFLEVBQUFULElBQUFPLElBQ0FZLEVBQUE5SSxLQUFBcUksUUFBQUQsR0FFQSxPQUFBVSxFQUNBQSxFQUFBM1UsR0FBQSxFQUNBMlUsRUFBQW5TLE9BRkEsR0FZQTZSLEVBQUF4VixVQUFBbVcsS0FBQSxTQUFBakIsRUFBQWtCLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsSUFBQXBCLEVBQUFULElBQUFPLElBRUEsSUFBQWxJLEtBQUFxSSxRQUFBRCxHQUFBLFNBRUEsSUFFQXFCLEVBQ0EvUyxFQUhBb1MsRUFBQTlJLEtBQUFxSSxRQUFBRCxHQUNBc0IsRUFBQUMsVUFBQWhULE9BSUEsR0FBQW1TLEVBQUEzVSxHQUFBLENBR0EsT0FGQTJVLEVBQUFmLE1BQUEvSCxLQUFBNEosZUFBQTFCLEVBQUFZLEVBQUEzVSxRQUFBc0MsR0FBQSxHQUVBaVQsR0FDQSxjQUFBWixFQUFBM1UsR0FBQWpCLEtBQUE0VixFQUFBaEIsVUFBQSxFQUNBLGNBQUFnQixFQUFBM1UsR0FBQWpCLEtBQUE0VixFQUFBaEIsUUFBQXNCLElBQUEsRUFDQSxjQUFBTixFQUFBM1UsR0FBQWpCLEtBQUE0VixFQUFBaEIsUUFBQXNCLEVBQUFDLElBQUEsRUFDQSxjQUFBUCxFQUFBM1UsR0FBQWpCLEtBQUE0VixFQUFBaEIsUUFBQXNCLEVBQUFDLEVBQUFDLElBQUEsRUFDQSxjQUFBUixFQUFBM1UsR0FBQWpCLEtBQUE0VixFQUFBaEIsUUFBQXNCLEVBQUFDLEVBQUFDLEVBQUFDLElBQUEsRUFDQSxjQUFBVCxFQUFBM1UsR0FBQWpCLEtBQUE0VixFQUFBaEIsUUFBQXNCLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLElBQUEsRUFHQSxJQUFBOVMsRUFBQSxFQUFBK1MsRUFBQSxJQUFBUixNQUFBUyxFQUFBLEdBQXlDaFQsRUFBQWdULEVBQVNoVCxJQUNsRCtTLEVBQUEvUyxFQUFBLEdBQUFpVCxVQUFBalQsR0FHQW9TLEVBQUEzVSxHQUFBaUQsTUFBQTBSLEVBQUFoQixRQUFBMkIsT0FDRyxDQUNILElBQ0F2UCxFQURBdkQsRUFBQW1TLEVBQUFuUyxPQUdBLElBQUFELEVBQUEsRUFBZUEsRUFBQUMsRUFBWUQsSUFHM0IsT0FGQW9TLEVBQUFwUyxHQUFBcVIsTUFBQS9ILEtBQUE0SixlQUFBMUIsRUFBQVksRUFBQXBTLEdBQUF2QyxRQUFBc0MsR0FBQSxHQUVBaVQsR0FDQSxPQUFBWixFQUFBcFMsR0FBQXZDLEdBQUFqQixLQUFBNFYsRUFBQXBTLEdBQUFvUixTQUEyRCxNQUMzRCxPQUFBZ0IsRUFBQXBTLEdBQUF2QyxHQUFBakIsS0FBQTRWLEVBQUFwUyxHQUFBb1IsUUFBQXNCLEdBQStELE1BQy9ELE9BQUFOLEVBQUFwUyxHQUFBdkMsR0FBQWpCLEtBQUE0VixFQUFBcFMsR0FBQW9SLFFBQUFzQixFQUFBQyxHQUFtRSxNQUNuRSxPQUFBUCxFQUFBcFMsR0FBQXZDLEdBQUFqQixLQUFBNFYsRUFBQXBTLEdBQUFvUixRQUFBc0IsRUFBQUMsRUFBQUMsR0FBdUUsTUFDdkUsUUFDQSxJQUFBRyxFQUFBLElBQUF2UCxFQUFBLEVBQUF1UCxFQUFBLElBQUFSLE1BQUFTLEVBQUEsR0FBMER4UCxFQUFBd1AsRUFBU3hQLElBQ25FdVAsRUFBQXZQLEVBQUEsR0FBQXlQLFVBQUF6UCxHQUdBNE8sRUFBQXBTLEdBQUF2QyxHQUFBaUQsTUFBQTBSLEVBQUFwUyxHQUFBb1IsUUFBQTJCLElBS0EsVUFZQWpCLEVBQUF4VixVQUFBNlcsR0FBQSxTQUFBM0IsRUFBQS9ULEVBQUEyVCxHQUNBLE9BQUFFLEVBQUFoSSxLQUFBa0ksRUFBQS9ULEVBQUEyVCxHQUFBLElBWUFVLEVBQUF4VixVQUFBK1UsS0FBQSxTQUFBRyxFQUFBL1QsRUFBQTJULEdBQ0EsT0FBQUUsRUFBQWhJLEtBQUFrSSxFQUFBL1QsRUFBQTJULEdBQUEsSUFhQVUsRUFBQXhWLFVBQUE0VyxlQUFBLFNBQUExQixFQUFBL1QsRUFBQTJULEVBQUFDLEdBQ0EsSUFBQUssRUFBQVQsSUFBQU8sSUFFQSxJQUFBbEksS0FBQXFJLFFBQUFELEdBQUEsT0FBQXBJLEtBQ0EsSUFBQTdMLEVBRUEsT0FEQW9VLEVBQUF2SSxLQUFBb0ksR0FDQXBJLEtBR0EsSUFBQThJLEVBQUE5SSxLQUFBcUksUUFBQUQsR0FFQSxHQUFBVSxFQUFBM1UsR0FFQTJVLEVBQUEzVSxRQUNBNFQsSUFBQWUsRUFBQWYsTUFDQUQsR0FBQWdCLEVBQUFoQixhQUVBUyxFQUFBdkksS0FBQW9JLE9BRUcsQ0FDSCxRQUFBMVIsRUFBQSxFQUFBaVMsRUFBQSxHQUFBaFMsRUFBQW1TLEVBQUFuUyxPQUEyREQsRUFBQUMsRUFBWUQsS0FFdkVvUyxFQUFBcFMsR0FBQXZDLFFBQ0E0VCxJQUFBZSxFQUFBcFMsR0FBQXFSLE1BQ0FELEdBQUFnQixFQUFBcFMsR0FBQW9SLGNBRUFhLEVBQUFsVSxLQUFBcVUsRUFBQXBTLElBT0FpUyxFQUFBaFMsT0FBQXFKLEtBQUFxSSxRQUFBRCxHQUFBLElBQUFPLEVBQUFoUyxPQUFBZ1MsRUFBQSxHQUFBQSxFQUNBSixFQUFBdkksS0FBQW9JLEdBR0EsT0FBQXBJLE1BVUF3SSxFQUFBeFYsVUFBQThXLG1CQUFBLFNBQUE1QixHQUNBLElBQUFFLEVBVUEsT0FSQUYsR0FDQUUsRUFBQVQsSUFBQU8sSUFDQWxJLEtBQUFxSSxRQUFBRCxJQUFBRyxFQUFBdkksS0FBQW9JLEtBRUFwSSxLQUFBcUksUUFBQSxJQUFBVCxFQUNBNUgsS0FBQXNJLGFBQUEsR0FHQXRJLE1BTUF3SSxFQUFBeFYsVUFBQStXLElBQUF2QixFQUFBeFYsVUFBQTRXLGVBQ0FwQixFQUFBeFYsVUFBQWdWLFlBQUFRLEVBQUF4VixVQUFBNlcsR0FLQXJCLEVBQUF3QixTQUFBckMsRUFLQWEsaUJBTUFyTyxFQUFBaUQsUUFBQW9MLGdDQ3pVQSxTQUFBeUIsRUFBQXRTLEVBQUF1UyxFQUFBQyxHQUVBQSxLQUFBLEVBRUEsSUFPQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFQQUMsRUFBQVQsS0FBQXZULE9BQ0FpVSxFQUFBRCxFQUFBVCxFQUFBLEdBQUFDLEVBQUF4UyxFQUFBaEIsT0FDQWtVLEVBQUFDLEVBQUFuVCxFQUFBLEVBQUFpVCxFQUFBVCxHQUFBLEdBQ0FZLEVBQUEsR0FFQSxJQUFBRixLQUFBRyxPQUFBSCxFQUFBSSxLQUFBLE9BQUFGLEVBT0EsR0FIQUosSUFBQUUsRUFxUEEsU0FBQWxULEVBQUF1UyxFQUFBVyxFQUFBVixHQUNBLElBQ0F6VCxFQUFBZ1QsRUFBQXdCLEVBQUFDLEVBQUFDLEVBREE3USxFQUFBLEdBR0EsSUFBQTdELEVBQUEsRUFBQWdULEVBQUFRLEVBQUF2VCxPQUF5Q0QsRUFBQWdULEVBQVNoVCxJQUNsRHdVLEVBQUFoQixFQUFBeFQsR0FBQXlULEVBQ0FnQixFQUFBelUsRUFBQWdULEVBQUEsRUFBQVEsRUFBQXhULEVBQUEsR0FBQXlULEVBQUF4UyxFQUFBaEIsUUFDQXlVLEVBQUFOLEVBQUFuVCxFQUFBdVQsRUFBQUMsRUFBQWhCLEdBQUEsTUFDQWlCLEVBQUFKLE9BQUFJLEVBQUFDLFNBQUEsR0FDQTlRLEVBQUE5RixLQUFBNlcsRUFBQUYsSUFNQSxJQUhBN1EsRUFBQWdSLEtBQUFDLEdBR0E5VSxFQUFBLEVBQWVBLEVBQUE2RCxFQUFBNUQsT0FBa0JELElBQ2pDK1UsRUFBQWxSLEVBQUE3RCxHQUFBbVUsR0FDQUEsRUFBQWEsRUFBQWIsSUFBQUcsTUFHQSxPQUFBSCxFQXpRQWMsQ0FBQWhVLEVBQUF1UyxFQUFBVyxFQUFBVixJQUdBeFMsRUFBQWhCLE9BQUEsR0FBQXdULEVBQUEsQ0FDQUMsRUFBQUUsRUFBQTNTLEVBQUEsR0FDQTBTLEVBQUFFLEVBQUE1UyxFQUFBLEdBRUEsUUFBQWpCLEVBQUF5VCxFQUF5QnpULEVBQUFrVSxFQUFjbFUsR0FBQXlULEdBQ3ZDSyxFQUFBN1MsRUFBQWpCLElBRUEwVCxNQUFBSSxJQURBQyxFQUFBOVMsRUFBQWpCLEVBQUEsSUFFQTJULE1BQUFJLEdBQ0FELEVBQUFGLE1BQUFFLEdBQ0FDLEVBQUFGLE1BQUFFLEdBS0FDLEVBQUEsS0FEQUEsRUFBQWtCLEtBQUFDLElBQUF2QixFQUFBRixFQUFBRyxFQUFBRixJQUNBLEVBQUFLLEVBQUEsRUFLQSxPQUZBb0IsRUFBQWpCLEVBQUFFLEVBQUFaLEVBQUFDLEVBQUFDLEVBQUFLLEdBRUFLLEVBSUEsU0FBQUQsRUFBQW5ULEVBQUF1VCxFQUFBQyxFQUFBaEIsRUFBQTRCLEdBQ0EsSUFBQXJWLEVBQUFvUSxFQUVBLEdBQUFpRixJQUFBQyxFQUFBclUsRUFBQXVULEVBQUFDLEVBQUFoQixHQUFBLEVBQ0EsSUFBQXpULEVBQUF3VSxFQUF1QnhVLEVBQUF5VSxFQUFTelUsR0FBQXlULEVBQUFyRCxFQUFBbUYsRUFBQXZWLEVBQUFpQixFQUFBakIsR0FBQWlCLEVBQUFqQixFQUFBLEdBQUFvUSxRQUVoQyxJQUFBcFEsRUFBQXlVLEVBQUFoQixFQUEyQnpULEdBQUF3VSxFQUFZeFUsR0FBQXlULEVBQUFyRCxFQUFBbUYsRUFBQXZWLEVBQUFpQixFQUFBakIsR0FBQWlCLEVBQUFqQixFQUFBLEdBQUFvUSxHQVF2QyxPQUxBQSxHQUFBb0YsRUFBQXBGLElBQUFrRSxRQUNBbUIsRUFBQXJGLEdBQ0FBLElBQUFrRSxNQUdBbEUsRUFJQSxTQUFBNEUsRUFBQVIsRUFBQUMsR0FDQSxJQUFBRCxFQUFBLE9BQUFBLEVBQ0FDLE1BQUFELEdBRUEsSUFDQWtCLEVBREE1VCxFQUFBMFMsRUFFQSxHQUdBLEdBRkFrQixHQUFBLEVBRUE1VCxFQUFBNlMsVUFBQWEsRUFBQTFULElBQUF3UyxPQUFBLElBQUFxQixFQUFBN1QsRUFBQXlTLEtBQUF6UyxJQUFBd1MsTUFPQXhTLElBQUF3UyxTQVBBLENBR0EsR0FGQW1CLEVBQUEzVCxJQUNBQSxFQUFBMlMsRUFBQTNTLEVBQUF5UyxRQUNBelMsRUFBQXdTLEtBQUEsTUFDQW9CLEdBQUEsU0FLS0EsR0FBQTVULElBQUEyUyxHQUVMLE9BQUFBLEVBSUEsU0FBQVcsRUFBQVEsRUFBQXZCLEVBQUFaLEVBQUFDLEVBQUFDLEVBQUFLLEVBQUE2QixHQUNBLEdBQUFELEVBQUEsRUFHQUMsR0FBQTdCLEdBNFFBLFNBQUFRLEVBQUFkLEVBQUFDLEVBQUFLLEdBQ0EsSUFBQWxTLEVBQUEwUyxFQUNBLEdBQ0EsT0FBQTFTLEVBQUFnVSxJQUFBaFUsRUFBQWdVLEVBQUFDLEVBQUFqVSxFQUFBZ1MsRUFBQWhTLEVBQUFpUyxFQUFBTCxFQUFBQyxFQUFBSyxJQUNBbFMsRUFBQWtVLE1BQUFsVSxFQUFBeVMsS0FDQXpTLEVBQUFtVSxNQUFBblUsRUFBQXdTLEtBQ0F4UyxJQUFBd1MsV0FDS3hTLElBQUEwUyxHQUVMMVMsRUFBQWtVLE1BQUFDLE1BQUEsS0FDQW5VLEVBQUFrVSxNQUFBLEtBT0EsU0FBQXRCLEdBQ0EsSUFBQTFVLEVBQUE4QixFQUFBb1UsRUFBQXZYLEVBQUF3WCxFQUFBQyxFQUFBQyxFQUFBQyxFQUNBQyxFQUFBLEVBRUEsR0FNQSxJQUxBelUsRUFBQTRTLEVBQ0FBLEVBQUEsS0FDQXlCLEVBQUEsS0FDQUMsRUFBQSxFQUVBdFUsR0FBQSxDQUlBLElBSEFzVSxJQUNBRixFQUFBcFUsRUFDQXVVLEVBQUEsRUFDQXJXLEVBQUEsRUFBdUJBLEVBQUF1VyxJQUN2QkYsSUFDQUgsSUFBQUQsT0FGbUNqVyxLQU9uQyxJQUZBc1csRUFBQUMsRUFFQUYsRUFBQSxHQUFBQyxFQUFBLEdBQUFKLEdBRUEsSUFBQUcsSUFBQSxJQUFBQyxJQUFBSixHQUFBcFUsRUFBQWdVLEdBQUFJLEVBQUFKLElBQ0FuWCxFQUFBbUQsRUFDQUEsSUFBQW1VLE1BQ0FJLE1BRUExWCxFQUFBdVgsRUFDQUEsSUFBQUQsTUFDQUssS0FHQUgsSUFBQUYsTUFBQXRYLEVBQ0ErVixFQUFBL1YsRUFFQUEsRUFBQXFYLE1BQUFHLEVBQ0FBLEVBQUF4WCxFQUdBbUQsRUFBQW9VLEVBR0FDLEVBQUFGLE1BQUEsS0FDQU0sR0FBQSxRQUVLSCxFQUFBLEdBbkRMSSxDQUFBMVUsR0F4UkEyVSxDQUFBYixFQUFBbEMsRUFBQUMsRUFBQUssR0FNQSxJQUpBLElBQ0FPLEVBQUFELEVBREFvQyxFQUFBZCxFQUlBQSxFQUFBckIsT0FBQXFCLEVBQUF0QixNQUlBLEdBSEFDLEVBQUFxQixFQUFBckIsS0FDQUQsRUFBQXNCLEVBQUF0QixLQUVBTixFQUFBMkMsRUFBQWYsRUFBQWxDLEVBQUFDLEVBQUFLLEdBQUE0QyxFQUFBaEIsR0FFQXZCLEVBQUF0VyxLQUFBd1csRUFBQXZVLEVBQUF5VCxHQUNBWSxFQUFBdFcsS0FBQTZYLEVBQUE1VixFQUFBeVQsR0FDQVksRUFBQXRXLEtBQUF1VyxFQUFBdFUsRUFBQXlULEdBRUFnQyxFQUFBRyxHQUdBQSxFQUFBdEIsT0FDQW9DLEVBQUFwQyxZQVFBLElBSEFzQixFQUFBdEIsS0FHQW9DLEVBQUEsQ0FFQWIsRUFJYSxJQUFBQSxFQUViVCxFQURBUSxFQUFBaUIsRUFBQWpCLEVBQUF2QixFQUFBWixHQUNBWSxFQUFBWixFQUFBQyxFQUFBQyxFQUFBSyxFQUFBLEdBR2EsSUFBQTZCLEdBQ2JpQixFQUFBbEIsRUFBQXZCLEVBQUFaLEVBQUFDLEVBQUFDLEVBQUFLLEdBVEFvQixFQUFBSixFQUFBWSxHQUFBdkIsRUFBQVosRUFBQUMsRUFBQUMsRUFBQUssRUFBQSxHQVlBLFFBTUEsU0FBQTRDLEVBQUFoQixHQUNBLElBQUFwUixFQUFBb1IsRUFBQXJCLEtBQ0E5UCxFQUFBbVIsRUFDQXBULEVBQUFvVCxFQUFBdEIsS0FFQSxHQUFBcUIsRUFBQW5SLEVBQUFDLEVBQUFqQyxJQUFBLFdBS0EsSUFGQSxJQUFBVixFQUFBOFQsRUFBQXRCLFVBRUF4UyxJQUFBOFQsRUFBQXJCLE1BQUEsQ0FDQSxHQUFBd0MsRUFBQXZTLEVBQUFzUCxFQUFBdFAsRUFBQXVQLEVBQUF0UCxFQUFBcVAsRUFBQXJQLEVBQUFzUCxFQUFBdlIsRUFBQXNSLEVBQUF0UixFQUFBdVIsRUFBQWpTLEVBQUFnUyxFQUFBaFMsRUFBQWlTLElBQ0E0QixFQUFBN1QsRUFBQXlTLEtBQUF6UyxJQUFBd1MsT0FBQSxXQUNBeFMsSUFBQXdTLEtBR0EsU0FHQSxTQUFBcUMsRUFBQWYsRUFBQWxDLEVBQUFDLEVBQUFLLEdBQ0EsSUFBQXhQLEVBQUFvUixFQUFBckIsS0FDQTlQLEVBQUFtUixFQUNBcFQsRUFBQW9ULEVBQUF0QixLQUVBLEdBQUFxQixFQUFBblIsRUFBQUMsRUFBQWpDLElBQUEsV0FnQkEsSUFiQSxJQUFBd1UsRUFBQXhTLEVBQUFzUCxFQUFBclAsRUFBQXFQLEVBQUF0UCxFQUFBc1AsRUFBQXRSLEVBQUFzUixFQUFBdFAsRUFBQXNQLEVBQUF0UixFQUFBc1IsRUFBQXJQLEVBQUFxUCxFQUFBdFIsRUFBQXNSLEVBQUFyUCxFQUFBcVAsRUFBQXRSLEVBQUFzUixFQUNBbUQsRUFBQXpTLEVBQUF1UCxFQUFBdFAsRUFBQXNQLEVBQUF2UCxFQUFBdVAsRUFBQXZSLEVBQUF1UixFQUFBdlAsRUFBQXVQLEVBQUF2UixFQUFBdVIsRUFBQXRQLEVBQUFzUCxFQUFBdlIsRUFBQXVSLEVBQUF0UCxFQUFBc1AsRUFBQXZSLEVBQUF1UixFQUNBbUQsRUFBQTFTLEVBQUFzUCxFQUFBclAsRUFBQXFQLEVBQUF0UCxFQUFBc1AsRUFBQXRSLEVBQUFzUixFQUFBdFAsRUFBQXNQLEVBQUF0UixFQUFBc1IsRUFBQXJQLEVBQUFxUCxFQUFBdFIsRUFBQXNSLEVBQUFyUCxFQUFBcVAsRUFBQXRSLEVBQUFzUixFQUNBcUQsRUFBQTNTLEVBQUF1UCxFQUFBdFAsRUFBQXNQLEVBQUF2UCxFQUFBdVAsRUFBQXZSLEVBQUF1UixFQUFBdlAsRUFBQXVQLEVBQUF2UixFQUFBdVIsRUFBQXRQLEVBQUFzUCxFQUFBdlIsRUFBQXVSLEVBQUF0UCxFQUFBc1AsRUFBQXZSLEVBQUF1UixFQUdBcUQsRUFBQXJCLEVBQUFpQixFQUFBQyxFQUFBdkQsRUFBQUMsRUFBQUssR0FDQXFELEVBQUF0QixFQUFBbUIsRUFBQUMsRUFBQXpELEVBQUFDLEVBQUFLLEdBRUFsUyxFQUFBOFQsRUFBQUksTUFDQXpPLEVBQUFxTyxFQUFBSyxNQUdBblUsS0FBQWdVLEdBQUFzQixHQUFBN1AsS0FBQXVPLEdBQUF1QixHQUFBLENBQ0EsR0FBQXZWLElBQUE4VCxFQUFBckIsTUFBQXpTLElBQUE4VCxFQUFBdEIsTUFDQXlDLEVBQUF2UyxFQUFBc1AsRUFBQXRQLEVBQUF1UCxFQUFBdFAsRUFBQXFQLEVBQUFyUCxFQUFBc1AsRUFBQXZSLEVBQUFzUixFQUFBdFIsRUFBQXVSLEVBQUFqUyxFQUFBZ1MsRUFBQWhTLEVBQUFpUyxJQUNBNEIsRUFBQTdULEVBQUF5UyxLQUFBelMsSUFBQXdTLE9BQUEsV0FHQSxHQUZBeFMsSUFBQWtVLE1BRUF6TyxJQUFBcU8sRUFBQXJCLE1BQUFoTixJQUFBcU8sRUFBQXRCLE1BQ0F5QyxFQUFBdlMsRUFBQXNQLEVBQUF0UCxFQUFBdVAsRUFBQXRQLEVBQUFxUCxFQUFBclAsRUFBQXNQLEVBQUF2UixFQUFBc1IsRUFBQXRSLEVBQUF1UixFQUFBeE0sRUFBQXVNLEVBQUF2TSxFQUFBd00sSUFDQTRCLEVBQUFwTyxFQUFBZ04sS0FBQWhOLElBQUErTSxPQUFBLFdBQ0EvTSxJQUFBME8sTUFJQSxLQUFBblUsS0FBQWdVLEdBQUFzQixHQUFBLENBQ0EsR0FBQXRWLElBQUE4VCxFQUFBckIsTUFBQXpTLElBQUE4VCxFQUFBdEIsTUFDQXlDLEVBQUF2UyxFQUFBc1AsRUFBQXRQLEVBQUF1UCxFQUFBdFAsRUFBQXFQLEVBQUFyUCxFQUFBc1AsRUFBQXZSLEVBQUFzUixFQUFBdFIsRUFBQXVSLEVBQUFqUyxFQUFBZ1MsRUFBQWhTLEVBQUFpUyxJQUNBNEIsRUFBQTdULEVBQUF5UyxLQUFBelMsSUFBQXdTLE9BQUEsV0FDQXhTLElBQUFrVSxNQUlBLEtBQUF6TyxLQUFBdU8sR0FBQXVCLEdBQUEsQ0FDQSxHQUFBOVAsSUFBQXFPLEVBQUFyQixNQUFBaE4sSUFBQXFPLEVBQUF0QixNQUNBeUMsRUFBQXZTLEVBQUFzUCxFQUFBdFAsRUFBQXVQLEVBQUF0UCxFQUFBcVAsRUFBQXJQLEVBQUFzUCxFQUFBdlIsRUFBQXNSLEVBQUF0UixFQUFBdVIsRUFBQXhNLEVBQUF1TSxFQUFBdk0sRUFBQXdNLElBQ0E0QixFQUFBcE8sRUFBQWdOLEtBQUFoTixJQUFBK00sT0FBQSxXQUNBL00sSUFBQTBPLE1BR0EsU0FJQSxTQUFBWSxFQUFBckMsRUFBQUgsRUFBQVosR0FDQSxJQUFBM1IsRUFBQTBTLEVBQ0EsR0FDQSxJQUFBaFEsRUFBQTFDLEVBQUF5UyxLQUNBOVAsRUFBQTNDLEVBQUF3UyxXQUVBa0IsRUFBQWhSLEVBQUFDLElBQUE2UyxFQUFBOVMsRUFBQTFDLElBQUF3UyxLQUFBN1AsSUFBQThTLEVBQUEvUyxFQUFBQyxJQUFBOFMsRUFBQTlTLEVBQUFELEtBRUE2UCxFQUFBdFcsS0FBQXlHLEVBQUF4RSxFQUFBeVQsR0FDQVksRUFBQXRXLEtBQUErRCxFQUFBOUIsRUFBQXlULEdBQ0FZLEVBQUF0VyxLQUFBMEcsRUFBQXpFLEVBQUF5VCxHQUdBZ0MsRUFBQTNULEdBQ0EyVCxFQUFBM1QsRUFBQXdTLE1BRUF4UyxFQUFBMFMsRUFBQS9QLEdBRUEzQyxJQUFBd1MsV0FDS3hTLElBQUEwUyxHQUVMLE9BQUExUyxFQUlBLFNBQUFnVixFQUFBdEMsRUFBQUgsRUFBQVosRUFBQUMsRUFBQUMsRUFBQUssR0FFQSxJQUFBeFAsRUFBQWdRLEVBQ0EsR0FFQSxJQURBLElBQUEvUCxFQUFBRCxFQUFBOFAsVUFDQTdQLElBQUFELEVBQUErUCxNQUFBLENBQ0EsR0FBQS9QLEVBQUF4RSxJQUFBeUUsRUFBQXpFLEdBQUF3WCxFQUFBaFQsRUFBQUMsR0FBQSxDQUVBLElBQUFqQyxFQUFBaVYsRUFBQWpULEVBQUFDLEdBU0EsT0FOQUQsRUFBQXdRLEVBQUF4USxJQUFBOFAsTUFDQTlSLEVBQUF3UyxFQUFBeFMsSUFBQThSLE1BR0FjLEVBQUE1USxFQUFBNlAsRUFBQVosRUFBQUMsRUFBQUMsRUFBQUssUUFDQW9CLEVBQUE1UyxFQUFBNlIsRUFBQVosRUFBQUMsRUFBQUMsRUFBQUssR0FHQXZQLElBQUE2UCxLQUVBOVAsSUFBQThQLFdBQ0s5UCxJQUFBZ1EsR0EyQkwsU0FBQU0sRUFBQXRRLEVBQUFDLEdBQ0EsT0FBQUQsRUFBQXNQLEVBQUFyUCxFQUFBcVAsRUFJQSxTQUFBaUIsRUFBQTJDLEVBQUF2RCxHQUVBLEdBREFBLEVBUUEsU0FBQXVELEVBQUF2RCxHQUNBLElBSUF4TixFQUpBN0UsRUFBQXFTLEVBQ0F3RCxFQUFBRCxFQUFBNUQsRUFDQThELEVBQUFGLEVBQUEzRCxFQUNBOEQsR0FBQUMsSUFLQSxHQUNBLEdBQUFGLEdBQUE5VixFQUFBaVMsR0FBQTZELEdBQUE5VixFQUFBd1MsS0FBQVAsR0FBQWpTLEVBQUF3UyxLQUFBUCxJQUFBalMsRUFBQWlTLEVBQUEsQ0FDQSxJQUFBRCxFQUFBaFMsRUFBQWdTLEdBQUE4RCxFQUFBOVYsRUFBQWlTLElBQUFqUyxFQUFBd1MsS0FBQVIsRUFBQWhTLEVBQUFnUyxJQUFBaFMsRUFBQXdTLEtBQUFQLEVBQUFqUyxFQUFBaVMsR0FDQSxHQUFBRCxHQUFBNkQsR0FBQTdELEVBQUErRCxFQUFBLENBRUEsR0FEQUEsRUFBQS9ELEVBQ0FBLElBQUE2RCxFQUFBLENBQ0EsR0FBQUMsSUFBQTlWLEVBQUFpUyxFQUFBLE9BQUFqUyxFQUNBLEdBQUE4VixJQUFBOVYsRUFBQXdTLEtBQUFQLEVBQUEsT0FBQWpTLEVBQUF3UyxLQUVBM04sRUFBQTdFLEVBQUFnUyxFQUFBaFMsRUFBQXdTLEtBQUFSLEVBQUFoUyxJQUFBd1MsTUFHQXhTLElBQUF3UyxXQUNLeFMsSUFBQXFTLEdBRUwsSUFBQXhOLEVBQUEsWUFFQSxHQUFBZ1IsSUFBQUUsRUFBQSxPQUFBbFIsRUFBQTROLEtBTUEsSUFJQXdELEVBSkFyQixFQUFBL1AsRUFDQXFSLEVBQUFyUixFQUFBbU4sRUFDQW1FLEVBQUF0UixFQUFBb04sRUFDQW1FLEVBQUFKLElBR0FoVyxFQUFBNkUsRUFBQTJOLEtBRUEsS0FBQXhTLElBQUE0VSxHQUNBaUIsR0FBQTdWLEVBQUFnUyxHQUFBaFMsRUFBQWdTLEdBQUFrRSxHQUFBTCxJQUFBN1YsRUFBQWdTLEdBQ0FpRCxFQUFBYSxFQUFBSyxFQUFBTixFQUFBRSxFQUFBRCxFQUFBSSxFQUFBQyxFQUFBTCxFQUFBSyxFQUFBSixFQUFBRixFQUFBQyxFQUFBOVYsRUFBQWdTLEVBQUFoUyxFQUFBaVMsTUFFQWdFLEVBQUE3QyxLQUFBaUQsSUFBQVAsRUFBQTlWLEVBQUFpUyxJQUFBNEQsRUFBQTdWLEVBQUFnUyxJQUVBb0UsR0FBQUgsSUFBQUcsR0FBQXBXLEVBQUFnUyxFQUFBbk4sRUFBQW1OLElBQUF5RCxFQUFBelYsRUFBQTRWLEtBQ0EvUSxFQUFBN0UsRUFDQW9XLEVBQUFILEdBSUFqVyxJQUFBd1MsS0FHQSxPQUFBM04sRUEvREF5UixDQUFBVixFQUFBdkQsR0FDQSxDQUNBLElBQUExUCxFQUFBZ1QsRUFBQXRELEVBQUF1RCxHQUNBMUMsRUFBQXZRLElBQUE2UCxPQXFJQSxTQUFBeUIsRUFBQWpDLEVBQUFDLEVBQUFMLEVBQUFDLEVBQUFLLEdBZUEsT0FQQUYsRUFBQSxhQURBQSxFQUFBLFlBREFBLEVBQUEsWUFEQUEsRUFBQSxXQUhBQSxFQUFBLE9BQUFBLEVBQUFKLEdBQUFNLEdBR0FGLEdBQUEsSUFDQUEsR0FBQSxJQUNBQSxHQUFBLElBQ0FBLEdBQUEsS0FLQUMsRUFBQSxhQURBQSxFQUFBLFlBREFBLEVBQUEsWUFEQUEsRUFBQSxXQVBBQSxFQUFBLE9BQUFBLEVBQUFKLEdBQUFLLEdBT0FELEdBQUEsSUFDQUEsR0FBQSxJQUNBQSxHQUFBLElBQ0FBLEdBQUEsS0FFQSxFQUlBLFNBQUFhLEVBQUFKLEdBQ0EsSUFBQTFTLEVBQUEwUyxFQUNBNkQsRUFBQTdELEVBQ0EsSUFDQTFTLEVBQUFnUyxFQUFBdUUsRUFBQXZFLEdBQUFoUyxFQUFBZ1MsSUFBQXVFLEVBQUF2RSxHQUFBaFMsRUFBQWlTLEVBQUFzRSxFQUFBdEUsS0FBQXNFLEVBQUF2VyxHQUNBQSxJQUFBd1MsV0FDS3hTLElBQUEwUyxHQUVMLE9BQUE2RCxFQUlBLFNBQUF0QixFQUFBdUIsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQSxPQUFBSCxFQUFBRSxJQUFBTCxFQUFBTSxJQUFBUCxFQUFBTSxJQUFBRCxFQUFBRSxJQUFBLElBQ0FQLEVBQUFNLElBQUFILEVBQUFJLElBQUFMLEVBQUFJLElBQUFMLEVBQUFNLElBQUEsSUFDQUwsRUFBQUksSUFBQUQsRUFBQUUsSUFBQUgsRUFBQUUsSUFBQUgsRUFBQUksSUFBQSxFQUlBLFNBQUFyQixFQUFBaFQsRUFBQUMsR0FDQSxPQUFBRCxFQUFBOFAsS0FBQXRVLElBQUF5RSxFQUFBekUsR0FBQXdFLEVBQUErUCxLQUFBdlUsSUFBQXlFLEVBQUF6RSxJQXVCQSxTQUFBd0UsRUFBQUMsR0FDQSxJQUFBM0MsRUFBQTBDLEVBQ0EsR0FDQSxHQUFBMUMsRUFBQTlCLElBQUF3RSxFQUFBeEUsR0FBQThCLEVBQUF3UyxLQUFBdFUsSUFBQXdFLEVBQUF4RSxHQUFBOEIsRUFBQTlCLElBQUF5RSxFQUFBekUsR0FBQThCLEVBQUF3UyxLQUFBdFUsSUFBQXlFLEVBQUF6RSxHQUNBc1gsRUFBQXhWLElBQUF3UyxLQUFBOVAsRUFBQUMsR0FBQSxTQUNBM0MsSUFBQXdTLFdBQ0t4UyxJQUFBMEMsR0FFTCxTQS9CQXNVLENBQUF0VSxFQUFBQyxJQUNBOFMsRUFBQS9TLEVBQUFDLElBQUE4UyxFQUFBOVMsRUFBQUQsSUF5Q0EsU0FBQUEsRUFBQUMsR0FDQSxJQUFBM0MsRUFBQTBDLEVBQ0F1VSxHQUFBLEVBQ0FILEdBQUFwVSxFQUFBc1AsRUFBQXJQLEVBQUFxUCxHQUFBLEVBQ0ErRSxHQUFBclUsRUFBQXVQLEVBQUF0UCxFQUFBc1AsR0FBQSxFQUNBLEdBQ0FqUyxFQUFBaVMsRUFBQThFLEdBQUEvVyxFQUFBd1MsS0FBQVAsRUFBQThFLEdBQUEvVyxFQUFBd1MsS0FBQVAsSUFBQWpTLEVBQUFpUyxHQUNBNkUsR0FBQTlXLEVBQUF3UyxLQUFBUixFQUFBaFMsRUFBQWdTLElBQUErRSxFQUFBL1csRUFBQWlTLElBQUFqUyxFQUFBd1MsS0FBQVAsRUFBQWpTLEVBQUFpUyxHQUFBalMsRUFBQWdTLElBQ0FpRixNQUNBalgsSUFBQXdTLFdBQ0t4UyxJQUFBMEMsR0FFTCxPQUFBdVUsRUFyREFDLENBQUF4VSxFQUFBQyxHQUlBLFNBQUFrUixFQUFBN1QsRUFBQW9VLEVBQUFuUCxHQUNBLE9BQUFtUCxFQUFBbkMsRUFBQWpTLEVBQUFpUyxJQUFBaE4sRUFBQStNLEVBQUFvQyxFQUFBcEMsSUFBQW9DLEVBQUFwQyxFQUFBaFMsRUFBQWdTLElBQUEvTSxFQUFBZ04sRUFBQW1DLEVBQUFuQyxHQUlBLFNBQUF5QixFQUFBeUQsRUFBQUMsR0FDQSxPQUFBRCxFQUFBbkYsSUFBQW9GLEVBQUFwRixHQUFBbUYsRUFBQWxGLElBQUFtRixFQUFBbkYsRUFJQSxTQUFBdUQsRUFBQTJCLEVBQUFFLEVBQUFELEVBQUFFLEdBQ0EsU0FBQTVELEVBQUF5RCxFQUFBRSxJQUFBM0QsRUFBQTBELEVBQUFFLElBQ0E1RCxFQUFBeUQsRUFBQUcsSUFBQTVELEVBQUEwRCxFQUFBQyxLQUNBeEQsRUFBQXNELEVBQUFFLEVBQUFELEdBQUEsR0FBQXZELEVBQUFzRCxFQUFBRSxFQUFBQyxHQUFBLEdBQ0F6RCxFQUFBdUQsRUFBQUUsRUFBQUgsR0FBQSxHQUFBdEQsRUFBQXVELEVBQUFFLEVBQUFELEdBQUEsRUFnQkEsU0FBQTVCLEVBQUEvUyxFQUFBQyxHQUNBLE9BQUFrUixFQUFBblIsRUFBQStQLEtBQUEvUCxJQUFBOFAsTUFBQSxFQUNBcUIsRUFBQW5SLEVBQUFDLEVBQUFELEVBQUE4UCxPQUFBLEdBQUFxQixFQUFBblIsSUFBQStQLEtBQUE5UCxJQUFBLEVBQ0FrUixFQUFBblIsRUFBQUMsRUFBQUQsRUFBQStQLE1BQUEsR0FBQW9CLEVBQUFuUixJQUFBOFAsS0FBQTdQLEdBQUEsRUFxQkEsU0FBQWdULEVBQUFqVCxFQUFBQyxHQUNBLElBQUFrTyxFQUFBLElBQUEwRyxFQUFBN1UsRUFBQXhFLEVBQUF3RSxFQUFBc1AsRUFBQXRQLEVBQUF1UCxHQUNBdUYsRUFBQSxJQUFBRCxFQUFBNVUsRUFBQXpFLEVBQUF5RSxFQUFBcVAsRUFBQXJQLEVBQUFzUCxHQUNBd0YsRUFBQS9VLEVBQUE4UCxLQUNBa0YsRUFBQS9VLEVBQUE4UCxLQWNBLE9BWkEvUCxFQUFBOFAsS0FBQTdQLEVBQ0FBLEVBQUE4UCxLQUFBL1AsRUFFQW1PLEVBQUEyQixLQUFBaUYsRUFDQUEsRUFBQWhGLEtBQUE1QixFQUVBMkcsRUFBQWhGLEtBQUEzQixFQUNBQSxFQUFBNEIsS0FBQStFLEVBRUFFLEVBQUFsRixLQUFBZ0YsRUFDQUEsRUFBQS9FLEtBQUFpRixFQUVBRixFQUlBLFNBQUEvRCxFQUFBdlYsRUFBQThULEVBQUFDLEVBQUEzRCxHQUNBLElBQUF0TyxFQUFBLElBQUF1WCxFQUFBclosRUFBQThULEVBQUFDLEdBWUEsT0FWQTNELEdBS0F0TyxFQUFBd1MsS0FBQWxFLEVBQUFrRSxLQUNBeFMsRUFBQXlTLEtBQUFuRSxFQUNBQSxFQUFBa0UsS0FBQUMsS0FBQXpTLEVBQ0FzTyxFQUFBa0UsS0FBQXhTLElBUEFBLEVBQUF5UyxLQUFBelMsRUFDQUEsRUFBQXdTLEtBQUF4UyxHQVFBQSxFQUdBLFNBQUEyVCxFQUFBM1QsR0FDQUEsRUFBQXdTLEtBQUFDLEtBQUF6UyxFQUFBeVMsS0FDQXpTLEVBQUF5UyxLQUFBRCxLQUFBeFMsRUFBQXdTLEtBRUF4UyxFQUFBa1UsUUFBQWxVLEVBQUFrVSxNQUFBQyxNQUFBblUsRUFBQW1VLE9BQ0FuVSxFQUFBbVUsUUFBQW5VLEVBQUFtVSxNQUFBRCxNQUFBbFUsRUFBQWtVLE9BR0EsU0FBQXFELEVBQUFyWixFQUFBOFQsRUFBQUMsR0FFQXpLLEtBQUF0SixJQUdBc0osS0FBQXdLLElBQ0F4SyxLQUFBeUssSUFHQXpLLEtBQUFpTCxLQUFBLEtBQ0FqTCxLQUFBZ0wsS0FBQSxLQUdBaEwsS0FBQXdNLEVBQUEsS0FHQXhNLEtBQUEwTSxNQUFBLEtBQ0ExTSxLQUFBMk0sTUFBQSxLQUdBM00sS0FBQXFMLFNBQUEsRUFnQ0EsU0FBQVcsRUFBQXJVLEVBQUF1VCxFQUFBQyxFQUFBaEIsR0FFQSxJQURBLElBQUFnRyxFQUFBLEVBQ0F6WixFQUFBd1UsRUFBQWhSLEVBQUFpUixFQUFBaEIsRUFBc0N6VCxFQUFBeVUsRUFBU3pVLEdBQUF5VCxFQUMvQ2dHLElBQUF4WSxFQUFBdUMsR0FBQXZDLEVBQUFqQixLQUFBaUIsRUFBQWpCLEVBQUEsR0FBQWlCLEVBQUF1QyxFQUFBLElBQ0FBLEVBQUF4RCxFQUVBLE9BQUF5WixFQXBuQkFoVyxFQUFBaUQsUUFBQTZNLEVBQ0E5UCxFQUFBaUQsUUFBQXFLLFFBQUF3QyxFQWtsQkFBLEVBQUFtRyxVQUFBLFNBQUF6WSxFQUFBdVMsRUFBQUMsRUFBQVksR0FDQSxJQUFBSixFQUFBVCxLQUFBdlQsT0FDQWlVLEVBQUFELEVBQUFULEVBQUEsR0FBQUMsRUFBQXhTLEVBQUFoQixPQUVBMFosRUFBQXpFLEtBQUFpRCxJQUFBN0MsRUFBQXJVLEVBQUEsRUFBQWlULEVBQUFULElBQ0EsR0FBQVEsRUFDQSxRQUFBalUsRUFBQSxFQUFBZ1QsRUFBQVEsRUFBQXZULE9BQWlERCxFQUFBZ1QsRUFBU2hULElBQUEsQ0FDMUQsSUFBQXdVLEVBQUFoQixFQUFBeFQsR0FBQXlULEVBQ0FnQixFQUFBelUsRUFBQWdULEVBQUEsRUFBQVEsRUFBQXhULEVBQUEsR0FBQXlULEVBQUF4UyxFQUFBaEIsT0FDQTBaLEdBQUF6RSxLQUFBaUQsSUFBQTdDLEVBQUFyVSxFQUFBdVQsRUFBQUMsRUFBQWhCLElBSUEsSUFBQW1HLEVBQUEsRUFDQSxJQUFBNVosRUFBQSxFQUFlQSxFQUFBcVUsRUFBQXBVLE9BQXNCRCxHQUFBLEdBQ3JDLElBQUF3RSxFQUFBNlAsRUFBQXJVLEdBQUF5VCxFQUNBaFAsRUFBQTRQLEVBQUFyVSxFQUFBLEdBQUF5VCxFQUNBalIsRUFBQTZSLEVBQUFyVSxFQUFBLEdBQUF5VCxFQUNBbUcsR0FBQTFFLEtBQUFpRCxLQUNBbFgsRUFBQXVELEdBQUF2RCxFQUFBdUIsS0FBQXZCLEVBQUF3RCxFQUFBLEdBQUF4RCxFQUFBdUQsRUFBQSxLQUNBdkQsRUFBQXVELEdBQUF2RCxFQUFBd0QsS0FBQXhELEVBQUF1QixFQUFBLEdBQUF2QixFQUFBdUQsRUFBQSxLQUdBLFdBQUFtVixHQUFBLElBQUFDLEVBQUEsRUFDQTFFLEtBQUFpRCxLQUFBeUIsRUFBQUQsT0FhQXBHLEVBQUFzRyxRQUFBLFNBQUE1WSxHQUtBLElBSkEsSUFBQXdTLEVBQUF4UyxFQUFBLE1BQUFoQixPQUNBbUQsRUFBQSxDQUFrQjBXLFNBQUEsR0FBQUMsTUFBQSxHQUFBQyxXQUFBdkcsR0FDbEJ3RyxFQUFBLEVBRUFqYSxFQUFBLEVBQW1CQSxFQUFBaUIsRUFBQWhCLE9BQWlCRCxJQUFBLENBQ3BDLFFBQUF3RCxFQUFBLEVBQXVCQSxFQUFBdkMsRUFBQWpCLEdBQUFDLE9BQW9CdUQsSUFDM0MsUUFBQW9ELEVBQUEsRUFBMkJBLEVBQUE2TSxFQUFTN00sSUFBQXhELEVBQUEwVyxTQUFBL2IsS0FBQWtELEVBQUFqQixHQUFBd0QsR0FBQW9ELElBRXBDNUcsRUFBQSxJQUNBaWEsR0FBQWhaLEVBQUFqQixFQUFBLEdBQUFDLE9BQ0FtRCxFQUFBMlcsTUFBQWhjLEtBQUFrYyxJQUdBLE9BQUE3VyxpQ0N0b0JBL0csT0FBQXFDLGVBQUFnSSxFQUFBLGNBQ0FqSSxPQUFBLElBR0EsSUFBQXliLEVBQUEsV0FBaUMsU0FBQUMsRUFBQUMsRUFBQUMsR0FBMkMsUUFBQXJhLEVBQUEsRUFBZ0JBLEVBQUFxYSxFQUFBcGEsT0FBa0JELElBQUEsQ0FBTyxJQUFBc2EsRUFBQUQsRUFBQXJhLEdBQTJCc2EsRUFBQWhjLFdBQUFnYyxFQUFBaGMsYUFBQSxFQUF3RGdjLEVBQUFqYyxjQUFBLEVBQWdDLFVBQUFpYyxNQUFBQyxVQUFBLEdBQXVEbGUsT0FBQXFDLGVBQUEwYixFQUFBRSxFQUFBalQsSUFBQWlULElBQStELGdCQUFBRSxFQUFBQyxFQUFBQyxHQUEyTCxPQUFsSUQsR0FBQU4sRUFBQUssRUFBQWxlLFVBQUFtZSxHQUFxRUMsR0FBQVAsRUFBQUssRUFBQUUsR0FBNkRGLEdBQXpoQixHQUVBLFNBQUFHLEVBQUFDLEVBQUFKLEdBQWlELEtBQUFJLGFBQUFKLEdBQTBDLFVBQUE1TixVQUFBLHFDQUUzRixJQUFBaU8sRUFBQSxXQUNBLFNBQUFBLEVBQUFwZCxFQUFBNFQsRUFBQXlKLFFBQ0EvYSxJQUFBc1IsT0FBQSxHQUVBc0osRUFBQXJSLEtBQUF1UixHQUVBdlIsS0FBQXlSLElBQUF0ZCxFQUNBNkwsS0FBQTBSLE1BQUEzSixFQUNBL0gsS0FBQTJSLFNBQUFILEVBQ0F4UixLQUFBNFIsTUFBQTVSLEtBQUE2UixNQUFBN1IsS0FBQThSLE9BQUEsS0FZQSxPQVRBbEIsRUFBQVcsRUFBQSxFQUNBeFQsSUFBQSxTQUNBNUksTUFBQSxXQUNBLGNBQUE2SyxLQUFBOFIsU0FDQTlSLEtBQUE4UixPQUFBQyxPQUFBL1IsT0FDQSxPQUlBdVIsRUFyQkEsR0F3QkEsU0FBQVMsRUFBQUMsRUFBQUMsR0FZQSxPQVhBRCxFQUFBRSxPQUlBRixFQUFBRyxNQUFBUixNQUFBTSxFQUNBQSxFQUFBTCxNQUFBSSxFQUFBRyxNQUNBSCxFQUFBRyxNQUFBRixJQUxBRCxFQUFBRSxNQUFBRCxFQUNBRCxFQUFBRyxNQUFBRixHQU9BQSxFQUFBSixPQUFBRyxFQUVBQyxFQUdBLElBQUFHLEVBQUEsV0FDQSxTQUFBQSxJQUNBaEIsRUFBQXJSLEtBQUFxUyxHQUVBclMsS0FBQW1TLE1BQUFuUyxLQUFBb1MsV0FBQTNiLEVBeUdBLE9BdEdBbWEsRUFBQXlCLEVBQUEsRUFDQXRVLElBQUEsV0FDQTVJLE1BQUEsV0FDQSxJQUFBbWQsSUFBQTNJLFVBQUFoVCxRQUFBLFFBQUFGLElBQUFrVCxVQUFBLEtBQUFBLFVBQUEsR0FFQXVJLEVBQUFsUyxLQUFBbVMsTUFFQSxHQUFBRyxFQUFBLFFBQUFKLEVBSUEsSUFGQSxJQUFBbEosRUFBQSxHQUVBa0osR0FDQWxKLEVBQUF2VSxLQUFBeWQsR0FDQUEsSUFBQU4sTUFHQSxPQUFBNUksSUFFRyxDQUNIakwsSUFBQSxNQUNBNUksTUFBQSxTQUFBK2MsR0FDQSxLQUFBQSxhQUFBWCxHQUNBLFVBQUF0WixNQUFBLG1FQUdBLE9BQUFpYSxFQUFBSixTQUFBOVIsT0FFRyxDQUNIakMsSUFBQSxXQUNBNUksTUFBQSxXQUNBLElBQUErYyxFQUFBbFMsS0FBQW1TLE1BRUEsSUFBQUQsRUFBQSxTQUVBLEtBQUFBLEdBQ0FBLEVBQUFSLE9BQUExUixLQUFBK1IsT0FBQUcsR0FDQUEsRUFBQVQsSUFBQXJhLE1BQUE4YSxFQUFBUCxTQUFBaEksV0FDQXVJLElBQUFOLE1BR0EsV0FFRyxDQUNIN1QsSUFBQSxNQUNBNUksTUFBQSxTQUFBaEIsR0FDQSxJQUFBcWQsRUFBQTdILFVBQUFoVCxRQUFBLFFBQUFGLElBQUFrVCxVQUFBLFFBQUFBLFVBQUEsR0FFQSxzQkFBQXhWLEVBQ0EsVUFBQThELE1BQUEsbURBRUEsT0FBQStaLEVBQUFoUyxLQUFBLElBQUF1UixFQUFBcGQsR0FBQSxFQUFBcWQsTUFFRyxDQUNIelQsSUFBQSxPQUNBNUksTUFBQSxTQUFBaEIsR0FDQSxJQUFBcWQsRUFBQTdILFVBQUFoVCxRQUFBLFFBQUFGLElBQUFrVCxVQUFBLFFBQUFBLFVBQUEsR0FFQSxzQkFBQXhWLEVBQ0EsVUFBQThELE1BQUEsb0RBRUEsT0FBQStaLEVBQUFoUyxLQUFBLElBQUF1UixFQUFBcGQsR0FBQSxFQUFBcWQsTUFFRyxDQUNIelQsSUFBQSxTQUNBNUksTUFBQSxTQUFBK2MsR0FDQSxLQUFBQSxhQUFBWCxHQUNBLFVBQUF0WixNQUFBLHNFQUVBLE9BQUFpYSxFQUFBSixTQUFBOVIsV0FFQWtTLEVBQUFMLFFBQUFLLEVBQUFMLE1BQUFELE1BQUFNLEVBQUFOLE9BQ0FNLEVBQUFOLFFBQUFNLEVBQUFOLE1BQUFDLE1BQUFLLEVBQUFMLE9BRUFLLElBQUFsUyxLQUFBbVMsT0FDQW5TLEtBQUFtUyxNQUFBRCxFQUFBTixNQUNBLE9BQUFNLEVBQUFOLFFBQ0E1UixLQUFBb1MsTUFBQSxPQUVPRixJQUFBbFMsS0FBQW9TLFFBQ1BwUyxLQUFBb1MsTUFBQUYsRUFBQUwsTUFDQTdSLEtBQUFvUyxNQUFBUixNQUFBLE1BR0FNLEVBQUFKLE9BQUEsS0FDQTlSLFFBRUcsQ0FDSGpDLElBQUEsWUFDQTVJLE1BQUEsV0FDQSxJQUFBK2MsRUFBQWxTLEtBQUFtUyxNQUNBLElBQUFELEVBQUEsT0FBQWxTLEtBSUEsSUFGQUEsS0FBQW1TLE1BQUFuUyxLQUFBb1MsTUFBQSxLQUVBRixHQUNBQSxFQUFBSixPQUFBLEtBQ0FJLElBQUFOLE1BRUEsT0FBQTVSLFNBSUFxUyxFQTdHQSxHQWdIQUEsRUFBQWQsb0JBRUFuVSxFQUFBLFFBQUFpVixFQUNBbFksRUFBQWlELFVBQUEsc0NDbEtBakQsRUFBQWlELFFBQUEsU0FBQW1WLEVBQUFDLEdBQ0FBLEtBQUEsR0FrQkEsSUFoQkEsSUFBQWhWLEVBQUEsQ0FDQU8sSUFBQSxtSUFDQTZPLEVBQUEsQ0FDQTlYLEtBQUEsV0FDQTJkLE9BQUEsNkJBRUFBLE9BQUEsQ0FDQUMsT0FBQSwwSUFDQUMsTUFBQSxxTUFJQXRWLEVBQUFHLEVBQUFpVixPQUFBRCxFQUFBSSxXQUFBLGtCQUFBOU8sS0FBQXlPLEdBQ0FNLEVBQUEsR0FDQW5jLEVBQUEsR0FFQUEsS0FBQW1jLEVBQUFyVixFQUFBTyxJQUFBckgsSUFBQTJHLEVBQUEzRyxJQUFBLEdBT0EsT0FMQW1jLEVBQUFyVixFQUFBb1AsRUFBQTlYLE1BQUEsR0FDQStkLEVBQUFyVixFQUFBTyxJQUFBLEtBQUEyRixRQUFBbEcsRUFBQW9QLEVBQUE2RixPQUFBLFNBQUFLLEVBQUFDLEVBQUFDLEdBQ0FELElBQUFGLEVBQUFyVixFQUFBb1AsRUFBQTlYLE1BQUFpZSxHQUFBQyxLQUdBSCxpQ0NmQSxTQUFTSSxLQTJDVCxTQUFTQyxFQUFTL2UsR0FDZCxPQUFPLFdBQ0gsR0FBVyxPQUFQQSxFQUNBLE1BQU0sSUFBSThELE1BQU0sZ0NBR3BCLElBQU1rYixFQUFTaGYsRUFFZkEsRUFBSyxLQUNMZ2YsRUFBTy9iLE1BQU00SSxLQUFNMkosOEJBekNYeUosV0FBVCxTQUFvQkMsRUFBT0MsRUFBVTljLEVBQVUrYyxHQUNsRCxJQUFJN2MsRUFBSSxFQUNGZ1QsRUFBTTJKLEVBQU0xYyxRQUVsQixTQUFVcVUsRUFBS3RWLEdBQ1BBLEdBQU9nQixJQUFNZ1QsRUFDVGxULEdBQ0FBLEVBQVNkLEdBTWI2ZCxFQUNBQyxXQUFXLFdBQ1BGLEVBQVNELEVBQU0zYyxLQUFNc1UsSUFDdEIsR0FHSHNJLEVBQVNELEVBQU0zYyxLQUFNc1UsR0FmN0IsTUFpRFl6USxNQUFULFNBQWVrWixFQUFRQyxHQUMxQixHQUFtQixNQUFmQSxFQUNBQSxFQUFjLE9BRWIsR0FBb0IsSUFBaEJBLEVBQ0wsTUFBTSxJQUFJemIsTUFBTSxnQ0FHcEIsSUFBSTBiLEVBQVUsRUFDUi9HLEVBQUksQ0FDTmdILE9BQVEsR0FDUkYsY0FDQUcsVUFBV1osRUFDWGEsWUFBYWIsRUFDYmMsT0FBUUwsRUFBYyxFQUN0Qk0sTUFBT2YsRUFDUGdCLE1BQU9oQixFQUNQcFcsTUFBT29XLEVBQ1BpQixTQUFTLEVBQ1RDLFFBQVEsRUFDUjFmLEtBWE0sU0FXRGtELEVBQU1uQixHQUNQNGQsRUFBUXpjLEdBQU0sRUFBT25CLElBRXpCNmQsS0FkTSxXQWVGVixFQUFVLEVBQ1YvRyxFQUFFcUgsTUFBUWhCLEVBQ1ZyRyxFQUFFc0gsU0FBVSxFQUNadEgsRUFBRWdILE9BQVMsSUFFZnpPLFFBcEJNLFNBb0JFeE4sRUFBTW5CLEdBQ1Y0ZCxFQUFRemMsR0FBTSxFQUFNbkIsSUFFeEI4ZCxRQXZCTSxXQXdCRixNQUFRMUgsRUFBRXVILFFBQVVSLEVBQVUvRyxFQUFFOEcsYUFBZTlHLEVBQUVnSCxPQUFPamQsUUFBUSxDQUM1RCxJQUFNNGQsRUFBTzNILEVBQUVnSCxPQUFPeE4sUUFFRSxJQUFwQndHLEVBQUVnSCxPQUFPamQsUUFDVGlXLEVBQUVvSCxTQUdOTCxHQUFXLEtBRUsvRyxFQUFFOEcsYUFDZDlHLEVBQUVpSCxZQUdOSixFQUFPYyxFQUFLNWMsS0FBTXViLEVBQVN0QixFQUFNMkMsT0FHekM1ZCxPQXhDTSxXQXlDRixPQUFPaVcsRUFBRWdILE9BQU9qZCxRQUVwQjZkLFFBM0NNLFdBNENGLE9BQU9iLEdBRVhjLEtBOUNNLFdBK0NGLE9BQU83SCxFQUFFZ0gsT0FBT2pkLE9BQVNnZCxJQUFZLEdBRXpDZSxNQWpETSxZQWtEZSxJQUFiOUgsRUFBRXVILFNBSU52SCxFQUFFdUgsUUFBUyxJQUVmUSxPQXhETSxXQXlERixJQUFpQixJQUFiL0gsRUFBRXVILE9BQU4sQ0FJQXZILEVBQUV1SCxRQUFTLEVBSVgsSUFBSyxJQUFJeFYsRUFBSSxFQUFHQSxHQUFLaU8sRUFBRThHLFlBQWEvVSxJQUNoQ2lPLEVBQUUwSCxhQUtkLFNBQVNGLEVBQVF6YyxFQUFNaWQsRUFBZXBlLEdBQ2xDLEdBQWdCLE1BQVpBLEdBQXdDLG1CQUFiQSxFQUMzQixNQUFNLElBQUl5QixNQUFNLG9DQUtwQixHQUZBMlUsRUFBRXNILFNBQVUsRUFFQSxNQUFSdmMsR0FBZ0JpVixFQUFFNkgsT0FFbEJqQixXQUFXLGtCQUFNNUcsRUFBRXFILFNBQVMsT0FGaEMsQ0FPQSxJQUFNN1ksRUFBTyxDQUNUekQsT0FDQW5CLFNBQThCLG1CQUFiQSxFQUEwQkEsRUFBV3ljLEdBR3REMkIsRUFDQWhJLEVBQUVnSCxPQUFPek8sUUFBUS9KLEdBR2pCd1IsRUFBRWdILE9BQU9uZixLQUFLMkcsR0FHbEJvWSxXQUFXLGtCQUFNNUcsRUFBRTBILFdBQVcsSUFHbEMsU0FBUzFDLEVBQU0yQyxHQUNYLE9BQU8sV0FDSFosR0FBVyxFQUVYWSxFQUFLL2QsU0FBU1ksTUFBTW1kLEVBQU01SyxXQUVOLE1BQWhCQSxVQUFVLElBQ1ZpRCxFQUFFL1AsTUFBTThNLFVBQVUsR0FBSTRLLEVBQUs1YyxNQUczQmdjLEdBQVkvRyxFQUFFOEcsWUFBYzlHLEVBQUVtSCxRQUM5Qm5ILEVBQUVrSCxjQUdGbEgsRUFBRTZILFFBQ0Y3SCxFQUFFcUgsUUFHTnJILEVBQUUwSCxXQUlWLE9BQU8xSCxnVUNoTlgxWSxFQUFBLFFBQ0FBLEVBQUEsdURBR0EsSUFBTTJnQixLQUFZcGlCLE9BQU9xaUIsZ0JBQW9CLG9CQUFzQixJQUFJeGMsZ0JBQ25FeWMsRUFBYSxLQVVqQixTQUFTOUIsU0FPSTdMLHdCQXVDVCxTQUFBQSxFQUFZdFMsRUFBTW9PLEVBQUtsSixHQUNuQiwrRkFENEJxWCxDQUFBclIsS0FBQW9ILEdBQ1IsaUJBQVR0UyxHQUFvQyxpQkFBUm9PLEVBQ25DLE1BQU0sSUFBSWpMLE1BQU0sK0RBR3BCK0IsRUFBVUEsR0FBVyxHQVFyQmdHLEtBQUtnVixPQUFTLEVBR2RoVixLQUFLaVYsU0FBUzdOLEVBQVM4TixhQUFhQyxTQUFtQyxJQUF6QmpTLEVBQUkxTyxRQUFRLFVBUTFEd0wsS0FBS2xMLEtBQU9BLEVBUVprTCxLQUFLa0QsSUFBTUEsRUFRWGxELEtBQUtvVixVQUFZcFYsS0FBS3FWLGdCQU90QnJWLEtBQUtySSxLQUFPLEtBT1pxSSxLQUFLc1YsYUFBc0MsSUFBeEJ0YixFQUFRc2IsWUFBdUIsWUFBY3RiLEVBQVFzYixZQVN4RXRWLEtBQUt0SCxRQUFVc0IsRUFBUXRCLFNBQVcsRUFPbENzSCxLQUFLdVYsU0FBV3ZiLEVBQVF1YixVQUFZdlYsS0FBS3dWLHFCQU96Q3hWLEtBQUt5VixRQUFVemIsRUFBUXliLFFBVXZCelYsS0FBSzBWLFNBQVcxYixFQUFRMGIsVUFBWSxHQVFwQzFWLEtBQUtuRCxNQUFRLEtBU2JtRCxLQUFLMlYsSUFBTSxLQVFYM1YsS0FBS3RMLFNBQVcsR0FRaEJzTCxLQUFLbkYsS0FBT3VNLEVBQVN3TyxLQUFLQyxRQVExQjdWLEtBQUs4VixjQUFnQixFQVNyQjlWLEtBQUsrVixTQUFXOUMsRUFRaEJqVCxLQUFLZ1csZUFBaUIsS0FRdEJoVyxLQUFLaVcsY0FBZ0IsRUFRckJqVyxLQUFLa1csZUFBaUJsVyxLQUFLbVcsU0FBU25ZLEtBQUtnQyxNQVF6Q0EsS0FBS29XLGNBQWdCcFcsS0FBS3FXLFNBQVNyWSxLQUFLZ0MsTUFReENBLEtBQUtzVyxpQkFBbUJ0VyxLQUFLdVcsWUFBWXZZLEtBQUtnQyxNQVE5Q0EsS0FBS3dXLGdCQUFrQnhXLEtBQUt5VyxXQUFXelksS0FBS2dDLE1BRzVDQSxLQUFLMFcsaUJBQW1CMVcsS0FBSzJXLFlBQVkzWSxLQUFLZ0MsTUFDOUNBLEtBQUs0VyxtQkFBcUI1VyxLQUFLNlcsY0FBYzdZLEtBQUtnQyxNQUNsREEsS0FBSzhXLGlCQUFtQjlXLEtBQUsrVyxZQUFZL1ksS0FBS2dDLE1BQzlDQSxLQUFLZ1gsZ0JBQWtCaFgsS0FBS2lYLFdBQVdqWixLQUFLZ0MsTUFTNUNBLEtBQUtrWCxRQUFVLElBQUlDLFVBYW5CblgsS0FBS29YLFdBQWEsSUFBSUQsVUFVdEJuWCxLQUFLcVgsV0FBYSxJQUFJRixVQVN0Qm5YLEtBQUtzWCxrQkFBb0IsSUFBSUgsbUJBdlExQkksOEJBQXFCQyxFQUFTakMsR0FDakNrQyxFQUFVclEsRUFBU3NRLGFBQWNGLEVBQVNqQyxNQVV2Q29DLDZCQUFvQkgsRUFBUy9CLEdBQ2hDZ0MsRUFBVXJRLEVBQVN3USxZQUFhSixFQUFTL0IsZ0JBdVU3Q1Usb0JBQ0luVyxLQUFLNlgsZUFDTDdYLEtBQUs4WCx1QkFRVEMsZUFBTUMsR0FFRixJQUFJaFksS0FBS25ELE1BQVQsQ0FXQSxHQU5BbUQsS0FBS25ELE1BQVEsSUFBSTVFLE1BQU0rZixHQUd2QmhZLEtBQUs2WCxlQUdEN1gsS0FBSzJWLElBQ0wzVixLQUFLMlYsSUFBSW9DLGFBRVIsR0FBSS9YLEtBQUtpWSxJQUNWalksS0FBS2lZLElBQUlGLGFBRVIsR0FBSS9YLEtBQUtySSxLQUVWLEdBQUlxSSxLQUFLckksS0FBSzhCLElBQ1Z1RyxLQUFLckksS0FBSzhCLElBQU0yTixFQUFTOFEsZUFJekIsS0FBT2xZLEtBQUtySSxLQUFLd2dCLFlBQ2JuWSxLQUFLckksS0FBS3lnQixZQUFZcFksS0FBS3JJLEtBQUt3Z0IsWUFNNUNuWSxLQUFLOFgsd0JBUVRPLGNBQUtwZSxHQUFJLElBQUFxZSxFQUFBdFksS0FDTCxJQUFJQSxLQUFLdVksVUFJVCxHQUFJdlksS0FBS3dZLFdBQ0R2ZSxHQUNBdVosV0FBVyxrQkFBTXZaLEVBQUdxZSxJQUFPLFFBa0JuQyxPQWJTcmUsR0FDTCtGLEtBQUtxWCxXQUFXdFAsS0FBSzlOLEdBR3pCK0YsS0FBS2lWLFNBQVM3TixFQUFTOE4sYUFBYXVELFNBQVMsR0FFN0N6WSxLQUFLa1gsUUFBUXdCLFNBQVMxWSxPQUdHLElBQXJCQSxLQUFLc1YsYUFBcUQsaUJBQXJCdFYsS0FBS3NWLGNBQzFDdFYsS0FBS3NWLFlBQWN0VixLQUFLMlksc0JBQXNCM1ksS0FBS2tELE1BRy9DbEQsS0FBS3VWLFVBQ1QsS0FBS25PLEVBQVN3UixVQUFVQyxNQUNwQjdZLEtBQUtuRixLQUFPdU0sRUFBU3dPLEtBQUtpRCxNQUMxQjdZLEtBQUs4WSxhQUFhLFNBQ2xCLE1BRUosS0FBSzFSLEVBQVN3UixVQUFVRyxNQUNwQi9ZLEtBQUtuRixLQUFPdU0sRUFBU3dPLEtBQUttRCxNQUMxQi9ZLEtBQUtnWixtQkFBbUIsU0FDeEIsTUFFSixLQUFLNVIsRUFBU3dSLFVBQVVLLE1BQ3BCalosS0FBS25GLEtBQU91TSxFQUFTd08sS0FBS3FELE1BQzFCalosS0FBS2daLG1CQUFtQixTQUN4QixNQUVKLEtBQUs1UixFQUFTd1IsVUFBVU0sSUFFeEIsUUFDUXJFLEdBQVU3VSxLQUFLc1YsWUFDZnRWLEtBQUttWixXQUdMblosS0FBS29aLHlCQWFyQkMsa0JBQVNDLEdBQ0wsT0FBZ0MsSUFBeEJ0WixLQUFLZ1YsT0FBU3NFLGdCQVUxQnJFLGtCQUFTcUUsRUFBTW5rQixHQUNYNkssS0FBS2dWLE9BQVM3ZixFQUFTNkssS0FBS2dWLE9BQVNzRSxFQUFTdFosS0FBS2dWLFFBQVVzRSxlQVFqRXpCLHdCQUNJMEIsYUFBYXZaLEtBQUtpVyxlQUVkalcsS0FBS3JJLE1BQVFxSSxLQUFLckksS0FBSzZoQixzQkFDdkJ4WixLQUFLckksS0FBSzZoQixvQkFBb0IsUUFBU3haLEtBQUtvVyxlQUFlLEdBQzNEcFcsS0FBS3JJLEtBQUs2aEIsb0JBQW9CLE9BQVF4WixLQUFLa1csZ0JBQWdCLEdBQzNEbFcsS0FBS3JJLEtBQUs2aEIsb0JBQW9CLFdBQVl4WixLQUFLc1csa0JBQWtCLEdBQ2pFdFcsS0FBS3JJLEtBQUs2aEIsb0JBQW9CLGlCQUFrQnhaLEtBQUtrVyxnQkFBZ0IsSUFHckVsVyxLQUFLMlYsTUFDRDNWLEtBQUsyVixJQUFJNkQscUJBQ1R4WixLQUFLMlYsSUFBSTZELG9CQUFvQixRQUFTeFosS0FBSzBXLGtCQUFrQixHQUM3RDFXLEtBQUsyVixJQUFJNkQsb0JBQW9CLFVBQVd4WixLQUFLNFcsb0JBQW9CLEdBQ2pFNVcsS0FBSzJWLElBQUk2RCxvQkFBb0IsUUFBU3haLEtBQUs4VyxrQkFBa0IsR0FDN0Q5VyxLQUFLMlYsSUFBSTZELG9CQUFvQixXQUFZeFosS0FBS3NXLGtCQUFrQixHQUNoRXRXLEtBQUsyVixJQUFJNkQsb0JBQW9CLE9BQVF4WixLQUFLZ1gsaUJBQWlCLEtBRzNEaFgsS0FBSzJWLElBQUk4RCxRQUFVLEtBQ25CelosS0FBSzJWLElBQUkrRCxVQUFZLEtBQ3JCMVosS0FBSzJWLElBQUlnRSxXQUFhLEtBQ3RCM1osS0FBSzJWLElBQUlpRSxPQUFTLG9CQVU5QjlCLG1CQUNJLEdBQUk5WCxLQUFLd1ksV0FDTCxNQUFNLElBQUl2Z0IsTUFBTSw0REFHcEIrSCxLQUFLaVYsU0FBUzdOLEVBQVM4TixhQUFhMkUsVUFBVSxHQUM5QzdaLEtBQUtpVixTQUFTN04sRUFBUzhOLGFBQWF1RCxTQUFTLEdBRTdDelksS0FBS3FYLFdBQVdxQixTQUFTMVksbUJBVTdCOFksc0JBQWFqZSxHQUNMbUYsS0FBSzBWLFNBQVNvRSxZQUNkOVosS0FBS3JJLEtBQU9xSSxLQUFLMFYsU0FBU29FLFlBRVosVUFBVGpmLFFBQTRDLElBQWpCcEksT0FBT3NuQixNQUN2Qy9aLEtBQUtySSxLQUFPLElBQUlvaUIsTUFHaEIvWixLQUFLckksS0FBTzJCLFNBQVNDLGNBQWNzQixHQUduQ21GLEtBQUtzVixjQUNMdFYsS0FBS3JJLEtBQUsyZCxZQUFjdFYsS0FBS3NWLGFBRzVCdFYsS0FBSzBWLFNBQVNzRSxhQUNmaGEsS0FBS3JJLEtBQUs4QixJQUFNdUcsS0FBS2tELEtBR3pCbEQsS0FBS3JJLEtBQUtzaUIsaUJBQWlCLFFBQVNqYSxLQUFLb1csZUFBZSxHQUN4RHBXLEtBQUtySSxLQUFLc2lCLGlCQUFpQixPQUFRamEsS0FBS2tXLGdCQUFnQixHQUN4RGxXLEtBQUtySSxLQUFLc2lCLGlCQUFpQixXQUFZamEsS0FBS3NXLGtCQUFrQixHQUUxRHRXLEtBQUt0SCxVQUNMc0gsS0FBS2lXLGNBQWdCekMsV0FBV3hULEtBQUt3VyxnQkFBaUJ4VyxLQUFLdEgsdUJBV25Fc2dCLDRCQUFtQm5lLEdBV2YsR0FWSW1GLEtBQUswVixTQUFTb0UsWUFDZDlaLEtBQUtySSxLQUFPcUksS0FBSzBWLFNBQVNvRSxZQUVaLFVBQVRqZixRQUE0QyxJQUFqQnBJLE9BQU95bkIsTUFDdkNsYSxLQUFLckksS0FBTyxJQUFJdWlCLE1BR2hCbGEsS0FBS3JJLEtBQU8yQixTQUFTQyxjQUFjc0IsR0FHckIsT0FBZG1GLEtBQUtySSxLQUFULENBVUEsR0FKSXFJLEtBQUtzVixjQUNMdFYsS0FBS3JJLEtBQUsyZCxZQUFjdFYsS0FBS3NWLGNBRzVCdFYsS0FBSzBWLFNBQVNzRSxXQUVmLEdBQUluYixVQUFVc2IsV0FDVm5hLEtBQUtySSxLQUFLOEIsSUFBTXdQLE1BQU1tUixRQUFRcGEsS0FBS2tELEtBQU9sRCxLQUFLa0QsSUFBSSxHQUFLbEQsS0FBS2tELFNBRTVELEdBQUkrRixNQUFNbVIsUUFBUXBhLEtBQUtrRCxLQUd4QixJQUZBLElBQU1tWCxFQUFZcmEsS0FBSzBWLFNBQVM0RSxTQUV2QjVqQixFQUFJLEVBQUdBLEVBQUlzSixLQUFLa0QsSUFBSXZNLFNBQVVELEVBQ25Dc0osS0FBS3JJLEtBQUtnQyxZQUNOcUcsS0FBS3VhLGNBQWMxZixFQUFNbUYsS0FBS2tELElBQUl4TSxHQUFJdVMsTUFBTW1SLFFBQVFDLEdBQWFBLEVBQVUzakIsR0FBSzJqQixRQUl2RixDQUNELElBQU1BLEVBQVlyYSxLQUFLMFYsU0FBUzRFLFNBRWhDdGEsS0FBS3JJLEtBQUtnQyxZQUNOcUcsS0FBS3VhLGNBQWMxZixFQUFNbUYsS0FBS2tELElBQUsrRixNQUFNbVIsUUFBUUMsR0FBYUEsRUFBVSxHQUFLQSxJQUt6RnJhLEtBQUtySSxLQUFLc2lCLGlCQUFpQixRQUFTamEsS0FBS29XLGVBQWUsR0FDeERwVyxLQUFLckksS0FBS3NpQixpQkFBaUIsT0FBUWphLEtBQUtrVyxnQkFBZ0IsR0FDeERsVyxLQUFLckksS0FBS3NpQixpQkFBaUIsV0FBWWphLEtBQUtzVyxrQkFBa0IsR0FDOUR0VyxLQUFLckksS0FBS3NpQixpQkFBaUIsaUJBQWtCamEsS0FBS2tXLGdCQUFnQixHQUVsRWxXLEtBQUtySSxLQUFLMGdCLE9BRU5yWSxLQUFLdEgsVUFDTHNILEtBQUtpVyxjQUFnQnpDLFdBQVd4VCxLQUFLd1csZ0JBQWlCeFcsS0FBS3RILGVBeEMzRHNILEtBQUsrWCxNQUFMLHdCQUFtQ2xkLGdCQWlEM0N1ZSxvQkFFZ0MsaUJBQWpCcFosS0FBS3lWLFVBQ1p6VixLQUFLeVYsUUFBVXpWLEtBQUt3YSxxQkFHeEIsSUFBTTdFLEVBQU0zVixLQUFLMlYsSUFBTSxJQUFJcmQsZUFHM0JxZCxFQUFJbGQsS0FBSyxNQUFPdUgsS0FBS2tELEtBQUssR0FFMUJ5UyxFQUFJamQsUUFBVXNILEtBQUt0SCxRQUlmc0gsS0FBS3lWLFVBQVlyTyxFQUFTcVQsa0JBQWtCMWhCLE1BQVFpSCxLQUFLeVYsVUFBWXJPLEVBQVNxVCxrQkFBa0JDLFNBQ2hHL0UsRUFBSWdGLGFBQWV2VCxFQUFTcVQsa0JBQWtCRyxLQUc5Q2pGLEVBQUlnRixhQUFlM2EsS0FBS3lWLFFBRzVCRSxFQUFJc0UsaUJBQWlCLFFBQVNqYSxLQUFLMFcsa0JBQWtCLEdBQ3JEZixFQUFJc0UsaUJBQWlCLFVBQVdqYSxLQUFLNFcsb0JBQW9CLEdBQ3pEakIsRUFBSXNFLGlCQUFpQixRQUFTamEsS0FBSzhXLGtCQUFrQixHQUNyRG5CLEVBQUlzRSxpQkFBaUIsV0FBWWphLEtBQUtzVyxrQkFBa0IsR0FDeERYLEVBQUlzRSxpQkFBaUIsT0FBUWphLEtBQUtnWCxpQkFBaUIsR0FFbkRyQixFQUFJaGQsb0JBUVJ3Z0Isb0JBRWdDLGlCQUFqQm5aLEtBQUt5VixVQUNaelYsS0FBS3lWLFFBQVV6VixLQUFLd2EscUJBR3hCLElBQU12QyxFQUFNalksS0FBSzJWLElBQU0sSUFBSWIsZUFLM0JtRCxFQUFJdmYsUUFBVXNILEtBQUt0SCxTQUFXLElBRTlCdWYsRUFBSXdCLFFBQVV6WixLQUFLMFcsaUJBQ25CdUIsRUFBSXlCLFVBQVkxWixLQUFLNFcsbUJBQ3JCcUIsRUFBSTBCLFdBQWEzWixLQUFLc1csaUJBQ3RCMkIsRUFBSTJCLE9BQVM1WixLQUFLZ1gsZ0JBRWxCaUIsRUFBSXhmLEtBQUssTUFBT3VILEtBQUtrRCxLQUFLLEdBTTFCc1EsV0FBVyxrQkFBTXlFLEVBQUl0ZixRQUFRLGdCQVlqQzRoQix1QkFBYzFmLEVBQU1xSSxFQUFLMlgsR0FDaEJBLElBQ0RBLEVBQVVoZ0IsRUFBVixJQUFrQm1GLEtBQUtxVixjQUFjblMsSUFHekMsSUFBTS9CLEVBQVM3SCxTQUFTQyxjQUFjLFVBS3RDLE9BSEE0SCxFQUFPMUgsSUFBTXlKLEVBQ2IvQixFQUFPdEcsS0FBT2dnQixFQUVQMVosZUFTWGtWLGtCQUFTbk8sR0FDTGxJLEtBQUsrWCxNQUFMLGlDQUE0QzdQLEVBQU00SSxPQUFPZ0ssdUJBUzdEdkUscUJBQVlyTyxHQUNKQSxHQUFTQSxFQUFNNlMsa0JBQ2YvYSxLQUFLb1gsV0FBV3NCLFNBQVMxWSxLQUFNa0ksRUFBTThTLE9BQVM5UyxFQUFNK1Msb0JBUzVEeEUsc0JBQ0l6VyxLQUFLK1gsTUFBTCxnQ0FRSnBCLHVCQUNJLElBQU1oQixFQUFNM1YsS0FBSzJWLElBRWpCM1YsS0FBSytYLE1BQVNtRCxFQUFRdkYsR0FBdEIsNEJBQXNEQSxFQUFJcmUsT0FBMUQsWUFBNEVxZSxFQUFJd0YsV0FBaEYsa0JBUUp0RSx5QkFDSSxJQUFNbEIsRUFBTTNWLEtBQUsyVixJQUVqQjNWLEtBQUsrWCxNQUFTbUQsRUFBUXZGLEdBQXRCLG9DQVFKb0IsdUJBQ0ksSUFBTXBCLEVBQU0zVixLQUFLMlYsSUFFakIzVixLQUFLK1gsTUFBU21ELEVBQVF2RixHQUF0QixrREFTSnNCLHNCQUNJLElBQU10QixFQUFNM1YsS0FBSzJWLElBQ2J5RixFQUFPLEdBQ1A5akIsT0FBK0IsSUFBZnFlLEVBQUlyZSxPQTV4QmQsSUE0eEJtRHFlLEVBQUlyZSxPQW1CakUsR0FoQnlCLEtBQXJCcWUsRUFBSWdGLGNBQTRDLFNBQXJCaEYsRUFBSWdGLG1CQUF1RCxJQUFyQmhGLEVBQUlnRixlQUNyRVMsRUFBT3pGLEVBQUkxYyxjQWp5QkgsSUFzeUJSM0IsSUFBMkI4akIsRUFBS3prQixPQUFTLEdBQUtnZixFQUFJZ0YsZUFBaUJ2VCxFQUFTcVQsa0JBQWtCWSxRQUM5Ri9qQixFQXR5Qk0sSUFFVSxPQXV5QlhBLElBQ0xBLEVBenlCUyxLQUVFLEtBMHlCS0EsRUFBUyxJQUFPLEdBRXBDLENBRUksR0FBSTBJLEtBQUt5VixVQUFZck8sRUFBU3FULGtCQUFrQkcsS0FDNUM1YSxLQUFLckksS0FBT3lqQixFQUNacGIsS0FBS25GLEtBQU91TSxFQUFTd08sS0FBS2dGLFVBR3pCLEdBQUk1YSxLQUFLeVYsVUFBWXJPLEVBQVNxVCxrQkFBa0IxaEIsS0FDakQsSUFDSWlILEtBQUtySSxLQUFPb0IsS0FBS0MsTUFBTW9pQixHQUN2QnBiLEtBQUtuRixLQUFPdU0sRUFBU3dPLEtBQUs3YyxLQUU5QixNQUFPMUQsR0FHSCxZQUZBMkssS0FBSytYLE1BQUwsc0NBQWlEMWlCLFFBTXBELEdBQUkySyxLQUFLeVYsVUFBWXJPLEVBQVNxVCxrQkFBa0JDLFNBQ2pELElBQ0ksR0FBSWpvQixPQUFPNm9CLFVBQVcsQ0FDbEIsSUFBTUMsRUFBWSxJQUFJRCxVQUV0QnRiLEtBQUtySSxLQUFPNGpCLEVBQVVDLGdCQUFnQkosRUFBTSxnQkFFM0MsQ0FDRCxJQUFNSyxFQUFNbmlCLFNBQVNDLGNBQWMsT0FFbkNraUIsRUFBSUMsVUFBWU4sRUFFaEJwYixLQUFLckksS0FBTzhqQixFQUdoQnpiLEtBQUtuRixLQUFPdU0sRUFBU3dPLEtBQUsrRixJQUU5QixNQUFPdG1CLEdBR0gsWUFGQTJLLEtBQUsrWCxNQUFMLHFDQUFnRDFpQixRQU9wRDJLLEtBQUtySSxLQUFPZ2UsRUFBSWlHLFVBQVlSLEVBU3BDcGIsS0FBS21XLGdCQUxEblcsS0FBSytYLE1BQUwsSUFBZXBDLEVBQUlyZSxPQUFuQixLQUE4QnFlLEVBQUl3RixXQUFsQyxLQUFpRHhGLEVBQUlrRywwQkFrQjdEbEQsK0JBQXNCelYsRUFBSzRZLEdBRXZCLEdBQTZCLElBQXpCNVksRUFBSTFPLFFBQVEsU0FDWixNQUFPLEdBTVgsR0FBSS9CLE9BQU9zcEIsU0FBV3RwQixPQUFPdXBCLFNBQVNELE9BQ2xDLE1BQU8sWUFJWEQsRUFBTUEsR0FBT3JwQixPQUFPdXBCLFNBRWZqSCxJQUNEQSxFQUFhemIsU0FBU0MsY0FBYyxNQU14Q3diLEVBQVc5VCxLQUFPaUMsRUFHbEIsSUFBTStZLElBRk4vWSxHQUFNLEVBQUFnWixFQUFBelUsU0FBU3NOLEVBQVc5VCxLQUFNLENBQUUyUixZQUFZLEtBRXZCbFMsTUFBcUIsS0FBYm9iLEVBQUlwYixNQUFpQndDLEVBQUl4QyxPQUFTb2IsRUFBSXBiLEtBQy9ESixFQUFXNEMsRUFBSTVDLFNBQWM0QyxFQUFJNUMsU0FBdEIsSUFBb0MsR0FHckQsT0FBSTRDLEVBQUl6QyxPQUFTcWIsRUFBSW5iLFVBQWFzYixHQUFZM2IsSUFBYXdiLEVBQUl4YixTQUl4RCxHQUhJLHlCQWFma2EsNkJBQ0ksT0FBT3BULEVBQVN3USxZQUFZNVgsS0FBS29WLFlBQWNoTyxFQUFTcVQsa0JBQWtCRyxrQkFVOUVwRiw4QkFDSSxPQUFPcE8sRUFBU3NRLGFBQWExWCxLQUFLb1YsWUFBY2hPLEVBQVN3UixVQUFVTSxpQkFTdkU3RCx5QkFDSSxJQUFJblMsRUFBTWxELEtBQUtrRCxJQUNYaVosRUFBTSxHQUVWLEdBQUluYyxLQUFLb2MsVUFBVyxDQUNoQixJQUFNQyxFQUFhblosRUFBSTFPLFFBQVEsS0FFL0IybkIsRUFBTWpaLEVBQUlvWixVQUFVRCxFQUFhLEVBQUduWixFQUFJMU8sUUFBUSxJQUFLNm5CLFFBRXBELENBQ0QsSUFBTUUsRUFBYXJaLEVBQUkxTyxRQUFRLEtBQ3pCZ29CLEVBQVl0WixFQUFJMU8sUUFBUSxLQUN4QmlvQixFQUFRN1EsS0FBSzhRLElBQ2ZILEdBQWMsRUFBSUEsRUFBYXJaLEVBQUl2TSxPQUNuQzZsQixHQUFhLEVBQUlBLEVBQVl0WixFQUFJdk0sUUFJckN3bEIsR0FEQWpaLEVBQU1BLEVBQUlvWixVQUFVLEVBQUdHLElBQ2JILFVBQVVwWixFQUFJcUIsWUFBWSxLQUFPLEdBRy9DLE9BQU80WCxFQUFJalksMkJBV2Z5WSw2QkFBb0I5aEIsR0FDaEIsT0FBUUEsR0FDSixLQUFLdU0sRUFBU3FULGtCQUFrQlksT0FDNUIsTUFBTywyQkFFWCxLQUFLalUsRUFBU3FULGtCQUFrQm1DLEtBQzVCLE1BQU8sbUJBRVgsS0FBS3hWLEVBQVNxVCxrQkFBa0JDLFNBQzVCLE1BQU8sa0JBRVgsS0FBS3RULEVBQVNxVCxrQkFBa0IxaEIsS0FDNUIsTUFBTyxtQkFFWCxLQUFLcU8sRUFBU3FULGtCQUFrQm9DLFFBQ2hDLEtBQUt6VixFQUFTcVQsa0JBQWtCRyxLQUVoQyxRQUNJLE1BQU8sb0RBenBCZixPQUFPNWEsS0FBS3FaLFNBQVNqUyxFQUFTOE4sYUFBYUMsNkNBVzNDLE9BQU9uVixLQUFLcVosU0FBU2pTLEVBQVM4TixhQUFhMkUsNENBVzNDLE9BQU83WixLQUFLcVosU0FBU2pTLEVBQVM4TixhQUFhdUQsa0JBd3hCbkQsU0FBU2hCLEVBQVVoZCxFQUFLK2MsRUFBU3NGLEdBQ3pCdEYsR0FBb0MsSUFBekJBLEVBQVFoakIsUUFBUSxPQUMzQmdqQixFQUFVQSxFQUFROEUsVUFBVSxJQUczQjlFLElBSUwvYyxFQUFJK2MsR0FBV3NGLEdBVW5CLFNBQVM1QixFQUFRdkYsR0FDYixPQUFPQSxFQUFJb0gsV0FBV3JaLFFBQVEsVUFBVyxJQTdKN0MwRCxFQUFTOE4sYUFBZSxDQUNwQjhILEtBQVksRUFDWjdILFNBQWEsRUFDYjBFLFNBQWEsRUFDYnBCLFFBQWEsR0FVakJyUixFQUFTd08sS0FBTyxDQUNaQyxRQUFZLEVBQ1o5YyxLQUFZLEVBQ1o0aUIsSUFBWSxFQUNaOUMsTUFBWSxFQUNaRSxNQUFZLEVBQ1pFLE1BQVksRUFDWjJCLEtBQVksR0FVaEJ4VCxFQUFTd1IsVUFBWSxDQUVqQk0sSUFBUSxFQUVSTCxNQUFRLEVBRVJFLE1BQVEsRUFFUkUsTUFBUSxHQVVaN1IsRUFBU3FULGtCQUFvQixDQUV6Qm9DLFFBQVksT0FFWnhCLE9BQVksY0FFWnVCLEtBQVksT0FFWmxDLFNBQVksV0FFWjNoQixLQUFZLE9BRVo2aEIsS0FBWSxRQUdoQnhULEVBQVNzUSxhQUFlLENBRXBCdUYsSUFBWTdWLEVBQVN3UixVQUFVQyxNQUMvQnFFLElBQVk5VixFQUFTd1IsVUFBVUMsTUFDL0JzRSxJQUFZL1YsRUFBU3dSLFVBQVVDLE1BQy9CdUUsSUFBWWhXLEVBQVN3UixVQUFVQyxNQUMvQndFLEtBQVlqVyxFQUFTd1IsVUFBVUMsTUFDL0J5RSxJQUFZbFcsRUFBU3dSLFVBQVVDLE1BQy9CMEUsS0FBWW5XLEVBQVN3UixVQUFVQyxNQUMvQjJFLEtBQVlwVyxFQUFTd1IsVUFBVUMsTUFDL0I0RSxJQUFZclcsRUFBU3dSLFVBQVVDLE1BQy9CNkUsSUFBWXRXLEVBQVN3UixVQUFVQyxNQUMvQjhFLFVBQVl2VyxFQUFTd1IsVUFBVUMsTUFHL0IrRSxJQUFZeFcsRUFBU3dSLFVBQVVHLE1BQy9COEUsSUFBWXpXLEVBQVN3UixVQUFVRyxNQUMvQitFLElBQVkxVyxFQUFTd1IsVUFBVUcsTUFHL0JnRixJQUFZM1csRUFBU3dSLFVBQVVLLE1BQy9CK0UsS0FBWTVXLEVBQVN3UixVQUFVSyxPQUduQzdSLEVBQVN3USxZQUFjLENBRW5CcUcsTUFBWTdXLEVBQVNxVCxrQkFBa0JDLFNBQ3ZDd0QsS0FBWTlXLEVBQVNxVCxrQkFBa0JDLFNBQ3ZDeUQsSUFBWS9XLEVBQVNxVCxrQkFBa0JDLFNBQ3ZDMEQsSUFBWWhYLEVBQVNxVCxrQkFBa0JDLFNBQ3ZDMkQsSUFBWWpYLEVBQVNxVCxrQkFBa0JDLFNBQ3ZDZ0QsSUFBWXRXLEVBQVNxVCxrQkFBa0JDLFNBS3ZDNEQsSUFBWWxYLEVBQVNxVCxrQkFBa0JDLFNBR3ZDdUMsSUFBWTdWLEVBQVNxVCxrQkFBa0JtQyxLQUN2Q00sSUFBWTlWLEVBQVNxVCxrQkFBa0JtQyxLQUN2Q08sSUFBWS9WLEVBQVNxVCxrQkFBa0JtQyxLQUN2Q1EsSUFBWWhXLEVBQVNxVCxrQkFBa0JtQyxLQUN2Q1MsS0FBWWpXLEVBQVNxVCxrQkFBa0JtQyxLQUN2Q1UsSUFBWWxXLEVBQVNxVCxrQkFBa0JtQyxLQUN2Q1csS0FBWW5XLEVBQVNxVCxrQkFBa0JtQyxLQUN2Q1ksS0FBWXBXLEVBQVNxVCxrQkFBa0JtQyxLQUN2Q2EsSUFBWXJXLEVBQVNxVCxrQkFBa0JtQyxLQUd2QzJCLEtBQVluWCxFQUFTcVQsa0JBQWtCMWhCLEtBR3ZDcWlCLEtBQVloVSxFQUFTcVQsa0JBQWtCRyxLQUN2QzRELElBQVlwWCxFQUFTcVQsa0JBQWtCRyxLQUd2QzZELElBQVlyWCxFQUFTcVQsa0JBQWtCWSxPQUN2Q3FELElBQVl0WCxFQUFTcVQsa0JBQWtCWSxRQUkzQ2pVLEVBQVM4USxVQUFZLHFGQW9DakIvZCxFQUFPaUQsUUFBUXFLLFFBQVVMLG9CQzNwQzdCLFNBQUF1WCxFQUFBQyxHQUFBLElBQUFyZ0IsR0FBQSxTQUFBb2dCLEdBTUEsSUFBQUUsRUFBQUYsRUFBQSxRQUNBRyxFQUNBRCxHQUdBLFlBQUFBLEdBQ0EsV0FBQUEsR0FDQSxRQUFBQSxHQUNBLFNBQUFBLEdBR0EsV0FDQSxJQUFBem1CLEVBRUEsT0FEQSxJQUFBeW1CLEVBQUEsU0FBQXBoQixHQUFrQ3JGLEVBQUFxRixJQUNsQyxtQkFBQXJGLEVBSEEsR0FXa0NnRixHQUdsQ0EsRUFBQWpGLFFBQUEybUIsRUFBQUQsRUFBQTFtQixFQUNBaUYsRUFBQTJoQixTQUFBNW1CLFFBU0sxQixLQUZEOEgsRUFBQSxXQUNKLE9BQUF1Z0IsRUFBQUQsRUFBQTFtQixHQUNLakYsS0FBQWtLLEVBQUFsSixFQUFBa0osRUFBQWpELFFBQUFpRCxRQUFBbUIsR0FlTCxJQUFBeWdCLEVBQUEsVUFDQUMsRUFBQSxTQUNBQyxFQUFBLFlBQ0FDLEVBQUEsV0FDQUMsRUFBQSxhQUVBLFNBQUFoRixFQUFBamxCLEdBQ0EseUJBQUFwQyxPQUFBQyxVQUFBK3BCLFNBQUE3cEIsS0FBQWlDLEdBSUEsSUFFQWtxQixFQUZBQyxPQUFBLElBQUFWLElBQUFwTCxXQUNBK0wsRUFBQSxHQUdBLFNBQUFDLElBRUEsUUFBQTlvQixFQUFBLEVBQWlCQSxFQUFBNm9CLEVBQUE1b0IsT0FBdUJELElBQ3hDNm9CLEVBQUE3b0IsR0FBQSxHQUFBNm9CLEVBQUE3b0IsR0FBQSxJQUdBNm9CLEVBQUEsR0FDQUYsR0FBQSxFQUdBLFNBQUFJLEVBQUFqcEIsRUFBQWtwQixHQUNBSCxFQUFBOXFCLEtBQUEsQ0FBQStCLEVBQUFrcEIsSUFFQUwsSUFFQUEsR0FBQSxFQUNBQyxFQUFBRSxFQUFBLElBcUJBLFNBQUFHLEVBQUFDLEdBQ0EsSUFBQUMsRUFBQUQsRUFBQUMsTUFDQUMsRUFBQUQsRUFBQUUsT0FDQTVxQixFQUFBMHFCLEVBQUFHLE1BQ0F4cEIsRUFBQW9wQixFQUFBRSxHQUNBMW1CLEVBQUF3bUIsRUFBQXBxQixLQUVBLHNCQUFBZ0IsRUFDQSxDQUNBc3BCLEVBQUFaLEVBQ0EsSUFDQS9wQixFQUFBcUIsRUFBQXJCLEdBQ0ssTUFBQUUsR0FDTGdELEVBQUFlLEVBQUEvRCxJQUlBNHFCLEVBQUE3bUIsRUFBQWpFLEtBRUEycUIsSUFBQVosR0FDQTltQixFQUFBZ0IsRUFBQWpFLEdBRUEycUIsSUFBQVgsR0FDQTltQixFQUFBZSxFQUFBakUsSUFJQSxTQUFBOHFCLEVBQUE3bUIsRUFBQWpFLEdBQ0EsSUFBQStxQixFQUVBLElBQ0EsR0FBQTltQixJQUFBakUsRUFDQSxVQUFBbU8sVUFBQSx3REFFQSxHQUFBbk8sSUFBQSxtQkFBQUEsR0FBQSxpQkFBQUEsR0FDQSxDQUNBLElBQUFLLEVBQUFMLEVBQUFLLEtBRUEsc0JBQUFBLEVBcUJBLE9BbkJBQSxFQUFBdEMsS0FBQWlDLEVBQUEsU0FBQTJuQixHQUNBb0QsSUFFQUEsR0FBQSxFQUVBL3FCLElBQUEybkIsRUFDQTFrQixFQUFBZ0IsRUFBQTBqQixHQUVBcUQsRUFBQS9tQixFQUFBMGpCLEtBRVMsU0FBQXNELEdBQ1RGLElBRUFBLEdBQUEsRUFFQTduQixFQUFBZSxFQUFBZ25CLE9BSUEsR0FHRyxNQUFBL3FCLEdBSUgsT0FIQTZxQixHQUNBN25CLEVBQUFlLEVBQUEvRCxJQUVBLEVBR0EsU0FHQSxTQUFBK0MsRUFBQWdCLEVBQUFqRSxHQUNBaUUsSUFBQWpFLEdBQUE4cUIsRUFBQTdtQixFQUFBakUsSUFDQWdyQixFQUFBL21CLEVBQUFqRSxHQUdBLFNBQUFnckIsRUFBQS9tQixFQUFBakUsR0FDQWlFLEVBQUEybUIsU0FBQWYsSUFFQTVsQixFQUFBMm1CLE9BQUFkLEVBQ0E3bEIsRUFBQTRtQixNQUFBN3FCLEVBRUFzcUIsRUFBQVksRUFBQWpuQixJQUlBLFNBQUFmLEVBQUFlLEVBQUFnbkIsR0FDQWhuQixFQUFBMm1CLFNBQUFmLElBRUE1bEIsRUFBQTJtQixPQUFBZCxFQUNBN2xCLEVBQUE0bUIsTUFBQUksRUFFQVgsRUFBQWEsRUFBQWxuQixJQUlBLFNBQUFtbkIsRUFBQW5uQixHQUNBLElBQUEwRCxFQUFBMUQsRUFBQW9uQixNQUNBcG5CLEVBQUFvbkIsV0FBQS9wQixFQUVBLFFBQUFDLEVBQUEsRUFBaUJBLEVBQUFvRyxFQUFBbkcsT0FBc0JELElBQ3ZDaXBCLEVBQUE3aUIsRUFBQXBHLElBSUEsU0FBQTJwQixFQUFBam5CLEdBQ0FBLEVBQUEybUIsT0FBQWIsRUFDQXFCLEVBQUFubkIsR0FHQSxTQUFBa25CLEVBQUFsbkIsR0FDQUEsRUFBQTJtQixPQUFBWixFQUNBb0IsRUFBQW5uQixHQU1BLFNBQUFqQixFQUFBc29CLEdBQ0Esc0JBQUFBLEVBQ0EsVUFBQW5kLFVBQUEsaURBRUEsR0FBQXRELGdCQUFBN0gsSUFBQSxFQUNBLFVBQUFtTCxVQUFBLHlIQUVBdEQsS0FBQXdnQixNQUFBLEdBOUlBLFNBQUFDLEVBQUFybkIsR0FLQSxTQUFBc25CLEVBQUFOLEdBQ0EvbkIsRUFBQWUsRUFBQWduQixHQUdBLElBQ0FLLEVBVEEsU0FBQXRyQixHQUNBaUQsRUFBQWdCLEVBQUFqRSxJQVFBdXJCLEdBQ0csTUFBQXJyQixHQUNIcXJCLEVBQUFyckIsSUFvSUFzckIsQ0FBQUYsRUFBQXpnQixNQUdBN0gsRUFBQW5GLFVBQUEsQ0FDQTR0QixZQUFBem9CLEVBRUE0bkIsT0FBQWYsRUFDQXdCLE1BQUEsS0FDQVIsV0FBQXZwQixFQUVBakIsS0FBQSxTQUFBcXJCLEVBQUFDLEdBQ0EsSUFBQWxCLEVBQUEsQ0FDQUMsTUFBQTdmLEtBQ0F4SyxLQUFBLElBQUF3SyxLQUFBNGdCLFlBQUF4QixHQUNBMkIsVUFBQUYsRUFDQUcsU0FBQUYsR0FjQSxPQVhBOWdCLEtBQUErZixTQUFBYixHQUFBbGYsS0FBQStmLFNBQUFaLEVBR0FNLEVBQUFFLEVBQUFDLEdBS0E1ZixLQUFBd2dCLE1BQUEvckIsS0FBQW1yQixHQUdBQSxFQUFBcHFCLE1BR0F5ckIsTUFBQSxTQUFBSCxHQUNBLE9BQUE5Z0IsS0FBQXhLLEtBQUEsS0FBQXNyQixLQUlBM29CLEVBQUErb0IsSUFBQSxTQUFBQyxHQUdBLElBQUEvRyxFQUFBK0csR0FDQSxVQUFBN2QsVUFBQSw0Q0FFQSxXQUxBdEQsS0FLQSxTQUFBNUgsRUFBQUMsR0FDQSxJQUFBK29CLEVBQUEsR0FDQUMsRUFBQSxFQUVBLFNBQUFaLEVBQUFoRSxHQUVBLE9BREE0RSxJQUNBLFNBQUFsc0IsR0FDQWlzQixFQUFBM0UsR0FBQXRuQixJQUNBa3NCLEdBQ0FqcEIsRUFBQWdwQixJQUlBLFFBQUFob0IsRUFBQTFDLEVBQUEsRUFBNEJBLEVBQUF5cUIsRUFBQXhxQixPQUFxQkQsS0FFakQwQyxFQUFBK25CLEVBQUF6cUIsS0FFQSxtQkFBQTBDLEVBQUE1RCxLQUNBNEQsRUFBQTVELEtBQUFpckIsRUFBQS9wQixHQUFBMkIsR0FFQStvQixFQUFBMXFCLEdBQUEwQyxFQUdBaW9CLEdBQ0FqcEIsRUFBQWdwQixNQUlBanBCLEVBQUFtcEIsS0FBQSxTQUFBSCxHQUdBLElBQUEvRyxFQUFBK0csR0FDQSxVQUFBN2QsVUFBQSw2Q0FFQSxXQUxBdEQsS0FLQSxTQUFBNUgsRUFBQUMsR0FDQSxRQUFBZSxFQUFBMUMsRUFBQSxFQUE0QkEsRUFBQXlxQixFQUFBeHFCLE9BQXFCRCxLQUVqRDBDLEVBQUErbkIsRUFBQXpxQixLQUVBLG1CQUFBMEMsRUFBQTVELEtBQ0E0RCxFQUFBNUQsS0FBQTRDLEVBQUFDLEdBRUFELEVBQUFnQixNQUtBakIsRUFBQUMsUUFBQSxTQUFBakQsR0FHQSxPQUFBQSxHQUFBLGlCQUFBQSxLQUFBeXJCLGNBRkE1Z0IsS0FHQTdLLEVBRUEsSUFMQTZLLEtBS0EsU0FBQTVILEdBQ0FBLEVBQUFqRCxNQUlBZ0QsRUFBQUUsT0FBQSxTQUFBK25CLEdBR0EsV0FGQXBnQixLQUVBLFNBQUE1SCxFQUFBQyxHQUNBQSxFQUFBK25CLE1BclZBLENBeVZDLG9CQUFBM3RCLG1CQUFBLElBQUFrc0IsSUFBQSxvQkFBQTFNLFVBQUFqUzs7Ozs7RUNqVkQsSUFBQTZJLEVBQUE5VixPQUFBOFYsc0JBQ0E1VixFQUFBRixPQUFBQyxVQUFBQyxlQUNBc3VCLEVBQUF4dUIsT0FBQUMsVUFBQXd1QixxQkFzREFybkIsRUFBQWlELFFBNUNBLFdBQ0EsSUFDQSxJQUFBckssT0FBQTB1QixPQUNBLFNBTUEsSUFBQUMsRUFBQSxJQUFBQyxPQUFBLE9BRUEsR0FEQUQsRUFBQSxRQUNBLE1BQUEzdUIsT0FBQTZ1QixvQkFBQUYsR0FBQSxHQUNBLFNBS0EsSUFEQSxJQUFBRyxFQUFBLEdBQ0FuckIsRUFBQSxFQUFpQkEsRUFBQSxHQUFRQSxJQUN6Qm1yQixFQUFBLElBQUFGLE9BQUFHLGFBQUFwckIsTUFLQSxrQkFIQTNELE9BQUE2dUIsb0JBQUFDLEdBQUFwbkIsSUFBQSxTQUFBd0QsR0FDQSxPQUFBNGpCLEVBQUE1akIsS0FFQXRDLEtBQUEsSUFDQSxTQUlBLElBQUFvbUIsRUFBQSxHQUlBLE1BSEEsdUJBQUFoakIsTUFBQSxJQUFBMUMsUUFBQSxTQUFBMmxCLEdBQ0FELEVBQUFDLE9BR0EseUJBREFqdkIsT0FBQXFKLEtBQUFySixPQUFBMHVCLE9BQUEsR0FBa0NNLElBQUFwbUIsS0FBQSxJQU1oQyxNQUFBakcsR0FFRixVQUlBdXNCLEdBQUFsdkIsT0FBQTB1QixPQUFBLFNBQUEzUSxFQUFBM1AsR0FLQSxJQUpBLElBQUErZ0IsRUFFQUMsRUFEQUMsRUF0REEsU0FBQXRGLEdBQ0EsR0FBQUEsUUFDQSxVQUFBeFosVUFBQSx5REFHQSxPQUFBdlEsT0FBQStwQixHQWlEQXVGLENBQUF2UixHQUdBMVMsRUFBQSxFQUFnQkEsRUFBQXVMLFVBQUFoVCxPQUFzQnlILElBQUEsQ0FHdEMsUUFBQUwsS0FGQW1rQixFQUFBbnZCLE9BQUE0VyxVQUFBdkwsSUFHQW5MLEVBQUFDLEtBQUFndkIsRUFBQW5rQixLQUNBcWtCLEVBQUFya0IsR0FBQW1rQixFQUFBbmtCLElBSUEsR0FBQThLLEVBQUEsQ0FDQXNaLEVBQUF0WixFQUFBcVosR0FDQSxRQUFBeHJCLEVBQUEsRUFBa0JBLEVBQUF5ckIsRUFBQXhyQixPQUFvQkQsSUFDdEM2cUIsRUFBQXJ1QixLQUFBZ3ZCLEVBQUFDLEVBQUF6ckIsTUFDQTByQixFQUFBRCxFQUFBenJCLElBQUF3ckIsRUFBQUMsRUFBQXpyQixNQU1BLE9BQUEwckI7Ozs7Ozs7O0FDckZLM3ZCLE9BQU8wRixVQUVSMUYsT0FBTzBGLFFBQVVtcUIsRUFBQSxVQ0NoQnZ2QixPQUFPMHVCLFNBRVIxdUIsT0FBTzB1QixPQUFTYyxFQUFBcm5CLG1JQ2VwQixHQVRNc25CLEtBQUtDLEtBQU9ELEtBQUt4dkIsVUFBVTB2QixVQUU3QkYsS0FBS0MsSUFBTSxXQUVQLE9BQU8sSUFBSUQsTUFBT0UsYUFLcEIvRCxFQUFPZ0UsY0FBZWhFLEVBQU9nRSxZQUFZRixJQUMvQyxDQUNJRyxJQUFNQyxFQUFZTCxLQUFLQyxNQUVsQjlELEVBQU9nRSxjQUVSaEUsRUFBT2dFLFlBQWMsSUFHekJoRSxFQUFPZ0UsWUFBWUYsSUFBRyxrQkFBU0QsS0FBS0MsTUFBUUksR0FPaEQsSUFIQUMsSUFBSUMsRUFBV1AsS0FBS0MsTUFDZE8sRUFBVSxDQUFDLEtBQU0sTUFBTyxTQUFVLEtBRS9CeFksRUFBSSxFQUFHQSxFQUFJd1ksRUFBUXJzQixTQUFXZ29CLEVBQU9zRSx3QkFBeUJ6WSxFQUN2RSxDQUNJb1ksSUFBTXBxQixFQUFJd3FCLEVBQVF4WSxHQUVsQm1VLEVBQU9zRSxzQkFBd0J0RSxFQUFVbm1CLEVBQUMseUJBQzFDbW1CLEVBQU91RSxxQkFBdUJ2RSxFQUFVbm1CLEVBQUMseUJBQTJCbW1CLEVBQVVubUIsRUFBQywrQkFHOUVtbUIsRUFBT3NFLHdCQUVSdEUsRUFBT3NFLHNCQUFxQixTQUFJenNCLEdBRTVCLEdBQXdCLG1CQUFiQSxFQUVQLE1BQU0sSUFBSThNLFVBQWE5TSxFQUFRLHFCQUduQ29zQixJQUFNTyxFQUFjWCxLQUFLQyxNQUNyQlcsRUE5Q1csR0E4Q2NMLEVBQVdJLEVBU3hDLE9BUElDLEVBQVEsSUFFUkEsRUFBUSxHQUdaTCxFQUFXSSxFQUVKM1AsV0FBVSxXQUVidVAsRUFBV1AsS0FBS0MsTUFDaEJqc0IsRUFBU21zQixZQUFZRixRQUN0QlcsS0FJTnpFLEVBQU91RSx1QkFFUnZFLEVBQU91RSxxQkFBb0IsU0FBSWxyQixHQUFFLE9BQUt1aEIsYUFBYXZoQixLQ3pFbEQ0VCxLQUFLeVgsT0FFTnpYLEtBQUt5WCxLQUFPLFNBQWtCN1ksR0FJMUIsT0FBVSxLQUZWQSxFQUFJOFksT0FBTzlZLEtBRUkrWSxNQUFNL1ksR0FFVkEsRUFHSkEsRUFBSSxFQUFJLEdBQUssSUNYdkI4WSxPQUFPRSxZQUVSRixPQUFPRSxVQUFZLFNBQXlCcnVCLEdBRXhDLE1BQXdCLGlCQUFWQSxHQUFzQnN1QixTQUFTdHVCLElBQVV5VyxLQUFLOFgsTUFBTXZ1QixLQUFXQSxJYkRoRjFDLE9BQU9reEIsY0FFUmx4QixPQUFPa3hCLFlBQWMxYSxPQUdwQnhXLE9BQU9teEIsZUFFUm54QixPQUFPbXhCLGFBQWUzYSxPQUdyQnhXLE9BQU9veEIsY0FFUnB4QixPQUFPb3hCLFlBQWM1YSxPQUdwQnhXLE9BQU9xeEIsY0FFUnJ4QixPQUFPcXhCLFlBQWM3YSxPQUdwQnhXLE9BQU9zeEIsYUFFUnR4QixPQUFPc3hCLFdBQWE5YSxPQUduQnhXLE9BQU91eEIsYUFFUnZ4QixPQUFPdXhCLFdBQWEvYSwyQ2NqQ3hCLFNBQUEwVixHQUFBLElBQUFzRixPQUFBLElBQUF0RixNQUNBLG9CQUFBMU0sWUFDQXhmLE9BQ0EyRSxFQUFBOEksU0FBQWxOLFVBQUFvRSxNQWlCQSxTQUFBOHNCLEVBQUFsc0IsRUFBQW1zQixHQUNBbmtCLEtBQUFva0IsSUFBQXBzQixFQUNBZ0ksS0FBQXFrQixTQUFBRixFQWZBL21CLEVBQUFvVyxXQUFBLFdBQ0EsV0FBQTBRLEVBQUE5c0IsRUFBQWxFLEtBQUFzZ0IsV0FBQXlRLEVBQUF0YSxXQUFBNFAsZUFFQW5jLEVBQUFrbkIsWUFBQSxXQUNBLFdBQUFKLEVBQUE5c0IsRUFBQWxFLEtBQUFveEIsWUFBQUwsRUFBQXRhLFdBQUE0YSxnQkFFQW5uQixFQUFBbWMsYUFDQW5jLEVBQUFtbkIsY0FBQSxTQUFBN3JCLEdBQ0FBLEdBQ0FBLEVBQUE4ckIsU0FRQU4sRUFBQWx4QixVQUFBeXhCLE1BQUFQLEVBQUFseEIsVUFBQTB4QixJQUFBLGFBQ0FSLEVBQUFseEIsVUFBQXd4QixNQUFBLFdBQ0F4a0IsS0FBQXFrQixTQUFBbnhCLEtBQUErd0IsRUFBQWprQixLQUFBb2tCLE1BSUFobkIsRUFBQXVuQixPQUFBLFNBQUF2cEIsRUFBQXdwQixHQUNBckwsYUFBQW5lLEVBQUF5cEIsZ0JBQ0F6cEIsRUFBQTBwQixhQUFBRixHQUdBeG5CLEVBQUEybkIsU0FBQSxTQUFBM3BCLEdBQ0FtZSxhQUFBbmUsRUFBQXlwQixnQkFDQXpwQixFQUFBMHBCLGNBQUEsR0FHQTFuQixFQUFBNG5CLGFBQUE1bkIsRUFBQTlJLE9BQUEsU0FBQThHLEdBQ0FtZSxhQUFBbmUsRUFBQXlwQixnQkFFQSxJQUFBRCxFQUFBeHBCLEVBQUEwcEIsYUFDQUYsR0FBQSxJQUNBeHBCLEVBQUF5cEIsZUFBQXJSLFdBQUEsV0FDQXBZLEVBQUFxYixZQUNBcmIsRUFBQXFiLGNBQ0ttTyxLQUtMMXdCLEVBQVEsSUFJUmtKLEVBQUF3aEIsYUFBQSxvQkFBQTNNLFdBQUEyTSxtQkFDQSxJQUFBRCxLQUFBQyxjQUNBNWUsV0FBQTRlLGFBQ0F4aEIsRUFBQTZuQixlQUFBLG9CQUFBaFQsV0FBQWdULHFCQUNBLElBQUF0RyxLQUFBc0csZ0JBQ0FqbEIsV0FBQWlsQixtREM5REEsU0FBQXRHLEVBQUFySyxJQUFBLFNBQUFxSyxFQUFBbG9CLEdBQ0EsYUFFQSxJQUFBa29CLEVBQUFDLGFBQUEsQ0FJQSxJQUlBc0csRUE2SEFoSCxFQVpBaUgsRUFyQkFDLEVBQ0FDLEVBakdBQyxFQUFBLEVBQ0FDLEVBQUEsR0FDQUMsR0FBQSxFQUNBQyxFQUFBOUcsRUFBQXJsQixTQW9KQW9zQixFQUFBM3lCLE9BQUE0eUIsZ0JBQUE1eUIsT0FBQTR5QixlQUFBaEgsR0FDQStHLE9BQUFsUyxXQUFBa1MsRUFBQS9HLEVBR1UscUJBQVYsR0FBVTVCLFNBQUE3cEIsS0FBQXlyQixFQUFBckssU0FwRlY0USxFQUFBLFNBQUFVLEdBQ0F0UixFQUFBdVIsU0FBQSxXQUEwQ0MsRUFBQUYsT0FJMUMsV0FHQSxHQUFBakgsRUFBQW9ILGNBQUFwSCxFQUFBcUgsY0FBQSxDQUNBLElBQUFDLEdBQUEsRUFDQUMsRUFBQXZILEVBQUF3SCxVQU1BLE9BTEF4SCxFQUFBd0gsVUFBQSxXQUNBRixHQUFBLEdBRUF0SCxFQUFBb0gsWUFBQSxRQUNBcEgsRUFBQXdILFVBQUFELEVBQ0FELEdBd0VLRyxHQUlBekgsRUFBQTBILGlCQTlDTGxCLEVBQUEsSUFBQWtCLGdCQUNBQyxNQUFBSCxVQUFBLFNBQUFqZSxHQUVBNGQsRUFEQTVkLEVBQUF2USxPQUlBdXRCLEVBQUEsU0FBQVUsR0FDQVQsRUFBQW9CLE1BQUFSLFlBQUFILEtBMkNLSCxHQUFBLHVCQUFBQSxFQUFBbHNCLGNBQUEsV0F0Q0wya0IsRUFBQXVILEVBQUFlLGdCQUNBdEIsRUFBQSxTQUFBVSxHQUdBLElBQUF2c0IsRUFBQW9zQixFQUFBbHNCLGNBQUEsVUFDQUYsRUFBQVQsbUJBQUEsV0FDQWt0QixFQUFBRixHQUNBdnNCLEVBQUFULG1CQUFBLEtBQ0FzbEIsRUFBQTlGLFlBQUEvZSxHQUNBQSxFQUFBLE1BRUE2a0IsRUFBQXZrQixZQUFBTixLQUtBNnJCLEVBQUEsU0FBQVUsR0FDQXBTLFdBQUFzUyxFQUFBLEVBQUFGLEtBbERBUixFQUFBLGdCQUFBeFosS0FBQTZhLFNBQUEsSUFDQXBCLEVBQUEsU0FBQW5kLEdBQ0FBLEVBQUEvRyxTQUFBd2QsR0FDQSxpQkFBQXpXLEVBQUF2USxNQUNBLElBQUF1USxFQUFBdlEsS0FBQW5ELFFBQUE0d0IsSUFDQVUsR0FBQTVkLEVBQUF2USxLQUFBNkMsTUFBQTRxQixFQUFBenVCLFVBSUFnb0IsRUFBQTFFLGlCQUNBMEUsRUFBQTFFLGlCQUFBLFVBQUFvTCxHQUFBLEdBRUExRyxFQUFBK0gsWUFBQSxZQUFBckIsR0FHQUgsRUFBQSxTQUFBVSxHQUNBakgsRUFBQW9ILFlBQUFYLEVBQUFRLEVBQUEsT0FnRUFGLEVBQUE5RyxhQTFLQSxTQUFBcG9CLEdBRUEsbUJBQUFBLElBQ0FBLEVBQUEsSUFBQTBKLFNBQUEsR0FBQTFKLElBSUEsSUFEQSxJQUFBaVQsRUFBQSxJQUFBUixNQUFBVSxVQUFBaFQsT0FBQSxHQUNBRCxFQUFBLEVBQXFCQSxFQUFBK1MsRUFBQTlTLE9BQWlCRCxJQUN0QytTLEVBQUEvUyxHQUFBaVQsVUFBQWpULEVBQUEsR0FHQSxJQUFBNmQsRUFBQSxDQUFrQi9kLFdBQUFpVCxRQUdsQixPQUZBOGIsRUFBQUQsR0FBQS9RLEVBQ0EyUSxFQUFBSSxHQUNBQSxLQTZKQUksRUFBQVQsaUJBMUpBLFNBQUFBLEVBQUFXLFVBQ0FMLEVBQUFLLEdBeUJBLFNBQUFFLEVBQUFGLEdBR0EsR0FBQUosRUFHQWhTLFdBQUFzUyxFQUFBLEVBQUFGLE9BQ1MsQ0FDVCxJQUFBclIsRUFBQWdSLEVBQUFLLEdBQ0EsR0FBQXJSLEVBQUEsQ0FDQWlSLEdBQUEsRUFDQSxLQWpDQSxTQUFBalIsR0FDQSxJQUFBL2QsRUFBQStkLEVBQUEvZCxTQUNBaVQsRUFBQThLLEVBQUE5SyxLQUNBLE9BQUFBLEVBQUE5UyxRQUNBLE9BQ0FILElBQ0EsTUFDQSxPQUNBQSxFQUFBaVQsRUFBQSxJQUNBLE1BQ0EsT0FDQWpULEVBQUFpVCxFQUFBLEdBQUFBLEVBQUEsSUFDQSxNQUNBLE9BQ0FqVCxFQUFBaVQsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsSUFDQSxNQUNBLFFBQ0FqVCxFQUFBWSxNQUFBWCxFQUFBZ1QsSUFpQkFrZCxDQUFBcFMsR0FDaUIsUUFDakIwUSxFQUFBVyxHQUNBSixHQUFBLE1BdkVBLENBeUxDLG9CQUFBdlQsVUFBQSxJQUFBME0sRUFBQTNlLEtBQUEyZSxFQUFBMU0sNkNDeExELElBT0EyVSxFQUNBQyxFQVJBdlMsRUFBQW5hLEVBQUFpRCxRQUFBLEdBVUEsU0FBQTBwQixJQUNBLFVBQUE3dUIsTUFBQSxtQ0FFQSxTQUFBOHVCLElBQ0EsVUFBQTl1QixNQUFBLHFDQXNCQSxTQUFBK3VCLEVBQUFDLEdBQ0EsR0FBQUwsSUFBQXBULFdBRUEsT0FBQUEsV0FBQXlULEVBQUEsR0FHQSxJQUFBTCxJQUFBRSxJQUFBRixJQUFBcFQsV0FFQSxPQURBb1QsRUFBQXBULFdBQ0FBLFdBQUF5VCxFQUFBLEdBRUEsSUFFQSxPQUFBTCxFQUFBSyxFQUFBLEdBQ0ssTUFBQTV4QixHQUNMLElBRUEsT0FBQXV4QixFQUFBMXpCLEtBQUEsS0FBQSt6QixFQUFBLEdBQ1MsTUFBQTV4QixHQUVULE9BQUF1eEIsRUFBQTF6QixLQUFBOE0sS0FBQWluQixFQUFBLE1BdkNBLFdBQ0EsSUFFQUwsRUFEQSxtQkFBQXBULFdBQ0FBLFdBRUFzVCxFQUVLLE1BQUF6eEIsR0FDTHV4QixFQUFBRSxFQUVBLElBRUFELEVBREEsbUJBQUF0TixhQUNBQSxhQUVBd04sRUFFSyxNQUFBMXhCLEdBQ0x3eEIsRUFBQUUsR0FqQkEsR0F3RUEsSUFFQUcsRUFGQTNzQixFQUFBLEdBQ0E0c0IsR0FBQSxFQUVBQyxHQUFBLEVBRUEsU0FBQUMsSUFDQUYsR0FBQUQsSUFHQUMsR0FBQSxFQUNBRCxFQUFBdndCLE9BQ0E0RCxFQUFBMnNCLEVBQUFsc0IsT0FBQVQsR0FFQTZzQixHQUFBLEVBRUE3c0IsRUFBQTVELFFBQ0Eyd0IsS0FJQSxTQUFBQSxJQUNBLElBQUFILEVBQUEsQ0FHQSxJQUFBenVCLEVBQUFzdUIsRUFBQUssR0FDQUYsR0FBQSxFQUdBLElBREEsSUFBQXpkLEVBQUFuUCxFQUFBNUQsT0FDQStTLEdBQUEsQ0FHQSxJQUZBd2QsRUFBQTNzQixFQUNBQSxFQUFBLEtBQ0E2c0IsRUFBQTFkLEdBQ0F3ZCxHQUNBQSxFQUFBRSxHQUFBVCxNQUdBUyxHQUFBLEVBQ0ExZCxFQUFBblAsRUFBQTVELE9BRUF1d0IsRUFBQSxLQUNBQyxHQUFBLEVBbkVBLFNBQUFJLEdBQ0EsR0FBQVYsSUFBQXROLGFBRUEsT0FBQUEsYUFBQWdPLEdBR0EsSUFBQVYsSUFBQUUsSUFBQUYsSUFBQXROLGFBRUEsT0FEQXNOLEVBQUF0TixhQUNBQSxhQUFBZ08sR0FFQSxJQUVBVixFQUFBVSxHQUNLLE1BQUFseUIsR0FDTCxJQUVBLE9BQUF3eEIsRUFBQTN6QixLQUFBLEtBQUFxMEIsR0FDUyxNQUFBbHlCLEdBR1QsT0FBQXd4QixFQUFBM3pCLEtBQUE4TSxLQUFBdW5CLEtBZ0RBQyxDQUFBOXVCLElBaUJBLFNBQUErdUIsRUFBQVIsRUFBQTVULEdBQ0FyVCxLQUFBaW5CLE1BQ0FqbkIsS0FBQXFULFFBWUEsU0FBQXFVLEtBNUJBcFQsRUFBQXVSLFNBQUEsU0FBQW9CLEdBQ0EsSUFBQXhkLEVBQUEsSUFBQVIsTUFBQVUsVUFBQWhULE9BQUEsR0FDQSxHQUFBZ1QsVUFBQWhULE9BQUEsRUFDQSxRQUFBRCxFQUFBLEVBQXVCQSxFQUFBaVQsVUFBQWhULE9BQXNCRCxJQUM3QytTLEVBQUEvUyxFQUFBLEdBQUFpVCxVQUFBalQsR0FHQTZELEVBQUE5RixLQUFBLElBQUFnekIsRUFBQVIsRUFBQXhkLElBQ0EsSUFBQWxQLEVBQUE1RCxRQUFBd3dCLEdBQ0FILEVBQUFNLElBU0FHLEVBQUF6MEIsVUFBQTJ6QixJQUFBLFdBQ0EzbUIsS0FBQWluQixJQUFBN3ZCLE1BQUEsS0FBQTRJLEtBQUFxVCxRQUVBaUIsRUFBQXFULE1BQUEsVUFDQXJULEVBQUFzVCxTQUFBLEVBQ0F0VCxFQUFBdVQsSUFBQSxHQUNBdlQsRUFBQXdULEtBQUEsR0FDQXhULEVBQUF5VCxRQUFBLEdBQ0F6VCxFQUFBMFQsU0FBQSxHQUlBMVQsRUFBQXpLLEdBQUE2ZCxFQUNBcFQsRUFBQXRNLFlBQUEwZixFQUNBcFQsRUFBQXZNLEtBQUEyZixFQUNBcFQsRUFBQXZLLElBQUEyZCxFQUNBcFQsRUFBQTFLLGVBQUE4ZCxFQUNBcFQsRUFBQXhLLG1CQUFBNGQsRUFDQXBULEVBQUFuTCxLQUFBdWUsRUFDQXBULEVBQUEyVCxnQkFBQVAsRUFDQXBULEVBQUE0VCxvQkFBQVIsRUFFQXBULEVBQUF4TCxVQUFBLFNBQUFoVSxHQUFxQyxVQUVyQ3dmLEVBQUE2VCxRQUFBLFNBQUFyekIsR0FDQSxVQUFBbUQsTUFBQSxxQ0FHQXFjLEVBQUE4VCxJQUFBLFdBQTJCLFdBQzNCOVQsRUFBQStULE1BQUEsU0FBQUMsR0FDQSxVQUFBcndCLE1BQUEsbUNBRUFxYyxFQUFBaVUsTUFBQSxXQUE0Qiw0QkN2TDVCLFNBQUFwdUIsRUFBQXdrQixHQUFBLElBQUFwZ0IscURBQ0MsU0FBQWlxQixHQUc0Q3ByQixHQUM3Q0EsRUFBQXFyQixTQUMyQ3R1QixHQUMzQ0EsRUFBQXN1QixTQUhBLElBSUFDLEVBQUEsaUJBQUEvSixLQUVBK0osRUFBQS9KLFNBQUErSixHQUNBQSxFQUFBajJCLFNBQUFpMkIsR0FDQUEsRUFBQXpXLEtBVUEsSUFBQTlSLEVBR0F3b0IsRUFBQSxXQUdBQyxFQUFBLEdBQ0FDLEVBQUEsRUFDQUMsRUFBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsSUFDQUMsRUFBQSxHQUNBQyxFQUFBLElBQ0FDLEVBQUEsSUFHQUMsRUFBQSxRQUNBQyxFQUFBLGVBQ0FDLEVBQUEsNEJBR0FDLEVBQUEsQ0FDQUMsU0FBQSxrREFDQUMsWUFBQSxpREFDQUMsZ0JBQUEsaUJBSUFDLEVBQUFmLEVBQUFDLEVBQ0FuRixFQUFBOVgsS0FBQThYLE1BQ0FrRyxFQUFBakksT0FBQUcsYUFhQSxTQUFBamxCLEVBQUFoQyxHQUNBLFVBQUFndkIsV0FBQU4sRUFBQTF1QixJQVdBLFNBQUFKLEVBQUE0WSxFQUFBbGYsR0FHQSxJQUZBLElBQUF3QyxFQUFBMGMsRUFBQTFjLE9BQ0FtRCxFQUFBLEdBQ0FuRCxLQUNBbUQsRUFBQW5ELEdBQUF4QyxFQUFBa2YsRUFBQTFjLElBRUEsT0FBQW1ELEVBYUEsU0FBQWd3QixFQUFBQyxFQUFBNTFCLEdBQ0EsSUFBQTYxQixFQUFBRCxFQUFBaHJCLE1BQUEsS0FDQWpGLEVBQUEsR0FXQSxPQVZBa3dCLEVBQUFyekIsT0FBQSxJQUdBbUQsRUFBQWt3QixFQUFBLE9BQ0FELEVBQUFDLEVBQUEsSUFNQWx3QixFQURBVyxHQUZBc3ZCLElBQUFybUIsUUFBQTRsQixFQUFBLE1BQ0F2cUIsTUFBQSxLQUNBNUssR0FBQXdILEtBQUEsS0FpQkEsU0FBQXN1QixFQUFBRixHQU1BLElBTEEsSUFHQTUwQixFQUNBKzBCLEVBSkFDLEVBQUEsR0FDQUMsRUFBQSxFQUNBenpCLEVBQUFvekIsRUFBQXB6QixPQUdBeXpCLEVBQUF6ekIsSUFDQXhCLEVBQUE0MEIsRUFBQWhsQixXQUFBcWxCLE9BQ0EsT0FBQWoxQixHQUFBLE9BQUFpMUIsRUFBQXp6QixFQUdBLGVBREF1ekIsRUFBQUgsRUFBQWhsQixXQUFBcWxCLE9BRUFELEVBQUExMUIsT0FBQSxLQUFBVSxJQUFBLFVBQUErMEIsR0FBQSxRQUlBQyxFQUFBMTFCLEtBQUFVLEdBQ0FpMUIsS0FHQUQsRUFBQTExQixLQUFBVSxHQUdBLE9BQUFnMUIsRUFXQSxTQUFBRSxFQUFBaFgsR0FDQSxPQUFBNVksRUFBQTRZLEVBQUEsU0FBQWxlLEdBQ0EsSUFBQWcxQixFQUFBLEdBT0EsT0FOQWgxQixFQUFBLFFBRUFnMUIsR0FBQVAsR0FEQXowQixHQUFBLFNBQ0EsZUFDQUEsRUFBQSxXQUFBQSxHQUVBZzFCLEdBQUFQLEVBQUF6MEIsS0FFR3dHLEtBQUEsSUFvQ0gsU0FBQTJ1QixFQUFBQyxFQUFBalIsR0FHQSxPQUFBaVIsRUFBQSxPQUFBQSxFQUFBLFNBQUFqUixJQUFBLEdBUUEsU0FBQWtSLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsSUFBQTdsQixFQUFBLEVBR0EsSUFGQTJsQixFQUFBRSxFQUFBakgsRUFBQStHLEVBQUF6QixHQUFBeUIsR0FBQSxFQUNBQSxHQUFBL0csRUFBQStHLEVBQUFDLEdBQytCRCxFQUFBZCxFQUFBYixHQUFBLEVBQW1DaGtCLEdBQUE4akIsRUFDbEU2QixFQUFBL0csRUFBQStHLEVBQUFkLEdBRUEsT0FBQWpHLEVBQUE1ZSxHQUFBNmtCLEVBQUEsR0FBQWMsS0FBQTFCLElBVUEsU0FBQTZCLEVBQUFDLEdBRUEsSUFFQUMsRUFJQUMsRUFDQTd3QixFQUNBdWlCLEVBQ0F1TyxFQUNBcnNCLEVBQ0FtRyxFQUNBeWxCLEVBQ0ExMEIsRUFFQW8xQixFQXJFQUMsRUFzREFmLEVBQUEsR0FDQWdCLEVBQUFOLEVBQUFsMEIsT0FFQUQsRUFBQSxFQUNBdUgsRUFBQWlyQixFQUNBa0MsRUFBQW5DLEVBcUJBLEtBTEE4QixFQUFBRixFQUFBdG1CLFlBQUE0a0IsSUFDQSxJQUNBNEIsRUFBQSxHQUdBN3dCLEVBQUEsRUFBYUEsRUFBQTZ3QixJQUFXN3dCLEVBRXhCMndCLEVBQUE5bEIsV0FBQTdLLElBQUEsS0FDQTJDLEVBQUEsYUFFQXN0QixFQUFBMTFCLEtBQUFvMkIsRUFBQTlsQixXQUFBN0ssSUFNQSxJQUFBdWlCLEVBQUFzTyxFQUFBLEVBQUFBLEVBQUEsSUFBeUN0TyxFQUFBME8sR0FBcUIsQ0FPOUQsSUFBQUgsRUFBQXQwQixFQUFBaUksRUFBQSxFQUFBbUcsRUFBQThqQixFQUVBbk0sR0FBQTBPLEdBQ0F0dUIsRUFBQSxtQkFHQTB0QixHQXhHQVcsRUF3R0FMLEVBQUE5bEIsV0FBQTBYLE1BdkdBLE1BQ0F5TyxFQUFBLEdBRUFBLEVBQUEsTUFDQUEsRUFBQSxHQUVBQSxFQUFBLE1BQ0FBLEVBQUEsR0FFQXRDLElBZ0dBQSxHQUFBMkIsRUFBQTdHLEdBQUFpRixFQUFBanlCLEdBQUFpSSxLQUNBOUIsRUFBQSxZQUdBbkcsR0FBQTZ6QixFQUFBNXJCLElBR0E0ckIsR0FGQTEwQixFQUFBaVAsR0FBQXNtQixFQUFBdkMsRUFBQS9qQixHQUFBc21CLEVBQUF0QyxJQUFBaGtCLEVBQUFzbUIsSUFic0R0bUIsR0FBQThqQixFQW9CdERqcUIsRUFBQStrQixFQUFBaUYsR0FEQXNDLEVBQUFyQyxFQUFBL3lCLEtBRUFnSCxFQUFBLFlBR0E4QixHQUFBc3NCLEVBS0FHLEVBQUFaLEVBQUE5ekIsRUFBQXMwQixFQURBRixFQUFBWCxFQUFBeHpCLE9BQUEsRUFDQSxHQUFBcTBCLEdBSUF0SCxFQUFBaHRCLEVBQUFvMEIsR0FBQW5DLEVBQUExcUIsR0FDQXBCLEVBQUEsWUFHQW9CLEdBQUF5bEIsRUFBQWh0QixFQUFBbzBCLEdBQ0FwMEIsR0FBQW8wQixFQUdBWCxFQUFBbHpCLE9BQUFQLElBQUEsRUFBQXVILEdBSUEsT0FBQW9zQixFQUFBRixHQVVBLFNBQUFrQixFQUFBUixHQUNBLElBQUE1c0IsRUFDQXdzQixFQUNBYSxFQUNBQyxFQUNBSCxFQUNBbHhCLEVBQ0FtRCxFQUNBdVAsRUFDQTlILEVBQ0FqUCxFQUNBMjFCLEVBR0FMLEVBRUFNLEVBQ0FSLEVBQ0FTLEVBTkF2QixFQUFBLEdBb0JBLElBUkFnQixHQUhBTixFQUFBWixFQUFBWSxJQUdBbDBCLE9BR0FzSCxFQUFBaXJCLEVBQ0F1QixFQUFBLEVBQ0FXLEVBQUFuQyxFQUdBL3VCLEVBQUEsRUFBYUEsRUFBQWl4QixJQUFpQmp4QixHQUM5QnN4QixFQUFBWCxFQUFBM3dCLElBQ0EsS0FDQWl3QixFQUFBMTFCLEtBQUFtMUIsRUFBQTRCLElBZUEsSUFYQUYsRUFBQUMsRUFBQXBCLEVBQUF4ekIsT0FNQTQwQixHQUNBcEIsRUFBQTExQixLQUFBMDBCLEdBSUFtQyxFQUFBSCxHQUFBLENBSUEsSUFBQTl0QixFQUFBc3JCLEVBQUF6dUIsRUFBQSxFQUEwQkEsRUFBQWl4QixJQUFpQmp4QixHQUMzQ3N4QixFQUFBWCxFQUFBM3dCLEtBQ0ErRCxHQUFBdXRCLEVBQUFudUIsSUFDQUEsRUFBQW11QixHQWNBLElBUEFudUIsRUFBQVksRUFBQXlsQixHQUFBaUYsRUFBQThCLElBREFnQixFQUFBSCxFQUFBLEtBRUF6dUIsRUFBQSxZQUdBNHRCLElBQUFwdEIsRUFBQVksR0FBQXd0QixFQUNBeHRCLEVBQUFaLEVBRUFuRCxFQUFBLEVBQWNBLEVBQUFpeEIsSUFBaUJqeEIsRUFPL0IsSUFOQXN4QixFQUFBWCxFQUFBM3dCLElBRUErRCxLQUFBd3NCLEVBQUE5QixHQUNBOXJCLEVBQUEsWUFHQTJ1QixHQUFBdnRCLEVBQUEsQ0FFQSxJQUFBMk8sRUFBQTZkLEVBQUEzbEIsRUFBQThqQixJQUVBaGMsR0FEQS9XLEVBQUFpUCxHQUFBc21CLEVBQUF2QyxFQUFBL2pCLEdBQUFzbUIsRUFBQXRDLElBQUFoa0IsRUFBQXNtQixJQURrRHRtQixHQUFBOGpCLEVBS2xEOEMsRUFBQTllLEVBQUEvVyxFQUNBbzFCLEVBQUFyQyxFQUFBL3lCLEVBQ0FzMEIsRUFBQTExQixLQUNBbTFCLEVBQUFVLEVBQUF6MEIsRUFBQTYxQixFQUFBVCxFQUFBLEtBRUFyZSxFQUFBOFcsRUFBQWdJLEVBQUFULEdBR0FkLEVBQUExMUIsS0FBQW0xQixFQUFBVSxFQUFBMWQsRUFBQSxLQUNBd2UsRUFBQVosRUFBQUMsRUFBQWdCLEVBQUFILEdBQUFDLEdBQ0FkLEVBQUEsSUFDQWEsSUFJQWIsSUFDQXhzQixFQUdBLE9BQUFrc0IsRUFBQXh1QixLQUFBLElBNENBd0UsRUFBQSxDQU1BNG5CLFFBQUEsUUFRQTRELEtBQUEsQ0FDQWYsT0FBQVgsRUFDQW9CLE9BQUFoQixHQUVBTyxTQUNBUyxTQUNBam1CLFFBL0JBLFNBQUF5bEIsR0FDQSxPQUFBZixFQUFBZSxFQUFBLFNBQUFkLEdBQ0EsT0FBQVYsRUFBQXpxQixLQUFBbXJCLEdBQ0EsT0FBQXNCLEVBQUF0QixHQUNBQSxLQTRCQTZCLFVBbkRBLFNBQUFmLEdBQ0EsT0FBQWYsRUFBQWUsRUFBQSxTQUFBZCxHQUNBLE9BQUFYLEVBQUF4cUIsS0FBQW1yQixHQUNBYSxFQUFBYixFQUFBdnZCLE1BQUEsR0FBQTBKLGVBQ0E2bEIsV0E0REd0ekIsS0FGRDhILEVBQUEsV0FDRixPQUFBNEIsR0FDR2pOLEtBQUFrSyxFQUFBbEosRUFBQWtKLEVBQUFqRCxRQUFBaUQsUUFBQW1CLEdBbmdCRiw2Q0NERHBFLEVBQUFpRCxRQUFBLFNBQUFqRCxHQW9CQSxPQW5CQUEsRUFBQTB4QixrQkFDQTF4QixFQUFBMnhCLFVBQUEsYUFDQTN4QixFQUFBNHhCLE1BQUEsR0FFQTV4QixFQUFBekYsV0FBQXlGLEVBQUF6RixTQUFBLElBQ0EzQixPQUFBcUMsZUFBQStFLEVBQUEsVUFDQW5GLFlBQUEsRUFDQUMsSUFBQSxXQUNBLE9BQUFrRixFQUFBNUMsS0FHQXhFLE9BQUFxQyxlQUFBK0UsRUFBQSxNQUNBbkYsWUFBQSxFQUNBQyxJQUFBLFdBQ0EsT0FBQWtGLEVBQUF6RCxLQUdBeUQsRUFBQTB4QixnQkFBQSxHQUVBMXhCLGlDQ2xCQUEsRUFBQWlELFFBQUEsQ0FDQW9FLFNBQUEsU0FBQWtlLEdBQ0EsMEJBRUFyYyxTQUFBLFNBQUFxYyxHQUNBLGlDQUFBQSxHQUVBN1ksT0FBQSxTQUFBNlksR0FDQSxjQUFBQSxHQUVBL1ksa0JBQUEsU0FBQStZLEdBQ0EsYUFBQUEsa0NDWEF0aUIsRUFBQXd0QixPQUFBeHRCLEVBQUFwRSxNQUFpQzlFLEVBQVEsSUFDekNrSixFQUFBaXVCLE9BQUFqdUIsRUFBQXNJLFVBQXFDeFIsRUFBUSxrQ0N1QjdDLFNBQUFqQixFQUFBc08sRUFBQXlxQixHQUNBLE9BQUFqNUIsT0FBQUMsVUFBQUMsZUFBQUMsS0FBQXFPLEVBQUF5cUIsR0FHQTd4QixFQUFBaUQsUUFBQSxTQUFBNnVCLEVBQUFDLEVBQUFDLEVBQUFueUIsR0FDQWt5QixLQUFBLElBQ0FDLEtBQUEsSUFDQSxJQUFBNXFCLEVBQUEsR0FFQSxvQkFBQTBxQixHQUFBLElBQUFBLEVBQUF0MUIsT0FDQSxPQUFBNEssRUFHQSxJQUFBNnFCLEVBQUEsTUFDQUgsSUFBQWx0QixNQUFBbXRCLEdBRUEsSUFBQUcsRUFBQSxJQUNBcnlCLEdBQUEsaUJBQUFBLEVBQUFxeUIsVUFDQUEsRUFBQXJ5QixFQUFBcXlCLFNBR0EsSUFBQTNpQixFQUFBdWlCLEVBQUF0MUIsT0FFQTAxQixFQUFBLEdBQUEzaUIsRUFBQTJpQixJQUNBM2lCLEVBQUEyaUIsR0FHQSxRQUFBMzFCLEVBQUEsRUFBaUJBLEVBQUFnVCxJQUFTaFQsRUFBQSxDQUMxQixJQUVBNDFCLEVBQUFDLEVBQUF6bkIsRUFBQXBHLEVBRkE4TCxFQUFBeWhCLEVBQUF2MUIsR0FBQWdOLFFBQUEwb0IsRUFBQSxPQUNBcDFCLEVBQUF3VCxFQUFBaFcsUUFBQTIzQixHQUdBbjFCLEdBQUEsR0FDQXMxQixFQUFBOWhCLEVBQUF6RyxPQUFBLEVBQUEvTSxHQUNBdTFCLEVBQUEvaEIsRUFBQXpHLE9BQUEvTSxFQUFBLEtBRUFzMUIsRUFBQTloQixFQUNBK2hCLEVBQUEsSUFHQXpuQixFQUFBTixtQkFBQThuQixHQUNBNXRCLEVBQUE4RixtQkFBQStuQixHQUVBdDVCLEVBQUFzTyxFQUFBdUQsR0FFS3NWLEVBQUE3WSxFQUFBdUQsSUFDTHZELEVBQUF1RCxHQUFBclEsS0FBQWlLLEdBRUE2QyxFQUFBdUQsR0FBQSxDQUFBdkQsRUFBQXVELEdBQUFwRyxHQUpBNkMsRUFBQXVELEdBQUFwRyxFQVFBLE9BQUE2QyxHQUdBLElBQUE2WSxFQUFBblIsTUFBQW1SLFNBQUEsU0FBQW9TLEdBQ0EseUJBQUF6NUIsT0FBQUMsVUFBQStwQixTQUFBN3BCLEtBQUFzNUIsa0NDM0RBLElBQUFDLEVBQUEsU0FBQS90QixHQUNBLGNBQUFBLEdBQ0EsYUFDQSxPQUFBQSxFQUVBLGNBQ0EsT0FBQUEsRUFBQSxlQUVBLGFBQ0EsT0FBQStrQixTQUFBL2tCLEtBQUEsR0FFQSxRQUNBLFdBSUF2RSxFQUFBaUQsUUFBQSxTQUFBbUUsRUFBQTJxQixFQUFBQyxFQUFBcjNCLEdBT0EsT0FOQW8zQixLQUFBLElBQ0FDLEtBQUEsSUFDQSxPQUFBNXFCLElBQ0FBLE9BQUE5SyxHQUdBLGlCQUFBOEssRUFDQTlHLEVBQUFpeUIsRUFBQW5yQixHQUFBLFNBQUF1RCxHQUNBLElBQUE2bkIsRUFBQXBuQixtQkFBQWtuQixFQUFBM25CLElBQUFxbkIsRUFDQSxPQUFBL1IsRUFBQTdZLEVBQUF1RCxJQUNBckssRUFBQThHLEVBQUF1RCxHQUFBLFNBQUFwRyxHQUNBLE9BQUFpdUIsRUFBQXBuQixtQkFBQWtuQixFQUFBL3RCLE1BQ1MvQyxLQUFBdXdCLEdBRVRTLEVBQUFwbkIsbUJBQUFrbkIsRUFBQWxyQixFQUFBdUQsT0FFS25KLEtBQUF1d0IsR0FJTHAzQixFQUNBeVEsbUJBQUFrbkIsRUFBQTMzQixJQUFBcTNCLEVBQ0E1bUIsbUJBQUFrbkIsRUFBQWxyQixJQUZBLElBS0EsSUFBQTZZLEVBQUFuUixNQUFBbVIsU0FBQSxTQUFBb1MsR0FDQSx5QkFBQXo1QixPQUFBQyxVQUFBK3BCLFNBQUE3cEIsS0FBQXM1QixJQUdBLFNBQUEveEIsRUFBQSt4QixFQUFBaHVCLEdBQ0EsR0FBQWd1QixFQUFBL3hCLElBQUEsT0FBQSt4QixFQUFBL3hCLElBQUErRCxHQUVBLElBREEsSUFBQW91QixFQUFBLEdBQ0FsMkIsRUFBQSxFQUFpQkEsRUFBQTgxQixFQUFBNzFCLE9BQWVELElBQ2hDazJCLEVBQUFuNEIsS0FBQStKLEVBQUFndUIsRUFBQTkxQixPQUVBLE9BQUFrMkIsRUFHQSxJQUFBRixFQUFBMzVCLE9BQUFxSixNQUFBLFNBQUFtRixHQUNBLElBQUFxckIsRUFBQSxHQUNBLFFBQUE3dUIsS0FBQXdELEVBQ0F4TyxPQUFBQyxVQUFBQyxlQUFBQyxLQUFBcU8sRUFBQXhELElBQUE2dUIsRUFBQW40QixLQUFBc0osR0FFQSxPQUFBNnVCLDBnQkNuRkExNEIsRUFBQSxRQUNBQSxFQUFBLElBQ1ltVCwwSkFBWm5ULEVBQUEsSUFDQTI0QixFQUFBMzRCLEVBQUEsdURBR0EsSUFDTTQ0QixFQUFvQixjQU9iNWxCLHNCQUtULFNBQUFBLElBQTRDLElBQUFvUixFQUFBdFksS0FBaEMrc0IsRUFBZ0NwakIsVUFBQWhULE9BQUEsUUFBQUYsSUFBQWtULFVBQUEsR0FBQUEsVUFBQSxHQUF0QixHQUFJK0osRUFBa0IvSixVQUFBaFQsT0FBQSxRQUFBRixJQUFBa1QsVUFBQSxHQUFBQSxVQUFBLEdBQUosZ0dBQUkwSCxDQUFBclIsS0FBQWtILEdBTXhDbEgsS0FBSytzQixRQUFVQSxFQU9mL3NCLEtBQUtndEIsU0FBVyxFQU9oQmh0QixLQUFLaXRCLFNBQVUsRUF3QmZqdEIsS0FBS2t0QixtQkFBcUIsR0FRMUJsdEIsS0FBS210QixrQkFBb0IsR0FRekJudEIsS0FBS290QixpQkFBbUIsR0FReEJwdEIsS0FBS3F0QixrQkFBb0IsR0FXekJydEIsS0FBS3N0QixtQkFBcUIsU0FBQzd2QixFQUFHSCxHQUFKLE9BQVVnYixFQUFLaVYsY0FBYzl2QixFQUFHSCxJQVExRDBDLEtBQUt3dEIsT0FBU25tQixFQUFNOU0sTUFBTXlGLEtBQUtzdEIsbUJBQW9CNVosR0FFbkQxVCxLQUFLd3RCLE9BQU85WSxRQU9aMVUsS0FBS3l0QixVQUFZLEdBU2pCenRCLEtBQUtvWCxXQUFhLElBQUlELFVBU3RCblgsS0FBSzB0QixRQUFVLElBQUl2VyxVQVNuQm5YLEtBQUsydEIsT0FBUyxJQUFJeFcsVUFTbEJuWCxLQUFLa1gsUUFBVSxJQUFJQyxVQVNuQm5YLEtBQUtxWCxXQUFhLElBQUlGLFVBR3RCLElBQUssSUFBSXpnQixFQUFJLEVBQUdBLEVBQUl3USxFQUFPMG1CLHlCQUF5QmozQixTQUFVRCxFQUMxRHNKLEtBQUs2dEIsSUFBSTNtQixFQUFPMG1CLHlCQUF5QmwzQixJQUk3QyxJQUFLLElBQUlBLEVBQUksRUFBR0EsRUFBSXdRLEVBQU80bUIsd0JBQXdCbjNCLFNBQVVELEVBQ3pEc0osS0FBSyt0QixJQUFJN21CLEVBQU80bUIsd0JBQXdCcDNCLHVCQTRKaERzM0IsYUFBSWw1QixFQUFNb08sRUFBS2xKLEVBQVNDLEdBRXBCLEdBQUlnUCxNQUFNbVIsUUFBUXRsQixHQUFPLENBQ3JCLElBQUssSUFBSTRCLEVBQUksRUFBR0EsRUFBSTVCLEVBQUs2QixTQUFVRCxFQUMvQnNKLEtBQUtndUIsSUFBSWw1QixFQUFLNEIsSUFHbEIsT0FBT3NKLEtBbUJYLEdBZm9CLGlCQUFoQixJQUFPbEwsRUFBUCxZQUFBbTVCLEVBQU9uNUIsTUFDUG1GLEVBQUtpSixHQUFPcE8sRUFBSzBCLFVBQVkxQixFQUFLdWlCLFdBQ2xDcmQsRUFBVWxGLEVBQ1ZvTyxFQUFNcE8sRUFBS29PLElBQ1hwTyxFQUFPQSxFQUFLQSxNQUFRQSxFQUFLaUosS0FBT2pKLEVBQUtvTyxLQUl0QixpQkFBUkEsSUFDUGpKLEVBQUtELEVBQ0xBLEVBQVVrSixFQUNWQSxFQUFNcE8sR0FJUyxpQkFBUm9PLEVBQ1AsTUFBTSxJQUFJakwsTUFBTSw0Q0FVcEIsR0FOdUIsbUJBQVorQixJQUNQQyxFQUFLRCxFQUNMQSxFQUFVLE1BSVZnRyxLQUFLaXRCLFdBQWFqekIsSUFBWUEsRUFBUWswQixnQkFDdEMsTUFBTSxJQUFJajJCLE1BQU0scURBSXBCLEdBQUkrSCxLQUFLeXRCLFVBQVUzNEIsR0FDZixNQUFNLElBQUltRCxNQUFKLG1CQUE2Qm5ELEVBQTdCLHFCQWNWLEdBVkFvTyxFQUFNbEQsS0FBS211QixZQUFZanJCLEdBR3ZCbEQsS0FBS3l0QixVQUFVMzRCLEdBQVEsSUFBSXNTLFdBQVN0UyxFQUFNb08sRUFBS2xKLEdBRTdCLG1CQUFQQyxHQUNQK0YsS0FBS3l0QixVQUFVMzRCLEdBQU13aUIsa0JBQWtCdlAsS0FBSzlOLEdBSTVDK0YsS0FBS2l0QixRQUFTLENBSWQsSUFIQSxJQUFNbHlCLEVBQVNmLEVBQVFrMEIsZUFDakJFLEVBQXFCLEdBRWxCMTNCLEVBQUksRUFBR0EsRUFBSXFFLEVBQU9yRyxTQUFTaUMsU0FBVUQsRUFDckNxRSxFQUFPckcsU0FBU2dDLEdBQUc4aEIsWUFDcEI0VixFQUFtQjM1QixLQUFLc0csRUFBT3JHLFNBQVNnQyxJQUloRCxJQUNNMjNCLEVBRFl0ekIsRUFBTythLGVBQWlCc1ksRUFBbUJ6M0IsT0FBUyxJQUN2Q3kzQixFQUFtQnozQixPQUFTLEdBRTNEb0UsRUFBT3JHLFNBQVNELEtBQUt1TCxLQUFLeXRCLFVBQVUzNEIsSUFDcENpRyxFQUFPK2EsY0FBZ0J1WSxFQUV2QixJQUFLLElBQUkzM0IsRUFBSSxFQUFHQSxFQUFJMDNCLEVBQW1CejNCLFNBQVVELEVBQzdDMDNCLEVBQW1CMTNCLEdBQUdvZixjQUFnQnVZLEVBRzFDcnVCLEtBQUt5dEIsVUFBVTM0QixHQUFNZ2hCLGNBQWdCdVksRUFNekMsT0FGQXJ1QixLQUFLd3RCLE9BQU8vNEIsS0FBS3VMLEtBQUt5dEIsVUFBVTM0QixJQUV6QmtMLGtCQVdYNnRCLGFBQUkxNUIsR0FHQSxPQUZBNkwsS0FBS210QixrQkFBa0IxNEIsS0FBS04sR0FFckI2TCxrQkFVWCt0QixhQUFJNTVCLEdBR0EsT0FGQTZMLEtBQUtvdEIsaUJBQWlCMzRCLEtBQUtOLEdBRXBCNkwsa0JBUVhzdUIsaUJBUUksSUFBSyxJQUFNeHBCLEtBUFg5RSxLQUFLZ3RCLFNBQVcsRUFDaEJodEIsS0FBS2l0QixTQUFVLEVBRWZqdEIsS0FBS3d0QixPQUFPblosT0FDWnJVLEtBQUt3dEIsT0FBTzlZLFFBR0kxVSxLQUFLeXRCLFVBQVcsQ0FDNUIsSUFBTWIsRUFBTTVzQixLQUFLeXRCLFVBQVUzb0IsR0FFdkI4bkIsRUFBSTVXLGdCQUNKNFcsRUFBSTVXLGVBQWVqRSxTQUduQjZhLEVBQUlyVSxXQUNKcVUsRUFBSTdVLFFBTVosT0FGQS9YLEtBQUt5dEIsVUFBWSxHQUVWenRCLGtCQVNYcVksY0FBS3BlLEdBT0QsR0FMa0IsbUJBQVBBLEdBQ1ArRixLQUFLcVgsV0FBV3RQLEtBQUs5TixHQUlyQitGLEtBQUtpdEIsUUFDTCxPQUFPanRCLEtBR1gsR0FBSUEsS0FBS3d0QixPQUFPL1ksT0FDWnpVLEtBQUt1dUIsV0FDTHZ1QixLQUFLd3VCLGtCQUVKLENBS0QsSUFIQSxJQUNNQyxFQXRlRyxJQXFlUXp1QixLQUFLd3RCLE9BQU81WixPQUFPamQsT0FHM0JELEVBQUksRUFBR0EsRUFBSXNKLEtBQUt3dEIsT0FBTzVaLE9BQU9qZCxTQUFVRCxFQUM3Q3NKLEtBQUt3dEIsT0FBTzVaLE9BQU9sZCxHQUFHaUIsS0FBS21lLGNBQWdCMlksRUFJL0N6dUIsS0FBS3V1QixXQUdMdnVCLEtBQUt3dEIsT0FBTzdZLFNBR2hCLE9BQU8zVSxrQkF3QlhtdUIscUJBQVlqckIsR0FDUixJQUFNd3JCLEdBQVksRUFBQXhTLEVBQUF6VSxTQUFTdkUsRUFBSyxDQUFFMFAsWUFBWSxJQUMxQzlZLFNBa0JKLEdBZElBLEVBREE0MEIsRUFBVXB1QixXQUFhb3VCLEVBQVUxdEIsTUFBOEIsSUFBdEJrQyxFQUFJMU8sUUFBUSxNQUM1QzBPLEVBR0psRCxLQUFLK3NCLFFBQVFwMkIsUUFDZnFKLEtBQUsrc0IsUUFBUXhvQixZQUFZLE9BQVN2RSxLQUFLK3NCLFFBQVFwMkIsT0FBUyxHQUN0QyxNQUFsQnVNLEVBQUl5QyxPQUFPLEdBRUYzRixLQUFLK3NCLFFBQWpCLElBQTRCN3BCLEVBR25CbEQsS0FBSytzQixRQUFVN3BCLEVBSXhCbEQsS0FBS2t0QixtQkFBb0IsQ0FDekIsSUFBTXRzQixFQUFPa3NCLEVBQWtCaHBCLEtBQUtoSyxHQUFRLElBSWYsS0FGN0JBLEVBQVNBLEVBQU9pSyxPQUFPLEVBQUdqSyxFQUFPbkQsT0FBU2lLLEVBQUtqSyxTQUVwQ25DLFFBQVEsS0FDZnNGLE9BQWNrRyxLQUFLa3RCLG1CQUduQnB6QixPQUFja0csS0FBS2t0QixtQkFHdkJwekIsR0FBVThHLEVBR2QsT0FBTzlHLGVBVVh5ekIsdUJBQWNvQixFQUFVQyxHQUFTLElBQUFDLEVBQUE3dUIsS0FDN0IydUIsRUFBUzVZLFNBQVc2WSxFQUdwQnZuQixFQUFNK0wsV0FDRnBULEtBQUttdEIsa0JBQ0wsU0FBQ2g1QixFQUFJNlcsR0FDRDdXLEVBQUdqQixLQUFLMjdCLEVBQU1GLEVBQVUsV0FHcEIzakIsRUFBSzJqQixFQUFTblcsV0FBYSxHQUFLLFNBR3hDLFdBQ1FtVyxFQUFTblcsV0FDVHFXLEVBQUtDLFFBQVFILElBR2JBLEVBQVMzWSxlQUFpQjJZLEVBQVN0WCxXQUFXdFAsS0FBSzhtQixFQUFLQyxRQUFTRCxHQUNqRUYsRUFBU3RXLFVBR2pCLGdCQVNSa1csb0JBQ0l2dUIsS0FBS2d0QixTQUFXLEVBQ2hCaHRCLEtBQUtpdEIsU0FBVSxFQUNmanRCLEtBQUtrWCxRQUFRd0IsU0FBUzFZLG1CQVExQnd1Qix1QkFDSXh1QixLQUFLZ3RCLFNBbm1CUSxJQW9tQmJodEIsS0FBS2l0QixTQUFVLEVBQ2ZqdEIsS0FBS3FYLFdBQVdxQixTQUFTMVksS0FBTUEsS0FBS3l0Qix3QkFTeENxQixpQkFBUUgsR0FBVSxJQUFBSSxFQUFBL3VCLEtBQ2QydUIsRUFBUzNZLGVBQWlCLEtBRzFCaFcsS0FBS3F0QixrQkFBa0I1NEIsS0FBS2s2QixHQUM1QkEsRUFBUzVZLFdBR1QxTyxFQUFNK0wsV0FDRnBULEtBQUtvdEIsaUJBQ0wsU0FBQ2o1QixFQUFJNlcsR0FDRDdXLEVBQUdqQixLQUFLNjdCLEVBQU1KLEVBQVUzakIsSUFFNUIsV0FDSTJqQixFQUFTclgsa0JBQWtCb0IsU0FBU2lXLEdBRXBDSSxFQUFLL0IsU0FBV3BoQixLQUFLOFEsSUE5bkJoQixJQThuQmtDcVMsRUFBSy9CLFNBQVcyQixFQUFTN1ksZUFDaEVpWixFQUFLM1gsV0FBV3NCLFNBQVNxVyxFQUFNSixHQUUzQkEsRUFBUzl4QixNQUNUa3lCLEVBQUtyQixRQUFRaFYsU0FBU2lXLEVBQVM5eEIsTUFBT2t5QixFQUFNSixHQUc1Q0ksRUFBS3BCLE9BQU9qVixTQUFTcVcsRUFBTUosR0FHL0JJLEVBQUsxQixrQkFBa0JwMkIsT0FBTzgzQixFQUFLMUIsa0JBQWtCNzRCLFFBQVFtNkIsR0FBVyxHQUdwRUksRUFBS3ZCLE9BQU8vWSxRQUE0QyxJQUFsQ3NhLEVBQUsxQixrQkFBa0IxMkIsUUFDN0NvNEIsRUFBS1AsZ0JBR2IsMkNBbEpKLE9BQU94dUIsS0FBS3d0QixPQUFPOVosMEJBR1BBLEdBQ1oxVCxLQUFLd3RCLE9BQU85WixZQUFjQSxXQTBKbEN4TSxFQUFPMG1CLHlCQUEyQixHQVNsQzFtQixFQUFPNG1CLHdCQUEwQixHQVVqQzVtQixFQUFPMm1CLElBQU0sU0FBeUIxNUIsR0FHbEMsT0FGQStTLEVBQU8wbUIseUJBQXlCbjVCLEtBQUtOLEdBRTlCK1MsR0FXWEEsRUFBTzZtQixJQUFNLFNBQXlCNTVCLEdBR2xDLE9BRkErUyxFQUFPNG1CLHdCQUF3QnI1QixLQUFLTixHQUU3QitTLG1EQzdyQktLLGVBUmhCLElBQU15bkIsRUFBVSxvRUFRVCxTQUFTem5CLEVBQWFzakIsR0FJekIsSUFIQSxJQUFJVixFQUFTLEdBQ1Q4RSxFQUFNLEVBRUhBLEVBQU1wRSxFQUFNbDBCLFFBQVEsQ0FLdkIsSUFIQSxJQUFNdTRCLEVBQWEsQ0FBQyxFQUFHLEVBQUcsR0FDcEJDLEVBQXFCLENBQUMsRUFBRyxFQUFHLEVBQUcsR0FFNUJDLEVBQU0sRUFBR0EsRUFBTUYsRUFBV3Y0QixTQUFVeTRCLEVBQ3JDSCxFQUFNcEUsRUFBTWwwQixPQUdadTRCLEVBQVdFLEdBQWlDLElBQTFCdkUsRUFBTTlsQixXQUFXa3FCLEtBR25DQyxFQUFXRSxHQUFPLEVBb0IxQixPQWRBRCxFQUFtQixHQUFLRCxFQUFXLElBQU0sRUFHekNDLEVBQW1CLElBQXVCLEVBQWhCRCxFQUFXLEtBQWEsRUFBTUEsRUFBVyxJQUFNLEVBR3pFQyxFQUFtQixJQUF1QixHQUFoQkQsRUFBVyxLQUFjLEVBQU1BLEVBQVcsSUFBTSxFQUcxRUMsRUFBbUIsR0FBcUIsR0FBaEJELEVBQVcsR0FHZEQsR0FBT3BFLEVBQU1sMEIsT0FBUyxJQUd2QyxLQUFLLEVBRUR3NEIsRUFBbUIsR0FBSyxHQUN4QkEsRUFBbUIsR0FBSyxHQUN4QixNQUVKLEtBQUssRUFFREEsRUFBbUIsR0FBSyxHQVNoQyxJQUFLLElBQUlDLEVBQU0sRUFBR0EsRUFBTUQsRUFBbUJ4NEIsU0FBVXk0QixFQUNqRGpGLEdBQVU2RSxFQUFRcnBCLE9BQU93cEIsRUFBbUJDLElBSXBELE9BQU9qRixFQUtQaHdCLEVBQU9pRCxRQUFRcUssUUFBVUYsbUJDdkU3QixJQUFBOG5CLEVBQWNuN0IsRUFBUSxHQUV0QixpQkFBQW03QixNQUFBLEVBQTRDbDFCLEVBQUF6RCxFQUFTMjRCLEVBQUEsTUFPckQsSUFBQXIxQixFQUFBLENBQWVzMUIsS0FBQSxFQUVmQyxlQVBBQSxFQVFBQyxnQkFBQS80QixHQUVBcUMsRUFBYTVFLEVBQVEsR0FBUkEsQ0FBMkRtN0IsRUFBQXIxQixHQUV4RXExQixFQUFBSSxTQUFBdDFCLEVBQUFpRCxRQUFBaXlCLEVBQUFJLFFBR0F0MUIsRUFBQTlGLElBQUFpQyxPQUFtQixFQUFrSCxXQUNySSxJQUFBbzVCLEVBQW1CeDdCLEVBQVEsR0FpQjNCLEdBZkEsaUJBQUF3N0IsTUFBQSxFQUFvRHYxQixFQUFBekQsRUFBU2c1QixFQUFBLE9BRTdELFNBQUF4MEIsRUFBQUMsR0FDQSxJQUFBNEMsRUFBQS9HLEVBQUEsRUFFQSxJQUFBK0csS0FBQTdDLEVBQUEsQ0FDQSxJQUFBQyxHQUFBRCxFQUFBNkMsS0FBQTVDLEVBQUE0QyxHQUFBLFNBQ0EvRyxJQUdBLElBQUErRyxLQUFBNUMsRUFBQW5FLElBRUEsV0FBQUEsRUFWQSxDQVdHcTRCLEVBQUFJLE9BQUFDLEVBQUFELFFBRUgsVUFBQXgzQixNQUFBLHVEQUVBYSxFQUFBNDJCLEtBR0F2MUIsRUFBQTlGLElBQUF3QyxRQUFBLFdBQWdDaUMsdUJDdENoQyxJQUVBM0UsRUFDQXc3QixFQUhBQyxFQUFBLEdBV0FDLEdBVEExN0IsRUFTQSxXQU1BLE9BQUExQixRQUFBNkcsbUJBQUE0bkIsTUFBQXp1QixPQUFBcTlCLE1BWkEsV0FFQSxZQURBLElBQUFILE1BQUF4N0IsRUFBQWlELE1BQUE0SSxLQUFBMkosWUFDQWdtQixJQW9CQUksRUFBQSxTQUFBNTdCLEdBQ0EsSUFBQXc3QixFQUFBLEdBRUEsZ0JBQUE3ZSxFQUFBL1YsR0FNQSxzQkFBQStWLEVBQ0EsT0FBQUEsSUFFQSxZQUFBNmUsRUFBQTdlLEdBQUEsQ0FDQSxJQUFBa2YsRUFwQkEsU0FBQWxmLEVBQUEvVixHQUNBLE9BQUFBLEVBQ0FBLEVBQUFrMUIsY0FBQW5mLEdBRUF4WCxTQUFBMjJCLGNBQUFuZixJQWdCQTVkLEtBQUE4TSxLQUFBOFEsRUFBQS9WLEdBRUEsR0FBQXRJLE9BQUF5OUIsbUJBQUFGLGFBQUF2OUIsT0FBQXk5QixrQkFDQSxJQUdBRixJQUFBRyxnQkFBQXoyQixLQUNLLE1BQUFyRSxHQUNMMjZCLEVBQUEsS0FHQUwsRUFBQTdlLEdBQUFrZixFQUVBLE9BQUFMLEVBQUE3ZSxJQTFCQSxHQThCQXNmLEVBQUEsS0FDQUMsRUFBQSxFQUNBQyxFQUFBLEdBRUFDLEVBQWNyOEIsRUFBUSxJQXFEdEIsU0FBQXM4QixFQUFBQyxFQUFBejJCLEdBQ0EsUUFBQXRELEVBQUEsRUFBZ0JBLEVBQUErNUIsRUFBQTk1QixPQUFtQkQsSUFBQSxDQUNuQyxJQUFBMEUsRUFBQXExQixFQUFBLzVCLEdBQ0FnNkIsRUFBQWQsRUFBQXgwQixFQUFBcEQsSUFFQSxHQUFBMDRCLEVBQUEsQ0FDQUEsRUFBQUMsT0FFQSxRQUFBejJCLEVBQUEsRUFBaUJBLEVBQUF3MkIsRUFBQTFHLE1BQUFyekIsT0FBMkJ1RCxJQUM1Q3cyQixFQUFBMUcsTUFBQTl2QixHQUFBa0IsRUFBQTR1QixNQUFBOXZCLElBR0EsS0FBUUEsRUFBQWtCLEVBQUE0dUIsTUFBQXJ6QixPQUF1QnVELElBQy9CdzJCLEVBQUExRyxNQUFBdjFCLEtBQUFtOEIsRUFBQXgxQixFQUFBNHVCLE1BQUE5dkIsR0FBQUYsUUFFRyxDQUNILElBQUFnd0IsRUFBQSxHQUVBLElBQUE5dkIsRUFBQSxFQUFpQkEsRUFBQWtCLEVBQUE0dUIsTUFBQXJ6QixPQUF1QnVELElBQ3hDOHZCLEVBQUF2MUIsS0FBQW04QixFQUFBeDFCLEVBQUE0dUIsTUFBQTl2QixHQUFBRixJQUdBNDFCLEVBQUF4MEIsRUFBQXBELElBQUEsQ0FBMkJBLEdBQUFvRCxFQUFBcEQsR0FBQTI0QixLQUFBLEVBQUEzRyxXQUszQixTQUFBNkcsRUFBQXpsQixFQUFBcFIsR0FJQSxJQUhBLElBQUF5MkIsRUFBQSxHQUNBSyxFQUFBLEdBRUFwNkIsRUFBQSxFQUFnQkEsRUFBQTBVLEVBQUF6VSxPQUFpQkQsSUFBQSxDQUNqQyxJQUFBMEUsRUFBQWdRLEVBQUExVSxHQUNBc0IsRUFBQWdDLEVBQUE0dUIsS0FBQXh0QixFQUFBLEdBQUFwQixFQUFBNHVCLEtBQUF4dEIsRUFBQSxHQUlBd0osRUFBQSxDQUFjbXNCLElBSGQzMUIsRUFBQSxHQUdjNDFCLE1BRmQ1MUIsRUFBQSxHQUVjNjFCLFVBRGQ3MUIsRUFBQSxJQUdBMDFCLEVBQUE5NEIsR0FDQTg0QixFQUFBOTRCLEdBQUFneUIsTUFBQXYxQixLQUFBbVEsR0FEQTZyQixFQUFBaDhCLEtBQUFxOEIsRUFBQTk0QixHQUFBLENBQWtEQSxLQUFBZ3lCLE1BQUEsQ0FBQXBsQixLQUlsRCxPQUFBNnJCLEVBR0EsU0FBQVMsRUFBQWwzQixFQUFBbTNCLEdBQ0EsSUFBQXJnQixFQUFBaWYsRUFBQS8xQixFQUFBdzFCLFlBRUEsSUFBQTFlLEVBQ0EsVUFBQTdZLE1BQUEsK0dBR0EsSUFBQW01QixFQUFBZCxJQUFBMzVCLE9BQUEsR0FFQSxXQUFBcUQsRUFBQXEzQixTQUNBRCxFQUVHQSxFQUFBRSxZQUNIeGdCLEVBQUF5Z0IsYUFBQUosRUFBQUMsRUFBQUUsYUFFQXhnQixFQUFBblgsWUFBQXczQixHQUpBcmdCLEVBQUF5Z0IsYUFBQUosRUFBQXJnQixFQUFBcUgsWUFNQW1ZLEVBQUE3N0IsS0FBQTA4QixRQUNFLGNBQUFuM0IsRUFBQXEzQixTQUNGdmdCLEVBQUFuWCxZQUFBdzNCLE9BQ0UscUJBQUFuM0IsRUFBQXEzQixXQUFBcjNCLEVBQUFxM0IsU0FBQUcsT0FJRixVQUFBdjVCLE1BQUEsOExBSEEsSUFBQXE1QixFQUFBdkIsRUFBQS8xQixFQUFBcTNCLFNBQUFHLE9BQUExZ0IsR0FDQUEsRUFBQXlnQixhQUFBSixFQUFBRyxJQU1BLFNBQUFHLEVBQUFOLEdBQ0EsVUFBQUEsRUFBQU8sV0FBQSxTQUNBUCxFQUFBTyxXQUFBdFosWUFBQStZLEdBRUEsSUFBQW42QixFQUFBczVCLEVBQUE5N0IsUUFBQTI4QixHQUNBbjZCLEdBQUEsR0FDQXM1QixFQUFBcjVCLE9BQUFELEVBQUEsR0FJQSxTQUFBMjZCLEVBQUEzM0IsR0FDQSxJQUFBbTNCLEVBQUE3M0IsU0FBQUMsY0FBQSxTQU1BLFFBSkE5QyxJQUFBdUQsRUFBQTQzQixNQUFBLzJCLE9BQ0FiLEVBQUE0M0IsTUFBQS8yQixLQUFBLGlCQUdBcEUsSUFBQXVELEVBQUE0M0IsTUFBQUMsTUFBQSxDQUNBLElBQUFBLEVBZ0NBLFdBQ0ssRUFJTCxPQUFRMzlCLEVBQUE0OUIsR0FyQ1JDLEdBQ0FGLElBQ0E3M0IsRUFBQTQzQixNQUFBQyxTQU9BLE9BSEFHLEVBQUFiLEVBQUFuM0IsRUFBQTQzQixPQUNBVixFQUFBbDNCLEVBQUFtM0IsR0FFQUEsRUFpQkEsU0FBQWEsRUFBQUMsRUFBQUwsR0FDQTcrQixPQUFBcUosS0FBQXcxQixHQUFBdjFCLFFBQUEsU0FBQTBCLEdBQ0FrMEIsRUFBQUMsYUFBQW4wQixFQUFBNnpCLEVBQUE3ekIsTUFZQSxTQUFBNnlCLEVBQUFydkIsRUFBQXZILEdBQ0EsSUFBQW0zQixFQUFBcjRCLEVBQUFxNUIsRUFBQXI0QixFQUdBLEdBQUFFLEVBQUF1MUIsV0FBQWh1QixFQUFBd3ZCLElBQUEsQ0FLQSxLQUpBajNCLEVBQUEsbUJBQUFFLEVBQUF1MUIsVUFDQXYxQixFQUFBdTFCLFVBQUFodUIsRUFBQXd2QixLQUNBLzJCLEVBQUF1MUIsVUFBQTluQixRQUFBbEcsRUFBQXd2QixNQVNBLG9CQUpBeHZCLEVBQUF3dkIsSUFBQWozQixFQVVBLEdBQUFFLEVBQUFvMkIsVUFBQSxDQUNBLElBQUFnQyxFQUFBL0IsSUFFQWMsRUFBQWYsTUFBQXVCLEVBQUEzM0IsSUFFQWxCLEVBQUF1NUIsRUFBQXIwQixLQUFBLEtBQUFtekIsRUFBQWlCLEdBQUEsR0FDQUQsRUFBQUUsRUFBQXIwQixLQUFBLEtBQUFtekIsRUFBQWlCLEdBQUEsUUFHQTd3QixFQUFBMHZCLFdBQ0EsbUJBQUFxQixLQUNBLG1CQUFBQSxJQUFBQyxpQkFDQSxtQkFBQUQsSUFBQUUsaUJBQ0EsbUJBQUFDLE1BQ0EsbUJBQUFDLE1BRUF2QixFQWxFQSxTQUFBbjNCLEdBQ0EsSUFBQTI0QixFQUFBcjVCLFNBQUFDLGNBQUEsUUFVQSxZQVJBOUMsSUFBQXVELEVBQUE0M0IsTUFBQS8yQixPQUNBYixFQUFBNDNCLE1BQUEvMkIsS0FBQSxZQUVBYixFQUFBNDNCLE1BQUFoc0IsSUFBQSxhQUVBb3NCLEVBQUFXLEVBQUEzNEIsRUFBQTQzQixPQUNBVixFQUFBbDNCLEVBQUEyNEIsR0FFQUEsRUF1REFDLENBQUE1NEIsR0FDQWxCLEVBaUZBLFNBQUE2NUIsRUFBQTM0QixFQUFBdUgsR0FDQSxJQUFBd3ZCLEVBQUF4dkIsRUFBQXd2QixJQUNBRSxFQUFBMXZCLEVBQUEwdkIsVUFRQTRCLE9BQUFwOEIsSUFBQXVELEVBQUE4NEIsdUJBQUE3QixHQUVBajNCLEVBQUE4NEIsdUJBQUFELEtBQ0E5QixFQUFBUixFQUFBUSxJQUdBRSxJQUVBRixHQUFBLHVEQUF1RDJCLEtBQUFLLFNBQUF4dEIsbUJBQUF4TSxLQUFBMk0sVUFBQXVyQixNQUFBLE9BR3ZELElBQUErQixFQUFBLElBQUFQLEtBQUEsQ0FBQTFCLEdBQUEsQ0FBNkJsMkIsS0FBQSxhQUU3Qm80QixFQUFBTixFQUFBMXhCLEtBRUEweEIsRUFBQTF4QixLQUFBcXhCLElBQUFDLGdCQUFBUyxHQUVBQyxHQUFBWCxJQUFBRSxnQkFBQVMsSUE1R0FqMUIsS0FBQSxLQUFBbXpCLEVBQUFuM0IsR0FDQW00QixFQUFBLFdBQ0FWLEVBQUFOLEdBRUFBLEVBQUFsd0IsTUFBQXF4QixJQUFBRSxnQkFBQXJCLEVBQUFsd0IsU0FHQWt3QixFQUFBUSxFQUFBMzNCLEdBQ0FsQixFQXNEQSxTQUFBcTRCLEVBQUE1dkIsR0FDQSxJQUFBd3ZCLEVBQUF4dkIsRUFBQXd2QixJQUNBQyxFQUFBenZCLEVBQUF5dkIsTUFFQUEsR0FDQUcsRUFBQWUsYUFBQSxRQUFBbEIsR0FHQSxHQUFBRyxFQUFBK0IsV0FDQS9CLEVBQUErQixXQUFBQyxRQUFBcEMsTUFDRSxDQUNGLEtBQUFJLEVBQUFoWixZQUNBZ1osRUFBQS9ZLFlBQUErWSxFQUFBaFosWUFHQWdaLEVBQUF4M0IsWUFBQUwsU0FBQTg1QixlQUFBckMsTUFyRUEveUIsS0FBQSxLQUFBbXpCLEdBQ0FnQixFQUFBLFdBQ0FWLEVBQUFOLEtBTUEsT0FGQXI0QixFQUFBeUksR0FFQSxTQUFBOHhCLEdBQ0EsR0FBQUEsRUFBQSxDQUNBLEdBQ0FBLEVBQUF0QyxNQUFBeHZCLEVBQUF3dkIsS0FDQXNDLEVBQUFyQyxRQUFBenZCLEVBQUF5dkIsT0FDQXFDLEVBQUFwQyxZQUFBMXZCLEVBQUEwdkIsVUFFQSxPQUdBbjRCLEVBQUF5SSxFQUFBOHhCLFFBRUFsQixLQTFQQWg0QixFQUFBaUQsUUFBQSxTQUFBZ08sRUFBQXBSLEdBQ0EsdUJBQUFzNUIsY0FDQSxpQkFBQWg2QixTQUFBLFVBQUFyQixNQUFBLGlFQUdBK0IsS0FBQSxJQUVBNDNCLE1BQUEsaUJBQUE1M0IsRUFBQTQzQixNQUFBNTNCLEVBQUE0M0IsTUFBQSxHQUlBNTNCLEVBQUFvMkIsV0FBQSxrQkFBQXAyQixFQUFBbzJCLFlBQUFwMkIsRUFBQW8yQixVQUFBUCxLQUdBNzFCLEVBQUF3MUIsYUFBQXgxQixFQUFBdzFCLFdBQUEsUUFHQXgxQixFQUFBcTNCLFdBQUFyM0IsRUFBQXEzQixTQUFBLFVBRUEsSUFBQVosRUFBQUksRUFBQXpsQixFQUFBcFIsR0FJQSxPQUZBdzJCLEVBQUFDLEVBQUF6MkIsR0FFQSxTQUFBdTVCLEdBR0EsSUFGQSxJQUFBQyxFQUFBLEdBRUE5OEIsRUFBQSxFQUFpQkEsRUFBQSs1QixFQUFBOTVCLE9BQW1CRCxJQUFBLENBQ3BDLElBQUEwRSxFQUFBcTFCLEVBQUEvNUIsSUFDQWc2QixFQUFBZCxFQUFBeDBCLEVBQUFwRCxLQUVBMjRCLE9BQ0E2QyxFQUFBLytCLEtBQUFpOEIsR0FHQTZDLEdBRUEvQyxFQURBSyxFQUFBMEMsRUFBQXY1QixHQUNBQSxHQUdBLElBQUF0RCxFQUFBLEVBQWlCQSxFQUFBODhCLEVBQUE3OEIsT0FBc0JELElBQUEsQ0FDdkMsSUFBQWc2QixFQUVBLFFBRkFBLEVBQUE4QyxFQUFBOThCLElBRUFpNkIsS0FBQSxDQUNBLFFBQUF6MkIsRUFBQSxFQUFtQkEsRUFBQXcyQixFQUFBMUcsTUFBQXJ6QixPQUEyQnVELElBQUF3MkIsRUFBQTFHLE1BQUE5dkIsWUFFOUMwMUIsRUFBQWMsRUFBQTE0QixRQWtOQSxJQUNBeTdCLEVBREFDLEdBQ0FELEVBQUEsR0FFQSxTQUFBaFgsRUFBQWtYLEdBR0EsT0FGQUYsRUFBQWhYLEdBQUFrWCxFQUVBRixFQUFBRyxPQUFBQyxTQUFBbDRCLEtBQUEsUUFJQSxTQUFBMDJCLEVBQUFsQixFQUFBMVUsRUFBQTBWLEVBQUE1d0IsR0FDQSxJQUFBd3ZCLEVBQUFvQixFQUFBLEdBQUE1d0IsRUFBQXd2QixJQUVBLEdBQUFJLEVBQUErQixXQUNBL0IsRUFBQStCLFdBQUFDLFFBQUFPLEVBQUFqWCxFQUFBc1UsT0FDRSxDQUNGLElBQUErQyxFQUFBeDZCLFNBQUE4NUIsZUFBQXJDLEdBQ0FnRCxFQUFBNUMsRUFBQTRDLFdBRUFBLEVBQUF0WCxJQUFBMFUsRUFBQS9ZLFlBQUEyYixFQUFBdFgsSUFFQXNYLEVBQUFwOUIsT0FDQXc2QixFQUFBSSxhQUFBdUMsRUFBQUMsRUFBQXRYLElBRUEwVSxFQUFBeDNCLFlBQUFtNkIsb0JDN1VBMzVCLEVBQUFpRCxRQUFBLFNBQUEyekIsR0FFQSxJQUFBL1UsRUFBQSxvQkFBQXZwQixlQUFBdXBCLFNBRUEsSUFBQUEsRUFDQSxVQUFBL2pCLE1BQUEsb0NBSUEsSUFBQTg0QixHQUFBLGlCQUFBQSxFQUNBLE9BQUFBLEVBR0EsSUFBQWhFLEVBQUEvUSxFQUFBMWIsU0FBQSxLQUFBMGIsRUFBQXZiLEtBQ0F1ekIsRUFBQWpILEVBQUEvUSxFQUFBamIsU0FBQTJDLFFBQUEsaUJBMkRBLE9BL0JBcXRCLEVBQUFydEIsUUFBQSwrREFBQXV3QixFQUFBQyxHQUVBLElBV0FDLEVBWEFDLEVBQUFGLEVBQ0F0d0IsT0FDQUYsUUFBQSxvQkFBQWxHLEVBQUF1VixHQUF3QyxPQUFBQSxJQUN4Q3JQLFFBQUEsb0JBQUFsRyxFQUFBdVYsR0FBd0MsT0FBQUEsSUFHeEMsMERBQUFuVSxLQUFBdzFCLEdBQ0FILEdBUUFFLEVBRkEsSUFBQUMsRUFBQTUvQixRQUFBLE1BRUE0L0IsRUFDRyxJQUFBQSxFQUFBNS9CLFFBQUEsS0FFSHU0QixFQUFBcUgsRUFHQUosRUFBQUksRUFBQTF3QixRQUFBLFlBSUEsT0FBQTNLLEtBQUEyTSxVQUFBeXVCLEdBQUEseTNOQ25FQSxJQUFBRSxFQUFlLENBWVhDLGdCQUFpQixFQVdqQkMsV0FBWSxFQVdaQyxrQkFBbUIsRUFXbkJDOzs7Ozs7OztBQzlDVyxTQUFnQzVvQixHQUUzQ2lYLElBQUk0UixHQUFXLEVBRWYsR0FBSUMsRUFBQXo1QixFQUFTaUUsUUFBVXcxQixFQUFBejVCLEVBQVMrRCxNQUNoQyxDQUdJLEdBRkF5MUIsR0FBVyxFQUVQQyxFQUFBejVCLEVBQVM4RCxNQUFNSSxPQUNuQixDQUNJd2pCLElBQU16ZSxFQUFTdEYsVUFBbUIsVUFBRXNGLE1BQU0sbUJBRXRDQSxHQUVxQnl3QixTQUFTendCLEVBQU0sR0FBSSxLQUdwQixLQUVoQnV3QixHQUFXLEdBSXZCLEdBQUlDLEVBQUF6NUIsRUFBU29FLFFBQVFGLE9BQ3JCLENBQ0l3akIsSUFBTXplLEVBQVN0RixVQUFtQixVQUFFc0YsTUFBTSxzQkFFdENBLEdBRXFCeXdCLFNBQVN6d0IsRUFBTSxHQUFJLEtBR3BCLElBRWhCdXdCLEdBQVcsSUFNM0IsT0FBT0EsRUFBVzdvQixFQUFNLEVETUhncEIsQ0FBdUIsSUFnQjVDQyxrQkFBbUIsS0F1Qm5CQyxlQUFnQixDQUNaQyxLQUFNLEtBQ05DLFdBQVcsRUFDWEMsV0FBVyxFQUNYQyxhQUFhLEVBQ2JDLGFBQWEsRUFDYkMsZ0JBQWlCLEVBQ2pCQyxtQkFBbUIsRUFDbkJDLHVCQUF1QixFQUN2QkMsTUFBTyxJQUNQQyxPQUFRLElBQ1JDLFFBQVEsR0FZWkMsUUFBUyxFQVdUQyxZQUFhLEtBV2JDLG1CQUFvQixJQVdwQkMsVUFBVyxNQVdYQyxXQUFZLEVBV1pDLGlCQUFrQixRQVlsQkMsbUJBQW9CdEIsRUFBQXo1QixFQUFTOEQsTUFBTUksT0FBUyxRQUFVLFVBVXREODJCLHdCRTVMUXZCLEVBQUF6NUIsRUFBUzhELE1BQU1JLE9GdU12QisyQixxQkFBcUIsRUFhckJDLGNBQWMsbUQ1QnBOTEMsRUFBTSxDQUNmQyxhQUFjLEVBQ2RDLE1BQU8sRUFDUEMsT0FBUSxHQWNDQyxFQUFnQixDQUN6QjVnQixRQUFZLEVBQ1owZ0IsTUFBWSxFQUNaRyxPQUFZLEdBNENIQyxFQUFjLENBQ3ZCQyxPQUFnQixFQUNoQkMsSUFBZ0IsRUFDaEJDLFNBQWdCLEVBQ2hCQyxPQUFnQixFQUNoQkMsUUFBZ0IsRUFDaEJDLE9BQWdCLEVBQ2hCQyxRQUFnQixFQUNoQkMsWUFBZ0IsRUFDaEJDLFdBQWdCLEVBQ2hCQyxXQUFnQixFQUNoQkMsV0FBZ0IsR0FDaEJDLFdBQWdCLEdBQ2hCQyxVQUFnQixHQUNoQkMsSUFBZ0IsR0FDaEJDLFdBQWdCLEdBQ2hCQyxNQUFnQixHQUNoQkMsV0FBZ0IsR0FDaEJDLFdBQWdCLEdBQ2hCQyxRQUFnQixHQUNoQkMsV0FBZ0IsR0FDaEIvYSxLQUFnQixHQUVoQmdiLFNBQWdCLEVBQ2hCQyxPQUFnQixHQUNoQkMsUUFBZ0IsR0FDaEJDLFNBQWdCLEdBQ2hCQyxTQUFnQixHQUNoQkMsT0FBZ0IsR0FDaEJDLFFBQWdCLEdBQ2hCQyxTQUFnQixHQUNoQkMsTUFBZ0IsR0FDaEJDLFNBQWdCLElBbUJQQyxFQUFhLENBQ3RCQyxPQUFnQixFQUNoQkMsTUFBZ0IsRUFDaEJDLFVBQWdCLEVBQ2hCQyxXQUFnQixFQUNoQkMsVUFBZ0IsRUFDaEJDLGVBQWdCLEVBQ2hCQyxhQUFnQixHQWtCUEMsRUFBVSxDQUNuQkMsS0FBa0IsS0FDbEJDLElBQWtCLEtBQ2xCQyxNQUFrQixLQUNsQkMsVUFBa0IsS0FDbEJDLGdCQUFrQixLQUNsQkMsZ0JBQWtCLEtBQ2xCQyxjQUFrQixPQW9CVEMsRUFBVSxDQUNuQkMsV0FBWSxLQUNaQyxpQkFBa0IsTUFDbEJDLGlCQUFrQixNQUNsQkMsNEJBQTZCLE1BQzdCQyw0QkFBNkIsTUFDN0JDLDRCQUE2QixNQUM3QkMsNEJBQTZCLE1BQzdCQyw0QkFBNkIsTUFDN0JDLDRCQUE2QixPQWtCcEJDLEVBQVEsQ0FDakJDLGNBQWUsS0FDZkMsZUFBZ0IsS0FDaEJDLHFCQUFzQixNQUN0QkMsdUJBQXdCLE1BQ3hCQyx1QkFBd0IsTUFDeEJDLE1BQU8sS0FDUEMsV0FBWSxPQWdCSEMsRUFBYyxDQUN2QkMsT0FBWSxFQUNaQyxRQUFZLEdBcUJIQyxFQUFhLENBQ3RCQyxNQUFpQixNQUNqQkMsT0FBaUIsTUFDakJDLGdCQUFpQixPQXFCUkMsRUFBZSxDQUN4QkMsSUFBSyxFQUNMQyxLQUFNLEVBQ05DLEdBQUksR0FzQktDLEVBQVcsQ0FDcEJDLEtBQWdCLEVBQ2hCQyxPQUFnQixHQWVQQyxFQUFZLENBQ3JCQyxJQUFLLE9BQ0xDLE9BQVEsVUFDUkMsS0FBTTs7Ozs7Ozs7QTRCclRWeEgsRUFBU3lILGNBQWdCLGVHWnpCaFosSUNBSWlaLEVEQUFDLEdBQVksRUFDVkMsRUFBVSxRQVFULFNBQVNDLElBRVpGLEdBQVksRUFhVCxTQUFTRyxFQUFTdGhDLEdBRXJCLElBQUltaEMsRUFBSixDQUtBLEdBQUluOUIsVUFBVUMsVUFBVW9GLGNBQWMxUCxRQUFRLFdBQWEsRUFDM0QsQ0FDSW91QixJQUFNblosRUFBTyx1QkFDYXd5QixFQUFPLFFBQVFwaEMsRUFBSSx5REFDekMsc0NBQ0Esc0NBQ0Esc0RBQ0Esc0NBQ0Esc0NBQ0Esc0NBQ0EsbURBQ0EsbURBQ0Esb0RBR0pwSSxPQUFPa0MsUUFBUXluQyxJQUFJaGxDLE1BQU16QyxRQUFTOFUsUUFFN0JoWCxPQUFPa0MsU0FFWmxDLE9BQU9rQyxRQUFReW5DLElBQUcsVUFBV0gsRUFBTyxNQUFNcGhDLEVBQUksNkJBR2xEbWhDLEdBQVksR0M1Q1QsU0FBU0ssSUEwQ1osWUF4Q3lCLElBQWROLElBRVBBLEVBQVksV0FFUm5aLElBQU0wWixFQUFpQixDQUFFQyxTQUFTLEVBQU1DLDhCQUE4QixHQUV0RSxJQUVJLElBQUsvcEMsT0FBT2dxQyxzQkFFUixPQUFPLEVBR1g3WixJQUFNOFosRUFBU3BqQyxTQUFTQyxjQUFjLFVBQ2xDb2pDLEVBQUtELEVBQU9FLFdBQVcsUUFBU04sSUFDN0JJLEVBQU9FLFdBQVcscUJBQXNCTixHQUV6Q08sS0FBYUYsSUFBTUEsRUFBR0csdUJBQXVCUCxTQUVuRCxHQUFJSSxFQUNKLENBQ0kvWixJQUFNbWEsRUFBY0osRUFBR0ssYUFBYSxzQkFFaENELEdBRUFBLEVBQVlBLGNBTXBCLE9BRkFKLEVBQUssS0FFRUUsRUFFWCxNQUFPeG5DLEdBRUgsT0FBTyxHQWpDSCxJQXNDVDBtQyxFQ3hDSixTQUFTa0IsRUFBUUMsRUFBS3BTLEdBUXpCLE9BTkFBLEVBQU1BLEdBQU8sSUFFVCxJQUFPb1MsR0FBTyxHQUFNLEtBQVEsSUFDaENwUyxFQUFJLElBQU9vUyxHQUFPLEVBQUssS0FBUSxJQUMvQnBTLEVBQUksSUFBWSxJQUFOb1MsR0FBYyxJQUVqQnBTLEVBYUosU0FBU3FTLEVBQVdELEdBS3ZCLE9BSEFBLEVBQU1BLEVBQUluZ0IsU0FBUyxJQUduQixLQUZBbWdCLEVBQU0sU0FBU241QixPQUFPLEVBQUcsRUFBSW01QixFQUFJdm1DLFFBQVV1bUMsR0FleEMsU0FBU0UsRUFBV3JULEdBT3ZCLE1BTHNCLGlCQUFYQSxHQUFxQyxNQUFkQSxFQUFPLEtBRXJDQSxFQUFTQSxFQUFPaG1CLE9BQU8sSUFHcEI2d0IsU0FBUzdLLEVBQVEsSUFhckIsU0FBU3NULEVBQVFDLEdBRXBCLE9BQW1CLElBQVRBLEVBQUksSUFBYSxLQUFpQixJQUFUQSxFQUFJLElBQWEsSUFBZSxJQUFUQSxFQUFJLEdBQVcsR0M1QmpFLElBQUNDLEVBakNiLFdBS0ksSUFIQTNhLElBQU00YSxFQUFLLEdBQ0xDLEVBQU0sR0FFSC9tQyxFQUFJLEVBQUdBLEVBQUksR0FBSUEsSUFFcEI4bUMsRUFBRzltQyxHQUFLQSxFQUNSK21DLEVBQUkvbUMsR0FBS0EsRUFHYjhtQyxFQUFHN0csRUFBWWtCLFlBQWNsQixFQUFZQyxPQUN6QzRHLEVBQUc3RyxFQUFZbUIsU0FBV25CLEVBQVlFLElBQ3RDMkcsRUFBRzdHLEVBQVlvQixZQUFjcEIsRUFBWUksT0FFekMwRyxFQUFJOUcsRUFBWUMsUUFBVUQsRUFBWWtCLFdBQ3RDNEYsRUFBSTlHLEVBQVlFLEtBQU9GLEVBQVltQixRQUNuQzJGLEVBQUk5RyxFQUFZSSxRQUFVSixFQUFZb0IsV0FFdENuVixJQUFNdlAsRUFBUSxHQUtkLE9BSEFBLEVBQU01ZSxLQUFLZ3BDLEdBQ1hwcUIsRUFBTTVlLEtBQUsrb0MsR0FFSm5xQixFQVN5QnFxQixHQVc3QixTQUFTQyxFQUFpQkMsRUFBV0MsR0FFeEMsT0FBT04sRUFBcUJNLEVBQWdCLEVBQUksR0FBR0QsR0FjaEQsU0FBU0UsRUFBZ0JSLEVBQUtTLEVBQU9qVCxFQUFLa1QsR0FpQjdDLE9BZkFsVCxFQUFNQSxHQUFPLElBQUlsSCxhQUFhLEdBQzFCb2EsUUFBK0J2bkMsSUFBaEJ1bkMsR0FFZmxULEVBQUksR0FBS3dTLEVBQUksR0FBS1MsRUFDbEJqVCxFQUFJLEdBQUt3UyxFQUFJLEdBQUtTLEVBQ2xCalQsRUFBSSxHQUFLd1MsRUFBSSxHQUFLUyxJQUlsQmpULEVBQUksR0FBS3dTLEVBQUksR0FDYnhTLEVBQUksR0FBS3dTLEVBQUksR0FDYnhTLEVBQUksR0FBS3dTLEVBQUksSUFFakJ4UyxFQUFJLEdBQUtpVCxFQUVGalQsRUFZSixTQUFTbVQsRUFBZ0JDLEVBQU1ILEdBRWxDLEdBQWMsSUFBVkEsRUFFQSxPQUFnQixJQUFSQSxHQUFlLElBQU1HLEVBRWpDLEdBQWMsSUFBVkgsRUFFQSxPQUFPLEVBRVhqYixJQUFJcWIsRUFBTUQsR0FBUSxHQUFNLElBQ3BCRSxFQUFNRixHQUFRLEVBQUssSUFDbkJHLEVBQVksSUFBUEgsRUFNVCxPQUFnQixJQUFSSCxHQUFlLE1BSnZCSSxFQUFNQSxFQUFJSixFQUFTLEdBQU8sSUFJUyxNQUhuQ0ssRUFBTUEsRUFBSUwsRUFBUyxHQUFPLElBR3FCLElBRi9DTSxFQUFNQSxFQUFJTixFQUFTLEdBQU8sR0FnQnZCLFNBQVNPLEVBQXNCSixFQUFNSCxFQUFPalQsRUFBS2tULEdBY3BELE9BWkFsVCxFQUFNQSxHQUFPLElBQUlsSCxhQUFhLElBQzFCLElBQU9zYSxHQUFRLEdBQU0sS0FBUSxJQUNqQ3BULEVBQUksSUFBT29ULEdBQVEsRUFBSyxLQUFRLElBQ2hDcFQsRUFBSSxJQUFhLElBQVBvVCxHQUFlLEtBQ3JCRixRQUErQnZuQyxJQUFoQnVuQyxLQUVmbFQsRUFBSSxJQUFNaVQsRUFDVmpULEVBQUksSUFBTWlULEVBQ1ZqVCxFQUFJLElBQU1pVCxHQUVkalQsRUFBSSxHQUFLaVQsRUFFRmpULEVDeklKLFNBQVN5VCxFQUFzQkMsR0FTbEMsSUFMQTViLElBQU02YixFQUFzQixFQUFQRCxFQUVmRSxFQUFVLElBQUk1YSxZQUFZMmEsR0FHdkIvbkMsRUFBSSxFQUFHd0QsRUFBSSxFQUFHeEQsRUFBSStuQyxFQUFjL25DLEdBQUssRUFBR3dELEdBQUssRUFFbER3a0MsRUFBUWhvQyxFQUFJLEdBQUt3RCxFQUFJLEVBQ3JCd2tDLEVBQVFob0MsRUFBSSxHQUFLd0QsRUFBSSxFQUNyQndrQyxFQUFRaG9DLEVBQUksR0FBS3dELEVBQUksRUFDckJ3a0MsRUFBUWhvQyxFQUFJLEdBQUt3RCxFQUFJLEVBQ3JCd2tDLEVBQVFob0MsRUFBSSxHQUFLd0QsRUFBSSxFQUNyQndrQyxFQUFRaG9DLEVBQUksR0FBS3dELEVBQUksRUFHekIsT0FBT3drQyxFQ25CSixTQUFTQyxFQUFZQyxFQUFLQyxFQUFVQyxHQUV2Q2xjLElBQ0lsc0IsRUFERUMsRUFBU2lvQyxFQUFJam9DLE9BR25CLEtBQUlrb0MsR0FBWWxvQyxHQUEwQixJQUFoQm1vQyxHQUExQixDQU9BbGMsSUFBTWxaLEVBQU0vUyxHQUZabW9DLEVBQWVELEVBQVdDLEVBQWNub0MsRUFBU0EsRUFBU2tvQyxFQUFXQyxHQUlyRSxJQUFLcG9DLEVBQUltb0MsRUFBVW5vQyxFQUFJZ1QsSUFBT2hULEVBRTFCa29DLEVBQUlsb0MsR0FBS2tvQyxFQUFJbG9DLEVBQUlvb0MsR0FHckJGLEVBQUlqb0MsT0FBUytTLEdDNUJqQm9aLElBQUlpYyxFQUFVLEVBU1AsU0FBU0MsSUFFWixRQUFTRCxFQ0hOLFNBQVMxYixFQUFLcGxCLEdBRWpCLE9BQVUsSUFBTkEsRUFBZ0IsRUFFYkEsRUFBSSxHQUFLLEVBQUksRUNGakIsU0FBU2doQyxFQUFTdmdDLEdBVXJCLE9BUkFBLEdBQVcsSUFBTkEsSUFDSEEsRUFDRkEsR0FBS0EsSUFBTSxFQUNYQSxHQUFLQSxJQUFNLEVBQ1hBLEdBQUtBLElBQU0sRUFDWEEsR0FBS0EsSUFBTSxHQUNYQSxHQUFLQSxJQUFNLElBRUEsRUFXUixTQUFTd2dDLEVBQU94Z0MsR0FFbkIsUUFBU0EsRUFBS0EsRUFBSSxJQUFVQSxHQVd6QixTQUFTeWdDLEVBQUt6Z0MsR0FFakJva0IsSUFBSXJsQixHQUFLaUIsRUFBSSxRQUFXLEVBSXBCMEgsSUFGSjFILEtBQU9qQixHQUVVLE1BQVMsRUFRMUIsT0FOY0EsR0FBSzJJLEVBRUwzSSxHQURkMkksSUFEQTFILEtBQU8wSCxHQUNNLEtBQVEsR0FHUDNJLEdBRGQySSxJQURBMUgsS0FBTzBILEdBQ00sSUFBUSxJQUNyQjFILEtBQU8wSCxJQUVVLEVDbERULElBQUNnNUIsRUFBZSxHQVVmQyxHQUFldHNDLE9BQU8rSyxPQUFPLE1BVzdCd2hDLEdBQW1CdnNDLE9BQU8rSyxPQUFPLE1BT3ZDLFNBQVN5aEMsS0FFWnpjLElBQUkva0IsRUFFSixJQUFLQSxLQUFPc2hDLEdBRVJBLEdBQWF0aEMsR0FBS3loQyxVQUV0QixJQUFLemhDLEtBQU91aEMsR0FFUkEsR0FBaUJ2aEMsR0FBS3loQyxVQVV2QixTQUFTQyxLQUVaM2MsSUFBSS9rQixFQUVKLElBQUtBLEtBQU9zaEMsVUFFREEsR0FBYXRoQyxHQUV4QixJQUFLQSxLQUFPdWhDLFVBRURBLEdBQWlCdmhDLEdDMUR6QixTQUFTMmhDLEdBQVdoRCxHQUl2QjVaLElBZUlwc0IsRUFDQThULEVBQ0FDLEVBakJBK3FCLEVBQVFrSCxFQUFPbEgsTUFDZkMsRUFBU2lILEVBQU9qSCxPQUVkM3RCLEVBQVU0MEIsRUFBT0UsV0FBVyxNQUU1QitDLEVBRFk3M0IsRUFBUTgzQixhQUFhLEVBQUcsRUFBR3BLLEVBQU9DLEdBQzNCOTlCLEtBQ25CK1IsRUFBTWkyQixFQUFPaHBDLE9BRWJrcEMsRUFBUSxDQUNWQyxJQUFLLEtBQ0xDLEtBQU0sS0FDTkMsTUFBTyxLQUNQQyxPQUFRLE1BRVJ0b0MsRUFBTyxLQUtYLElBQUtqQixFQUFJLEVBQUdBLEVBQUlnVCxFQUFLaFQsR0FBSyxFQUVBLElBQWxCaXBDLEVBQU9qcEMsRUFBSSxLQUVYOFQsRUFBSzlULEVBQUksRUFBSzgrQixFQUNkL3FCLEtBQVEvVCxFQUFJLEVBQUs4K0IsR0FFQyxPQUFkcUssRUFBTUMsTUFFTkQsRUFBTUMsSUFBTXIxQixHQUdHLE9BQWZvMUIsRUFBTUUsS0FFTkYsRUFBTUUsS0FBT3YxQixFQUVSQSxFQUFJcTFCLEVBQU1FLE9BRWZGLEVBQU1FLEtBQU92MUIsR0FHRyxPQUFoQnExQixFQUFNRyxNQUVOSCxFQUFNRyxNQUFReDFCLEVBQUksRUFFYnExQixFQUFNRyxNQUFReDFCLElBRW5CcTFCLEVBQU1HLE1BQVF4MUIsRUFBSSxHQUdELE9BQWpCcTFCLEVBQU1JLE9BRU5KLEVBQU1JLE9BQVN4MUIsRUFFVm8xQixFQUFNSSxPQUFTeDFCLElBRXBCbzFCLEVBQU1JLE9BQVN4MUIsSUFZM0IsT0FQa0IsT0FBZG8xQixFQUFNQyxNQUVOdEssRUFBUXFLLEVBQU1HLE1BQVFILEVBQU1FLEtBQzVCdEssRUFBU29LLEVBQU1JLE9BQVNKLEVBQU1DLElBQU0sRUFDcENub0MsRUFBT21RLEVBQVE4M0IsYUFBYUMsRUFBTUUsS0FBTUYsRUFBTUMsSUFBS3RLLEVBQU9DLElBR3ZELFFBQ0hBLFFBQ0FELE9BQ0E3OUIsR0MxRVIsSUFBcUJ1b0MsR0FPakIsU0FBWTFLLEVBQU9DLEVBQVEwSyxHQU8zQm5nQyxLQUFTMDhCLE9BQVNwakMsU0FBU0MsY0FBYyxVQU9yQ3lHLEtBQUs4SCxRQUFVOUgsS0FBSzA4QixPQUFPRSxXQUFXLE1BRTFDNThCLEtBQVNtZ0MsV0FBYUEsR0FBYzlMLEVBQVNFLFdBRTdDdjBCLEtBQVNvZ0MsT0FBTzVLLEVBQU9DLDBEQVEzQnlLLEdBQUFsdEMsVUFBSXF0QyxNQUFBLFdBRUlyZ0MsS0FBSzhILFFBQVF3NEIsYUFBYSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDN0N0Z0MsS0FBUzhILFFBQVF5NEIsVUFBVSxFQUFHLEVBQUd2Z0MsS0FBSzA4QixPQUFPbEgsTUFBT3gxQixLQUFLMDhCLE9BQU9qSCxTQVNwRXlLLEdBQUFsdEMsVUFBSW90QyxPQUFBLFNBQU81SyxFQUFPQyxHQUVkejFCLEtBQVMwOEIsT0FBT2xILE1BQVFBLEVBQVF4MUIsS0FBS21nQyxXQUNyQ25nQyxLQUFTMDhCLE9BQU9qSCxPQUFTQSxFQUFTejFCLEtBQUttZ0MsWUFPM0NELEdBQUFsdEMsVUFBSXdzQyxRQUFBLFdBRUl4L0IsS0FBSzhILFFBQVUsS0FDZjlILEtBQUswOEIsT0FBUyxNQVF0QjhELEdBQVFoTCxNQUFBdmdDLElBQUEsV0FFQSxPQUFPK0ssS0FBSzA4QixPQUFPbEgsT0FHM0JnTCxHQUFRaEwsTUFBQXRnQyxJQUFBLFNBQU00bkIsR0FFTjljLEtBQUswOEIsT0FBT2xILE1BQVExWSxHQVE1QjBqQixHQUFRL0ssT0FBQXhnQyxJQUFBLFdBRUEsT0FBTytLLEtBQUswOEIsT0FBT2pILFFBRzNCK0ssR0FBUS9LLE9BQUF2Z0MsSUFBQSxTQUFPNG5CLEdBRVA5YyxLQUFLMDhCLE9BQU9qSCxPQUFTM1ksNENDdkZqQixJQ1BSL0gsR0RPUzByQixHQUFXLCtFRWFqQixTQUFTQyxHQUFpQkMsR0FFN0IvZCxJQUFNZ2UsRUFBZUgsR0FBUzM4QixLQUFLNjhCLEdBRW5DLEdBQUlDLEVBRUEsTUFBTyxDQUNIQyxVQUFXRCxFQUFhLEdBQUtBLEVBQWEsR0FBRzE4QixtQkFBZ0J6TixFQUM3RHFxQyxRQUFTRixFQUFhLEdBQUtBLEVBQWEsR0FBRzE4QixtQkFBZ0J6TixFQUMzRCtDLFFBQVNvbkMsRUFBYSxHQUFLQSxFQUFhLEdBQUcxOEIsbUJBQWdCek4sRUFDM0RzcUMsU0FBVUgsRUFBYSxHQUFLQSxFQUFhLEdBQUcxOEIsbUJBQWdCek4sRUFDNURrQixLQUFNaXBDLEVBQWEsSURsQnhCLFNBQVNJLEdBQXFCOTlCLEVBQUs0WSxHQUd0QyxrQkFINENycEIsT0FBT3VwQixVQUd0QixJQUF6QjlZLEVBQUkxTyxRQUFRLFNBRVosTUFBTyxHQUlYc25CLEVBQU1BLEdBQU9ycEIsT0FBT3VwQixTQUVmakgsS0FFREEsR0FBYXpiLFNBQVNDLGNBQWMsTUFNeEN3YixHQUFXOVQsS0FBT2lDLEVBR2xCMGYsSUFBTTNHLElBRk4vWSxFQUFNKzlCLEVBQUEvbEMsRUFBS2xDLE1BQU0rYixHQUFXOVQsT0FFTFAsTUFBcUIsS0FBYm9iLEVBQUlwYixNQUFpQndDLEVBQUl4QyxPQUFTb2IsRUFBSXBiLEtBR3JFLE9BQUl3QyxFQUFJdkMsV0FBYW1iLEVBQUluYixVQUFhc2IsR0FBWS9ZLEVBQUk1QyxXQUFhd2IsRUFBSXhiLFNBS2hFLEdBSEksWUU5QlIsU0FBUzRnQyxHQUFtQmgrQixFQUFLaStCLEdBRXBDdmUsSUFBTXVkLEVBQWE5TCxFQUFTeUgsY0FBY2g0QixLQUFLWixHQUUvQyxPQUFJaTlCLEVBRU9pQixXQUFXakIsRUFBVyxTQUdUMXBDLElBQWpCMHFDLEVBQTZCQSxFQUFlLEVDcEJ2RHZlLElBQU15ZSxHQUFXLEdBY1YsU0FBU0MsR0FBWXZaLEVBQVMvUCxFQUFTdXBCLEdBRzFDLGtCQUh3RCxJQUdwREYsR0FBU3JwQixHQUFiLENBTUE4SyxJQUFJMGUsR0FBUSxJQUFJdnBDLE9BQVF1cEMsV0FHSCxJQUFWQSxFQUVQN3NDLFFBQVFDLEtBQUssK0JBQW1Db2pCLEVBQU8sdUJBQXVCK1AsSUFLOUV5WixFQUFRQSxFQUFNemlDLE1BQU0sTUFBTTlILE9BQU9zcUMsR0FBYTVsQyxLQUFLLE1BRS9DaEgsUUFBUThzQyxnQkFFUjlzQyxRQUFROHNDLGVBQ0oscUNBQ0EsbUNBQ0Esc0RBQ0d6cEIsRUFBTyx1QkFBdUIrUCxHQUVyQ3B6QixRQUFRQyxLQUFLNHNDLEdBQ2I3c0MsUUFBUStzQyxhQUlSL3NDLFFBQVFDLEtBQUssK0JBQW1Db2pCLEVBQU8sdUJBQXVCK1AsR0FDOUVwekIsUUFBUUMsS0FBSzRzQyxLQUtyQkgsR0FBU3JwQixJQUFXOzs7Ozs7O0dDaERULElBQU0ycEIsR0FNakIsU0FBWW4zQixFQUFPQyxrQkFBSCxrQkFBTyxHQU1uQnpLLEtBQUt3SyxFQUFJQSxFQU1UeEssS0FBS3lLLEVBQUlBLEdBUWpCazNCLEdBQUEzdUMsVUFBSTR1QyxNQUFBLFdBRUksT0FBTyxJQUFJRCxHQUFNM2hDLEtBQUt3SyxFQUFHeEssS0FBS3lLLElBU3RDazNCLEdBQUEzdUMsVUFBSTZ1QyxTQUFBLFNBQVNycEMsR0FJVCxPQUZJd0gsS0FBSzlLLElBQUlzRCxFQUFFZ1MsRUFBR2hTLEVBQUVpUyxHQUVUekssTUFTZjJoQyxHQUFBM3VDLFVBQUk4dUMsT0FBQSxTQUFPdHBDLEdBSVAsT0FGSUEsRUFBRXRELElBQUk4SyxLQUFLd0ssRUFBR3hLLEtBQUt5SyxHQUVaalMsR0FTZm1wQyxHQUFBM3VDLFVBQUlrWixPQUFBLFNBQU8xVCxHQUVQLE9BQVlBLEVBQUVnUyxJQUFNeEssS0FBS3dLLEdBQU9oUyxFQUFFaVMsSUFBTXpLLEtBQUt5SyxHQVVqRGszQixHQUFBM3VDLFVBQUlrQyxJQUFBLFNBQUlzVixFQUFHQyxHQUVIekssS0FBS3dLLEVBQUlBLEdBQUssRUFDZHhLLEtBQUt5SyxFQUFJQSxJQUFhLElBQU5BLEVBQVd6SyxLQUFLd0ssRUFBSSxJQzVFNUMsSUFBcUJ1M0IsR0FRakIsU0FBWTluQyxFQUFJZ3FCLEVBQU96WixFQUFPQyxrQkFBSCxrQkFBTyxHQUU5QnpLLEtBQUtnaUMsR0FBS3gzQixFQUNWeEssS0FBS2lpQyxHQUFLeDNCLEVBRVZ6SyxLQUFLL0YsR0FBS0EsRUFDVitGLEtBQUtpa0IsTUFBUUEsZ0RBYXJCOGQsR0FBQS91QyxVQUFJNHVDLE1BQUEsU0FBTTNuQyxFQUFXZ3FCLGtCQUFOLHFCQUFjLE1BRXpCLElBQVVpZSxFQUFNam9DLEdBQU0rRixLQUFLL0YsR0FDakJrb0MsRUFBU2xlLEdBQVNqa0IsS0FBS2lrQixNQUU3QixPQUFPLElBQUk4ZCxHQUFnQkcsRUFBS0MsRUFBUW5pQyxLQUFLZ2lDLEdBQUloaUMsS0FBS2lpQyxLQVU5REYsR0FBQS91QyxVQUFJa0MsSUFBQSxTQUFJc1YsRUFBR0MsR0FFSG1ZLElBQU1vZixFQUFLeDNCLEdBQUssRUFDVnkzQixFQUFLeDNCLElBQWEsSUFBTkEsRUFBV3UzQixFQUFLLEdBRTlCaGlDLEtBQUtnaUMsS0FBT0EsR0FBTWhpQyxLQUFLaWlDLEtBQU9BLElBRTlCamlDLEtBQUtnaUMsR0FBS0EsRUFDVmhpQyxLQUFLaWlDLEdBQUtBLEVBQ2RqaUMsS0FBUy9GLEdBQUcvRyxLQUFLOE0sS0FBS2lrQixTQVU5QjhkLEdBQUEvdUMsVUFBSTZ1QyxTQUFBLFNBQVNycEMsR0FTVCxPQVBRd0gsS0FBS2dpQyxLQUFPeHBDLEVBQUVnUyxHQUFLeEssS0FBS2lpQyxLQUFPenBDLEVBQUVpUyxJQUVqQ3pLLEtBQUtnaUMsR0FBS3hwQyxFQUFFZ1MsRUFDWnhLLEtBQUtpaUMsR0FBS3pwQyxFQUFFaVMsRUFDaEJ6SyxLQUFTL0YsR0FBRy9HLEtBQUs4TSxLQUFLaWtCLFFBR2Zqa0IsTUFTZitoQyxHQUFBL3VDLFVBQUk4dUMsT0FBQSxTQUFPdHBDLEdBSVAsT0FGSUEsRUFBRXRELElBQUk4SyxLQUFLZ2lDLEdBQUloaUMsS0FBS2lpQyxJQUVienBDLEdBU2Z1cEMsR0FBQS91QyxVQUFJa1osT0FBQSxTQUFPMVQsR0FFUCxPQUFZQSxFQUFFZ1MsSUFBTXhLLEtBQUtnaUMsSUFBUXhwQyxFQUFFaVMsSUFBTXpLLEtBQUtpaUMsSUFRbERHLEdBQVE1M0IsRUFBQXZWLElBQUEsV0FFQSxPQUFPK0ssS0FBS2dpQyxJQUdwQkksR0FBUTUzQixFQUFBdFYsSUFBQSxTQUFFQyxHQUVFNkssS0FBS2dpQyxLQUFPN3NDLElBRVo2SyxLQUFLZ2lDLEdBQUs3c0MsRUFDZDZLLEtBQVMvRixHQUFHL0csS0FBSzhNLEtBQUtpa0IsU0FTOUJtZSxHQUFRMzNCLEVBQUF4VixJQUFBLFdBRUEsT0FBTytLLEtBQUtpaUMsSUFHcEJHLEdBQVEzM0IsRUFBQXZWLElBQUEsU0FBRUMsR0FFRTZLLEtBQUtpaUMsS0FBTzlzQyxJQUVaNkssS0FBS2lpQyxHQUFLOXNDLEVBQ2Q2SyxLQUFTL0YsR0FBRy9HLEtBQUs4TSxLQUFLaWtCLGtETnJJbEIsSUFBQ29lLEdBQWlCLEVBQVZ6MkIsS0FBSzAyQixHQVNaQyxHQUFhLElBQU0zMkIsS0FBSzAyQixHQVN4QkUsR0FBYTUyQixLQUFLMDJCLEdBQUssSUFnQnZCRyxHQUFTLENBQ2xCQyxLQUFNLEVBQ05DLEtBQU0sRUFDTkMsS0FBTSxFQUNOQyxLQUFNLEVBQ05DLEtBQU0sR08vQldDLEdBVWpCLFNBQVk3bkMsRUFBT0MsRUFBT2pDLEVBQU9vRSxFQUFPMGxDLEVBQVFDLGtCQUFoQyxrQkFBTyxrQkFBTyxrQkFBTyxrQkFBUSxrQkFBUSxHQU1qRGpqQyxLQUFLOUUsRUFBSUEsRUFNVDhFLEtBQUs3RSxFQUFJQSxFQU1UNkUsS0FBSzlHLEVBQUlBLEVBTVQ4RyxLQUFLMUMsRUFBSUEsRUFNVDBDLEtBQUtnakMsR0FBS0EsRUFNVmhqQyxLQUFLaWpDLEdBQUtBLEVBRVZqakMsS0FBS3FULE1BQVEsb0VBZXJCMHZCLEdBQUEvdkMsVUFBSWt3QyxVQUFBLFNBQVU3dkIsR0FFVnJULEtBQVM5RSxFQUFJbVksRUFBTSxHQUNuQnJULEtBQVM3RSxFQUFJa1ksRUFBTSxHQUNuQnJULEtBQVM5RyxFQUFJbWEsRUFBTSxHQUNuQnJULEtBQVMxQyxFQUFJK1YsRUFBTSxHQUNuQnJULEtBQVNnakMsR0FBSzN2QixFQUFNLEdBQ3BCclQsS0FBU2lqQyxHQUFLNXZCLEVBQU0sSUFleEIwdkIsR0FBQS92QyxVQUFJa0MsSUFBQSxTQUFJZ0csRUFBR0MsRUFBR2pDLEVBQUdvRSxFQUFHMGxDLEVBQUlDLEdBU3BCLE9BUElqakMsS0FBSzlFLEVBQUlBLEVBQ1Q4RSxLQUFLN0UsRUFBSUEsRUFDVDZFLEtBQUs5RyxFQUFJQSxFQUNUOEcsS0FBSzFDLEVBQUlBLEVBQ1QwQyxLQUFLZ2pDLEdBQUtBLEVBQ1ZoakMsS0FBS2lqQyxHQUFLQSxFQUVIampDLE1BVWYraUMsR0FBQS92QyxVQUFJbXdDLFFBQUEsU0FBUUMsRUFBV3RZLEdBRVY5cUIsS0FBS3FULFFBRVZyVCxLQUFTcVQsTUFBUSxJQUFJdVEsYUFBYSxJQUd0QyxJQUFVdlEsRUFBUXlYLEdBQU85cUIsS0FBS3FULE1BMkI5QixPQXpCUSt2QixHQUVKL3ZCLEVBQVUsR0FBS3JULEtBQUs5RSxFQUNwQm1ZLEVBQVUsR0FBS3JULEtBQUs3RSxFQUNoQmtZLEVBQU0sR0FBSyxFQUNmQSxFQUFVLEdBQUtyVCxLQUFLOUcsRUFDcEJtYSxFQUFVLEdBQUtyVCxLQUFLMUMsRUFDaEIrVixFQUFNLEdBQUssRUFDZkEsRUFBVSxHQUFLclQsS0FBS2dqQyxHQUNwQjN2QixFQUFVLEdBQUtyVCxLQUFLaWpDLEdBQ2hCNXZCLEVBQU0sR0FBSyxJQUlmQSxFQUFVLEdBQUtyVCxLQUFLOUUsRUFDcEJtWSxFQUFVLEdBQUtyVCxLQUFLOUcsRUFDcEJtYSxFQUFVLEdBQUtyVCxLQUFLZ2pDLEdBQ3BCM3ZCLEVBQVUsR0FBS3JULEtBQUs3RSxFQUNwQmtZLEVBQVUsR0FBS3JULEtBQUsxQyxFQUNwQitWLEVBQVUsR0FBS3JULEtBQUtpakMsR0FDaEI1dkIsRUFBTSxHQUFLLEVBQ1hBLEVBQU0sR0FBSyxFQUNYQSxFQUFNLEdBQUssR0FHUkEsR0FXZjB2QixHQUFBL3ZDLFVBQUlvRSxNQUFBLFNBQU1pc0MsRUFBS0MsR0FFUEEsRUFBU0EsR0FBVSxJQUFJM0IsR0FFdkIvZSxJQUFNcFksRUFBSTY0QixFQUFJNzRCLEVBQ1JDLEVBQUk0NEIsRUFBSTU0QixFQUtsQixPQUhBNjRCLEVBQVc5NEIsRUFBS3hLLEtBQUs5RSxFQUFJc1AsRUFBTXhLLEtBQUs5RyxFQUFJdVIsRUFBS3pLLEtBQUtnakMsR0FDbERNLEVBQVc3NEIsRUFBS3pLLEtBQUs3RSxFQUFJcVAsRUFBTXhLLEtBQUsxQyxFQUFJbU4sRUFBS3pLLEtBQUtpakMsR0FFdkNLLEdBV2ZQLEdBQUEvdkMsVUFBSXV3QyxhQUFBLFNBQWFGLEVBQUtDLEdBRWRBLEVBQVNBLEdBQVUsSUFBSTNCLEdBRXZCL2UsSUFBTTVxQixFQUFLLEdBQU1nSSxLQUFLOUUsRUFBSThFLEtBQUsxQyxFQUFNMEMsS0FBSzlHLEdBQUs4RyxLQUFLN0UsR0FFOUNxUCxFQUFJNjRCLEVBQUk3NEIsRUFDUkMsRUFBSTQ0QixFQUFJNTRCLEVBS2xCLE9BSEE2NEIsRUFBVzk0QixFQUFLeEssS0FBSzFDLEVBQUl0RixFQUFLd1MsR0FBT3hLLEtBQUs5RyxFQUFJbEIsRUFBS3lTLEdBQVF6SyxLQUFLaWpDLEdBQUtqakMsS0FBSzlHLEVBQU04RyxLQUFLZ2pDLEdBQUtoakMsS0FBSzFDLEdBQU10RixFQUNyR3NyQyxFQUFXNzRCLEVBQUt6SyxLQUFLOUUsRUFBSWxELEVBQUt5UyxHQUFPekssS0FBSzdFLEVBQUluRCxFQUFLd1MsSUFBU3hLLEtBQUtpakMsR0FBS2pqQyxLQUFLOUUsRUFBTThFLEtBQUtnakMsR0FBS2hqQyxLQUFLN0UsR0FBTW5ELEVBRTNGc3JDLEdBVWZQLEdBQUEvdkMsVUFBSXd3QyxVQUFBLFNBQVVoNUIsRUFBR0MsR0FLYixPQUhJekssS0FBS2dqQyxJQUFNeDRCLEVBQ1h4SyxLQUFLaWpDLElBQU14NEIsRUFFSnpLLE1BVWYraUMsR0FBQS92QyxVQUFJeXdDLE1BQUEsU0FBTWo1QixFQUFHQyxHQVNULE9BUEl6SyxLQUFLOUUsR0FBS3NQLEVBQ1Z4SyxLQUFLMUMsR0FBS21OLEVBQ1Z6SyxLQUFLOUcsR0FBS3NSLEVBQ1Z4SyxLQUFLN0UsR0FBS3NQLEVBQ1Z6SyxLQUFLZ2pDLElBQU14NEIsRUFDWHhLLEtBQUtpakMsSUFBTXg0QixFQUVKekssTUFTZitpQyxHQUFBL3ZDLFVBQUkwd0MsT0FBQSxTQUFPQyxHQUVQLElBQVVDLEVBQU1oNEIsS0FBS2c0QixJQUFJRCxHQUNmRSxFQUFNajRCLEtBQUtpNEIsSUFBSUYsR0FFZnY2QixFQUFLcEosS0FBSzlFLEVBQ1Y0b0MsRUFBSzlqQyxLQUFLOUcsRUFDVjZxQyxFQUFNL2pDLEtBQUtnakMsR0FTckIsT0FQSWhqQyxLQUFLOUUsRUFBS2tPLEVBQUt3NkIsRUFBUTVqQyxLQUFLN0UsRUFBSTBvQyxFQUNoQzdqQyxLQUFLN0UsRUFBS2lPLEVBQUt5NkIsRUFBUTdqQyxLQUFLN0UsRUFBSXlvQyxFQUNoQzVqQyxLQUFLOUcsRUFBSzRxQyxFQUFLRixFQUFRNWpDLEtBQUsxQyxFQUFJdW1DLEVBQ2hDN2pDLEtBQUsxQyxFQUFLd21DLEVBQUtELEVBQVE3akMsS0FBSzFDLEVBQUlzbUMsRUFDaEM1akMsS0FBS2dqQyxHQUFNZSxFQUFNSCxFQUFRNWpDLEtBQUtpakMsR0FBS1ksRUFDbkM3akMsS0FBS2lqQyxHQUFNYyxFQUFNRixFQUFRN2pDLEtBQUtpakMsR0FBS1csRUFFNUI1akMsTUFTZitpQyxHQUFBL3ZDLFVBQUlneEMsT0FBQSxTQUFPQyxHQUVIcmhCLElBQU14WixFQUFLcEosS0FBSzlFLEVBQ1ZncEMsRUFBS2xrQyxLQUFLN0UsRUFDVjJvQyxFQUFLOWpDLEtBQUs5RyxFQUNWaXJDLEVBQUtua0MsS0FBSzFDLEVBVXBCLE9BUkkwQyxLQUFLOUUsRUFBSytvQyxFQUFPL29DLEVBQUlrTyxFQUFPNjZCLEVBQU85b0MsRUFBSTJvQyxFQUN2QzlqQyxLQUFLN0UsRUFBSzhvQyxFQUFPL29DLEVBQUlncEMsRUFBT0QsRUFBTzlvQyxFQUFJZ3BDLEVBQ3ZDbmtDLEtBQUs5RyxFQUFLK3FDLEVBQU8vcUMsRUFBSWtRLEVBQU82NkIsRUFBTzNtQyxFQUFJd21DLEVBQ3ZDOWpDLEtBQUsxQyxFQUFLMm1DLEVBQU8vcUMsRUFBSWdyQyxFQUFPRCxFQUFPM21DLEVBQUk2bUMsRUFFM0Nua0MsS0FBU2dqQyxHQUFNaUIsRUFBT2pCLEdBQUs1NUIsRUFBTzY2QixFQUFPaEIsR0FBS2EsRUFBTTlqQyxLQUFLZ2pDLEdBQ3pEaGpDLEtBQVNpakMsR0FBTWdCLEVBQU9qQixHQUFLa0IsRUFBT0QsRUFBT2hCLEdBQUtrQixFQUFNbmtDLEtBQUtpakMsR0FFOUNqakMsTUFpQmYraUMsR0FBQS92QyxVQUFJc3RDLGFBQUEsU0FBYTkxQixFQUFHQyxFQUFHMjVCLEVBQVFDLEVBQVFDLEVBQVFDLEVBQVFDLEVBQVVDLEVBQU9DLEdBVXBFLE9BUkkxa0MsS0FBSzlFLEVBQUkwUSxLQUFLZzRCLElBQUlZLEVBQVdFLEdBQVNKLEVBQ3RDdGtDLEtBQUs3RSxFQUFJeVEsS0FBS2k0QixJQUFJVyxFQUFXRSxHQUFTSixFQUN0Q3RrQyxLQUFLOUcsR0FBSzBTLEtBQUtpNEIsSUFBSVcsRUFBV0MsR0FBU0YsRUFDdkN2a0MsS0FBSzFDLEVBQUlzTyxLQUFLZzRCLElBQUlZLEVBQVdDLEdBQVNGLEVBRTFDdmtDLEtBQVNnakMsR0FBS3g0QixHQUFNNDVCLEVBQVNwa0MsS0FBSzlFLEVBQU1tcEMsRUFBU3JrQyxLQUFLOUcsR0FDdEQ4RyxLQUFTaWpDLEdBQUt4NEIsR0FBTTI1QixFQUFTcGtDLEtBQUs3RSxFQUFNa3BDLEVBQVNya0MsS0FBSzFDLEdBRTNDMEMsTUFTZitpQyxHQUFBL3ZDLFVBQUkyeEMsUUFBQSxTQUFRVixHQUVKcmhCLElBQU1taEIsRUFBTS9qQyxLQUFLZ2pDLEdBRXJCLEdBQXFCLElBQWJpQixFQUFPL29DLEdBQXdCLElBQWIrb0MsRUFBTzlvQyxHQUF3QixJQUFiOG9DLEVBQU8vcUMsR0FBd0IsSUFBYitxQyxFQUFPM21DLEVBQ3JFLENBQ1FzbEIsSUFBTXhaLEVBQUtwSixLQUFLOUUsRUFDVjRvQyxFQUFLOWpDLEtBQUs5RyxFQUVwQjhHLEtBQVM5RSxFQUFLa08sRUFBSzY2QixFQUFPL29DLEVBQU04RSxLQUFLN0UsRUFBSThvQyxFQUFPL3FDLEVBQ2hEOEcsS0FBUzdFLEVBQUtpTyxFQUFLNjZCLEVBQU85b0MsRUFBTTZFLEtBQUs3RSxFQUFJOG9DLEVBQU8zbUMsRUFDaEQwQyxLQUFTOUcsRUFBSzRxQyxFQUFLRyxFQUFPL29DLEVBQU04RSxLQUFLMUMsRUFBSTJtQyxFQUFPL3FDLEVBQ2hEOEcsS0FBUzFDLEVBQUt3bUMsRUFBS0csRUFBTzlvQyxFQUFNNkUsS0FBSzFDLEVBQUkybUMsRUFBTzNtQyxFQU1wRCxPQUhBMEMsS0FBU2dqQyxHQUFNZSxFQUFNRSxFQUFPL29DLEVBQU04RSxLQUFLaWpDLEdBQUtnQixFQUFPL3FDLEVBQUsrcUMsRUFBT2pCLEdBQy9EaGpDLEtBQVNpakMsR0FBTWMsRUFBTUUsRUFBTzlvQyxFQUFNNkUsS0FBS2lqQyxHQUFLZ0IsRUFBTzNtQyxFQUFLMm1DLEVBQU9oQixHQUVwRGpqQyxNQVNmK2lDLEdBQUEvdkMsVUFBSTR4QyxVQUFBLFNBQVVyVixHQUdOM00sSUFBTTFuQixFQUFJOEUsS0FBSzlFLEVBQ1RDLEVBQUk2RSxLQUFLN0UsRUFDVGpDLEVBQUk4RyxLQUFLOUcsRUFDVG9FLEVBQUkwQyxLQUFLMUMsRUFFVG1uQyxHQUFTNzRCLEtBQUtpNUIsT0FBTzNyQyxFQUFHb0UsR0FDeEJvbkMsRUFBUTk0QixLQUFLaTVCLE1BQU0xcEMsRUFBR0QsR0FFdEJ1dkIsRUFBUTdlLEtBQUtpRCxJQUFJNDFCLEVBQVFDLEdBc0JuQyxPQXBCUWphLEVBQVEsTUFBVzdlLEtBQUtpRCxJQUFJd3pCLEdBQU81WCxHQUFTLE1BRTVDOEUsRUFBVWlWLFNBQVdFLEVBQ3JCblYsRUFBVXhHLEtBQUt2ZSxFQUFJK2tCLEVBQVV4RyxLQUFLdGUsRUFBSSxJQUl0QzhrQixFQUFVaVYsU0FBVyxFQUNyQmpWLEVBQVV4RyxLQUFLdmUsRUFBSWk2QixFQUNuQmxWLEVBQVV4RyxLQUFLdGUsRUFBSWk2QixHQUkzQm5WLEVBQWNrVSxNQUFNajVCLEVBQUlvQixLQUFLazVCLEtBQU01cEMsRUFBSUEsRUFBTUMsRUFBSUEsR0FDakRvMEIsRUFBY2tVLE1BQU1oNUIsRUFBSW1CLEtBQUtrNUIsS0FBTTVyQyxFQUFJQSxFQUFNb0UsRUFBSUEsR0FHakRpeUIsRUFBY3dWLFNBQVN2NkIsRUFBSXhLLEtBQUtnakMsR0FDaEN6VCxFQUFjd1YsU0FBU3Q2QixFQUFJekssS0FBS2lqQyxHQUVyQjFULEdBUWZ3VCxHQUFBL3ZDLFVBQUlneUMsT0FBQSxXQUVJcGlCLElBQU14WixFQUFLcEosS0FBSzlFLEVBQ1ZncEMsRUFBS2xrQyxLQUFLN0UsRUFDVjJvQyxFQUFLOWpDLEtBQUs5RyxFQUNWaXJDLEVBQUtua0MsS0FBSzFDLEVBQ1Z5bUMsRUFBTS9qQyxLQUFLZ2pDLEdBQ1gva0MsRUFBS21MLEVBQUsrNkIsRUFBT0QsRUFBS0osRUFTaEMsT0FQSTlqQyxLQUFLOUUsRUFBSWlwQyxFQUFLbG1DLEVBQ2xCK0IsS0FBUzdFLEdBQUsrb0MsRUFBS2ptQyxFQUNuQitCLEtBQVM5RyxHQUFLNHFDLEVBQUs3bEMsRUFDZitCLEtBQUsxQyxFQUFJOEwsRUFBS25MLEVBQ2xCK0IsS0FBU2dqQyxJQUFPYyxFQUFLOWpDLEtBQUtpakMsR0FBT2tCLEVBQUtKLEdBQVE5bEMsRUFDOUMrQixLQUFTaWpDLEtBQVE3NUIsRUFBS3BKLEtBQUtpakMsR0FBT2lCLEVBQUtILEdBQVE5bEMsRUFFcEMrQixNQVFmK2lDLEdBQUEvdkMsVUFBSWl5QyxTQUFBLFdBU0EsT0FQSWpsQyxLQUFLOUUsRUFBSSxFQUNUOEUsS0FBSzdFLEVBQUksRUFDVDZFLEtBQUs5RyxFQUFJLEVBQ1Q4RyxLQUFLMUMsRUFBSSxFQUNUMEMsS0FBS2dqQyxHQUFLLEVBQ1ZoakMsS0FBS2lqQyxHQUFLLEVBRUhqakMsTUFRZitpQyxHQUFBL3ZDLFVBQUk0dUMsTUFBQSxXQUVJaGYsSUFBTXFoQixFQUFTLElBQUlsQixHQVN2QixPQVBJa0IsRUFBTy9vQyxFQUFJOEUsS0FBSzlFLEVBQ2hCK29DLEVBQU85b0MsRUFBSTZFLEtBQUs3RSxFQUNoQjhvQyxFQUFPL3FDLEVBQUk4RyxLQUFLOUcsRUFDaEIrcUMsRUFBTzNtQyxFQUFJMEMsS0FBSzFDLEVBQ2hCMm1DLEVBQU9qQixHQUFLaGpDLEtBQUtnakMsR0FDakJpQixFQUFPaEIsR0FBS2pqQyxLQUFLaWpDLEdBRVZnQixHQVNmbEIsR0FBQS92QyxVQUFJOHVDLE9BQUEsU0FBT21DLEdBU1AsT0FQSUEsRUFBTy9vQyxFQUFJOEUsS0FBSzlFLEVBQ2hCK29DLEVBQU85b0MsRUFBSTZFLEtBQUs3RSxFQUNoQjhvQyxFQUFPL3FDLEVBQUk4RyxLQUFLOUcsRUFDaEIrcUMsRUFBTzNtQyxFQUFJMEMsS0FBSzFDLEVBQ2hCMm1DLEVBQU9qQixHQUFLaGpDLEtBQUtnakMsR0FDakJpQixFQUFPaEIsR0FBS2pqQyxLQUFLaWpDLEdBRVZnQixHQVNmbEIsR0FBQS92QyxVQUFJNnVDLFNBQUEsU0FBU29DLEdBU1QsT0FQSWprQyxLQUFLOUUsRUFBSStvQyxFQUFPL29DLEVBQ2hCOEUsS0FBSzdFLEVBQUk4b0MsRUFBTzlvQyxFQUNoQjZFLEtBQUs5RyxFQUFJK3FDLEVBQU8vcUMsRUFDaEI4RyxLQUFLMUMsRUFBSTJtQyxFQUFPM21DLEVBQ2hCMEMsS0FBS2dqQyxHQUFLaUIsRUFBT2pCLEdBQ2pCaGpDLEtBQUtpakMsR0FBS2dCLEVBQU9oQixHQUVWampDLE1BVWZrbEMsR0FBZUMsU0FBQWx3QyxJQUFBLFdBRVAsT0FBTyxJQUFJOHRDLElBVW5CbUMsR0FBZUUsWUFBQW53QyxJQUFBLFdBRVAsT0FBTyxJQUFJOHRDLG1DQzdlbkJuZ0IsSUFBTXlpQixHQUFLLENBQUMsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FDekRDLEdBQUssQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBSSxHQUN6REMsR0FBSyxDQUFDLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQ3pEQyxHQUFLLENBQUMsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FDekRDLEdBQWUsR0FFZkMsR0FBTSxHQUVaLFNBQVNDLEdBQU9uN0IsR0FFWixPQUFJQSxFQUFJLEdBRUksRUFFUkEsRUFBSSxFQUVHLEVBR0osR0FHWCxXQUVJLElBQUtzWSxJQUFJcHNCLEVBQUksRUFBR0EsRUFBSSxHQUFJQSxJQUN4QixDQUNJa3NCLElBQU1nakIsRUFBTSxHQUVaRixHQUFJanhDLEtBQUtteEMsR0FFVCxJQUFLOWlCLElBQUk1b0IsRUFBSSxFQUFHQSxFQUFJLEdBQUlBLElBT3BCLElBTEEwb0IsSUFBTWlqQixFQUFNRixHQUFRTixHQUFHM3VDLEdBQUsydUMsR0FBR25yQyxHQUFPcXJDLEdBQUc3dUMsR0FBSzR1QyxHQUFHcHJDLElBQzNDNHJDLEVBQU1ILEdBQVFMLEdBQUc1dUMsR0FBSzJ1QyxHQUFHbnJDLEdBQU9zckMsR0FBRzl1QyxHQUFLNHVDLEdBQUdwckMsSUFDM0M2ckMsRUFBTUosR0FBUU4sR0FBRzN1QyxHQUFLNnVDLEdBQUdyckMsR0FBT3FyQyxHQUFHN3VDLEdBQUs4dUMsR0FBR3RyQyxJQUMzQzhyQyxFQUFNTCxHQUFRTCxHQUFHNXVDLEdBQUs2dUMsR0FBR3JyQyxHQUFPc3JDLEdBQUc5dUMsR0FBSzh1QyxHQUFHdHJDLElBRXhDNEssRUFBSSxFQUFHQSxFQUFJLEdBQUlBLElBRXBCLEdBQUl1Z0MsR0FBR3ZnQyxLQUFPK2dDLEdBQU9QLEdBQUd4Z0MsS0FBT2doQyxHQUFPUCxHQUFHemdDLEtBQU9paEMsR0FBT1AsR0FBRzFnQyxLQUFPa2hDLEVBQ2pFLENBQ0lKLEVBQUlueEMsS0FBS3FRLEdBQ1QsT0FNaEIsSUFBS2dlLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJLEdBQUlBLElBQ3hCLENBQ0lrc0IsSUFBTXFqQixFQUFNLElBQUlsRCxHQUVoQmtELEVBQUkvd0MsSUFBSW13QyxHQUFHM3VDLEdBQUk0dUMsR0FBRzV1QyxHQUFJNnVDLEdBQUc3dUMsR0FBSTh1QyxHQUFHOXVDLEdBQUksRUFBRyxHQUN2Qyt1QyxHQUFhaHhDLEtBQUt3eEMsSUFJMUJDLEdBZ0JBdGpCLElBQU11akIsR0FBVSxDQUNaQyxFQUFHLEVBQ0hDLEdBQUksRUFDSkMsRUFBRyxFQUNIQyxHQUFJLEVBQ0pDLEVBQUcsRUFDSEMsR0FBSSxFQUNKQyxFQUFHLEVBQ0hDLEdBQUksRUFDSkMsZ0JBQWlCLEVBQ2pCQyxrQkFBbUIsR0FDbkJDLEdBQUUsU0FBR0MsR0FBSyxPQUFHMUIsR0FBRzBCLElBQ2hCQyxHQUFFLFNBQUdELEdBQUssT0FBR3pCLEdBQUd5QixJQUNoQkUsR0FBRSxTQUFHRixHQUFLLE9BQUd4QixHQUFHd0IsSUFDaEJHLEdBQUUsU0FBR0gsR0FBSyxPQUFHdkIsR0FBR3VCLElBQ2hCSSxJQUFHLFNBQUczQyxHQUVGLE9BQWUsRUFBWEEsRUFFa0IsR0FBWEEsRUFHVSxHQUFaQSxHQUVieFcsSUFBRyxTQUFHb1osRUFBZ0JDLEdBQWUsT0FBRzNCLEdBQUkwQixHQUFnQkMsSUFDNURDLElBQUcsU0FBR0YsRUFBZ0JDLEdBQWUsT0FBRzNCLEdBQUkwQixHQUFnQmpCLEdBQVFnQixJQUFJRSxLQVN4RUUsVUFBUyxTQUFHL0MsR0FBVSxPQUFjLEVBQVhBLEdBVXpCZ0QsV0FBVSxTQUFHaEQsR0FBVSxPQUFzQixJQUFQLEVBQVhBLElBUzNCaUQsWUFBVyxTQUFHQyxFQUFJQyxHQUVkLE9BQW1CLEVBQWYvN0IsS0FBS2lELElBQUk2NEIsSUFBVzk3QixLQUFLaUQsSUFBSTg0QixHQUV6QkEsR0FBTSxFQUVDeEIsR0FBUUcsRUFHWkgsR0FBUU8sRUFFSyxFQUFmOTZCLEtBQUtpRCxJQUFJODRCLElBQVcvN0IsS0FBS2lELElBQUk2NEIsR0FFOUJBLEVBQUssRUFFRXZCLEdBQVFDLEVBR1pELEdBQVFLLEVBRVZtQixFQUFLLEVBRU5ELEVBQUssRUFFRXZCLEdBQVFFLEdBR1pGLEdBQVFJLEdBRVZtQixFQUFLLEVBRUh2QixHQUFRUSxHQUdaUixHQUFRTSxJQVluQm1CLHdCQUF1QixTQUFHM0QsRUFBUU8sRUFBVXhCLEVBQVFDLGtCQUFILGtCQUFRLEdBR3JEcmdCLElBQU1xakIsRUFBTVIsR0FBYVUsR0FBUWdCLElBQUkzQyxJQUVyQ3lCLEVBQUlqRCxHQUFLQSxFQUNUaUQsRUFBSWhELEdBQUtBLEVBQ1RnQixFQUFPRCxPQUFPaUMsS0M3S0Q0QixHQUVqQixXQU9JN25DLEtBQUs4bkMsZUFBaUIsSUFBSS9FLEdBTzFCL2lDLEtBQUsrbkMsZUFBaUIsSUFBSWhGLEdBTzFCL2lDLEtBQUsra0MsU0FBVyxJQUFJaEQsR0FBZ0IvaEMsS0FBS2dvQyxTQUFVaG9DLEtBQU0sRUFBRyxHQU81REEsS0FBS3lqQyxNQUFRLElBQUkxQixHQUFnQi9oQyxLQUFLZ29DLFNBQVVob0MsS0FBTSxFQUFHLEdBT3pEQSxLQUFLaW9DLE1BQVEsSUFBSWxHLEdBQWdCL2hDLEtBQUtnb0MsU0FBVWhvQyxLQUFNLEVBQUcsR0FPekRBLEtBQUsrb0IsS0FBTyxJQUFJZ1osR0FBZ0IvaEMsS0FBS2tvQyxXQUFZbG9DLEtBQU0sRUFBRyxHQUUxREEsS0FBS21vQyxVQUFZLEVBRWpCbm9DLEtBQUtvb0MsSUFBTSxFQUNYcG9DLEtBQUtxb0MsSUFBTSxFQUNYcm9DLEtBQUtzb0MsSUFBTSxFQUNYdG9DLEtBQUt1b0MsSUFBTSxFQUVYdm9DLEtBQUt3b0MsU0FBVyxFQUNoQnhvQyxLQUFLeW9DLGdCQUFrQixFQUV2QnpvQyxLQUFLMG9DLFNBQVcsRUFDaEIxb0MsS0FBSzJvQyxVQUFZLG1DQVF6QmQsR0FBQTcwQyxVQUFJZzFDLFNBQUEsV0FFSWhvQyxLQUFLd29DLFlBUWJYLEdBQUE3MEMsVUFBSWsxQyxXQUFBLFdBRUlsb0MsS0FBS29vQyxJQUFNeDhCLEtBQUtnNEIsSUFBSTVqQyxLQUFLbW9DLFVBQVlub0MsS0FBSytvQixLQUFLa1osSUFDL0NqaUMsS0FBS3FvQyxJQUFNejhCLEtBQUtpNEIsSUFBSTdqQyxLQUFLbW9DLFVBQVlub0MsS0FBSytvQixLQUFLa1osSUFDL0NqaUMsS0FBS3NvQyxLQUFPMThCLEtBQUtpNEIsSUFBSTdqQyxLQUFLbW9DLFVBQVlub0MsS0FBSytvQixLQUFLaVosSUFDaERoaUMsS0FBS3VvQyxJQUFNMzhCLEtBQUtnNEIsSUFBSTVqQyxLQUFLbW9DLFVBQVlub0MsS0FBSytvQixLQUFLaVosSUFFL0NoaUMsS0FBS3dvQyxZQU1iWCxHQUFBNzBDLFVBQUk0MUMscUJBQUEsV0FFSWhtQixJQUFNaW1CLEVBQUs3b0MsS0FBSytuQyxlQUVaL25DLEtBQUt3b0MsV0FBYXhvQyxLQUFLeW9DLGtCQUd2QkksRUFBRzN0QyxFQUFJOEUsS0FBS29vQyxJQUFNcG9DLEtBQUt5akMsTUFBTXpCLEdBQzdCNkcsRUFBRzF0QyxFQUFJNkUsS0FBS3FvQyxJQUFNcm9DLEtBQUt5akMsTUFBTXpCLEdBQzdCNkcsRUFBRzN2QyxFQUFJOEcsS0FBS3NvQyxJQUFNdG9DLEtBQUt5akMsTUFBTXhCLEdBQzdCNEcsRUFBR3ZyQyxFQUFJMEMsS0FBS3VvQyxJQUFNdm9DLEtBQUt5akMsTUFBTXhCLEdBRTdCNEcsRUFBRzdGLEdBQUtoakMsS0FBSytrQyxTQUFTL0MsSUFBT2hpQyxLQUFLaW9DLE1BQU1qRyxHQUFLNkcsRUFBRzN0QyxFQUFNOEUsS0FBS2lvQyxNQUFNaEcsR0FBSzRHLEVBQUczdkMsR0FDekUydkMsRUFBRzVGLEdBQUtqakMsS0FBSytrQyxTQUFTOUMsSUFBT2ppQyxLQUFLaW9DLE1BQU1qRyxHQUFLNkcsRUFBRzF0QyxFQUFNNkUsS0FBS2lvQyxNQUFNaEcsR0FBSzRHLEVBQUd2ckMsR0FDekUwQyxLQUFLeW9DLGdCQUFrQnpvQyxLQUFLd29DLFNBRzVCeG9DLEtBQUsyb0MsV0FBYSxJQVM5QmQsR0FBQTcwQyxVQUFJODFDLGdCQUFBLFNBQWdCQyxHQUVabm1CLElBQU1pbUIsRUFBSzdvQyxLQUFLK25DLGVBa0JoQixHQWhCSS9uQyxLQUFLd29DLFdBQWF4b0MsS0FBS3lvQyxrQkFHdkJJLEVBQUczdEMsRUFBSThFLEtBQUtvb0MsSUFBTXBvQyxLQUFLeWpDLE1BQU16QixHQUM3QjZHLEVBQUcxdEMsRUFBSTZFLEtBQUtxb0MsSUFBTXJvQyxLQUFLeWpDLE1BQU16QixHQUM3QjZHLEVBQUczdkMsRUFBSThHLEtBQUtzb0MsSUFBTXRvQyxLQUFLeWpDLE1BQU14QixHQUM3QjRHLEVBQUd2ckMsRUFBSTBDLEtBQUt1b0MsSUFBTXZvQyxLQUFLeWpDLE1BQU14QixHQUU3QjRHLEVBQUc3RixHQUFLaGpDLEtBQUsra0MsU0FBUy9DLElBQU9oaUMsS0FBS2lvQyxNQUFNakcsR0FBSzZHLEVBQUczdEMsRUFBTThFLEtBQUtpb0MsTUFBTWhHLEdBQUs0RyxFQUFHM3ZDLEdBQ3pFMnZDLEVBQUc1RixHQUFLampDLEtBQUsra0MsU0FBUzlDLElBQU9qaUMsS0FBS2lvQyxNQUFNakcsR0FBSzZHLEVBQUcxdEMsRUFBTTZFLEtBQUtpb0MsTUFBTWhHLEdBQUs0RyxFQUFHdnJDLEdBQ3pFMEMsS0FBS3lvQyxnQkFBa0J6b0MsS0FBS3dvQyxTQUc1QnhvQyxLQUFLMm9DLFdBQWEsR0FHbEIzb0MsS0FBSzJvQyxZQUFjSSxFQUFnQkwsU0FDM0MsQ0FFUTlsQixJQUFNb21CLEVBQUtELEVBQWdCakIsZUFDckJtQixFQUFLanBDLEtBQUs4bkMsZUFFcEJtQixFQUFPL3RDLEVBQUsydEMsRUFBRzN0QyxFQUFJOHRDLEVBQUc5dEMsRUFBTTJ0QyxFQUFHMXRDLEVBQUk2dEMsRUFBRzl2QyxFQUN0Qyt2QyxFQUFPOXRDLEVBQUswdEMsRUFBRzN0QyxFQUFJOHRDLEVBQUc3dEMsRUFBTTB0QyxFQUFHMXRDLEVBQUk2dEMsRUFBRzFyQyxFQUN0QzJyQyxFQUFPL3ZDLEVBQUsydkMsRUFBRzN2QyxFQUFJOHZDLEVBQUc5dEMsRUFBTTJ0QyxFQUFHdnJDLEVBQUkwckMsRUFBRzl2QyxFQUN0Qyt2QyxFQUFPM3JDLEVBQUt1ckMsRUFBRzN2QyxFQUFJOHZDLEVBQUc3dEMsRUFBTTB0QyxFQUFHdnJDLEVBQUkwckMsRUFBRzFyQyxFQUN0QzJyQyxFQUFPakcsR0FBTTZGLEVBQUc3RixHQUFLZ0csRUFBRzl0QyxFQUFNMnRDLEVBQUc1RixHQUFLK0YsRUFBRzl2QyxFQUFLOHZDLEVBQUdoRyxHQUNqRGlHLEVBQU9oRyxHQUFNNEYsRUFBRzdGLEdBQUtnRyxFQUFHN3RDLEVBQU0wdEMsRUFBRzVGLEdBQUsrRixFQUFHMXJDLEVBQUswckMsRUFBRy9GLEdBRTdDampDLEtBQUsyb0MsVUFBWUksRUFBZ0JMLFNBR2pDMW9DLEtBQUswb0MsYUFTakJiLEdBQUE3MEMsVUFBSWsyQyxjQUFBLFNBQWNqRixHQUVWQSxFQUFPVyxVQUFVNWtDLE1BQ2pCQSxLQUFLd29DLFlBUWJXLEdBQVEzRSxTQUFBdnZDLElBQUEsV0FFQSxPQUFPK0ssS0FBS21vQyxXQUdwQmdCLEdBQVEzRSxTQUFBdHZDLElBQUEsU0FBU0MsR0FFTDZLLEtBQUttb0MsWUFBY2h6QyxJQUVuQjZLLEtBQUttb0MsVUFBWWh6QyxFQUNqQjZLLEtBQUtrb0Msd0RBS2pCTCxHQUFVMUMsU0FBVyxJQUFJMEMsR0N6THpCLElBQXFCdUIsR0FRakIsU0FBWTUrQixFQUFPQyxFQUFPK3FCLEVBQVdDLGtCQUFyQixrQkFBTyxrQkFBVyxrQkFBWSxHQU05Q3oxQixLQUFTd0ssRUFBSThZLE9BQU85WSxHQU1wQnhLLEtBQVN5SyxFQUFJNlksT0FBTzdZLEdBTXBCekssS0FBU3cxQixNQUFRbFMsT0FBT2tTLEdBTXhCeDFCLEtBQVN5MUIsT0FBU25TLE9BQU9tUyxHQVVyQnoxQixLQUFLbkYsS0FBTzRuQyxHQUFPRSxzSUFRM0J3RyxHQUFRcEosS0FBQTlxQyxJQUFBLFdBRUEsT0FBTytLLEtBQUt3SyxHQVFwQjIrQixHQUFRbkosTUFBQS9xQyxJQUFBLFdBRUosT0FBVytLLEtBQUt3SyxFQUFJeEssS0FBS3cxQixPQVE3QjJULEdBQVFySixJQUFBN3FDLElBQUEsV0FFQSxPQUFPK0ssS0FBS3lLLEdBUXBCMCtCLEdBQVFsSixPQUFBaHJDLElBQUEsV0FFSixPQUFXK0ssS0FBS3lLLEVBQUl6SyxLQUFLeTFCLFFBVTdCNFQsR0FBZUMsTUFBQXIwQyxJQUFBLFdBRVAsT0FBTyxJQUFJbTBDLEdBQVUsRUFBRyxFQUFHLEVBQUcsSUFRdENBLEdBQUFwMkMsVUFBSTR1QyxNQUFBLFdBRUEsT0FBVyxJQUFJd0gsR0FBVXBwQyxLQUFLd0ssRUFBR3hLLEtBQUt5SyxFQUFHekssS0FBS3cxQixNQUFPeDFCLEtBQUt5MUIsU0FTOUQyVCxHQUFBcDJDLFVBQUk2dUMsU0FBQSxTQUFTMEgsR0FPVCxPQUxJdnBDLEtBQUt3SyxFQUFJKytCLEVBQVUvK0IsRUFDbkJ4SyxLQUFLeUssRUFBSTgrQixFQUFVOStCLEVBQ25CekssS0FBS3cxQixNQUFRK1QsRUFBVS9ULE1BQ3ZCeDFCLEtBQUt5MUIsT0FBUzhULEVBQVU5VCxPQUVqQnoxQixNQVNmb3BDLEdBQUFwMkMsVUFBSTh1QyxPQUFBLFNBQU95SCxHQU9QLE9BTElBLEVBQVUvK0IsRUFBSXhLLEtBQUt3SyxFQUNuQisrQixFQUFVOStCLEVBQUl6SyxLQUFLeUssRUFDbkI4K0IsRUFBVS9ULE1BQVF4MUIsS0FBS3cxQixNQUN2QitULEVBQVU5VCxPQUFTejFCLEtBQUt5MUIsT0FFakI4VCxHQVVmSCxHQUFBcDJDLFVBQUl3MkMsU0FBQSxTQUFTaC9CLEVBQUdDLEdBRVosUUFBUXpLLEtBQUt3MUIsT0FBUyxHQUFLeDFCLEtBQUt5MUIsUUFBVSxLQUtsQ2pyQixHQUFLeEssS0FBS3dLLEdBQUtBLEVBQUl4SyxLQUFLd0ssRUFBSXhLLEtBQUt3MUIsT0FFN0IvcUIsR0FBS3pLLEtBQUt5SyxHQUFLQSxFQUFJekssS0FBS3lLLEVBQUl6SyxLQUFLeTFCLFNBZWpEMlQsR0FBQXAyQyxVQUFJeTJDLElBQUEsU0FBSUMsRUFBVUMsR0FFVkQsRUFBV0EsR0FBWSxFQUN2QkMsRUFBV0EsSUFBMkIsSUFBYkEsRUFBa0JELEVBQVcsR0FFdEQxcEMsS0FBS3dLLEdBQUtrL0IsRUFDVjFwQyxLQUFLeUssR0FBS2svQixFQUVWM3BDLEtBQUt3MUIsT0FBb0IsRUFBWGtVLEVBQ2QxcEMsS0FBS3kxQixRQUFxQixFQUFYa1UsR0FRdkJQLEdBQUFwMkMsVUFBSTQyQyxJQUFBLFNBQUlMLEdBRUEzbUIsSUFBTWluQixFQUFLaitCLEtBQUtDLElBQUk3TCxLQUFLd0ssRUFBRysrQixFQUFVLytCLEdBQ2hDcy9CLEVBQUtsK0IsS0FBSzhRLElBQUkxYyxLQUFLd0ssRUFBSXhLLEtBQUt3MUIsTUFBTytULEVBQVUvK0IsRUFBSSsrQixFQUFVL1QsT0FDM0R1VSxFQUFLbitCLEtBQUtDLElBQUk3TCxLQUFLeUssRUFBRzgrQixFQUFVOStCLEdBQ2hDdS9CLEVBQUtwK0IsS0FBSzhRLElBQUkxYyxLQUFLeUssRUFBSXpLLEtBQUt5MUIsT0FBUThULEVBQVU5K0IsRUFBSTgrQixFQUFVOVQsUUFFbEV6MUIsS0FBS3dLLEVBQUlxL0IsRUFDVDdwQyxLQUFLdzFCLE1BQVE1cEIsS0FBS0MsSUFBSWkrQixFQUFLRCxFQUFJLEdBQy9CN3BDLEtBQUt5SyxFQUFJcy9CLEVBQ1QvcEMsS0FBS3kxQixPQUFTN3BCLEtBQUtDLElBQUltK0IsRUFBS0QsRUFBSSxJQVN4Q1gsR0FBQXAyQyxVQUFJaTNDLEtBQUEsU0FBSzlKLEVBQWdCK0osa0JBQUgsa0JBQVMsTUFFM0IsSUFBVUosRUFBS2wrQixLQUFLcStCLE1BQU1qcUMsS0FBS3dLLEVBQUl4SyxLQUFLdzFCLE1BQVEwVSxHQUFPL0osR0FBY0EsRUFDM0Q2SixFQUFLcCtCLEtBQUtxK0IsTUFBTWpxQyxLQUFLeUssRUFBSXpLLEtBQUt5MUIsT0FBU3lVLEdBQU8vSixHQUFjQSxFQUV0RW5nQyxLQUFTd0ssRUFBSW9CLEtBQUs4WCxPQUFPMWpCLEtBQUt3SyxFQUFJMC9CLEdBQU8vSixHQUFjQSxFQUN2RG5nQyxLQUFTeUssRUFBSW1CLEtBQUs4WCxPQUFPMWpCLEtBQUt5SyxFQUFJeS9CLEdBQU8vSixHQUFjQSxFQUV2RG5nQyxLQUFTdzFCLE1BQVFzVSxFQUFLOXBDLEtBQUt3SyxFQUMzQnhLLEtBQVN5MUIsT0FBU3VVLEVBQUtocUMsS0FBS3lLLEdBUWhDMitCLEdBQUFwMkMsVUFBSW0zQyxRQUFBLFNBQVFaLEdBRUozbUIsSUFBTWluQixFQUFLaitCLEtBQUs4USxJQUFJMWMsS0FBS3dLLEVBQUcrK0IsRUFBVS8rQixHQUNoQ3MvQixFQUFLbCtCLEtBQUtDLElBQUk3TCxLQUFLd0ssRUFBSXhLLEtBQUt3MUIsTUFBTytULEVBQVUvK0IsRUFBSSsrQixFQUFVL1QsT0FDM0R1VSxFQUFLbitCLEtBQUs4USxJQUFJMWMsS0FBS3lLLEVBQUc4K0IsRUFBVTkrQixHQUNoQ3UvQixFQUFLcCtCLEtBQUtDLElBQUk3TCxLQUFLeUssRUFBSXpLLEtBQUt5MUIsT0FBUThULEVBQVU5K0IsRUFBSTgrQixFQUFVOVQsUUFFbEV6MUIsS0FBS3dLLEVBQUlxL0IsRUFDVDdwQyxLQUFLdzFCLE1BQVFzVSxFQUFLRCxFQUNsQjdwQyxLQUFLeUssRUFBSXMvQixFQUNUL3BDLEtBQUt5MUIsT0FBU3VVLEVBQUtELDJFQ3pPM0IsSUFBcUJLLEdBT2pCLFNBQVk1L0IsRUFBT0MsRUFBTzQvQixrQkFBVixrQkFBTyxrQkFBWSxHQU0vQnJxQyxLQUFLd0ssRUFBSUEsRUFNVHhLLEtBQUt5SyxFQUFJQSxFQU1UekssS0FBS3FxQyxPQUFTQSxFQVVkcnFDLEtBQUtuRixLQUFPNG5DLEdBQU9HLE1BUTNCd0gsR0FBQXAzQyxVQUFJNHVDLE1BQUEsV0FFSSxPQUFPLElBQUl3SSxHQUFPcHFDLEtBQUt3SyxFQUFHeEssS0FBS3lLLEVBQUd6SyxLQUFLcXFDLFNBVS9DRCxHQUFBcDNDLFVBQUl3MkMsU0FBQSxTQUFTaC9CLEVBQUdDLEdBRVIsR0FBSXpLLEtBQUtxcUMsUUFBVSxFQUVuQixPQUFXLEVBR2YsSUFBVUMsRUFBS3RxQyxLQUFLcXFDLE9BQVNycUMsS0FBS3FxQyxPQUMxQjNDLEVBQU0xbkMsS0FBS3dLLEVBQUlBLEVBQ2ZtOUIsRUFBTTNuQyxLQUFLeUssRUFBSUEsRUFLdkIsT0FIQWk5QixHQUFVQSxJQUNWQyxHQUFVQSxJQUVhMkMsR0FRM0JGLEdBQUFwM0MsVUFBSXUzQyxVQUFBLFdBRUksT0FBTyxJQUFJbkIsR0FBVXBwQyxLQUFLd0ssRUFBSXhLLEtBQUtxcUMsT0FBUXJxQyxLQUFLeUssRUFBSXpLLEtBQUtxcUMsT0FBc0IsRUFBZHJxQyxLQUFLcXFDLE9BQTBCLEVBQWRycUMsS0FBS3FxQyxTQy9FL0YsSUFBcUJHLEdBUWpCLFNBQVloZ0MsRUFBT0MsRUFBT2dnQyxFQUFlQyxrQkFBekIsa0JBQU8sa0JBQWUsa0JBQWdCLEdBTWxEMXFDLEtBQUt3SyxFQUFJQSxFQU1UeEssS0FBS3lLLEVBQUlBLEVBTVR6SyxLQUFLdzFCLE1BQVFpVixFQU1ienFDLEtBQUt5MUIsT0FBU2lWLEVBVWQxcUMsS0FBS25GLEtBQU80bkMsR0FBT0ksTUFRM0IySCxHQUFBeDNDLFVBQUk0dUMsTUFBQSxXQUVBLE9BQVcsSUFBSTRJLEdBQVF4cUMsS0FBS3dLLEVBQUd4SyxLQUFLeUssRUFBR3pLLEtBQUt3MUIsTUFBT3gxQixLQUFLeTFCLFNBVTVEK1UsR0FBQXgzQyxVQUFJdzJDLFNBQUEsU0FBU2gvQixFQUFHQyxHQUVaLEdBQVF6SyxLQUFLdzFCLE9BQVMsR0FBS3gxQixLQUFLeTFCLFFBQVUsRUFFdEMsT0FBVyxFQUlYM1MsSUFBSTZuQixHQUFVbmdDLEVBQUl4SyxLQUFLd0ssR0FBS3hLLEtBQUt3MUIsTUFDN0JvVixHQUFVbmdDLEVBQUl6SyxLQUFLeUssR0FBS3pLLEtBQUt5MUIsT0FLckMsT0FIQWtWLEdBQWFBLElBQ2JDLEdBQWFBLElBRWdCLEdBUWpDSixHQUFBeDNDLFVBQUl1M0MsVUFBQSxXQUVJLE9BQU8sSUFBSW5CLEdBQVVwcEMsS0FBS3dLLEVBQUl4SyxLQUFLdzFCLE1BQU94MUIsS0FBS3lLLEVBQUl6SyxLQUFLeTFCLE9BQVF6MUIsS0FBS3cxQixNQUFPeDFCLEtBQUt5MUIsU0N0RjFFLElBQU1vVixHQVNqQixrRUFRSSxHQU5JNWhDLE1BQU1tUixRQUFRMHdCLEVBQU8sTUFFckJBLEVBQVNBLEVBQU8sSUFJaEJBLEVBQU8sYUFBY25KLEdBQzdCLENBR1EsSUFGQS9lLElBQU1wcUIsRUFBSSxHQUVEOUIsRUFBSSxFQUFHcTBDLEVBQUtELEVBQU9uMEMsT0FBUUQsRUFBSXEwQyxFQUFJcjBDLElBRXhDOEIsRUFBRS9ELEtBQUtxMkMsRUFBT3AwQyxHQUFHOFQsRUFBR3NnQyxFQUFPcDBDLEdBQUcrVCxHQUd0Q3FnQyxFQUFhdHlDLEVBUWJ3SCxLQUFLOHFDLE9BQVNBLEVBVWQ5cUMsS0FBS25GLEtBQU80bkMsR0FBT0MsS0FPbkIxaUMsS0FBS2dyQyxhQUFjLEdBUTNCSCxHQUFBNzNDLFVBQUk0dUMsTUFBQSxXQUVJaGYsSUFBTXFvQixFQUFVLElBQUlKLEdBQVE3cUMsS0FBSzhxQyxPQUFPdHdDLFNBSTVDLE9BRkl5d0MsRUFBUUQsWUFBY2hyQyxLQUFLZ3JDLFlBRXBCQyxHQVVmSixHQUFBNzNDLFVBQUl3MkMsU0FBQSxTQUFTaC9CLEVBQUdDLEdBUVosSUFOSXFZLElBQUlyVCxHQUFTLEVBSVA5WSxFQUFTcUosS0FBSzhxQyxPQUFPbjBDLE9BQVMsRUFFM0JELEVBQUksRUFBR3dELEVBQUl2RCxFQUFTLEVBQUdELEVBQUlDLEVBQVF1RCxFQUFJeEQsSUFDcEQsQ0FDUWtzQixJQUFNc29CLEVBQUtsckMsS0FBSzhxQyxPQUFXLEVBQUpwMEMsR0FDakJ5MEMsRUFBS25yQyxLQUFLOHFDLE9BQVksRUFBSnAwQyxFQUFTLEdBQzNCMDBDLEVBQUtwckMsS0FBSzhxQyxPQUFXLEVBQUo1d0MsR0FDakJteEMsRUFBS3JyQyxLQUFLOHFDLE9BQVksRUFBSjV3QyxFQUFTLEdBQ2JpeEMsRUFBSzFnQyxHQUFRNGdDLEVBQUs1Z0MsR0FBUUQsR0FBbUJDLEVBQUkwZ0MsSUFBT0UsRUFBS0YsSUFBN0JDLEVBQUtGLEdBQWdDQSxJQUlyRno3QixHQUFVQSxHQUl0QixPQUFXQSxHQ2pHQSxJQUFNNjdCLEdBU2pCLFNBQVk5Z0MsRUFBT0MsRUFBTytxQixFQUFXQyxFQUFZNFUsa0JBQWpDLGtCQUFPLGtCQUFXLGtCQUFZLGtCQUFZLElBTXREcnFDLEtBQUt3SyxFQUFJQSxFQU1UeEssS0FBS3lLLEVBQUlBLEVBTVR6SyxLQUFLdzFCLE1BQVFBLEVBTWJ4MUIsS0FBS3kxQixPQUFTQSxFQU1kejFCLEtBQUtxcUMsT0FBU0EsRUFVZHJxQyxLQUFLbkYsS0FBTzRuQyxHQUFPSyxNQVEzQndJLEdBQUF0NEMsVUFBSTR1QyxNQUFBLFdBRUEsT0FBVyxJQUFJMEosR0FBaUJ0ckMsS0FBS3dLLEVBQUd4SyxLQUFLeUssRUFBR3pLLEtBQUt3MUIsTUFBT3gxQixLQUFLeTFCLE9BQVF6MUIsS0FBS3FxQyxTQVVsRmlCLEdBQUF0NEMsVUFBSXcyQyxTQUFBLFNBQVNoL0IsRUFBR0MsR0FFWixHQUFRekssS0FBS3cxQixPQUFTLEdBQUt4MUIsS0FBS3kxQixRQUFVLEVBRXRDLE9BQVcsRUFFWCxHQUFJanJCLEdBQUt4SyxLQUFLd0ssR0FBS0EsR0FBS3hLLEtBQUt3SyxFQUFJeEssS0FBS3cxQixPQUU5Qi9xQixHQUFLekssS0FBS3lLLEdBQUtBLEdBQUt6SyxLQUFLeUssRUFBSXpLLEtBQUt5MUIsT0FDMUMsQ0FDSSxHQUFTaHJCLEdBQUt6SyxLQUFLeUssRUFBSXpLLEtBQUtxcUMsUUFBVTUvQixHQUFLekssS0FBS3lLLEVBQUl6SyxLQUFLeTFCLE9BQVN6MUIsS0FBS3FxQyxRQUMvRDcvQixHQUFLeEssS0FBS3dLLEVBQUl4SyxLQUFLcXFDLFFBQVU3L0IsR0FBS3hLLEtBQUt3SyxFQUFJeEssS0FBS3cxQixNQUFReDFCLEtBQUtxcUMsT0FFakUsT0FBVyxFQUVYdm5CLElBQUk0a0IsRUFBS2w5QixHQUFLeEssS0FBS3dLLEVBQUl4SyxLQUFLcXFDLFFBQ3hCMUMsRUFBS2w5QixHQUFLekssS0FBS3lLLEVBQUl6SyxLQUFLcXFDLFFBQ3RCa0IsRUFBVXZyQyxLQUFLcXFDLE9BQVNycUMsS0FBS3FxQyxPQUVuQyxHQUFLM0MsRUFBS0EsRUFBT0MsRUFBS0EsR0FBTzRELEVBRTdCLE9BQVcsRUFHWCxJQURBN0QsRUFBS2w5QixHQUFLeEssS0FBS3dLLEVBQUl4SyxLQUFLdzFCLE1BQVF4MUIsS0FBS3FxQyxTQUMzQjNDLEVBQU9DLEVBQUtBLEdBQU80RCxFQUU3QixPQUFXLEVBR1gsR0FBSzdELEVBQUtBLEdBRFZDLEVBQUtsOUIsR0FBS3pLLEtBQUt5SyxFQUFJekssS0FBS3kxQixPQUFTejFCLEtBQUtxcUMsU0FDaEIxQyxHQUFPNEQsRUFFN0IsT0FBVyxFQUdYLElBREE3RCxFQUFLbDlCLEdBQUt4SyxLQUFLd0ssRUFBSXhLLEtBQUtxcUMsU0FDZDNDLEVBQU9DLEVBQUtBLEdBQU80RCxFQUU3QixPQUFXLEVBS3ZCLE9BQVc7Ozs7Ozs7O0E3QmxHZmxYLEVBQVNtWCxtQkFBb0IsRThCVjdCLElBQXFCQyxHQUVqQixXQU1JenJDLEtBQUtvSyxLQUFPb0UsSUFNWnhPLEtBQUtxSyxLQUFPbUUsSUFNWnhPLEtBQUtzSyxNQUFRa0UsSUFNYnhPLEtBQUt1SyxNQUFRaUUsSUFFYnhPLEtBQUswckMsS0FBTyxNQVFwQkQsR0FBQXo0QyxVQUFJMjRDLFFBQUEsV0FFSSxPQUFPM3JDLEtBQUtvSyxLQUFPcEssS0FBS3NLLE1BQVF0SyxLQUFLcUssS0FBT3JLLEtBQUt1SyxNQU96RGtoQyxHQUFBejRDLFVBQUlxdEMsTUFBQSxXQUVJcmdDLEtBQUs0ckMsV0FFTDVyQyxLQUFLb0ssS0FBT29FLElBQ1p4TyxLQUFLcUssS0FBT21FLElBQ1p4TyxLQUFLc0ssTUFBUWtFLElBQ2J4TyxLQUFLdUssTUFBUWlFLEtBVXJCaTlCLEdBQUF6NEMsVUFBSTY0QyxhQUFBLFNBQWFILEdBRVQsT0FBSTFyQyxLQUFLb0ssS0FBT3BLLEtBQUtzSyxNQUFRdEssS0FBS3FLLEtBQU9ySyxLQUFLdUssS0FFbkM2K0IsR0FBVUUsUUFHckJvQyxFQUFPQSxHQUFRLElBQUl0QyxHQUFVLEVBQUcsRUFBRyxFQUFHLElBRWpDNStCLEVBQUl4SyxLQUFLb0ssS0FDZHNoQyxFQUFLamhDLEVBQUl6SyxLQUFLcUssS0FDbEJxaEMsRUFBU2xXLE1BQVF4MUIsS0FBS3NLLEtBQU90SyxLQUFLb0ssS0FDbENzaEMsRUFBU2pXLE9BQVN6MUIsS0FBS3VLLEtBQU92SyxLQUFLcUssS0FFeEJxaEMsSUFRZkQsR0FBQXo0QyxVQUFJODRDLFNBQUEsU0FBU0MsR0FFTC9yQyxLQUFLb0ssS0FBT3dCLEtBQUs4USxJQUFJMWMsS0FBS29LLEtBQU0yaEMsRUFBTXZoQyxHQUN0Q3hLLEtBQUtzSyxLQUFPc0IsS0FBS0MsSUFBSTdMLEtBQUtzSyxLQUFNeWhDLEVBQU12aEMsR0FDdEN4SyxLQUFLcUssS0FBT3VCLEtBQUs4USxJQUFJMWMsS0FBS3FLLEtBQU0waEMsRUFBTXRoQyxHQUN0Q3pLLEtBQUt1SyxLQUFPcUIsS0FBS0MsSUFBSTdMLEtBQUt1SyxLQUFNd2hDLEVBQU10aEMsSUFROUNnaEMsR0FBQXo0QyxVQUFJZzVDLFFBQUEsU0FBUXg3QixHQUVKc1MsSUFBSTFZLEVBQU9wSyxLQUFLb0ssS0FDWkMsRUFBT3JLLEtBQUtxSyxLQUNaQyxFQUFPdEssS0FBS3NLLEtBQ1pDLEVBQU92SyxLQUFLdUssS0FFWkMsRUFBSWdHLEVBQVMsR0FDYi9GLEVBQUkrRixFQUFTLEdBRXJCcEcsRUFBV0ksRUFBSUosRUFBT0ksRUFBSUosRUFDMUJDLEVBQVdJLEVBQUlKLEVBQU9JLEVBQUlKLEVBQzFCQyxFQUFXRSxFQUFJRixFQUFPRSxFQUFJRixFQUMxQkMsRUFBV0UsRUFBSUYsRUFBT0UsRUFBSUYsRUFJMUJILEdBRklJLEVBQUlnRyxFQUFTLElBRUZwRyxFQUFPSSxFQUFJSixFQUMxQkMsR0FGSUksRUFBSStGLEVBQVMsSUFFRm5HLEVBQU9JLEVBQUlKLEVBQzFCQyxFQUFXRSxFQUFJRixFQUFPRSxFQUFJRixFQUMxQkMsRUFBV0UsRUFBSUYsRUFBT0UsRUFBSUYsRUFJMUJILEdBRklJLEVBQUlnRyxFQUFTLElBRUZwRyxFQUFPSSxFQUFJSixFQUMxQkMsR0FGSUksRUFBSStGLEVBQVMsSUFFRm5HLEVBQU9JLEVBQUlKLEVBQzFCQyxFQUFXRSxFQUFJRixFQUFPRSxFQUFJRixFQUMxQkMsRUFBV0UsRUFBSUYsRUFBT0UsRUFBSUYsRUFJMUJILEdBRklJLEVBQUlnRyxFQUFTLElBRUZwRyxFQUFPSSxFQUFJSixFQUMxQkMsR0FGSUksRUFBSStGLEVBQVMsSUFFRm5HLEVBQU9JLEVBQUlKLEVBQzFCQyxFQUFXRSxFQUFJRixFQUFPRSxFQUFJRixFQUMxQkMsRUFBV0UsRUFBSUYsRUFBT0UsRUFBSUYsRUFFdEJ2SyxLQUFLb0ssS0FBT0EsRUFDWnBLLEtBQUtxSyxLQUFPQSxFQUNackssS0FBS3NLLEtBQU9BLEVBQ1p0SyxLQUFLdUssS0FBT0EsR0FZcEJraEMsR0FBQXo0QyxVQUFJaTVDLFNBQUEsU0FBUzFjLEVBQVcyYyxFQUFJQyxFQUFJdEMsRUFBSUUsR0FFNUJubkIsSUFBTXFoQixFQUFTMVUsRUFBVXVZLGVBQ25CNXNDLEVBQUkrb0MsRUFBTy9vQyxFQUNYQyxFQUFJOG9DLEVBQU85b0MsRUFDWGpDLEVBQUkrcUMsRUFBTy9xQyxFQUNYb0UsRUFBSTJtQyxFQUFPM21DLEVBQ1gwbEMsRUFBS2lCLEVBQU9qQixHQUNaQyxFQUFLZ0IsRUFBT2hCLEdBRWQ3NEIsRUFBT3BLLEtBQUtvSyxLQUNaQyxFQUFPckssS0FBS3FLLEtBQ1pDLEVBQU90SyxLQUFLc0ssS0FDWkMsRUFBT3ZLLEtBQUt1SyxLQUVaQyxFQUFLdFAsRUFBSWd4QyxFQUFPaHpDLEVBQUlpekMsRUFBTW5KLEVBQzFCdjRCLEVBQUt0UCxFQUFJK3dDLEVBQU81dUMsRUFBSTZ1QyxFQUFNbEosRUFFbEM3NEIsRUFBV0ksRUFBSUosRUFBT0ksRUFBSUosRUFDMUJDLEVBQVdJLEVBQUlKLEVBQU9JLEVBQUlKLEVBQzFCQyxFQUFXRSxFQUFJRixFQUFPRSxFQUFJRixFQUMxQkMsRUFBV0UsRUFBSUYsRUFBT0UsRUFBSUYsRUFJMUJILEdBRklJLEVBQUt0UCxFQUFJMnVDLEVBQU8zd0MsRUFBSWl6QyxFQUFNbkosR0FFZjU0QixFQUFPSSxFQUFJSixFQUMxQkMsR0FGSUksRUFBS3RQLEVBQUkwdUMsRUFBT3ZzQyxFQUFJNnVDLEVBQU1sSixHQUVmNTRCLEVBQU9JLEVBQUlKLEVBQzFCQyxFQUFXRSxFQUFJRixFQUFPRSxFQUFJRixFQUMxQkMsRUFBV0UsRUFBSUYsRUFBT0UsRUFBSUYsRUFJMUJILEdBRklJLEVBQUt0UCxFQUFJZ3hDLEVBQU9oekMsRUFBSTZ3QyxFQUFNL0csR0FFZjU0QixFQUFPSSxFQUFJSixFQUMxQkMsR0FGSUksRUFBS3RQLEVBQUkrd0MsRUFBTzV1QyxFQUFJeXNDLEVBQU05RyxHQUVmNTRCLEVBQU9JLEVBQUlKLEVBQzFCQyxFQUFXRSxFQUFJRixFQUFPRSxFQUFJRixFQUMxQkMsRUFBV0UsRUFBSUYsRUFBT0UsRUFBSUYsRUFJMUJILEdBRklJLEVBQUt0UCxFQUFJMnVDLEVBQU8zd0MsRUFBSTZ3QyxFQUFNL0csR0FFZjU0QixFQUFPSSxFQUFJSixFQUMxQkMsR0FGSUksRUFBS3RQLEVBQUkwdUMsRUFBT3ZzQyxFQUFJeXNDLEVBQU05RyxHQUVmNTRCLEVBQU9JLEVBQUlKLEVBQzFCQyxFQUFXRSxFQUFJRixFQUFPRSxFQUFJRixFQUMxQkMsRUFBV0UsRUFBSUYsRUFBT0UsRUFBSUYsRUFFdEJ2SyxLQUFLb0ssS0FBT0EsRUFDWnBLLEtBQUtxSyxLQUFPQSxFQUNackssS0FBS3NLLEtBQU9BLEVBQ1p0SyxLQUFLdUssS0FBT0EsR0FVcEJraEMsR0FBQXo0QyxVQUFJbzVDLGNBQUEsU0FBY0MsRUFBWUMsRUFBYUMsR0FPbkMsSUFMQXpwQixJQUFJMVksRUFBT3BLLEtBQUtvSyxLQUNaQyxFQUFPckssS0FBS3FLLEtBQ1pDLEVBQU90SyxLQUFLc0ssS0FDWkMsRUFBT3ZLLEtBQUt1SyxLQUVQN1QsRUFBSTQxQyxFQUFhNTFDLEVBQUk2MUMsRUFBVzcxQyxHQUFLLEVBQ2xELENBQ0ksSUFBVThULEVBQUk2aEMsRUFBVzMxQyxHQUNmK1QsRUFBSTRoQyxFQUFXMzFDLEVBQUksR0FFN0IwVCxFQUFXSSxFQUFJSixFQUFPSSxFQUFJSixFQUMxQkMsRUFBV0ksRUFBSUosRUFBT0ksRUFBSUosRUFDMUJDLEVBQVdFLEVBQUlGLEVBQU9FLEVBQUlGLEVBQzFCQyxFQUFXRSxFQUFJRixFQUFPRSxFQUFJRixFQUcxQnZLLEtBQUtvSyxLQUFPQSxFQUNacEssS0FBS3FLLEtBQU9BLEVBQ1pySyxLQUFLc0ssS0FBT0EsRUFDWnRLLEtBQUt1SyxLQUFPQSxHQVdwQmtoQyxHQUFBejRDLFVBQUl3NUMsWUFBQSxTQUFZamQsRUFBVy9lLEVBQVU4N0IsRUFBYUMsR0FlMUMsSUFiQTNwQixJQUFNcWhCLEVBQVMxVSxFQUFVdVksZUFDbkI1c0MsRUFBSStvQyxFQUFPL29DLEVBQ1hDLEVBQUk4b0MsRUFBTzlvQyxFQUNYakMsRUFBSStxQyxFQUFPL3FDLEVBQ1hvRSxFQUFJMm1DLEVBQU8zbUMsRUFDWDBsQyxFQUFLaUIsRUFBT2pCLEdBQ1pDLEVBQUtnQixFQUFPaEIsR0FFZDc0QixFQUFPcEssS0FBS29LLEtBQ1pDLEVBQU9ySyxLQUFLcUssS0FDWkMsRUFBT3RLLEtBQUtzSyxLQUNaQyxFQUFPdkssS0FBS3VLLEtBRVA3VCxFQUFJNDFDLEVBQWE1MUMsRUFBSTYxQyxFQUFXNzFDLEdBQUssRUFDbEQsQ0FDSSxJQUFVKzFDLEVBQU9qOEIsRUFBUzlaLEdBQ2hCZzJDLEVBQU9sOEIsRUFBUzlaLEVBQUksR0FDcEI4VCxFQUFLdFAsRUFBSXV4QyxFQUFTdnpDLEVBQUl3ekMsRUFBUTFKLEVBQzlCdjRCLEVBQUtuTixFQUFJb3ZDLEVBQVN2eEMsRUFBSXN4QyxFQUFReEosRUFFeEM3NEIsRUFBV0ksRUFBSUosRUFBT0ksRUFBSUosRUFDMUJDLEVBQVdJLEVBQUlKLEVBQU9JLEVBQUlKLEVBQzFCQyxFQUFXRSxFQUFJRixFQUFPRSxFQUFJRixFQUMxQkMsRUFBV0UsRUFBSUYsRUFBT0UsRUFBSUYsRUFHMUJ2SyxLQUFLb0ssS0FBT0EsRUFDWnBLLEtBQUtxSyxLQUFPQSxFQUNackssS0FBS3NLLEtBQU9BLEVBQ1p0SyxLQUFLdUssS0FBT0EsR0FRcEJraEMsR0FBQXo0QyxVQUFJMjVDLFVBQUEsU0FBVUMsR0FFTmhxQixJQUFNeFksRUFBT3BLLEtBQUtvSyxLQUNaQyxFQUFPckssS0FBS3FLLEtBQ1pDLEVBQU90SyxLQUFLc0ssS0FDWkMsRUFBT3ZLLEtBQUt1SyxLQUVsQnZLLEtBQUtvSyxLQUFPd2lDLEVBQU94aUMsS0FBT0EsRUFBT3dpQyxFQUFPeGlDLEtBQU9BLEVBQy9DcEssS0FBS3FLLEtBQU91aUMsRUFBT3ZpQyxLQUFPQSxFQUFPdWlDLEVBQU92aUMsS0FBT0EsRUFDL0NySyxLQUFLc0ssS0FBT3NpQyxFQUFPdGlDLEtBQU9BLEVBQU9zaUMsRUFBT3RpQyxLQUFPQSxFQUMvQ3RLLEtBQUt1SyxLQUFPcWlDLEVBQU9yaUMsS0FBT0EsRUFBT3FpQyxFQUFPcmlDLEtBQU9BLEdBU3ZEa2hDLEdBQUF6NEMsVUFBSTY1QyxjQUFBLFNBQWNELEVBQVFFLEdBRWxCbHFCLElBQU1tcUIsRUFBUUgsRUFBT3hpQyxLQUFPMGlDLEVBQUsxaUMsS0FBT3dpQyxFQUFPeGlDLEtBQU8waUMsRUFBSzFpQyxLQUNyRDRpQyxFQUFRSixFQUFPdmlDLEtBQU95aUMsRUFBS3ppQyxLQUFPdWlDLEVBQU92aUMsS0FBT3lpQyxFQUFLemlDLEtBQ3JENGlDLEVBQVFMLEVBQU90aUMsS0FBT3dpQyxFQUFLeGlDLEtBQU9zaUMsRUFBT3RpQyxLQUFPd2lDLEVBQUt4aUMsS0FDckQ0aUMsRUFBUU4sRUFBT3JpQyxLQUFPdWlDLEVBQUt2aUMsS0FBT3FpQyxFQUFPcmlDLEtBQU91aUMsRUFBS3ZpQyxLQUUzRCxHQUFJd2lDLEdBQVNFLEdBQVNELEdBQVNFLEVBQ25DLENBQ1F0cUIsSUFBTXhZLEVBQU9wSyxLQUFLb0ssS0FDWkMsRUFBT3JLLEtBQUtxSyxLQUNaQyxFQUFPdEssS0FBS3NLLEtBQ1pDLEVBQU92SyxLQUFLdUssS0FFdEJ2SyxLQUFTb0ssS0FBTzJpQyxFQUFRM2lDLEVBQU8yaUMsRUFBUTNpQyxFQUN2Q3BLLEtBQVNxSyxLQUFPMmlDLEVBQVEzaUMsRUFBTzJpQyxFQUFRM2lDLEVBQ3ZDckssS0FBU3NLLEtBQU8yaUMsRUFBUTNpQyxFQUFPMmlDLEVBQVEzaUMsRUFDdkN0SyxLQUFTdUssS0FBTzJpQyxFQUFRM2lDLEVBQU8yaUMsRUFBUTNpQyxJQVUvQ2toQyxHQUFBejRDLFVBQUltNkMsY0FBQSxTQUFjUCxFQUFRdmdDLEdBRWxCdVcsSUFBTW1xQixFQUFRSCxFQUFPeGlDLEtBQU9pQyxFQUFLN0IsRUFBSW9pQyxFQUFPeGlDLEtBQU9pQyxFQUFLN0IsRUFDbER3aUMsRUFBUUosRUFBT3ZpQyxLQUFPZ0MsRUFBSzVCLEVBQUltaUMsRUFBT3ZpQyxLQUFPZ0MsRUFBSzVCLEVBQ2xEd2lDLEVBQVFMLEVBQU90aUMsS0FBTytCLEVBQUs3QixFQUFJNkIsRUFBS21wQixNQUFRb1gsRUFBT3RpQyxLQUFRK0IsRUFBSzdCLEVBQUk2QixFQUFLbXBCLE1BQ3pFMFgsRUFBUU4sRUFBT3JpQyxLQUFPOEIsRUFBSzVCLEVBQUk0QixFQUFLb3BCLE9BQVNtWCxFQUFPcmlDLEtBQVE4QixFQUFLNUIsRUFBSTRCLEVBQUtvcEIsT0FFaEYsR0FBSXNYLEdBQVNFLEdBQVNELEdBQVNFLEVBQ25DLENBQ1F0cUIsSUFBTXhZLEVBQU9wSyxLQUFLb0ssS0FDWkMsRUFBT3JLLEtBQUtxSyxLQUNaQyxFQUFPdEssS0FBS3NLLEtBQ1pDLEVBQU92SyxLQUFLdUssS0FFdEJ2SyxLQUFTb0ssS0FBTzJpQyxFQUFRM2lDLEVBQU8yaUMsRUFBUTNpQyxFQUN2Q3BLLEtBQVNxSyxLQUFPMmlDLEVBQVEzaUMsRUFBTzJpQyxFQUFRM2lDLEVBQ3ZDckssS0FBU3NLLEtBQU8yaUMsRUFBUTNpQyxFQUFPMmlDLEVBQVEzaUMsRUFDdkN0SyxLQUFTdUssS0FBTzJpQyxFQUFRM2lDLEVBQU8yaUMsRUFBUTNpQyxJQ2hWL0MsSUFBcUI2aUMsR0FBYSxTQUFBNWtDLEdBNkI5QixTQUFBNmtDLElBRUlDLE9BQUt0dEMsTUFFTEEsS0FBS3V0Qyx3QkFBMEIsS0FTL0J2dEMsS0FBS3V2QixVQUFZLElBQUlzWSxHQU9yQjduQyxLQUFLKzlCLE1BQVEsRUFVYi85QixLQUFLd3RDLFNBQVUsRUFVZnh0QyxLQUFLeXRDLFlBQWEsRUFRbEJ6dEMsS0FBS2pGLE9BQVMsS0FRZGlGLEtBQUswdEMsV0FBYSxFQVNsQjF0QyxLQUFLMnRDLGlCQUFtQixFQVN4QjN0QyxLQUFLNHRDLFFBQVUsRUFVZjV0QyxLQUFLNnRDLFdBQWEsS0FTbEI3dEMsS0FBSzh0QyxRQUFVLEtBQ2Y5dEMsS0FBSyt0QyxnQkFBa0IsS0FRdkIvdEMsS0FBS2d1QyxRQUFVLElBQUl2QyxHQUNuQnpyQyxLQUFLaXVDLFVBQVksRUFDakJqdUMsS0FBS2t1QyxlQUFpQixFQUN0Qmx1QyxLQUFLbXVDLFlBQWMsS0FDbkJudUMsS0FBS291QyxpQkFBbUIsS0FReEJwdUMsS0FBS3F1QyxNQUFRLEtBc0JicnVDLEtBQUtzdUMsWUFBYSxFQU1sQnR1QyxLQUFLdXVDLFVBQVcsaWVBT3BCbEIsRUEzS09tQixNQUFBLFNBQU1ydEMsR0FTVCxJQUhBeWhCLElBQU14bUIsRUFBT3JKLE9BQU9xSixLQUFLK0UsR0FHaEJ6SyxFQUFJLEVBQUdBLEVBQUkwRixFQUFLekYsU0FBVUQsRUFDbkMsQ0FDSWtzQixJQUFNNnJCLEVBQWVyeUMsRUFBSzFGLEdBRzFCM0QsT0FBT3FDLGVBQ0hpNEMsRUFBY3I2QyxVQUNkeTdDLEVBQ0ExN0MsT0FBTzI3Qyx5QkFBeUJ2dEMsRUFBUXN0QyxRQTBKaERFLHlCQUFBMTVDLElBQUEsV0FPQSxPQUxxQyxPQUFqQytLLEtBQUt1dEMsMEJBRUx2dEMsS0FBS3V0Qyx3QkFBMEIsSUFBSUYsR0FHaENydEMsS0FBS3V0QyxxQ0FRaEJ6RSxnQkFBQSxXQUVJOW9DLEtBQUt1dkIsVUFBVXVaLGdCQUFnQjlvQyxLQUFLakYsT0FBT3cwQixXQUUzQ3Z2QixLQUFLMHRDLFdBQWExdEMsS0FBSys5QixNQUFRLzlCLEtBQUtqRixPQUFPMnlDLFdBRTNDMXRDLEtBQUtndUMsUUFBUXBDLHdCQU9qQmdELDhCQUFBLFdBRVE1dUMsS0FBS2pGLFFBRUxpRixLQUFLakYsT0FBTzZ6QyxnQ0FDWjV1QyxLQUFLdXZCLFVBQVV1WixnQkFBZ0I5b0MsS0FBS2pGLE9BQU93MEIsWUFJM0N2dkIsS0FBS3V2QixVQUFVdVosZ0JBQWdCOW9DLEtBQUsydUMseUJBQXlCcGYsd0JBYXJFZ2IsVUFBQSxTQUFVc0UsRUFBWW5ELEdBZ0NsQixPQTlCS21ELElBRUk3dUMsS0FBS2pGLFFBUU5pRixLQUFLNHVDLGdDQUNMNXVDLEtBQUs4b0Msb0JBUEw5b0MsS0FBS2pGLE9BQVNpRixLQUFLMnVDLHlCQUNuQjN1QyxLQUFLOG9DLGtCQUNMOW9DLEtBQUtqRixPQUFTLE9BU2xCaUYsS0FBS2l1QyxZQUFjanVDLEtBQUtrdUMsZUFFeEJsdUMsS0FBSzh1QyxrQkFHSnBELElBRUkxckMsS0FBS211QyxjQUVObnVDLEtBQUttdUMsWUFBYyxJQUFJL0UsSUFHM0JzQyxFQUFPMXJDLEtBQUttdUMsYUFHVG51QyxLQUFLZ3VDLFFBQVFuQyxhQUFhSCxnQkFTckNxRCxlQUFBLFNBQWVyRCxHQUVYOW9CLElBQU1vc0IsRUFBZWh2QyxLQUFLdXZCLFVBQ3BCMGYsRUFBWWp2QyxLQUFLakYsT0FFdkJpRixLQUFLakYsT0FBUyxLQUNkaUYsS0FBS3V2QixVQUFZdnZCLEtBQUsydUMseUJBQXlCcGYsVUFFMUNtYyxJQUVJMXJDLEtBQUtvdUMsbUJBRU5wdUMsS0FBS291QyxpQkFBbUIsSUFBSWhGLElBR2hDc0MsRUFBTzFyQyxLQUFLb3VDLGtCQUdoQnhyQixJQUFNZ3FCLEVBQVM1c0MsS0FBS3VxQyxXQUFVLEVBQU9tQixHQUtyQyxPQUhBMXJDLEtBQUtqRixPQUFTazBDLEVBQ2RqdkMsS0FBS3V2QixVQUFZeWYsRUFFVnBDLGVBWVhzQyxTQUFBLFNBQVNuSyxFQUFVZ0gsRUFBTzhDLEdBc0J0Qix1QkF0Qm1DLEdBRTlCQSxJQUVEN3VDLEtBQUs0dUMsZ0NBS0E1dUMsS0FBS2pGLE9BUU5pRixLQUFLbXZDLGdDQU5MbnZDLEtBQUtqRixPQUFTaUYsS0FBSzJ1Qyx5QkFDbkIzdUMsS0FBS212QywrQkFDTG52QyxLQUFLakYsT0FBUyxPQVNmaUYsS0FBSzhuQyxlQUFlMXdDLE1BQU0ydEMsRUFBVWdILGdCQWEvQ3FELFFBQUEsU0FBUXJLLEVBQVU3aUIsRUFBTTZwQixFQUFPOEMsR0EyQjNCLE9BekJJM3NCLElBRUE2aUIsRUFBVzdpQixFQUFLZ3RCLFNBQVNuSyxFQUFVZ0gsRUFBTzhDLElBR3pDQSxJQUVEN3VDLEtBQUs0dUMsZ0NBS0E1dUMsS0FBS2pGLE9BUU5pRixLQUFLbXZDLGdDQU5MbnZDLEtBQUtqRixPQUFTaUYsS0FBSzJ1Qyx5QkFDbkIzdUMsS0FBS212QywrQkFDTG52QyxLQUFLakYsT0FBUyxPQVNmaUYsS0FBSzhuQyxlQUFldkUsYUFBYXdCLEVBQVVnSCxnQkFRdERzRCxPQUFBLFNBQU9DLGlCQVdQQyxVQUFBLFNBQVVDLEdBRU4sSUFBS0EsSUFBY0EsRUFBVUMsU0FFekIsTUFBTSxJQUFJeDNDLE1BQU0sMkNBS3BCLE9BRkF1M0MsRUFBVUMsU0FBU3p2QyxNQUVad3ZDLGVBaUJYbFAsYUFBQSxTQUFhOTFCLEVBQU9DLEVBQU82NUIsRUFBWUMsRUFBWUMsRUFBY0MsRUFBV0MsRUFBV04sRUFBWUMsR0FZL0Ysc0JBWmEsa0JBQU8sa0JBQVksa0JBQVksa0JBQWMsa0JBQVcsa0JBQVcsa0JBQVksa0JBQVksR0FFeEdya0MsS0FBSytrQyxTQUFTdjZCLEVBQUlBLEVBQ2xCeEssS0FBSytrQyxTQUFTdDZCLEVBQUlBLEVBQ2xCekssS0FBS3lqQyxNQUFNajVCLEVBQUs4NUIsR0FBUyxFQUN6QnRrQyxLQUFLeWpDLE1BQU1oNUIsRUFBSzg1QixHQUFTLEVBQ3pCdmtDLEtBQUt3a0MsU0FBV0EsRUFDaEJ4a0MsS0FBSytvQixLQUFLdmUsRUFBSWk2QixFQUNkemtDLEtBQUsrb0IsS0FBS3RlLEVBQUlpNkIsRUFDZDFrQyxLQUFLaW9DLE1BQU16OUIsRUFBSTQ1QixFQUNmcGtDLEtBQUtpb0MsTUFBTXg5QixFQUFJNDVCLEVBRVJya0Msa0JBVVh3L0IsUUFBQSxXQUVJeC9CLEtBQUs4SixxQkFDRDlKLEtBQUtqRixRQUVMaUYsS0FBS2pGLE9BQU9xZCxZQUFZcFksTUFFNUJBLEtBQUt1dkIsVUFBWSxLQUVqQnZ2QixLQUFLakYsT0FBUyxLQUVkaUYsS0FBS2d1QyxRQUFVLEtBQ2ZodUMsS0FBSzB2QyxlQUFpQixLQUN0QjF2QyxLQUFLcXVDLE1BQVEsS0FFYnJ1QyxLQUFLNnRDLFdBQWEsS0FFbEI3dEMsS0FBSzJ2QyxhQUFjLEVBQ25CM3ZDLEtBQUs0dkMscUJBQXNCLEVBRTNCNXZDLEtBQUtzdUMsWUFBYSxHQVN0Qm5GLEVBQUkzK0IsRUFBQXZWLElBQUEsV0FFQSxPQUFPK0ssS0FBSytrQyxTQUFTdjZCLEdBR3pCMitCLEVBQUkzK0IsRUFBQXRWLElBQUEsU0FBRUMsR0FFRjZLLEtBQUt1dkIsVUFBVXdWLFNBQVN2NkIsRUFBSXJWLEdBU2hDZzBDLEVBQUkxK0IsRUFBQXhWLElBQUEsV0FFQSxPQUFPK0ssS0FBSytrQyxTQUFTdDZCLEdBR3pCMCtCLEVBQUkxK0IsRUFBQXZWLElBQUEsU0FBRUMsR0FFRjZLLEtBQUt1dkIsVUFBVXdWLFNBQVN0NkIsRUFBSXRWLEdBU2hDZzBDLEVBQUlyQixlQUFBN3lDLElBQUEsV0FFQSxPQUFPK0ssS0FBS3V2QixVQUFVdVksZ0JBUzFCcUIsRUFBSXBCLGVBQUE5eUMsSUFBQSxXQUVBLE9BQU8rSyxLQUFLdXZCLFVBQVV3WSxnQkFTMUJvQixFQUFJcEUsU0FBQTl2QyxJQUFBLFdBRUEsT0FBTytLLEtBQUt1dkIsVUFBVXdWLFVBRzFCb0UsRUFBSXBFLFNBQUE3dkMsSUFBQSxTQUFTQyxHQUVUNkssS0FBS3V2QixVQUFVd1YsU0FBU2xELFNBQVMxc0MsSUFTckNnMEMsRUFBSTFGLE1BQUF4dUMsSUFBQSxXQUVBLE9BQU8rSyxLQUFLdXZCLFVBQVVrVSxPQUcxQjBGLEVBQUkxRixNQUFBdnVDLElBQUEsU0FBTUMsR0FFTjZLLEtBQUt1dkIsVUFBVWtVLE1BQU01QixTQUFTMXNDLElBU2xDZzBDLEVBQUlsQixNQUFBaHpDLElBQUEsV0FFQSxPQUFPK0ssS0FBS3V2QixVQUFVMFksT0FHMUJrQixFQUFJbEIsTUFBQS95QyxJQUFBLFNBQU1DLEdBRU42SyxLQUFLdXZCLFVBQVUwWSxNQUFNcEcsU0FBUzFzQyxJQVNsQ2cwQyxFQUFJcGdCLEtBQUE5ekIsSUFBQSxXQUVBLE9BQU8rSyxLQUFLdXZCLFVBQVV4RyxNQUcxQm9nQixFQUFJcGdCLEtBQUE3ekIsSUFBQSxTQUFLQyxHQUVMNkssS0FBS3V2QixVQUFVeEcsS0FBSzhZLFNBQVMxc0MsSUFTakNnMEMsRUFBSTNFLFNBQUF2dkMsSUFBQSxXQUVBLE9BQU8rSyxLQUFLdXZCLFVBQVVpVixVQUcxQjJFLEVBQUkzRSxTQUFBdHZDLElBQUEsU0FBU0MsR0FFVDZLLEtBQUt1dkIsVUFBVWlWLFNBQVdydkMsR0FTOUJnMEMsRUFBSXhGLE1BQUExdUMsSUFBQSxXQUVBLE9BQU8rSyxLQUFLdXZCLFVBQVVpVixTQUFXakMsSUFHckM0RyxFQUFJeEYsTUFBQXp1QyxJQUFBLFNBQU1DLEdBRU42SyxLQUFLdXZCLFVBQVVpVixTQUFXcnZDLEVBQVFxdEMsSUFXdEMyRyxFQUFJMEcsT0FBQTU2QyxJQUFBLFdBRUEsT0FBTytLLEtBQUs0dEMsU0FHaEJ6RSxFQUFJMEcsT0FBQTM2QyxJQUFBLFNBQU9DLEdBRVA2SyxLQUFLNHRDLFFBQVV6NEMsRUFDWDZLLEtBQUtqRixTQUVMaUYsS0FBS2pGLE9BQU8rMEMsV0FBWSxJQVVoQzNHLEVBQUk0RyxhQUFBOTZDLElBQUEsV0FFQTZ0QixJQUFJMW5CLEVBQU80RSxLQUVYLEVBQ0EsQ0FDSSxJQUFLNUUsRUFBS295QyxRQUVOLE9BQU8sRUFHWHB5QyxFQUFPQSxFQUFLTCxhQUNQSyxHQUVULE9BQU8sR0FzQlgrdEMsRUFBSTJELEtBQUE3M0MsSUFBQSxXQUVBLE9BQU8rSyxLQUFLcXVDLE9BR2hCbEYsRUFBSTJELEtBQUE1M0MsSUFBQSxTQUFLQyxHQUVENkssS0FBS3F1QyxRQUVMcnVDLEtBQUtxdUMsTUFBTVosWUFBYSxFQUN4Qnp0QyxLQUFLcXVDLE1BQU0yQixRQUFTLEdBR3hCaHdDLEtBQUtxdUMsTUFBUWw1QyxFQUVUNkssS0FBS3F1QyxRQUVMcnVDLEtBQUtxdUMsTUFBTVosWUFBYSxFQUN4Qnp0QyxLQUFLcXVDLE1BQU0yQixRQUFTLDZDQWhyQkUsQ0FBU0MsRUFBQS8wQyxHQ1YzQyxTQUFTZzFDLEdBQWFoMUMsRUFBR0MsR0FFckIsT0FBSUQsRUFBRTIwQyxTQUFXMTBDLEVBQUUwMEMsT0FFUjMwQyxFQUFFeXlDLGlCQUFtQnh5QyxFQUFFd3lDLGlCQUczQnp5QyxFQUFFMjBDLE9BQVMxMEMsRUFBRTAwQyxPRHlyQnhCekMsR0FBY3A2QyxVQUFVbThDLDZCQUErQi9CLEdBQWNwNkMsVUFBVTgxQyxnQkN4cUIvRSxJQUFxQnFILEdBQVMsU0FBQTlDLEdBRTFCLFNBQUErQyxJQUVJOUMsT0FBS3R0QyxNQVFMQSxLQUFLdEwsU0FBVyxHQWlCaEJzTCxLQUFLcXdDLGlCQUFtQmhjLEVBQVNtWCxrQkFRakN4ckMsS0FBSzh2QyxXQUFZLHFLQTBCckJRLGlCQUFBLHlCQWFBYixTQUFBLFNBQVM5eUMsbUJBRUM0ekMsRUFBa0I1bUMsVUFBVWhULE9BR2xDLEdBQUk0NUMsRUFBa0IsRUFJbEIsSUFBS3p0QixJQUFJcHNCLEVBQUksRUFBR0EsRUFBSTY1QyxFQUFpQjc1QyxJQUVqQ3NKLEtBQUt5dkMsU0FBUzlsQyxFQUFValQsU0FNeEJpRyxFQUFNNUIsUUFFTjRCLEVBQU01QixPQUFPcWQsWUFBWXpiLEdBRzdCQSxFQUFNNUIsT0FBU2lGLEtBQ2ZBLEtBQUs4dkMsV0FBWSxFQUdqQm56QyxFQUFNNHlCLFVBQVVvWixXQUFhLEVBRTdCM29DLEtBQUt0TCxTQUFTRCxLQUFLa0ksR0FHbkJxRCxLQUFLaXVDLFlBR0xqdUMsS0FBS3N3QyxpQkFBaUJ0d0MsS0FBS3RMLFNBQVNpQyxPQUFTLEdBQzdDcUosS0FBS21KLEtBQUssYUFBY3hNLEVBQU9xRCxLQUFNQSxLQUFLdEwsU0FBU2lDLE9BQVMsR0FDNURnRyxFQUFNd00sS0FBSyxRQUFTbkosTUFHeEIsT0FBT3JELGVBVVg2ekMsV0FBQSxTQUFXN3pDLEVBQU84ZixHQUVkLEdBQUlBLEVBQVEsR0FBS0EsRUFBUXpjLEtBQUt0TCxTQUFTaUMsT0FFbkMsTUFBTSxJQUFJc0IsTUFBUzBFLEVBQUsseUJBQXlCOGYsRUFBSyw4QkFBOEJ6YyxLQUFLdEwsU0FBZSxRQXdCNUcsT0FyQklpSSxFQUFNNUIsUUFFTjRCLEVBQU01QixPQUFPcWQsWUFBWXpiLEdBRzdCQSxFQUFNNUIsT0FBU2lGLEtBQ2ZBLEtBQUs4dkMsV0FBWSxFQUdqQm56QyxFQUFNNHlCLFVBQVVvWixXQUFhLEVBRTdCM29DLEtBQUt0TCxTQUFTdUMsT0FBT3dsQixFQUFPLEVBQUc5ZixHQUcvQnFELEtBQUtpdUMsWUFHTGp1QyxLQUFLc3dDLGlCQUFpQjd6QixHQUN0QjlmLEVBQU13TSxLQUFLLFFBQVNuSixNQUNwQkEsS0FBS21KLEtBQUssYUFBY3hNLEVBQU9xRCxLQUFNeWMsR0FFOUI5ZixlQVNYOHpDLGFBQUEsU0FBYTl6QyxFQUFPK3pDLEdBRWhCLEdBQUkvekMsSUFBVSt6QyxFQUFkLENBS0E5dEIsSUFBTSt0QixFQUFTM3dDLEtBQUs0d0MsY0FBY2owQyxHQUM1QmswQyxFQUFTN3dDLEtBQUs0d0MsY0FBY0YsR0FFbEMxd0MsS0FBS3RMLFNBQVNpOEMsR0FBVUQsRUFDeEIxd0MsS0FBS3RMLFNBQVNtOEMsR0FBVWwwQyxFQUN4QnFELEtBQUtzd0MsaUJBQWlCSyxFQUFTRSxFQUFTRixFQUFTRSxpQkFTckRELGNBQUEsU0FBY2owQyxHQUVWaW1CLElBQU1uRyxFQUFRemMsS0FBS3RMLFNBQVNGLFFBQVFtSSxHQUVwQyxJQUFlLElBQVg4ZixFQUVBLE1BQU0sSUFBSXhrQixNQUFNLDREQUdwQixPQUFPd2tCLGVBU1hxMEIsY0FBQSxTQUFjbjBDLEVBQU84ZixHQUVqQixHQUFJQSxFQUFRLEdBQUtBLEdBQVN6YyxLQUFLdEwsU0FBU2lDLE9BRXBDLE1BQU0sSUFBSXNCLE1BQUssYUFBY3drQixFQUFLLDhCQUE4QnpjLEtBQUt0TCxTQUFlLFFBR3hGa3VCLElBQU1tdUIsRUFBZS93QyxLQUFLNHdDLGNBQWNqMEMsR0FFeENnaUMsRUFBWTMrQixLQUFLdEwsU0FBVXE4QyxFQUFjLEdBQ3pDL3dDLEtBQUt0TCxTQUFTdUMsT0FBT3dsQixFQUFPLEVBQUc5ZixHQUUvQnFELEtBQUtzd0MsaUJBQWlCN3pCLGdCQVMxQnUwQixXQUFBLFNBQVd2MEIsR0FFUCxHQUFJQSxFQUFRLEdBQUtBLEdBQVN6YyxLQUFLdEwsU0FBU2lDLE9BRXBDLE1BQU0sSUFBSXNCLE1BQUssc0JBQXVCd2tCLEVBQUsscUJBRy9DLE9BQU96YyxLQUFLdEwsU0FBUytuQixnQkFTekJyRSxZQUFBLFNBQVl6YixtQkFFRjR6QyxFQUFrQjVtQyxVQUFVaFQsT0FHbEMsR0FBSTQ1QyxFQUFrQixFQUlsQixJQUFLenRCLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJNjVDLEVBQWlCNzVDLElBRWpDc0osS0FBS29ZLFlBQVl6TyxFQUFValQsUUFJbkMsQ0FDSWtzQixJQUFNbkcsRUFBUXpjLEtBQUt0TCxTQUFTRixRQUFRbUksR0FFcEMsSUFBZSxJQUFYOGYsRUFBYyxPQUFPLEtBRXpCOWYsRUFBTTVCLE9BQVMsS0FFZjRCLEVBQU00eUIsVUFBVW9aLFdBQWEsRUFDN0JoSyxFQUFZMytCLEtBQUt0TCxTQUFVK25CLEVBQU8sR0FHbEN6YyxLQUFLaXVDLFlBR0xqdUMsS0FBS3N3QyxpQkFBaUI3ekIsR0FDdEI5ZixFQUFNd00sS0FBSyxVQUFXbkosTUFDdEJBLEtBQUttSixLQUFLLGVBQWdCeE0sRUFBT3FELEtBQU15YyxHQUczQyxPQUFPOWYsZUFTWHMwQyxjQUFBLFNBQWN4MEIsR0FFVm1HLElBQU1qbUIsRUFBUXFELEtBQUtneEMsV0FBV3YwQixHQWU5QixPQVpBOWYsRUFBTTVCLE9BQVMsS0FDZjRCLEVBQU00eUIsVUFBVW9aLFdBQWEsRUFDN0JoSyxFQUFZMytCLEtBQUt0TCxTQUFVK25CLEVBQU8sR0FHbEN6YyxLQUFLaXVDLFlBR0xqdUMsS0FBS3N3QyxpQkFBaUI3ekIsR0FDdEI5ZixFQUFNd00sS0FBSyxVQUFXbkosTUFDdEJBLEtBQUttSixLQUFLLGVBQWdCeE0sRUFBT3FELEtBQU15YyxHQUVoQzlmLGVBVVh1MEMsZUFBQSxTQUFlQyxFQUFnQkMsa0JBQUgsR0FFeEJ4dUIsSUFHSXl1QixFQUhFQyxFQUFRSCxFQUNSaG1DLEVBQTBCLGlCQUFiaW1DLEVBQXdCQSxFQUFXcHhDLEtBQUt0TCxTQUFTaUMsT0FDOUQ0NkMsRUFBUXBtQyxFQUFNbW1DLEVBR3BCLEdBQUlDLEVBQVEsR0FBS0EsR0FBU3BtQyxFQUMxQixDQUNJa21DLEVBQVVyeEMsS0FBS3RMLFNBQVN1QyxPQUFPcTZDLEVBQU9DLEdBRXRDLElBQUt6dUIsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUkyNkMsRUFBUTE2QyxTQUFVRCxFQUVsQzI2QyxFQUFRMzZDLEdBQUdxRSxPQUFTLEtBQ2hCczJDLEVBQVEzNkMsR0FBRzY0QixZQUVYOGhCLEVBQVEzNkMsR0FBRzY0QixVQUFVb1osV0FBYSxHQUkxQzNvQyxLQUFLaXVDLFlBRUxqdUMsS0FBS3N3QyxpQkFBaUJhLEdBRXRCLElBQUtydUIsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUkyNkMsRUFBUTE2QyxTQUFVRCxFQUVsQzI2QyxFQUFRMzZDLEdBQUd5UyxLQUFLLFVBQVduSixNQUMzQkEsS0FBS21KLEtBQUssZUFBZ0Jrb0MsRUFBUTM2QyxHQUFJc0osS0FBTXRKLEdBR2hELE9BQU8yNkMsRUFFTixHQUFjLElBQVZFLEdBQXdDLElBQXpCdnhDLEtBQUt0TCxTQUFTaUMsT0FFbEMsTUFBTyxHQUdYLE1BQU0sSUFBSWt6QixXQUFXLGlGQU16QnFtQixhQUFBLFdBSUksSUFGQXB0QixJQUFJMHVCLEdBQWUsRUFFVjk2QyxFQUFJLEVBQUd3RCxFQUFJOEYsS0FBS3RMLFNBQVNpQyxPQUFRRCxFQUFJd0QsSUFBS3hELEVBQ25ELENBQ0lrc0IsSUFBTWptQixFQUFRcUQsS0FBS3RMLFNBQVNnQyxHQUU1QmlHLEVBQU1neEMsaUJBQW1CajNDLEVBRXBCODZDLEdBQWlDLElBQWpCNzBDLEVBQU1rekMsU0FFdkIyQixHQUFlLEdBSW5CQSxHQUFnQnh4QyxLQUFLdEwsU0FBU2lDLE9BQVMsR0FFdkNxSixLQUFLdEwsU0FBUzZXLEtBQUsya0MsSUFHdkJsd0MsS0FBSzh2QyxXQUFZLGVBTXJCaEgsZ0JBQUEsV0FFUTlvQyxLQUFLcXdDLGtCQUFvQnJ3QyxLQUFLOHZDLFdBRTlCOXZDLEtBQUtrd0MsZUFHVGx3QyxLQUFLaXVDLFlBRUxqdUMsS0FBS3V2QixVQUFVdVosZ0JBQWdCOW9DLEtBQUtqRixPQUFPdzBCLFdBRzNDdnZCLEtBQUswdEMsV0FBYTF0QyxLQUFLKzlCLE1BQVEvOUIsS0FBS2pGLE9BQU8yeUMsV0FFM0MsSUFBSzVxQixJQUFJcHNCLEVBQUksRUFBR3dELEVBQUk4RixLQUFLdEwsU0FBU2lDLE9BQVFELEVBQUl3RCxJQUFLeEQsRUFDbkQsQ0FDSWtzQixJQUFNam1CLEVBQVFxRCxLQUFLdEwsU0FBU2dDLEdBRXhCaUcsRUFBTTZ3QyxTQUVON3dDLEVBQU1tc0MsZ0NBU2xCZ0csZ0JBQUEsV0FFSTl1QyxLQUFLZ3VDLFFBQVEzTixRQUVicmdDLEtBQUt5eEMsbUJBRUwsSUFBSzN1QixJQUFJcHNCLEVBQUksRUFBR0EsRUFBSXNKLEtBQUt0TCxTQUFTaUMsT0FBUUQsSUFDMUMsQ0FDSWtzQixJQUFNam1CLEVBQVFxRCxLQUFLdEwsU0FBU2dDLEdBRXZCaUcsRUFBTTZ3QyxTQUFZN3dDLEVBQU04d0MsYUFLN0I5d0MsRUFBTW15QyxrQkFHRm55QyxFQUFNMHhDLE9BRU4xeEMsRUFBTTB4QyxNQUFNUyxrQkFDWjl1QyxLQUFLZ3VDLFFBQVFuQixjQUFjbHdDLEVBQU1xeEMsUUFBU3J4QyxFQUFNMHhDLE1BQU1MLFVBRWpEcnhDLEVBQU1reEMsV0FFWDd0QyxLQUFLZ3VDLFFBQVFiLGNBQWN4d0MsRUFBTXF4QyxRQUFTcnhDLEVBQU1reEMsWUFJaEQ3dEMsS0FBS2d1QyxRQUFRckIsVUFBVWh3QyxFQUFNcXhDLFVBSXJDaHVDLEtBQUtrdUMsY0FBZ0JsdUMsS0FBS2l1Qyx1QkFTOUJ3RCxpQkFBQSx5QkFVQXBDLE9BQUEsU0FBT0MsR0FHSCxHQUFLdHZDLEtBQUt3dEMsV0FBV3h0QyxLQUFLMHRDLFlBQWMsSUFBTTF0QyxLQUFLeXRDLFdBTW5ELEdBQUl6dEMsS0FBS3F1QyxPQUFTcnVDLEtBQUs4dEMsUUFFbkI5dEMsS0FBSzB4QyxlQUFlcEMsT0FHeEIsQ0FDSXR2QyxLQUFLMnhDLFFBQVFyQyxHQUdiLElBQUt4c0IsSUFBSXBzQixFQUFJLEVBQUd3RCxFQUFJOEYsS0FBS3RMLFNBQVNpQyxPQUFRRCxFQUFJd0QsSUFBS3hELEVBRS9Dc0osS0FBS3RMLFNBQVNnQyxHQUFHMjRDLE9BQU9DLGlCQVdwQ29DLGVBQUEsU0FBZXBDLEdBRVhBLEVBQVNzQyxNQUFNQyxRQUVmanZCLElBQU1rckIsRUFBVTl0QyxLQUFLOHRDLFFBQ2ZoQixFQUFPOXNDLEtBQUtxdUMsTUFHbEIsR0FBSVAsRUFDSixDQUNTOXRDLEtBQUsrdEMsa0JBRU4vdEMsS0FBSyt0QyxnQkFBa0IsSUFHM0IvdEMsS0FBSyt0QyxnQkFBZ0JwM0MsT0FBUyxFQUU5QixJQUFLbXNCLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJbzNDLEVBQVFuM0MsT0FBUUQsSUFFNUJvM0MsRUFBUXAzQyxHQUFHbzdDLFNBRVg5eEMsS0FBSyt0QyxnQkFBZ0J0NUMsS0FBS3E1QyxFQUFRcDNDLElBSXRDc0osS0FBSyt0QyxnQkFBZ0JwM0MsUUFFckIyNEMsRUFBUzFiLE9BQU9uL0IsS0FBS3VMLEtBQU1BLEtBQUsrdEMsaUJBSXBDakIsR0FFQXdDLEVBQVN4QyxLQUFLcjRDLEtBQUt1TCxLQUFNQSxLQUFLcXVDLE9BSWxDcnVDLEtBQUsyeEMsUUFBUXJDLEdBR2IsSUFBS3hzQixJQUFJcHNCLEVBQUksRUFBR3dELEVBQUk4RixLQUFLdEwsU0FBU2lDLE9BQVFELEVBQUl3RCxFQUFHeEQsSUFFN0NzSixLQUFLdEwsU0FBU2dDLEdBQUcyNEMsT0FBT0MsR0FHNUJBLEVBQVNzQyxNQUFNQyxRQUVYL0UsR0FFQXdDLEVBQVN4QyxLQUFLbHlDLElBQUlvRixLQUFNQSxLQUFLcXVDLE9BRzdCUCxHQUFXOXRDLEtBQUsrdEMsaUJBQW1CL3RDLEtBQUsrdEMsZ0JBQWdCcDNDLFFBRXhEMjRDLEVBQVMxYixPQUFPaDVCLG1CQVV4QisyQyxRQUFBLFNBQVFyQyxpQkFrQlI5UCxRQUFBLFNBQVF4bEMsR0FFSnN6QyxZQUFNOU4sUUFBQXRzQyxLQUFPOE0sTUFFYkEsS0FBSzh2QyxXQUFZLEVBRWpCbHRCLElBQU1tdkIsRUFBcUMsa0JBQVovM0MsRUFBd0JBLEVBQVVBLEdBQVdBLEVBQVF0RixTQUU5RXM5QyxFQUFjaHlDLEtBQUtreEMsZUFBZSxFQUFHbHhDLEtBQUt0TCxTQUFTaUMsUUFFekQsR0FBSW83QyxFQUVBLElBQUtqdkIsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUlzN0MsRUFBWXI3QyxTQUFVRCxFQUV0Q3M3QyxFQUFZdDdDLEdBQUc4b0MsUUFBUXhsQyxJQVVuQ212QyxFQUFJM1QsTUFBQXZnQyxJQUFBLFdBRUEsT0FBTytLLEtBQUt5akMsTUFBTWo1QixFQUFJeEssS0FBSyt1QyxpQkFBaUJ2WixPQUdoRDJULEVBQUkzVCxNQUFBdGdDLElBQUEsU0FBTUMsR0FFTnl0QixJQUFNNFMsRUFBUXgxQixLQUFLK3VDLGlCQUFpQnZaLE1BSWhDeDFCLEtBQUt5akMsTUFBTWo1QixFQUZELElBQVZnckIsRUFFZXJnQyxFQUFRcWdDLEVBSVIsRUFHbkJ4MUIsS0FBS2l5QyxPQUFTOThDLEdBUWxCZzBDLEVBQUkxVCxPQUFBeGdDLElBQUEsV0FFQSxPQUFPK0ssS0FBS3lqQyxNQUFNaDVCLEVBQUl6SyxLQUFLK3VDLGlCQUFpQnRaLFFBR2hEMFQsRUFBSTFULE9BQUF2Z0MsSUFBQSxTQUFPQyxHQUVQeXRCLElBQU02UyxFQUFTejFCLEtBQUsrdUMsaUJBQWlCdFosT0FJakN6MUIsS0FBS3lqQyxNQUFNaDVCLEVBRkEsSUFBWGdyQixFQUVldGdDLEVBQVFzZ0MsRUFJUixFQUduQnoxQixLQUFLa3lDLFFBQVUvOEMsNENBaG9CTyxDQUFTaTRDLElBcW9CdkMrQyxHQUFVbjlDLFVBQVVtL0MseUJBQTJCaEMsR0FBVW45QyxVQUFVODFDOzs7Ozs7OztBQ2pwQm5FLElBQUFzSixHQUFlLENBUVhDLFlBQVksRUFTWkMsZ0JBQWlCLEtBUWpCQyxlQUFnQixLQVFoQkMsU0FBVSxFQU9WQyxtQkFBbUIsRUFPbkJDLGdCQUFnQixHQzFEcEJ0RixHQUFjb0IsTUFBTTRELElBRXBCeHZCLElBd0JxQit2QixHQUtqQixTQUFZckQsR0FNUnR2QyxLQUFLNHlDLFNBQVcsTUFDWmplLEVBQUF6NUIsRUFBU2lFLFFBQVV3MUIsRUFBQXo1QixFQUFTK0QsUUFFNUJlLEtBQUs2eUMsa0JBSWIsSUFBVXAzQixFQUFNbmlCLFNBQVNDLGNBQWMsT0FFdkNraUIsRUFBUTBWLE1BQU1xRSxNQUFXc2QsUUFDekJyM0IsRUFBUTBWLE1BQU1zRSxPQUFZcWQsUUFDdEJyM0IsRUFBSTBWLE1BQU00VCxTQUFXLFdBQ3pCdHBCLEVBQVEwVixNQUFNMk8sSUFBU2lULE1BQ3ZCdDNCLEVBQVEwVixNQUFNNE8sS0FBVWlULE1BQ3BCdjNCLEVBQUkwVixNQUFNMGUsT0E1Q08sRUFvRGpCN3ZDLEtBQUt5YixJQUFNQSxFQVFYemIsS0FBS2l6QyxLQUFPLEdBUVpqekMsS0FBS2t6QyxTQUFXLEVBT2hCbHpDLEtBQUttekMsT0FBUSxFQU9ibnpDLEtBQUtzdkMsU0FBV0EsRUFRaEJ0dkMsS0FBS3RMLFNBQVcsR0FRaEJzTCxLQUFLb3pDLFdBQWFwekMsS0FBS296QyxXQUFXcDFDLEtBQUtnQyxNQVF2Q0EsS0FBS3F6QyxhQUFlcnpDLEtBQUtxekMsYUFBYXIxQyxLQUFLZ0MsTUFPM0NBLEtBQUtzekMsVUFBVyxFQU9oQnR6QyxLQUFLdXpDLHVCQUF3QixFQUc3QjlnRCxPQUFPd25CLGlCQUFpQixVQUFXamEsS0FBS296QyxZQUFZLElBUTVEVCxHQUFBMy9DLFVBQUk2L0MsZ0JBQUEsc0JBRVVXLEVBQVVsNkMsU0FBU0MsY0FBYyxVQUUzQ2k2QyxFQUFZcmlCLE1BQU1xRSxNQUFXaWUsTUFDN0JELEVBQVlyaUIsTUFBTXNFLE9BQVlnZSxNQUMxQkQsRUFBUXJpQixNQUFNNFQsU0FBVyxXQUM3QnlPLEVBQVlyaUIsTUFBTTJPLElBQVM0VCxVQUMzQkYsRUFBWXJpQixNQUFNNE8sS0FBVTRULFVBQ3hCSCxFQUFRcmlCLE1BQU0wZSxPQXZJRSxFQXdJaEIyRCxFQUFRcmlCLE1BQU1rRSxnQkFBa0IsVUFDaENtZSxFQUFRN3JCLE1BQVEsV0FFaEI2ckIsRUFBUXY1QixpQkFBaUIsUUFBTyxXQUU1QmphLEVBQUt1ekMsdUJBQXdCLEVBQzdCdnpDLEVBQUs0ekMsV0FDTDV6QyxFQUFLNnpDLHFCQUdidjZDLFNBQWF3NkMsS0FBS242QyxZQUFZNjVDLEdBQzFCeHpDLEtBQUs0eUMsU0FBV1ksR0FReEJiLEdBQUEzL0MsVUFBSTZnRCxpQkFBQSxXQUVTN3pDLEtBQUs0eUMsV0FJZHQ1QyxTQUFhdzZDLEtBQUsxN0IsWUFBWXBZLEtBQUs0eUMsVUFDL0I1eUMsS0FBSzR5QyxTQUFXLE9BU3hCRCxHQUFBMy9DLFVBQUk0Z0QsU0FBQSxXQUVRNXpDLEtBQUtzekMsV0FLVHR6QyxLQUFLc3pDLFVBQVcsRUFFaEI3Z0QsT0FBTzZHLFNBQVMyZ0IsaUJBQWlCLFlBQWFqYSxLQUFLcXpDLGNBQWMsR0FDakU1Z0QsT0FBTyttQixvQkFBb0IsVUFBV3haLEtBQUtvekMsWUFBWSxHQUV2RHB6QyxLQUFLc3ZDLFNBQVN6bEMsR0FBRyxhQUFjN0osS0FBS2xILE9BQVFrSCxNQUV4Q0EsS0FBS3N2QyxTQUFTdGEsS0FBS3RELFlBRW5CMXhCLEtBQUtzdkMsU0FBU3RhLEtBQUt0RCxXQUFXLzNCLFlBQVlxRyxLQUFLeWIsT0FVM0RrM0IsR0FBQTMvQyxVQUFJK2dELFdBQUEsV0FFUy96QyxLQUFLc3pDLFdBQVl0ekMsS0FBS3V6Qyx3QkFLM0J2ekMsS0FBS3N6QyxVQUFXLEVBRWhCN2dELE9BQU82RyxTQUFTa2dCLG9CQUFvQixZQUFheFosS0FBS3F6QyxjQUFjLEdBQ3BFNWdELE9BQU93bkIsaUJBQWlCLFVBQVdqYSxLQUFLb3pDLFlBQVksR0FFcERwekMsS0FBS3N2QyxTQUFTdmxDLElBQUksYUFBYy9KLEtBQUtsSCxRQUVqQ2tILEtBQUt5YixJQUFJaVcsWUFFVDF4QixLQUFLeWIsSUFBSWlXLFdBQVd0WixZQUFZcFksS0FBS3liLE9BVWpEazNCLEdBQUEzL0MsVUFBSWdoRCx3QkFBQSxTQUF3QkMsR0FFcEIsR0FBS0EsRUFBY3pHLFFBQW5CLENBS0l5RyxFQUFjNUIsWUFBYzRCLEVBQWN0RSxjQUVyQ3NFLEVBQWN4QixtQkFFZnp5QyxLQUFLeXZDLFNBQVN3RSxHQUdsQkEsRUFBY2YsU0FBV2x6QyxLQUFLa3pDLFVBS2xDLElBRkF0d0IsSUFBTWx1QixFQUFXdS9DLEVBQWN2L0MsU0FFdEJnQyxFQUFJLEVBQUdBLEVBQUloQyxFQUFTaUMsT0FBUUQsSUFFckNzSixLQUFTZzBDLHdCQUF3QnQvQyxFQUFTZ0MsTUFTbERpOEMsR0FBQTMvQyxVQUFJOEYsT0FBQSxXQUVJLEdBQUtrSCxLQUFLc3ZDLFNBQVM0RSxrQkFBbkIsQ0FNSmwwQyxLQUFTZzBDLHdCQUF3QmgwQyxLQUFLc3ZDLFNBQVM2RSxxQkFFM0N2eEIsSUFBTThvQixFQUFPMXJDLEtBQUtzdkMsU0FBU3RhLEtBQUtvZix3QkFDMUJDLEVBQUszSSxFQUFLbFcsTUFBUXgxQixLQUFLc3ZDLFNBQVM5WixNQUNoQzhlLEVBQUs1SSxFQUFLalcsT0FBU3oxQixLQUFLc3ZDLFNBQVM3WixPQUVuQ2hhLEVBQU16YixLQUFLeWIsSUFFbkJBLEVBQVEwVixNQUFNNE8sS0FBVTJMLEVBQUssVUFDN0Jqd0IsRUFBUTBWLE1BQU0yTyxJQUFTNEwsRUFBSyxTQUN4Qmp3QixFQUFJMFYsTUFBTXFFLE1BQVd4MUIsS0FBS3N2QyxTQUFTLFdBQ25DN3pCLEVBQUkwVixNQUFNc0UsT0FBWXoxQixLQUFLc3ZDLFNBQVMsWUFFcEMsSUFBS3hzQixJQUFJcHNCLEVBQUksRUFBR0EsRUFBSXNKLEtBQUt0TCxTQUFTaUMsT0FBUUQsSUFDOUMsQ0FDSSxJQUFVaUcsRUFBUXFELEtBQUt0TCxTQUFTZ0MsR0FFNUIsR0FBSWlHLEVBQU11MkMsV0FBYWx6QyxLQUFLa3pDLFNBRXhCdjJDLEVBQU04MUMsbUJBQW9CLEVBRTlCOVQsRUFBZ0IzK0IsS0FBS3RMLFNBQVVnQyxFQUFHLEdBQ2xDc0osS0FBU3liLElBQUlyRCxZQUFZemIsRUFBTSsxQyxnQkFDL0IxeUMsS0FBU2l6QyxLQUFLeCtDLEtBQUtrSSxFQUFNKzFDLGdCQUNyQi8xQyxFQUFNKzFDLGVBQWlCLEtBRTNCaDhDLElBRWlDLElBQXpCc0osS0FBS3RMLFNBQVNpQyxRQUVkcUosS0FBSyt6QyxpQkFJakIsQ0FFUXQ0QixFQUFNOWUsRUFBTSsxQyxlQUNaNXZCLElBQUl5eEIsRUFBVTUzQyxFQUFNNDNDLFFBQ2R0TCxFQUFLdHNDLEVBQU1tckMsZUFFYm5yQyxFQUFNNDNDLFNBRVY5NEIsRUFBUTBWLE1BQU00TyxNQUFXa0osRUFBR2pHLEdBQU11UixFQUFRL3BDLEVBQUl5K0IsRUFBRy90QyxHQUFNbTVDLEVBQUEsS0FDdkQ1NEIsRUFBUTBWLE1BQU0yTyxLQUFVbUosRUFBR2hHLEdBQU1zUixFQUFROXBDLEVBQUl3K0IsRUFBRzNyQyxHQUFNZzNDLEVBQUEsS0FFbEQ3NEIsRUFBSTBWLE1BQU1xRSxNQUFXK2UsRUFBUS9lLE1BQVF5VCxFQUFHL3RDLEVBQUltNUMsRUFBQSxLQUM1QzU0QixFQUFJMFYsTUFBTXNFLE9BQVk4ZSxFQUFROWUsT0FBU3dULEVBQUczckMsRUFBSWczQyxFQUFBLE9BSTlDQyxFQUFVNTNDLEVBQU00dEMsWUFFaEJ2cUMsS0FBS3cwQyxXQUFXRCxHQUVoQjk0QixFQUFJMFYsTUFBTTRPLEtBQVV3VSxFQUFRL3BDLEVBQUk2cEMsRUFBQSxLQUNoQzU0QixFQUFJMFYsTUFBTTJPLElBQVN5VSxFQUFROXBDLEVBQUk2cEMsRUFBQSxLQUUvQjc0QixFQUFJMFYsTUFBTXFFLE1BQVcrZSxFQUFRL2UsTUFBUTZlLEVBQUEsS0FDckM1NEIsRUFBSTBWLE1BQU1zRSxPQUFZOGUsRUFBUTllLE9BQVM2ZSxFQUFBLEtBR25DNzRCLEVBQUlrTSxRQUFVaHJCLEVBQU0yMUMsaUJBQTZDLE9BQTFCMzFDLEVBQU0yMUMsa0JBRTdDNzJCLEVBQUlrTSxNQUFRaHJCLEVBQU0yMUMsaUJBRWxCNzJCLEVBQUlnNUIsYUFBYSxnQkFBa0I5M0MsRUFBTTQxQyxnQkFDYixPQUF6QjUxQyxFQUFNNDFDLGdCQUViOTJCLEVBQVF5VyxhQUFhLGFBQWN2MUIsRUFBTTQxQyxrQkFPckR2eUMsS0FBS2t6QyxhQVFiUCxHQUFBMy9DLFVBQUl3aEQsV0FBQSxTQUFXRCxHQUVIQSxFQUFRL3BDLEVBQUksSUFFWitwQyxFQUFRL2UsT0FBUytlLEVBQVEvcEMsRUFDekIrcEMsRUFBUS9wQyxFQUFJLEdBR1orcEMsRUFBUTlwQyxFQUFJLElBRVo4cEMsRUFBUTllLFFBQVU4ZSxFQUFROXBDLEVBQzFCOHBDLEVBQVE5cEMsRUFBSSxHQUdaOHBDLEVBQVEvcEMsRUFBSStwQyxFQUFRL2UsTUFBUXgxQixLQUFLc3ZDLFNBQVM5WixRQUUxQytlLEVBQVEvZSxNQUFReDFCLEtBQUtzdkMsU0FBUzlaLE1BQVErZSxFQUFRL3BDLEdBRzlDK3BDLEVBQVE5cEMsRUFBSThwQyxFQUFROWUsT0FBU3oxQixLQUFLc3ZDLFNBQVM3WixTQUUzQzhlLEVBQVE5ZSxPQUFTejFCLEtBQUtzdkMsU0FBUzdaLE9BQVM4ZSxFQUFROXBDLElBVTVEa29DLEdBQUEzL0MsVUFBSXk4QyxTQUFBLFNBQVN3RSxHQUlULElBQVF4NEIsRUFBTXpiLEtBQUtpekMsS0FBS3I0QyxNQUVmNmdCLEtBRUxBLEVBQVVuaUIsU0FBU0MsY0FBYyxXQUV6QjQzQixNQUFNcUUsTUFBV3NkLFFBQ3pCcjNCLEVBQVEwVixNQUFNc0UsT0FBWXFkLFFBQ3RCcjNCLEVBQUkwVixNQUFNa0UsZ0JBQWtCcjFCLEtBQUttekMsTUFBUSxvQkFBc0IsY0FDL0QxM0IsRUFBSTBWLE1BQU00VCxTQUFXLFdBQ3JCdHBCLEVBQUkwVixNQUFNMGUsT0ExWUcsRUEyWWJwMEIsRUFBSTBWLE1BQU11akIsWUFBYyxPQUdwQjcxQyxVQUFVQyxVQUFVb0YsY0FBYzFQLFFBQVEsV0FBYSxFQUczRGluQixFQUFReVcsYUFBYSxZQUFhLE9BSWxDelcsRUFBUXlXLGFBQWEsWUFBYSxVQUc5QnJ6QixVQUFVQyxVQUFVcUYsTUFBTSxnQkFHOUJzWCxFQUFReVcsYUFBYSxnQkFBaUIsYUFLdEN6VyxFQUFReVcsYUFBYSxnQkFBaUIsUUFHdEN6VyxFQUFJeEIsaUJBQWlCLFFBQVNqYSxLQUFLMjBDLFNBQVMzMkMsS0FBS2dDLE9BQ2pEeWIsRUFBSXhCLGlCQUFpQixRQUFTamEsS0FBSzQwQyxTQUFTNTJDLEtBQUtnQyxPQUNqRHliLEVBQUl4QixpQkFBaUIsV0FBWWphLEtBQUs2MEMsWUFBWTcyQyxLQUFLZ0MsUUFHdkRpMEMsRUFBYzNCLGlCQUFxRCxPQUFsQzJCLEVBQWMzQixnQkFFL0M3MkIsRUFBSWtNLE1BQVFzc0IsRUFBYzNCLGdCQUVwQjJCLEVBQWMxQixnQkFDcUIsT0FBakMwQixFQUFjMUIsaUJBRTFCOTJCLEVBQVFrTSxNQUFRLGlCQUFpQnNzQixFQUFzQixVQUduREEsRUFBYzFCLGdCQUNzQixPQUFqQzBCLEVBQWMxQixnQkFFckI5MkIsRUFBUXlXLGFBQWEsYUFBYytoQixFQUFjMUIsZ0JBS2pEMEIsRUFBY3hCLG1CQUFvQixFQUNsQ3dCLEVBQWN2QixlQUFpQmozQixFQUMvQkEsRUFBSXc0QixjQUFnQkEsRUFFeEJqMEMsS0FBU3RMLFNBQVNELEtBQUt3L0MsR0FDdkJqMEMsS0FBU3liLElBQUk5aEIsWUFBWXM2QyxFQUFjdkIsZ0JBQ3ZDdUIsRUFBa0J2QixlQUFlRixTQUFXeUIsRUFBY3pCLFVBUzlERyxHQUFBMy9DLFVBQUkyaEQsU0FBQSxTQUFTdC9DLEdBRVQsSUFBVXkvQyxFQUFxQjkwQyxLQUFLc3ZDLFNBQVN5RixRQUFRQyxZQUVqREYsRUFBbUJHLGNBQWM1L0MsRUFBRXliLE9BQU9takMsY0FBZSxRQUFTYSxFQUFtQkksWUFTN0Z2QyxHQUFBMy9DLFVBQUk0aEQsU0FBQSxTQUFTdi9DLEdBRUFBLEVBQUV5YixPQUFPMmpDLGFBQWEsWUFBYSxRQUV4Q3AvQyxFQUFNeWIsT0FBT29oQixhQUFhLFlBQWEsYUFFM0MsSUFBVTRpQixFQUFxQjkwQyxLQUFLc3ZDLFNBQVN5RixRQUFRQyxZQUVqREYsRUFBbUJHLGNBQWM1L0MsRUFBRXliLE9BQU9takMsY0FBZSxZQUFhYSxFQUFtQkksWUFTakd2QyxHQUFBMy9DLFVBQUk2aEQsWUFBQSxTQUFZeC9DLEdBRUhBLEVBQUV5YixPQUFPMmpDLGFBQWEsWUFBYSxRQUV4Q3AvQyxFQUFNeWIsT0FBT29oQixhQUFhLFlBQWEsVUFFM0MsSUFBVTRpQixFQUFxQjkwQyxLQUFLc3ZDLFNBQVN5RixRQUFRQyxZQUVqREYsRUFBbUJHLGNBQWM1L0MsRUFBRXliLE9BQU9takMsY0FBZSxXQUFZYSxFQUFtQkksWUFTaEd2QyxHQUFBMy9DLFVBQUlvZ0QsV0FBQSxTQUFXLzlDLEdBN2ZNLElBK2ZUQSxFQUFFOC9DLFNBS05uMUMsS0FBSzR6QyxZQVNiakIsR0FBQTMvQyxVQUFJcWdELGFBQUEsU0FBYWgrQyxHQUVXLElBQWhCQSxFQUFFKy9DLFdBQW1DLElBQWhCLy9DLEVBQUVnZ0QsV0FLM0JyMUMsS0FBSyt6QyxjQU9icEIsR0FBQTMvQyxVQUFJd3NDLFFBQUEsV0FFSXgvQixLQUFLNnpDLG1CQUNMN3pDLEtBQUt5YixJQUFNLEtBRVgsSUFBS3FILElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJc0osS0FBS3RMLFNBQVNpQyxPQUFRRCxJQUUxQ3NKLEtBQVN0TCxTQUFTZ0MsR0FBRytrQixJQUFNLEtBRzNCaHBCLE9BQU82RyxTQUFTa2dCLG9CQUFvQixZQUFheFosS0FBS3F6QyxjQUFjLEdBQ3hFNWdELE9BQVcrbUIsb0JBQW9CLFVBQVd4WixLQUFLb3pDLFlBRTNDcHpDLEtBQUtpekMsS0FBTyxLQUNaanpDLEtBQUt0TCxTQUFXLEtBQ2hCc0wsS0FBS3N2QyxTQUFXOzs7Ozs7OztBQ3hnQlQsSUFBTWdHLEdBS2pCLFNBQVl4Z0QsR0FFUmtMLEtBQUt1MUMsTUFBUSxHQUNidjFDLEtBQUt3MUMsTUFBUTFnRCx1REFPckJ3Z0QsR0FBQXRpRCxVQUFJbVcsS0FBQSxTQUFLc3NDLEVBQUlyc0MsRUFBSUMsRUFBSUMsRUFBSUMsRUFBSUMsRUFBSWtzQyxFQUFJQyxHQUU3QixHQUFJaHNDLFVBQVVoVCxPQUFTLEVBRW5CLE1BQU0sSUFBSXNCLE1BQU0seUJBS3BCLElBRkosSUFBWW5ELEVBQWdCa0wsS0FBaEJsTCxLQUFNeWdELEVBQVV2MUMsS0FBVnUxQyxNQUVMNytDLEVBQUksRUFBR2dULEVBQU02ckMsRUFBTTUrQyxPQUFRRCxFQUFJZ1QsRUFBS2hULElBRTdDNitDLEVBQVU3K0MsR0FBRzVCLEdBQU0yZ0QsRUFBSXJzQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJa3NDLEVBQUlDLEdBR25ELE9BQVczMUMsTUFvQmZzMUMsR0FBQXRpRCxVQUFJZzdCLElBQUEsU0FBSTV5QixHQVFKLE9BTlFBLEVBQUs0RSxLQUFLdzFDLFNBRVZ4MUMsS0FBS215QixPQUFPLzJCLEdBQ2hCNEUsS0FBU3UxQyxNQUFNOWdELEtBQUsyRyxJQUdiNEUsTUFPZnMxQyxHQUFBdGlELFVBQUltL0IsT0FBQSxTQUFPLzJCLEdBRUh3bkIsSUFBTW5HLEVBQVF6YyxLQUFLdTFDLE1BQU0vZ0QsUUFBUTRHLEdBT3JDLE9BTG1CLElBQVhxaEIsR0FFSnpjLEtBQVN1MUMsTUFBTXQrQyxPQUFPd2xCLEVBQU8sR0FHdEJ6YyxNQU9mczFDLEdBQUF0aUQsVUFBSXcyQyxTQUFBLFNBQVNwdUMsR0FFTCxPQUFxQyxJQUE5QjRFLEtBQUt1MUMsTUFBTS9nRCxRQUFRNEcsSUFNbENrNkMsR0FBQXRpRCxVQUFJNGlELFVBQUEsV0FJQSxPQUZJNTFDLEtBQUt1MUMsTUFBTTUrQyxPQUFTLEVBRWJxSixNQU1mczFDLEdBQUF0aUQsVUFBSXdzQyxRQUFBLFdBRUl4L0IsS0FBSzQxQyxZQUNMNTFDLEtBQUt1MUMsTUFBUSxLQUNidjFDLEtBQUt3MUMsTUFBUSxNQVNyQkssR0FBUTdoQyxNQUFBL2UsSUFBQSxXQUVKLE9BQWlDLElBQXRCK0ssS0FBS3UxQyxNQUFNNStDLFFBUzFCay9DLEdBQVEvZ0QsS0FBQUcsSUFBQSxXQUVBLE9BQU8rSyxLQUFLdzFDLGdEQVVwQkYsR0FBT3RpRCxVQUFVMGxCLFNBQVc0OEIsR0FBT3RpRCxVQUFVbVcsS0FRN0Ntc0MsR0FBT3RpRCxVQUFVMnpCLElBQU0ydUIsR0FBT3RpRCxVQUFVbVc7Ozs7Ozs7O0FuQzVLeENrckIsRUFBU3loQixZQUFjLEllS1gsSUFBQ0MsR0FBa0IsQ0FDM0JDLFlBQWEsR0FDYm5hLEtBQU0sR0FDTmpGLE9BQVEsRUFDUitFLEtBQU0sR0FDTnNhLFNBQVUsSXFCZE9DLEdBVWpCLFNBQVkvaEQsRUFBSTJULEVBQWdCcXVDLEVBQWNwdUMsa0JBQXBCLHFCQUFpQixtQkFBVSxHQU9qRC9ILEtBQUs3TCxHQUFLQSxFQU9WNkwsS0FBSzhILFFBQVVBLEVBT2Y5SCxLQUFLbTJDLFNBQVdBLEVBT2hCbjJDLEtBQUsrSCxLQUFPQSxFQU9aL0gsS0FBS2dMLEtBQU8sS0FPWmhMLEtBQUtvMkMsU0FBVyxLQU9oQnAyQyxLQUFLc3VDLFlBQWEsR0FVMUI0SCxHQUFBbGpELFVBQUltUixNQUFBLFNBQU1oUSxFQUFJMlQsR0FJTixPQUZBQSxFQUFVQSxHQUFXLEtBRWQ5SCxLQUFLN0wsS0FBT0EsR0FBTTZMLEtBQUs4SCxVQUFZQSxHQVNsRG91QyxHQUFBbGpELFVBQUltVyxLQUFBLFNBQUtrdEMsR0FFR3IyQyxLQUFLN0wsS0FFRDZMLEtBQUs4SCxRQUVMOUgsS0FBSzdMLEdBQUdqQixLQUFLOE0sS0FBSzhILFFBQVN1dUMsR0FJM0JyMkMsS0FBSzdMLEdBQUdraUQsSUFJaEJ6ekIsSUFBTTB6QixFQUFXdDJDLEtBQUtnTCxLQWMxQixPQVpRaEwsS0FBSytILE1BRUwvSCxLQUFLdy9CLFNBQVEsR0FLYngvQixLQUFLc3VDLGFBRUx0dUMsS0FBS2dMLEtBQU8sTUFHVHNyQyxHQVFmSixHQUFBbGpELFVBQUl1akQsUUFBQSxTQUFRSCxHQUVKcDJDLEtBQUtvMkMsU0FBV0EsRUFDWkEsRUFBU3ByQyxPQUVUb3JDLEVBQVNwckMsS0FBS29yQyxTQUFXcDJDLE1BRTdCQSxLQUFLZ0wsS0FBT29yQyxFQUFTcHJDLEtBQ3JCb3JDLEVBQVNwckMsS0FBT2hMLE1BVXhCazJDLEdBQUFsakQsVUFBSXdzQyxRQUFBLFNBQVFnWCxtQkFBTyxHQUVYeDJDLEtBQUtzdUMsWUFBYSxFQUNsQnR1QyxLQUFLN0wsR0FBSyxLQUNWNkwsS0FBSzhILFFBQVUsS0FHWDlILEtBQUtvMkMsV0FFVHAyQyxLQUFTbzJDLFNBQVNwckMsS0FBT2hMLEtBQUtnTCxNQUcxQmhMLEtBQUtnTCxPQUVUaEwsS0FBU2dMLEtBQUtvckMsU0FBV3AyQyxLQUFLbzJDLFVBSTlCeHpCLElBQU0wekIsRUFBV3QyQyxLQUFLZ0wsS0FNMUIsT0FIQWhMLEtBQVNnTCxLQUFPd3JDLEVBQU8sS0FBT0YsRUFDMUJ0MkMsS0FBS28yQyxTQUFXLEtBRVRFLEdDMUpmLElBQXFCRyxHQUVqQixzQkFPSXoyQyxLQUFLbVMsTUFBUSxJQUFJK2pDLEdBQWUsS0FBTSxLQUFNMW5DLEtBTzVDeE8sS0FBSzAyQyxXQUFhLEtBUWxCMTJDLEtBQUsyMkMsY0FBZ0IsSUFPckIzMkMsS0FBSzQyQyxjQUFnQixFQVVyQjUyQyxLQUFLNjJDLFdBQVksRUFXakI3MkMsS0FBS3EyQyxVQUFZLEVBY3JCcjJDLEtBQVM4MkMsUUFBVSxFQUFJemlCLEVBQVN5aEIsWUFhaEM5MUMsS0FBUysyQyxVQUFZLEVBQUkxaUIsRUFBU3loQixZQVk5QjkxQyxLQUFLK2lCLFVBQVksRUFZakIvaUIsS0FBS2czQyxNQUFRLEVBYWJoM0MsS0FBS2tVLFNBQVUsRUFRZmxVLEtBQUtpM0MsWUFBYSxFQWFsQmozQyxLQUFLazNDLE1BQUssU0FBSUMsR0FFVm4zQyxFQUFLMDJDLFdBQWEsS0FFZDEyQyxFQUFLa1UsVUFHTGxVLEVBQUtsSCxPQUFPcStDLEdBRVJuM0MsRUFBS2tVLFNBQStCLE9BQXBCbFUsRUFBSzAyQyxZQUF1QjEyQyxFQUFLbVMsTUFBTW5ILE9BRTNEb3NDLEVBQVNWLFdBQWF6ekIsc0JBQXNCampCLEVBQUtrM0MsK0lBYWpFVCxHQUFBempELFVBQUlxa0QsaUJBQUEsV0FFNEIsT0FBcEJyM0MsS0FBSzAyQyxZQUF1QjEyQyxLQUFLbVMsTUFBTW5ILE9BRzNDaEwsS0FBUytpQixTQUFXSixZQUFZRixNQUNoQ3ppQixLQUFTMDJDLFdBQWF6ekIsc0JBQXNCampCLEtBQUtrM0MsU0FTekRULEdBQUF6akQsVUFBSXNrRCxnQkFBQSxXQUU0QixPQUFwQnQzQyxLQUFLMDJDLGFBRUx4ekIscUJBQXFCbGpCLEtBQUswMkMsWUFDMUIxMkMsS0FBSzAyQyxXQUFhLE9BYzlCRCxHQUFBempELFVBQUl1a0QsaUJBQUEsV0FFUXYzQyxLQUFLa1UsUUFFTGxVLEtBQUtxM0MsbUJBRUFyM0MsS0FBSzYyQyxXQUVWNzJDLEtBQUtrTCxTQWFqQnVyQyxHQUFBempELFVBQUlnN0IsSUFBQSxTQUFJNzVCLEVBQUkyVCxFQUFTcXVDLEdBRWIsc0JBRndCSixHQUFnQm5mLFFBRWpDNTJCLEtBQUt3M0MsYUFBYSxJQUFJdEIsR0FBZS9oRCxFQUFJMlQsRUFBU3F1QyxLQVdqRU0sR0FBQXpqRCxVQUFJeWtELFFBQUEsU0FBUXRqRCxFQUFJMlQsRUFBU3F1QyxHQUVqQixzQkFGNEJKLEdBQWdCbmYsUUFFckM1MkIsS0FBS3czQyxhQUFhLElBQUl0QixHQUFlL2hELEVBQUkyVCxFQUFTcXVDLEdBQVUsS0FZM0VNLEdBQUF6akQsVUFBSXdrRCxhQUFBLFNBQWFydkMsR0FHYixJQUFRdXZDLEVBQVUxM0MsS0FBS21TLE1BQU1uSCxLQUNyQm9yQyxFQUFXcDJDLEtBQUttUyxNQUd4QixHQUFTdWxDLEVBS1QsQ0FFUSxLQUFPQSxHQUNYLENBQ1EsR0FBSXZ2QyxFQUFTZ3VDLFNBQVd1QixFQUFRdkIsU0FDcEMsQ0FDUWh1QyxFQUFTb3VDLFFBQVFILEdBQ2pCLE1BRVJBLEVBQWVzQixFQUNYQSxFQUFVQSxFQUFRMXNDLEtBSWpCN0MsRUFBU2l1QyxVQUVWanVDLEVBQVNvdUMsUUFBUUgsUUFuQnJCanVDLEVBQVNvdUMsUUFBUUgsR0F5QnpCLE9BRklwMkMsS0FBS3UzQyxtQkFFRXYzQyxNQVdmeTJDLEdBQUF6akQsVUFBSW0vQixPQUFBLFNBQU9oK0IsRUFBSTJULEdBSVAsSUFGSixJQUFRSyxFQUFXbkksS0FBS21TLE1BQU1uSCxLQUVuQjdDLEdBT0NBLEVBRkFBLEVBQVNoRSxNQUFNaFEsRUFBSTJULEdBRVJLLEVBQVNxM0IsVUFJVHIzQixFQUFTNkMsS0FTaEMsT0FMU2hMLEtBQUttUyxNQUFNbkgsTUFFWmhMLEtBQUtzM0Msa0JBR0Z0M0MsTUFPZnkyQyxHQUFBempELFVBQUlrWSxNQUFBLFdBRVNsTCxLQUFLa1UsVUFFTmxVLEtBQUtrVSxTQUFVLEVBQ2ZsVSxLQUFLcTNDLHFCQVFqQlosR0FBQXpqRCxVQUFJb2EsS0FBQSxXQUVRcE4sS0FBS2tVLFVBRUxsVSxLQUFLa1UsU0FBVSxFQUNmbFUsS0FBS3MzQyxvQkFRakJiLEdBQUF6akQsVUFBSXdzQyxRQUFBLFdBRUksSUFBS3gvQixLQUFLaTNDLFdBQ2QsQ0FDUWozQyxLQUFLb04sT0FJTCxJQUZKLElBQVFqRixFQUFXbkksS0FBS21TLE1BQU1uSCxLQUVuQjdDLEdBRVBBLEVBQWVBLEVBQVNxM0IsU0FBUSxHQUdoQ3gvQixLQUFLbVMsTUFBTXF0QixVQUNYeC9CLEtBQUttUyxNQUFRLE9BaUJ6QnNrQyxHQUFBempELFVBQUk4RixPQUFBLFNBQU9xcUIsR0FFUCxJQUFRNHpCLEVBaUJKLGtCQW5CaUJwMEIsWUFBWUYsT0FtQnpCVSxFQUFjbmpCLEtBQUsraUIsU0FDM0IsQ0FnQkksSUFkQWcwQixFQUFnQi8yQyxLQUFLKzJDLFVBQVk1ekIsRUFBY25qQixLQUFLK2lCLFVBR2hDL2lCLEtBQUsyMkMsZ0JBRWpCSSxFQUFZLzJDLEtBQUsyMkMsZUFHckJJLEdBQWEvMkMsS0FBS2czQyxNQU1kaDNDLEtBQUs0MkMsZUFBaUJHLEVBQVksRUFBSS8yQyxLQUFLNDJDLGNBRTNDLE9BR0o1MkMsS0FBSzgyQyxRQUFVQyxFQUNuQi8yQyxLQUFTcTJDLFVBQVlyMkMsS0FBSzgyQyxRQUFVemlCLEVBQVN5aEIsWUFTekMsSUFMQWx6QixJQUFNbHBCLEVBQU9zRyxLQUFLbVMsTUFHZGhLLEVBQVd6TyxFQUFLc1IsS0FFYjdDLEdBRVBBLEVBQWVBLEVBQVNnQixLQUFLbkosS0FBS3EyQyxXQUc3QjM4QyxFQUFLc1IsTUFFTmhMLEtBQUtzM0MsdUJBS1R0M0MsS0FBS3EyQyxVQUFZcjJDLEtBQUs4MkMsUUFBVTkyQyxLQUFLKzJDLFVBQVksRUFHckQvMkMsS0FBSytpQixTQUFXSSxHQWF4QncwQixHQUFRQyxJQUFBM2lELElBQUEsV0FFQSxPQUFPLElBQU8rSyxLQUFLKzJDLFdBYzNCWSxHQUFRRSxPQUFBNWlELElBQUEsV0FFQSxPQUFPLElBQU8rSyxLQUFLMjJDLGVBRzNCZ0IsR0FBUUUsT0FBQTNpRCxJQUFBLFNBQU80aUQsR0FHUGwxQixJQUFNaTFCLEVBQVNqc0MsS0FBSzhRLElBQUkxYyxLQUFLKzNDLE9BQVFELEdBRy9CRSxFQUFVcHNDLEtBQUs4USxJQUFJOVEsS0FBS0MsSUFBSSxFQUFHZ3NDLEdBQVUsSUFBTXhqQixFQUFTeWhCLGFBRTlEOTFDLEtBQUsyMkMsY0FBZ0IsRUFBSXFCLEdBYWpDTCxHQUFRSSxPQUFBOWlELElBQUEsV0FFSixPQUFRK0ssS0FBSzQyQyxjQUVFLElBQU81MkMsS0FBSzQyQyxjQUdPLElBQXZCdmlCLEVBQVN5aEIsYUFHeEI2QixHQUFRSSxPQUFBN2lELElBQUEsU0FBTzRpRCxHQUVQLEdBQUlBLEVBQU0sS0FBUXpqQixFQUFTeWhCLFlBRXZCOTFDLEtBQUs0MkMsY0FBZ0IsTUFHN0IsQ0FFUWgwQixJQUFNbTFCLEVBQVNuc0MsS0FBS0MsSUFBSTdMLEtBQUs2M0MsT0FBUUMsR0FHL0JHLEVBQVVyc0MsS0FBSzhRLElBQUk5USxLQUFLQyxJQUFJLEVBQUdrc0MsR0FBVSxJQUFNMWpCLEVBQVN5aEIsYUFFOUQ5MUMsS0FBSzQyQyxjQUFnQixFQUFJcUIsSUErQ3JDQyxHQUFlQyxPQUFBbGpELElBQUEsV0FFUCxJQUFLd2hELEdBQU8yQixRQUNoQixDQUNJLElBQVVELEVBQVMxQixHQUFPMkIsUUFBVSxJQUFJM0IsR0FFcEMwQixFQUFPdEIsV0FBWSxFQUNuQnNCLEVBQU9sQixZQUFhLEVBR3hCLE9BQU9SLEdBQU8yQixTQWF0QkYsR0FBZUcsT0FBQXBqRCxJQUFBLFdBRVAsSUFBS3doRCxHQUFPNkIsUUFDaEIsQ0FDSSxJQUFVRCxFQUFTNUIsR0FBTzZCLFFBQVUsSUFBSTdCLEdBRXBDNEIsRUFBT3hCLFdBQVksRUFDbkJ3QixFQUFPcEIsWUFBYSxFQUd4QixPQUFPUixHQUFPNkIsaUZDeGxCUCxJQUFNQyxHQUFZLGdCQVN0QnJTLEtBQUEsU0FBS2xzQyxjQUdSQSxFQUFVakgsT0FBTzB1QixPQUFPLENBQ3hCbzFCLFdBQWUsRUFDZjJCLGNBQWtCLEdBQ2Z4K0MsR0FHSGpILE9BQU9xQyxlQUFlNEssS0FBTSxTQUM1QixDQUNJOUssSUFBQSxTQUFRdWpELEdBRUl6NEMsS0FBSzA0QyxTQUVMMTRDLEtBQUswNEMsUUFBUXZtQixPQUFPbnlCLEtBQUtxdkMsT0FBUXJ2QyxNQUVyQ0EsS0FBSzA0QyxRQUFVRCxFQUNYQSxHQUVBQSxFQUFPenFCLElBQUlodUIsS0FBS3F2QyxPQUFRcnZDLEtBQU0rMUMsR0FBZ0JwYSxNQUd0RDFtQyxJQUFBLFdBRUksT0FBTytLLEtBQUswNEMsV0FTeEIxNEMsS0FBS29OLEtBQUksV0FFTHBOLEVBQUswNEMsUUFBUXRyQyxRQVFqQnBOLEtBQUtrTCxNQUFLLFdBRU5sTCxFQUFLMDRDLFFBQVF4dEMsU0FXakJsTCxLQUFLMDRDLFFBQVUsS0FVZjE0QyxLQUFLeTRDLE9BQVN6K0MsRUFBUXcrQyxhQUFlL0IsR0FBTzBCLE9BQVMsSUFBSTFCLEdBR3JEejhDLEVBQVE2OEMsV0FFUjcyQyxLQUFLa0wsU0FVakJxdEMsR0FBVy9ZLFFBQUEsV0FFUCxHQUFReC9CLEtBQUswNEMsUUFDYixDQUNROTFCLElBQU0rMUIsRUFBWTM0QyxLQUFLMDRDLFFBRXZCMTRDLEtBQUt5NEMsT0FBUyxLQUNkRSxFQUFVblo7Ozs7Ozs7O0FDdEdQLElBQU1vWixHQU1qQixTQUFZcGpCLEVBQVdDLGtCQUFILGtCQUFZLEdBTzVCejFCLEtBQUtpeUMsT0FBU3pjLEVBT2R4MUIsS0FBS2t5QyxRQUFVemMsRUFRZnoxQixLQUFLNjRDLFdBQVksRUFVakI3NEMsS0FBSzg0QyxVQUFXLEVBUXBCOTRDLEtBQVMrNEMsU0FBVyxJQUFJekQsR0FBTyxjQUFlLEdBUTlDdDFDLEtBQVNnNUMsU0FBVyxJQUFJMUQsR0FBTyx5RkFRbkNzRCxHQUFBNWxELFVBQUlnTCxLQUFBLFNBQUtpN0MsR0FFTGo1QyxLQUFTKzRDLFNBQVMvcUIsSUFBSWlyQixHQUN0Qmo1QyxLQUFTZzVDLFNBQVNockIsSUFBSWlyQixJQUlkajVDLEtBQUtpeUMsUUFBVWp5QyxLQUFLa3lDLFVBRXBCbHlDLEtBQUsrNEMsU0FBU3B5QixJQUFJM21CLEtBQUtpeUMsT0FBUWp5QyxLQUFLa3lDLFVBU2hEMEcsR0FBQTVsRCxVQUFJa21ELE9BQUEsU0FBT0QsR0FFUGo1QyxLQUFTKzRDLFNBQVM1bUIsT0FBTzhtQixHQUN6Qmo1QyxLQUFTZzVDLFNBQVM3bUIsT0FBTzhtQixJQU03QkwsR0FBQTVsRCxVQUFJb3RDLE9BQUEsU0FBTzVLLEVBQU9DLEdBRU5ELElBQVV4MUIsS0FBS2l5QyxRQUFVeGMsSUFBV3oxQixLQUFLa3lDLFVBRXpDbHlDLEtBQUtpeUMsT0FBU3pjLEVBQ2R4MUIsS0FBS2t5QyxRQUFVemMsRUFDbkJ6MUIsS0FBUys0QyxTQUFTcHlCLElBQUk2TyxFQUFPQyxLQVNyQzBqQixHQUFRQyxNQUFBbmtELElBQUEsV0FFQSxRQUFTK0ssS0FBS2l5QyxVQUFZanlDLEtBQUtreUMsU0FNdkMwRyxHQUFBNWxELFVBQUk4RixPQUFBLFdBRVNrSCxLQUFLNjRDLFdBRU43NEMsS0FBS2c1QyxTQUFTcnlCLE9BVTFCaXlCLEdBQUE1bEQsVUFBSXFsQixLQUFBLFdBRUksT0FBT2xnQixRQUFRQyxXQVN2QitnRCxHQUFRM2pCLE1BQUF2Z0MsSUFBQSxXQUVBLE9BQU8rSyxLQUFLaXlDLFFBU3BCa0gsR0FBUTFqQixPQUFBeGdDLElBQUEsV0FFQSxPQUFPK0ssS0FBS2t5QyxTQVdwQjBHLEdBQUE1bEQsVUFBSXFtRCxPQUFBLFNBQU8vSixFQUFVMkosRUFBYUssR0FFOUIsT0FBVyxHQVdmVixHQUFBNWxELFVBQUltK0IsTUFBQSxTQUFNbWUsRUFBVTJKLEVBQWFLLEdBRTdCLE9BQVcsR0FRZlYsR0FBQTVsRCxVQUFJNkQsUUFBQSxhQVVKK2hELEdBQUE1bEQsVUFBSXdzQyxRQUFBLFdBRVN4L0IsS0FBSzY0QyxZQUVONzRDLEtBQUsrNEMsU0FBU25ELFlBQ2Q1MUMsS0FBSys0QyxTQUFXLEtBQ2hCLzRDLEtBQUtnNUMsU0FBU3BELFlBQ2Q1MUMsS0FBS2c1QyxTQUFXLEtBQ2hCaDVDLEtBQUs2NEMsV0FBWSxFQUNqQjc0QyxLQUFLbkoscURDNU1qQixJQUFxQjBpRCxHQUFpQixTQUFBbnlDLEdBS2xDLFNBQUFveUMsRUFBWXI0QyxHQUVSeWhCLElBQU00UyxFQUFRcjBCLEVBQU9zNEMsY0FBZ0J0NEMsRUFBT3U0QyxZQUFjdjRDLEVBQU9xMEIsTUFDM0RDLEVBQVN0MEIsRUFBT3c0QyxlQUFpQng0QyxFQUFPeTRDLGFBQWV6NEMsRUFBT3MwQixPQUVwRTZYLE9BQUt0dEMsS0FBQ3cxQixFQUFPQyxHQU9iejFCLEtBQUttQixPQUFTQSxnR0FVbEJxNEMsRUFBT2xrQyxZQUFBLFNBQVl1a0MsRUFBUzMyQyxFQUFLNDJDLFFBRVRyakQsSUFBaEJxakQsR0FBc0QsSUFBekI1MkMsRUFBSTFPLFFBQVEsU0FFekNxbEQsRUFBUXZrQyxZQUFjMHJCLEdBQXFCOTlCLElBRXRCLElBQWhCNDJDLElBRUxELEVBQVF2a0MsWUFBcUMsaUJBQWhCd2tDLEVBQTJCQSxFQUFjLDBCQVk5RVQsT0FBQSxTQUFPL0osRUFBVTJKLEVBQWFLLEVBQVduNEMsR0FFckN5aEIsSUFBTStaLEVBQUsyUyxFQUFTM1MsR0FDZG5ILEVBQVF5akIsRUFBWWMsVUFDcEJ0a0IsRUFBU3dqQixFQUFZZSxXQWtCM0IsT0FoQkE3NEMsRUFBU0EsR0FBVW5CLEtBQUttQixPQUV4Qnc3QixFQUFHc2QsWUFBWXRkLEVBQUd1ZCwrQkFBZ0NqQixFQUFZa0Isa0JBRTFEbEIsRUFBWW5vQyxTQUFXNnJCLEVBQUdoRCxZQUFjMmYsRUFBVTlqQixRQUFVQSxHQUFTOGpCLEVBQVU3akIsU0FBV0EsRUFFMUZrSCxFQUFHeWQsY0FBY3pkLEVBQUdoRCxXQUFZLEVBQUcsRUFBRyxFQUFHc2YsRUFBWTMzQyxPQUFRMjNDLEVBQVlwK0MsS0FBTXNHLElBSS9FbTRDLEVBQVU5akIsTUFBUUEsRUFDbEI4akIsRUFBVTdqQixPQUFTQSxFQUVuQmtILEVBQUcwZCxXQUFXcEIsRUFBWW5vQyxPQUFRLEVBQUdtb0MsRUFBWTMzQyxPQUFRMjNDLEVBQVkzM0MsT0FBUTIzQyxFQUFZcCtDLEtBQU1zRyxLQUc1RixlQU9YckksT0FBQSxXQUVJLElBQUlrSCxLQUFLNjRDLFVBQVQsQ0FLQWoyQixJQUFNNFMsRUFBUXgxQixLQUFLbUIsT0FBT3M0QyxjQUFnQno1QyxLQUFLbUIsT0FBT3U0QyxZQUFjMTVDLEtBQUttQixPQUFPcTBCLE1BQzFFQyxFQUFTejFCLEtBQUttQixPQUFPdzRDLGVBQWlCMzVDLEtBQUttQixPQUFPeTRDLGFBQWU1NUMsS0FBS21CLE9BQU9zMEIsT0FFbkZ6MUIsS0FBS29nQyxPQUFPNUssRUFBT0MsR0FFbkI2WCxZQUFNeDBDLE9BQUE1RixLQUFNOE0sb0JBU2hCbkosUUFBQSxXQUVJbUosS0FBS21CLE9BQVMsUUFuR2dCLENBQVN5M0MsSUNBMUIwQixHQUFhLFNBQUFkLEdBVTlCLFNBQUFlLEVBQVlwNUMsRUFBUW5ILEdBSWhCLEdBRkFBLEVBQVVBLEdBQVcsS0FFZm1ILGFBQWtCcTVDLGtCQUN4QixDQUNJNTNCLElBQU02M0IsRUFBZSxJQUFJMWdDLE1BRXpCeS9CLEVBQWtCbGtDLFlBQVltbEMsRUFBY3Q1QyxFQUFRbkgsRUFBUTgvQyxhQUU1RFcsRUFBYWhoRCxJQUFNMEgsRUFDbkJBLEVBQVNzNUMsRUFHYm5OLE9BQUt0dEMsS0FBQ21CLEdBTU5uQixLQUFLa0QsSUFBTS9CLEVBQU8xSCxJQU9sQnVHLEtBQUswNkMsU0FBVyxLQU9oQjE2QyxLQUFLMjZDLGdCQUFpQixFQU90QjM2QyxLQUFLNDZDLG1CQUF5Q25rRCxJQUF6QnVELEVBQVE0Z0QsYUFDdkI1Z0QsRUFBUTRnRCxhQUFldm1CLEVBQVM4Qix3QkFBMEIxakMsT0FBT29vRCxrQkFRdkU3NkMsS0FBS202QyxrQkFBZ0QsSUFBN0JuZ0QsRUFBUW1nRCxpQkFPaENuNkMsS0FBSzg2QyxPQUFTLEtBUWQ5NkMsS0FBSys2QyxNQUFRLE1BRVksSUFBckIvZ0QsRUFBUWdoRCxVQUVSaDdDLEtBQUtxWSxpSEFVYkEsS0FBQSxTQUFLdWlDLGNBT0QsWUFMcUJua0QsSUFBakJta0QsSUFFQTU2QyxLQUFLNDZDLGFBQWVBLEdBR3BCNTZDLEtBQUsrNkMsTUFFRS82QyxLQUFLKzZDLE9BR2hCLzZDLEtBQUsrNkMsTUFBUSxJQUFJNWlELFFBQU8sU0FBRUMsR0FFdEI0SCxFQUFLa0QsSUFBTWxELEVBQUttQixPQUFPMUgsSUFDdkIsSUFBUTBILEVBQVduQixFQUFYbUIsT0FFRjg1QyxFQUFTLFdBRVBqN0MsRUFBSzY0QyxZQUlUMTNDLEVBQU95WSxPQUFTLEtBQ2hCelksRUFBT3NZLFFBQVUsS0FFakJ6WixFQUFLb2dDLE9BQU9qL0IsRUFBT3EwQixNQUFPcjBCLEVBQU9zMEIsUUFDakN6MUIsRUFBSys2QyxNQUFRLEtBRVQvNkMsRUFBSzQ2QyxhQUVMeGlELEVBQVE0SCxFQUFLc1UsV0FJYmxjLEVBQVE0SCxLQUlabUIsRUFBT2dWLFVBQVloVixFQUFPMUgsSUFFMUJ3aEQsSUFJQTk1QyxFQUFPeVksT0FBU3FoQyxJQUlqQmo3QyxLQUFLKzZDLG9CQVNoQnptQyxRQUFBLHNCQUVJLE9BQXNCLE9BQWxCdFUsS0FBSzA2QyxTQUVFMTZDLEtBQUswNkMsU0FFSSxPQUFoQjE2QyxLQUFLODZDLFFBQW9Ccm9ELE9BQU9vb0QsbUJBS3BDNzZDLEtBQUswNkMsU0FBV2pvRCxPQUFPb29ELGtCQUFrQjc2QyxLQUFLbUIsT0FDMUMsRUFBRyxFQUFHbkIsS0FBS21CLE9BQU9xMEIsTUFBT3gxQixLQUFLbUIsT0FBT3MwQixPQUNyQyxDQUNJMGtCLGlCQUFrQm42QyxLQUFLbTZDLGlCQUFtQixjQUFnQixTQUU3RDNrRCxLQUFJLFNBQUVzbEQsR0FFSCxPQUFJOTZDLEVBQUs2NEMsVUFFRTFnRCxRQUFRRSxVQUVuQjJILEVBQUs4NkMsT0FBU0EsRUFDZDk2QyxFQUFLbEgsU0FDTGtILEVBQUswNkMsU0FBVyxLQUVUdmlELFFBQVFDLFFBQVE0SCxNQUd4QkEsS0FBSzA2QyxVQXJCRHZpRCxRQUFRQyxRQUFRNEgsbUJBZ0MvQnE1QyxPQUFBLFNBQU8vSixFQUFVMkosRUFBYUssR0FJMUIsR0FGQUwsRUFBWWtCLGlCQUFtQm42QyxLQUFLbTZDLGtCQUUvQm42QyxLQUFLNDZDLGFBRU4sT0FBT3ROLFlBQU0rTCxPQUFBbm1ELEtBQU04TSxLQUFDc3ZDLEVBQVUySixFQUFhSyxHQUUvQyxJQUFLdDVDLEtBQUs4NkMsU0FHTjk2QyxLQUFLc1UsV0FDQXRVLEtBQUs4NkMsUUFFTixPQUFPLEVBTWYsR0FGQXhOLFlBQU0rTCxPQUFBbm1ELEtBQU04TSxLQUFDc3ZDLEVBQVUySixFQUFhSyxFQUFXdDVDLEtBQUs4NkMsU0FFL0M5NkMsS0FBSzI2QyxlQUNWLENBR0k3M0IsSUFBSXhKLEdBQU8sRUFFWCxJQUFLc0osSUFBTTdrQixLQUFPazdDLEVBQVlpQyxZQUM5QixDQUNJdDRCLElBQU11NEIsRUFBV2xDLEVBQVlpQyxZQUFZbjlDLEdBRXpDLEdBQUlvOUMsSUFBYTdCLEdBQWE2QixFQUFTQyxVQUFZbkMsRUFBWW1DLFFBQy9ELENBQ0k5aEMsR0FBTyxFQUNQLE9BSUpBLElBRUl0WixLQUFLODZDLE9BQU90MkIsT0FFWnhrQixLQUFLODZDLE9BQU90MkIsUUFHaEJ4a0IsS0FBSzg2QyxPQUFTLE1BSXRCLE9BQU8sZUFPWGprRCxRQUFBLFdBRUl5MkMsWUFBTXoyQyxRQUFBM0QsS0FBTzhNLE1BRVRBLEtBQUs4NkMsU0FFTDk2QyxLQUFLODZDLE9BQU90MkIsUUFDWnhrQixLQUFLODZDLE9BQVMsTUFFbEI5NkMsS0FBSzA2QyxTQUFXLEtBQ2hCMTZDLEtBQUsrNkMsTUFBUSxRQTVQYSxDQUFTeEIsSUNtQjlCOEIsR0FBWSxHQStCbEIsU0FBU0MsR0FBbUJuNkMsRUFBUW5ILEdBRXZDLElBQUttSCxFQUVELE9BQU8sS0FHWDJoQixJQUFJMU4sRUFBWSxHQUVoQixHQUFzQixpQkFBWGpVLEVBQ1gsQ0FFSXloQixJQUFNOW9CLEVBQVMseUJBQTJCZ0ssS0FBSzNDLEdBRTNDckgsSUFFQXNiLEVBQVl0YixFQUFPLEdBQUdvSyxlQUk5QixJQUFLNGUsSUFBSXBzQixFQUFJMmtELEdBQVUxa0QsT0FBUyxFQUFHRCxHQUFLLElBQUtBLEVBQzdDLENBQ0lrc0IsSUFBTTI0QixFQUFpQkYsR0FBVTNrRCxHQUVqQyxHQUFJNmtELEVBQWUzOEMsTUFBUTI4QyxFQUFlMzhDLEtBQUt1QyxFQUFRaVUsR0FFbkQsT0FBTyxJQUFJbW1DLEVBQWVwNkMsRUFBUW5ILEdBTTFDLE9BQU8sSUFBSXNnRCxHQUFjbjVDLEVBQVFuSCxHQy9FckMsSUFBcUJ3aEQsR0FBYyxTQUFBcDBDLEdBUS9CLFNBQUFvMEMsRUFBWXI2QyxFQUFRbkgsR0FFaEIsSUFBQTBxQixFQUEwQjFxQixHQUFXLEdBQTdCdzdCLEVBQUE5USxFQUFBOFEsTUFBT0MsRUFBQS9RLEVBQUErUSxPQUVmLElBQUtELElBQVVDLEVBRVgsTUFBTSxJQUFJeDlCLE1BQU0sMENBR3BCcTFDLE9BQUt0dEMsS0FBQ3cxQixFQUFPQyxHQVFiejFCLEtBQUtySSxLQUFPd0osNEdBVWhCazRDLE9BQUEsU0FBTy9KLEVBQVUySixFQUFhSyxHQUUxQjEyQixJQUFNK1osRUFBSzJTLEVBQVMzUyxHQUlwQixHQUZBQSxFQUFHc2QsWUFBWXRkLEVBQUd1ZCwrQkFBZ0NqQixFQUFZa0Isa0JBRTFEYixFQUFVOWpCLFFBQVV5akIsRUFBWXpqQixPQUFTOGpCLEVBQVU3akIsU0FBV3dqQixFQUFZeGpCLE9BRTFFa0gsRUFBR3lkLGNBQ0NuQixFQUFZbm9DLE9BQ1osRUFDQSxFQUNBLEVBQ0Ftb0MsRUFBWXpqQixNQUNaeWpCLEVBQVl4akIsT0FDWndqQixFQUFZMzNDLE9BQ1oyM0MsRUFBWXArQyxLQUNabUYsS0FBS3JJLFVBSWIsQ0FDSTJoRCxFQUFVOWpCLE1BQVF5akIsRUFBWXpqQixNQUM5QjhqQixFQUFVN2pCLE9BQVN3akIsRUFBWXhqQixPQUUvQjNTLElBQUkyNEIsRUFBaUJ4QyxFQUFZMzNDLE9BSUssSUFBbENndUMsRUFBU3huQyxRQUFRNHpDLGNBQ2R6QyxFQUFZcCtDLE9BQVN5MEMsRUFBUzNTLEdBQUdqQyxPQUNqQ3VlLEVBQVkzM0MsU0FBV2d1QyxFQUFTM1MsR0FBR3hELE9BRXRDc2lCLEVBQWlCbk0sRUFBUzNTLEdBQUdnZixTQUdqQ2hmLEVBQUcwZCxXQUNDcEIsRUFBWW5vQyxPQUNaLEVBQ0EycUMsRUFDQXhDLEVBQVl6akIsTUFDWnlqQixFQUFZeGpCLE9BQ1osRUFDQXdqQixFQUFZMzNDLE9BQ1oyM0MsRUFBWXArQyxLQUNabUYsS0FBS3JJLE1BSWIsT0FBTyxlQU9YZCxRQUFBLFdBRUltSixLQUFLckksS0FBTyxNQVVoQjZqRCxFQUFPNThDLEtBQUEsU0FBS3VDLEdBRVIsT0FBT0EsYUFBa0J5aUIsY0FDbEJ6aUIsYUFBa0I0aUIsWUFDbEI1aUIsYUFBa0IwaUIsZUEzR0UsQ0FBUyswQixJQ0h0Q2dELEdBQXVCLENBQ3pCQyxVQUFXamhCLEVBQVlFLFFBQ3ZCeDVCLE9BQVE0M0IsRUFBUUMsS0FDaEJnaEIsa0JBQWtCLEdBMkJEMkIsR0FBVyxTQUFBdHpDLEdBRTVCLFNBQUF1ekMsRUFBWXB0QixFQUFpQjMwQixrQkFBTixxQkFBZ0IsTUFFbkNzekMsT0FBS3R0QyxNQUlMLElBQUFtNkMsR0FGQW5nRCxFQUFVQSxHQUFXLElBRXJCbWdELGlCQUEwQjZCLEVBQUFoaUQsRUFBQWdpRCxPQUFRSCxFQUFBN2hELEVBQUE2aEQsVUFBV3JtQixFQUFBeDdCLEVBQUF3N0IsTUFBT0MsRUFBQXo3QixFQUFBeTdCLE9BQ2hEd21CLEVBQUFqaUQsRUFBQWlpRCxTQUFVMzZDLEVBQUF0SCxFQUFBc0gsT0FBUXpHLEVBQUFiLEVBQUFhLEtBQU1pVyxFQUFBOVcsRUFBQThXLE9BQVFxdkIsRUFBQW5tQyxFQUFBbW1DLFdBQVkrYixFQUFBbGlELEVBQUFraUQsaUJBRzVDdnRCLEdBQWNBLGFBQW9CaXFCLE1BRWxDanFCLEVBQVcyc0IsR0FBbUIzc0IsRUFBVXV0QixJQUMvQnBELFVBQVcsR0FTeEI5NEMsS0FBS3cxQixNQUFRQSxHQUFTLEVBUXRCeDFCLEtBQUt5MUIsT0FBU0EsR0FBVSxFQVF4QnoxQixLQUFLbWdDLFdBQWFBLEdBQWM5TCxFQUFTRSxXQVF6Q3YwQixLQUFLZzhDLFlBQW9CdmxELElBQVh1bEQsRUFBdUJBLEVBQVMzbkIsRUFBU0MsZ0JBTXZEdDBCLEtBQUtpOEMsU0FBV0EsR0FBWTVuQixFQUFTeUIsVUFRckM5MUIsS0FBSzY3QyxlQUEwQnBsRCxJQUFkb2xELEVBQTBCQSxFQUFZeG5CLEVBQVMwQixXQVFoRS8xQixLQUFLc0IsT0FBU0EsR0FBVTQzQixFQUFRQyxLQVFoQ241QixLQUFLbkYsS0FBT0EsR0FBUXUvQixFQUFNQyxjQVExQnI2QixLQUFLOFEsT0FBU0EsR0FBVTRvQixFQUFRQyxXQVFoQzM1QixLQUFLbTZDLGtCQUF3QyxJQUFyQkEsRUFReEJuNkMsS0FBS2cvQixJQUFNQSxJQVFYaC9CLEtBQUttOEMsUUFBVSxFQVVmbjhDLEtBQUtvOEMsY0FBZSxFQUNwQnA4QyxLQUFLcThDLGNBUUxyOEMsS0FBS2s3QyxZQUFjLEdBUW5CbDdDLEtBQUtvN0MsUUFBVSxFQVFmcDdDLEtBQUtzOEMsYUFBZSxFQU9wQnQ4QyxLQUFLdThDLFFBQVUsS0FPZnY4QyxLQUFLbzVDLE1BQVE1akIsRUFBUSxHQUFLQyxFQUFTLEVBU25DejFCLEtBQUt3OEMsZ0JBQWtCLEdBUXZCeDhDLEtBQUs2NEMsV0FBWSxFQVVqQjc0QyxLQUFLMnVCLFNBQVcsS0FPaEIzdUIsS0FBS3k4QyxjQUFnQixFQW1EckJ6OEMsS0FBSzA4QyxZQUFZL3RCLGtLQVNyQndhLEVBQUk0USxVQUFBOWtELElBQUEsV0FFQSxPQUFPK0ssS0FBS3cxQixNQUFReDFCLEtBQUttZ0MsWUFTN0JnSixFQUFJNlEsV0FBQS9rRCxJQUFBLFdBRUEsT0FBTytLLEtBQUt5MUIsT0FBU3oxQixLQUFLbWdDLHdCQVU5QndjLFNBQUEsU0FBU2QsRUFBV0csR0FFaEJsNUIsSUFBSTg1QixFQW1CSixZQWpCa0JubUQsSUFBZG9sRCxHQUEyQkEsSUFBYzc3QyxLQUFLNjdDLFlBRTlDNzdDLEtBQUs2N0MsVUFBWUEsRUFDakJlLEdBQVEsUUFHR25tRCxJQUFYdWxELEdBQXdCQSxJQUFXaDhDLEtBQUtnOEMsU0FFeENoOEMsS0FBS2c4QyxPQUFTQSxFQUNkWSxHQUFRLEdBR1JBLEdBRUE1OEMsS0FBS3M4QyxlQUdGdDhDLGtCQVdYNjhDLFFBQUEsU0FBUXJuQixFQUFPQyxFQUFRMEssR0FRbkIsT0FOQW5nQyxLQUFLbWdDLFdBQWFBLEdBQWNuZ0MsS0FBS21nQyxXQUNyQ25nQyxLQUFLdzFCLE1BQVFBLEVBQ2J4MUIsS0FBS3kxQixPQUFTQSxFQUNkejFCLEtBQUtxOEMsY0FDTHI4QyxLQUFLbEgsU0FFRWtILGtCQVdYODhDLFlBQUEsU0FBWS9DLEVBQVdDLEVBQVk3WixHQVEvQixPQU5BbmdDLEtBQUttZ0MsV0FBYUEsR0FBY25nQyxLQUFLbWdDLFdBQ3JDbmdDLEtBQUt3MUIsTUFBUXVrQixFQUFZLzVDLEtBQUttZ0MsV0FDOUJuZ0MsS0FBS3kxQixPQUFTdWtCLEVBQWFoNkMsS0FBS21nQyxXQUNoQ25nQyxLQUFLcThDLGNBQ0xyOEMsS0FBS2xILFNBRUVrSCxrQkFRWHE4QyxZQUFBLFdBRUlyOEMsS0FBS284QyxhQUFlbGQsRUFBT2wvQixLQUFLKzVDLFlBQWM3YSxFQUFPbC9CLEtBQUtnNkMseUJBUzlEK0MsY0FBQSxTQUFjNWMsR0FFVnZkLElBQU1vNkIsRUFBZ0JoOUMsS0FBS21nQyxXQUUzQixPQUFJNmMsSUFBa0I3YyxFQUVYbmdDLE1BR1hBLEtBQUttZ0MsV0FBYUEsRUFFZG5nQyxLQUFLbzVDLFFBRUxwNUMsS0FBS3cxQixNQUFReDFCLEtBQUt3MUIsTUFBUXduQixFQUFnQjdjLEVBQzFDbmdDLEtBQUt5MUIsT0FBU3oxQixLQUFLeTFCLE9BQVN1bkIsRUFBZ0I3YyxFQUM1Q25nQyxLQUFLbUosS0FBSyxTQUFVbkosT0FHeEJBLEtBQUtxOEMsY0FFRXI4QyxtQkFTWDA4QyxZQUFBLFNBQVkvdEIsR0FFUixHQUFJM3VCLEtBQUsydUIsV0FBYUEsRUFFbEIsT0FBTzN1QixLQUdYLEdBQUlBLEtBQUsydUIsU0FFTCxNQUFNLElBQUkxMkIsTUFBTSxpQ0FPcEIsT0FKQTAyQixFQUFTM3dCLEtBQUtnQyxNQUVkQSxLQUFLMnVCLFNBQVdBLEVBRVQzdUIsa0JBTVhsSCxPQUFBLFdBRVNrSCxLQUFLbzVDLE9BV05wNUMsS0FBS283QyxVQUNMcDdDLEtBQUtzOEMsZUFDTHQ4QyxLQUFLbUosS0FBSyxTQUFVbkosT0FYaEJBLEtBQUt3MUIsTUFBUSxHQUFLeDFCLEtBQUt5MUIsT0FBUyxJQUVoQ3oxQixLQUFLbzVDLE9BQVEsRUFDYnA1QyxLQUFLbUosS0FBSyxTQUFVbkosTUFDcEJBLEtBQUttSixLQUFLLFNBQVVuSixvQkFnQmhDdy9CLFFBQUEsV0FHUXgvQixLQUFLMnVCLFdBRUwzdUIsS0FBSzJ1QixTQUFTdXFCLE9BQU9sNUMsTUFFakJBLEtBQUsydUIsU0FBU21xQixVQUVkOTRDLEtBQUsydUIsU0FBUzZRLFVBRWxCeC9CLEtBQUsydUIsU0FBVyxNQUdoQjN1QixLQUFLdThDLGlCQUVFamQsR0FBaUJ0L0IsS0FBS3U4QyxnQkFDdEJsZCxHQUFhci9CLEtBQUt1OEMsU0FFekJ2OEMsS0FBS3U4QyxRQUFVLE1BSW5CdjhDLEtBQUtuSixVQUVMa2xELEVBQVlrQixnQkFBZ0JqOUMsTUFDNUJBLEtBQUt3OEMsZ0JBQWtCLEtBRXZCeDhDLEtBQUs2NEMsV0FBWSxlQVVyQmhpRCxRQUFBLFdBRUltSixLQUFLbUosS0FBSyxVQUFXbkosT0FlekIrN0MsRUFBTzc1QixLQUFBLFNBQUsvZ0IsRUFBUW5ILEdBRWhCOG9CLElBQUl5NUIsRUFBVSxLQUVRLGlCQUFYcDdDLEVBRVBvN0MsRUFBVXA3QyxHQUlMQSxFQUFPKzdDLFVBRVIvN0MsRUFBTys3QyxRQUFVLFVBQVVsZSxLQUcvQnVkLEVBQVVwN0MsRUFBTys3QyxTQUdyQnA2QixJQUFJbTJCLEVBQWMzWixHQUFpQmlkLEdBU25DLE9BUEt0RCxLQUVEQSxFQUFjLElBQUk4QyxFQUFZNTZDLEVBQVFuSCxJQUMxQnVpRCxRQUFVQSxFQUN0QlIsRUFBWW9CLFdBQVdsRSxFQUFhc0QsSUFHakN0RCxHQWNYOEMsRUFBT3FCLFdBQUEsU0FBV3JwQyxFQUFReWhCLEVBQU9DLEVBQVF6N0IsR0FFckMrWixFQUFTQSxHQUFVLElBQUk2UCxhQUFhNFIsRUFBUUMsRUFBUyxHQUVyRDdTLElBQU0rTCxFQUFXLElBQUk2c0IsR0FBZXpuQyxFQUFRLENBQUF5aEIsTUFBRUEsRUFBS0MsT0FBRUEsSUFDL0M1NkIsRUFBT2taLGFBQWtCNlAsYUFBZXdXLEVBQU1NLE1BQVFOLEVBQU1DLGNBRWxFLE9BQU8sSUFBSTBoQixFQUFZcHRCLEVBQVU1N0IsT0FBTzB1QixPQUFPbTZCLEdBQXNCNWhELEdBQVcsQ0FBQXc3QixNQUFFQSxFQUFLQyxPQUFFQSxFQUFNNTZCLEtBQUVBLE1BVXJHa2hELEVBQU9vQixXQUFBLFNBQVdsRSxFQUFhamhELEdBRXZCQSxLQUVpRCxJQUE3Q2loRCxFQUFZdUQsZ0JBQWdCaG9ELFFBQVF3RCxJQUVwQ2loRCxFQUFZdUQsZ0JBQWdCL25ELEtBQUt1RCxHQUdqQ3NuQyxHQUFpQnRuQyxJQUdqQnJELFFBQVFDLEtBQUksOENBQStDb0QsRUFBRSwrQkFHakVzbkMsR0FBaUJ0bkMsR0FBTWloRCxJQVcvQjhDLEVBQU9rQixnQkFBQSxTQUFnQmhFLEdBRW5CLEdBQTJCLGlCQUFoQkEsRUFDWCxDQUNJcjJCLElBQU15NkIsRUFBdUIvZCxHQUFpQjJaLEdBRTlDLEdBQUlvRSxFQUNKLENBQ0l6NkIsSUFBTW5HLEVBQVE0Z0MsRUFBcUJiLGdCQUFnQmhvRCxRQUFReWtELEdBUzNELE9BUEl4OEIsR0FBUyxHQUVUNGdDLEVBQXFCYixnQkFBZ0J2bEQsT0FBT3dsQixFQUFPLFVBR2hENmlCLEdBQWlCMlosR0FFakJvRSxRQUdWLEdBQUlwRSxHQUFlQSxFQUFZdUQsZ0JBQ3BDLENBQ0ksSUFBSzE1QixJQUFJcHNCLEVBQUksRUFBR0EsRUFBSXVpRCxFQUFZdUQsZ0JBQWdCN2xELFNBQVVELFNBRS9DNG9DLEdBQWlCMlosRUFBWXVELGdCQUFnQjlsRCxJQUt4RCxPQUZBdWlELEVBQVl1RCxnQkFBZ0I3bEQsT0FBUyxFQUU5QnNpRCxFQUdYLE9BQU8sK0NBeGxCaUIsQ0FBU2hKLEVBQUEvMEMsR0FrbUJ6QzRnRCxHQUFZd0IsYUFBZSxFQ3huQjNCLElBQXFCQyxHQUFhLFNBQUFuMkMsR0FFOUIsU0FBQW8yQyxFQUFZcjhDLEVBQVFuSCxHQUloQjhvQixJQUFJMjZCLEVBRkp6akQsRUFBVUEsR0FBVyxHQUdyQjhvQixJQUFJbnNCLEVBQVN3SyxFQUVUOEgsTUFBTW1SLFFBQVFqWixLQUVkczhDLEVBQU90OEMsRUFDUHhLLEVBQVN3SyxFQUFPeEssUUFHcEIyMkMsT0FBS3R0QyxLQUFDaEcsRUFBUXc3QixNQUFPeDdCLEVBQVF5N0IsUUFPN0J6MUIsS0FBS3UxQyxNQUFRLEdBT2J2MUMsS0FBSzA5QyxhQUFlLEdBRXBCLElBQUs1NkIsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUlDLEVBQVFELElBQzVCLENBQ0lrc0IsSUFBTSs2QixFQUFjLElBQUk3QixHQUV4Qjk3QyxLQUFLdTFDLE1BQU05Z0QsS0FBS2twRCxHQUNoQjM5QyxLQUFLMDlDLGFBQWFqcEQsTUFBTSxHQW1CNUIsR0FWQXVMLEtBQUtySixPQUFTQSxFQVFkcUosS0FBSys2QyxNQUFRLEtBRVQwQyxFQUVBLElBQUszNkIsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUlDLEVBQVFELElBRXhCc0osS0FBSzQ5QyxjQUFjdEMsR0FBbUJtQyxFQUFLL21ELEdBQUlzRCxHQUFVdEQsNkdBU3JFRyxRQUFBLFdBRUksSUFBS2lzQixJQUFJcHNCLEVBQUksRUFBR2dULEVBQU0xSixLQUFLckosT0FBUUQsRUFBSWdULEVBQUtoVCxJQUV4Q3NKLEtBQUt1MUMsTUFBTTcrQyxHQUFHOG9DLFVBRWxCeC9CLEtBQUt1MUMsTUFBUSxLQUNidjFDLEtBQUswOUMsYUFBZSxLQUNwQjE5QyxLQUFLKzZDLE1BQVEsa0JBVWpCNkMsY0FBQSxTQUFjanZCLEVBQVVsUyxHQUlwQixJQUZvQnpjLEtBQUt1MUMsTUFBTTk0QixHQUkzQixNQUFNLElBQUl4a0IsTUFBSyxTQUFVd2tCLEVBQUsscUJBV2xDLE9BUElrUyxFQUFTeXFCLFFBQVVwNUMsS0FBS281QyxPQUV4QnA1QyxLQUFLb2dDLE9BQU96UixFQUFTNkcsTUFBTzdHLEVBQVM4RyxRQUd6Q3oxQixLQUFLdTFDLE1BQU05NEIsR0FBT2lnQyxZQUFZL3RCLEdBRXZCM3VCLGtCQVFYaEMsS0FBQSxTQUFLaTdDLEdBRUQzTCxZQUFNdHZDLEtBQUE5SyxLQUFJOE0sS0FBQ2k1QyxHQUVYQSxFQUFZbm9DLE9BQVM0b0IsRUFBUUcsaUJBRTdCLElBQUsvVyxJQUFJcHNCLEVBQUksRUFBR0EsRUFBSXNKLEtBQUtySixPQUFRRCxJQUU3QnNKLEtBQUt1MUMsTUFBTTcrQyxHQUFHbVQsR0FBRyxTQUFVb3ZDLEVBQVluZ0QsT0FBUW1nRCxnQkFTdkRDLE9BQUEsU0FBT0QsR0FFSDNMLFlBQU00TCxPQUFBaG1ELEtBQU04TSxLQUFDaTVDLEdBRWIsSUFBS24yQixJQUFJcHNCLEVBQUksRUFBR0EsRUFBSXNKLEtBQUtySixPQUFRRCxJQUU3QnNKLEtBQUt1MUMsTUFBTTcrQyxHQUFHcVQsSUFBSSxTQUFVa3ZDLEVBQVluZ0QsT0FBUW1nRCxnQkFTeEQ1Z0MsS0FBQSxzQkFFSSxHQUFJclksS0FBSys2QyxNQUVMLE9BQU8vNkMsS0FBSys2QyxNQUdoQm40QixJQUFNNkssRUFBWXp0QixLQUFLdTFDLE1BQU05NkMsSUFBRyxTQUFFVyxHQUFNLE9BQUdBLEVBQUt1ekIsV0FHMUN4TixFQUFXc00sRUFBVWh6QixJQUFHLFNBQUVXLEdBQU0sT0FBR0EsRUFBS2lkLFNBYTlDLE9BWEFyWSxLQUFLKzZDLE1BQVE1aUQsUUFBUStvQixJQUFJQyxHQUNwQjNyQixLQUFJLFdBRUQsSUFBQWt2QixFQUEwQitJLEVBQVUsR0FBNUIrSCxFQUFBOVEsRUFBQThRLE1BQU9DLEVBQUEvUSxFQUFBK1EsT0FJZixPQUZBejFCLEVBQUtvZ0MsT0FBTzVLLEVBQU9DLEdBRVp0OUIsUUFBUUMsUUFBUTRILEtBSXhCQSxLQUFLKzZDLG1CQVVoQjFCLE9BQUEsU0FBTy9KLEVBQVV1TyxFQUFTdkUsR0FFdEIsSUFBUTNpRCxFQUFnQ3FKLEtBQWhDckosT0FBUSttRCxFQUF3QjE5QyxLQUF4QjA5QyxhQUFjbkksRUFBVXYxQyxLQUFWdTFDLE1BQ3RCNVksRUFBQTJTLEVBQUEzUyxHQUVKMmMsRUFBVThCLFFBQVUsR0FFcEJ6ZSxFQUFHbWhCLFdBQ0NuaEIsRUFBRzlDLGlCQUNILEVBQ0Fna0IsRUFBUXY4QyxPQUNSdEIsS0FBS2l5QyxPQUNManlDLEtBQUtreUMsUUFDTHY3QyxFQUNBLEVBQ0FrbkQsRUFBUXY4QyxPQUNSdThDLEVBQVFoakQsS0FDUixNQUlSLElBQUtpb0IsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUlDLEVBQVFELElBQzVCLENBQ0lrc0IsSUFBTXhuQixFQUFPbTZDLEVBQU03K0MsR0FFZmduRCxFQUFhaG5ELEdBQUswRSxFQUFLZ2dELFVBRXZCc0MsRUFBYWhuRCxHQUFLMEUsRUFBS2dnRCxRQUNuQmhnRCxFQUFLZytDLE9BRUx6YyxFQUFHb2hCLGNBQ0NwaEIsRUFBRzlDLGlCQUNILEVBQ0EsRUFDQSxFQUNBbmpDLEVBQ0EwRSxFQUFLdXpCLFNBQVM2RyxNQUNkcDZCLEVBQUt1ekIsU0FBUzhHLE9BQ2QsRUFDQW9vQixFQUFRdjhDLE9BQ1J1OEMsRUFBUWhqRCxLQUNSTyxFQUFLdXpCLFNBQVN4dEIsU0FNOUIsT0FBTyxLQS9ObUIsQ0FBU3kzQyxJQ1J0Qm9GLEdBQWMsU0FBQXhFLHdJQVN4QjU2QyxLQUFBLFNBQUt1QyxHQUVSLE9BQVFBLGFBQWtCODhDLHFCQVhDLENBQVMxRSxJQ012QjJFLEdBQVksU0FBQVYsR0FFN0IsU0FBQVcsRUFBWWg5QyxFQUFRbkgsR0FNaEIsR0FKQUEsRUFBVUEsR0FBVyxHQUVyQnN6QyxPQUFLdHRDLEtBQUNtQixFQUFRbkgsR0FFVmdHLEtBQUtySixTQUFXd25ELEVBQWFDLE1BRTdCLE1BQU0sSUFBSW5tRCxNQUFLLHVCQUF3QitILEtBQUssT0FBTSxnQkFHdEQsSUFBSzhpQixJQUFJcHNCLEVBQUksRUFBR0EsRUFBSXluRCxFQUFhQyxNQUFPMW5ELElBRXBDc0osS0FBS3UxQyxNQUFNNytDLEdBQUdvYSxPQUFTNG9CLEVBQVFJLDRCQUE4QnBqQyxHQUd4QyxJQUFyQnNELEVBQVFnaEQsVUFFUmg3QyxLQUFLcVksaUhBVWJyYSxLQUFBLFNBQUtpN0MsR0FFRDNMLFlBQU10dkMsS0FBQTlLLEtBQUk4TSxLQUFDaTVDLEdBRVhBLEVBQVlub0MsT0FBUzRvQixFQUFRRSw4QkFRakN5ZixPQUFBLFNBQU8vSixFQUFVMkosRUFBYUssR0FJMUIsSUFGQTEyQixJQUFNZzZCLEVBQVE1OEMsS0FBSzA5QyxhQUVWaG5ELEVBQUksRUFBR0EsRUFBSXluRCxFQUFhQyxNQUFPMW5ELElBQ3hDLENBQ0lrc0IsSUFBTXk3QixFQUFPcitDLEtBQUt1MUMsTUFBTTcrQyxHQUVwQmttRCxFQUFNbG1ELEdBQUsybkQsRUFBS2pELFVBRWhCd0IsRUFBTWxtRCxHQUFLMm5ELEVBQUtqRCxRQUNaaUQsRUFBS2pGLE9BRUxpRixFQUFLMXZCLFNBQVMwcUIsT0FBTy9KLEVBQVUrTyxFQUFNL0UsSUFTakQsT0FBTyxLQWhFa0IsQ0FBU2lFLElBNEUxQ1csR0FBYUUsTUFBUSxFQzlFckIsSUFBcUJFLEdBQVcsU0FBQTlFLEdBRTVCLFNBQUErRSxFQUFZcDlDLEVBQVFuSCxHQUVoQkEsRUFBVUEsR0FBVyxHQUVyQnN6QyxPQUFLdHRDLEtBQUMxRyxTQUFTQyxjQUFjLFdBTzdCeUcsS0FBSzBkLElBQU12YyxFQU9YbkIsS0FBS3lqQyxNQUFRenBDLEVBQVF5cEMsT0FBUyxFQU85QnpqQyxLQUFLdytDLFNBQVcsS0FRaEJ4K0MsS0FBSys2QyxNQUFRLE1BRVksSUFBckIvZ0QsRUFBUWdoRCxVQUVSaDdDLEtBQUtxWSxpSEFJYkEsS0FBQSxzQkFFSSxPQUFJclksS0FBSys2QyxNQUVFLzZDLEtBQUsrNkMsT0FHaEIvNkMsS0FBSys2QyxNQUFRLElBQUk1aUQsUUFBTyxTQUFFQyxHQUd0QjRILEVBQUt3K0MsU0FBUSxXQUVUeCtDLEVBQUtvZ0MsT0FBT3BnQyxFQUFLbUIsT0FBT3EwQixNQUFPeDFCLEVBQUttQixPQUFPczBCLFFBQzNDcjlCLEVBQVE0SCxJQUlSLFNBQVdwQixLQUFLb0IsRUFBSzBkLElBQUk5WixVQUV6QjVELEVBQUswZCxJQUFNLDJCQUEyQjFkLEVBQVEsS0FNbEQ0aUIsSUFBTStkLEVBQVVELEdBQWlCMWdDLEVBQUswZCxLQUVsQ2lqQixFQUVBM2dDLEVBQUt5K0MsYUFBYTlkLEdBS2xCM2dDLEVBQUtvWixhQUlOcFosS0FBSys2QyxvQkFRaEIwRCxhQUFBLFNBQWE5ZCxHQUVUN2QsSUFBSTQ3QixFQUVKLEdBQXlCLFdBQXJCL2QsRUFBUUksU0FDWixDQUNJLElBQUtqUixLQUVELE1BQU0sSUFBSTczQixNQUFNLG9EQUVwQnltRCxFQUFZNXVCLEtBQUs2USxFQUFRaHBDLFdBSXpCK21ELEVBQVkvZCxFQUFRaHBDLEtBR3hCcUksS0FBSzIrQyxZQUFZRCxnQkFRckJ0bEMsU0FBQSxzQkFFVXdsQyxFQUFTLElBQUl0bUQsZUFTbkJzbUQsRUFBT2hsQyxPQUFNLFdBRVQsR0FBSWdsQyxFQUFPL2xELGFBQWUrbEQsRUFBT0MsTUFBMEIsTUFBbEJELEVBQU90bkQsT0FFNUMsTUFBTSxJQUFJVyxNQUFNLGlDQUdwQitILEVBQUsyK0MsWUFBWUMsRUFBT2hqQyxXQUs1QmdqQyxFQUFPbm1ELEtBQUssTUFBT3VILEtBQUswZCxLQUFLLEdBQzdCa2hDLEVBQU9qbUQsb0JBYVhnbUQsWUFBQSxTQUFZRCxjQUVGSSxFQUFVUCxFQUFZUSxRQUFRTCxHQUU5Qk0sRUFBWSxJQUFJamxDLE1BRXRCaWxDLEVBQVV2bEQsSUFBTSxzQkFBc0JpbEQsRUFFdENNLEVBQVV2bEMsUUFBTyxXQUViLE1BQU0sSUFBSXhoQixNQUFLLDhCQUErQittRCxFQUFhLE1BRy9EQSxFQUFVcGxDLE9BQU0sV0FFWmdKLElBQU1xOEIsRUFBV0gsRUFBUXRwQixNQUNuQjBwQixFQUFZSixFQUFRcnBCLE9BRTFCLElBQUt3cEIsSUFBYUMsRUFFZCxNQUFNLElBQUlqbkQsTUFBTSx3RkFJcEIycUIsSUFBTTRTLEVBQVE1cEIsS0FBS3V6QyxNQUFNRixFQUFXai9DLEVBQUt5akMsT0FDbkNoTyxFQUFTN3BCLEtBQUt1ekMsTUFBTUQsRUFBWWwvQyxFQUFLeWpDLE9BR3JDL0csRUFBUzE4QixFQUFLbUIsT0FFcEJ1N0IsRUFBT2xILE1BQVFBLEVBQ2ZrSCxFQUFPakgsT0FBU0EsRUFDaEJpSCxFQUFPd2dCLFFBQVUsVUFBVWxlLElBRzNCdEMsRUFDS0UsV0FBVyxNQUNYd2lCLFVBQVVKLEVBQVcsRUFBRyxFQUFHQyxFQUFVQyxFQUFXLEVBQUcsRUFBRzFwQixFQUFPQyxHQUVsRXoxQixFQUFLdytDLFdBQ0x4K0MsRUFBS3crQyxTQUFXLE9Bb0J4QkQsRUFBT1EsUUFBQSxTQUFRTCxHQUVYOTdCLElBQU15OEIsRUFBWWQsRUFBWWUsU0FBU3g3QyxLQUFLNDZDLEdBQ3RDbGdCLEVBQU8sR0FRYixPQU5JNmdCLElBRUE3Z0IsRUFBSzZnQixFQUFVLElBQU16ekMsS0FBS3V6QyxNQUFNL2QsV0FBV2llLEVBQVUsS0FDckQ3Z0IsRUFBSzZnQixFQUFVLElBQU16ekMsS0FBS3V6QyxNQUFNL2QsV0FBV2llLEVBQVUsTUFHbEQ3Z0IsZUFPWDNuQyxRQUFBLFdBRUl5MkMsWUFBTXoyQyxRQUFBM0QsS0FBTzhNLE1BQ2JBLEtBQUt3K0MsU0FBVyxNQVVwQkQsRUFBTzMvQyxLQUFBLFNBQUt1QyxFQUFRaVUsR0FHaEIsTUFBcUIsUUFBZEEsR0FFbUIsaUJBQVhqVSxHQUFnRSxJQUF6Q0EsRUFBTzNNLFFBQVEseUJBdlA3QixDQUFTK2tELElBbVF6QytFLEdBQVlnQixTQUFXLGtJQ2hRdkIsSUFBcUJDLEdBQWEsU0FBQS9GLEdBRTlCLFNBQUFnRyxFQUFZcitDLEVBQVFuSCxHQUloQixHQUZBQSxFQUFVQSxHQUFXLEtBRWZtSCxhQUFrQnMrQyxrQkFDeEIsQ0FDSTc4QixJQUFNODhCLEVBQWVwbUQsU0FBU0MsY0FBYyxTQUU1Q21tRCxFQUFheHRCLGFBQWEscUJBQXNCLElBQ2hEd3RCLEVBQWF4dEIsYUFBYSxjQUFlLElBRW5CLGlCQUFYL3dCLElBRVBBLEVBQVMsQ0FBQ0EsSUFHZHE0QyxFQUFrQmxrQyxZQUFZb3FDLEVBQWV2K0MsRUFBTyxHQUFHMUgsS0FBTzBILEVBQU8sR0FBS25ILEVBQVE4L0MsYUFHbEYsSUFBS2gzQixJQUFJcHNCLEVBQUksRUFBR0EsRUFBSXlLLEVBQU94SyxTQUFVRCxFQUNyQyxDQUNJa3NCLElBQU0rOEIsRUFBZ0JybUQsU0FBU0MsY0FBYyxVQUU3Q21yQixFQUFvQnZqQixFQUFPekssR0FBckIrQyxFQUFBaXJCLEVBQUFqckIsSUFBS29oQixFQUFBNkosRUFBQTdKLEtBSUwra0MsR0FGTm5tRCxFQUFNQSxHQUFPMEgsRUFBT3pLLElBRUFxSSxNQUFNLEtBQUtxSCxRQUFRbEMsY0FDakNpWSxFQUFNeWpDLEVBQVE3N0MsT0FBTzY3QyxFQUFRcjdDLFlBQVksS0FBTyxHQUV0RHNXLEVBQU9BLEdBQUksU0FBYXNCLEVBRXhCd2pDLEVBQWNsbUQsSUFBTUEsRUFDcEJrbUQsRUFBYzlrRCxLQUFPZ2dCLEVBRXJCNmtDLEVBQWEvbEQsWUFBWWdtRCxHQUk3QngrQyxFQUFTdStDLEVBR2JwUyxPQUFLdHRDLEtBQUNtQixHQUVObkIsS0FBSzYvQyxhQUFjLEVBQ25CNy9DLEtBQUs4L0MsaUJBQWtCLEVBQ3ZCOS9DLEtBQUsrL0MsV0FBYS9sRCxFQUFRZ21ELFdBQWEsRUFDdkNoZ0QsS0FBS2lnRCxnQkFBa0IsRUFTdkJqZ0QsS0FBS2tnRCxVQUFnQyxJQUFyQmxtRCxFQUFRa21ELFNBUXhCbGdELEtBQUsrNkMsTUFBUSxLQU9iLzZDLEtBQUt3K0MsU0FBVyxLQUdoQngrQyxLQUFLbWdELFdBQWFuZ0QsS0FBS21nRCxXQUFXbmlELEtBQUtnQyxPQUVkLElBQXJCaEcsRUFBUWdoRCxVQUVSaDdDLEtBQUtxWSxrTEFTYnZmLE9BQUEsU0FBT3U5QyxHQUVILGtCQUZlLElBRVZyMkMsS0FBSzY0QyxVQUNWLENBRUlqMkIsSUFBTW0wQixFQUFZTixHQUFPMEIsT0FBT3BCLFVBQVkvMkMsS0FBS21CLE9BQU9pL0MsYUFFeERwZ0QsS0FBS2lnRCxnQkFBa0JyMEMsS0FBSzhYLE1BQU0xakIsS0FBS2lnRCxnQkFBa0JsSixLQUNwRC8yQyxLQUFLKy9DLFlBQWMvL0MsS0FBS2lnRCxpQkFBbUIsS0FFNUMzUyxZQUFNeDBDLE9BQUE1RixLQUFNOE0sS0FBQ3EyQyxHQUNicjJDLEtBQUtpZ0QsZ0JBQWtCamdELEtBQUsrL0MsV0FBYW4wQyxLQUFLOFgsTUFBTSxJQUFPMWpCLEtBQUsrL0MsWUFBYyxpQkFXMUYxbkMsS0FBQSxzQkFFSSxHQUFJclksS0FBSys2QyxNQUVMLE9BQU8vNkMsS0FBSys2QyxNQUdoQm40QixJQUFNemhCLEVBQVNuQixLQUFLbUIsT0FtQ3BCLE9BakNLQSxFQUFPdEksYUFBZXNJLEVBQU9rL0Msa0JBQW9CbC9DLEVBQU90SSxhQUFlc0ksRUFBT20vQyxtQkFDNUVuL0MsRUFBT3EwQixPQUFTcjBCLEVBQU9zMEIsU0FFMUJ0MEIsRUFBT2dWLFVBQVcsR0FHdEJoVixFQUFPOFksaUJBQWlCLE9BQVFqYSxLQUFLdWdELGFBQWF2aUQsS0FBS2dDLE9BQ3ZEbUIsRUFBTzhZLGlCQUFpQixRQUFTamEsS0FBS3dnRCxZQUFZeGlELEtBQUtnQyxPQUVsREEsS0FBS3lnRCxpQkFPTnpnRCxLQUFLbWdELGNBTExoL0MsRUFBTzhZLGlCQUFpQixVQUFXamEsS0FBS21nRCxZQUN4Q2gvQyxFQUFPOFksaUJBQWlCLGlCQUFrQmphLEtBQUttZ0QsYUFPbkRuZ0QsS0FBSys2QyxNQUFRLElBQUk1aUQsUUFBTyxTQUFFQyxHQUVsQjRILEVBQUtvNUMsTUFFTGhoRCxFQUFRNEgsSUFJUkEsRUFBS3crQyxTQUFXcG1ELEVBRWhCK0ksRUFBT2tYLFVBSVJyWSxLQUFLKzZDLG1CQVNoQjJGLGlCQUFBLFdBRUk5OUIsSUFBTXpoQixFQUFTbkIsS0FBS21CLE9BRXBCLE9BQVFBLEVBQU9naUIsWUFBYyxJQUF1QixJQUFsQmhpQixFQUFPZ1QsU0FBcUMsSUFBakJoVCxFQUFPdy9DLE9BQW1CeC9DLEVBQU90SSxXQUFhLGVBUy9HNG5ELGVBQUEsV0FFSSxPQUFrQyxJQUEzQnpnRCxLQUFLbUIsT0FBT3RJLFlBQStDLElBQTNCbUgsS0FBS21CLE9BQU90SSx3QkFRdkQwbkQsYUFBQSxXQUdTdmdELEtBQUtvNUMsT0FFTnA1QyxLQUFLbWdELGNBR0puZ0QsS0FBSzgvQyxpQkFBbUI5L0MsS0FBSzRnRCxhQUU5Qm5LLEdBQU8wQixPQUFPbnFCLElBQUlodUIsS0FBS2xILE9BQVFrSCxNQUMvQkEsS0FBSzgvQyxpQkFBa0IsZ0JBUy9CVSxZQUFBLFdBRVF4Z0QsS0FBSzgvQyxrQkFFTHJKLEdBQU8wQixPQUFPaG1CLE9BQU9ueUIsS0FBS2xILE9BQVFrSCxNQUNsQ0EsS0FBSzgvQyxpQkFBa0IsZ0JBUy9CSyxXQUFBLFdBRUksSUFBUWgvQyxFQUFXbkIsS0FBWG1CLE9BRVJBLEVBQU9xWSxvQkFBb0IsVUFBV3haLEtBQUttZ0QsWUFDM0NoL0MsRUFBT3FZLG9CQUFvQixpQkFBa0J4WixLQUFLbWdELFlBRWxEdjlCLElBQU13MkIsRUFBUXA1QyxLQUFLbzVDLE1BRW5CcDVDLEtBQUtvZ0MsT0FBT2ovQixFQUFPdTRDLFdBQVl2NEMsRUFBT3k0QyxjQUdqQ1IsR0FBU3A1QyxLQUFLdytDLFdBRWZ4K0MsS0FBS3crQyxTQUFTeCtDLE1BQ2RBLEtBQUt3K0MsU0FBVyxNQUdoQngrQyxLQUFLMGdELG1CQUVMMWdELEtBQUt1Z0QsZUFFQXZnRCxLQUFLa2dELFVBRVYvK0MsRUFBTzAvQyxvQkFRZmhxRCxRQUFBLFdBRVFtSixLQUFLOC9DLGlCQUVMckosR0FBTzBCLE9BQU9obUIsT0FBT255QixLQUFLbEgsT0FBUWtILE1BR2xDQSxLQUFLbUIsU0FFTG5CLEtBQUttQixPQUFPdVQsUUFDWjFVLEtBQUttQixPQUFPMUgsSUFBTSxHQUNsQnVHLEtBQUttQixPQUFPa1gsUUFFaEJpMUIsWUFBTXoyQyxRQUFBM0QsS0FBTzhNLE9BUWpCbXBDLEVBQUl5WCxXQUFBM3JELElBQUEsV0FFQSxPQUFPK0ssS0FBSzYvQyxhQUdoQjFXLEVBQUl5WCxXQUFBMXJELElBQUEsU0FBV0MsR0FFUEEsSUFBVTZLLEtBQUs2L0MsY0FFZjcvQyxLQUFLNi9DLFlBQWMxcUQsR0FFZDZLLEtBQUs2L0MsYUFBZTcvQyxLQUFLOC9DLGlCQUUxQnJKLEdBQU8wQixPQUFPaG1CLE9BQU9ueUIsS0FBS2xILE9BQVFrSCxNQUNsQ0EsS0FBSzgvQyxpQkFBa0IsR0FFbEI5L0MsS0FBSzYvQyxjQUFnQjcvQyxLQUFLOC9DLGtCQUUvQnJKLEdBQU8wQixPQUFPbnFCLElBQUlodUIsS0FBS2xILE9BQVFrSCxNQUMvQkEsS0FBSzgvQyxpQkFBa0IsS0FXbkMzVyxFQUFJNlcsVUFBQS9xRCxJQUFBLFdBRUEsT0FBTytLLEtBQUsrL0MsWUFHaEI1VyxFQUFJNlcsVUFBQTlxRCxJQUFBLFNBQVVDLEdBRU5BLElBQVU2SyxLQUFLKy9DLGFBRWYvL0MsS0FBSysvQyxXQUFhNXFELElBWTFCcXFELEVBQU81Z0QsS0FBQSxTQUFLdUMsRUFBUWlVLEdBRWhCLE9BQVFqVSxhQUFrQnMrQyxrQkFDbkJELEVBQWNwbEIsTUFBTTVsQyxRQUFRNGdCLElBQWMsNENBdFV2QixDQUFTbWtDLElBaVYzQ2dHLEdBQWNubEIsTUFBUSxDQUFDLE1BQU8sTUFBTyxPQUFRLE1BQU8sTUFBTyxPQUFRLE1BQU8sT0MxVTFFaWhCLEdBQVU1bUQsS0FDTjZsRCxHQUNBMEQsR0FDQXVCLEdBQ0FqQixHQUNBOUMsR0FDQTBDLEdBQ0FYLHVNQ3ZCaUJ1RCxHQUtqQixTQUFZeFIsR0FPUnR2QyxLQUFLc3ZDLFNBQVdBLEVBRWhCdHZDLEtBQUtzdkMsU0FBU3lSLFFBQVFDLGNBQWNoekIsSUFBSWh1QixPQVFoRDhnRCxHQUFBOXRELFVBQUlndUQsY0FBQSxTQUFjcmtCLEtBUWxCbWtCLEdBQUE5dEQsVUFBSXdzQyxRQUFBLFdBRUl4L0IsS0FBS3N2QyxTQUFTeVIsUUFBUUMsY0FBYzd1QixPQUFPbnlCLE1BQzNDQSxLQUFLc3ZDLFNBQVcsTUNoQ3hCLElBQXFCMlIsR0FBYSxTQUFBekYsa0pBUzlCbkMsT0FBQSxTQUFPL0osRUFBVTJKLEVBQWFLLEdBRTFCMTJCLElBQU0rWixFQUFLMlMsRUFBUzNTLEdBb0NwQixPQWxDQUEsRUFBR3NkLFlBQVl0ZCxFQUFHdWQsK0JBQWdDakIsRUFBWWtCLGtCQUUxRGIsRUFBVTlqQixRQUFVeWpCLEVBQVl6akIsT0FBUzhqQixFQUFVN2pCLFNBQVd3akIsRUFBWXhqQixPQUUxRWtILEVBQUd5ZCxjQUNDbkIsRUFBWW5vQyxPQUNaLEVBQ0EsRUFDQSxFQUNBbW9DLEVBQVl6akIsTUFDWnlqQixFQUFZeGpCLE9BQ1p3akIsRUFBWTMzQyxPQUNaMjNDLEVBQVlwK0MsS0FDWm1GLEtBQUtySSxPQUtUMmhELEVBQVU5akIsTUFBUXlqQixFQUFZempCLE1BQzlCOGpCLEVBQVU3akIsT0FBU3dqQixFQUFZeGpCLE9BRS9Ca0gsRUFBRzBkLFdBQ0NwQixFQUFZbm9DLE9BQ1osRUFDQTZyQixFQUFHdWtCLGtCQUNIakksRUFBWXpqQixNQUNaeWpCLEVBQVl4akIsT0FDWixFQUNBd2pCLEVBQVkzM0MsT0FDWjIzQyxFQUFZcCtDLEtBQ1ptRixLQUFLckksUUFJTixLQS9DbUIsQ0FBUzZqRCxJQ0d0QjJGLEdBTWpCLFNBQVkzckIsRUFBT0MsR0FFZnoxQixLQUFLdzFCLE1BQVE1cEIsS0FBS3ErQixLQUFLelUsR0FBUyxLQUNoQ3gxQixLQUFLeTFCLE9BQVM3cEIsS0FBS3ErQixLQUFLeFUsR0FBVSxLQUVsQ3oxQixLQUFLdThCLFNBQVUsRUFDZnY4QixLQUFLb2hELE9BQVEsRUFFYnBoRCxLQUFLbzdDLFFBQVUsRUFDZnA3QyxLQUFLcWhELFlBQWMsRUFDbkJyaEQsS0FBS3NoRCxVQUFZLEVBRWpCdGhELEtBQUt1aEQsYUFBZSxLQUNwQnZoRCxLQUFLd2hELGNBQWdCLEdBRXJCeGhELEtBQUt5aEQsZUFBaUIsR0FFMUJ6aEQsS0FBUzBoRCxjQUFnQixJQUFJcE0sR0FBTyxxQkFBc0Isd0NBUzlEbk0sR0FBUXdZLGFBQUExc0QsSUFBQSxXQUVBLE9BQU8rSyxLQUFLd2hELGNBQWMsSUFTbENMLEdBQUFudUQsVUFBSTR1RCxnQkFBQSxTQUFnQm5sQyxFQUFXb2hDLEdBWTNCLHNCQVp3QixHQUdwQjc5QyxLQUFLd2hELGNBQWMva0MsR0FBU29oQyxHQUFXLElBQUlnRSxHQUFRLEtBQU0sQ0FBRWhHLFVBQVcsRUFDdEUxYixXQUFnQixFQUNoQjZiLFFBQVksRUFDUnhtQixNQUFPeDFCLEtBQUt3MUIsTUFDWkMsT0FBUXoxQixLQUFLeTFCLFNBRWpCejFCLEtBQUtvN0MsVUFDTHA3QyxLQUFLcWhELGNBRUVyaEQsTUFRZm1oRCxHQUFBbnVELFVBQUk4dUQsZ0JBQUEsU0FBZ0JqRSxHQWNoQixPQVhJNzlDLEtBQUt1aEQsYUFBZTFELEdBQVcsSUFBSWdFLEdBQVEsSUFBSVosR0FBYyxLQUFNLENBQUV6ckIsTUFBT3gxQixLQUFLdzFCLE1BQU9DLE9BQVF6MUIsS0FBS3kxQixTQUFXLENBQUVvbUIsVUFBVyxFQUM3SDFiLFdBQWdCLEVBQ1ozSyxNQUFPeDFCLEtBQUt3MUIsTUFDWkMsT0FBUXoxQixLQUFLeTFCLE9BQ2pCdW1CLFFBQVksRUFDUjE2QyxPQUFRNDNCLEVBQVFNLGdCQUNoQjMrQixLQUFNdS9CLEVBQU1FLGlCQUVoQnQ2QixLQUFLbzdDLFVBQ0xwN0MsS0FBS3FoRCxjQUVFcmhELE1BTWZtaEQsR0FBQW51RCxVQUFJK3VELFlBQUEsV0FPQSxPQUxJL2hELEtBQUtvaEQsT0FBUSxFQUVicGhELEtBQUtvN0MsVUFDTHA3QyxLQUFLcWhELGNBRUVyaEQsTUFNZm1oRCxHQUFBbnVELFVBQUlndkQsY0FBQSxXQU9BLE9BTEloaUQsS0FBS3U4QixTQUFVLEVBRWZ2OEIsS0FBS283QyxVQUNMcDdDLEtBQUtxaEQsY0FFRXJoRCxNQVNmbWhELEdBQUFudUQsVUFBSW90QyxPQUFBLFNBQU81SyxFQUFPQyxHQUtWLEdBSEpELEVBQVk1cEIsS0FBS3ErQixLQUFLelUsR0FDdEJDLEVBQWE3cEIsS0FBS3ErQixLQUFLeFUsR0FFZkQsSUFBVXgxQixLQUFLdzFCLE9BQVNDLElBQVd6MUIsS0FBS3kxQixPQUE1QyxDQUVBejFCLEtBQUt3MUIsTUFBUUEsRUFDYngxQixLQUFLeTFCLE9BQVNBLEVBRWR6MUIsS0FBS283QyxVQUNMcDdDLEtBQUtzaEQsWUFFTCxJQUFLeCtCLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJc0osS0FBS3doRCxjQUFjN3FELE9BQVFELElBQ25ELENBQ0ksSUFBVW1uRCxFQUFVNzlDLEtBQUt3aEQsY0FBYzlxRCxHQUM3QnlwQyxFQUFhMGQsRUFBUTFkLFdBRzNCMGQsRUFBUWhCLFFBQVFybkIsRUFBUTJLLEVBQVkxSyxFQUFTMEssR0FHckQsR0FBUW5nQyxLQUFLdWhELGFBQ2IsQ0FDSSxJQUFVcGhCLEVBQWFuZ0MsS0FBS3VoRCxhQUFhcGhCLFdBRXJDbmdDLEtBQUt1aEQsYUFBYTFFLFFBQVFybkIsRUFBUTJLLEVBQVkxSyxFQUFTMEssTUFPbkVnaEIsR0FBQW51RCxVQUFJNkQsUUFBQSxXQUVBbUosS0FBUzBoRCxjQUFjLzZCLElBQUkzbUIsTUFBTSw2Q0NuSHJDLElBQXFCaWlELEdBQWlCLFNBQUFsRyxHQVNsQyxTQUFBa0csRUFBWWpvRCxHQUVlLGlCQUFaQSxJQVNQQSxFQUFVLENBQUF3N0IsTUFMSTdyQixVQUFVLEdBS1A4ckIsT0FKRjlyQixVQUFVLEdBSUFreUMsVUFIUGx5QyxVQUFVLEdBR1F3MkIsV0FGakJ4MkIsVUFBVSxLQU1qQzJqQyxPQUFLdHRDLEtBQUMsS0FBTWhHLEdBRVosSUFBQTBxQixFQUEwQjFxQixHQUFXLEdBQTdCdzdCLEVBQUE5USxFQUFBOFEsTUFBT0MsRUFBQS9RLEVBQUErUSxPQUdmejFCLEtBQUtnOEMsUUFBUyxFQUNkaDhDLEtBQUt3MUIsTUFBUTVwQixLQUFLcStCLEtBQUt6VSxJQUFVLElBQ2pDeDFCLEtBQUt5MUIsT0FBUzdwQixLQUFLcStCLEtBQUt4VSxJQUFXLElBQ25DejFCLEtBQUtvNUMsT0FBUSxFQVFicDVDLEtBQUtraUQsb0JBQXNCLEtBRTNCbGlELEtBQUttaUQsV0FBYSxDQUFDLEVBQUcsRUFBRyxFQUFHLEdBRTVCbmlELEtBQUtvaUQsWUFBYyxJQUFJakIsR0FBWW5oRCxLQUFLdzFCLE1BQVF4MUIsS0FBS21nQyxXQUFZbmdDLEtBQUt5MUIsT0FBU3oxQixLQUFLbWdDLFlBQy9FeWhCLGdCQUFnQixFQUFHNWhELE1BQ25CZ2lELGdCQVNMaGlELEtBQUtxaUQsaUJBQW1CLEdBT3hCcmlELEtBQUtzaUQsWUFBYyxDQUFDLDhHQVN4QmxpQixPQUFBLFNBQU81SyxFQUFPQyxHQUVWRCxFQUFRNXBCLEtBQUtxK0IsS0FBS3pVLEdBQ2xCQyxFQUFTN3BCLEtBQUtxK0IsS0FBS3hVLEdBQ25CejFCLEtBQUtvaUQsWUFBWWhpQixPQUFPNUssRUFBUXgxQixLQUFLbWdDLFdBQVkxSyxFQUFTejFCLEtBQUttZ0MseUJBVW5FdHBDLFFBQUEsV0FFSW1KLEtBQUtvaUQsWUFBWXZyRCxVQUVqQnkyQyxZQUFNejJDLFFBQUEzRCxLQUFPOE0sbUJBT2pCdy9CLFFBQUEsV0FFSThOLFlBQU05TixRQUFBdHNDLEtBQU84TSxNQUFDLEdBRWRBLEtBQUtvaUQsWUFBYyxLQUVuQnBpRCxLQUFLc3ZDLFNBQVcsUUF0R2MsQ0FBU3dNLElDbEMxQnlHLEdBRWpCLFdBRUl2aUQsS0FBS2tzQyxHQUFLLEVBQ1Zsc0MsS0FBS21zQyxHQUFLLEVBRVZuc0MsS0FBSzZwQyxHQUFLLEVBQ1Y3cEMsS0FBSytwQyxHQUFLLEVBRVYvcEMsS0FBSzhwQyxHQUFLLEVBQ1Y5cEMsS0FBS2dxQyxHQUFLLEVBRVZocUMsS0FBS3dpRCxHQUFLLEVBQ1Z4aUQsS0FBS3lpRCxHQUFLLEVBRWR6aUQsS0FBUzBpRCxXQUFhLElBQUk5K0IsYUFBYSxJQVczQzIrQixHQUFBdnZELFVBQUlrQyxJQUFBLFNBQUl5dEQsRUFBT0MsRUFBV2xmLEdBRWxCOWdCLElBQU1pZ0MsRUFBS0QsRUFBVXB0QixNQUNmc3RCLEVBQUtGLEVBQVVudEIsT0FFckIsR0FBSWlPLEVBQ1IsQ0FFSSxJQUFVcWYsRUFBS0osRUFBTW50QixNQUFRLEVBQUlxdEIsRUFDdkJHLEVBQUtMLEVBQU1sdEIsT0FBUyxFQUFJcXRCLEVBR3hCRyxFQUFNTixFQUFNbjRDLEVBQUlxNEMsRUFBTUUsRUFDdEJHLEVBQU1QLEVBQU1sNEMsRUFBSXE0QyxFQUFNRSxFQUU1QnRmLEVBQVN5QyxHQUFRblksSUFBSTBWLEVBQVF5QyxHQUFRTSxJQUNyQ3ptQyxLQUFLa3NDLEdBQUsrVyxFQUFNRixFQUFLNWMsR0FBUVcsR0FBR3BELEdBQ2hDMWpDLEtBQUttc0MsR0FBSytXLEVBQU1GLEVBQUs3YyxHQUFRYSxHQUFHdEQsR0FFcENBLEVBQWF5QyxHQUFRblksSUFBSTBWLEVBQVEsR0FDN0IxakMsS0FBSzZwQyxHQUFLb1osRUFBTUYsRUFBSzVjLEdBQVFXLEdBQUdwRCxHQUNoQzFqQyxLQUFLK3BDLEdBQUttWixFQUFNRixFQUFLN2MsR0FBUWEsR0FBR3RELEdBRXBDQSxFQUFheUMsR0FBUW5ZLElBQUkwVixFQUFRLEdBQzdCMWpDLEtBQUs4cEMsR0FBS21aLEVBQU1GLEVBQUs1YyxHQUFRVyxHQUFHcEQsR0FDaEMxakMsS0FBS2dxQyxHQUFLa1osRUFBTUYsRUFBSzdjLEdBQVFhLEdBQUd0RCxHQUVwQ0EsRUFBYXlDLEdBQVFuWSxJQUFJMFYsRUFBUSxHQUM3QjFqQyxLQUFLd2lELEdBQUtTLEVBQU1GLEVBQUs1YyxHQUFRVyxHQUFHcEQsR0FDaEMxakMsS0FBS3lpRCxHQUFLUyxFQUFNRixFQUFLN2MsR0FBUWEsR0FBR3RELFFBSXBDMWpDLEtBQVNrc0MsR0FBS3lXLEVBQU1uNEMsRUFBSXE0QyxFQUN4QjdpRCxLQUFTbXNDLEdBQUt3VyxFQUFNbDRDLEVBQUlxNEMsRUFFcEI5aUQsS0FBSzZwQyxJQUFNOFksRUFBTW40QyxFQUFJbTRDLEVBQU1udEIsT0FBU3F0QixFQUN4QzdpRCxLQUFTK3BDLEdBQUs0WSxFQUFNbDRDLEVBQUlxNEMsRUFFcEI5aUQsS0FBSzhwQyxJQUFNNlksRUFBTW40QyxFQUFJbTRDLEVBQU1udEIsT0FBU3F0QixFQUNwQzdpRCxLQUFLZ3FDLElBQU0yWSxFQUFNbDRDLEVBQUlrNEMsRUFBTWx0QixRQUFVcXRCLEVBRXpDOWlELEtBQVN3aUQsR0FBS0csRUFBTW40QyxFQUFJcTRDLEVBQ3BCN2lELEtBQUt5aUQsSUFBTUUsRUFBTWw0QyxFQUFJazRDLEVBQU1sdEIsUUFBVXF0QixFQUc3QzlpRCxLQUFTMGlELFdBQVcsR0FBSzFpRCxLQUFLa3NDLEdBQzlCbHNDLEtBQVMwaUQsV0FBVyxHQUFLMWlELEtBQUttc0MsR0FDOUJuc0MsS0FBUzBpRCxXQUFXLEdBQUsxaUQsS0FBSzZwQyxHQUM5QjdwQyxLQUFTMGlELFdBQVcsR0FBSzFpRCxLQUFLK3BDLEdBQzlCL3BDLEtBQVMwaUQsV0FBVyxHQUFLMWlELEtBQUs4cEMsR0FDOUI5cEMsS0FBUzBpRCxXQUFXLEdBQUsxaUQsS0FBS2dxQyxHQUM5QmhxQyxLQUFTMGlELFdBQVcsR0FBSzFpRCxLQUFLd2lELEdBQzlCeGlELEtBQVMwaUQsV0FBVyxHQUFLMWlELEtBQUt5aUQsSUNqRmxDNy9CLElBQU11Z0MsR0FBYyxJQUFJWixHQWdDSGEsR0FBTyxTQUFBNTZDLEdBVXhCLFNBQUFxNUMsRUFBWTVJLEVBQWEwSixFQUFPVSxFQUFNei9DLEVBQU04L0IsRUFBUTRmLEdBaUdoRCxHQS9GQWhXLE9BQUt0dEMsTUFvQkxBLEtBQUt1akQsU0FBVSxFQUVWWixJQUVEM2lELEtBQUt1akQsU0FBVSxFQUNmWixFQUFRLElBQUl2WixHQUFVLEVBQUcsRUFBRyxFQUFHLElBRy9CNlAsYUFBdUI0SSxJQUV2QjVJLEVBQWNBLEVBQVlBLGFBUTlCajVDLEtBQUtpNUMsWUFBY0EsRUFRbkJqNUMsS0FBS3dqRCxPQUFTYixFQVFkM2lELEtBQUs0RCxLQUFPQSxFQU9aNUQsS0FBS281QyxPQUFRLEVBT2JwNUMsS0FBS3lqRCxnQkFBaUIsRUFRdEJ6akQsS0FBSzBqRCxLQUFPUCxHQVFabmpELEtBQUsyakQsU0FBVyxLQU9oQjNqRCxLQUFLcWpELEtBQU9BLEdBQVFWLEVBRXBCM2lELEtBQUs0akQsUUFBVXRnQyxPQUFPb2dCLEdBQVUsSUFFakIsSUFBWEEsRUFHQTFqQyxLQUFLNGpELFFBQVUsT0FFZCxHQUFJNWpELEtBQUs0akQsUUFBVSxHQUFNLEVBRTFCLE1BQU0sSUFBSTNyRCxNQUFNLDZFQVNwQitILEtBQUs2akQsY0FBZ0JQLEVBQVMsSUFBSTNoQixHQUFNMmhCLEVBQU85NEMsRUFBRzg0QyxFQUFPNzRDLEdBQUssSUFBSWszQixHQUFNLEVBQUcsR0FVM0UzaEMsS0FBSzhqRCxVQUFZLEVBU2pCOWpELEtBQUt3OEMsZ0JBQWtCLEdBRWxCdkQsRUFBWUcsTUFJUnA1QyxLQUFLdWpELFFBR050SyxFQUFZRyxPQUVacDVDLEtBQUsrakQscUJBQXFCOUssR0FLOUJqNUMsS0FBSzJpRCxNQUFRQSxFQVpiMUosRUFBWWx4QyxLQUFLLFNBQVUvSCxLQUFLK2pELHFCQUFzQi9qRCxNQWV0REEsS0FBS3VqRCxTQUVMdEssRUFBWXB2QyxHQUFHLFNBQVU3SixLQUFLK2pELHFCQUFzQi9qRCwwTkFZNURsSCxPQUFBLFdBRVFrSCxLQUFLaTVDLFlBQVl0cUIsVUFFakIzdUIsS0FBS2k1QyxZQUFZdHFCLFNBQVM3MUIsc0JBVWxDaXJELHFCQUFBLFNBQXFCOUssR0FFakIsR0FBSWo1QyxLQUFLdWpELFFBQ1QsQ0FDSSxJQUFLdmpELEtBQUtpNUMsWUFBWUcsTUFFbEIsT0FHSnA1QyxLQUFLd2pELE9BQU9odUIsTUFBUXlqQixFQUFZempCLE1BQ2hDeDFCLEtBQUt3akQsT0FBTy90QixPQUFTd2pCLEVBQVl4akIsT0FDakN6MUIsS0FBS281QyxPQUFRLEVBQ2JwNUMsS0FBS2drRCxpQkFNTGhrRCxLQUFLMmlELE1BQVEzaUQsS0FBS3dqRCxPQUd0QnhqRCxLQUFLbUosS0FBSyxTQUFVbkosbUJBUXhCdy9CLFFBQUEsU0FBUXlrQixHQUVKLEdBQUlqa0QsS0FBS2k1QyxZQUNULENBQ0ksR0FBSWdMLEVBQ0osQ0FDSSxJQUFRdDFCLEVBQWEzdUIsS0FBS2k1QyxZQUFsQnRxQixTQUlKQSxHQUFZMFEsR0FBYTFRLEVBQVN6ckIsTUFFbEMyK0MsRUFBUTVFLGdCQUFnQnR1QixFQUFTenJCLEtBR3JDbEQsS0FBS2k1QyxZQUFZelosVUFHckJ4L0IsS0FBS2k1QyxZQUFZbHZDLElBQUksU0FBVS9KLEtBQUsrakQscUJBQXNCL2pELE1BRTFEQSxLQUFLaTVDLFlBQWMsS0FHdkJqNUMsS0FBS3dqRCxPQUFTLEtBQ2R4akQsS0FBSzBqRCxLQUFPLEtBQ1oxakQsS0FBSzRELEtBQU8sS0FDWjVELEtBQUtxakQsS0FBTyxLQUVacmpELEtBQUtvNUMsT0FBUSxFQUVieUksRUFBUTVFLGdCQUFnQmo5QyxNQUN4QkEsS0FBS3c4QyxnQkFBa0Isa0JBUTNCNWEsTUFBQSxXQUVJLE9BQU8sSUFBSWlnQixFQUFRN2hELEtBQUtpNUMsWUFBYWo1QyxLQUFLMmlELE1BQU8zaUQsS0FBS3FqRCxLQUFNcmpELEtBQUs0RCxLQUFNNUQsS0FBSzBqQyxPQUFRMWpDLEtBQUs2akQsNEJBTzdGRyxVQUFBLFdBRVFoa0QsS0FBSzBqRCxPQUFTUCxLQUVkbmpELEtBQUswakQsS0FBTyxJQUFJbkIsSUFHcEJ2aUQsS0FBSzBqRCxLQUFLeHVELElBQUk4SyxLQUFLd2pELE9BQVF4akQsS0FBS2k1QyxZQUFhajVDLEtBQUswakMsUUFFbEQxakMsS0FBSzhqRCxhQWFUakMsRUFBTzMvQixLQUFBLFNBQUsvZ0IsRUFBUW5ILGtCQUFVLElBRTFCOG9CLElBQUl5NUIsRUFBVSxLQUVRLGlCQUFYcDdDLEVBRVBvN0MsRUFBVXA3QyxHQUlMQSxFQUFPKzdDLFVBRVIvN0MsRUFBTys3QyxRQUFVLFVBQVVsZSxLQUcvQnVkLEVBQVVwN0MsRUFBTys3QyxTQUdyQnA2QixJQUFJKzZCLEVBQVV4ZSxHQUFha2QsR0FpQjNCLE9BZktzQixJQUVJN2pELEVBQVFtbUMsYUFFVG5tQyxFQUFRbW1DLFdBQWFlLEdBQW1CLy9CLEtBRzVDMDhDLEVBQVUsSUFBSWdFLEVBQVEsSUFBSS9GLEdBQVkzNkMsRUFBUW5ILEtBQ3RDaS9DLFlBQVlzRCxRQUFVQSxFQUU5QlQsR0FBWXFCLFdBQVdVLEVBQVE1RSxZQUFhc0QsR0FDNUNzRixFQUFRMUUsV0FBV1UsRUFBU3RCLElBSXpCc0IsR0FjWGdFLEVBQU96RSxXQUFBLFNBQVdycEMsRUFBUXloQixFQUFPQyxFQUFRejdCLEdBRXJDLE9BQU8sSUFBSTZuRCxFQUFRL0YsR0FBWXNCLFdBQVdycEMsRUFBUXloQixFQUFPQyxFQUFRejdCLEtBYXJFNm5ELEVBQU9xQyxXQUFBLFNBQVcvaUQsRUFBUWdqRCxFQUFVcnZELEdBRWhDOHRCLElBQU0rTCxFQUFXLElBQUkyckIsR0FBY241QyxHQUVuQ3d0QixFQUFTenJCLElBQU1paEQsRUFFZnZoQyxJQUtNaTdCLEVBQVUsSUFBSWdFLEVBTEEsSUFBSS9GLEdBQVludEIsRUFBVSxDQUMxQ2t0QixVQUFXeG5CLEVBQVMwQixXQUNwQm9LLFdBQVllLEdBQW1CaWpCLE1Bc0JuQyxPQWhCS3J2RCxJQUVEQSxFQUFPcXZELEdBSVhySSxHQUFZcUIsV0FBV1UsRUFBUTVFLFlBQWFua0QsR0FDNUMrc0QsRUFBUTFFLFdBQVdVLEVBQVMvb0QsR0FHeEJBLElBQVNxdkQsSUFFVHJJLEdBQVlxQixXQUFXVSxFQUFRNUUsWUFBYWtMLEdBQzVDdEMsRUFBUTFFLFdBQVdVLEVBQVNzRyxJQUd6QnRHLEdBVVhnRSxFQUFPMUUsV0FBQSxTQUFXVSxFQUFTN2xELEdBRW5CQSxLQUU2QyxJQUF6QzZsRCxFQUFRckIsZ0JBQWdCaG9ELFFBQVF3RCxJQUVoQzZsRCxFQUFRckIsZ0JBQWdCL25ELEtBQUt1RCxHQUc3QnFuQyxHQUFhcm5DLElBR2JyRCxRQUFRQyxLQUFJLDBDQUEyQ29ELEVBQUUsK0JBRzdEcW5DLEdBQWFybkMsR0FBTTZsRCxJQVczQmdFLEVBQU81RSxnQkFBQSxTQUFnQlksR0FFbkIsR0FBdUIsaUJBQVpBLEVBQ1gsQ0FDSWo3QixJQUFNd2hDLEVBQW1CL2tCLEdBQWF3ZSxHQUV0QyxHQUFJdUcsRUFDSixDQUNJeGhDLElBQU1uRyxFQUFRMm5DLEVBQWlCNUgsZ0JBQWdCaG9ELFFBQVFxcEQsR0FTdkQsT0FQSXBoQyxHQUFTLEdBRVQybkMsRUFBaUI1SCxnQkFBZ0J2bEQsT0FBT3dsQixFQUFPLFVBRzVDNGlCLEdBQWF3ZSxHQUVidUcsUUFHVixHQUFJdkcsR0FBV0EsRUFBUXJCLGdCQUM1QixDQUNJLElBQUsxNUIsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUltbkQsRUFBUXJCLGdCQUFnQjdsRCxTQUFVRCxFQUc5QzJvQyxHQUFhd2UsRUFBUXJCLGdCQUFnQjlsRCxNQUFRbW5ELFVBRXRDeGUsR0FBYXdlLEVBQVFyQixnQkFBZ0I5bEQsSUFNcEQsT0FGQW1uRCxFQUFRckIsZ0JBQWdCN2xELE9BQVMsRUFFMUJrbkQsRUFHWCxPQUFPLE1BU1gxVSxFQUFJd1osTUFBQTF0RCxJQUFBLFdBRUEsT0FBTytLLEtBQUt3akQsUUFHaEJyYSxFQUFJd1osTUFBQXp0RCxJQUFBLFNBQU15dEQsR0FFTjNpRCxLQUFLd2pELE9BQVNiLEVBRWQzaUQsS0FBS3VqRCxTQUFVLEVBRWYsSUFBQS80QyxFQUFBbTRDLEVBQUFuNEMsRUFBV0MsRUFBQWs0QyxFQUFBbDRDLEVBQUcrcUIsRUFBQW10QixFQUFBbnRCLE1BQU9DLEVBQUFrdEIsRUFBQWx0QixPQUNmNHVCLEVBQVU3NUMsRUFBSWdyQixFQUFReDFCLEtBQUtpNUMsWUFBWXpqQixNQUN2Qzh1QixFQUFVNzVDLEVBQUlnckIsRUFBU3oxQixLQUFLaTVDLFlBQVl4akIsT0FFOUMsR0FBSTR1QixHQUFXQyxFQUNmLENBQ0kxaEMsSUFBTTJoQyxFQUFlRixHQUFXQyxFQUFVLE1BQVEsS0FDNUNFLEVBQVMsTUFBTWg2QyxFQUFDLE1BQU1nckIsRUFBSyxPQUFNaHJCLEVBQUlnckIsR0FBSyxNQUFNeDFCLEtBQUtpNUMsWUFBaUIsTUFDdEV3TCxFQUFTLE1BQU1oNkMsRUFBQyxNQUFNZ3JCLEVBQU0sT0FBTWhyQixFQUFJZ3JCLEdBQU0sTUFBTXoxQixLQUFLaTVDLFlBQWtCLE9BRS9FLE1BQU0sSUFBSWhoRCxNQUFNLHlFQUNQdXNELEVBQU0sSUFBSUQsRUFBWSxJQUFJRSxHQUd2Q3prRCxLQUFLbzVDLE1BQVE1akIsR0FBU0MsR0FBVXoxQixLQUFLaTVDLFlBQVlHLE1BRTVDcDVDLEtBQUs0RCxNQUFTNUQsS0FBSzBqQyxTQUVwQjFqQyxLQUFLcWpELEtBQU9WLEdBR1ozaUQsS0FBS281QyxPQUVMcDVDLEtBQUtna0QsYUFhYjdhLEVBQUl6RixPQUFBenVDLElBQUEsV0FFQSxPQUFPK0ssS0FBSzRqRCxTQUdoQnphLEVBQUl6RixPQUFBeHVDLElBQUEsU0FBT3d1QyxHQUVQMWpDLEtBQUs0akQsUUFBVWxnQixFQUNYMWpDLEtBQUtvNUMsT0FFTHA1QyxLQUFLZ2tELGFBU2I3YSxFQUFJM1QsTUFBQXZnQyxJQUFBLFdBRUEsT0FBTytLLEtBQUtxakQsS0FBSzd0QixPQVFyQjJULEVBQUkxVCxPQUFBeGdDLElBQUEsV0FFQSxPQUFPK0ssS0FBS3FqRCxLQUFLNXRCLGlEQTdoQkcsQ0FBU3dhLEVBQUEvMEMsR0FnakJyQyxTQUFTd3BELEdBQWtCQyxHQUV2QkEsRUFBSW5sQixRQUFVLGFBQ2RtbEIsRUFBSTk2QyxHQUFLLGFBQ1Q4NkMsRUFBSTU4QyxLQUFPLGFBQ1g0OEMsRUFBSXg3QyxLQUFPLGFBV2ZpNkMsR0FBUTlaLE1BQVEsSUFBSThaLEdBQVEsSUFBSXRILElBQ2hDNEksR0FBa0J0QixHQUFROVosT0FDMUJvYixHQUFrQnRCLEdBQVE5WixNQUFNMlAsYUFVaENtSyxHQUFRd0IsTUEzQ1IsV0FFSWhpQyxJQUFNOFosRUFBU3BqQyxTQUFTQyxjQUFjLFVBRXRDbWpDLEVBQU9sSCxNQUFRLEdBQ2ZrSCxFQUFPakgsT0FBUyxHQUVoQjdTLElBQU05YSxFQUFVNDBCLEVBQU9FLFdBQVcsTUFLbEMsT0FIQTkwQixFQUFRKzhDLFVBQVksUUFDcEIvOEMsRUFBUWc5QyxTQUFTLEVBQUcsRUFBRyxHQUFJLElBRXBCLElBQUkxQixHQUFRLElBQUl0SCxHQUFZLElBQUlrQyxHQUFldGhCLEtBK0IxQ3FvQixHQUNoQkwsR0FBa0J0QixHQUFRd0IsT0FDMUJGLEdBQWtCdEIsR0FBUXdCLE1BQU0zTCxhQzlrQmhDLElBQXFCK0wsR0FBYSxTQUFBbkQsR0FNOUIsU0FBQW1ELEVBQVlDLEVBQW1CdEMsR0FHM0I3L0IsSUFBSW9pQyxFQUFrQixLQUV0QixLQUFNRCxhQUE2QmhELElBQ25DLENBRUlyL0IsSUFBTTRTLEVBQVE3ckIsVUFBVSxHQUNsQjhyQixFQUFTOXJCLFVBQVUsR0FDbkJreUMsRUFBWWx5QyxVQUFVLEdBQ3RCdzJCLEVBQWF4MkIsVUFBVSxHQUc3QmhWLFFBQVFDLEtBQUksbUNBQW9DNGdDLEVBQUssS0FBS0MsRUFBTSxtQ0FDaEV5dkIsRUFBa0J2N0MsVUFBVSxHQUc1Qmc1QyxFQUFRLEtBQ1JzQyxFQUFvQixJQUFJaEQsR0FBa0IsT0FDdEN6c0IsU0FDQUMsWUFDQW9tQixhQUNBMWIsSUFTUm1OLE9BQUt0dEMsS0FBQ2lsRCxFQUFtQnRDLEdBRXpCM2lELEtBQUttbEQsZUFBaUJELEVBT3RCbGxELEtBQUtvNUMsT0FBUSxFQU9icDVDLEtBQUtvbEQsWUFBYyxLQU9uQnBsRCxLQUFLcWxELGNBQWdCLEtBRXJCcmxELEtBQUtna0Qsc0hBVVQ1akIsT0FBQSxTQUFPNUssRUFBT0MsRUFBUTZ2QixtQkFBb0IsR0FFdEM5dkIsRUFBUTVwQixLQUFLcStCLEtBQUt6VSxHQUNsQkMsRUFBUzdwQixLQUFLcStCLEtBQUt4VSxHQUduQnoxQixLQUFLbzVDLE1BQVM1akIsRUFBUSxHQUFLQyxFQUFTLEVBRXBDejFCLEtBQUt3akQsT0FBT2h1QixNQUFReDFCLEtBQUtxakQsS0FBSzd0QixNQUFRQSxFQUN0Q3gxQixLQUFLd2pELE9BQU8vdEIsT0FBU3oxQixLQUFLcWpELEtBQUs1dEIsT0FBU0EsRUFFcEM2dkIsR0FFQXRsRCxLQUFLaTVDLFlBQVk3WSxPQUFPNUssRUFBT0MsR0FHbkN6MUIsS0FBS2drRCx5QkFRVGpILGNBQUEsU0FBYzVjLEdBRVYsSUFBUThZLEVBQWdCajVDLEtBQWhCaTVDLFlBRUpBLEVBQVk5WSxhQUFlQSxJQUsvQjhZLEVBQVk4RCxjQUFjNWMsR0FDMUJuZ0MsS0FBS29nQyxPQUFPNlksRUFBWXpqQixNQUFPeWpCLEVBQVl4akIsUUFBUSxLQWF2RHV2QixFQUFPbG5ELE9BQUEsU0FBTzlELEdBZVYsTUFadUIsaUJBQVpBLElBR1BBLEVBQVUsQ0FDTnc3QixNQUFPeDdCLEVBQ1B5N0IsT0FBUTlyQixVQUFVLEdBQ2xCa3lDLFVBQVdseUMsVUFBVSxHQUNyQncyQixXQUFZeDJCLFVBQVUsS0FLdkIsSUFBSXE3QyxFQUFjLElBQUkvQyxHQUFrQmpvRCxPQXZJckIsQ0FBU29wRCxJQzdCdEJtQyxHQVVqQixTQUFZeHhDLEVBQVF5cUIsRUFBTWduQixFQUFvQjNxRCxFQUFhNHFELEVBQVF2NkMsRUFBT29HLG1CQUFuQyxrQkFBYyxNQUVqRHRSLEtBQUsrVCxPQUFTQSxFQUNkL1QsS0FBS3crQixLQUFPQSxFQUNaeCtCLEtBQUt3bEQsV0FBYUEsRUFDbEJ4bEQsS0FBS25GLEtBQU9BLEVBQ1ptRixLQUFLeWxELE9BQVNBLEVBQ2R6bEQsS0FBS2tMLE1BQVFBLEVBQ2JsTCxLQUFLc1IsU0FBV0EsR0FNeEJpMEMsR0FBQXZ5RCxVQUFJd3NDLFFBQUEsV0FFSXgvQixLQUFLK1QsT0FBUyxNQWV0Qnd4QyxHQUFXcmpDLEtBQUEsU0FBS25PLEVBQVF5cUIsRUFBTWduQixFQUFZM3FELEVBQU00cUQsR0FFeEMsT0FBTyxJQUFJRixHQUFVeHhDLEVBQVF5cUIsRUFBTWduQixFQUFZM3FELEVBQU00cUQsSUNwRDdEM2lDLElBQUk0aUMsR0FBTSxFQVNXQyxHQU9qQixTQUFZaHVELEVBQU1pdUQsRUFBZ0JucEMsbUJBQU4sbUJBQWMsR0FPMUN6YyxLQUFTckksS0FBT0EsR0FBUSxJQUFJaXNCLGFBQWEsR0FRckM1akIsS0FBSzZsRCxXQUFhLEdBRWxCN2xELEtBQUs4akQsVUFBWSxFQUVqQjlqRCxLQUFLeWMsTUFBUUEsRUFFYnpjLEtBQUs4bEQsT0FBU0YsRUFFZDVsRCxLQUFLaEksR0FBSzB0RCxLQUVkMWxELEtBQVMwaEQsY0FBZ0IsSUFBSXBNLEdBQU8sZ0JBQWlCLElDM0MxQyxTQUFTeVEsR0FBYzF5QyxHQUVsQyxHQUFnQyxJQUE1QkEsRUFBTTJ5QyxrQkFFTixPQUFJM3lDLGFBQWlCdVEsYUFFVixlQUVGdlEsYUFBaUJ3USxZQUVmLGNBR0osYUFFTixHQUFnQyxJQUE1QnhRLEVBQU0yeUMsbUJBRVgsR0FBSTN5QyxhQUFpQnlRLFlBRWpCLE1BQU8sbUJBR1YsR0FBZ0MsSUFBNUJ6USxFQUFNMnlDLG1CQUVQM3lDLGFBQWlCMFEsV0FFakIsTUFBTyxhQUtmLE9BQU8sS0RvQlg0aEMsR0FBQTN5RCxVQUFJOEYsT0FBQSxTQUFPbkIsR0FFUHFJLEtBQVNySSxLQUFPQSxHQUFRcUksS0FBS3JJLEtBQ3pCcUksS0FBSzhqRCxhQU1iNkIsR0FBQTN5RCxVQUFJNkQsUUFBQSxXQUVBbUosS0FBUzBoRCxjQUFjLzZCLElBQUkzbUIsTUFBTSxJQU1yQzJsRCxHQUFBM3lELFVBQUl3c0MsUUFBQSxXQUVJeC9CLEtBQUtuSixVQUVMbUosS0FBS3JJLEtBQU8sTUFVcEJndUQsR0FBV3pqQyxLQUFBLFNBQUt2cUIsR0FPUixPQUxJQSxhQUFnQnNSLFFBRWhCdFIsRUFBTyxJQUFJaXNCLGFBQWFqc0IsSUFHckIsSUFBSWd1RCxHQUFPaHVELElFdEYxQmlyQixJQUFNbm9CLEdBQU0sQ0FDUm1wQixhQUFjQSxhQUNkQyxZQUFhQSxZQUNiRyxXQUFZQSxXQUNaRCxXQUFZQSxZQ0RoQm5CLElBQU1xakMsR0FBYyxDQUFFQyxLQUFNLEVBQUdDLEtBQU0sRUFBR0MsS0FBTSxHQUMxQ1YsR0FBTSxFQUdKanJELEdBQU0sQ0FDUm1wQixhQUFjQSxhQUNkQyxZQUFhQSxZQUNiRyxXQUFZQSxXQUNaRCxXQUFZQSxXQUNaRCxZQUFhQSxhQXdCSXVpQyxHQU1qQixTQUFZQyxFQUFjQyxrQkFBSixtQkFBaUIsSUFFbkN2bUQsS0FBS3NtRCxRQUFVQSxFQUVmdG1ELEtBQUt3bUQsWUFBYyxLQUVuQnhtRCxLQUFLdW1ELFdBQWFBLEVBUWxCdm1ELEtBQUt5bUQscUJBQXVCLEdBRTVCem1ELEtBQUtoSSxHQUFLMHRELEtBRVYxbEQsS0FBSzBtRCxXQUFZLEVBRWpCMW1ELEtBQUsybUQsY0FBZ0IsRUFFckIzbUQsS0FBSzRtRCxNQUFRLEtBRWpCNW1ELEtBQVMwaEQsY0FBZ0IsSUFBSXBNLEdBQU8sa0JBQW1CLEdBTW5EdDFDLEtBQUs2bUQsU0FBVyxHQWlCeEJSLEdBQUFyekQsVUFBSTh6RCxhQUFBLFNBQWE5dUQsRUFBSStiLEVBQVF5cUIsRUFBTWduQixFQUFvQjNxRCxFQUFNNHFELEVBQVF2NkMsRUFBT29HLEdBRXhFLG1CQUY0QyxtQkFBdUMsSUFFMUV5QyxFQUVELE1BQU0sSUFBSTliLE1BQU0scURBSWY4YixFQUFPcGMsT0FHSm9jLGFBQWtCOUssUUFFbEI4SyxFQUFTLElBQUk2UCxhQUFhN1AsSUFHOUJBLEVBQVMsSUFBSTR4QyxHQUFPNXhDLElBRzVCLElBQVVnekMsRUFBTS91RCxFQUFHK0csTUFBTSxLQUVyQixHQUFJZ29ELEVBQUlwd0QsT0FBUyxFQUNyQixDQUNRLElBQUttc0IsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUlxd0QsRUFBSXB3RCxPQUFRRCxJQUU1QnNKLEtBQUs4bUQsYUFBYUMsRUFBSXJ3RCxHQUFJcWQsRUFBUXlxQixFQUFNZ25CLEVBQVkzcUQsR0FHNUQsT0FBV21GLEtBR1g4aUIsSUFBSWtrQyxFQUFjaG5ELEtBQUtzbUQsUUFBUTl4RCxRQUFRdWYsR0FhM0MsT0FYeUIsSUFBakJpekMsSUFFSmhuRCxLQUFTc21ELFFBQVE3eEQsS0FBS3NmLEdBQ3RCaXpDLEVBQWtCaG5ELEtBQUtzbUQsUUFBUTN2RCxPQUFTLEdBRzVDcUosS0FBU3VtRCxXQUFXdnVELEdBQU0sSUFBSXV0RCxHQUFVeUIsRUFBYXhvQixFQUFNZ25CLEVBQVkzcUQsRUFBTTRxRCxFQUFRdjZDLEVBQU9vRyxHQUc1RnRSLEtBQVMwbUQsVUFBWTFtRCxLQUFLMG1ELFdBQWFwMUMsRUFFNUJ0UixNQVNmcW1ELEdBQUFyekQsVUFBSXloRCxhQUFBLFNBQWF6OEMsR0FFVCxPQUFPZ0ksS0FBS3VtRCxXQUFXdnVELElBUy9CcXVELEdBQUFyekQsVUFBSWkwRCxVQUFBLFNBQVVqdkQsR0FFTixPQUFPZ0ksS0FBS3NtRCxRQUFRdG1ELEtBQUt5MEMsYUFBYXo4QyxHQUFJK2IsU0FXbERzeUMsR0FBQXJ6RCxVQUFJazBELFNBQUEsU0FBU256QyxHQXFCVCxPQW5CU0EsRUFBT3BjLE9BR0pvYyxhQUFrQjlLLFFBRWxCOEssRUFBUyxJQUFJK1AsWUFBWS9QLElBRzdCQSxFQUFTLElBQUk0eEMsR0FBTzV4QyxJQUd4QkEsRUFBTzBJLE9BQVEsRUFDZnpjLEtBQUt3bUQsWUFBY3p5QyxHQUVtQixJQUFsQy9ULEtBQUtzbUQsUUFBUTl4RCxRQUFRdWYsSUFFekIvVCxLQUFTc21ELFFBQVE3eEQsS0FBS3NmLEdBR2YvVCxNQVFmcW1ELEdBQUFyekQsVUFBSW0wRCxTQUFBLFdBRUksT0FBT25uRCxLQUFLd21ELGFBU3BCSCxHQUFBcnpELFVBQUlvMEQsV0FBQSxXQUdBLEdBQWdDLElBQXhCcG5ELEtBQUtzbUQsUUFBUTN2RCxRQUF5QyxJQUF4QnFKLEtBQUtzbUQsUUFBUTN2RCxRQUFnQnFKLEtBQUt3bUQsWUFBYyxPQUFPeG1ELEtBR3pGNGlCLElBR0lsc0IsRUFIRTJ3RCxFQUFTLEdBQ1RDLEVBQVEsR0FDUkMsRUFBb0IsSUFBSTVCLEdBRzlCLElBQUtqdkQsS0FBS3NKLEtBQUt1bUQsV0FDbkIsQ0FDSSxJQUFVaUIsRUFBWXhuRCxLQUFLdW1ELFdBQVc3dkQsR0FFNUJxZCxFQUFTL1QsS0FBS3NtRCxRQUFRa0IsRUFBVXp6QyxRQUUxQ3N6QyxFQUFXNXlELEtBQUtzZixFQUFPcGMsTUFFbkIydkQsRUFBTTd5RCxLQUFNK3lELEVBQVVocEIsS0FBT3luQixHQUFZdUIsRUFBVTNzRCxNQUFTLEdBRTVEMnNELEVBQVV6ekMsT0FBUyxFQUt2QixJQUZKd3pDLEVBQXNCNXZELEtEL05YLFNBQStCMHZELEVBQVFDLEdBTWxELElBSkF4a0MsSUFBSTJrQyxFQUFVLEVBQ1ZoQyxFQUFTLEVBQ1BpQyxFQUFRLEdBRUxoeEQsRUFBSSxFQUFHQSxFQUFJMndELEVBQU8xd0QsT0FBUUQsSUFFL0IrdUQsR0FBVTZCLEVBQU01d0QsR0FDaEIrd0QsR0FBV0osRUFBTzN3RCxHQUFHQyxPQVF6QixJQUxBaXNCLElBQU03TyxFQUFTLElBQUk0UCxZQUFzQixFQUFWOGpDLEdBRTNCMzhCLEVBQU0sS0FDTjY4QixFQUFlLEVBRVZqeEQsRUFBSSxFQUFHQSxFQUFJMndELEVBQU8xd0QsT0FBUUQsSUFDbkMsQ0FDSWtzQixJQUFNNGIsRUFBTzhvQixFQUFNNXdELEdBQ2IyYyxFQUFRZzBDLEVBQU8zd0QsR0FFZm1FLEVBQU9rckQsR0FBYzF5QyxHQUV0QnEwQyxFQUFNN3NELEtBRVA2c0QsRUFBTTdzRCxHQUFRLElBQUlKLEdBQUlJLEdBQU1rWixJQUdoQytXLEVBQU00OEIsRUFBTTdzRCxHQUVaLElBQUtpb0IsSUFBSTVvQixFQUFJLEVBQUdBLEVBQUltWixFQUFNMWMsT0FBUXVELElBSzlCNHdCLEdBSHFCNXdCLEVBQUlza0MsRUFBTyxHQUFLaW5CLEVBQVVrQyxFQUNqQ3p0RCxFQUFJc2tDLEdBRVFuckIsRUFBTW5aLEdBR3BDeXRELEdBQWdCbnBCLEVBR3BCLE9BQU8sSUFBSTVhLGFBQWE3UCxHQ3FMSzZ6QyxDQUFzQlAsRUFBUUMsR0FFbEQ1d0QsRUFBSSxFQUFHQSxFQUFJc0osS0FBS3NtRCxRQUFRM3ZELE9BQVFELElBRTdCc0osS0FBS3NtRCxRQUFRNXZELEtBQU9zSixLQUFLd21ELGFBRTdCeG1ELEtBQVNzbUQsUUFBUTV2RCxHQUFHOG9DLFVBVzVCLE9BUEl4L0IsS0FBS3NtRCxRQUFVLENBQUNpQixHQUVadm5ELEtBQUt3bUQsYUFFVHhtRCxLQUFTc21ELFFBQVE3eEQsS0FBS3VMLEtBQUt3bUQsYUFHcEJ4bUQsTUFHZnFtRCxHQUFBcnpELFVBQUkrckQsUUFBQSxXQUVJLElBQUtuOEIsSUFBTWxzQixLQUFLc0osS0FBS3VtRCxXQUN6QixDQUNJLElBQVVpQixFQUFZeG5ELEtBQUt1bUQsV0FBVzd2RCxHQUd0QyxPQUZtQnNKLEtBQUtzbUQsUUFBUWtCLEVBQVV6ekMsUUFFeEJwYyxLQUFLaEIsUUFBVzZ3RCxFQUFVL0IsT0FBUyxHQUFNK0IsRUFBVWhwQixNQUd6RSxPQUFXLEdBTWY2bkIsR0FBQXJ6RCxVQUFJNkQsUUFBQSxXQUVBbUosS0FBUzBoRCxjQUFjLzZCLElBQUkzbUIsTUFBTSxJQU1yQ3FtRCxHQUFBcnpELFVBQUl3c0MsUUFBQSxXQUVJeC9CLEtBQUtuSixVQUVMbUosS0FBS3NtRCxRQUFVLEtBQ2Z0bUQsS0FBS3dtRCxZQUFZaG5CLFVBRWpCeC9CLEtBQUt1bUQsV0FBYSxNQVExQkYsR0FBQXJ6RCxVQUFJNHVDLE1BQUEsV0FJSSxJQUZBaGYsSUFBTWlsQyxFQUFXLElBQUl4QixHQUVaM3ZELEVBQUksRUFBR0EsRUFBSXNKLEtBQUtzbUQsUUFBUTN2RCxPQUFRRCxJQUV6Q214RCxFQUFhdkIsUUFBUTV2RCxHQUFLLElBQUlpdkQsR0FBTzNsRCxLQUFLc21ELFFBQVE1dkQsR0FBR2lCLEtBQUs2QyxTQUcxRCxJQUFLb29CLElBQU1sc0IsS0FBS3NKLEtBQUt1bUQsV0FDekIsQ0FDSSxJQUFVdUIsRUFBUzluRCxLQUFLdW1ELFdBQVc3dkQsR0FFbkNteEQsRUFBYXRCLFdBQVc3dkQsR0FBSyxJQUFJNnVELEdBQzdCdUMsRUFBVy96QyxPQUNYK3pDLEVBQVd0cEIsS0FDWHNwQixFQUFXdEMsV0FDWHNDLEVBQVdqdEQsS0FDWGl0RCxFQUFXckMsT0FDWHFDLEVBQVc1OEMsTUFDWDQ4QyxFQUFXeDJDLFVBVW5CLE9BTlF0UixLQUFLd21ELGNBRUxxQixFQUFTckIsWUFBY3FCLEVBQVN2QixRQUFRdG1ELEtBQUtzbUQsUUFBUTl4RCxRQUFRd0wsS0FBS3dtRCxjQUNsRXFCLEVBQVNyQixZQUFZL3BDLE9BQVEsR0FHMUJvckMsR0FVZnhCLEdBQVcwQixNQUFBLFNBQU1DLEdBY1QsSUFUQXBsQyxJQU1JaWxDLEVBTkVJLEVBQWMsSUFBSTVCLEdBRWxCZ0IsRUFBUyxHQUNUQyxFQUFRLEdBQ1JZLEVBQVUsR0FLUHh4RCxFQUFJLEVBQUdBLEVBQUlzeEQsRUFBV3J4RCxPQUFRRCxJQUMzQyxDQUNRbXhELEVBQVdHLEVBQVd0eEQsR0FFdEIsSUFBS29zQixJQUFJNW9CLEVBQUksRUFBR0EsRUFBSTJ0RCxFQUFTdkIsUUFBUTN2RCxPQUFRdUQsSUFFN0NvdEQsRUFBVXB0RCxHQUFLb3RELEVBQU1wdEQsSUFBTSxFQUN2Qm90RCxFQUFNcHRELElBQU0ydEQsRUFBU3ZCLFFBQVFwc0QsR0FBR3ZDLEtBQUtoQixPQUNyQ3V4RCxFQUFRaHVELEdBQUssRUFLckIsSUFBSzRvQixJQUFJcHNCLEVBQUksRUFBR0EsRUFBSW14RCxFQUFTdkIsUUFBUTN2RCxPQUFRRCxJQUc3QzJ3RCxFQUFXM3dELEdBQUssSUFBSStELEdBQUlzckQsR0FBYzhCLEVBQVN2QixRQUFRNXZELEdBQUdpQixRQUFPMnZELEVBQU01d0QsSUFDbkV1eEQsRUFBWTNCLFFBQVE1dkQsR0FBSyxJQUFJaXZELEdBQU8wQixFQUFPM3dELElBSS9DLElBQUtvc0IsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUlzeEQsRUFBV3J4RCxPQUFRRCxJQUMzQyxDQUNRbXhELEVBQVdHLEVBQVd0eEQsR0FFdEIsSUFBS29zQixJQUFJNW9CLEVBQUksRUFBR0EsRUFBSTJ0RCxFQUFTdkIsUUFBUTN2RCxPQUFRdUQsSUFFN0NtdEQsRUFBV250RCxHQUFHaEYsSUFBSTJ5RCxFQUFTdkIsUUFBUXBzRCxHQUFHdkMsS0FBTXV3RCxFQUFRaHVELElBQ2hEZ3VELEVBQVFodUQsSUFBTTJ0RCxFQUFTdkIsUUFBUXBzRCxHQUFHdkMsS0FBS2hCLE9BTW5ELEdBRklzeEQsRUFBWTFCLFdBQWFzQixFQUFTdEIsV0FFOUJzQixFQUFTckIsWUFDakIsQ0FDUXlCLEVBQVl6QixZQUFjeUIsRUFBWTNCLFFBQVF1QixFQUFTdkIsUUFBUTl4RCxRQUFRcXpELEVBQVNyQixjQUNoRnlCLEVBQVl6QixZQUFZL3BDLE9BQVEsRUFRaEMsSUFOQXFHLElBQUlxbEMsRUFBUyxFQUNUMUMsRUFBUyxFQUNUMkMsRUFBVSxFQUNWQyxFQUFxQixFQUdoQjN4RCxFQUFJLEVBQUdBLEVBQUlteEQsRUFBU3ZCLFFBQVEzdkQsT0FBUUQsSUFFN0MsR0FBUW14RCxFQUFTdkIsUUFBUTV2RCxLQUFPbXhELEVBQVNyQixZQUN6QyxDQUNJNkIsRUFBeUIzeEQsRUFDckIsTUFLUixJQUFLa3NCLElBQU1sc0IsS0FBS214RCxFQUFTdEIsV0FDN0IsQ0FDSSxJQUFVaUIsRUFBWUssRUFBU3RCLFdBQVc3dkQsSUFFZCxFQUFuQjh3RCxFQUFVenpDLFVBQWdCczBDLElBRTNCNUMsR0FBWStCLEVBQVVocEIsS0FBT3luQixHQUFZdUIsRUFBVTNzRCxNQUFTLEdBS3BFLElBQUtpb0IsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUlzeEQsRUFBV3J4RCxPQUFRRCxJQUMzQyxDQUdRLElBRkFrc0IsSUFBTTBsQyxFQUFrQk4sRUFBV3R4RCxHQUFHOHZELFlBQVk3dUQsS0FFekN1QyxFQUFJLEVBQUdBLEVBQUlvdUQsRUFBZ0IzeEQsT0FBUXVELElBRXhDK3RELEVBQVl6QixZQUFZN3VELEtBQUt1QyxFQUFJa3VELElBQVlELEVBR2pEQSxHQUFVTixFQUFTdkIsUUFBUStCLEdBQW9CMXdELEtBQUtoQixPQUFNLEVBQzFEeXhELEdBQVdFLEVBQWdCM3hELFFBSXZDLE9BQVdzeEQsR0NsYWYsSUFBcUJNLEdBQUksU0FBQUMsR0FFckIsU0FBQUQsSUFFSWpiLE9BQUt0dEMsTUFFTEEsS0FBSzhtRCxhQUFhLGtCQUFtQixDQUNqQyxFQUFHLEVBQ0gsRUFBRyxFQUNILEVBQUcsRUFDSCxFQUFHLElBRUZJLFNBQVMsQ0FBQyxFQUFHLEVBQUcsRUFBRyxvR0FaUCxDQUFTYixJQ0Nib0MsR0FBTSxTQUFBRCxHQUV2QixTQUFBQyxJQUVJbmIsT0FBS3R0QyxNQU9MQSxLQUFLd1EsU0FBVyxJQUFJb1QsYUFBYSxFQUM1QixHQUFJLEVBQ0wsR0FBSSxFQUNKLEVBQUcsR0FDRixFQUFHLElBUVI1akIsS0FBSzBvRCxJQUFNLElBQUk5a0MsYUFBYSxDQUN4QixFQUFHLEVBQ0gsRUFBRyxFQUNILEVBQUcsRUFDSCxFQUFHLElBR1A1akIsS0FBSzJvRCxhQUFlLElBQUloRCxHQUFPM2xELEtBQUt3USxVQUNwQ3hRLEtBQUs0b0QsU0FBVyxJQUFJakQsR0FBTzNsRCxLQUFLMG9ELEtBRWhDMW9ELEtBQUs4bUQsYUFBYSxrQkFBbUI5bUQsS0FBSzJvRCxjQUNyQzdCLGFBQWEsZ0JBQWlCOW1ELEtBQUs0b0QsVUFDbkMxQixTQUFTLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLDhHQVVsQ3pzRCxJQUFBLFNBQUlvdUQsRUFBb0JDLEdBRXBCaG1DLElBQUl0WSxFQUFJLEVBQ0pDLEVBQUksRUErQlIsT0E3QkF6SyxLQUFLMG9ELElBQUksR0FBS2wrQyxFQUNkeEssS0FBSzBvRCxJQUFJLEdBQUtqK0MsRUFFZHpLLEtBQUswb0QsSUFBSSxHQUFLbCtDLEVBQUtzK0MsRUFBaUJ0ekIsTUFBUXF6QixFQUFtQnJ6QixNQUMvRHgxQixLQUFLMG9ELElBQUksR0FBS2orQyxFQUVkekssS0FBSzBvRCxJQUFJLEdBQUtsK0MsRUFBS3MrQyxFQUFpQnR6QixNQUFRcXpCLEVBQW1CcnpCLE1BQy9EeDFCLEtBQUswb0QsSUFBSSxHQUFLaitDLEVBQUtxK0MsRUFBaUJyekIsT0FBU296QixFQUFtQnB6QixPQUVoRXoxQixLQUFLMG9ELElBQUksR0FBS2wrQyxFQUNkeEssS0FBSzBvRCxJQUFJLEdBQUtqK0MsRUFBS3ErQyxFQUFpQnJ6QixPQUFTb3pCLEVBQW1CcHpCLE9BRWhFanJCLEVBQUlzK0MsRUFBaUJ0K0MsRUFDckJDLEVBQUlxK0MsRUFBaUJyK0MsRUFFckJ6SyxLQUFLd1EsU0FBUyxHQUFLaEcsRUFDbkJ4SyxLQUFLd1EsU0FBUyxHQUFLL0YsRUFFbkJ6SyxLQUFLd1EsU0FBUyxHQUFLaEcsRUFBSXMrQyxFQUFpQnR6QixNQUN4Q3gxQixLQUFLd1EsU0FBUyxHQUFLL0YsRUFFbkJ6SyxLQUFLd1EsU0FBUyxHQUFLaEcsRUFBSXMrQyxFQUFpQnR6QixNQUN4Q3gxQixLQUFLd1EsU0FBUyxHQUFLL0YsRUFBSXErQyxFQUFpQnJ6QixPQUV4Q3oxQixLQUFLd1EsU0FBUyxHQUFLaEcsRUFDbkJ4SyxLQUFLd1EsU0FBUyxHQUFLL0YsRUFBSXErQyxFQUFpQnJ6QixPQUV4Q3oxQixLQUFLK29ELGFBRUUvb0Qsa0JBT1grb0QsV0FBQSxXQUtJLE9BSEEvb0QsS0FBSzJvRCxhQUFhN0UsWUFDbEI5akQsS0FBSzRvRCxTQUFTOUUsWUFFUDlqRCxRQTNGWSxDQUFTcW1ELElDVGhDWCxHQUFNLEVBUUpzRCxHQU1GLFNBQVlDLEVBQVVyRCxHQU9sQjVsRCxLQUFLaXBELFNBQVdBLEVBUWhCanBELEtBQUtrcEQsT0FBUSxFQUdibHBELEtBQUttcEQsYUFBZSxHQU9wQm5wRCxLQUFLbzdDLFFBQVUsRUFPZnA3QyxLQUFLaEksR0FBSzB0RCxLQU1WMWxELEtBQUs4bEQsU0FBV0YsR0FHeEJvRCxHQUFBaDJELFVBQUk4RixPQUFBLFdBRUlrSCxLQUFLbzdDLFdBR2I0TixHQUFBaDJELFVBQUlnN0IsSUFBQSxTQUFJbDVCLEVBQU1tMEQsRUFBVXJELEdBRWhCNWxELEtBQUtpcEQsU0FBU24wRCxHQUFRLElBQUlrMEQsR0FBYUMsRUFBVXJELElBR3pEb0QsR0FBVzltQyxLQUFBLFNBQUsrbUMsRUFBVXJELEdBRXRCLE9BQVcsSUFBSW9ELEdBQWFDLEVBQVVyRCxJQ25EMUMsSUFBTXdELEdBRUYsV0FFSXBwRCxLQUFLcXBELGNBQWdCLEtBUXJCcnBELEtBQUs4USxPQUFTLEtBUWQ5USxLQUFLMDFCLFFBQVMsRUFRZDExQixLQUFLbWdDLFdBQWEsRUFVbEJuZ0MsS0FBS3NwRCxZQUFjLElBQUlsZ0IsR0FPdkJwcEMsS0FBSzhvRCxpQkFBbUIsSUFBSTFmLEdBTzVCcHBDLEtBQUs4dEMsUUFBVSxJQU92QnNiLEdBQUFwMkQsVUFBSXF0QyxNQUFBLFdBRUlyZ0MsS0FBSzhRLE9BQVMsS0FDZDlRLEtBQUs4dEMsUUFBVSxLQUNmOXRDLEtBQUtxcEQsY0FBZ0IsTUFJN0J6bUMsSUFTcUIybUMsR0FBWSxTQUFBQyxHQUs3QixTQUFBQyxFQUFZbmEsR0FFUmhDLE9BQUt0dEMsS0FBQ3N2QyxHQU9OdHZDLEtBQUswcEQsbUJBQXFCLENBQUMsSUFNM0IxcEQsS0FBSzJwRCxZQUFjLEdBTW5CM3BELEtBQUs0cEQsVUFBWSxHQU1qQjVwRCxLQUFLNnBELEtBQU8sSUFBSXRCLEdBTWhCdm9ELEtBQUs4cEQsT0FBUyxJQUFJckIsR0FNbEJ6b0QsS0FBSytwRCxTQUFXLElBQUkzZ0IsR0FNcEJwcEMsS0FBS2dxRCxZQUFjLEdBYW5CaHFELEtBQUtpcUQsZUFBaUIsSUFBSWpCLEdBQWEsQ0FDbkNrQixZQUFhbHFELEtBQUsrcEQsU0FDbEJJLFVBQVcsSUFBSXZtQyxhQUFhLEdBQzVCd21DLFdBQVksSUFBSXhtQyxhQUFhLEdBQzdCeW1DLFdBQVksSUFBSXptQyxhQUFhLEdBQzdCdWMsV0FBWSxFQUdaME4sV0FBWSxJQUFJanFCLGFBQWEsR0FDN0IwbUMsWUFBYSxJQUFJMW1DLGFBQWEsS0FDL0IsR0FFSDVqQixLQUFLdXFELGFBQWVqYixFQUFTdGEsS0FBS1EsTUFDbEN4MUIsS0FBS3dxRCxjQUFnQmxiLEVBQVN0YSxLQUFLUyxpSEFTdkNoaEMsS0FBQSxTQUFLcWMsRUFBUWc5QixHQVdULElBVEFsckIsSUFBTTBzQixFQUFXdHZDLEtBQUtzdkMsU0FDaEJnVCxFQUFjdGlELEtBQUswcEQsbUJBQ25CZSxFQUFRenFELEtBQUs0cEQsVUFBVWh2RCxPQUFTLElBQUl3dUQsR0FFdENqcEIsRUFBYTJOLEVBQVEsR0FBRzNOLFdBQ3hCdXFCLEVBQVU1YyxFQUFRLEdBQUc0YyxRQUNyQkMsRUFBVTdjLEVBQVEsR0FBRzZjLFFBQ3JCajFCLEVBQVNvWSxFQUFRLEdBQUdwWSxPQUVmaC9CLEVBQUksRUFBR0EsRUFBSW8zQyxFQUFRbjNDLE9BQVFELElBQ3BDLENBQ0lrc0IsSUFBTWdSLEVBQVVrYSxFQUFRcDNDLEdBR3hCeXBDLEVBQWF2MEIsS0FBSzhRLElBQUl5akIsRUFBWXZNLEVBQU91TSxZQUV6Q3VxQixFQUFVOStDLEtBQUtDLElBQUk2K0MsRUFBUzkyQixFQUFPODJCLFNBRW5DQyxFQUFVQSxHQUFXLzJCLEVBQU8rMkIsUUFFNUJqMUIsRUFBU0EsR0FBVTlCLEVBQU84QixPQUdILElBQXZCNHNCLEVBQVkzckQsU0FFWnFKLEtBQUswcEQsbUJBQW1CLEdBQUdMLGNBQWdCL1osRUFBUytaLGNBQWMzUixTQUd0RTRLLEVBQVk3dEQsS0FBS2cyRCxHQUVqQkEsRUFBTXRxQixXQUFhQSxFQUVuQnNxQixFQUFNLzBCLE9BQVNBLEVBRWYrMEIsRUFBTTM1QyxPQUFTQSxFQUVmMjVDLEVBQU1uQixZQUFZem5CLFNBQVMvd0IsRUFBTys4QixZQUFjLzhCLEVBQU95NUIsV0FBVSxJQUVqRWtnQixFQUFNbkIsWUFBWTdmLElBQUlpaEIsR0FDbEJDLEdBRUFGLEVBQU1uQixZQUFZMWYsSUFBSTVwQyxLQUFLc3ZDLFNBQVMrWixjQUFjQyxhQUl0RG1CLEVBQU1uQixZQUFZcmYsS0FBSzlKLEdBRXZCc3FCLEVBQU1wQixjQUFnQnJwRCxLQUFLNHFELHdCQUF3QkgsRUFBTW5CLFlBQVk5ekIsTUFBT2kxQixFQUFNbkIsWUFBWTd6QixPQUFRMEssR0FDdEdzcUIsRUFBTTNjLFFBQVVBLEVBRWhCMmMsRUFBTTNCLGlCQUFpQnR6QixNQUFRaTFCLEVBQU1wQixjQUFjN3pCLE1BQ25EaTFCLEVBQU0zQixpQkFBaUJyekIsT0FBU2cxQixFQUFNcEIsY0FBYzV6QixPQUVwRGcxQixFQUFNcEIsY0FBY2pFLFlBQWNxRixFQUFNbkIsWUFFeENoYSxFQUFTK1osY0FBY3JyRCxLQUFLeXNELEVBQU1wQixjQUFlb0IsRUFBTW5CLGFBQ3ZEaGEsRUFBUytaLGNBQWNocEIscUJBTzNCemxDLElBQUEsV0FFSWdvQixJQUFNMC9CLEVBQWN0aUQsS0FBSzBwRCxtQkFDbkJlLEVBQVFuSSxFQUFZMW5ELE1BQ3BCa3pDLEVBQVUyYyxFQUFNM2MsUUFFdEI5dEMsS0FBS2dxRCxZQUFjUyxFQUVuQjduQyxJQUFNcW5DLEVBQWlCanFELEtBQUtpcUQsZUFBZWhCLFNBRTNDZ0IsRUFBZUMsWUFBY08sRUFBTW5CLFlBQ25DVyxFQUFlOXBCLFdBQWFzcUIsRUFBTXRxQixXQUVsQ3ZkLElBQU11bkMsRUFBWUYsRUFBZUUsVUFDM0JDLEVBQWFILEVBQWVHLFdBQzVCQyxFQUFhSixFQUFlSSxXQWtCbEMsR0FoQkFGLEVBQVUsR0FBS00sRUFBTTNCLGlCQUFpQnR6QixNQUN0QzIwQixFQUFVLEdBQUtNLEVBQU0zQixpQkFBaUJyekIsT0FDdEMwMEIsRUFBVSxHQUFLLEVBQU1BLEVBQVUsR0FDL0JBLEVBQVUsR0FBSyxFQUFNQSxFQUFVLEdBRS9CQyxFQUFXLEdBQUtELEVBQVUsR0FBS00sRUFBTXRxQixXQUNyQ2lxQixFQUFXLEdBQUtELEVBQVUsR0FBS00sRUFBTXRxQixXQUNyQ2lxQixFQUFXLEdBQUssRUFBTUEsRUFBVyxHQUNqQ0EsRUFBVyxHQUFLLEVBQU1BLEVBQVcsR0FFakNDLEVBQVcsR0FBSyxHQUFNRCxFQUFXLEdBQ2pDQyxFQUFXLEdBQUssR0FBTUQsRUFBVyxHQUNqQ0MsRUFBVyxHQUFNSSxFQUFNbkIsWUFBWTl6QixNQUFRMjBCLEVBQVUsR0FBTyxHQUFNQyxFQUFXLEdBQzdFQyxFQUFXLEdBQU1JLEVBQU1uQixZQUFZN3pCLE9BQVMwMEIsRUFBVSxHQUFPLEdBQU1DLEVBQVcsR0FHMUVLLEVBQU0vMEIsT0FDVixDQUNJOVMsSUFBTWlyQixFQUFhb2MsRUFBZXBjLFdBRWxDQSxFQUFXLEdBQUs0YyxFQUFNM0IsaUJBQWlCdHpCLE1BQ3ZDcVksRUFBVyxHQUFLNGMsRUFBTTNCLGlCQUFpQnJ6QixPQUN2Q29ZLEVBQVcsR0FBSzRjLEVBQU1uQixZQUFZOStDLEVBQ2xDcWpDLEVBQVcsR0FBSzRjLEVBQU1uQixZQUFZNytDLEVBRWxDdy9DLEVBQWVLLFlBQWNMLEVBQWVJLFdBR2hEcnFELEtBQUtpcUQsZUFBZW54RCxTQUVwQjhwQixJQUFNaW9DLEVBQVl2SSxFQUFZQSxFQUFZM3JELE9BQVMsR0FFbkQsR0FBdUIsSUFBbkJtM0MsRUFBUW4zQyxPQUVSbTNDLEVBQVEsR0FBRzEyQyxNQUFNNEksS0FBTXlxRCxFQUFNcEIsY0FBZXdCLEVBQVV4QixlQUFlLEVBQU9vQixHQUU1RXpxRCxLQUFLOHFELG9CQUFvQkwsRUFBTXBCLG1CQUduQyxDQUNJdm1DLElBQUlpb0MsRUFBT04sRUFBTXBCLGNBQ2IyQixFQUFPaHJELEtBQUs0cUQsd0JBQ1pHLEVBQUt2MUIsTUFDTHUxQixFQUFLdDFCLE9BQ0xnMUIsRUFBTXRxQixZQUdWNnFCLEVBQUs1RixZQUFjMkYsRUFBSzNGLFlBRXhCdGlDLElBQUlwc0IsRUFBSSxFQUVSLElBQUtBLEVBQUksRUFBR0EsRUFBSW8zQyxFQUFRbjNDLE9BQVMsSUFBS0QsRUFDdEMsQ0FDSW8zQyxFQUFRcDNDLEdBQUdVLE1BQU00SSxLQUFNK3FELEVBQU1DLEdBQU0sRUFBTVAsR0FFekM3bkMsSUFBTS9zQixFQUFJazFELEVBRVZBLEVBQU9DLEVBQ1BBLEVBQU9uMUQsRUFHWGk0QyxFQUFRcDNDLEdBQUdVLE1BQU00SSxLQUFNK3FELEVBQU1GLEVBQVV4QixlQUFlLEVBQU9vQixHQUU3RHpxRCxLQUFLOHFELG9CQUFvQkMsR0FDekIvcUQsS0FBSzhxRCxvQkFBb0JFLEdBRzdCUCxFQUFNcHFCLFFBQ05yZ0MsS0FBSzRwRCxVQUFVbjFELEtBQUtnMkQsZ0JBV3hCUSxZQUFBLFNBQVlyM0IsRUFBUS9JLEVBQU9WLEVBQVFrVyxHQUUvQnpkLElBQU0wc0IsRUFBV3R2QyxLQUFLc3ZDLFNBRXRCQSxFQUFTK1osY0FBY3JyRCxLQUFLbXNCLEVBQVFBLEVBQVNBLEVBQU9pN0IsWUFBYyxNQUU5RC9rQixHQUdBaVAsRUFBUytaLGNBQWNocEIsUUFLM0J6TSxFQUFPcTFCLFNBQVNpQyxTQUFXcmdDLEVBQzNCK0ksRUFBT3ExQixTQUFTa0MsY0FBZ0JuckQsS0FBS2lxRCxlQU1yQzNhLEVBQVNtYixNQUFNVyxTQUFTeDNCLEVBQU82MkIsT0FDL0JuYixFQUFTK2IsT0FBT3J0RCxLQUFLNDFCLEdBRWpCQSxFQUFPOEIsUUFFUDExQixLQUFLOHBELE9BQU9ydkQsSUFBSW93QixFQUFNMjRCLE9BQVEzNEIsRUFBTXU2QixhQUVwQzlWLEVBQVN1WSxTQUFTN3BELEtBQUtnQyxLQUFLOHBELFFBQzVCeGEsRUFBU3VZLFNBQVN5RCxLQUFLNXlCLEVBQVdLLGFBSWxDdVcsRUFBU3VZLFNBQVM3cEQsS0FBS2dDLEtBQUs2cEQsTUFDNUJ2YSxFQUFTdVksU0FBU3lELEtBQUs1eUIsRUFBV00sOEJBYTFDdXlCLHNCQUFBLFNBQXNCQyxFQUFjQyxHQUVoQyxJQUFBL21DLEVBQTBDMWtCLEtBQUtncUQsWUFBdkNWLEVBQUE1a0MsRUFBQTRrQyxZQUFhUixFQUFBcGtDLEVBQUFva0MsaUJBQ2J6RixFQUFTb0ksRUFBT0MsU0FBaEJySSxLQUNGc0ksRUFBZUgsRUFBYXQyRCxJQUFJNHpELEVBQWlCdHpCLE1BQU8sRUFBRyxFQUM3RHN6QixFQUFpQnJ6QixPQUFRNnpCLEVBQVk5K0MsRUFBRzgrQyxFQUFZNytDLEdBQ2xEcTlCLEVBQWlCMmpCLEVBQU8zakIsZUFBZWhHLE9BQU9pQixHQUFPcUMsYUFPM0QsT0FMQTBDLEVBQWU5QyxTQUNmMm1CLEVBQWFobkIsUUFBUW1ELEdBQ3JCNmpCLEVBQWFsb0IsTUFBTSxFQUFNNGYsRUFBSzd0QixNQUFPLEVBQU02dEIsRUFBSzV0QixRQUNoRGsyQixFQUFhbm9CLFVBQVVpb0IsRUFBT25JLE9BQU85NEMsRUFBR2loRCxFQUFPbkksT0FBTzc0QyxHQUUvQ2toRCxlQVNYbnNCLFFBQUEsU0FBUW9zQixtQkFBYyxHQUViQSxFQU1ENXJELEtBQUsycEQsWUFBYyxHQUpuQjNwRCxLQUFLNnJELHlCQW1CYmpCLHdCQUFBLFNBQXdCa0IsRUFBVUMsRUFBVzVyQixrQkFBYSxHQUV0RHJkLElBQUkva0IsRUE3Vk0sU0FnV1ZndUQsR0FBYTVyQixHQURiMnJCLEdBQVkzckIsS0FHS25nQyxLQUFLdXFELGNBQWdCd0IsSUFBYy9yRCxLQUFLd3FELGdCQUlyRHpzRCxHQUFtQixPQUZuQit0RCxFQUFXN3NCLEVBQVM2c0IsTUFFVSxHQUFtQixPQURqREMsRUFBWTlzQixFQUFTOHNCLEtBSXBCL3JELEtBQUsycEQsWUFBWTVyRCxLQUVsQmlDLEtBQUsycEQsWUFBWTVyRCxHQUFPLElBRzVCK2tCLElBQUl1bUMsRUFBZ0JycEQsS0FBSzJwRCxZQUFZNXJELEdBQUtuRCxNQWdCMUMsT0FkS3l1RCxJQUlEQSxFQUFnQnJFLEdBQWNsbkQsT0FBTyxDQUNqQzAzQixNQUFPczJCLEVBQVczckIsRUFDbEIxSyxPQUFRczJCLEVBQVk1ckIsYUFDcEJBLEtBSVJrcEIsRUFBY2hFLGNBQWdCdG5ELEVBQzlCc3JELEVBQWN0TSxjQUFjNWMsR0FFckJrcEIsZUFTWDJDLGlCQUFBLFNBQWlCN3JCLEdBRWJ2ZCxJQUFNcXBDLEVBQUtqc0QsS0FBS2dxRCxZQUFZWCxjQUV0QjZDLEVBQWdCbHNELEtBQUs0cUQsd0JBQXdCcUIsRUFBR3oyQixNQUFPeTJCLEVBQUd4MkIsT0FBUTBLLEdBQWM4ckIsRUFBR2hULFlBQVk5WSxZQUlyRyxPQUZBK3JCLEVBQWM5RyxZQUFjNkcsRUFBRzdHLFlBRXhCOEcsZUFRWHBCLG9CQUFBLFNBQW9CekIsR0FFaEJ6bUMsSUFBTTdrQixFQUFNc3JELEVBQWNoRSxjQUUxQmdFLEVBQWNqRSxZQUFjLEtBQzVCcGxELEtBQUsycEQsWUFBWTVyRCxHQUFLdEosS0FBSzQwRCxnQkFPL0J3QyxVQUFBLFdBRUksSUFBS2pwQyxJQUFNbHNCLEtBQUtzSixLQUFLMnBELFlBQ3JCLENBQ0kvbUMsSUFBTXVwQyxFQUFXbnNELEtBQUsycEQsWUFBWWp6RCxHQUVsQyxHQUFJeTFELEVBRUEsSUFBS3JwQyxJQUFJNW9CLEVBQUksRUFBR0EsRUFBSWl5RCxFQUFTeDFELE9BQVF1RCxJQUVqQ2l5RCxFQUFTanlELEdBQUdzbEMsU0FBUSxHQUtoQ3gvQixLQUFLMnBELFlBQWMsZ0JBR3ZCdnBCLE9BQUEsV0FFSXhkLElBQU11cEMsRUFBV25zRCxLQUFLMnBELFlBQXFCLE9BRTNDLEdBQUl3QyxFQUVBLElBQUtycEMsSUFBSTVvQixFQUFJLEVBQUdBLEVBQUlpeUQsRUFBU3gxRCxPQUFRdUQsSUFFakNpeUQsRUFBU2p5RCxHQUFHc2xDLFNBQVEsR0FHNUJ4L0IsS0FBSzJwRCxZQUFxQixPQUFJLEdBRTlCM3BELEtBQUt1cUQsYUFBZXZxRCxLQUFLc3ZDLFNBQVN0YSxLQUFLUSxNQUN2Q3gxQixLQUFLd3FELGNBQWdCeHFELEtBQUtzdkMsU0FBU3RhLEtBQUtTLFVBMWJmLENBQVNxckIsSUNuRnJCc0wsR0FBYyxTQUFBNUMsa0pBTS9CdCtDLE1BQUEseUJBU0FrQyxLQUFBLFdBRUlwTixLQUFLNnhDLHFCQU9UQSxNQUFBLHlCQVVBeEMsT0FBQSxTQUFPbnhDLE9BbEN3QixDQUFTNGlELElDQ3ZCdUwsR0FBVyxTQUFBN0MsR0FLNUIsU0FBQTZDLEVBQVkvYyxHQUVSaEMsT0FBS3R0QyxLQUFDc3ZDLEdBT050dkMsS0FBS3NzRCxjQUFnQixJQUFJRixHQUFlOWMsR0FPeEN0dkMsS0FBS3VzRCxnQkFBa0J2c0QsS0FBS3NzRCx3SEFRaENFLGtCQUFBLFNBQWtCQyxHQUVWenNELEtBQUt1c0Qsa0JBQW9CRSxJQUs3QnpzRCxLQUFLdXNELGdCQUFnQm4vQyxPQUNyQnBOLEtBQUt1c0QsZ0JBQWtCRSxFQUV2QnpzRCxLQUFLdXNELGdCQUFnQnJoRCxzQkFPekIybUMsTUFBQSxXQUVJN3hDLEtBQUt3c0Qsa0JBQWtCeHNELEtBQUtzc0QsNEJBTWhDaCtCLE1BQUEsV0FFSXR1QixLQUFLd3NELGtCQUFrQnhzRCxLQUFLc3NELGtCQXhESixDQUFTeEwsSXBFVXpDenNCLEVBQVNxNEIsV0FBYS8zQixFQUFBejVCLEVBQVM0RSxJQUFNdTJCLEVBQUlFLE1BQVFGLEVBQUlHLE9xRWhCckQxVCxJQUFJNnBDLEdBQWMsRUFTR0MsR0FBYSxTQUFBcEQsR0FLOUIsU0FBQXFELEVBQVl2ZCxHQUVSaEMsT0FBS3R0QyxLQUFDc3ZDLEdBT050dkMsS0FBSzA3QyxhQUFlLEVBWXBCMTdDLEtBQUs4c0QsV0FBYSxHQUdsQjlzRCxLQUFLK3NELGtCQUFvQi9zRCxLQUFLK3NELGtCQUFrQi91RCxLQUFLZ0MsTUFDckRBLEtBQUtndEQsc0JBQXdCaHRELEtBQUtndEQsc0JBQXNCaHZELEtBQUtnQyxNQUU3RHN2QyxFQUFTdGEsS0FBSy9hLGlCQUFpQixtQkFBb0JqYSxLQUFLK3NELG1CQUFtQixHQUMzRXpkLEVBQVN0YSxLQUFLL2EsaUJBQWlCLHVCQUF3QmphLEtBQUtndEQsdUJBQXVCLGtJQVF2RjdqQixFQUFJOGpCLE9BQUFoNEQsSUFBQSxXQUVBLE9BQVMrSyxLQUFLMjhCLElBQU0zOEIsS0FBSzI4QixHQUFHdXdCLDZCQU9oQ2xNLGNBQUEsU0FBY3JrQixHQUVWMzhCLEtBQUsyOEIsR0FBS0EsRUFHTkEsRUFBR3V3QixpQkFBbUJ2d0IsRUFBR0ssYUFBYSx1QkFFdENMLEVBQUdLLGFBQWEsc0JBQXNCbXdCLDhCQVU5Q0MsZ0JBQUEsU0FBZ0J6d0IsR0FFWjM4QixLQUFLMjhCLEdBQUtBLEVBQ1YzOEIsS0FBS3F0RCxnQkFBZ0Ixd0IsR0FDckIzOEIsS0FBS3N2QyxTQUFTM1MsR0FBS0EsRUFDbkIzOEIsS0FBS3N2QyxTQUFTcWQsWUFBY0EsS0FDNUIzc0QsS0FBS3N2QyxTQUFTeVIsUUFBUUMsY0FBY3I2QixJQUFJZ1csZ0JBVTVDMndCLGdCQUFBLFNBQWdCdHpELEdBRVo0b0IsSUFBTStaLEVBQUszOEIsS0FBS3V0RCxjQUFjdnRELEtBQUtzdkMsU0FBU3RhLEtBQU1oN0IsR0FFbERnRyxLQUFLb3RELGdCQUFnQnp3QixnQkFXekI0d0IsY0FBQSxTQUFjN3dCLEVBQVExaUMsR0FFbEI4b0IsSUFBSTZaLEVBT0osR0FMSXRJLEVBQVNxNEIsWUFBY3IyQixFQUFJRyxTQUUzQm1HLEVBQUtELEVBQU9FLFdBQVcsU0FBVTVpQyxJQUdqQzJpQyxFQUVBMzhCLEtBQUswN0MsYUFBZSxPQVNwQixHQUxBMTdDLEtBQUswN0MsYUFBZSxJQUVwQi9lLEVBQUtELEVBQU9FLFdBQVcsUUFBUzVpQyxJQUM3QjBpQyxFQUFPRSxXQUFXLHFCQUFzQjVpQyxJQUt2QyxNQUFNLElBQUkvQixNQUFNLHNFQVF4QixPQUpBK0gsS0FBSzI4QixHQUFLQSxFQUVWMzhCLEtBQUt3dEQsZ0JBRUU3d0IsZUFRWDZ3QixjQUFBLFdBR0ksSUFBUTd3QixFQUFPMzhCLEtBQVAyOEIsR0FFa0IsSUFBdEIzOEIsS0FBSzA3QyxjQUVMM29ELE9BQU8wdUIsT0FBT3poQixLQUFLOHNELFdBQVksQ0FDM0JXLFlBQWE5d0IsRUFBR0ssYUFBYSxzQkFDN0J1a0IsYUFBYzVrQixFQUFHSyxhQUFhLDhCQUM5QjB3QixhQUFjL3dCLEVBQUdLLGFBQWEscUJBQzlCRCxZQUFhSixFQUFHSyxhQUFhLHNCQUM3QjJ3QixrQkFBbUJoeEIsRUFBR0ssYUFBYSw0QkFDNUJMLEVBQUdLLGFBQWEsZ0NBQ2hCTCxFQUFHSyxhQUFhLGlEQWFuQyt2QixrQkFBQSxTQUFrQjdrRCxHQUVkQSxFQUFNMGxELDhCQVFWWixzQkFBQSxXQUVJaHRELEtBQUtzdkMsU0FBU3lSLFFBQVFDLGNBQWNyNkIsSUFBSTNtQixLQUFLMjhCLGlCQUdqRDZDLFFBQUEsV0FFSTVjLElBQU1vUyxFQUFPaDFCLEtBQUtzdkMsU0FBU3RhLEtBRzNCQSxFQUFLeGIsb0JBQW9CLG1CQUFvQnhaLEtBQUsrc0QsbUJBQ2xELzNCLEVBQUt4YixvQkFBb0IsdUJBQXdCeFosS0FBS2d0RCx1QkFFdERodEQsS0FBSzI4QixHQUFHa3hCLFdBQVcsTUFFZjd0RCxLQUFLOHNELFdBQVcvdkIsYUFFaEIvOEIsS0FBSzhzRCxXQUFXL3ZCLFlBQVlBLDJCQVNwQyt3QixXQUFBLFdBRUk5dEQsS0FBSzI4QixHQUFHa1YscUJBU1p3YixnQkFBQSxTQUFnQjF3QixHQUVPQSxFQUFHRyx1QkFHTlAsU0FLWjVuQyxRQUFRQyxLQUFLLG1JQTdOUyxDQUFTa3NELElDQXRCaU4sR0FBaUIsU0FBQXZFLEdBS2xDLFNBQUF3RSxFQUFZMWUsR0FFUmhDLE9BQUt0dEMsS0FBQ3N2QyxHQU9OdHZDLEtBQUtpdUQsb0JBQXNCLEdBTzNCanVELEtBQUtrdUQsbUJBQXFCLElBQUkvTSxHQUFZLEdBQUksNklBTWxESCxjQUFBLFdBRUlwK0IsSUFBTStaLEVBQUszOEIsS0FBSzI4QixHQUFLMzhCLEtBQUtzdkMsU0FBUzNTLEdBV25DLEdBVEEzOEIsS0FBSzJzRCxZQUFjM3NELEtBQUtzdkMsU0FBU3FkLFlBQ2pDM3NELEtBQUswM0MsUUFBVTEzQyxLQUFLa3VELG1CQUNwQmx1RCxLQUFLbXVELFNBQVcsSUFBSS9rQixHQUNwQnBwQyxLQUFLb3VELFFBQVMsRUFDZHB1RCxLQUFLcXVELG1CQUFvQixFQUV6QnJ1RCxLQUFLc3VELFlBQVcsR0FHMkIsSUFBdkN0dUQsS0FBS3N2QyxTQUFTeG5DLFFBQVE0ekMsYUFDMUIsQ0FFSTU0QixJQUFJeXJDLEVBQTZCdnVELEtBQUtzdkMsU0FBU3huQyxRQUFRZ2xELFdBQVdXLFlBQzlEZSxFQUE4Qnh1RCxLQUFLc3ZDLFNBQVN4bkMsUUFBUWdsRCxXQUFXdkwsYUFFL0RsdEIsRUFBU3E0QixhQUFlcjJCLEVBQUlDLGVBRTVCaTRCLEVBQTZCLEtBQzdCQyxFQUE4QixNQUc5QkQsRUFFQTV4QixFQUFHOHdCLFlBQVcsU0FBSWdCLEdBQWdCLE9BQzlCRixFQUEyQkcsaUJBQWlCRCxLQUloRHp1RCxLQUFLb3VELFFBQVMsRUFDZHp4QixFQUFHOHdCLFlBQVcsY0FNYmUsSUFFRHh1RCxLQUFLcXVELG1CQUFvQixpQkFXckNyd0QsS0FBQSxTQUFLb2tELEVBQWFPLEdBRWQsSUFBUWhtQixFQUFPMzhCLEtBQVAyOEIsR0FFUixHQUFJeWxCLEVBQ0osQ0FHSXgvQixJQUFNK3JDLEVBQU12TSxFQUFZWCxlQUFlemhELEtBQUsyc0QsY0FBZ0Izc0QsS0FBSzR1RCxnQkFBZ0J4TSxHQUU3RXBpRCxLQUFLMDNDLFVBQVkwSyxJQUVqQnBpRCxLQUFLMDNDLFFBQVUwSyxFQUNmemxCLEVBQUdreUIsZ0JBQWdCbHlCLEVBQUdteUIsWUFBYUgsRUFBSXZNLGNBS3ZDdU0sRUFBSXZULFVBQVlnSCxFQUFZaEgsVUFFNUJ1VCxFQUFJdlQsUUFBVWdILEVBQVloSCxRQUV0QnVULEVBQUl0TixjQUFnQmUsRUFBWWYsYUFFaENzTixFQUFJdE4sWUFBY2UsRUFBWWYsWUFDOUJyaEQsS0FBSyt1RCxrQkFBa0IzTSxJQUVsQnVNLEVBQUlyTixZQUFjYyxFQUFZZCxZQUVuQ3FOLEVBQUlyTixVQUFZYyxFQUFZZCxVQUM1QnRoRCxLQUFLZ3ZELGtCQUFrQjVNLEtBSS9CLElBQUt0L0IsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUkwckQsRUFBWVosY0FBYzdxRCxPQUFRRCxJQUU5QzByRCxFQUFZWixjQUFjOXFELEdBQUd1NEQsWUFFN0JqdkQsS0FBS3N2QyxTQUFTdU8sUUFBUTNFLE9BQU9rSixFQUFZWixjQUFjOXFELEdBQUdtbkQsU0FJMUQ3OUMsS0FBS3N2QyxTQUFTdU8sUUFBUTNFLE9BQU9rSixFQUFZWixjQUFjOXFELElBSTNEMHJELEVBQVliLGNBRVp2aEQsS0FBS3N2QyxTQUFTdU8sUUFBUTNFLE9BQU9rSixFQUFZYixjQUd6Q29CLEVBRUEzaUQsS0FBS2t2RCxZQUFZdk0sRUFBTW40QyxFQUFHbTRDLEVBQU1sNEMsRUFBR2s0QyxFQUFNbnRCLE1BQU9tdEIsRUFBTWx0QixRQUl0RHoxQixLQUFLa3ZELFlBQVksRUFBRyxFQUFHOU0sRUFBWTVzQixNQUFPNHNCLEVBQVkzc0IsYUFLdER6MUIsS0FBSzAzQyxVQUVMMTNDLEtBQUswM0MsUUFBVSxLQUNmL2EsRUFBR2t5QixnQkFBZ0JseUIsRUFBR215QixZQUFhLE9BR25Dbk0sRUFFQTNpRCxLQUFLa3ZELFlBQVl2TSxFQUFNbjRDLEVBQUdtNEMsRUFBTWw0QyxFQUFHazRDLEVBQU1udEIsTUFBT210QixFQUFNbHRCLFFBSXREejFCLEtBQUtrdkQsWUFBWSxFQUFHLEVBQUdsdkQsS0FBS3N2QyxTQUFTOVosTUFBT3gxQixLQUFLc3ZDLFNBQVM3WixxQkFhdEV5NUIsWUFBQSxTQUFZMWtELEVBQUdDLEVBQUcrcUIsRUFBT0MsR0FFckI3UyxJQUFNbGtCLEVBQUlzQixLQUFLbXVELFNBRVh6dkQsRUFBRTgyQixRQUFVQSxHQUFTOTJCLEVBQUUrMkIsU0FBV0EsR0FBVS8yQixFQUFFOEwsSUFBTUEsR0FBSzlMLEVBQUUrTCxJQUFNQSxJQUVqRS9MLEVBQUU4TCxFQUFJQSxFQUNOOUwsRUFBRStMLEVBQUlBLEVBQ04vTCxFQUFFODJCLE1BQVFBLEVBQ1Y5MkIsRUFBRSsyQixPQUFTQSxFQUVYejFCLEtBQUsyOEIsR0FBR3d4QixTQUFTM2pELEVBQUdDLEVBQUcrcUIsRUFBT0MsS0FVdEMwVCxFQUFJM0ssS0FBQXZwQyxJQUFBLFdBRUEsT0FBSStLLEtBQUswM0MsUUFHRSxDQUFFbHRDLEVBQUcsRUFBR0MsRUFBRyxFQUFHK3FCLE1BQU94MUIsS0FBSzAzQyxRQUFRbGlCLE1BQU9DLE9BQVF6MUIsS0FBSzAzQyxRQUFRamlCLFFBR2xFLENBQUVqckIsRUFBRyxFQUFHQyxFQUFHLEVBQUcrcUIsTUFBT3gxQixLQUFLc3ZDLFNBQVM5WixNQUFPQyxPQUFRejFCLEtBQUtzdkMsU0FBUzdaLHFCQVczRTRLLE1BQUEsU0FBTTVpQyxFQUFHd0MsRUFBRzlFLEVBQUdELEdBRVgsSUFBUXloQyxFQUFPMzhCLEtBQVAyOEIsR0FHUkEsRUFBR3dsQixXQUFXMWtELEVBQUd3QyxFQUFHOUUsRUFBR0QsR0FDdkJ5aEMsRUFBRzBELE1BQU0xRCxFQUFHd3lCLGlCQUFtQnh5QixFQUFHeXlCLCtCQVN0Q1IsZ0JBQUEsU0FBZ0J4TSxHQUVaLElBR011TSxFQUFNLENBQ1J2TSxZQUpXcGlELEtBQVAyOEIsR0FJWTB5QixvQkFDaEI5eUIsUUFBUyxLQUNUNmUsUUFBUyxFQUNUaUcsWUFBYSxFQUNiQyxVQUFXLEdBUWYsT0FMQWMsRUFBWVgsZUFBZXpoRCxLQUFLMnNELGFBQWVnQyxFQUUvQzN1RCxLQUFLaXVELG9CQUFvQng1RCxLQUFLMnRELEdBQzlCQSxFQUFZVixjQUFjMXpCLElBQUlodUIsTUFFdkIydUQsZUFTWEssa0JBQUEsU0FBa0I1TSxHQUVkLElBQVF6bEIsRUFBTzM4QixLQUFQMjhCLEdBRUZneUIsRUFBTXZNLEVBQVlYLGVBQWV6aEQsS0FBSzJzRCxhQUV4Q2dDLEVBQUlweUIsVUFFSkksRUFBRzJ5QixpQkFBaUIzeUIsRUFBRzR5QixhQUFjWixFQUFJcHlCLFNBQ3pDSSxFQUFHNnlCLG9CQUFvQjd5QixFQUFHNHlCLGFBQWM1eUIsRUFBR2xELGNBQWUyb0IsRUFBWTVzQixNQUFPNHNCLEVBQVkzc0IsU0FLN0YsSUFGQTdTLElBQU00K0IsRUFBZ0JZLEVBQVlaLGNBRXpCOXFELEVBQUksRUFBR0EsRUFBSThxRCxFQUFjN3FELE9BQVFELElBRXRDc0osS0FBS3N2QyxTQUFTdU8sUUFBUTcvQyxLQUFLd2pELEVBQWM5cUQsR0FBSSxHQUc3QzByRCxFQUFZYixjQUVadmhELEtBQUtzdkMsU0FBU3VPLFFBQVE3L0MsS0FBS29rRCxFQUFZYixhQUFjLGdCQVU3RHdOLGtCQUFBLFNBQWtCM00sR0FFZCxJQUFRemxCLEVBQU8zOEIsS0FBUDI4QixHQUVGZ3lCLEVBQU12TSxFQUFZWCxlQUFlemhELEtBQUsyc0QsYUFLeEM4QyxFQUZrQnJOLEVBQVlaLGNBRVI3cUQsT0FFckJnbUMsRUFBRzh3QixjQUVKZ0MsRUFBUTdqRCxLQUFLOFEsSUFBSSt5QyxFQUFPLElBSzVCLElBRkE3c0MsSUFBTTZyQyxFQUFpQixHQUVkLzNELEVBQUksRUFBR0EsRUFBSSs0RCxFQUFPLzRELElBQzNCLENBQ0lrc0IsSUFBTWk3QixFQUFVdUUsRUFBWVosY0FBYzlxRCxHQUV0Q21uRCxFQUFRb1IsYUFFUmp2RCxLQUFLc3ZDLFNBQVN1TyxRQUFRNy9DLEtBQUs2L0MsRUFBUUEsUUFBUyxHQUU1Q2xoQixFQUFHK3lCLHFCQUFxQi95QixFQUFHbXlCLFlBQ3ZCbnlCLEVBQUdnekIsa0JBQW9CajVELEVBQ3ZCaW1DLEVBQUc1Qyw0QkFBOEI4akIsRUFBUVEsS0FDekNSLEVBQVFBLFFBQVEzQyxZQUFZbDdDLEtBQUsyc0QsYUFBYTlPLFFBQzlDLEtBSUo3OUMsS0FBS3N2QyxTQUFTdU8sUUFBUTcvQyxLQUFLNi9DLEVBQVMsR0FFcENsaEIsRUFBRyt5QixxQkFBcUIveUIsRUFBR215QixZQUN2Qm55QixFQUFHZ3pCLGtCQUFvQmo1RCxFQUN2QmltQyxFQUFHaEQsV0FDSGtrQixFQUFRM0MsWUFBWWw3QyxLQUFLMnNELGFBQWE5TyxRQUN0QyxJQUdSNFEsRUFBZWg2RCxLQUFLa29DLEVBQUdnekIsa0JBQW9CajVELEdBUS9DLElBTEkrM0QsRUFBZTkzRCxPQUFTLEdBRXhCZ21DLEVBQUc4d0IsWUFBWWdCLEdBR2ZyTSxFQUFZYixlQUVjdmhELEtBQUtxdUQsa0JBRy9CLENBQ0l6ckMsSUFBTTIrQixFQUFlYSxFQUFZYixhQUVqQ3ZoRCxLQUFLc3ZDLFNBQVN1TyxRQUFRNy9DLEtBQUt1akQsRUFBYyxHQUV6QzVrQixFQUFHK3lCLHFCQUFxQi95QixFQUFHbXlCLFlBQ3ZCbnlCLEVBQUdpekIsaUJBQ0hqekIsRUFBR2hELFdBQ0g0bkIsRUFBYXJHLFlBQVlsN0MsS0FBSzJzRCxhQUFhOU8sUUFDM0MsR0FJUDhRLEVBQUlweUIsVUFBWTZsQixFQUFZN2xCLFVBQVc2bEIsRUFBWWhCLFFBRXBEdU4sRUFBSXB5QixRQUFVSSxFQUFHa3pCLHFCQUVqQmx6QixFQUFHMnlCLGlCQUFpQjN5QixFQUFHNHlCLGFBQWNaLEVBQUlweUIsU0FHcEM2bEIsRUFBWWIsY0FFYjVrQixFQUFHbXpCLHdCQUF3Qm56QixFQUFHbXlCLFlBQWFueUIsRUFBR296Qix5QkFBMEJwekIsRUFBRzR5QixhQUFjWixFQUFJcHlCLFNBRWpHSSxFQUFHNnlCLG9CQUFvQjd5QixFQUFHNHlCLGFBQWM1eUIsRUFBR2xELGNBQWUyb0IsRUFBWTVzQixNQUFPNHNCLEVBQVkzc0Isc0JBVWpHdTZCLG1CQUFBLFNBQW1CNU4sRUFBYXdKLEdBRTVCaHBDLElBQU0rckMsRUFBTXZNLEVBQVlYLGVBQWV6aEQsS0FBSzJzRCxhQUN0Q2h3QixFQUFLMzhCLEtBQUsyOEIsR0FFaEIsR0FBS2d5QixFQUFMLFFBS092TSxFQUFZWCxlQUFlemhELEtBQUsyc0QsYUFFdkMvcEMsSUFBTW5HLEVBQVF6YyxLQUFLaXVELG9CQUFvQno1RCxRQUFRNHRELEdBRTNDM2xDLEdBQVMsR0FFVHpjLEtBQUtpdUQsb0JBQW9CaDNELE9BQU93bEIsRUFBTyxHQUczQzJsQyxFQUFZVixjQUFjdnZCLE9BQU9ueUIsTUFFNUI0ckQsSUFFRGp2QixFQUFHc3pCLGtCQUFrQnRCLEVBQUl2TSxhQUNyQnVNLEVBQUlweUIsU0FFSkksRUFBR3V6QixtQkFBbUJ2QixFQUFJcHlCLHdCQVN0Qyt4QixXQUFBLFNBQVcxQyxHQUVQaHBDLElBQU14WCxFQUFPcEwsS0FBS2l1RCxvQkFFbEJqdUQsS0FBS2l1RCxvQkFBc0IsR0FFM0IsSUFBS25yQyxJQUFJcHNCLEVBQUksRUFBR0EsRUFBSTBVLEVBQUtxa0QsTUFBTy80RCxJQUU1QnNKLEtBQUtnd0QsbUJBQW1CNWtELEVBQUsxVSxHQUFJazFELGdCQVN6Q3Q5QixNQUFBLFdBRUl0dUIsS0FBSzAzQyxRQUFVMTNDLEtBQUtrdUQsbUJBQ3BCbHVELEtBQUttdUQsU0FBVyxJQUFJL2tCLDZDQXhhVSxDQUFTMFgsSUNiMUJxUCxHQUVqQixTQUFZcDhDLEdBRVIvVCxLQUFLK1QsT0FBU0EsRUFDZC9ULEtBQUs0ckMsVUFBWSxFQUNqQjVyQyxLQUFLb3dELFlBQWMsRUFDbkJwd0QsS0FBSzZtRCxTQUFXLEdDRmxCWixHQUFjLENBQUVDLEtBQU0sRUFBR0MsS0FBTSxFQUFHQyxLQUFNLEdBU3pCaUssR0FBYyxTQUFBN0csR0FLL0IsU0FBQThHLEVBQVloaEIsR0FFUmhDLE9BQUt0dEMsS0FBQ3N2QyxHQUVOdHZDLEtBQUt1d0QsZ0JBQWtCLEtBQ3ZCdndELEtBQUt3d0QsV0FBYSxLQU9sQnh3RCxLQUFLeXdELFFBQVMsRUFPZHp3RCxLQUFLMHdELGFBQWMsRUFRbkIxd0QsS0FBSzJ3RCxhQUFlLEdBT3BCM3dELEtBQUs0d0Qsa0JBQW9CLEdBT3pCNXdELEtBQUs2d0QsZUFBaUIsNkdBTTFCN1AsY0FBQSxXQUVJaGhELEtBQUtzdUQsWUFBVyxHQUVoQjFyQyxJQUFNK1osRUFBSzM4QixLQUFLMjhCLEdBQUszOEIsS0FBS3N2QyxTQUFTM1MsR0FLbkMsR0FIQTM4QixLQUFLMnNELFlBQWMzc0QsS0FBS3N2QyxTQUFTcWQsYUFHNUJod0IsRUFBR20wQixrQkFDUixDQUVJaHVDLElBQUlpdUMsRUFBcUIvd0QsS0FBS3N2QyxTQUFTeG5DLFFBQVFnbEQsV0FBV2Esa0JBRXREdDVCLEVBQVNxNEIsYUFBZXIyQixFQUFJQyxlQUU1Qnk2QixFQUFxQixNQUdyQkEsR0FFQXAwQixFQUFHbTBCLGtCQUFpQixXQUFNLE9BQ3RCQyxFQUFtQkMsd0JBRXZCcjBCLEVBQUdzMEIsZ0JBQWUsU0FBSUMsR0FBSyxPQUN2QkgsRUFBbUJJLG1CQUFtQkQsSUFFMUN2MEIsRUFBR3kwQixrQkFBaUIsU0FBSUYsR0FBSyxPQUN6QkgsRUFBbUJNLHFCQUFxQkgsTUFJNUNseEQsS0FBS3l3RCxRQUFTLEVBQ2Q5ekIsRUFBR20wQixrQkFBaUIsYUFLcEJuMEIsRUFBR3MwQixnQkFBZSxhQUtsQnQwQixFQUFHeTBCLGtCQUFpQixjQU81QixJQUFLejBCLEVBQUcyMEIsb0JBQ1IsQ0FDSTF1QyxJQUFNMnVDLEVBQWM1MEIsRUFBR0ssYUFBYSwwQkFFaEN1MEIsR0FFQTUwQixFQUFHMjBCLG9CQUFtQixTQUFJcDJELEVBQUdDLEdBQUcsT0FDNUJvMkQsRUFBWUMseUJBQXlCdDJELEVBQUdDLElBRTVDd2hDLEVBQUc4MEIsc0JBQXFCLFNBQUl2MkQsRUFBR0MsRUFBR2pDLEVBQUdvRSxFQUFHakksR0FBRyxPQUN2Q2s4RCxFQUFZRywyQkFBMkJ4MkQsRUFBR0MsRUFBR2pDLEVBQUdvRSxFQUFHakksSUFFdkRzbkMsRUFBR2cxQixvQkFBbUIsU0FBSXoyRCxFQUFHQyxFQUFHakMsRUFBR29FLEdBQUcsT0FDbENpMEQsRUFBWUsseUJBQXlCMTJELEVBQUdDLEVBQUdqQyxFQUFHb0UsS0FJbEQwQyxLQUFLMHdELGFBQWMsZ0JBVy9CMXlELEtBQUEsU0FBSzZwRCxFQUFVd0QsR0FFWEEsRUFBU0EsR0FBVXJyRCxLQUFLc3ZDLFNBQVMrYixPQUFPQSxPQUV4QyxJQUFRMXVCLEVBQU8zOEIsS0FBUDI4QixHQU1KazFCLEVBQU9oSyxFQUFTcEIscUJBQXFCem1ELEtBQUsyc0QsYUFFekNrRixJQUVEN3hELEtBQUs0d0Qsa0JBQWtCL0ksRUFBUzd2RCxJQUFNNnZELEVBQ3RDQSxFQUFTbkcsY0FBYzF6QixJQUFJaHVCLE1BQzNCNm5ELEVBQVNwQixxQkFBcUJ6bUQsS0FBSzJzRCxhQUFla0YsRUFBTyxJQUc3RGp2QyxJQUFNc3VDLEVBQU1XLEVBQUt4RyxFQUFPeUcsUUFBUTk1RCxLQUFPZ0ksS0FBSyt4RCxnQkFBZ0JsSyxFQUFVd0QsRUFBT3lHLFNBRTdFOXhELEtBQUt1d0QsZ0JBQWtCMUksRUFFbkI3bkQsS0FBS3d3RCxhQUFlVSxJQUVwQmx4RCxLQUFLd3dELFdBQWFVLEVBRWRseEQsS0FBS3l3RCxPQUVMOXpCLEVBQUdzMEIsZ0JBQWdCQyxHQUluQmx4RCxLQUFLZ3lELFlBQVluSyxFQUFVd0QsRUFBT3lHLFVBTzFDOXhELEtBQUtpeUQsNkJBTVQzakMsTUFBQSxXQUVJdHVCLEtBQUtrNUMsc0JBT1QrWSxjQUFBLFdBS0ksSUFIQXJ2QyxJQUFNaWxDLEVBQVc3bkQsS0FBS3V3RCxnQkFDZDV6QixFQUFPMzhCLEtBQVAyOEIsR0FFQ2ptQyxFQUFJLEVBQUdBLEVBQUlteEQsRUFBU3ZCLFFBQVEzdkQsT0FBUUQsSUFDN0MsQ0FDSWtzQixJQUFNN08sRUFBUzh6QyxFQUFTdkIsUUFBUTV2RCxHQUUxQnc3RCxFQUFXbitDLEVBQU84eEMsV0FBVzdsRCxLQUFLMnNELGFBRXhDLEdBQUk1NEMsRUFBTyt2QyxZQUFjb08sRUFBU3RtQixTQUNsQyxDQUNJc21CLEVBQVN0bUIsU0FBVzczQixFQUFPK3ZDLFVBRzNCbGhDLElBQU0vbkIsRUFBT2taLEVBQU8wSSxNQUFRa2dCLEVBQUd3MUIscUJBQXVCeDFCLEVBQUd5MUIsYUFZekQsR0FMQXoxQixFQUFHMDFCLFdBQVd4M0QsRUFBTXEzRCxFQUFTbitDLFFBRzdCL1QsS0FBS3N5RCxhQUFlSixFQUVoQkEsRUFBUzlCLFlBQWNyOEMsRUFBT3BjLEtBQUt5NEQsV0FHbkN6ekIsRUFBRzQxQixjQUFjMTNELEVBQU0sRUFBR2taLEVBQU9wYyxVQUdyQyxDQUNJaXJCLElBQU00dkMsRUFBV3orQyxFQUFPK3hDLE9BQVNucEIsRUFBRzgxQixZQUFjOTFCLEVBQUcrMUIsYUFFckRSLEVBQVM5QixXQUFhcjhDLEVBQU9wYyxLQUFLeTRELFdBQ2xDenpCLEVBQUdnMkIsV0FBVzkzRCxFQUFNa1osRUFBT3BjLEtBQU02NkQsbUJBWWpESSxtQkFBQSxTQUFtQi9LLEVBQVVpSyxHQUd6Qmx2QyxJQUFNaXdDLEVBQXFCaEwsRUFBU3RCLFdBQzlCdU0sRUFBbUJoQixFQUFRaUIsY0FFakMsSUFBS253QyxJQUFNMW9CLEtBQUs0NEQsRUFFWixJQUFLRCxFQUFtQjM0RCxHQUVwQixNQUFNLElBQUlqQyxNQUFLLDJEQUE0RGlDLEVBQUMsNEJBYXhGODRELGFBQUEsU0FBYW5MLEVBQVVpSyxHQUVuQmx2QyxJQUFNcXdDLEVBQVVwTCxFQUFTdEIsV0FDbkJ1TSxFQUFtQmhCLEVBQVFpQixjQUUzQkcsRUFBVSxDQUFDLElBQUtyTCxFQUFTN3ZELElBRS9CLElBQUs0cUIsSUFBTWxzQixLQUFLdThELEVBRVJILEVBQWlCcDhELElBRWpCdzhELEVBQVF6K0QsS0FBS2lDLEdBSXJCLE9BQU93OEQsRUFBUXYzRCxLQUFLLGtCQVd4Qm8yRCxnQkFBQSxTQUFnQmxLLEVBQVVpSyxHQUV0Qjl4RCxLQUFLNHlELG1CQUFtQi9LLEVBQVVpSyxHQUVsQ2x2QyxJQUFNK1osRUFBSzM4QixLQUFLMjhCLEdBQ1Znd0IsRUFBYzNzRCxLQUFLMnNELFlBRW5Cd0csRUFBWW56RCxLQUFLZ3pELGFBQWFuTCxFQUFVaUssR0FFeENzQixFQUFnQnZMLEVBQVNwQixxQkFBcUJ6bUQsS0FBSzJzRCxhQUVyRHVFLEVBQU1rQyxFQUFjRCxHQUV4QixHQUFJakMsRUFLQSxPQUZBa0MsRUFBY3RCLEVBQVE5NUQsSUFBTWs1RCxFQUVyQkEsRUFHWHR1QyxJQUFNMGpDLEVBQVV1QixFQUFTdkIsUUFDbkJDLEVBQWFzQixFQUFTdEIsV0FDdEI4TSxFQUFhLEdBQ2JDLEVBQVksR0FFbEIsSUFBSzF3QyxJQUFNMW9CLEtBQUtvc0QsRUFFWitNLEVBQVduNUQsR0FBSyxFQUNoQm81RCxFQUFVcDVELEdBQUssRUFHbkIsSUFBSzBvQixJQUFNMW9CLEtBQUtxc0QsR0FFUEEsRUFBV3JzRCxHQUFHc2tDLE1BQVFzekIsRUFBUWlCLGNBQWM3NEQsR0FFN0Nxc0QsRUFBV3JzRCxHQUFHc2tDLEtBQU9zekIsRUFBUWlCLGNBQWM3NEQsR0FBR3NrQyxLQUV4QytuQixFQUFXcnNELEdBQUdza0MsTUFFcEI3cEMsUUFBUUMsS0FBSSw0QkFBNkJzRixFQUFDLHFGQUc5Q201RCxFQUFXOU0sRUFBV3JzRCxHQUFHNlosU0FBV3d5QyxFQUFXcnNELEdBQUdza0MsS0FBT3luQixHQUFZTSxFQUFXcnNELEdBQUdXLE1BR3ZGLElBQUsrbkIsSUFBTTFvQixLQUFLcXNELEVBQ2hCLENBQ0kzakMsSUFBTTRrQyxFQUFZakIsRUFBV3JzRCxHQUN2QnE1RCxFQUFhL0wsRUFBVWhwQixVQUVKL25DLElBQXJCK3dELEVBQVUvQixTQUVONE4sRUFBVzdMLEVBQVV6ekMsVUFBWXcvQyxFQUFhdE4sR0FBWXVCLEVBQVUzc0QsTUFFcEUyc0QsRUFBVS9CLE9BQVMsRUFJbkIrQixFQUFVL0IsT0FBUzROLEVBQVc3TCxFQUFVenpDLGNBSXhCdGQsSUFBcEIrd0QsRUFBVXQ4QyxRQUVWczhDLEVBQVV0OEMsTUFBUW9vRCxFQUFVOUwsRUFBVXp6QyxRQUV0Q3UvQyxFQUFVOUwsRUFBVXp6QyxTQUFXdy9DLEVBQWF0TixHQUFZdUIsRUFBVTNzRCxPQUkxRXEyRCxFQUFNdjBCLEVBQUdtMEIsb0JBRVRuMEIsRUFBR3MwQixnQkFBZ0JDLEdBSW5CLElBQUtwdUMsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUk0dkQsRUFBUTN2RCxPQUFRRCxJQUNwQyxDQUNJa3NCLElBQU03TyxFQUFTdXlDLEVBQVE1dkQsR0FFbEJxZCxFQUFPOHhDLFdBQVc4RyxLQUVuQjU0QyxFQUFPOHhDLFdBQVc4RyxHQUFlLElBQUl3RCxHQUFTeHpCLEVBQUc2MkIsZ0JBQ2pEeHpELEtBQUs2d0QsZUFBZTk4QyxFQUFPL2IsSUFBTStiLEVBQ2pDQSxFQUFPMnRDLGNBQWMxekIsSUFBSWh1QixPQUc3QitULEVBQU84eEMsV0FBVzhHLEdBQWE5RixXQWNuQyxPQVJBN21ELEtBQUtneUQsWUFBWW5LLEVBQVVpSyxHQUUzQjl4RCxLQUFLd3dELFdBQWFVLEVBR2xCa0MsRUFBY3RCLEVBQVE5NUQsSUFBTWs1RCxFQUM1QmtDLEVBQWNELEdBQWFqQyxFQUVwQkEsZUFRWHVDLGNBQUEsU0FBYzEvQyxFQUFRNjNDLEdBRWxCLEdBQUs1ckQsS0FBSzZ3RCxlQUFlOThDLEVBQU8vYixJQUFoQyxRQUtPZ0ksS0FBSzZ3RCxlQUFlOThDLEVBQU8vYixJQUVsQzRxQixJQUFNc3ZDLEVBQVduK0MsRUFBTzh4QyxXQUFXN2xELEtBQUsyc0QsYUFDbENod0IsRUFBSzM4QixLQUFLMjhCLEdBRWhCNW9CLEVBQU8ydEMsY0FBY3Z2QixPQUFPbnlCLE1BRXZCa3lELElBS0F0RyxHQUVEanZCLEVBQUcrMkIsYUFBYXhCLEVBQVNuK0MsZUFHdEJBLEVBQU84eEMsV0FBVzdsRCxLQUFLMnNELDRCQVFsQ2dILGdCQUFBLFNBQWdCOUwsRUFBVStELEdBRXRCLEdBQUs1ckQsS0FBSzR3RCxrQkFBa0IvSSxFQUFTN3ZELElBQXJDLFFBS09nSSxLQUFLNHdELGtCQUFrQi9JLEVBQVM3dkQsSUFFdkM0cUIsSUFBTWl2QyxFQUFPaEssRUFBU3BCLHFCQUFxQnptRCxLQUFLMnNELGFBQzFDaHdCLEVBQUszOEIsS0FBSzI4QixHQUNWMnBCLEVBQVV1QixFQUFTdkIsUUFJekIsR0FGQXVCLEVBQVNuRyxjQUFjdnZCLE9BQU9ueUIsTUFFekI2eEQsRUFBTCxDQUtBLElBQUsvdUMsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUk0dkQsRUFBUTN2RCxPQUFRRCxJQUNwQyxDQUNJa3NCLElBQU1neEMsRUFBTXROLEVBQVE1dkQsR0FBR212RCxXQUFXN2xELEtBQUsyc0QsYUFFdkNpSCxFQUFJL00sV0FDaUIsSUFBakIrTSxFQUFJL00sVUFBbUIrRSxHQUV2QjVyRCxLQUFLeXpELGNBQWNuTixFQUFRNXZELEdBQUlrMUQsR0FJdkMsSUFBS0EsRUFFRCxJQUFLaHBDLElBQU1peEMsS0FBU2hDLEVBR2hCLEdBQWlCLE1BQWJnQyxFQUFNLEdBQ1YsQ0FDSWp4QyxJQUFNc3VDLEVBQU1XLEVBQUtnQyxHQUViN3pELEtBQUt3d0QsYUFBZVUsR0FFcEJseEQsS0FBS2s1QyxTQUVUdmMsRUFBR3kwQixrQkFBa0JGLFVBSzFCckosRUFBU3BCLHFCQUFxQnptRCxLQUFLMnNELDRCQU85QzJCLFdBQUEsU0FBVzFDLEdBSVAsSUFGQTlvQyxJQUFJNUIsRUFBTW51QixPQUFPcUosS0FBSzRELEtBQUs0d0QsbUJBRWxCbDZELEVBQUksRUFBR0EsRUFBSXdxQixFQUFJdnFCLE9BQVFELElBRTVCc0osS0FBSzJ6RCxnQkFBZ0IzekQsS0FBSzR3RCxrQkFBa0IxdkMsRUFBSXhxQixJQUFLazFELEdBRXpEMXFDLEVBQU1udUIsT0FBT3FKLEtBQUs0RCxLQUFLNndELGdCQUN2QixJQUFLL3RDLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJd3FCLEVBQUl2cUIsT0FBUUQsSUFFNUJzSixLQUFLeXpELGNBQWN6ekQsS0FBSzZ3RCxlQUFlM3ZDLEVBQUl4cUIsSUFBS2sxRCxnQkFXeERvRyxZQUFBLFNBQVluSyxFQUFVaUssR0FFbEJsdkMsSUFBTStaLEVBQUszOEIsS0FBSzI4QixHQUNWZ3dCLEVBQWMzc0QsS0FBSzJzRCxZQUNuQnJHLEVBQVV1QixFQUFTdkIsUUFDbkJDLEVBQWFzQixFQUFTdEIsV0FFeEJzQixFQUFTckIsYUFHVDdwQixFQUFHMDFCLFdBQVcxMUIsRUFBR3cxQixxQkFBc0J0SyxFQUFTckIsWUFBWVgsV0FBVzhHLEdBQWE1NEMsUUFHeEYrTyxJQUFJZ3hDLEVBQWEsS0FHakIsSUFBS2x4QyxJQUFNMW9CLEtBQUtxc0QsRUFDaEIsQ0FDSTNqQyxJQUFNNGtDLEVBQVlqQixFQUFXcnNELEdBRXZCZzRELEVBRFM1TCxFQUFRa0IsRUFBVXp6QyxRQUNUOHhDLFdBQVc4RyxHQUVuQyxHQUFJbUYsRUFBUWlCLGNBQWM3NEQsR0FDMUIsQ0FDUTQ1RCxJQUFlNUIsSUFFZnYxQixFQUFHMDFCLFdBQVcxMUIsRUFBR3kxQixhQUFjRixFQUFTbitDLFFBRXhDKy9DLEVBQWE1QixHQUdqQnR2QyxJQUFNNUcsRUFBVzgxQyxFQUFRaUIsY0FBYzc0RCxHQUFHOGhCLFNBYTFDLEdBVEEyZ0IsRUFBR28zQix3QkFBd0IvM0MsR0FFM0IyZ0IsRUFBR3EzQixvQkFBb0JoNEMsRUFDbkJ3ckMsRUFBVWhwQixLQUNWZ3BCLEVBQVUzc0QsTUFBUThoQyxFQUFHakMsTUFDckI4c0IsRUFBVWhDLFdBQ1ZnQyxFQUFVL0IsT0FDVitCLEVBQVV0OEMsT0FFVnM4QyxFQUFVbDJDLFNBQ2QsQ0FFSSxJQUFJdFIsS0FBSzB3RCxZQU1MLE1BQU0sSUFBSXo0RCxNQUFNLGtFQUpoQjBrQyxFQUFHMjBCLG9CQUFvQnQxQyxFQUFVLG1CQW1CckRzdkMsS0FBQSxTQUFLendELEVBQU0yakMsRUFBTXR6QixFQUFPeTdDLEdBRXBCLElBQVFocUIsRUFBTzM4QixLQUFQMjhCLEdBQ0ZrckIsRUFBVzduRCxLQUFLdXdELGdCQTJCdEIsT0F2QkkxSSxFQUFTckIsWUFFTHFCLEVBQVNuQixVQUdUL3BCLEVBQUc4MEIsc0JBQXNCNTJELEVBQU0yakMsR0FBUXFwQixFQUFTckIsWUFBWTd1RCxLQUFLaEIsT0FBUWdtQyxFQUFHckMsZUFBK0IsR0FBZHB2QixHQUFTLEdBQVF5N0MsR0FBaUIsR0FLL0hocUIsRUFBR3MzQixhQUFhcDVELEVBQU0yakMsR0FBUXFwQixFQUFTckIsWUFBWTd1RCxLQUFLaEIsT0FBUWdtQyxFQUFHckMsZUFBK0IsR0FBZHB2QixHQUFTLElBRzVGMjhDLEVBQVNuQixVQUdkL3BCLEVBQUdnMUIsb0JBQW9COTJELEVBQU1xUSxFQUFPc3pCLEdBQVFxcEIsRUFBUzlJLFVBQVc0SCxHQUFpQixHQUlqRmhxQixFQUFHdTNCLFdBQVdyNUQsRUFBTXFRLEVBQU9zekIsR0FBUXFwQixFQUFTOUksV0FHekMvK0Msa0JBT1hrNUMsT0FBQSxXQUVJbDVDLEtBQUsyOEIsR0FBR3MwQixnQkFBZ0IsTUFDeEJqeEQsS0FBS3d3RCxXQUFhLEtBQ2xCeHdELEtBQUt1d0QsZ0JBQWtCLFFBcm1CSSxDQUFTelAsSUNKN0IsU0FBU3FULEdBQWV4M0IsRUFBSXkzQixFQUFXQyxFQUFhQyxHQUUvRDF4QyxJQUFNMnhDLEVBQWVDLEdBQWM3M0IsRUFBSUEsRUFBRzgzQixjQUFlTCxHQUNuRE0sRUFBZUYsR0FBYzczQixFQUFJQSxFQUFHZzRCLGdCQUFpQk4sR0FFdkR2QyxFQUFVbjFCLEVBQUdpNEIsZ0JBTWpCLEdBSkFqNEIsRUFBR2s0QixhQUFhL0MsRUFBU3lDLEdBQ3pCNTNCLEVBQUdrNEIsYUFBYS9DLEVBQVM0QyxHQUdyQkosRUFFQSxJQUFLMXhDLElBQU1sc0IsS0FBSzQ5RCxFQUVaMzNCLEVBQUdtNEIsbUJBQW1CaEQsRUFBU3dDLEVBQW1CNTlELEdBQUlBLEdBMkI5RCxPQXZCQWltQyxFQUFHbzRCLFlBQVlqRCxHQUdWbjFCLEVBQUdxNEIsb0JBQW9CbEQsRUFBU24xQixFQUFHczRCLGVBRXBDdGdFLFFBQVFrSSxNQUFNLCtDQUNkbEksUUFBUWtJLE1BQU0scUJBQXNCOC9CLEVBQUdxNEIsb0JBQW9CbEQsRUFBU24xQixFQUFHdTRCLGtCQUN2RXZnRSxRQUFRa0ksTUFBTSxnQkFBaUI4L0IsRUFBR3c0QixZQUdJLEtBQWxDeDRCLEVBQUd5NEIsa0JBQWtCdEQsSUFFckJuOUQsUUFBUUMsS0FBSywwQ0FBMkMrbkMsRUFBR3k0QixrQkFBa0J0RCxJQUdqRm4xQixFQUFHMDRCLGNBQWN2RCxHQUNqQkEsRUFBVSxNQUlkbjFCLEVBQUcyNEIsYUFBYWYsR0FDaEI1M0IsRUFBRzI0QixhQUFhWixHQUVUNUMsRUFVWCxTQUFTMEMsR0FBYzczQixFQUFJOWhDLEVBQU1wQixHQUU3Qm1wQixJQUFNeW9DLEVBQVMxdUIsRUFBRzQ0QixhQUFhMTZELEdBSy9CLE9BSEE4aEMsRUFBRzY0QixhQUFhbkssRUFBUTV4RCxHQUN4QmtqQyxFQUFHNjNCLGNBQWNuSixHQUVaMXVCLEVBQUc4NEIsbUJBQW1CcEssRUFBUTF1QixFQUFHKzRCLGdCQVEvQnJLLEdBTkgxMkQsUUFBUUMsS0FBSzZFLEdBQ2I5RSxRQUFRa0ksTUFBTTgvQixFQUFHZzVCLGlCQUFpQnRLLElBRTNCLE1DbkVBLFNBQVN1SyxHQUFhLzZELEVBQU0yakMsR0FFdkMsT0FBUTNqQyxHQUVKLElBQUssUUFDRCxPQUFPLEVBRVgsSUFBSyxPQUNELE9BQU8sSUFBSStvQixhQUFhLEVBQUk0YSxHQUVoQyxJQUFLLE9BQ0QsT0FBTyxJQUFJNWEsYUFBYSxFQUFJNGEsR0FFaEMsSUFBSyxPQUNELE9BQU8sSUFBSTVhLGFBQWEsRUFBSTRhLEdBRWhDLElBQUssTUFDTCxJQUFLLFlBQ0wsSUFBSyxpQkFDRCxPQUFPLEVBRVgsSUFBSyxRQUNELE9BQU8sSUFBSXhhLFdBQVcsRUFBSXdhLEdBRTlCLElBQUssUUFDRCxPQUFPLElBQUl4YSxXQUFXLEVBQUl3YSxHQUU5QixJQUFLLFFBQ0QsT0FBTyxJQUFJeGEsV0FBVyxFQUFJd2EsR0FFOUIsSUFBSyxPQUNELE9BQU8sRUFFWCxJQUFLLFFBRUQsT0FBT3EzQixHQUFhLEVBQUlyM0IsR0FFNUIsSUFBSyxRQUNELE9BQU9xM0IsR0FBYSxFQUFJcjNCLEdBRTVCLElBQUssUUFDRCxPQUFPcTNCLEdBQWEsRUFBSXIzQixHQUU1QixJQUFLLE9BQ0QsT0FBTyxJQUFJNWEsYUFBYSxDQUFDLEVBQUcsRUFDeEIsRUFBRyxJQUVYLElBQUssT0FDRCxPQUFPLElBQUlBLGFBQWEsQ0FBQyxFQUFHLEVBQUcsRUFDM0IsRUFBRyxFQUFHLEVBQ04sRUFBRyxFQUFHLElBRWQsSUFBSyxPQUNELE9BQU8sSUFBSUEsYUFBYSxDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQzlCLEVBQUcsRUFBRyxFQUFHLEVBQ1QsRUFBRyxFQUFHLEVBQUcsRUFDVCxFQUFHLEVBQUcsRUFBRyxJQUdyQixPQUFPLEtBR1gsU0FBU2l5QyxHQUFhcjNCLEdBSWxCLElBRkE1YixJQUFNdlAsRUFBUSxJQUFJcEssTUFBTXUxQixHQUVmOW5DLEVBQUksRUFBR0EsRUFBSTJjLEVBQU0xYyxPQUFRRCxJQUU5QjJjLEVBQU0zYyxJQUFLLEVBR2YsT0FBTzJjLEVDM0VYeVAsSUNBSWd6QyxHREFBQyxHQUFVLEtBU0MsU0FBU0MsS0FFcEIsSUFBS0QsR0FDTCxDQUNJbnpDLElBRUkrWixFQUZFRCxFQUFTcGpDLFNBQVNDLGNBQWMsVUFTdEMsR0FMSTg2QixFQUFTcTRCLFlBQWNyMkIsRUFBSUcsU0FFM0JtRyxFQUFLRCxFQUFPRSxXQUFXLFNBQVUsTUFHaENELEVBQ0wsQ0FJSSxLQUhBQSxFQUFLRCxFQUFPRSxXQUFXLFFBQVMsS0FDN0JGLEVBQU9FLFdBQVcscUJBQXNCLEtBS3ZDLE1BQU0sSUFBSTNrQyxNQUFNLHNFQUtoQjBrQyxFQUFHSyxhQUFhLHNCQU14QixPQUZBKzRCLEdBQVVwNUIsRUFFSEEsRUFHWCxPQUFPbzVCLEdFbENJLFNBQVNFLEdBQWF4OEQsRUFBS3k4RCxFQUFvQkMsR0FFMUQsR0FBNEIsY0FBeEIxOEQsRUFBSTZpQixVQUFVLEVBQUcsR0FDckIsQ0FFSXdHLElBQUlzekMsRUFBWUYsRUFRaEIsT0FMSUEsSUFBdUJ4NkIsRUFBVUcsTUFBUXM2QixJQUEwQno2QixFQUFVRyxPQUU3RXU2QixFQUFZMTZCLEVBQVVFLFFBRzFCLGFBQW9CdzZCLEVBQVMsWUFBWTM4RCxFQUV4QyxPQUFJMDhELElBQTBCejZCLEVBQVVHLE1BQWlDLG9CQUF6QnBpQyxFQUFJNmlCLFVBQVUsRUFBRyxJQUczRDdpQixFQUFJaUssUUFBUSxrQkFBbUIscUJBR25DakssRUNsQ1htcEIsSUFBTXl6QyxHQUFlLENBQ2pCQyxNQUFVLEVBQ1ZDLEtBQVUsRUFDVkMsS0FBVSxFQUNWQyxLQUFVLEVBRVZDLElBQVUsRUFDVkMsTUFBVSxFQUNWQyxNQUFVLEVBQ1ZDLE1BQVUsRUFFVkMsS0FBVSxFQUNWQyxNQUFVLEVBQ1ZDLE1BQVUsRUFDVkMsTUFBVSxFQUVWQyxLQUFVLEVBQ1ZDLEtBQVUsRUFDVkMsS0FBVSxHQUVWQyxVQUFZLEdBVUQsU0FBU0MsR0FBUXo4RCxHQUU1QixPQUFPdzdELEdBQWF4N0QsR0NoQ3hCaW9CLElBQUl5MEMsR0FBVyxLQUVUQyxHQUFtQixDQUNyQjk4QixNQUFhLFFBQ2IrOEIsV0FBYSxPQUNiQyxXQUFhLE9BQ2JDLFdBQWEsT0FFYkMsSUFBYSxNQUNiQyxTQUFhLFFBQ2JDLFNBQWEsUUFDYkMsU0FBYSxRQUViQyxLQUFhLE9BQ2JDLFVBQWEsUUFDYkMsVUFBYSxRQUNiQyxVQUFhLFFBRWJDLFdBQWEsT0FDYkMsV0FBYSxPQUNiQyxXQUFhLE9BRWJDLFdBQWEsWUFDYkMsYUFBZSxjQUNmQyxpQkFBbUIsa0JBR1IsU0FBU0MsR0FBUS83QixFQUFJOWhDLEdBRWhDLElBQUswOEQsR0FDTCxDQUNJMzBDLElBQU0rMUMsRUFBWTVsRSxPQUFPcUosS0FBS283RCxJQUU5QkQsR0FBVyxHQUVYLElBQUt6MEMsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUlpaUUsRUFBVWhpRSxTQUFVRCxFQUN4QyxDQUNJa3NCLElBQU1nMkMsRUFBS0QsRUFBVWppRSxHQUVyQjZnRSxHQUFTNTZCLEVBQUdpOEIsSUFBT3BCLEdBQWlCb0IsSUFJNUMsT0FBT3JCLEdBQVMxOEQsR0N0Q3BCK25CLElBQU1pMkMsR0FBZ0MsQ0FFbEN2QyxNQUFPLHlGQU9QQyxLQUFNLHFKQVFOQyxLQUFNLHNNQVVOQyxLQUFVLGlEQUVWQyxJQUFVLDRCQUNWQyxNQUFVLHFDQUNWQyxNQUFVLDJDQUNWQyxNQUFVLGlEQUVWQyxLQUFVLDRCQUNWQyxNQUFVLHFDQUNWQyxNQUFVLDJDQUNWQyxNQUFVLGlEQUVWQyxLQUFVLDBDQUNWQyxLQUFVLDBDQUNWQyxLQUFVLDBDQUVWQyxVQUFnQiw0QkFDaEJ5QixZQUFnQiw0QkFDaEJDLGVBQWdCLDZCQUdkQyxHQUF3QixDQUUxQjFDLE1BQVUsNkJBRVZDLEtBQVUsNkJBQ1ZDLEtBQVUsNkJBQ1ZDLEtBQVUsNkJBRVZXLEtBQVUsMENBQ1ZELEtBQVUsMENBQ1ZELEtBQVUsMENBRVZSLElBQVUsNkJBQ1ZDLE1BQVUsNkJBQ1ZDLE1BQVUsNkJBQ1ZDLE1BQVUsNkJBRVZDLEtBQVUsNkJBQ1ZDLE1BQVUsNkJBQ1ZDLE1BQVUsNkJBQ1ZDLE1BQVUsNkJBRVZJLFVBQWdCLDZCQUNoQnlCLFlBQWdCLDZCQUNoQkMsZUFBZ0IsOEJDN0VwQm4yQyxJQ0NJcTJDLEdEREVDLEdBQWUsQ0FDakIsMkJBQ0EsbUJBQ0Esb0JBQ0EsWUFDQSw0QkFDQSxLQUNGdjlELEtBQUssTUFFUSxTQUFTdzlELEdBQTZCQyxFQUFRejhCLEdBRXpELEdBQWUsSUFBWHk4QixFQUVBLE1BQU0sSUFBSW5oRSxNQUFNLGlFQUtwQixJQUZBMnFCLElBQU15b0MsRUFBUzF1QixFQUFHNDRCLGFBQWE1NEIsRUFBR2c0QixtQkFHbEMsQ0FDSS94QyxJQUFNeXhDLEVBQWM2RSxHQUFheDFELFFBQVEsY0FBZTIxRCxHQUFrQkQsSUFLMUUsR0FIQXo4QixFQUFHNjRCLGFBQWFuSyxFQUFRZ0osR0FDeEIxM0IsRUFBRzYzQixjQUFjbkosR0FFWjF1QixFQUFHODRCLG1CQUFtQnBLLEVBQVExdUIsRUFBRys0QixnQkFPbEMsTUFMQTBELEVBQVVBLEVBQVMsRUFBSyxFQVNoQyxPQUFPQSxFQUdYLFNBQVNDLEdBQWtCRCxHQUl2QixJQUZBdDJDLElBQUlycEIsRUFBTSxHQUVEL0MsRUFBSSxFQUFHQSxFQUFJMGlFLElBQVUxaUUsRUFFdEJBLEVBQUksSUFFSitDLEdBQU8sV0FHUC9DLEVBQUkwaUUsRUFBUyxJQUViMy9ELEdBQU8sY0FBYy9DLEVBQUMsU0FJOUIsT0FBTytDLE1FMUNQaXNELEdBQU0sRUFFSjRULEdBQVksR0FRR0MsR0FPakIsU0FBQUMsRUFBWXBGLEVBQVdDLEVBQWF2L0Qsa0JBQU8sZUFFdkNrTCxLQUFLaEksR0FBSzB0RCxLQU9kMWxELEtBQVNvMEQsVUFBWUEsR0FBYW9GLEVBQVFDLGlCQU8xQ3o1RCxLQUFTcTBELFlBQWNBLEdBQWVtRixFQUFRRSxtQkFFOUMxNUQsS0FBU28wRCxVQUFZcDBELEtBQUtvMEQsVUFBVXh3RCxPQUNwQzVELEtBQVNxMEQsWUFBY3IwRCxLQUFLcTBELFlBQVl6d0QsT0FFRyxhQUFuQzVELEtBQUtvMEQsVUFBVTkzQyxVQUFVLEVBQUcsS0FFaEN4bkIsRUFBV0EsRUFBSzRPLFFBQVEsT0FBUSxLQUV4QjQxRCxHQUFVeGtFLElBRVZ3a0UsR0FBVXhrRSxLQUNkQSxHQUFZLElBQUl3a0UsR0FBVXhrRSxJQUl0QndrRSxHQUFVeGtFLEdBQVEsRUFHMUJrTCxLQUFTbzBELFVBQVksdUJBQXVCdC9ELEVBQUksS0FBS2tMLEtBQWMsVUFDbkVBLEtBQVNxMEQsWUFBYyx1QkFBdUJ2L0QsRUFBSSxLQUFLa0wsS0FBZ0IsWUFFbkVBLEtBQUtvMEQsVUFBWTZCLEdBQWFqMkQsS0FBS28wRCxVQUFXLy9CLEVBQVMyQixpQkFBa0IwRixFQUFVRyxNQUNuRjc3QixLQUFLcTBELFlBQWM0QixHQUFhajJELEtBQUtxMEQsWUFBYWhnQyxFQUFTNEIsbUJQakV4RCxXQUVYLElBQUs2L0IsR0FDTCxDQUNJQSxHQUF1QnA2QixFQUFVRSxPQUNqQ2haLElBQU0rWixFQUFLcTVCLEtBRVgsR0FBSXI1QixHQUVJQSxFQUFHZzlCLHlCQUNQLENBQ0kvMkMsSUFBTWczQyxFQUFpQmo5QixFQUFHZzlCLHlCQUF5Qmg5QixFQUFHZzRCLGdCQUFpQmg0QixFQUFHazlCLFlBRTFFL0QsR0FBdUI4RCxFQUFleEQsVUFBWTE2QixFQUFVRyxLQUFPSCxFQUFVRSxRQUt6RixPQUFPazZCLEdPK0NnRmdFLEtBSW5GOTVELEtBQUsrNUQsWUFBWS81RCxLQUFLbzBELFVBQVdwMEQsS0FBS3EwRCxhQUd0Q3IwRCxLQUFLZzZELFdBQWEsR0FFbEJoNkQsS0FBS21wRCxhQUFlLG1GQVc1Qm9RLEdBQUF2bUUsVUFBSSttRSxZQUFBLFNBQVkzRixFQUFXQyxHQUVuQnp4QyxJQUFNK1osRUFBS3E1QixLQUVYLEdBQUlyNUIsRUFDUixDQUNRL1osSUFBTWt2QyxFQUFVcUMsR0FBZXgzQixFQUFJeTNCLEVBQVdDLEdBRTlDcjBELEtBQUsreUQsY0FBZ0IveUQsS0FBS2k2RCxpQkFBaUJuSSxFQUFTbjFCLEdBQ3BEMzhCLEtBQUtrNkQsWUFBY2w2RCxLQUFLbTZELGVBQWVySSxFQUFTbjFCLEdBRWhEQSxFQUFHMDRCLGNBQWN2RCxRQUlqQjl4RCxLQUFLazZELFlBQWMsR0FDbkJsNkQsS0FBSyt5RCxjQUFnQixJQWFqQ3dHLEdBQUF2bUUsVUFBSWluRSxpQkFBQSxTQUFpQm5JLEVBQVNuMUIsR0FPdEIsSUFMQS9aLElBQU0yakMsRUFBYSxHQUNiNlQsRUFBa0IsR0FFbEJDLEVBQWtCMTlCLEVBQUdxNEIsb0JBQW9CbEQsRUFBU24xQixFQUFHMjlCLG1CQUVsRDVqRSxFQUFJLEVBQUdBLEVBQUkyakUsRUFBaUIzakUsSUFDekMsQ0FDUWtzQixJQUFNMjNDLEVBQWE1OUIsRUFBRzY5QixnQkFBZ0IxSSxFQUFTcDdELEdBQ3pDbUUsRUFBTzY5RCxHQUFRLzdCLEVBQUk0OUIsRUFBVzEvRCxNQUc5QmxELEVBQU8sQ0FDYmtELEtBQVVBLEVBQ04vRixLQUFNeWxFLEVBQVd6bEUsS0FDakIwcEMsS0FBTTg0QixHQUFRejhELEdBQ2xCbWhCLFNBQWMsR0FJbEJ1cUMsRUFBZWdVLEVBQVd6bEUsTUFBUTZDLEVBQzlCeWlFLEVBQWdCM2xFLEtBQUtrRCxHQUc3QnlpRSxFQUFvQjd1RCxLQUFJLFNBQUVyUSxFQUFHQyxHQUFHLE9BQUlELEVBQUVwRyxLQUFPcUcsRUFBRXJHLEtBQVEsR0FBSyxJQUV4RCxJQUFLZ3VCLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJMGpFLEVBQWdCempFLE9BQVFELElBRTVDMGpFLEVBQW9CMWpFLEdBQUdzbEIsU0FBV3RsQixFQUd0QyxPQUFXNnZELEdBWWZnVCxHQUFBdm1FLFVBQUltbkUsZUFBQSxTQUFlckksRUFBU24xQixHQVVwQixJQVJBL1osSUFBTXFtQyxFQUFXLEdBRVh3UixFQUFnQjk5QixFQUFHcTRCLG9CQUFvQmxELEVBQVNuMUIsRUFBRys5QixpQkFNaERoa0UsRUFBSSxFQUFHQSxFQUFJK2pFLEVBQWUvakUsSUFDdkMsQ0FDUWtzQixJQUFNczNDLEVBQWN2OUIsRUFBR2crQixpQkFBaUI3SSxFQUFTcDdELEdBQzNDNUIsRUFBT29sRSxFQUFZcGxFLEtBQUs0TyxRQUFRLFVBQVcsSUFFM0MwVyxFQUFVOC9DLEVBQVlwbEUsS0FBS3FQLE1BQU0sVUFBVyxJQUM1Q3RKLEVBQU82OUQsR0FBUS83QixFQUFJdTlCLEVBQVlyL0QsTUFHckNvdUQsRUFBU24wRCxHQUFRLENBQ2pCK0YsS0FBVUEsRUFDTjJqQyxLQUFNMDdCLEVBQVkxN0IsS0FDdEJwa0IsUUFBWUEsRUFDWmpsQixNQUFXeWdFLEdBQWEvNkQsRUFBTXEvRCxFQUFZMTdCLE9BS2xELE9BQVd5cUIsR0FVZjJSLEdBQWVuQixpQkFBQXhrRSxJQUFBLFdBRVgsMlJBVUoybEUsR0FBZWxCLG1CQUFBemtFLElBQUEsV0FFWCxtSkFhSnNrRSxHQUFXcjNDLEtBQUEsU0FBS2t5QyxFQUFXQyxFQUFhdi9ELEdBRWhDOHRCLElBQU03a0IsRUFBTXEyRCxFQUFZQyxFQUVwQnZDLEVBQVUxeUIsRUFBYXJoQyxHQU8vQixPQUxTK3pELElBRUQxeUIsRUFBYXJoQyxHQUFPK3pELEVBQVUsSUFBSXlILEdBQVFuRixFQUFXQyxFQUFhdi9ELElBRy9EZzlELGtDQ3RPZixJQUFNK0ksR0FNRixTQUFZL0ksRUFBUzdJLEdBeUJqQixJQUFLcm1DLElBQU1sc0IsS0F2QlhzSixLQUFLOHhELFFBQVVBLEVBUVA5eEQsS0FBSzg2RCxhQUpUN1IsRUFFSUEsYUFBb0JELEdBRUFDLEVBSUEsSUFBSUQsR0FBYUMsR0FLckIsSUFBSUQsR0FBYSxJQU16QjhJLEVBQVFvSSxZQUVoQmw2RCxLQUFLODZELGFBQWE3UixTQUFTdnlELGFBQWN1UyxRQUU3Q2pKLEtBQVM4NkQsYUFBYTdSLFNBQVN2eUQsR0FBSyxJQUFJa3RCLGFBQWE1akIsS0FBSzg2RCxhQUFhN1IsU0FBU3Z5RCxzQ0FNNUZta0UsR0FBQTduRSxVQUFJK25FLG1CQUFBLFNBQW1Cam1FLEVBQU1vMEQsR0FFckIsR0FBSUEsRUFBTUQsU0FBU24wRCxHQUVuQixPQUFXLEVBR1gsSUFBSzh0QixJQUFNbHNCLEtBQUt3eUQsRUFBTUQsU0FDMUIsQ0FDSSxJQUFVK1IsRUFBVTlSLEVBQU1ELFNBQVN2eUQsR0FFbkMsR0FBUXNrRSxFQUFROVIsT0FFSmxwRCxLQUFLKzZELG1CQUFtQmptRSxFQUFNa21FLEdBRWxDLE9BQVcsRUFLdkIsT0FBVyxHQUdmSCxHQUFBN25FLFVBQUl3c0MsUUFBQSxXQUlJeC9CLEtBQUs4NkQsYUFBZSxNQVE1QjN4QixHQUFROGYsU0FBQWgwRCxJQUFBLFdBRUEsT0FBTytLLEtBQUs4NkQsYUFBYTdSLFVBWWpDNFIsR0FBVzM0QyxLQUFBLFNBQUtreUMsRUFBV0MsRUFBYXBMLEdBRWhDcm1DLElBQU1rdkMsRUFBVXlILEdBQVFyM0MsS0FBS2t5QyxFQUFXQyxHQUU1QyxPQUFXLElBQUl3RyxHQUFPL0ksRUFBUzdJLDZDQ25HbkNybUMsSUFlcUJxNEMsR0FFakIsV0FFSWo3RCxLQUFLckksS0FBTyxFQUVacUksS0FBSzQ5QixVQUFZakgsRUFBWUMsT0FDN0I1MkIsS0FBS2s3RCxjQUFnQixFQUVyQmw3RCxLQUFLbTdELE9BQVEsaU5BU3JCaHlCLEdBQVFneUIsTUFBQWxtRSxJQUFBLFdBRUEsU0FBbUIsRUFBVCtLLEtBQUtySSxPQUd2Qnd4QyxHQUFRZ3lCLE1BQUFqbUUsSUFBQSxTQUFNQyxNQUVVLEVBQVQ2SyxLQUFLckksUUFBeUJ4QyxJQUVyQzZLLEtBQVNySSxNQUFJLElBVXJCd3hDLEdBQVErZSxRQUFBanpELElBQUEsV0FFQSxTQUFtQixFQUFUK0ssS0FBS3JJLE9BR3ZCd3hDLEdBQVErZSxRQUFBaHpELElBQUEsU0FBUUMsTUFFUSxFQUFUNkssS0FBS3JJLFFBQTBCeEMsSUFFdEM2SyxLQUFTckksTUFBSSxJQVVyQnd4QyxHQUFRaXlCLFFBQUFubUUsSUFBQSxXQUVBLFNBQW1CLEVBQVQrSyxLQUFLckksT0FHdkJ3eEMsR0FBUWl5QixRQUFBbG1FLElBQUEsU0FBUUMsTUFFUSxFQUFUNkssS0FBS3JJLFFBQTJCeEMsSUFFdkM2SyxLQUFTckksTUFBSSxJQVVyQnd4QyxHQUFRa3lCLFVBQUFwbUUsSUFBQSxXQUVBLFNBQW1CLEVBQVQrSyxLQUFLckksT0FHdkJ3eEMsR0FBUWt5QixVQUFBbm1FLElBQUEsU0FBVUMsTUFFTSxFQUFUNkssS0FBS3JJLFFBQThCeEMsSUFFMUM2SyxLQUFTckksTUFBSSxJQVNyQnd4QyxHQUFRbXlCLG1CQUFBcm1FLElBQUEsV0FFQSxTQUFtQixHQUFUK0ssS0FBS3JJLE9BR3ZCd3hDLEdBQVFteUIsbUJBQUFwbUUsSUFBQSxTQUFtQkMsTUFFSCxHQUFUNkssS0FBS3JJLFFBQTJCeEMsSUFFdkM2SyxLQUFTckksTUFBSSxLQVlyQnd4QyxHQUFRdkwsVUFBQTNvQyxJQUFBLFdBRUEsT0FBTytLLEtBQUt1N0QsWUFHcEJweUIsR0FBUXZMLFVBQUExb0MsSUFBQSxTQUFVQyxHQUVkNkssS0FBU203RCxNQUFTaG1FLElBQVV3aEMsRUFBWTNaLEtBQ3BDaGQsS0FBS3U3RCxXQUFhcG1FLEdBUzFCZzBDLEdBQVEreEIsY0FBQWptRSxJQUFBLFdBRUEsT0FBTytLLEtBQUt3N0QsZ0JBR3BCcnlCLEdBQVEreEIsY0FBQWhtRSxJQUFBLFNBQWNDLEdBRWQ2SyxLQUFLa29ELFVBQVkveUQsRUFDakI2SyxLQUFLdzdELGVBQWlCcm1FLEdBRzlCOGxFLEdBQVdRLE1BQUEsV0FFSDc0QyxJQUFNNm5DLEVBQVEsSUFBSXdRLEdBS3RCLE9BSEl4USxFQUFNNFEsV0FBWSxFQUNsQjVRLEVBQU0wUSxPQUFRLEVBRVAxUSxnREN6Qk1pUixHQUFNLFNBQUFDLEdBT3ZCLFNBQUFDLEVBQVl4SCxFQUFXQyxFQUFhcEwsR0FFaENybUMsSUFBTWt2QyxFQUFVeUgsR0FBUXIzQyxLQUFLa3lDLEdBQWF3SCxFQUFPbkMsaUJBQzdDcEYsR0FBZXVILEVBQU9sQyxvQkFFMUJwc0IsT0FBS3R0QyxLQUFDOHhELEVBQVM3SSxHQVNmanBELEtBQUswcUQsUUFBVSxFQVFmMXFELEtBQUttZ0MsV0FBYTlMLEVBQVNHLGtCQU8zQngwQixLQUFLOHhDLFNBQVUsRUFRZjl4QyxLQUFLMnFELFNBQVUsRUFPZjNxRCxLQUFLMDFCLFNBQVcxMUIsS0FBSzh4RCxRQUFRaUIsY0FBYzhJLGNBTTNDNzdELEtBQUt5cUQsTUFBUSxJQUFJd1EsNk5BY3JCN2pFLE1BQUEsU0FBTTBrRSxFQUFlanhDLEVBQU9WLEVBQVFrVyxFQUFPMDdCLEdBSXZDRCxFQUFjN1EsWUFBWWpyRCxLQUFNNnFCLEVBQU9WLEVBQVFrVyxFQUFPMDdCLElBVzFENXlCLEVBQUl2TCxVQUFBM29DLElBQUEsV0FFQSxPQUFPK0ssS0FBS3lxRCxNQUFNN3NCLFdBR3RCdUwsRUFBSXZMLFVBQUExb0MsSUFBQSxTQUFVQyxHQUVWNkssS0FBS3lxRCxNQUFNN3NCLFVBQVl6b0MsR0FVM0JrMEMsRUFBV293QixpQkFBQXhrRSxJQUFBLFdBRVAsc2tCQVVKbzBDLEVBQVdxd0IsbUJBQUF6a0UsSUFBQSxXQUVQLDBOQXJIbUIsQ0FBUzRsRSxJQWdJcENhLEdBQU9NLGVBQWlCLG9qQ0M3UWxCQyxHQUFVLElBQUlsNUIsR0FtQkNtNUIsR0FRakIsU0FBWXJlLEVBQVNzZSxHQUVqQm44RCxLQUFLMHJELFNBQVc3TixFQUVoQjc5QyxLQUFLbzhELFNBQVcsSUFBSXI1QixHQUV4Qi9pQyxLQUFTcThELFlBQWMsSUFBSXo0QyxhQUFhLEdBRXhDNWpCLEtBQVNzOEQsYUFBZSxJQUFJMTRDLGFBQWEsR0FPckM1akIsS0FBSzhqRCxXQUFhLEVBVWxCOWpELEtBQUt1OEQsWUFBYyxFQVVuQnY4RCxLQUFLbThELGlCQUFzQyxJQUFoQkEsRUFBK0IsR0FBTUEsRUFRaEVuOEQsS0FBS3c4RCxVQUFXLGtDQU94QnJ6QixHQUFRMFUsUUFBQTVvRCxJQUFBLFdBRUEsT0FBTytLLEtBQUswckQsVUFHcEJ2aUIsR0FBUTBVLFFBQUEzb0QsSUFBQSxTQUFRQyxHQUVSNkssS0FBSzByRCxTQUFXdjJELEVBQ2hCNkssS0FBSzhqRCxXQUFhLEdBUzFCb1ksR0FBQWxwRSxVQUFJeXBFLFlBQUEsU0FBWS9ULEVBQUs1OUIsUUFFRHIwQixJQUFScTBCLElBRUpBLEVBQVU0OUIsR0FLVixJQUZBOWxDLElBQU1xakIsRUFBTWptQyxLQUFLbzhELFNBRVIxbEUsRUFBSSxFQUFHQSxFQUFJZ3lELEVBQUkveEQsT0FBUUQsR0FBSyxFQUN6QyxDQUNJLElBQVU4VCxFQUFJaytDLEVBQUloeUQsR0FDUitULEVBQUlpK0MsRUFBSWh5RCxFQUFJLEdBRXRCbzBCLEVBQVFwMEIsR0FBTThULEVBQUl5N0IsRUFBSS9xQyxFQUFNdVAsRUFBSXc3QixFQUFJL3NDLEVBQUsrc0MsRUFBSWpELEdBQzdDbFksRUFBUXAwQixFQUFJLEdBQU04VCxFQUFJeTdCLEVBQUk5cUMsRUFBTXNQLEVBQUl3N0IsRUFBSTNvQyxFQUFLMm9DLEVBQUloRCxHQUdyRCxPQUFXblksR0FRZm94QyxHQUFBbHBFLFVBQUk4RixPQUFBLFNBQU80akUsR0FFSDk1QyxJQUFNK2hDLEVBQU0za0QsS0FBSzByRCxTQUVqQixJQUFLL0csSUFBUUEsRUFBSXZMLE1BRWpCLE9BQVcsRUFHZixJQUFTc2pCLEdBQ0UxOEQsS0FBSzhqRCxZQUFjYSxFQUFJYixVQUU5QixPQUFXLEVBR1g5akQsS0FBSzhqRCxVQUFZYSxFQUFJYixVQUVyQmxoQyxJQUFNOGxDLEVBQU0vRCxFQUFJakIsS0FFcEIxakQsS0FBU284RCxTQUFTbG5FLElBQUl3ekQsRUFBSTdlLEdBQUs2ZSxFQUFJeGMsR0FBSXdjLEVBQUkzZSxHQUFLMmUsRUFBSXZjLEdBQUl1YyxFQUFJbEcsR0FBS2tHLEVBQUl4YyxHQUFJd2MsRUFBSWpHLEdBQUtpRyxFQUFJdmMsR0FBSXVjLEVBQUl4YyxHQUFJd2MsRUFBSXZjLElBRWxHdnBCLElBQU15Z0MsRUFBT3NCLEVBQUl0QixLQUNYei9DLEVBQU8rZ0QsRUFBSS9nRCxLQUViQSxJQUVKcTRELEdBQVkvbUUsSUFBSW11RCxFQUFLN3RCLE1BQVE1eEIsRUFBSzR4QixNQUFPLEVBQUcsRUFBRzZ0QixFQUFLNXRCLE9BQVM3eEIsRUFBSzZ4QixRQUN6RDd4QixFQUFLNEcsRUFBSTVHLEVBQUs0eEIsT0FBUTV4QixFQUFLNkcsRUFBSTdHLEVBQUs2eEIsUUFDN0N6MUIsS0FBU284RCxTQUFTcDRCLE9BQU9pNEIsS0FHekJyNUMsSUFBTSs1QyxFQUFVaFksRUFBSTFMLFlBQ2QwSixFQUFRM2lELEtBQUtxOEQsWUFDYk8sRUFBUzU4RCxLQUFLbThELFlBQWNRLEVBQVF4OEIsV0FDcENnb0IsRUFBU25vRCxLQUFLdThELFlBYXhCLE9BWEE1WixFQUFVLElBQU1nQyxFQUFJbkIsT0FBT2g1QyxFQUFJb3lELEVBQVN6VSxHQUFVd1UsRUFBUW5uQyxNQUMxRG10QixFQUFVLElBQU1nQyxFQUFJbkIsT0FBTy80QyxFQUFJbXlELEVBQVN6VSxHQUFVd1UsRUFBUWxuQyxPQUMxRGt0QixFQUFVLElBQU1nQyxFQUFJbkIsT0FBT2g1QyxFQUFJbTZDLEVBQUluQixPQUFPaHVCLE1BQVFvbkMsRUFBU3pVLEdBQVV3VSxFQUFRbm5DLE1BQzdFbXRCLEVBQVUsSUFBTWdDLEVBQUluQixPQUFPLzRDLEVBQUlrNkMsRUFBSW5CLE9BQU8vdEIsT0FBU21uQyxFQUFTelUsR0FBVXdVLEVBQVFsbkMsT0FDMUV6MUIsS0FBS3M4RCxhQUFhLEdBQUtuVSxFQUFTd1UsRUFBUTVpQixVQUN4Qy81QyxLQUFLczhELGFBQWEsR0FBS25VLEVBQVN3VSxFQUFRM2lCLFdBRXhDaDZDLEtBQUt3OEQsU0FBVzdYLEVBQUluQixPQUFPaHVCLFFBQVVtbkMsRUFBUW5uQyxPQUN0Q212QixFQUFJbkIsT0FBTy90QixTQUFXa25DLEVBQVFsbkMsUUFDZixJQUFma3ZCLEVBQUlqaEIsUUFFSiw0Q0MxSmYsSUFBcUJtNUIsR0FBZ0IsU0FBQWpCLEdBS2pDLFNBQUFrQixFQUFZclIsR0FFUjdvQyxJQUFNbTZDLEVBQWEsSUFBSWg2QixHQUV2QnVLLE9BQUt0dEMsS0FBQ2c5RCxHQUFRQyxJQUVkeFIsRUFBT2hlLFlBQWEsRUFNcEJ6dEMsS0FBS2s5RCxXQUFhelIsRUFNbEJ6ckQsS0FBSys4RCxXQUFhQSw0R0FXdEIzbEUsTUFBQSxTQUFNMGtFLEVBQWVqeEMsRUFBT1YsRUFBUWtXLEdBRWhDemQsSUFBTXM2QyxFQUFhbDlELEtBQUtrOUQsV0FDbEJ2WSxFQUFNM2tELEtBQUtrOUQsV0FBV3JmLFFBRXZCOEcsRUFBSXZMLFFBSUp1TCxFQUFJcDFCLFlBSUxvMUIsRUFBSXAxQixVQUFZLElBQUkyc0MsR0FBY3ZYLEVBQUssSUFFM0NBLEVBQUlwMUIsVUFBVXoyQixTQUVka0gsS0FBS2lwRCxTQUFTa1UsU0FBV3hZLEVBQUkxTCxZQUFZa0IsaUJBQW1CLEVBQU0sRUFDbEVuNkMsS0FBS2lwRCxTQUFTbmMsS0FBTzZYLEVBRXJCM2tELEtBQUtpcEQsU0FBU21VLFlBQWN0QixFQUFjdlEsc0JBQXNCdnJELEtBQUsrOEQsV0FBWUcsR0FDNUV2NEIsUUFBUWdnQixFQUFJcDFCLFVBQVU2c0MsVUFDM0JwOEQsS0FBS2lwRCxTQUFTbHJCLE1BQVFtL0IsRUFBV3h2QixXQUNqQzF0QyxLQUFLaXBELFNBQVNvVSxVQUFZMVksRUFBSXAxQixVQUFVOHNDLFlBRXhDUCxFQUFjN1EsWUFBWWpyRCxLQUFNNnFCLEVBQU9WLEVBQVFrVyxPQTNEbEIsQ0FBU3E3QixJQ0x6QjRCLEdBQVUsU0FBQTlULEdBSzNCLFNBQUE4VCxFQUFZaHVCLEdBRVJoQyxPQUFLdHRDLEtBQUNzdkMsR0FRTnR2QyxLQUFLdTlELFNBQVUsRUFPZnY5RCxLQUFLdzlELFlBQWMsS0FPbkJ4OUQsS0FBS3k5RCxvQkFBc0IsS0FPM0J6OUQsS0FBSzA5RCxlQUFnQixFQU9yQjE5RCxLQUFLMjlELGNBQWdCLEdBUXJCMzlELEtBQUs0OUQsZUFBaUIsNEdBUzFCbnBFLEtBQUEsU0FBS3FjLEVBQVErc0QsR0FNVCxHQUFJQSxFQUFTdHZCLFNBRVR2dUMsS0FBSzg5RCxlQUFlaHRELEVBQVErc0QsUUFFM0IsR0FBSTc5RCxLQUFLMDlELGdCQUNOMTlELEtBQUt1OUQsU0FDTnY5RCxLQUFLc3ZDLFNBQVN5dUIsb0JBQW9CdjFDLE9BQ2pDeG9CLEtBQUtzdkMsU0FBUy9TLFFBQVE4bEIsaUJBQWlCMXJELFFBQ3hDa25FLEVBQVNHLGFBQ2hCLENBQ0lwN0MsSUFBTXFoQixFQUFTNDVCLEVBQVMvMUIsZUFFcEJtMkIsRUFBTXJ5RCxLQUFLaTVCLE1BQU1aLEVBQU85b0MsRUFBRzhvQyxFQUFPL29DLElBR3RDK2lFLEVBQU1yeUQsS0FBS3V6QyxNQUFNOGUsR0FBTyxJQUFNcnlELEtBQUswMkIsTUFFekIsR0FFTnRpQyxLQUFLaytELGdCQUFnQkwsR0FJckI3OUQsS0FBS20rRCxnQkFBZ0JydEQsRUFBUStzRCxRQUtqQzc5RCxLQUFLaytELGdCQUFnQkwsZ0JBVTdCampFLElBQUEsU0FBSWtXLEVBQVErc0QsR0FFSkEsRUFBU3R2QixTQUVUdnVDLEtBQUtvK0QsY0FBY3R0RCxFQUFRK3NELEdBRXRCNzlELEtBQUswOUQsZ0JBQWtCMTlELEtBQUtzdkMsU0FBUy9TLFFBQVE4bEIsaUJBQWlCMXJELE9BRW5FcUosS0FBS3ErRCxlQUFldnRELEVBQVErc0QsR0FJNUI3OUQsS0FBS3MrRCxlQUFleHRELEVBQVErc0QsZ0JBVXBDQyxlQUFBLFNBQWVodEQsRUFBUStzRCxHQUVuQi82QyxJQUFJeTdDLEVBQWtCditELEtBQUsyOUQsY0FBYzM5RCxLQUFLNDlELGdCQUV6Q1csSUFFREEsRUFBa0J2K0QsS0FBSzI5RCxjQUFjMzlELEtBQUs0OUQsZ0JBQWtCLENBQUMsSUFBSWYsR0FBaUJnQixLQUd0RlUsRUFBZ0IsR0FBR3ArQixXQUFhbmdDLEtBQUtzdkMsU0FBU25QLFdBQzlDbytCLEVBQWdCLEdBQUdyQixXQUFhVyxFQUVoQ2o3QyxJQUFNNDdDLEVBQWtCMXRELEVBQU8rOEIsV0FFL0IvOEIsRUFBTys4QixXQUFhZ3dCLEVBQVN0ekIsV0FBVSxHQUN2Q3ZxQyxLQUFLc3ZDLFNBQVMxYixPQUFPbi9CLEtBQUtxYyxFQUFReXRELEdBQ2xDenRELEVBQU8rOEIsV0FBYTJ3QixFQUVwQngrRCxLQUFLNDlELDhCQU9UUSxjQUFBLFdBRUlwK0QsS0FBS3N2QyxTQUFTMWIsT0FBT2g1QixNQUNyQm9GLEtBQUs0OUQsOEJBUVRNLGdCQUFBLFNBQWdCTCxHQUVaNzlELEtBQUtzdkMsU0FBU3NDLE1BQU1DLFFBQ3BCN3hDLEtBQUtzdkMsU0FBUy9TLFFBQVFraUMsWUFBWVosZ0JBT3RDUyxlQUFBLFdBR0l0K0QsS0FBS3N2QyxTQUFTL1MsUUFBUW1pQywwQkFRMUJQLGdCQUFBLFNBQWdCcnRELEVBQVErc0QsR0FFcEJBLEVBQVNwd0IsWUFBYSxFQUV0QjdxQixJQUFNKzdDLEVBQWUzK0QsS0FBS3N2QyxTQUFTeXVCLG9CQUU3Qm54QixFQUFTaXhCLEVBQVN0ekIsWUFFeEJxQyxFQUFPaEQsSUFBSSswQixFQUFhbmdDLE1BQ3hCcS9CLEVBQVNwd0IsWUFBYSxFQUV0Qnp0QyxLQUFLc3ZDLFNBQVMzUyxHQUFHaWlDLE9BQU81K0QsS0FBS3N2QyxTQUFTM1MsR0FBR2tpQyxjQUV6Q2o4QyxJQUFNdWQsRUFBYW5nQyxLQUFLc3ZDLFNBQVNuUCxXQUVqQ25nQyxLQUFLc3ZDLFNBQVMzUyxHQUFHNGdDLFFBQ2Izd0IsRUFBT3BpQyxFQUFJMjFCLEdBQ1Z3K0IsRUFBYW4yQyxLQUFPbTJDLEVBQWFuZ0MsS0FBSy9JLE9BQVNtWCxFQUFPbmlDLEVBQUltaUMsRUFBT25YLE9BQVNtWCxFQUFPbmlDLEdBQUswMUIsRUFDdkZ5TSxFQUFPcFgsTUFBUTJLLEVBQ2Z5TSxFQUFPblgsT0FBUzBLLEdBR3BCbmdDLEtBQUt5OUQsb0JBQXNCa0IsRUFDM0IzK0QsS0FBS3c5RCxZQUFjSyxFQUNuQjc5RCxLQUFLdTlELFNBQVUsZUFPbkJjLGVBQUEsV0FFSXIrRCxLQUFLeTlELG9CQUFzQixLQUMzQno5RCxLQUFLdzlELFlBQWMsS0FDbkJ4OUQsS0FBS3U5RCxTQUFVLEVBR2YsSUFBUTVnQyxFQUFPMzhCLEtBQUtzdkMsU0FBWjNTLEdBRVJBLEVBQUdtaUMsUUFBUW5pQyxFQUFHa2lDLGlCQS9OUyxDQUFTL2QsSUNEbkJpZSxHQUFhLFNBQUF2VixHQUs5QixTQUFBdVYsRUFBWXp2QixHQUVSaEMsT0FBS3R0QyxLQUFDc3ZDLEdBTU50dkMsS0FBS3FpRCxpQkFBbUIsNkdBUTVCMmMsYUFBQSxTQUFhM2MsR0FFVHovQixJQUFNK1osRUFBSzM4QixLQUFLc3ZDLFNBQVMzUyxHQUVyQjBsQixFQUFpQjFyRCxTQUFXcUosS0FBS3FpRCxpQkFBaUIxckQsU0FFbEIsSUFBNUIwckQsRUFBaUIxckQsT0FFakJnbUMsRUFBR21pQyxRQUFRbmlDLEVBQUdzaUMsY0FJZHRpQyxFQUFHaWlDLE9BQU9qaUMsRUFBR3NpQyxlQUlyQmovRCxLQUFLcWlELGlCQUFtQkEsZUFRNUJvYyxZQUFBLFNBQVlTLEdBRVJ0OEMsSUFBTStaLEVBQUszOEIsS0FBS3N2QyxTQUFTM1MsR0FDbkJ3aUMsRUFBZ0JuL0QsS0FBS3FpRCxpQkFBaUIxckQsT0FFdEIsSUFBbEJ3b0UsR0FFQXhpQyxFQUFHaWlDLE9BQU9qaUMsRUFBR3NpQyxjQUdqQmovRCxLQUFLcWlELGlCQUFpQjV0RCxLQUFLeXFFLEdBRzNCdmlDLEVBQUd5aUMsV0FBVSxHQUFPLEdBQU8sR0FBTyxHQUNsQ3ppQyxFQUFHMGlDLFlBQVkxaUMsRUFBRzJpQyxNQUFPSCxFQUFlbi9ELEtBQUt1L0QsbUJBQzdDNWlDLEVBQUc2aUMsVUFBVTdpQyxFQUFHOGlDLEtBQU05aUMsRUFBRzhpQyxLQUFNOWlDLEVBQUcraUMsTUFFbENSLEVBQVN6eEIsWUFBYSxFQUN0Qnl4QixFQUFTN3ZCLE9BQU9ydkMsS0FBS3N2QyxVQUNyQnR2QyxLQUFLc3ZDLFNBQVNzQyxNQUFNQyxRQUNwQnF0QixFQUFTenhCLFlBQWEsRUFFdEJ6dEMsS0FBSzIvRCwyQkFNVGpCLFdBQUEsV0FFSTk3QyxJQUFNK1osRUFBSzM4QixLQUFLc3ZDLFNBQVMzUyxHQUNuQnVpQyxFQUFXbC9ELEtBQUtxaUQsaUJBQWlCem5ELE1BRUYsSUFBakNvRixLQUFLcWlELGlCQUFpQjFyRCxRQUd0QmdtQyxFQUFHbWlDLFFBQVFuaUMsRUFBR3NpQyxjQUNkdGlDLEVBQUcwRCxNQUFNMUQsRUFBR2lqQyxvQkFDWmpqQyxFQUFHa2pDLGFBQWEsS0FLaEJsakMsRUFBR3lpQyxXQUFVLEdBQU8sR0FBTyxHQUFPLEdBQ2xDemlDLEVBQUc2aUMsVUFBVTdpQyxFQUFHOGlDLEtBQU05aUMsRUFBRzhpQyxLQUFNOWlDLEVBQUdtakMsTUFFbENaLEVBQVN6eEIsWUFBYSxFQUN0Qnl4QixFQUFTN3ZCLE9BQU9ydkMsS0FBS3N2QyxVQUNyQnR2QyxLQUFLc3ZDLFNBQVNzQyxNQUFNQyxRQUNwQnF0QixFQUFTenhCLFlBQWEsRUFFdEJ6dEMsS0FBSzIvRCw0QkFRYkEsWUFBQSxXQUVJLzhDLElBQU0rWixFQUFLMzhCLEtBQUtzdkMsU0FBUzNTLEdBRXpCQSxFQUFHeWlDLFdBQVUsR0FBTSxHQUFNLEdBQU0sR0FDL0J6aUMsRUFBRzBpQyxZQUFZMWlDLEVBQUcyaUMsTUFBT3QvRCxLQUFLcWlELGlCQUFpQjFyRCxPQUFRcUosS0FBS3UvRCxtQkFDNUQ1aUMsRUFBRzZpQyxVQUFVN2lDLEVBQUc4aUMsS0FBTTlpQyxFQUFHOGlDLEtBQU05aUMsRUFBRzhpQyxtQkFRdENGLGdCQUFBLFdBRUksT0FBUSxHQUFLdi9ELEtBQUtxaUQsaUJBQWlCMXJELFFBQVUsZUFPakQ2b0MsUUFBQSxXQUVJOE4sWUFBTTlOLFFBQUF0c0MsS0FBTzhNLEtBQUNBLE1BRWRBLEtBQUtxaUQsaUJBQW1CLFFBbklFLENBQVN2QixJQ0V0QmlmLEdBQWdCLFNBQUF2VyxHQUtqQyxTQUFBd1csRUFBWTF3QixHQUVSaEMsT0FBS3R0QyxLQUFDc3ZDLEdBT050dkMsS0FBSzhvRCxpQkFBbUIsS0FPeEI5b0QsS0FBS3NwRCxZQUFjLEtBT25CdHBELEtBQUtpZ0UsYUFBZSxLQU9wQmpnRSxLQUFLa2dFLGlCQUFtQixJQUFJbjlCLEdBTzVCL2lDLEtBQUt1dkIsVUFBWSwrR0FXckJ6MkIsT0FBQSxTQUFPZ3dELEVBQWtCUSxFQUFhbnBCLEVBQVkzWCxHQUU5Q3hvQixLQUFLOG9ELGlCQUFtQkEsR0FBb0I5b0QsS0FBSzhvRCxrQkFBb0I5b0QsS0FBS2lnRSxhQUMxRWpnRSxLQUFLc3BELFlBQWNBLEdBQWV0cEQsS0FBS3NwRCxhQUFlUixFQUV0RDlvRCxLQUFLbWdFLG9CQUFvQm5nRSxLQUFLOG9ELGlCQUFrQjlvRCxLQUFLc3BELFlBQWFucEIsRUFBWTNYLEdBRTFFeG9CLEtBQUt1dkIsV0FFTHZ2QixLQUFLa2dFLGlCQUFpQmw4QixPQUFPaGtDLEtBQUt1dkIsV0FHdEMzTSxJQUFNMHNCLEVBQVl0dkMsS0FBS3N2QyxTQUV2QkEsRUFBUzJhLGVBQWVoQixTQUFTaVgsaUJBQW1CbGdFLEtBQUtrZ0UsaUJBQ3pENXdCLEVBQVMyYSxlQUFlbnhELFNBSXBCdzJDLEVBQVMrYixPQUFPQSxRQUVoQi9iLEVBQVMrYixPQUFPK1UsaUJBQWlCOXdCLEVBQVMrYixPQUFPQSxPQUFPcEMsU0FBU29YLHNCQVl6RUYsb0JBQUEsU0FBb0JyWCxFQUFrQlEsRUFBYW5wQixFQUFZM1gsR0FFM0Q1RixJQUFNNGEsRUFBS3g5QixLQUFLa2dFLGlCQUtYMTNDLEdBVURnVixFQUFHdGlDLEVBQUssRUFBSTR0RCxFQUFpQnR6QixNQUFRLEVBQUsySyxFQUMxQzNDLEVBQUdsZ0MsR0FBTSxFQUFJd3JELEVBQWlCcnpCLE9BQVMsRUFBSzBLLEVBRTVDM0MsRUFBR3dGLElBQU0sRUFBS3NtQixFQUFZOStDLEVBQUlnekIsRUFBR3RpQyxFQUNqQ3NpQyxFQUFHeUYsR0FBSyxFQUFLcW1CLEVBQVk3K0MsRUFBSSt5QixFQUFHbGdDLElBWmhDa2dDLEVBQUd0aUMsRUFBSyxFQUFJNHRELEVBQWlCdHpCLE1BQVEsRUFBSzJLLEVBQzFDM0MsRUFBR2xnQyxFQUFLLEVBQUl3ckQsRUFBaUJyekIsT0FBUyxFQUFLMEssRUFFM0MzQyxFQUFHd0YsSUFBTSxFQUFLc21CLEVBQVk5K0MsRUFBSWd6QixFQUFHdGlDLEVBQ2pDc2lDLEVBQUd5RixJQUFNLEVBQUtxbUIsRUFBWTcrQyxFQUFJK3lCLEVBQUdsZ0MsZ0JBaUJ6Q2dqQyxhQUFBLGVBcEhpQyxDQUFTd2dCLElDUnhDaUosR0FBVyxJQUFJM2dCLEdBWUFrM0IsR0FBbUIsU0FBQTlXLEdBS3BDLFNBQUErVyxFQUFZanhCLEdBRVJoQyxPQUFLdHRDLEtBQUNzdkMsR0FNTnR2QyxLQUFLbWlELFdBQWE3UyxFQUFTa3hCLHFCQVEzQnhnRSxLQUFLeWdFLGlCQUFtQixHQVF4QnpnRSxLQUFLMDNDLFFBQVUsS0FPZjEzQyxLQUFLc3BELFlBQWMsSUFBSWxnQixHQU92QnBwQyxLQUFLOG9ELGlCQUFtQixJQUFJMWYsNkdBU2hDcHJDLEtBQUEsU0FBS3FyRCxFQUFzQkMsRUFBYVIsa0JBQW5CLE1BRWpCOW9ELEtBQUswM0MsUUFBVTJSLEVBRWZ6bUMsSUFFSXVkLEVBRkVtUCxFQUFXdHZDLEtBQUtzdkMsU0FJdEIsR0FBSStaLEVBQ0osQ0FDSXptQyxJQUFNcTJCLEVBQWNvUSxFQUFjcFEsWUFFbEM5WSxFQUFhOFksRUFBWTlZLFdBRXBCMm9CLElBRURpQixHQUFTdjBCLE1BQVF5akIsRUFBWWMsVUFDN0JnUSxHQUFTdDBCLE9BQVN3akIsRUFBWWUsV0FFOUI4TyxFQUFtQmlCLElBR2xCVCxJQUVEQSxFQUFjUixHQUdsQjlvRCxLQUFLc3ZDLFNBQVM4UyxZQUFZcGtELEtBQUtpN0MsRUFBWW1KLFlBQWEwRyxHQUV4RDlvRCxLQUFLc3ZDLFNBQVNveEIsV0FBVzVuRSxPQUFPZ3dELEVBQWtCUSxFQUFhbnBCLEdBQVksR0FDM0VuZ0MsS0FBS3N2QyxTQUFTL1MsUUFBUXlpQyxhQUFhL2xCLEVBQVlvSix1QkFJL0NsaUIsRUFBYW5nQyxLQUFLc3ZDLFNBQVNuUCxXQUl0QjJvQixJQUVEaUIsR0FBU3YwQixNQUFROFosRUFBUzlaLE1BQzFCdTBCLEdBQVN0MEIsT0FBUzZaLEVBQVM3WixPQUUzQnF6QixFQUFtQmlCLElBR2xCVCxJQUVEQSxFQUFjUixHQUdsQnhaLEVBQVM4UyxZQUFZcGtELEtBQUssS0FBTThxRCxHQUdoQzlvRCxLQUFLc3ZDLFNBQVNveEIsV0FBVzVuRSxPQUFPZ3dELEVBQWtCUSxFQUFhbnBCLEdBQVksR0FDM0VuZ0MsS0FBS3N2QyxTQUFTL1MsUUFBUXlpQyxhQUFhaC9ELEtBQUt5Z0Usa0JBRzVDemdFLEtBQUtzcEQsWUFBWXpuQixTQUFTeW5CLEdBRTFCdHBELEtBQUs4b0QsaUJBQWlCdCtDLEVBQUlzK0MsRUFBaUJ0K0MsRUFBSTIxQixFQUMvQ25nQyxLQUFLOG9ELGlCQUFpQnIrQyxFQUFJcStDLEVBQWlCcitDLEVBQUkwMUIsRUFFL0NuZ0MsS0FBSzhvRCxpQkFBaUJ0ekIsTUFBUXN6QixFQUFpQnR6QixNQUFRMkssRUFDdkRuZ0MsS0FBSzhvRCxpQkFBaUJyekIsT0FBU3F6QixFQUFpQnJ6QixPQUFTMEssRUFFckRtcEIsSUFBZ0JSLEdBRWhCOW9ELEtBQUtzcEQsWUFBWXpuQixTQUFTN2hDLEtBQUs4b0QsK0JBVXZDem9CLE1BQUEsU0FBTThoQixHQUlFQSxFQUZBbmlELEtBQUswM0MsUUFFUXlLLEdBQWNuaUQsS0FBSzAzQyxRQUFRdUIsWUFBWWtKLFdBSXZDQSxHQUFjbmlELEtBQUttaUQsV0FHcENuaUQsS0FBS3N2QyxTQUFTOFMsWUFBWS9oQixNQUFNOGhCLEVBQVcsR0FBSUEsRUFBVyxHQUFJQSxFQUFXLEdBQUlBLEVBQVcsaUJBRzVGL2hCLE9BQUEsV0FHSXBnQyxLQUFLaEMsS0FBSyxtQkFNZHN3QixNQUFBLFdBRUl0dUIsS0FBS2hDLEtBQUssU0EzSnNCLENBQVM4aUQsSUNUNUI2ZixHQVFqQixTQUFZN08sRUFBU29JLEdBT2pCbDZELEtBQUs4eEQsUUFBVUEsRUFPZjl4RCxLQUFLazZELFlBQWNBLEVBT25CbDZELEtBQUs0Z0UsY0FBZ0IsSUFNN0JELEdBQUEzdEUsVUFBSXdzQyxRQUFBLFdBRUl4L0IsS0FBS2s2RCxZQUFjLEtBQ25CbDZELEtBQUs0Z0UsY0FBZ0IsS0FDckI1Z0UsS0FBSzh4RCxRQUFVLE1DdEN2Qmh2QyxJQUFJNGlDLEdBQU0sRUFTV21iLEdBQVksU0FBQXJYLEdBSzdCLFNBQUFxWCxFQUFZdnhCLEdBRVJoQyxPQUFLdHRDLEtBQUNzdkMsR0FHTnR2QyxLQUFLOGdFLGNBT0w5Z0UsS0FBSzI4QixHQUFLLEtBRVYzOEIsS0FBS3FyRCxPQUFTLEtBQ2RyckQsS0FBSzh4RCxRQUFVLEtBT2Y5eEQsS0FBSytnRSxNQUFRLEdBRWIvZ0UsS0FBS2hJLEdBQUswdEQsK0dBU2RvYixZQUFBLFdBRUksSVo5Q08sV0FFWCxHQUEwQixrQkFBZjdILEdBRVAsT0FBT0EsR0FHWCxJQUdJcjJDLElBQU1vK0MsRUFBTyxJQUFJOWdFLFNBQVMsU0FBVSxTQUFVLFNBQVUscUNBR3hEKzRELElBQTRDLElBQS9CK0gsRUFBSyxDQUFFOWxFLEVBQUcsS0FBTyxJQUFLLEtBRXZDLE1BQU83RixHQUVINGpFLElBQWEsRUFHakIsT0FBT0EsR1kwQkVnSSxHQUVELE1BQU0sSUFBSWhwRSxNQUFNLHVIQUt4QitvRCxjQUFBLFNBQWNya0IsR0FFVjM4QixLQUFLMjhCLEdBQUtBLGVBVWQzK0IsS0FBQSxTQUFLcXRELEVBQVE2VixHQUVUN1YsRUFBT3BDLFNBQVNvWCxRQUFVcmdFLEtBQUtzdkMsU0FBUzJhLGVBRXhDcm5DLElBQU1rdkMsRUFBVXpHLEVBQU95RyxRQUNqQnFQLEVBQVlyUCxFQUFRa0ksV0FBV2g2RCxLQUFLc3ZDLFNBQVNxZCxjQUFnQjNzRCxLQUFLb2hFLGVBQWUvVixHQWdCdkYsT0FkQXJyRCxLQUFLcXJELE9BQVNBLEVBR1ZyckQsS0FBSzh4RCxVQUFZQSxJQUVqQjl4RCxLQUFLOHhELFFBQVVBLEVBQ2Y5eEQsS0FBSzI4QixHQUFHa3hCLFdBQVdzVCxFQUFVclAsVUFHNUJvUCxHQUVEbGhFLEtBQUtvZ0UsaUJBQWlCL1UsRUFBT3lQLGNBRzFCcUcsZUFRWEUsWUFBQSxTQUFZcFksR0FFUnJtQyxJQUFNeW9DLEVBQVNyckQsS0FBS3FyRCxPQUFPeUcsUUFDckJxUCxFQUFZOVYsRUFBTzJPLFdBQVdoNkQsS0FBS3N2QyxTQUFTcWQsYUFFbER0QixFQUFPbEMsYUFBYWdZLEVBQVVqSCxZQUFhalIsRUFBVWpwRCxLQUFLc3ZDLHVCQUc5RDh3QixpQkFBQSxTQUFpQmxYLEdBRWJ0bUMsSUFBTXUrQyxFQUFZbmhFLEtBQUtzaEUsZUFFbEJwWSxFQUFNcEQsUUFBVW9ELEVBQU05TixVQUFZK2xCLEVBQVVQLGNBQWMxWCxFQUFNbHhELE1BRWpFbXBFLEVBQVVQLGNBQWMxWCxFQUFNbHhELElBQU1reEQsRUFBTTlOLFFBRTFDcDdDLEtBQUttcEQsYUFBYUQsRUFBT2lZLGlCQVVqQ2hZLGFBQUEsU0FBYUQsRUFBT2lZLElBRUNqWSxFQUFNQyxhQUFhbnBELEtBQUtxckQsT0FBT3lHLFFBQVE5NUQsS0FBT2dJLEtBQUt1aEUsaUJBQWlCclksSUFFNUVpWSxFQUFVakgsWUFBYWhSLEVBQU1ELFNBQVVqcEQsS0FBS3N2Qyx1QkFHekRpeUIsaUJBQUEsU0FBaUJyWSxHQUVidG1DLElBQU01cUIsRUFBS2dJLEtBQUtnekQsYUFBYTlKLEVBQU9scEQsS0FBS3FyRCxPQUFPeUcsUUFBUW9JLGFBU3hELE9BUEtsNkQsS0FBSytnRSxNQUFNL29FLEtBRVpnSSxLQUFLK2dFLE1BQU0vb0UsR2QvRFIsU0FBOEJreEQsRUFBT2dSLEdBRWhEcDNDLElBQUkwK0MsRUFBZSxFQUNmUixFQUFPLDZEQUlYLElBQUtwK0MsSUFBTWxzQixLQUFLd3lELEVBQU1ELFNBQ3RCLENBQ0lybUMsSUFBTWpyQixFQUFPdWlFLEVBQVl4akUsR0FFcEJpQixFQWFhLFVBQWRBLEVBQUtrRCxNQUFrQyxJQUFkbEQsRUFBSzZtQyxLQUU5QndpQyxHQUFRLHVCQUNBdHFFLEVBQUMsV0FBV0EsRUFBQyw4Q0FFWkEsRUFBQyxlQUFlQSxFQUFDLHFDQUNKQSxFQUFDLGlCQUFpQkEsRUFBQyxxQkFJckIsY0FBZGlCLEVBQUtrRCxNQUFzQyxnQkFBZGxELEVBQUtrRCxNQUF3QyxtQkFBZGxELEVBQUtrRCxNQUE0QyxJQUFkbEQsRUFBSzZtQyxNQUFlN21DLEVBQUt5aUIsUUFjM0csU0FBZHppQixFQUFLa0QsTUFBaUMsSUFBZGxELEVBQUs2bUMsVUFFTi9uQyxJQUF4Qnl5RCxFQUFNRCxTQUFTdnlELEdBQUd3RSxFQUdsQjhsRSxHQUFRLDRDQUNpQnRxRSxFQUFDLHdCQUF3QkEsRUFBQyx1Q0FLbkRzcUUsR0FBUSw0Q0FDaUJ0cUUsRUFBQyx3QkFBd0JBLEVBQUMseUJBSXBDLFNBQWRpQixFQUFLa0QsTUFBaUMsSUFBZGxELEVBQUs2bUMsVUFJTi9uQyxJQUF4Qnl5RCxFQUFNRCxTQUFTdnlELEdBQUc4VCxFQUVsQncyRCxHQUFRLDZCQUNFdHFFLEVBQUMsbUNBQ0ZBLEVBQUMsdUxBTVlBLEVBQUMsNkNBS3ZCc3FFLEdBQVEsNkJBQ0V0cUUsRUFBQyxtQ0FDRkEsRUFBQywyTEFNWUEsRUFBQyxpRUFLUixTQUFkaUIsRUFBS2tELE1BQWlDLElBQWRsRCxFQUFLNm1DLFVBSUYvbkMsSUFBNUJ5eUQsRUFBTUQsU0FBU3Z5RCxHQUFHOCtCLE1BRWxCd3JDLEdBQVEsNkJBQ0V0cUUsRUFBQyxtQ0FDRkEsRUFBQywrU0FRWUEsRUFBQywrREFLdkJzcUUsR0FBUSw2QkFDRXRxRSxFQUFDLG1DQUNGQSxFQUFDLHVTQVNZQSxFQUFDLDRFQVczQnNxRSxHQUFRLHlCQUNFdHFFLEVBQUMsK0JBQ0ZBLEVBQUMsbUJBTjBCLElBQWRpQixFQUFLNm1DLEtBQWNxNkIsR0FBZ0NHLElBRTFDcmhFLEVBQUtrRCxNQUFNNkksUUFBUSxXQUFVLE1BQVFoTixFQUFDLGFBSzNELE9BekdWc3FFLEdBQVEsMENBQ21CdHFFLEVBQUMsS0FBSzhxRSxFQUFZLDJCQUVyQzlxRSxFQUFDLGNBQWM4cUUsRUFBWSx3Q0FFMUI5cUUsRUFBQyxZQUFZOHFFLEVBQVksc0NBQ1o5cUUsRUFBQyxjQUFjOHFFLEVBQVksd0RBR2pEQSxLQWpDSXRZLEVBQU1ELFNBQVN2eUQsR0FBR3d5RCxRQUVsQjhYLEdBQVEsNkRBQ2tDdHFFLEVBQUMsd0JBa0l2RCxPQUFPLElBQUl3SixTQUFTLEtBQU0sS0FBTSxXQUFZOGdFLEdjbkZuQlMsQ0FBcUJ2WSxFQUFPbHBELEtBQUtxckQsT0FBT3lHLFFBQVFvSSxjQUdyRWhSLEVBQU1DLGFBQWFucEQsS0FBS3FyRCxPQUFPeUcsUUFBUTk1RCxJQUFNZ0ksS0FBSytnRSxNQUFNL29FLEdBRWpEa3hELEVBQU1DLGFBQWFucEQsS0FBS3FyRCxPQUFPeUcsUUFBUTk1RCxpQkFXbERnN0QsYUFBQSxTQUFhOUosRUFBT2dSLEdBRWhCdDNDLElBQU1xbUMsRUFBV0MsRUFBTUQsU0FFakJpSyxFQUFVLEdBRWhCLElBQUt0d0MsSUFBTWxzQixLQUFLdXlELEVBRVppSyxFQUFReitELEtBQUtpQyxHQUVUd2pFLEVBQVl4akUsSUFFWnc4RCxFQUFReitELEtBQUt5bEUsRUFBWXhqRSxHQUFHbUUsTUFJcEMsT0FBT3E0RCxFQUFRdjNELEtBQUssa0JBU3hCMmxFLGFBQUEsV0FFSSxPQUFJdGhFLEtBQUtxckQsT0FFRXJyRCxLQUFLcXJELE9BQU95RyxRQUFRa0ksV0FBV2g2RCxLQUFLc3ZDLFNBQVNxZCxhQUdqRCxrQkFVWHlVLGVBQUEsU0FBZS9WLEdBRVh6b0MsSUFBTStaLEVBQUszOEIsS0FBSzI4QixHQUVWbTFCLEVBQVV6RyxFQUFPeUcsUUFFakI0UCxFQUFZLEdBRWxCLElBQUs5K0MsSUFBTWxzQixLQUFLbzdELEVBQVFpQixjQUVwQjJPLEVBQVVockUsR0FBS283RCxFQUFRaUIsY0FBY3I4RCxHQUFHc2xCLFNBRzVDNEcsSUFBTSsrQyxFQUFnQnhOLEdBQWV4M0IsRUFBSW0xQixFQUFRc0MsVUFBV3RDLEVBQVF1QyxZQUFhcU4sR0FDM0V4SCxFQUFjLEdBRXBCLElBQUt0M0MsSUFBTWxzQixLQUFLbzdELEVBQVFvSSxZQUN4QixDQUNJdDNDLElBQU1qckIsRUFBT202RCxFQUFRb0ksWUFBWXhqRSxHQUVqQ3dqRSxFQUFZeGpFLEdBQUssQ0FDYnNsQixTQUFVMmdCLEVBQUdpbEMsbUJBQW1CRCxFQUFlanJFLEdBQy9DdkIsTUFBT3lnRSxHQUFhaitELEVBQUtrRCxLQUFNbEQsRUFBSzZtQyxPQUk1QzViLElBQU11K0MsRUFBWSxJQUFJUixHQUFVZ0IsRUFBZXpILEdBSS9DLE9BRkFwSSxFQUFRa0ksV0FBV2g2RCxLQUFLc3ZDLFNBQVNxZCxhQUFld1UsRUFFekNBLGVBTVg3eUMsTUFBQSxXQUVJdHVCLEtBQUs4eEQsUUFBVSxLQUNmOXhELEtBQUtxckQsT0FBUyxrQkFNbEI3ckIsUUFBQSxXQUdJeC9CLEtBQUs2NEMsV0FBWSxLQXpPUSxDQUFTaUksSUNYMUNsK0IsSUFBTWkvQyxHQUFRLEVBQ1JDLEdBQVMsRUFDVEMsR0FBVSxFQUNWQyxHQUFhLEVBQ2JDLEdBQVUsRUFTS0MsR0FBVyxTQUFBMVksR0FLNUIsU0FBQTJZLEVBQVk3eUIsR0FFUmhDLE9BQUt0dEMsS0FBQ3N2QyxHQU9OdHZDLEtBQUsyOEIsR0FBSyxLQU9WMzhCLEtBQUtvaUUsUUFBVSxFQU9mcGlFLEtBQUtrN0QsY0FBZ0IsRUFRckJsN0QsS0FBSzQ5QixVQUFZakgsRUFBWTNaLEtBTzdCaGQsS0FBS3FpRSxVQUFXLEVBT2hCcmlFLEtBQUt2RixJQUFNLEdBR1h1RixLQUFLdkYsSUFBSW9uRSxJQUFTN2hFLEtBQUtzaUUsU0FDdkJ0aUUsS0FBS3ZGLElBQUlxbkUsSUFBVTloRSxLQUFLdWlFLFVBQ3hCdmlFLEtBQUt2RixJQUFJc25FLElBQVcvaEUsS0FBS3dpRSxZQUN6QnhpRSxLQUFLdkYsSUFBSXVuRSxJQUFjaGlFLEtBQUt5aUUsYUFDNUJ6aUUsS0FBS3ZGLElBQUl3bkUsSUFBV2ppRSxLQUFLMGlFLGFBT3pCMWlFLEtBQUsyaUUsT0FBUyxHQU9kM2lFLEtBQUs0aUUsYUFBZSxJQUFJM0gsR0FDeEJqN0QsS0FBSzRpRSxhQUFhekgsT0FBUSxFQUMxQm43RCxLQUFLNGlFLGFBQWF4aEIsT0FBUSw0R0FHOUJKLGNBQUEsU0FBY3JrQixHQUVWMzhCLEtBQUsyOEIsR0FBS0EsRUFFVjM4QixLQUFLNmlFLFdDdEZFLFNBQWtDbG1DLEVBQUl0cEIsR0F3Q2pELHNCQXhDeUQsSUFJekRBLEVBQU1zakIsRUFBWUMsUUFBVSxDQUFDK0YsRUFBR21tQyxJQUFLbm1DLEVBQUdvbUMscUJBQ3hDMXZELEVBQU1zakIsRUFBWUUsS0FBTyxDQUFDOEYsRUFBR21tQyxJQUFLbm1DLEVBQUdxbUMsVUFBV3JtQyxFQUFHbW1DLElBQUtubUMsRUFBR29tQyxxQkFDM0QxdkQsRUFBTXNqQixFQUFZRyxVQUFZLENBQUM2RixFQUFHc21DLFVBQVd0bUMsRUFBR29tQyxvQkFBcUJwbUMsRUFBR21tQyxJQUFLbm1DLEVBQUdvbUMscUJBQ2hGMXZELEVBQU1zakIsRUFBWUksUUFBVSxDQUFDNEYsRUFBR21tQyxJQUFLbm1DLEVBQUd1bUMsb0JBQXFCdm1DLEVBQUdtbUMsSUFBS25tQyxFQUFHb21DLHFCQUN4RTF2RCxFQUFNc2pCLEVBQVlLLFNBQVcsQ0FBQzJGLEVBQUdtbUMsSUFBS25tQyxFQUFHb21DLHFCQUN6QzF2RCxFQUFNc2pCLEVBQVlNLFFBQVUsQ0FBQzBGLEVBQUdtbUMsSUFBS25tQyxFQUFHb21DLHFCQUN4QzF2RCxFQUFNc2pCLEVBQVlPLFNBQVcsQ0FBQ3lGLEVBQUdtbUMsSUFBS25tQyxFQUFHb21DLHFCQUN6QzF2RCxFQUFNc2pCLEVBQVlRLGFBQWUsQ0FBQ3dGLEVBQUdtbUMsSUFBS25tQyxFQUFHb21DLHFCQUM3QzF2RCxFQUFNc2pCLEVBQVlTLFlBQWMsQ0FBQ3VGLEVBQUdtbUMsSUFBS25tQyxFQUFHb21DLHFCQUM1QzF2RCxFQUFNc2pCLEVBQVlVLFlBQWMsQ0FBQ3NGLEVBQUdtbUMsSUFBS25tQyxFQUFHb21DLHFCQUM1QzF2RCxFQUFNc2pCLEVBQVlXLFlBQWMsQ0FBQ3FGLEVBQUdtbUMsSUFBS25tQyxFQUFHb21DLHFCQUM1QzF2RCxFQUFNc2pCLEVBQVlZLFlBQWMsQ0FBQ29GLEVBQUdtbUMsSUFBS25tQyxFQUFHb21DLHFCQUM1QzF2RCxFQUFNc2pCLEVBQVlhLFdBQWEsQ0FBQ21GLEVBQUdtbUMsSUFBS25tQyxFQUFHb21DLHFCQUMzQzF2RCxFQUFNc2pCLEVBQVljLEtBQU8sQ0FBQ2tGLEVBQUdtbUMsSUFBS25tQyxFQUFHb21DLHFCQUNyQzF2RCxFQUFNc2pCLEVBQVllLFlBQWMsQ0FBQ2lGLEVBQUdtbUMsSUFBS25tQyxFQUFHb21DLHFCQUM1QzF2RCxFQUFNc2pCLEVBQVlnQixPQUFTLENBQUNnRixFQUFHbW1DLElBQUtubUMsRUFBR29tQyxxQkFDdkMxdkQsRUFBTXNqQixFQUFZaUIsWUFBYyxDQUFDK0UsRUFBR21tQyxJQUFLbm1DLEVBQUdvbUMscUJBQzVDMXZELEVBQU1zakIsRUFBWTNaLE1BQVEsQ0FBQyxFQUFHLEdBRzlCM0osRUFBTXNqQixFQUFZa0IsWUFBYyxDQUFDOEUsRUFBR3dtQyxVQUFXeG1DLEVBQUdvbUMsb0JBQXFCcG1DLEVBQUdtbUMsSUFBS25tQyxFQUFHb21DLHFCQUNsRjF2RCxFQUFNc2pCLEVBQVltQixTQUFXLENBQUM2RSxFQUFHd21DLFVBQVd4bUMsRUFBR3FtQyxVQUFXcm1DLEVBQUdtbUMsSUFBS25tQyxFQUFHb21DLHFCQUNyRTF2RCxFQUFNc2pCLEVBQVlvQixZQUFjLENBQUM0RSxFQUFHd21DLFVBQVd4bUMsRUFBR3VtQyxvQkFBcUJ2bUMsRUFBR21tQyxJQUFLbm1DLEVBQUdvbUMscUJBR2xGMXZELEVBQU1zakIsRUFBWXNCLFFBQVUsQ0FBQzBFLEVBQUdxbUMsVUFBV3JtQyxFQUFHeW1DLE1BQzlDL3ZELEVBQU1zakIsRUFBWXVCLFNBQVcsQ0FBQ3lFLEVBQUcwbUMsb0JBQXFCMW1DLEVBQUd5bUMsTUFDekQvdkQsRUFBTXNqQixFQUFZd0IsVUFBWSxDQUFDd0UsRUFBR3FtQyxVQUFXcm1DLEVBQUdvbUMscUJBQ2hEMXZELEVBQU1zakIsRUFBWXlCLFVBQVksQ0FBQ3VFLEVBQUcwbUMsb0JBQXFCMW1DLEVBQUdtbUMsS0FDMUR6dkQsRUFBTXNqQixFQUFZMEIsUUFBVSxDQUFDc0UsRUFBR3ltQyxLQUFNem1DLEVBQUd3bUMsV0FDekM5dkQsRUFBTXNqQixFQUFZMkIsU0FBVyxDQUFDcUUsRUFBR3ltQyxLQUFNem1DLEVBQUdvbUMscUJBQzFDMXZELEVBQU1zakIsRUFBWTRCLFVBQVksQ0FBQ29FLEVBQUcwbUMsb0JBQXFCMW1DLEVBQUd3bUMsV0FHMUQ5dkQsRUFBTXNqQixFQUFZOEIsVUFBWSxDQUFDa0UsRUFBR21tQyxJQUFLbm1DLEVBQUdtbUMsSUFBS25tQyxFQUFHbW1DLElBQUtubUMsRUFBR21tQyxJQUFLbm1DLEVBQUcybUMsc0JBQXVCM21DLEVBQUc0bUMsVUFFckZsd0QsRUQ4Q2Vtd0QsQ0FBeUI3bUMsR0FFM0MzOEIsS0FBS29yRCxTQUFTcHJELEtBQUs0aUUsY0FFbkI1aUUsS0FBS3N1QixxQkFRVDg4QixTQUFBLFNBQVNYLEdBS0wsR0FIQUEsRUFBUUEsR0FBU3pxRCxLQUFLNGlFLGFBR2xCNWlFLEtBQUtvaUUsVUFBWTNYLEVBQU05eUQsS0FDM0IsQ0FLSSxJQUpBbXJCLElBQUkyZ0QsRUFBT3pqRSxLQUFLb2lFLFFBQVUzWCxFQUFNOXlELEtBQzVCakIsRUFBSSxFQUdEK3NFLEdBRVEsRUFBUEEsR0FHQXpqRSxLQUFLdkYsSUFBSS9ELEdBQUd4RCxLQUFLOE0sUUFBU3lxRCxFQUFNOXlELEtBQVEsR0FBS2pCLElBR2pEK3NFLElBQWUsRUFDZi9zRSxJQUdKc0osS0FBS29pRSxRQUFVM1gsRUFBTTl5RCxLQU16QixJQUFLbXJCLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJc0osS0FBSzJpRSxPQUFPaHNFLE9BQVFELElBRXBDc0osS0FBSzJpRSxPQUFPanNFLEdBQUdzSixLQUFNeXFELGdCQVM3QmlaLFdBQUEsU0FBV2paLEdBRVBBLEVBQVFBLEdBQVN6cUQsS0FBSzRpRSxhQUN0QixJQUFLOS9DLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJc0osS0FBS3ZGLElBQUk5RCxPQUFRRCxJQUVqQ3NKLEtBQUt2RixJQUFJL0QsR0FBR3hELEtBQUs4TSxRQUFTeXFELEVBQU05eUQsS0FBUSxHQUFLakIsSUFFakQsSUFBS29zQixJQUFJcHNCLEVBQUksRUFBR0EsRUFBSXNKLEtBQUsyaUUsT0FBT2hzRSxPQUFRRCxJQUVwQ3NKLEtBQUsyaUUsT0FBT2pzRSxHQUFHc0osS0FBTXlxRCxHQUd6QnpxRCxLQUFLb2lFLFFBQVUzWCxFQUFNOXlELGtCQVF6QjJxRSxTQUFBLFNBQVNudEUsR0FFTDZLLEtBQUsyakUsWUFBWXhCLEVBQVl5QixlQUFnQnp1RSxHQUU3QzZLLEtBQUsyOEIsR0FBR3huQyxFQUFRLFNBQVcsV0FBVzZLLEtBQUsyOEIsR0FBR2tsQyxvQkFRbERVLFVBQUEsU0FBVXB0RSxHQUVONkssS0FBSzI4QixHQUFHeG5DLEVBQVEsU0FBVyxXQUFXNkssS0FBSzI4QixHQUFHa25DLGtDQVFsRHBCLGFBQUEsU0FBYXR0RSxHQUVUNkssS0FBSzI4QixHQUFHeG5DLEVBQVEsU0FBVyxXQUFXNkssS0FBSzI4QixHQUFHcWxDLHlCQVFsRFEsWUFBQSxTQUFZcnRFLEdBRVI2SyxLQUFLMjhCLEdBQUd4bkMsRUFBUSxTQUFXLFdBQVc2SyxLQUFLMjhCLEdBQUdtbkMsd0JBUWxEcEIsYUFBQSxTQUFhdnRFLEdBRVQ2SyxLQUFLMjhCLEdBQUdvbkMsVUFBVS9qRSxLQUFLMjhCLEdBQUd4bkMsRUFBUSxLQUFPLHFCQVE3QzZ1RSxhQUFBLFNBQWE3dUUsR0FFVCxHQUFJQSxJQUFVNkssS0FBSzQ5QixVQUFuQixDQUtBNTlCLEtBQUs0OUIsVUFBWXpvQyxFQUVqQnl0QixJQUFNOXNCLEVBQU9rSyxLQUFLNmlFLFdBQVcxdEUsR0FDdkJ3bkMsRUFBSzM4QixLQUFLMjhCLEdBRUksSUFBaEI3bUMsRUFBS2EsT0FFTGdtQyxFQUFHc25DLFVBQVVudUUsRUFBSyxHQUFJQSxFQUFLLElBSTNCNm1DLEVBQUd1bkMsa0JBQWtCcHVFLEVBQUssR0FBSUEsRUFBSyxHQUFJQSxFQUFLLEdBQUlBLEVBQUssSUFFckMsSUFBaEJBLEVBQUthLFFBRUxxSixLQUFLcWlFLFVBQVcsRUFDaEIxbEMsRUFBR3duQyxzQkFBc0JydUUsRUFBSyxHQUFJQSxFQUFLLEtBRWxDa0ssS0FBS3FpRSxXQUVWcmlFLEtBQUtxaUUsVUFBVyxFQUNoQjFsQyxFQUFHd25DLHNCQUFzQnhuQyxFQUFHNG1DLFNBQVU1bUMsRUFBRzRtQyx5QkFVakRhLGlCQUFBLFNBQWlCanZFLEVBQU9zdUMsR0FFcEJ6akMsS0FBSzI4QixHQUFHdStCLGNBQWMvbEUsRUFBT3N1QyxnQkFPakNuVixNQUFBLFdBRUl0dUIsS0FBSzI4QixHQUFHc2QsWUFBWWo2QyxLQUFLMjhCLEdBQUcwbkMscUJBQXFCLEdBRWpEcmtFLEtBQUswakUsV0FBVyxHQUVoQjFqRSxLQUFLcWlFLFVBQVcsRUFDaEJyaUUsS0FBSzQ5QixXQUFhLEVBQ2xCNTlCLEtBQUtna0UsYUFBYSxnQkFZdEJMLFlBQUEsU0FBWTNDLEVBQU03ckUsR0FFZHl0QixJQUFNbkcsRUFBUXpjLEtBQUsyaUUsT0FBT251RSxRQUFRd3NFLEdBRTlCN3JFLElBQW9CLElBQVhzbkIsRUFFVHpjLEtBQUsyaUUsT0FBT2x1RSxLQUFLdXNFLEdBRVg3ckUsSUFBb0IsSUFBWHNuQixHQUVmemMsS0FBSzJpRSxPQUFPMXJFLE9BQU93bEIsRUFBTyxJQVlsQzBsRCxFQUFPeUIsZUFBQSxTQUFldnJCLEVBQVFvUyxHQUUxQnBTLEVBQU8yckIsYUFBYXZaLEVBQU03c0IsY0F2U0YsQ0FBU2tqQixJRU5wQndqQixHQUFlLFNBQUE5YSxHQUtoQyxTQUFBK2EsRUFBWWoxQixHQUVSaEMsT0FBS3R0QyxLQUFDc3ZDLEdBT050dkMsS0FBS3l2RCxNQUFRLEVBT2J6dkQsS0FBS3drRSxXQUFhLEVBT2xCeGtFLEtBQUt5a0UsUUFBVXB3QyxFQUFTdUIsWUFPeEI1MUIsS0FBSzBrRSxjQUFnQnJ3QyxFQUFTd0IsbUJBTzlCNzFCLEtBQUtsSyxLQUFPdStCLEVBQVNzQixrSEFPekJtNEIsV0FBQSxXQUVJOXRELEtBQUt5dkQsUUFFRHp2RCxLQUFLbEssT0FBU3lsQyxFQUFTRSxTQUszQno3QixLQUFLd2tFLGFBRUR4a0UsS0FBS3drRSxXQUFheGtFLEtBQUswa0UsZ0JBRXZCMWtFLEtBQUt3a0UsV0FBYSxFQUVsQnhrRSxLQUFLMm1CLHFCQVFiQSxJQUFBLFdBTUksSUFKQS9ELElBQU0raEQsRUFBSzNrRSxLQUFLc3ZDLFNBQVN1TyxRQUNuQittQixFQUFtQkQsRUFBR0MsZ0JBQ3hCQyxHQUFhLEVBRVJudUUsRUFBSSxFQUFHQSxFQUFJa3VFLEVBQWdCanVFLE9BQVFELElBQzVDLENBQ0lrc0IsSUFBTWk3QixFQUFVK21CLEVBQWdCbHVFLElBRzNCbW5ELEVBQVF1RSxhQUFlcGlELEtBQUt5dkQsTUFBUTVSLEVBQVExQixRQUFVbjhDLEtBQUt5a0UsVUFFNURFLEVBQUdHLGVBQWVqbkIsR0FBUyxHQUMzQittQixFQUFnQmx1RSxHQUFLLEtBQ3JCbXVFLEdBQWEsR0FJckIsR0FBSUEsRUFDSixDQUdJLElBRkEvaEQsSUFBSTVvQixFQUFJLEVBRUN4RCxFQUFJLEVBQUdBLEVBQUlrdUUsRUFBZ0JqdUUsT0FBUUQsSUFFYixPQUF2Qmt1RSxFQUFnQmx1RSxLQUVoQmt1RSxFQUFnQjFxRSxLQUFPMHFFLEVBQWdCbHVFLElBSS9Da3VFLEVBQWdCanVFLE9BQVN1RCxnQkFTakM2cUUsT0FBQSxTQUFPOXdCLEdBRUhyeEIsSUFBTStoRCxFQUFLM2tFLEtBQUtzdkMsU0FBUzAxQixjQUdyQi93QixFQUFjeVgsVUFBWXpYLEVBQWN5WCxTQUFTdVosa0JBRWpETixFQUFHRyxlQUFlN3dCLEVBQWN5WCxVQUdwQyxJQUFLNW9DLElBQUlwc0IsRUFBSXU5QyxFQUFjdi9DLFNBQVNpQyxPQUFTLEVBQUdELEdBQUssRUFBR0EsSUFFcERzSixLQUFLK2tFLE9BQU85d0IsRUFBY3YvQyxTQUFTZ0MsT0E1SFgsQ0FBU29xRCxJQ1B4Qm9rQixHQUVqQixTQUFZcm5CLEdBTVI3OUMsS0FBSzY5QyxRQUFVQSxFQUVmNzlDLEtBQUt3MUIsT0FBUyxFQUNkeDFCLEtBQUt5MUIsUUFBVSxFQU1mejFCLEtBQUtvN0MsU0FBVyxFQU1oQnA3QyxLQUFLczhDLGNBQWdCLEVBTXJCdDhDLEtBQUtnOEMsUUFBUyxFQU1kaDhDLEtBQUtpOEMsU0FBVyxPQzNCSGtwQixHQUFhLFNBQUEzYixHQUs5QixTQUFBNGIsRUFBWTkxQixHQUVSaEMsT0FBS3R0QyxLQUFDc3ZDLEdBUU50dkMsS0FBS3FsRSxjQUFnQixHQU1yQnJsRSxLQUFLc2xFLGlCQUFtQixFQU94QnRsRSxLQUFLNGtFLGdCQUFrQixHQU92QjVrRSxLQUFLdWxFLHVCQUF3QixFQU83QnZsRSxLQUFLd2xFLGVBQWlCLElBQUkxcEIsNkdBTTlCa0YsY0FBQSxXQUVJcCtCLElBQU0rWixFQUFLMzhCLEtBQUsyOEIsR0FBSzM4QixLQUFLc3ZDLFNBQVMzUyxHQUVuQzM4QixLQUFLMnNELFlBQWMzc0QsS0FBS3N2QyxTQUFTcWQsWUFFakMzc0QsS0FBSzA3QyxhQUFlMTdDLEtBQUtzdkMsU0FBU3huQyxRQUFRNHpDLGFBRTFDOTRCLElBQU02aUQsRUFBYzlvQyxFQUFHK29DLGFBQWEvb0MsRUFBR2dwQyx5QkFFdkMzbEUsS0FBS3FsRSxjQUFjMXVFLE9BQVM4dUUsRUFFNUIsSUFBSzNpRCxJQUFJcHNCLEVBQUksRUFBR0EsRUFBSSt1RSxFQUFhL3VFLElBRTdCc0osS0FBS3FsRSxjQUFjM3VFLEdBQUssS0FJNUJzSixLQUFLNGxFLGNBQWdCLEdBRXJCaGpELElBQU1pakQsRUFBaUIsSUFBSVgsR0FBVXZvQyxFQUFHbXBDLGlCQUV4Q25wQyxFQUFHb3BDLFlBQVlwcEMsRUFBR2hELFdBQVlrc0MsRUFBZWhvQixTQUM3Q2xoQixFQUFHMGQsV0FBVzFkLEVBQUdoRCxXQUFZLEVBQUdnRCxFQUFHeEQsS0FBTSxFQUFHLEVBQUcsRUFBR3dELEVBQUd4RCxLQUFNd0QsRUFBR3RDLGNBQWUsSUFBSXRXLFdBQVcsSUFFNUYvakIsS0FBSzRsRSxjQUFjanBDLEVBQUdoRCxZQUFja3NDLEVBQ3BDN2xFLEtBQUs0bEUsY0FBY2pwQyxFQUFHL0Msa0JBQW9CLElBQUlzckMsR0FBVXZvQyxFQUFHbXBDLGlCQUUzRG5wQyxFQUFHb3BDLFlBQVlwcEMsRUFBRy9DLGlCQUFrQjU1QixLQUFLNGxFLGNBQWNqcEMsRUFBRy9DLGtCQUFrQmlrQixTQUU1RSxJQUFLLzZCLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJLEVBQUdBLElBRW5CaW1DLEVBQUcwZCxXQUFXMWQsRUFBRzdDLDRCQUE4QnBqQyxFQUFHLEVBQUdpbUMsRUFBR3hELEtBQU0sRUFBRyxFQUFHLEVBQUd3RCxFQUFHeEQsS0FBTXdELEVBQUd0QyxjQUFlLE1BR3RHc0MsRUFBR3FwQyxjQUFjcnBDLEVBQUcvQyxpQkFBa0IrQyxFQUFHc3BDLG1CQUFvQnRwQyxFQUFHOUIsUUFDaEU4QixFQUFHcXBDLGNBQWNycEMsRUFBRy9DLGlCQUFrQitDLEVBQUd1cEMsbUJBQW9CdnBDLEVBQUc5QixRQUVoRSxJQUFLL1gsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUlzSixLQUFLcWxFLGNBQWMxdUUsT0FBUUQsSUFFM0NzSixLQUFLaEMsS0FBSyxLQUFNdEgsZ0JBWXhCc0gsS0FBQSxTQUFLNi9DLEVBQVM3aEMsa0JBQVcsR0FFckIsSUFBUTJnQixFQUFPMzhCLEtBQVAyOEIsR0FFUixHQUFJa2hCLEdBSUEsSUFGQUEsRUFBVUEsRUFBUTVFLGFBQWU0RSxHQUVyQnpFLE1BQ1osQ0FDSXlFLEVBQVExQixRQUFVbjhDLEtBQUtzdkMsU0FBUzYyQixVQUFVMVcsTUFFMUM3c0MsSUFBTTAyQixFQUFZdUUsRUFBUTNDLFlBQVlsN0MsS0FBSzJzRCxjQUFnQjNzRCxLQUFLb21FLFlBQVl2b0IsR0FFeEU3OUMsS0FBS3NsRSxrQkFBb0J0cEQsSUFFekJoYyxLQUFLc2xFLGdCQUFrQnRwRCxFQUN2QjJnQixFQUFHMHBDLGNBQWMxcEMsRUFBRzJwQyxTQUFXdHFELElBRy9CaGMsS0FBS3FsRSxjQUFjcnBELEtBQWM2aEMsR0FFakNsaEIsRUFBR29wQyxZQUFZbG9CLEVBQVEvc0MsT0FBUXdvQyxFQUFVdUUsU0FHekN2RSxFQUFVOEIsVUFBWXlDLEVBQVF6QyxTQUU5QnA3QyxLQUFLdW1FLGNBQWMxb0IsR0FHdkI3OUMsS0FBS3FsRSxjQUFjcnBELEdBQVk2aEMsUUFLL0I3OUMsS0FBS3NsRSxrQkFBb0J0cEQsSUFFekJoYyxLQUFLc2xFLGdCQUFrQnRwRCxFQUN2QjJnQixFQUFHMHBDLGNBQWMxcEMsRUFBRzJwQyxTQUFXdHFELElBR25DMmdCLEVBQUdvcEMsWUFBWXBwQyxFQUFHaEQsV0FBWTM1QixLQUFLNGxFLGNBQWNqcEMsRUFBR2hELFlBQVlra0IsU0FDaEU3OUMsS0FBS3FsRSxjQUFjcnBELEdBQVksa0JBU3ZDc1MsTUFBQSxXQUVJdHVCLEtBQUt1bEUsdUJBQXdCLEVBQzdCdmxFLEtBQUtzbEUsaUJBQW1CLEVBRXhCLElBQUt4aUQsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUlzSixLQUFLcWxFLGNBQWMxdUUsT0FBUUQsSUFFM0NzSixLQUFLcWxFLGNBQWMzdUUsR0FBS3NKLEtBQUt3bEUsNEJBUXJDdHNCLE9BQUEsU0FBTzJFLEdBRUgsSUFBUWxoQixFQUFzQjM4QixLQUF0QjI4QixHQUFJMG9DLEVBQWtCcmxFLEtBQWxCcWxFLGNBRVosR0FBSXJsRSxLQUFLdWxFLHNCQUNULENBQ0l2bEUsS0FBS3VsRSx1QkFBd0IsRUFHN0IsSUFBS3ppRCxJQUFJcHNCLEVBQUksRUFBR0EsRUFBSTJ1RSxFQUFjMXVFLE9BQVFELElBRWxDMnVFLEVBQWMzdUUsS0FBT3NKLEtBQUt3bEUsZ0JBRTFCeGxFLEtBQUtoQyxLQUFLLEtBQU10SCxHQUs1QixJQUFLb3NCLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJMnVFLEVBQWMxdUUsT0FBUUQsSUFFbEMydUUsRUFBYzN1RSxLQUFPbW5ELElBRWpCNzlDLEtBQUtzbEUsa0JBQW9CNXVFLElBRXpCaW1DLEVBQUcwcEMsY0FBYzFwQyxFQUFHMnBDLFNBQVc1dkUsR0FDL0JzSixLQUFLc2xFLGdCQUFrQjV1RSxHQUczQmltQyxFQUFHb3BDLFlBQVlwcEMsRUFBR2hELFdBQVkzNUIsS0FBSzRsRSxjQUFjL25CLEVBQVEvc0MsUUFBUStzQyxTQUNqRXduQixFQUFjM3VFLEdBQUssbUJBVy9CMHZFLFlBQUEsU0FBWXZvQixHQUVSajdCLElBQU0wMkIsRUFBWSxJQUFJNHJCLEdBQVVsbEUsS0FBSzI4QixHQUFHbXBDLGlCQVV4QyxPQVBBeHNCLEVBQVU4QixTQUFXLEVBRXJCeUMsRUFBUTNDLFlBQVlsN0MsS0FBSzJzRCxhQUFlclQsRUFFeEN0NUMsS0FBSzRrRSxnQkFBZ0Jud0UsS0FBS29wRCxHQUMxQkEsRUFBUWgwQyxHQUFHLFVBQVc3SixLQUFLOGtFLGVBQWdCOWtFLE1BRXBDczVDLGVBU1hpdEIsY0FBQSxTQUFjMW9CLEdBRVZqN0IsSUFBTTAyQixFQUFZdUUsRUFBUTNDLFlBQVlsN0MsS0FBSzJzRCxhQUNyQ3JkLEVBQVd0dkMsS0FBS3N2QyxTQUV0QixHQUFJdU8sRUFBUWx2QixVQUFZa3ZCLEVBQVFsdkIsU0FBUzBxQixPQUFPL0osRUFBVXVPLEVBQVN2RSxRQUtuRSxDQUVJMTJCLElBQU00UyxFQUFRcW9CLEVBQVE5RCxVQUNoQnRrQixFQUFTb29CLEVBQVE3RCxXQUNqQnJkLEVBQUsyUyxFQUFTM1MsSUFFaEIyYyxFQUFVOWpCLFFBQVVBLEdBQ2pCOGpCLEVBQVU3akIsU0FBV0EsR0FDckI2akIsRUFBVThCLFFBQVUsS0FFdkI5QixFQUFVOWpCLE1BQVFBLEVBQ2xCOGpCLEVBQVU3akIsT0FBU0EsRUFFbkJrSCxFQUFHMGQsV0FBV3dELEVBQVEvc0MsT0FBUSxFQUMxQitzQyxFQUFRdjhDLE9BQ1JrMEIsRUFDQUMsRUFDQSxFQUNBb29CLEVBQVF2OEMsT0FDUnU4QyxFQUFRaGpELEtBQ1IsT0FLUmdqRCxFQUFRdkIsZUFBaUJoRCxFQUFVZ0QsY0FFbkN0OEMsS0FBS3dtRSxtQkFBbUIzb0IsR0FFNUJ2RSxFQUFVOEIsUUFBVXlDLEVBQVF6QyxxQkFVaEMwcEIsZUFBQSxTQUFlam5CLEVBQVM0b0IsR0FFcEIsSUFBUTlwQyxFQUFPMzhCLEtBQVAyOEIsR0FJUixJQUZBa2hCLEVBQVVBLEVBQVE1RSxhQUFlNEUsR0FFckIzQyxZQUFZbDdDLEtBQUsyc0QsZUFFekIzc0QsS0FBS2s1QyxPQUFPMkUsR0FFWmxoQixFQUFHK3BDLGNBQWM3b0IsRUFBUTNDLFlBQVlsN0MsS0FBSzJzRCxhQUFhOU8sU0FDdkRBLEVBQVE5ekMsSUFBSSxVQUFXL0osS0FBSzhrRSxlQUFnQjlrRSxhQUVyQzY5QyxFQUFRM0MsWUFBWWw3QyxLQUFLMnNELGNBRTNCOFosR0FDTCxDQUNJN2pELElBQU1sc0IsRUFBSXNKLEtBQUs0a0UsZ0JBQWdCcHdFLFFBQVFxcEQsSUFFNUIsSUFBUG5uRCxHQUVBaW9DLEVBQVkzK0IsS0FBSzRrRSxnQkFBaUJsdUUsRUFBRyxpQkFZckQ4dkUsbUJBQUEsU0FBbUIzb0IsR0FFZmo3QixJQUFNMDJCLEVBQVl1RSxFQUFRM0MsWUFBWWw3QyxLQUFLMnNELGFBRXRDclQsSUFLQXVFLEVBQVE3QixTQUFXN2dCLEVBQWFFLE1BQThCLElBQXRCcjdCLEtBQUswN0MsY0FBd0JtQyxFQUFRekIsY0FPOUU5QyxFQUFVMEMsT0FBUzZCLEVBQVE3QixRQUFVLEVBQ3JDMUMsRUFBVTJDLFNBQVc0QixFQUFRNUIsV0FON0IzQyxFQUFVMEMsT0FBUyxFQUNuQjFDLEVBQVUyQyxTQUFXbGhCLEVBQVdDLE9BUWhDNmlCLEVBQVFsdkIsVUFBWWt2QixFQUFRbHZCLFNBQVN3QyxNQUFNbnhCLEtBQUtzdkMsU0FBVXVPLEVBQVN2RSxJQU1uRXQ1QyxLQUFLMjhDLFNBQVNrQixFQUFTdkUsR0FHM0JBLEVBQVVnRCxhQUFldUIsRUFBUXZCLDJCQVVyQ0ssU0FBQSxTQUFTa0IsRUFBU3ZFLEdBRWQxMkIsSUFBTStaLEVBQUszOEIsS0FBSzI4QixHQUVaMmMsRUFBVTBDLFFBRVZyZixFQUFHZ3FDLGVBQWU5b0IsRUFBUS9zQyxRQUc5QjZyQixFQUFHcXBDLGNBQWNub0IsRUFBUS9zQyxPQUFRNnJCLEVBQUdpcUMsZUFBZ0J0dEIsRUFBVTJDLFVBQzlEdGYsRUFBR3FwQyxjQUFjbm9CLEVBQVEvc0MsT0FBUTZyQixFQUFHa3FDLGVBQWdCdnRCLEVBQVUyQyxVQUUxRDNDLEVBQVUwQyxPQUdWcmYsRUFBR3FwQyxjQUFjbm9CLEVBQVEvc0MsT0FBUTZyQixFQUFHdXBDLG1CQUFvQnJvQixFQUFRaEMsVUFBWWxmLEVBQUdtcUMscUJBQXVCbnFDLEVBQUdvcUMsd0JBS3pHcHFDLEVBQUdxcEMsY0FBY25vQixFQUFRL3NDLE9BQVE2ckIsRUFBR3VwQyxtQkFBb0Jyb0IsRUFBUWhDLFVBQVlsZixFQUFHOUIsT0FBUzhCLEVBQUc3QixTQUcvRjZCLEVBQUdxcEMsY0FBY25vQixFQUFRL3NDLE9BQVE2ckIsRUFBR3NwQyxtQkFBb0Jwb0IsRUFBUWhDLFVBQVlsZixFQUFHOUIsT0FBUzhCLEVBQUc3QixZQW5YakUsQ0FBU2dtQiw2T0NOckNrbUIsR0FBYSxJQUFJamtDLEdBV0Zra0MsR0FBZ0IsU0FBQXorRCxHQXFCakMsU0FBQTArRCxFQUFZN3VCLEVBQVFyK0MsR0FFaEJzekMsT0FBS3R0QyxPQUdMaEcsRUFBVWpILE9BQU8wdUIsT0FBTyxHQUFJNFMsRUFBU1UsZUFBZ0IvNkIsSUFHekNtdEUsY0FFUjl5QyxFQUFTK0IsYUFBZXA4QixFQUFRbXRFLFlBQ2hDN2xDLEdBQVksUUFBUyxtRkFBb0YsSUFTN0d0aEMsS0FBS2hHLFFBQVVBLEVBU2ZnRyxLQUFLbkYsS0FBTzQ3QixFQUFjNWdCLFFBUzFCN1YsS0FBS29uRSxPQUFTLElBQUloK0IsR0FBVSxFQUFHLEVBQUdwdkMsRUFBUXc3QixNQUFPeDdCLEVBQVF5N0IsUUFPekR6MUIsS0FBS2cxQixLQUFPaDdCLEVBQVFnN0IsTUFBUTE3QixTQUFTQyxjQUFjLFVBUW5EeUcsS0FBS21nQyxXQUFhbm1DLEVBQVFtbUMsWUFBYzlMLEVBQVNFLFdBT2pEdjBCLEtBQUtvMUIsWUFBY3A3QixFQUFRbzdCLFlBTzNCcDFCLEtBQUttMUIsWUFBY243QixFQUFRbTdCLGFBQWVuN0IsRUFBUXF0RSxhQUFjLEVBU2hFcm5FLEtBQUt1MUIsc0JBQXdCdjdCLEVBQVF1N0Isc0JBWXJDdjFCLEtBQUtzMUIsa0JBQW9CdDdCLEVBQVFzN0Isa0JBUWpDdDFCLEtBQUtzbkUsaUJBQW1CLEVBUXhCdG5FLEtBQUt3Z0UscUJBQXVCLENBQUMsRUFBRyxFQUFHLEVBQUcsR0FRdEN4Z0UsS0FBS3VuRSx1QkFBeUIsVUFFOUJ2bkUsS0FBS3ExQixnQkFBa0JyN0IsRUFBUXE3QixpQkFBbUJyMUIsS0FBS3NuRSxpQkFRdkR0bkUsS0FBSzJ1Qyx5QkFBMkIsSUFBSXdCLEdBUXBDbndDLEtBQUttMEMsb0JBQXNCbjBDLEtBQUsydUMseUJBT2hDM3VDLEtBQUsrMEMsUUFBVSx3TUFTbkJ5eUIsWUFBQSxTQUFZQyxHQUVSLElBQUs3a0QsSUFBTXBsQixLQUFLaXFFLEVBRVp6bkUsS0FBSyswQyxRQUFRdjNDLEdBQUssSUFBS2lxRSxFQUFVanFFLEdBQUl3QyxPQVc3Q21wQyxFQUFJM1QsTUFBQXZnQyxJQUFBLFdBRUEsT0FBTytLLEtBQUtnMUIsS0FBS1EsT0FVckIyVCxFQUFJMVQsT0FBQXhnQyxJQUFBLFdBRUEsT0FBTytLLEtBQUtnMUIsS0FBS1Msb0JBVXJCMkssT0FBQSxTQUFPc25DLEVBQWFDLEdBRWhCM25FLEtBQUtvbkUsT0FBTzV4QyxNQUFRa3lDLEVBQ3BCMW5FLEtBQUtvbkUsT0FBTzN4QyxPQUFTa3lDLEVBRXJCM25FLEtBQUtnMUIsS0FBS1EsTUFBUWt5QyxFQUFjMW5FLEtBQUttZ0MsV0FDckNuZ0MsS0FBS2cxQixLQUFLUyxPQUFTa3lDLEVBQWUzbkUsS0FBS21nQyxXQUVuQ25nQyxLQUFLbTFCLGNBRUxuMUIsS0FBS2cxQixLQUFLN0QsTUFBTXFFLE1BQVdreUMsRUFBVyxLQUN0QzFuRSxLQUFLZzFCLEtBQUs3RCxNQUFNc0UsT0FBWWt5QyxFQUFZLG1CQWVoREMsZ0JBQUEsU0FBZ0IzekIsRUFBZTRILEVBQVcxYixFQUFZMG5DLEdBSzdCLEtBSHJCQSxFQUFTQSxHQUFVNXpCLEVBQWNsRixrQkFHdEJ2WixRQUFhcXlDLEVBQU9yeUMsTUFBUSxHQUNqQixJQUFsQnF5QyxFQUFPcHlDLFNBQWNveUMsRUFBT3B5QyxPQUFTLEdBRXpDN1MsSUFBTXltQyxFQUFnQnJFLEdBQWNsbkQsT0FBc0IsRUFBZitwRSxFQUFPcnlDLE1BQTJCLEVBQWhCcXlDLEVBQU9weUMsT0FBWW9tQixFQUFXMWIsR0FPM0YsT0FMQTZtQyxHQUFXaGtDLElBQU02a0MsRUFBT3I5RCxFQUN4Qnc4RCxHQUFXL2pDLElBQU00a0MsRUFBT3A5RCxFQUV4QnpLLEtBQUtxdkMsT0FBTzRFLEVBQWVvVixHQUFlLEVBQU8yZCxLQUFjL3lCLEVBQWNsNUMsUUFFdEVzdUQsZUFRWDdwQixRQUFBLFNBQVFzb0MsR0FFSixJQUFLbGxELElBQU1wbEIsS0FBS3dDLEtBQUsrMEMsUUFFakIvMEMsS0FBSyswQyxRQUFRdjNDLEdBQUdnaUMsVUFDaEJ4L0IsS0FBSyswQyxRQUFRdjNDLEdBQUssS0FHbEJzcUUsR0FBYzluRSxLQUFLZzFCLEtBQUt0RCxZQUV4QjF4QixLQUFLZzFCLEtBQUt0RCxXQUFXdFosWUFBWXBZLEtBQUtnMUIsTUFHMUNoMUIsS0FBSyswQyxRQUFVLEtBRWYvMEMsS0FBS25GLEtBQU80N0IsRUFBYzVnQixRQUUxQjdWLEtBQUtnMUIsS0FBTyxLQUVaaDFCLEtBQUtvbkUsT0FBUyxLQUVkcG5FLEtBQUttZ0MsV0FBYSxFQUVsQm5nQyxLQUFLbzFCLGFBQWMsRUFFbkJwMUIsS0FBS20xQixhQUFjLEVBRW5CbjFCLEtBQUs2aUUsV0FBYSxLQUVsQjdpRSxLQUFLaEcsUUFBVSxLQUVmZ0csS0FBS3UxQix1QkFBd0IsRUFDN0J2MUIsS0FBS3MxQixtQkFBb0IsRUFFekJ0MUIsS0FBS3NuRSxpQkFBbUIsRUFDeEJ0bkUsS0FBS3dnRSxxQkFBdUIsS0FDNUJ4Z0UsS0FBS3VuRSx1QkFBeUIsS0FFOUJ2bkUsS0FBSzJ1Qyx5QkFBMkIsS0FDaEMzdUMsS0FBS20wQyxvQkFBc0IsTUFRL0JoTCxFQUFJOVQsZ0JBQUFwZ0MsSUFBQSxXQUVBLE9BQU8rSyxLQUFLc25FLGtCQUdoQm4rQixFQUFJOVQsZ0JBQUFuZ0MsSUFBQSxTQUFnQkMsR0FFaEI2SyxLQUFLc25FLGlCQUFtQm55RSxFQUN4QjZLLEtBQUt1bkUsdUJBQXlCcHFDLEVBQVdob0MsR0FDekM4bkMsRUFBUTluQyxFQUFPNkssS0FBS3dnRSxnRUF2VFMsQ0FBU3Z3QixFQUFBLzBDLEdDY3pCNnNFLEdBQVEsU0FBQWIsR0E0Q3pCLFNBQUFjLEVBQVlodUUsa0JBQVUsSUFFbEJzekMsT0FBS3R0QyxLQUFDLFFBQVNoRyxHQUdmQSxFQUFVZ0csS0FBS2hHLFFBUWZnRyxLQUFLbkYsS0FBTzQ3QixFQUFjRixNQUcxQnYyQixLQUFLMjhCLEdBQUssS0FDVjM4QixLQUFLMnNELFlBQWMsRUFvQm5CM3NELEtBQUsrZ0QsUUFBVSxDQUNYdmhCLFFBQVMsSUFBSThWLEdBQU8sV0FDcEIwTCxjQUFlLElBQUkxTCxHQUFPLGdCQUFpQixHQUMzQ2huQixNQUFPLElBQUlnbkIsR0FBTyxTQUNsQng4QyxPQUFRLElBQUl3OEMsR0FBTyxVQUNuQndZLFdBQVksSUFBSXhZLEdBQU8sY0FDdkIyeUIsVUFBVyxJQUFJM3lCLEdBQU8sYUFDdEJsVixPQUFRLElBQUlrVixHQUFPLFNBQVUsSUFPakN0MUMsS0FBS2lxRCxlQUFpQixJQUFJakIsR0FBYSxDQUNuQ2tYLGlCQUFrQixJQUFJbjlCLEtBQ3ZCLEdBUUgvaUMsS0FBS2tvRSxVQUFVNUssR0FBWSxRQU90QjRLLFVBQVV0YixHQUFlLFdBT3pCc2IsVUFBVWhHLEdBQWEsU0FPdkJnRyxVQUFVckgsR0FBYyxVQU94QnFILFVBQVUvQyxHQUFlLFdBT3pCK0MsVUFBVTdYLEdBQWdCLFlBTzFCNlgsVUFBVW5hLEdBQW1CLGVBTzdCbWEsVUFBVW5KLEdBQWUsV0FPekJtSixVQUFVbkksR0FBa0IsY0FPNUJtSSxVQUFVNUQsR0FBaUIsYUFPM0I0RCxVQUFVM2UsR0FBYyxVQU94QjJlLFVBQVU1SCxHQUFxQixpQkFRL0I0SCxVQUFVN2IsR0FBYSxTQUU1QnJzRCxLQUFLd25FLFlBQVlRLEVBQVNHLFdBS3RCbnVFLEVBQVE4TixRQUVSOUgsS0FBSzhILFFBQVFzbEQsZ0JBQWdCcHpELEVBQVE4TixTQUlyQzlILEtBQUs4SCxRQUFRd2xELGdCQUFnQixDQUN6QnZ2QixNQUFPLzlCLEtBQUtvMUIsWUFDWkgsVUFBV2o3QixFQUFRaTdCLFVBQ25CbXpDLG1CQUFvQnBvRSxLQUFLbzFCLGFBQW9DLGtCQUFyQnAxQixLQUFLbzFCLFlBQzdDbUgsU0FBUyxFQUNUaEgsc0JBQXVCdjdCLEVBQVF1N0Isc0JBQy9COHlDLGdCQUFpQnJvRSxLQUFLaEcsUUFBUXF1RSxrQkFVdENyb0UsS0FBS2swQyxtQkFBb0IsRUFFekIvWCxFQUF1QyxJQUE5Qm44QixLQUFLOEgsUUFBUTR6QyxhQUFxQixVQUFZLFdBRXZEMTdDLEtBQUtvZ0MsT0FBT3BnQyxLQUFLaEcsUUFBUXc3QixNQUFPeDFCLEtBQUtoRyxRQUFReTdCLHNHQVlqRHV5QyxFQWxPT2xxRSxPQUFBLFNBQU85RCxHQUVWLEdBQUlxaUMsSUFFQSxPQUFPLElBQUkyckMsRUFBU2h1RSxHQUd4QixNQUFNLElBQUkvQixNQUFNLHVHQTJOcEJpd0UsVUFBQSxTQUFVSSxFQUFVeHpFLEdBRVhBLElBRURBLEVBQU93ekUsRUFBU3h6RSxNQUdwQjh0QixJQUFNeTFCLEVBQVMsSUFBSWl3QixFQUFTdG9FLE1BRTVCLEdBQUlBLEtBQUtsTCxHQUVMLE1BQU0sSUFBSW1ELE1BQUsscUJBQXNCbkQsRUFBSSx1QkFLN0MsSUFBSzh0QixJQUFNbHNCLEtBRlhzSixLQUFLbEwsR0FBUXVqRCxFQUVHcjRDLEtBQUsrZ0QsUUFFakIvZ0QsS0FBSytnRCxRQUFRcnFELEdBQUdzM0IsSUFBSXFxQixHQXNCeEIsT0FBT3I0QyxrQkFZWHF2QyxPQUFBLFNBQU80RSxFQUFlb1YsRUFBZWhwQixFQUFPOVEsRUFBV2c1QyxHQVluRCxHQVRBdm9FLEtBQUtrMEMsbUJBQXFCbVYsRUFFMUJycEQsS0FBSytnRCxRQUFRa25CLFVBQVV0aEQsTUFDdkIzbUIsS0FBS21KLEtBQUssYUFHVm5KLEtBQUswZ0UsV0FBV254QyxVQUFZQSxHQUd4QnZ2QixLQUFLOEgsUUFBUW1sRCxPQUFqQixDQVVBLEdBTEs1RCxJQUVEcnBELEtBQUttMEMsb0JBQXNCRixJQUcxQnMwQixFQUNMLENBRUkzbEQsSUFBTTRsRCxFQUFjdjBCLEVBQWNsNUMsT0FFbENrNUMsRUFBY2w1QyxPQUFTaUYsS0FBSzJ1Qyx5QkFDNUJzRixFQUFjbkwsa0JBQ2RtTCxFQUFjbDVDLE9BQVN5dEUsRUFJM0J4b0UsS0FBS3FwRCxjQUFjcnJELEtBQUtxckQsR0FDeEJycEQsS0FBSzR4QyxNQUFNMmEsZ0JBQWdCcmhELGNBRWJ6VSxJQUFWNHBDLEVBQXNCQSxFQUFRcmdDLEtBQUtzMUIsb0JBRW5DdDFCLEtBQUtxcEQsY0FBY2hwQixRQUd2QjRULEVBQWM1RSxPQUFPcnZDLE1BR3JCQSxLQUFLNHhDLE1BQU0yYSxnQkFBZ0IxYSxRQUV2QndYLEdBRUFBLEVBQWNwUSxZQUFZbmdELFNBRzlCa0gsS0FBSytnRCxRQUFRK00sV0FBV25uQyxNQUd4QjNtQixLQUFLMGdFLFdBQVdueEMsVUFBWSxLQUU1QnZ2QixLQUFLbUosS0FBSyw0QkFTZGkzQixPQUFBLFNBQU9zbkMsRUFBYUMsR0FFaEJULEVBQWlCbDBFLFVBQVVvdEMsT0FBT2x0QyxLQUFLOE0sS0FBTTBuRSxFQUFhQyxHQUUxRDNuRSxLQUFLK2dELFFBQVEzZ0IsT0FBT3paLElBQUkrZ0QsRUFBYUMsZ0JBUXpDcjVDLE1BQUEsV0FJSSxPQUZBdHVCLEtBQUsrZ0QsUUFBUXp5QixNQUFNM0gsTUFFWjNtQixrQkFNWHFnQyxNQUFBLFdBRUlyZ0MsS0FBS29pRCxZQUFZcGtELE9BQ2pCZ0MsS0FBS29pRCxZQUFZL2hCLHFCQVNyQmIsUUFBQSxTQUFRc29DLEdBRUo5bkUsS0FBSytnRCxRQUFRdmhCLFFBQVE3WSxNQUdyQjJtQixZQUFNOU4sUUFBQXRzQyxLQUFPOE0sS0FBQzhuRSxHQUdkOW5FLEtBQUsyOEIsR0FBSyxNQXVCZHFyQyxFQUFPUyxlQUFBLFNBQWVDLEVBQVlDLEdBRTlCWCxFQUFTRyxVQUFZSCxFQUFTRyxXQUFhLEdBQzNDSCxFQUFTRyxVQUFVTyxHQUFjQyxLQXBhWixDQUFTMUIsSUNDL0IsU0FBUzJCLEdBQW1CNXVFLEdBRS9CLE9BQU8rdEUsR0FBU2pxRSxPQUFPOUQsazJCQ3pCTjZ1RSxHQUFXLFNBQUE5c0Isd0lBV3JCNzVCLEtBQUEsU0FBS3VMLEVBQVd6ekIsR0FFbkIsT0FBTyxJQUFJNnVFLEVBQVksSUFBSTNxQixHQUFhendCLEVBQVd6ekIsT0FiM0IsQ0FBUzhoRCxJQ0FwQmd0QixHQUFhLFNBQUF0Z0IsR0FNOUIsU0FBQXVnQixFQUFZbmpCLG1CQUFVLEdBRWxCdFksT0FBS3R0QyxNQVFMQSxLQUFLZ3BFLFFBQVUsSUFBSXJqQixHQUFPLEtBQU1DLEdBQVMsR0FRekM1bEQsS0FBS2lwRSxhQUFlLElBQUl0akIsR0FBTyxLQUFNQyxHQUFTLEdBRTlDNWxELEtBQUs4bUQsYUFBYSxrQkFBbUI5bUQsS0FBS2dwRSxRQUFTLEdBQUcsRUFBTzV1QyxFQUFNTSxPQUM5RG9zQixhQUFhLGdCQUFpQjltRCxLQUFLZ3BFLFFBQVMsR0FBRyxFQUFPNXVDLEVBQU1NLE9BQzVEb3NCLGFBQWEsU0FBVTltRCxLQUFLZ3BFLFFBQVMsR0FBRyxFQUFNNXVDLEVBQU1DLGVBQ3BEeXNCLGFBQWEsYUFBYzltRCxLQUFLZ3BFLFFBQVMsR0FBRyxFQUFNNXVDLEVBQU1NLE9BQ3hEd3NCLFNBQVNsbkQsS0FBS2lwRSw4R0E5Qk8sQ0FBUzVpQixJQ0h0QjZpQixHQUVqQixXQUVJbHBFLEtBQUttc0QsU0FBVyxHQUNoQm5zRCxLQUFLK21ELElBQU0sR0FDWC9tRCxLQUFLbTdELE1BQVEsRUFDYm43RCxLQUFLd2hFLGFBQWUsRUFDcEJ4aEUsS0FBS2tMLE1BQVEsRUFDYmxMLEtBQUt3K0IsS0FBTyxFQUNaeCtCLEtBQUtuRixLQUFPLEdDWENzdUUsR0FLakIsU0FBWTNxQyxHQUVaeCtCLEtBQVN3USxTQUFXLElBQUltVCxZQUFZNmEsR0FPcEN4K0IsS0FBU29wRSxZQUFjLElBQUl4bEQsYUFBYTVqQixLQUFLd1EsVUFPN0N4USxLQUFTcXBFLFdBQWEsSUFBSXhsRCxZQUFZN2pCLEtBQUt3USxXQU8vQzI0RCxHQUFBbjJFLFVBQUl3c0MsUUFBQSxXQUVJeC9CLEtBQUt3USxTQUFXLEtBQ2hCeFEsS0FBS29wRSxZQUFjLEtBQ25CcHBFLEtBQUtxcEUsV0FBYSx1aUJDL0JwQm5RLEdBQWUsQ0FDakIsOEJBQ0EsdUJBQ0EsNEJBQ0Esd0NBRUEsbUJBQ0EsY0FDQSxZQUNBLGlDQUNBLEtBQ0Z2OUQsS0FBSyxNQUVEMnRFLEdBQW9CLEdBQ3BCQyxHQUFlLEdBRU4sU0FBU0MsR0FBMkI3c0MsRUFBSThvQyxHQUVuRCxJQUFLOEQsR0FBYTlELEdBQ2xCLENBR0ksSUFGQTdpRCxJQUFNNm1ELEVBQWUsSUFBSXpsRCxXQUFXeWhELEdBRTNCL3VFLEVBQUksRUFBR0EsRUFBSSt1RSxFQUFhL3VFLElBRTdCK3lFLEVBQWEveUUsR0FBS0EsRUFHdEI0eUUsR0FBa0I3RCxHQUFlemMsR0FBYTltQyxLQUFLLENBQUV3bkQsVUFBV0QsSUFBZ0IsR0FFaEYzbUQsSUFBSXV4QyxFQUFjNkUsR0FHbEI3RSxHQURBQSxFQUFjQSxFQUFZM3dELFFBQVEsWUFBYStoRSxJQUNyQi9oRSxRQUFRLGNBZ0IxQyxTQUEyQitoRSxHQUV2QjNpRCxJQUFJcnBCLEVBQU0sR0FFVkEsR0FBTyxLQUNQQSxHQUFPLEtBRVAsSUFBS3FwQixJQUFJcHNCLEVBQUksRUFBR0EsRUFBSSt1RSxFQUFhL3VFLElBRXpCQSxFQUFJLElBRUorQyxHQUFPLFdBR1AvQyxFQUFJK3VFLEVBQWMsSUFFbEJoc0UsR0FBTyxtQkFBbUIvQyxFQUFDLE9BRy9CK0MsR0FBTyxNQUNQQSxHQUFPLG1DQUFtQy9DLEVBQUMscUJBQzNDK0MsR0FBTyxNQU1YLE9BSEFBLEdBQU8sS0FDUEEsR0FBTyxLQXpDOENrd0UsQ0FBa0JsRSxJQUVuRThELEdBQWE5RCxHQUFlLElBQUlsTSxHQUFReUQsR0FBUTNJLEdBR3BEenhDLElBQU1xbUMsRUFBVyxDQUNiL3FCLEtBQU0sSUFBSXRhLGFBQWEsQ0FBQyxFQUFHLEVBQUcsRUFBRyxJQUNqQ2dtRCxrQkFBbUIsSUFBSTdtQyxHQUN2QnQ3QixRQUFTNmhFLEdBQWtCN0QsSUFLL0IsT0FGZSxJQUFJNUssR0FBTzBPLEdBQWE5RCxHQUFjeGMsR0MzQnpELElBQXFCNGdCLEdBQWEsU0FBQUMsR0FLOUIsU0FBQUMsRUFBWXo2QixHQUVSaEMsT0FBS3R0QyxLQUFDc3ZDLEdBUU50dkMsS0FBS2dxRSxTQUFXLEVBT2hCaHFFLEtBQUtpcUUsYUFBK0IsRUFBaEJqcUUsS0FBS2dxRSxTQU96QmhxRSxLQUFLdytCLEtBQU8sSUFFWngrQixLQUFLa3FFLFlBQWMsRUFDbkJscUUsS0FBS21xRSxpQkFBbUIsRUFLeEJucUUsS0FBS29xRSxpQkFBbUIsR0FDeEJwcUUsS0FBS3FxRSxTQUFXLEdBQ2hCcnFFLEtBQUtzcUUsU0FBVyxHQWFoQnRxRSxLQUFLdXFFLGFBQWMsRUFRbkJ2cUUsS0FBS3FyRCxPQUFTLEtBRWRyckQsS0FBSyt3QyxhQUFlLEVBQ3BCL3dDLEtBQUt3cUUsT0FBUyxHQUVkLElBQUsxbkQsSUFBSWhlLEVBQUksRUFBR0EsRUFBSTlFLEtBQUt3K0IsS0FBTyxFQUFHMTVCLElBRS9COUUsS0FBS3dxRSxPQUFPMWxFLEdBQUssSUFBSW9rRSxHQUd6QmxwRSxLQUFLeXFFLFNBQVcsR0FFaEJ6cUUsS0FBSzZ4RCxLQUFPLEdBRVo3eEQsS0FBSzBxRSxPQUFTLEVBQ2QxcUUsS0FBSzJxRSxZQUFjLEVBRW5CM3FFLEtBQUtzdkMsU0FBU3psQyxHQUFHLFlBQWE3SixLQUFLNHFFLFlBQWE1cUUsTUFDaERBLEtBQUt5cUQsTUFBUXdRLEdBQU1RLGtIQU12QnphLGNBQUEsV0FFSXArQixJQUFNK1osRUFBSzM4QixLQUFLc3ZDLFNBQVMzUyxHQUVyQnRJLEVBQVNxNEIsYUFBZXIyQixFQUFJQyxhQUU1QnQyQixLQUFLNnFFLGFBQWUsR0FLcEI3cUUsS0FBSzZxRSxhQUFlai9ELEtBQUs4USxJQUFJaWdCLEVBQUcrb0MsYUFBYS9vQyxFQUFHZ3BDLHlCQUEwQnR4QyxFQUFTSSxxQkFHbkZ6MEIsS0FBSzZxRSxhQUFlMVIsR0FBNkJuNUQsS0FBSzZxRSxhQUFjbHVDLElBSXhFMzhCLEtBQUtxckQsT0FBU21lLEdBQTJCN3NDLEVBQUkzOEIsS0FBSzZxRSxjQUlsRCxJQUFLL25ELElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJc0osS0FBSzBxRSxPQUFRaDBFLElBRzdCc0osS0FBSzZ4RCxLQUFLbjdELEdBQUssSUFBSW95RSxnQkFRM0I4QixZQUFBLFdBRUk1cUUsS0FBSzJxRSxZQUFjLGVBUXZCdDdCLE9BQUEsU0FBT3dLLEdBRUVBLEVBQVE2UixTQUFTdFMsUUFLbEJwNUMsS0FBS2txRSxZQUFlcndCLEVBQVF4TixXQUFXMTFDLE9BQVMsRUFBS3FKLEtBQUt3K0IsTUFFMUR4K0IsS0FBSzZ4QyxRQUdUN3hDLEtBQUt5cUUsU0FBU3pxRSxLQUFLK3dDLGdCQUFrQjhJLEVBRXJDNzVDLEtBQUtrcUUsYUFBZXJ3QixFQUFReE4sV0FBVzExQyxPQUFTLEVBQ2hEcUosS0FBS21xRSxrQkFBb0J0d0IsRUFBUW5iLFFBQVEvbkMscUJBRzdDbTBFLGVBQUEsU0FBZXRzQyxHQUdYNWIsSUFBTW1vRCxFQUFZOXJDLEVBQVNyekIsS0FBS3ErQixLQUFLekwsRUFBTyxLQUN0Q3dzQyxFQUFtQjdyQyxFQUFLNHJDLEdBQ3hCRSxFQUEwQixHQUFaRixFQUVoQi9xRSxLQUFLc3FFLFNBQVMzekUsUUFBVXEwRSxJQUV4QmhyRSxLQUFLc3FFLFNBQVMzekUsT0FBU3EwRSxFQUFtQixHQUc5Q2xvRCxJQUFJL08sRUFBUy9ULEtBQUtzcUUsU0FBU1UsR0FPM0IsT0FMS2ozRCxJQUVEL1QsS0FBS3NxRSxTQUFTVSxHQUFvQmozRCxFQUFTLElBQUkrUCxZQUFZbW5ELElBR3hEbDNELGVBR1htM0QsbUJBQUEsU0FBbUIxc0MsR0FHZjViLElBQU1tb0QsRUFBWTlyQyxFQUFTcnpCLEtBQUtxK0IsS0FBS3pMLEVBQU8sSUFDdEN3c0MsRUFBbUI3ckMsRUFBSzRyQyxHQUN4QkUsRUFBMEIsRUFBWkYsRUFFaEIvcUUsS0FBS3FxRSxTQUFTMXpFLFFBQVVxMEUsSUFFeEJockUsS0FBS3NxRSxTQUFTM3pFLE9BQVNxMEUsRUFBbUIsR0FHOUNsb0QsSUFBSS9PLEVBQVMvVCxLQUFLcXFFLFNBQVNZLEdBTzNCLE9BTEtsM0QsSUFFRC9ULEtBQUtxcUUsU0FBU1ksR0FBZWwzRCxFQUFTLElBQUlvMUQsR0FBWThCLEVBQWNqckUsS0FBS2lxRSxlQUd0RWwyRCxlQU9YODlCLE1BQUEsV0FFSSxHQUF5QixJQUFyQjd4QyxLQUFLa3FFLFlBQVQsQ0FLQXRuRCxJQWdCSXVvRCxFQUNBQyxFQWpCRXp1QyxFQUFLMzhCLEtBQUtzdkMsU0FBUzNTLEdBQ25Ca3VDLEVBQWU3cUUsS0FBSzZxRSxhQUVwQjkyRCxFQUFTL1QsS0FBS2tyRSxtQkFBbUJsckUsS0FBS2txRSxhQUN0QzFqQixFQUFjeG1ELEtBQUs4cUUsZUFBZTlxRSxLQUFLbXFFLGtCQUV2Q00sRUFBV3pxRSxLQUFLeXFFLFNBQ2hCRCxFQUFTeHFFLEtBQUt3cUUsT0FFZHBCLEVBQWNyMUQsRUFBT3ExRCxZQUNyQkMsRUFBYXQxRCxFQUFPczFELFdBRXBCZ0MsRUFBUXJyRSxLQUFLc3ZDLFNBQVM2MkIsVUFBVTFXLE1BRWxDaHpDLEVBQVEsRUFDUjZ1RCxFQUFhLEVBR2JDLEVBQWEsRUFFYi9KLEVBQWUsRUFDZmdLLEVBQWVoQixFQUFPLEdBRXRCNXNDLEdBQWEsRUFFakI0dEMsRUFBYWhLLGFBQWUsRUFDNUJnSyxFQUFhdGdFLE1BQVEsRUFDckJzZ0UsRUFBYXJRLE1BQVF2OUIsRUFFckI5YSxJQUVJcHNCLEVBRkErMEUsSUFBUzN2QixHQUFZd0IsYUFJekIsSUFBSzVtRCxFQUFJLEVBQUdBLEVBQUlzSixLQUFLK3dDLGVBQWdCcjZDLEVBQ3JDLENBSUlrc0IsSUFBTTZvQyxFQUFTZ2YsRUFBUy96RSxHQUV4Qit6RSxFQUFTL3pFLEdBQUssS0FFZHkwRSxFQUFjMWYsRUFBT0MsU0FBU3pTLFlBRTlCcjJCLElBQU04b0QsRUFBa0JudUMsRUFBcUI0dEMsRUFBWWh4QixpQkFBbUIsRUFBSSxHQUFHc1IsRUFBTzd0QixXQUV0RkEsSUFBYzh0QyxJQUVkOXRDLEVBQVk4dEMsRUFHWk4sRUFBaUIsS0FDakI1SixFQUFlcUosRUFDZlksS0FHQUwsSUFBbUJELElBRW5CQyxFQUFpQkQsRUFFYkEsRUFBWTF1QixnQkFBa0JndkIsSUFFMUJqSyxJQUFpQnFKLElBRWpCWSxJQUVBakssRUFBZSxFQUVmZ0ssRUFBYWh0QyxLQUFPOHNDLEVBQWFFLEVBQWF0Z0UsT0FFOUNzZ0UsRUFBZWhCLEVBQU9lLE1BQ1QvSixhQUFlLEVBQzVCZ0ssRUFBYXJRLE1BQVF2OUIsRUFDckI0dEMsRUFBYXRnRSxNQUFRb2dFLEdBR3pCSCxFQUFZaHZCLFFBQVVrdkIsRUFDdEJGLEVBQVkxdUIsY0FBZ0JndkIsRUFDNUJOLEVBQVkvbUQsSUFBTW85QyxFQUVsQmdLLEVBQWFyZixTQUFTcWYsRUFBYWhLLGdCQUFrQjJKLEVBQ3JEM0osTUFJUnhoRSxLQUFLMnJFLGFBQWFsZ0IsRUFBUTJkLEVBQWFDLEVBQVk3aUIsRUFBYS9wQyxFQUFPNnVELEdBR3ZFN3VELEdBQVVndkMsRUFBT3BmLFdBQVcxMUMsT0FBUyxFQUFLcUosS0FBS2dxRSxTQUMvQ3NCLEdBQWM3ZixFQUFPL3NCLFFBQVEvbkMsT0FHakNtbEQsR0FBWXdCLGFBQWVtdUIsRUFFM0JELEVBQWFodEMsS0FBTzhzQyxFQUFhRSxFQUFhdGdFLE1BSXpDbXBCLEVBQVM2Qix3QkF3QlZsMkIsS0FBSzZ4RCxLQUFLN3hELEtBQUsycUUsYUFBYTNCLFFBQVFsd0UsT0FBT2liLEVBQU92RCxTQUFVLEdBQzVEeFEsS0FBSzZ4RCxLQUFLN3hELEtBQUsycUUsYUFBYTFCLGFBQWFud0UsT0FBTzB0RCxFQUFhLEdBUTdEeG1ELEtBQUtzdkMsU0FBU3VZLFNBQVNvSyxrQkE3Qm5CanlELEtBQUswcUUsUUFBVTFxRSxLQUFLMnFFLGNBRXBCM3FFLEtBQUswcUUsU0FFTDFxRSxLQUFLNnhELEtBQUs3eEQsS0FBSzJxRSxhQUFlLElBQUk3QixJQUd0QzlvRSxLQUFLNnhELEtBQUs3eEQsS0FBSzJxRSxhQUFhM0IsUUFBUWx3RSxPQUFPaWIsRUFBT3ZELFNBQVUsR0FDNUR4USxLQUFLNnhELEtBQUs3eEQsS0FBSzJxRSxhQUFhMUIsYUFBYW53RSxPQUFPMHRELEVBQWEsR0FHN0R4bUQsS0FBS3N2QyxTQUFTdVksU0FBUzdwRCxLQUFLZ0MsS0FBSzZ4RCxLQUFLN3hELEtBQUsycUUsY0FFM0MzcUUsS0FBS3N2QyxTQUFTdVksU0FBU29LLGdCQUV2Qmp5RCxLQUFLMnFFLGVBbUJUL25ELElBQU1vaUQsRUFBZ0JobEUsS0FBS3N2QyxTQUFTdU8sUUFDOUIrdEIsRUFBYzVyRSxLQUFLc3ZDLFNBQVNtYixNQUlsQyxJQUFLL3pELEVBQUksRUFBR0EsRUFBSTYwRSxFQUFZNzBFLElBQzVCLENBSUksSUFIQWtzQixJQUFNc21DLEVBQVFzaEIsRUFBTzl6RSxHQUNmbTFFLEVBQW9CM2lCLEVBQU1zWSxhQUV2QnRuRSxFQUFJLEVBQUdBLEVBQUkyeEUsRUFBbUIzeEUsSUFFbkM4cUUsRUFBY2huRSxLQUFLa3JELEVBQU1pRCxTQUFTanlELEdBQUlBLEdBQ3RDZ3ZELEVBQU1pRCxTQUFTanlELEdBQUssS0FReEIweEUsRUFBWTVILGFBQWE5YSxFQUFNaVMsT0FFL0J4K0IsRUFBR3MzQixhQUFhL0ssRUFBTXJ1RCxLQUFNcXVELEVBQU0xcUIsS0FBTTdCLEVBQUdyQyxlQUE4QixFQUFkNHVCLEVBQU1oK0MsT0FJckVsTCxLQUFLK3dDLGFBQWUsRUFDcEIvd0MsS0FBS2txRSxZQUFjLEVBQ25CbHFFLEtBQUttcUUsaUJBQW1CLGdCQUc1QndCLGFBQUEsU0FBYTl4QixFQUFTdXZCLEVBQWFDLEVBQVk3aUIsRUFBYS9wQyxFQUFPNnVELEdBYy9ELElBWkExb0QsSUFBTXBxQixFQUFJaWtCLEVBQVF6YyxLQUFLZ3FFLFNBQ2pCdGhCLEVBQU03TyxFQUFRNk8sSUFDZG9qQixFQUFXanlCLEVBQVFuYixRQUNuQjJOLEVBQWF3TixFQUFReE4sV0FDckIwL0IsRUFBWWx5QixFQUFRNlIsU0FBU3pTLFlBQVk3MEIsSUFFekMyWixFQUFRbnlCLEtBQUs4USxJQUFJbTlCLEVBQVFuTSxXQUFZLEdBRXJDcytCLEVBQU9qdUMsRUFBUSxHQUFPOGIsRUFBUTZSLFNBQVN6UyxZQUFZa0IsaUJBQW1CbGMsRUFBZ0I0YixFQUFRb3lCLFNBQVVsdUMsR0FDeEc4YixFQUFRb3lCLFVBQW9CLElBQVJsdUMsR0FBZSxJQUdoQ3JuQyxFQUFJLEVBQUdBLEVBQUkyMUMsRUFBVzExQyxPQUFRRCxHQUFLLEVBRXhDMHlFLEVBQVkzc0QsS0FBVzR2QixFQUFXMzFDLEdBQ2xDMHlFLEVBQVkzc0QsS0FBVzR2QixFQUFXMzFDLEVBQUksR0FDdEMweUUsRUFBWTNzRCxLQUFXaXNDLEVBQUloeUQsR0FDM0IweUUsRUFBWTNzRCxLQUFXaXNDLEVBQUloeUQsRUFBSSxHQUMvQjJ5RSxFQUFXNXNELEtBQVd1dkQsRUFDdEI1QyxFQUFZM3NELEtBQVdzdkQsRUFHM0IsSUFBS2pwRCxJQUFJcHNCLEVBQUksRUFBR0EsRUFBSW8xRSxFQUFTbjFFLE9BQVFELElBRWpDOHZELEVBQVk4a0IsS0FBZ0I5eUUsRUFBSXN6RSxFQUFTcDFFLGdCQStDakR3VSxNQUFBLFdBRUlsTCxLQUFLc3ZDLFNBQVNtYixNQUFNVyxTQUFTcHJELEtBQUt5cUQsT0FFbEN6cUQsS0FBS3N2QyxTQUFTK2IsT0FBT3J0RCxLQUFLZ0MsS0FBS3FyRCxRQUUzQmgzQixFQUFTNkIsd0JBR1RsMkIsS0FBS3N2QyxTQUFTdVksU0FBUzdwRCxLQUFLZ0MsS0FBSzZ4RCxLQUFLN3hELEtBQUsycUUsMkJBUW5EdjlELEtBQUEsV0FFSXBOLEtBQUs2eEMscUJBT1RyUyxRQUFBLFdBRUksSUFBSzFjLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJc0osS0FBSzBxRSxPQUFRaDBFLElBTXpCc0osS0FBSzZ4RCxLQUFLbjdELElBRVZzSixLQUFLNnhELEtBQUtuN0QsR0FBRzhvQyxVQUlqQngvQixLQUFLd21ELGFBRUx4bUQsS0FBS3dtRCxZQUFZaG5CLFVBR3JCeC9CLEtBQUtzdkMsU0FBU3ZsQyxJQUFJLFlBQWEvSixLQUFLNHFFLFlBQWE1cUUsTUFFN0NBLEtBQUtxckQsU0FFTHJyRCxLQUFLcXJELE9BQU83ckIsVUFDWngvQixLQUFLcXJELE9BQVMsTUFJbEJyckQsS0FBSzZ4RCxLQUFPLEtBQ1o3eEQsS0FBS3dtRCxZQUFjLEtBQ25CeG1ELEtBQUswK0IsUUFBVSxLQUNmMStCLEtBQUtrc0UsUUFBVSxLQU9mNStCLFlBQU05TixRQUFBdHNDLEtBQU84TSxTQXpmYSxDQUFTb3NELElDbkJyQytmLEdBQVksSUFBSS9pQyxHQVdEZ2pDLEdBS2pCLFNBQVk5OEIsR0FFUnR2QyxLQUFLc3ZDLFNBQVdBLEVBUWhCQSxFQUFTKzhCLFFBQVVyc0U7Ozs7Ozs7R0FZM0Jvc0UsR0FBQXA1RSxVQUFJczVFLE1BQUEsU0FBTXg3RCxFQUFReFAsRUFBUWlyRSxHQUVsQjNwRCxJQUFNMHBELEVBQVEsSUFBSXZ5RCxNQUl0QixPQUZJdXlELEVBQU03eUUsSUFBTXVHLEtBQUt3SCxPQUFPc0osRUFBUXhQLEVBQVFpckUsR0FFakNELEdBYWZGLEdBQUFwNUUsVUFBSXdVLE9BQUEsU0FBT3NKLEVBQVF4UCxFQUFRaXJFLEdBRW5CLE9BQU92c0UsS0FBSzA4QixPQUFPNXJCLEdBQVEwN0QsVUFBVWxyRSxFQUFRaXJFLElBVXJESCxHQUFBcDVFLFVBQUkwcEMsT0FBQSxTQUFPNXJCLEdBRUg4UixJQUNJdWQsRUFDQXdpQixFQUVBMEcsRUFKRS9aLEVBQVd0dkMsS0FBS3N2QyxTQUdsQm05QixHQUFRLEVBRVJDLEdBQVksRUFFWjU3RCxJQUVJQSxhQUFrQmswQyxHQUV0QnFFLEVBQW9CdjRDLEdBSXBCdTRDLEVBQW9CcnBELEtBQUtzdkMsU0FBU3M0QixnQkFBZ0I5MkQsR0FDbEQ0N0QsR0FBZ0IsSUFJaEJyakIsR0FFQWxwQixFQUFha3BCLEVBQWNwUSxZQUFZOVksV0FDdkN3aUIsRUFBUTBHLEVBQWMxRyxNQUMxQjhwQixHQUFZLEVBQ1puOUIsRUFBYStaLGNBQWNyckQsS0FBS3FyRCxLQUk1QmxwQixFQUFhbmdDLEtBQUtzdkMsU0FBU25QLFdBRS9Cc3NDLEdBQVksR0FFWjlwQixFQUFZd3BCLElBQ0YzMkMsTUFBUXgxQixLQUFLc3ZDLFNBQVM5WixNQUNoQ210QixFQUFVbHRCLE9BQVN6MUIsS0FBS3N2QyxTQUFTN1osT0FFakM2WixFQUFhK1osY0FBY3JyRCxLQUFLLE9BR3BDLElBQVV3M0IsRUFBUW10QixFQUFNbnRCLE1BQVEySyxFQUN0QjFLLEVBQVNrdEIsRUFBTWx0QixPQUFTMEssRUFFeEJ3c0MsRUFBZSxJQUFJenNDLEdBQW1CMUssRUFBT0MsRUFBUSxHQUVyRG0zQyxFQUFjLElBQUk3b0QsV0FuSFIsRUFtSHFDeVIsRUFBUUMsR0FHdkRrSCxFQUFLMlMsRUFBUzNTLEdBRXhCQSxFQUFPa3dDLFdBQ0NscUIsRUFBTW40QyxFQUFJMjFCLEVBQ1Z3aUIsRUFBTWw0QyxFQUFJMDFCLEVBQ1YzSyxFQUNBQyxFQUNKa0gsRUFBT3hELEtBQ1B3RCxFQUFPdEMsY0FDSHV5QyxHQUlKaHFELElBQU1rcUQsRUFBYUgsRUFBYTdrRSxRQUFRODNCLGFBQWEsRUFBRyxFQUFHcEssRUFBT0MsR0FtQmxFLE9BakJKcTNDLEVBQWVuMUUsS0FBS3pDLElBQUkwM0UsR0FFcEJELEVBQWE3a0UsUUFBUWlsRSxhQUFhRCxFQUFZLEVBQUcsR0FHN0NMLElBRUpFLEVBQWlCN2tFLFFBQVEyN0IsTUFBTSxHQUFJLEdBQy9Ca3BDLEVBQWE3a0UsUUFBUXMzQyxVQUFVdXRCLEVBQWFqd0MsT0FBUSxHQUFJakgsSUFHeERpM0MsR0FFQXJqQixFQUFjN3BCLFNBQVEsR0FJbkJtdEMsRUFBYWp3QyxRQVc1QjB2QyxHQUFBcDVFLFVBQUkyc0MsT0FBQSxTQUFPN3VCLEdBRUg4UixJQUNJdWQsRUFDQXdpQixFQUNBMEcsRUFIRS9aLEVBQVd0dkMsS0FBS3N2QyxTQUlsQm85QixHQUFZLEVBRVo1N0QsSUFFSUEsYUFBa0JrMEMsR0FFdEJxRSxFQUFvQnY0QyxHQUlwQnU0QyxFQUFvQnJwRCxLQUFLc3ZDLFNBQVNzNEIsZ0JBQWdCOTJELEdBQ2xENDdELEdBQWdCLElBSWhCcmpCLEdBRUFscEIsRUFBYWtwQixFQUFjcFEsWUFBWTlZLFdBQ3ZDd2lCLEVBQVEwRyxFQUFjMUcsTUFHMUJyVCxFQUFhK1osY0FBY3JyRCxLQUFLcXJELEtBSTVCbHBCLEVBQWFtUCxFQUFTblAsWUFFMUJ3aUIsRUFBWXdwQixJQUNGMzJDLE1BQVE4WixFQUFTOVosTUFDdkJtdEIsRUFBTWx0QixPQUFTNlosRUFBUzdaLE9BRTVCNlosRUFBYStaLGNBQWNyckQsS0FBSyxPQUdwQyxJQUFVdzNCLEVBQVFtdEIsRUFBTW50QixNQUFRMkssRUFDdEIxSyxFQUFTa3RCLEVBQU1sdEIsT0FBUzBLLEVBRXhCeXNDLEVBQWMsSUFBSTdvRCxXQTVNUixFQTRNcUN5UixFQUFRQyxHQUd2RGtILEVBQUsyUyxFQUFTM1MsR0FpQnhCLE9BZkFBLEVBQU9rd0MsV0FDQ2xxQixFQUFNbjRDLEVBQUkyMUIsRUFDVndpQixFQUFNbDRDLEVBQUkwMUIsRUFDVjNLLEVBQ0FDLEVBQ0prSCxFQUFPeEQsS0FDUHdELEVBQU90QyxjQUNIdXlDLEdBR0FGLEdBRUFyakIsRUFBYzdwQixTQUFRLEdBR25Cb3RDLEdBT2ZSLEdBQUFwNUUsVUFBSXdzQyxRQUFBLFdBRUl4L0IsS0FBS3N2QyxTQUFTKzhCLFFBQVUsS0FDeEJyc0UsS0FBS3N2QyxTQUFXOzs7Ozs7OztBQ3ZPeEIsSUFBcUIwOUIsR0FFakIsV0FPSWh0RSxLQUFLMmUsT0FBUyxJQUFJZ2pCLEdBT2xCM2hDLEtBQUs4USxPQUFTLEtBVWQ5USxLQUFLaXRFLGNBQWdCLEtBT3JCanRFLEtBQUtrdEUsV0FBYSxLQU9sQmx0RSxLQUFLbXRFLFdBQVksRUFPakJudEUsS0FBS290RSxPQUFTLEVBT2RwdEUsS0FBS3F0RSxRQUFVLEVBUWZydEUsS0FBS3cxQixNQUFRLEVBUWJ4MUIsS0FBS3kxQixPQUFTLEVBT2R6MUIsS0FBS3N0RSxNQUFRLEVBT2J0dEUsS0FBS3V0RSxNQUFRLEVBT2J2dEUsS0FBS3d0RSxZQUFjLEtBUW5CeHRFLEtBQUt5dEUsU0FBVyxFQU9oQnp0RSxLQUFLMHRFLGNBQWdCLEVBT3JCMXRFLEtBQUsydEUsTUFBUSxFQU9iM3RFLEtBQUs0dEUsbUJBQXFCLG9DQVNsQ0MsR0FBUUMsVUFBQTc0RSxJQUFBLFdBRUEsT0FBTytLLEtBQUtrdEUsWUFlcEJGLEdBQUFoNkUsVUFBSSs2RSxpQkFBQSxTQUFpQjk1QixFQUFlbEksRUFBT2lpQyxHQUVuQyxPQUFPLzVCLEVBQWNuTSxlQUFldkUsYUFBYXlxQyxHQUFhaHVFLEtBQUsyZSxPQUFRb3RCLElBUW5GaWhDLEdBQUFoNkUsVUFBSWk3RSxVQUFBLFNBQVUvbEUsR0FLRkEsRUFBTWlsRSxZQUVObnRFLEtBQUttdEUsV0FBWSxHQUVyQm50RSxLQUFLb3RFLE9BQVNsbEUsRUFBTWtsRSxPQUd4QnB0RSxLQUFTcXRFLFFBQVUvcEQsT0FBT0UsVUFBVXRiLEVBQU1tbEUsU0FBV25sRSxFQUFNbWxFLFFBQVVubEUsRUFBTWdtRSxNQUN2RWx1RSxLQUFLdzFCLE1BQVF0dEIsRUFBTXN0QixNQUNuQngxQixLQUFLeTFCLE9BQVN2dEIsRUFBTXV0QixPQUNwQnoxQixLQUFLc3RFLE1BQVFwbEUsRUFBTW9sRSxNQUNuQnR0RSxLQUFLdXRFLE1BQVFybEUsRUFBTXFsRSxNQUNuQnZ0RSxLQUFLd3RFLFlBQWN0bEUsRUFBTXNsRSxZQUN6Qnh0RSxLQUFLeXRFLFNBQVd2bEUsRUFBTXVsRSxTQUN0Qnp0RSxLQUFLMHRFLGNBQWdCeGxFLEVBQU13bEUsY0FDL0IxdEUsS0FBUzJ0RSxNQUFRemxFLEVBQU15bEUsT0FBUyxFQUNoQzN0RSxLQUFTNHRFLG1CQUFxQjFsRSxFQUFNMGxFLG9CQUFzQixHQU05RFosR0FBQWg2RSxVQUFJczdCLE1BQUEsV0FJSXR1QixLQUFLbXRFLFdBQVksNENDN0x6QixJQUFxQmdCLEdBRWpCLFdBT0ludUUsS0FBS291RSxTQUFVLEVBUWZwdUUsS0FBSzhRLE9BQVMsS0FPZDlRLEtBQUtxdUUsY0FBZ0IsS0FPckJydUUsS0FBS25GLEtBQU8sS0FPWm1GLEtBQUtySSxLQUFPLE1BT3BCdzJFLEdBQUFuN0UsVUFBSXM3RSxnQkFBQSxXQUVJdHVFLEtBQUtvdUUsU0FBVSxHQU12QkQsR0FBQW43RSxVQUFJczdCLE1BQUEsV0FFSXR1QixLQUFLb3VFLFNBQVUsRUFDZnB1RSxLQUFLcXVFLGNBQWdCLEtBQ3JCcnVFLEtBQUs4USxPQUFTLE1DeERQLElBQU15OUQsR0FNakIsU0FBQUEsRUFBWVQsR0FFUjl0RSxLQUFLd3VFLFdBQWFWLEVBQ3RCOXRFLEtBQVNnVixPQUFTdTVELEVBQXdCRSxNQUFNenhELG9LQVNwRHV4RCxHQUFBdjdFLFVBQUkwN0UsT0FBQSxTQUFPcDFELEVBQU1xMUQsR0FJVDN1RSxLQUFTZ1YsT0FGTDI1RCxFQUVjM3VFLEtBQUtnVixPQUFTc0UsRUFJZHRaLEtBQUtnVixRQUFXc0UsR0FXMUM2dkIsR0FBUTJrQyxVQUFBNzRFLElBQUEsV0FFQSxPQUFPK0ssS0FBS3d1RSxZQVNwQnJsQyxHQUFReWxDLE1BQUEzNUUsSUFBQSxXQUVBLE9BQU8rSyxLQUFLZ1YsUUFHcEJtMEIsR0FBUXlsQyxNQUFBMTVFLElBQUEsU0FBTTA1RSxHQUVONXVFLEtBQUtnVixPQUFTNDVELEdBU3RCemxDLEdBQVEwbEMsS0FBQTU1RSxJQUFBLFdBRUEsT0FBTytLLEtBQUtnVixTQUFXaFYsS0FBSzRnQixZQUFZNnRELE1BQU16eEQsTUFTdERtc0IsR0FBUTJsQyxLQUFBNzVFLElBQUEsV0FFQSxPQUF1RCxJQUEvQytLLEtBQUtnVixPQUFTaFYsS0FBSzRnQixZQUFZNnRELE1BQU1NLE9BR3JENWxDLEdBQVEybEMsS0FBQTU1RSxJQUFBLFNBQUt5NUUsR0FFTDN1RSxLQUFLMHVFLE9BQU8xdUUsS0FBSzRnQixZQUFZNnRELE1BQU1NLEtBQU1KLElBU2pEeGxDLEdBQVE2bEMsVUFBQS81RSxJQUFBLFdBRUEsT0FBNkQsSUFBckQrSyxLQUFLZ1YsT0FBU2hWLEtBQUs0Z0IsWUFBWTZ0RCxNQUFNUSxhQUdyRDlsQyxHQUFRNmxDLFVBQUE5NUUsSUFBQSxTQUFVeTVFLEdBRVYzdUUsS0FBSzB1RSxPQUFPMXVFLEtBQUs0Z0IsWUFBWTZ0RCxNQUFNUSxXQUFZTixJQVN2RHhsQyxHQUFRK2xDLFNBQUFqNkUsSUFBQSxXQUVBLE9BQTRELElBQXBEK0ssS0FBS2dWLE9BQVNoVixLQUFLNGdCLFlBQVk2dEQsTUFBTVUsWUFHckRobUMsR0FBUStsQyxTQUFBaDZFLElBQUEsU0FBU3k1RSxHQUVUM3VFLEtBQUswdUUsT0FBTzF1RSxLQUFLNGdCLFlBQVk2dEQsTUFBTVUsVUFBV1IsNkNBSXRESixHQUF3QkUsTUFBUTE3RSxPQUFPcThFLE9BQU8sQ0FDMUNweUQsS0FBTSxFQUNOK3hELEtBQU0sRUFDTkksVUFBVyxFQUNYRixXQUFZLElDakhoQixJQUFBSSxHQUFlLENBZVgxL0IsYUFBYSxFQVNiQyxxQkFBcUIsRUFhckIyRSxRQUFTLEtBYVQrNkIsaUJBRUksTUFBdUIsWUFBaEJ0dkUsS0FBS3V2RSxRQUVoQkQsZUFBZW42RSxHQUVQQSxFQUVBNkssS0FBS3V2RSxPQUFTLFVBRU8sWUFBaEJ2dkUsS0FBS3V2RSxTQUVWdnZFLEtBQUt1dkUsT0FBUyxPQWlCdEJBLE9BQVEsS0FTUkMsc0JBSUksWUFGOEIvNEUsSUFBMUJ1SixLQUFLeXZFLG1CQUFnQ3p2RSxLQUFLeXZFLGlCQUFtQixJQUUxRHp2RSxLQUFLeXZFLGtCQVNoQkEsc0JBQWtCaDVFLEdDMUd0QjIyQyxHQUFjb0IsTUFBTTZnQyxJQUVwQnpzRCxJQUFNOHNELEdBQW1CLEVBR25CQyxHQUFlLENBQ2pCNytELE9BQVEsS0FDUm5aLEtBQU0sQ0FDRmduQixPQUFRLE9BaUJLaXhELEdBQWtCLFNBQUFwbkUsR0FRbkMsU0FBQXFuRSxFQUFZdmdDLEVBQVV0MUMsR0FFbEJzekMsT0FBS3R0QyxNQUVMaEcsRUFBVUEsR0FBVyxHQU9yQmdHLEtBQUtzdkMsU0FBV0EsRUFXaEJ0dkMsS0FBSzh2RSx3QkFBb0RyNUUsSUFBL0J1RCxFQUFRODFFLG9CQUFtQzkxRSxFQUFRODFFLG1CQVE3RTl2RSxLQUFLK3ZFLHFCQUF1Qi8xRSxFQUFRKzFFLHNCQUF3QixHQU81RC92RSxLQUFLZ3dFLE1BQVEsSUFBSWhELEdBQ2pCaHRFLEtBQUtnd0UsTUFBTTlDLFdBQWF3QyxHQUl4QjF2RSxLQUFLZ3dFLE1BQU1yeEQsT0FBT3pwQixLQUFLLFFBUXZCOEssS0FBS2l3RSxzQkFBd0IsR0FDN0Jqd0UsS0FBS2l3RSxzQkFBc0JQLElBQW9CMXZFLEtBQUtnd0UsTUFRcERod0UsS0FBS2t3RSxvQkFBc0IsR0FPM0Jsd0UsS0FBS2sxQyxVQUFZLElBQUlpNUIsR0FRckJudUUsS0FBS213RSxzQkFBd0IsS0FhN0Jud0UsS0FBS293RSxnQkFBaUIsRUFRdEJwd0UsS0FBS3F3RSxhQUFjLEVBUW5CcndFLEtBQUtzd0UsbUJBQW9CLEVBU3pCdHdFLEtBQUt1d0Usb0JBQXNCLGlCQUFrQjk5RSxPQVM3Q3VOLEtBQUt3d0Usd0JBQTBCLzlFLE9BQU9nK0UsYUFRdEN6d0UsS0FBSzB3RSxZQUFjMXdFLEtBQUswd0UsWUFBWTF5RSxLQUFLZ0MsTUFDekNBLEtBQUsyd0UsaUJBQW1CM3dFLEtBQUsyd0UsaUJBQWlCM3lFLEtBQUtnQyxNQU1uREEsS0FBSzR3RSxnQkFBa0I1d0UsS0FBSzR3RSxnQkFBZ0I1eUUsS0FBS2dDLE1BQ2pEQSxLQUFLNndFLHFCQUF1Qjd3RSxLQUFLNndFLHFCQUFxQjd5RSxLQUFLZ0MsTUFNM0RBLEtBQUs4d0UsY0FBZ0I5d0UsS0FBSzh3RSxjQUFjOXlFLEtBQUtnQyxNQUM3Q0EsS0FBSyt3RSxtQkFBcUIvd0UsS0FBSyt3RSxtQkFBbUIveUUsS0FBS2dDLE1BTXZEQSxLQUFLZ3hFLGNBQWdCaHhFLEtBQUtneEUsY0FBY2h6RSxLQUFLZ0MsTUFDN0NBLEtBQUtpeEUsbUJBQXFCanhFLEtBQUtpeEUsbUJBQW1CanpFLEtBQUtnQyxNQU12REEsS0FBS2t4RSxhQUFlbHhFLEtBQUtreEUsYUFBYWx6RSxLQUFLZ0MsTUFDM0NBLEtBQUtteEUsc0JBQXdCbnhFLEtBQUtteEUsc0JBQXNCbnpFLEtBQUtnQyxNQU03REEsS0FBS294RSxjQUFnQnB4RSxLQUFLb3hFLGNBQWNwekUsS0FBS2dDLE1BUzdDQSxLQUFLcXhFLGFBQWUsQ0FDaEI1cEUsUUFBUyxVQUNUNnBFLFFBQVMsV0FTYnR4RSxLQUFLdXhFLGtCQUFvQixLQVF6QnZ4RSxLQUFLdXZFLE9BQVMsS0FRZHZ2RSxLQUFLd3hFLFdBQWEsSUFBSTd2QyxHQVF0QjNoQyxLQUFLbWdDLFdBQWEsRUE4WWxCbmdDLEtBQUt5eEUsaUJBQWlCenhFLEtBQUtzdkMsU0FBU3RhLEtBQU1oMUIsS0FBS3N2QyxTQUFTblAsc0hBVzVEdXhDLFFBQUEsU0FBUUMsRUFBYW5wRCxHQWVqQixPQVpBbW5ELEdBQWE3K0QsT0FBUyxLQUV0QjYrRCxHQUFhaDRFLEtBQUtnbkIsT0FBU2d6RCxFQUV0Qm5wRCxJQUVEQSxFQUFPeG9CLEtBQUtzdkMsU0FBUzZFLHFCQUd6Qm4wQyxLQUFLNHhFLG1CQUFtQmpDLEdBQWNubkQsRUFBTSxNQUFNLEdBRzNDbW5ELEdBQWE3K0Qsb0JBV3hCMmdFLGlCQUFBLFNBQWlCNTNCLEVBQVMxWixrQkFBYSxHQUVuQ25nQyxLQUFLNnhFLGVBRUw3eEUsS0FBS213RSxzQkFBd0J0MkIsRUFFN0I3NUMsS0FBS21nQyxXQUFhQSxFQUVsQm5nQyxLQUFLOHhFLHlCQVFUQSxVQUFBLFdBRVM5eEUsS0FBS213RSx3QkFLVjE1QixHQUFPNEIsT0FBT3JxQixJQUFJaHVCLEtBQUtsSCxPQUFRa0gsS0FBTSsxQyxHQUFnQkMsYUFFakR2akQsT0FBT29NLFVBQVVrekUsa0JBRWpCL3hFLEtBQUttd0Usc0JBQXNCaC9DLE1BQU0sdUJBQXlCLE9BQzFEbnhCLEtBQUttd0Usc0JBQXNCaC9DLE1BQU0sb0JBQXNCLFFBRWxEbnhCLEtBQUt3d0Usd0JBRVZ4d0UsS0FBS213RSxzQkFBc0JoL0MsTUFBTSxnQkFBa0IsUUFPbkRueEIsS0FBS3d3RSx1QkFFTC85RSxPQUFPNkcsU0FBUzJnQixpQkFBaUIsY0FBZWphLEtBQUtneEUsZUFBZSxHQUNwRWh4RSxLQUFLbXdFLHNCQUFzQmwyRCxpQkFBaUIsY0FBZWphLEtBQUs4d0UsZUFBZSxHQUkvRTl3RSxLQUFLbXdFLHNCQUFzQmwyRCxpQkFBaUIsZUFBZ0JqYSxLQUFLa3hFLGNBQWMsR0FDL0VseEUsS0FBS213RSxzQkFBc0JsMkQsaUJBQWlCLGNBQWVqYSxLQUFLb3hFLGVBQWUsR0FDL0UzK0UsT0FBT3duQixpQkFBaUIsZ0JBQWlCamEsS0FBSzR3RSxpQkFBaUIsR0FDL0RuK0UsT0FBT3duQixpQkFBaUIsWUFBYWphLEtBQUswd0UsYUFBYSxLQUl2RGorRSxPQUFPNkcsU0FBUzJnQixpQkFBaUIsWUFBYWphLEtBQUtneEUsZUFBZSxHQUNsRWh4RSxLQUFLbXdFLHNCQUFzQmwyRCxpQkFBaUIsWUFBYWphLEtBQUs4d0UsZUFBZSxHQUM3RTl3RSxLQUFLbXdFLHNCQUFzQmwyRCxpQkFBaUIsV0FBWWphLEtBQUtreEUsY0FBYyxHQUMzRWx4RSxLQUFLbXdFLHNCQUFzQmwyRCxpQkFBaUIsWUFBYWphLEtBQUtveEUsZUFBZSxHQUM3RTMrRSxPQUFPd25CLGlCQUFpQixVQUFXamEsS0FBSzB3RSxhQUFhLElBTXJEMXdFLEtBQUt1d0Usc0JBRUx2d0UsS0FBS213RSxzQkFBc0JsMkQsaUJBQWlCLGFBQWNqYSxLQUFLOHdFLGVBQWUsR0FDOUU5d0UsS0FBS213RSxzQkFBc0JsMkQsaUJBQWlCLGNBQWVqYSxLQUFLNHdFLGlCQUFpQixHQUNqRjV3RSxLQUFLbXdFLHNCQUFzQmwyRCxpQkFBaUIsV0FBWWphLEtBQUswd0UsYUFBYSxHQUMxRTF3RSxLQUFLbXdFLHNCQUFzQmwyRCxpQkFBaUIsWUFBYWphLEtBQUtneEUsZUFBZSxJQUdqRmh4RSxLQUFLcXdFLGFBQWMsZ0JBUXZCd0IsYUFBQSxXQUVTN3hFLEtBQUttd0Usd0JBS1YxNUIsR0FBTzRCLE9BQU9sbUIsT0FBT255QixLQUFLbEgsT0FBUWtILE1BRTlCdk4sT0FBT29NLFVBQVVrekUsa0JBRWpCL3hFLEtBQUttd0Usc0JBQXNCaC9DLE1BQU0sdUJBQXlCLEdBQzFEbnhCLEtBQUttd0Usc0JBQXNCaC9DLE1BQU0sb0JBQXNCLElBRWxEbnhCLEtBQUt3d0Usd0JBRVZ4d0UsS0FBS213RSxzQkFBc0JoL0MsTUFBTSxnQkFBa0IsSUFHbkRueEIsS0FBS3d3RSx1QkFFTC85RSxPQUFPNkcsU0FBU2tnQixvQkFBb0IsY0FBZXhaLEtBQUtneEUsZUFBZSxHQUN2RWh4RSxLQUFLbXdFLHNCQUFzQjMyRCxvQkFBb0IsY0FBZXhaLEtBQUs4d0UsZUFBZSxHQUNsRjl3RSxLQUFLbXdFLHNCQUFzQjMyRCxvQkFBb0IsZUFBZ0J4WixLQUFLa3hFLGNBQWMsR0FDbEZseEUsS0FBS213RSxzQkFBc0IzMkQsb0JBQW9CLGNBQWV4WixLQUFLb3hFLGVBQWUsR0FDbEYzK0UsT0FBTyttQixvQkFBb0IsZ0JBQWlCeFosS0FBSzR3RSxpQkFBaUIsR0FDbEVuK0UsT0FBTyttQixvQkFBb0IsWUFBYXhaLEtBQUswd0UsYUFBYSxLQUkxRGorRSxPQUFPNkcsU0FBU2tnQixvQkFBb0IsWUFBYXhaLEtBQUtneEUsZUFBZSxHQUNyRWh4RSxLQUFLbXdFLHNCQUFzQjMyRCxvQkFBb0IsWUFBYXhaLEtBQUs4d0UsZUFBZSxHQUNoRjl3RSxLQUFLbXdFLHNCQUFzQjMyRCxvQkFBb0IsV0FBWXhaLEtBQUtreEUsY0FBYyxHQUM5RWx4RSxLQUFLbXdFLHNCQUFzQjMyRCxvQkFBb0IsWUFBYXhaLEtBQUtveEUsZUFBZSxHQUNoRjMrRSxPQUFPK21CLG9CQUFvQixVQUFXeFosS0FBSzB3RSxhQUFhLElBR3hEMXdFLEtBQUt1d0Usc0JBRUx2d0UsS0FBS213RSxzQkFBc0IzMkQsb0JBQW9CLGFBQWN4WixLQUFLOHdFLGVBQWUsR0FDakY5d0UsS0FBS213RSxzQkFBc0IzMkQsb0JBQW9CLGNBQWV4WixLQUFLNHdFLGlCQUFpQixHQUNwRjV3RSxLQUFLbXdFLHNCQUFzQjMyRCxvQkFBb0IsV0FBWXhaLEtBQUswd0UsYUFBYSxHQUM3RTF3RSxLQUFLbXdFLHNCQUFzQjMyRCxvQkFBb0IsWUFBYXhaLEtBQUtneEUsZUFBZSxJQUdwRmh4RSxLQUFLbXdFLHNCQUF3QixLQUU3Qm53RSxLQUFLcXdFLGFBQWMsZ0JBU3ZCdjNFLE9BQUEsU0FBT3U5QyxHQUlILEdBRkFyMkMsS0FBS2d5RSxZQUFjMzdCLElBRWZyMkMsS0FBS2d5RSxXQUFhaHlFLEtBQUsrdkUsd0JBSzNCL3ZFLEtBQUtneUUsV0FBYSxFQUViaHlFLEtBQUttd0UsdUJBTVYsR0FBSW53RSxLQUFLaXlFLFFBRUxqeUUsS0FBS2l5RSxTQUFVLE1BRm5CLENBWUEsSUFBS3J2RCxJQUFNOWQsS0FMWDlFLEtBQUt1dkUsT0FBUyxLQUtFdnZFLEtBQUtpd0Usc0JBR2pCLEdBQUlqd0UsS0FBS2l3RSxzQkFBc0JoOUUsZUFBZTZSLEdBQzlDLENBQ0k4ZCxJQUFNc3ZELEVBQWtCbHlFLEtBQUtpd0Usc0JBQXNCbnJFLEdBRW5ELEdBQUlvdEUsRUFBZ0JqRixlQUFpRCxVQUFoQ2lGLEVBQWdCMUUsWUFDckQsQ0FDSTVxRCxJQUFNdXZELEVBQW1CbnlFLEtBQUtveUUscUNBQzFCcHlFLEtBQUtrMUMsVUFDTGc5QixFQUFnQmpGLGNBQ2hCaUYsR0FHSmx5RSxLQUFLNHhFLG1CQUNETyxFQUNBbnlFLEtBQUtzdkMsU0FBUzZFLG9CQUNkbjBDLEtBQUtteEUsdUJBQ0wsSUFNaEJueEUsS0FBS3F5RSxjQUFjcnlFLEtBQUt1dkUsc0JBVTVCOEMsY0FBQSxTQUFjdjhFLEdBSVYsR0FGQUEsRUFBT0EsR0FBUSxVQUVYa0ssS0FBS3V4RSxvQkFBc0J6N0UsRUFBL0IsQ0FJQWtLLEtBQUt1eEUsa0JBQW9CejdFLEVBQ3pCOHNCLElBQU11TyxFQUFRbnhCLEtBQUtxeEUsYUFBYXY3RSxHQUdoQyxHQUFJcTdCLEVBRUEsY0FBZUEsR0FFWCxJQUFLLFNBRURueEIsS0FBS213RSxzQkFBc0JoL0MsTUFBTW8rQyxPQUFTcCtDLEVBQzFDLE1BQ0osSUFBSyxXQUVEQSxFQUFNcjdCLEdBQ04sTUFDSixJQUFLLFNBR0QvQyxPQUFPMHVCLE9BQU96aEIsS0FBS213RSxzQkFBc0JoL0MsTUFBT0EsT0FJbkMsaUJBQVRyN0IsR0FBc0IvQyxPQUFPQyxVQUFVQyxlQUFlQyxLQUFLOE0sS0FBS3F4RSxhQUFjdjdFLEtBSTFGa0ssS0FBS213RSxzQkFBc0JoL0MsTUFBTW8rQyxPQUFTejVFLGlCQVlsRG0vQyxjQUFBLFNBQWNoQixFQUFlcStCLEVBQWFwOUIsR0FFakNBLEVBQVVrNUIsVUFFWGw1QixFQUFVbTVCLGNBQWdCcDZCLEVBQzFCaUIsRUFBVXI2QyxLQUFPeTNFLEVBRWpCcitCLEVBQWM5cUMsS0FBS21wRSxFQUFhcDlCLEdBRTVCakIsRUFBY3ErQixJQUVkcitCLEVBQWNxK0IsR0FBYXA5QixpQkFjdkNxOUIsbUJBQUEsU0FBbUJ4bUMsRUFBT3ZoQyxFQUFHQyxHQUV6QnFZLElBQUk0b0IsRUFTQUEsRUFOQzFyQyxLQUFLbXdFLHNCQUFzQnFDLGNBTXJCeHlFLEtBQUttd0Usc0JBQXNCLzdCLHdCQUozQixDQUFFNXBDLEVBQUcsRUFBR0MsRUFBRyxFQUFHK3FCLE1BQU8sRUFBR0MsT0FBUSxHQU8zQzdTLElBQU02dkQsRUFBdUIsRUFBTXp5RSxLQUFLbWdDLFdBRXhDNEwsRUFBTXZoQyxHQUFNQSxFQUFJa2hDLEVBQUszTCxPQUFTLy9CLEtBQUttd0Usc0JBQXNCMzZDLE1BQVFrVyxFQUFLbFcsT0FBVWk5QyxFQUNoRjFtQyxFQUFNdGhDLEdBQU1BLEVBQUlpaEMsRUFBSzVMLE1BQVE5L0IsS0FBS213RSxzQkFBc0IxNkMsT0FBU2lXLEVBQUtqVyxRQUFXZzlDLGVBbUJyRmIsbUJBQUEsU0FBbUJPLEVBQWtCbCtCLEVBQWUrc0IsRUFBTTBRLEVBQVMvaEMsR0FFL0QsSUFBS3NFLElBQWtCQSxFQUFjekcsUUFFakMsT0FBTyxFQUdYNXFCLElBQU1tcEIsRUFBUW9tQyxFQUFpQng2RSxLQUFLZ25CLE9BaUJoQyt6RCxHQUFNLEVBQ05DLEVBSEpoakMsRUFBY3NFLEVBQWN0RSxhQUFlQSxFQU12Q2lqQyxHQUFrQixFQXNDdEIsR0FsQ0kzK0IsRUFBY00sU0FFVm05QixJQUVBejlCLEVBQWNuTSxlQUFldkUsYUFBYXdJLEVBQU8vckMsS0FBS3d4RSxZQUNqRHY5QixFQUFjTSxRQUFRL0ssU0FBU3hwQyxLQUFLd3hFLFdBQVdobkUsRUFBR3hLLEtBQUt3eEUsV0FBVy9tRSxHQU9uRWlvRSxHQUFNLEdBTE5oQixHQUFVLEVBQ1ZrQixHQUFrQixJQU8xQkQsR0FBb0IsR0FLZjErQixFQUFjNUYsT0FFZnFqQyxJQUVNejlCLEVBQWM1RixNQUFNd2tDLGVBQWlCNStCLEVBQWM1RixNQUFNd2tDLGNBQWM5bUMsS0FFekUybEMsR0FBVSxJQVFsQmtCLEdBQW1CMytCLEVBQWNyRSxxQkFBdUJxRSxFQUFjdi9DLFNBSXRFLElBRkFrdUIsSUFBTWx1QixFQUFXdS9DLEVBQWN2L0MsU0FFdEJnQyxFQUFJaEMsRUFBU2lDLE9BQVMsRUFBR0QsR0FBSyxFQUFHQSxJQUMxQyxDQUNJa3NCLElBQU1qbUIsRUFBUWpJLEVBQVNnQyxHQUdqQm84RSxFQUFXOXlFLEtBQUs0eEUsbUJBQW1CTyxFQUFrQngxRSxFQUFPcWtFLEVBQU0wUSxFQUFTaUIsR0FFakYsR0FBSUcsRUFDSixDQUdJLElBQUtuMkUsRUFBTTVCLE9BRVAsU0FLSjQzRSxHQUFvQixFQU9oQkcsSUFFSVgsRUFBaUJyaEUsU0FFakI0Z0UsR0FBVSxHQUVkZ0IsR0FBTSxJQXVDdEIsT0FoQ0kvaUMsSUFNSStoQyxJQUFZUyxFQUFpQnJoRSxTQUd4Qm1qQyxFQUFjTSxTQUFXTixFQUFjNCtCLGVBRXBDNStCLEVBQWM0K0IsY0FBYzltQyxLQUU1QjJtQyxHQUFNLEdBS2R6K0IsRUFBY3RFLGNBRVYraUMsSUFBUVAsRUFBaUJyaEUsU0FFekJxaEUsRUFBaUJyaEUsT0FBU21qQyxHQUcxQitzQixHQUVBQSxFQUFLbVIsRUFBa0JsK0IsSUFBaUJ5K0IsS0FLN0NBLGVBU1g1QixjQUFBLFNBQWM3RCxHQUdWLElBQUlqdEUsS0FBS3V3RSxxQkFBcUQsVUFBOUJ0RCxFQUFjTyxZQUE5QyxDQUVBNXFELElBQU1qYSxFQUFTM0ksS0FBSyt5RSx1QkFBdUI5RixHQVUzQyxHQUFJanRFLEtBQUs4dkUsb0JBQXNCbm5FLEVBQU8sR0FBR3FxRSxjQUVsQi9GLEVBQWNnRyxjQUFnQixlQUFnQmhHLEtBSTdEQSxFQUFjcmYsaUJBTXRCLElBRkFockMsSUFBTXN3RCxFQUFXdnFFLEVBQU9oUyxPQUVmRCxFQUFJLEVBQUdBLEVBQUl3OEUsRUFBVXg4RSxJQUM5QixDQUNJa3NCLElBQU0xYSxFQUFRUyxFQUFPalMsR0FFZnc3RSxFQUFrQmx5RSxLQUFLbXpFLCtCQUErQmpyRSxHQUV0RGlxRSxFQUFtQm55RSxLQUFLb3lFLHFDQUFxQ3B5RSxLQUFLazFDLFVBQVdodEMsRUFBT2dxRSxHQU8xRixHQUxBQyxFQUFpQng2RSxLQUFLczFFLGNBQWdCQSxFQUV0Q2p0RSxLQUFLNHhFLG1CQUFtQk8sRUFBa0JueUUsS0FBS3N2QyxTQUFTNkUsb0JBQXFCbjBDLEtBQUsrd0Usb0JBQW9CLEdBRXRHL3dFLEtBQUttSixLQUFLLGNBQWVncEUsR0FDQyxVQUF0QmpxRSxFQUFNc2xFLFlBRU54dEUsS0FBS21KLEtBQUssYUFBY2dwRSxRQUd2QixHQUEwQixVQUF0QmpxRSxFQUFNc2xFLGFBQWlELFFBQXRCdGxFLEVBQU1zbEUsWUFDaEQsQ0FDSTVxRCxJQUFNd3dELEVBQWlDLElBQWpCbHJFLEVBQU1rbEUsT0FFNUJwdEUsS0FBS21KLEtBQUtpcUUsRUFBZ0IsWUFBYyxZQUFhcHpFLEtBQUtrMUMsMkJBYXRFNjdCLG1CQUFBLFNBQW1Cb0IsRUFBa0JsK0IsRUFBZXkrQixHQUVoRDl2RCxJQUFNanJCLEVBQU93NkUsRUFBaUJ4NkUsS0FDeEJLLEVBQUttNkUsRUFBaUJ4NkUsS0FBS3UxRSxXQUVqQyxHQUFJd0YsRUFRQSxHQU5LeitCLEVBQWN1N0IsZ0JBQWdCeDNFLEtBRS9CaThDLEVBQWN1N0IsZ0JBQWdCeDNFLEdBQU0sSUFBSXUyRSxHQUF3QnYyRSxJQUVwRWdJLEtBQUtpMUMsY0FBY2hCLEVBQWUsY0FBZWsrQixHQUV4QixVQUFyQng2RSxFQUFLNjFFLFlBRUx4dEUsS0FBS2kxQyxjQUFjaEIsRUFBZSxhQUFjaytCLFFBRS9DLEdBQXlCLFVBQXJCeDZFLEVBQUs2MUUsYUFBZ0QsUUFBckI3MUUsRUFBSzYxRSxZQUM5QyxDQUNJNXFELElBQU13d0QsRUFBZ0MsSUFBaEJ6N0UsRUFBS3kxRSxPQUV2QmdHLEVBRUFuL0IsRUFBY3U3QixnQkFBZ0J4M0UsR0FBSWczRSxXQUFZLEVBSTlDLzZCLEVBQWN1N0IsZ0JBQWdCeDNFLEdBQUlrM0UsVUFBVyxFQUdqRGx2RSxLQUFLaTFDLGNBQWNoQixFQUFlbS9CLEVBQWdCLFlBQWMsWUFBYWpCLGlCQWF6RmtCLGtCQUFBLFNBQWtCcEcsRUFBZXFHLEVBQVd0UyxHQVV4QyxJQVJBcCtDLElBQU1qYSxFQUFTM0ksS0FBSyt5RSx1QkFBdUI5RixHQUVyQ2lHLEVBQVd2cUUsRUFBT2hTLE9BSWxCNDhFLEVBQWN0RyxFQUFjbjhELFNBQVc5USxLQUFLbXdFLHNCQUF3QixVQUFZLEdBRTdFejVFLEVBQUksRUFBR0EsRUFBSXc4RSxFQUFVeDhFLElBQzlCLENBQ0lrc0IsSUFBTTFhLEVBQVFTLEVBQU9qUyxHQUVmdzdFLEVBQWtCbHlFLEtBQUttekUsK0JBQStCanJFLEdBRXREaXFFLEVBQW1CbnlFLEtBQUtveUUscUNBQXFDcHlFLEtBQUtrMUMsVUFBV2h0QyxFQUFPZ3FFLEdBUzFGLEdBUEFDLEVBQWlCeDZFLEtBQUtzMUUsY0FBZ0JBLEVBR3RDanRFLEtBQUs0eEUsbUJBQW1CTyxFQUFrQm55RSxLQUFLc3ZDLFNBQVM2RSxvQkFBcUI2c0IsRUFBTXNTLElBQWNDLEdBRWpHdnpFLEtBQUttSixLQUFLbXFFLEVBQVksZ0JBQWUsWUFBZUMsRUFBZXBCLEdBRXpDLFVBQXRCanFFLEVBQU1zbEUsYUFBaUQsUUFBdEJ0bEUsRUFBTXNsRSxZQUMzQyxDQUNJNXFELElBQU13d0QsRUFBaUMsSUFBakJsckUsRUFBTWtsRSxPQUU1QnB0RSxLQUFLbUosS0FBS2lxRSxFQUFhLFVBQWFHLEVBQVcsVUFBZUEsRUFBZXBCLE9BRWxELFVBQXRCanFFLEVBQU1zbEUsY0FFWHh0RSxLQUFLbUosS0FBS21xRSxFQUFZLGNBQWEsV0FBY0MsRUFBZXBCLEdBQ2hFbnlFLEtBQUt3ekUsbUNBQW1DdHJFLEVBQU00bEUsVUFBV29FLGtCQVdyRXRCLGdCQUFBLFNBQWdCMW9FLEdBR1JsSSxLQUFLdXdFLHFCQUE2QyxVQUF0QnJvRSxFQUFNc2xFLGFBRXRDeHRFLEtBQUtxekUsa0JBQWtCbnJFLEdBQU8sRUFBTWxJLEtBQUs2d0UsbUNBVTdDQSxxQkFBQSxTQUFxQnNCLEVBQWtCbCtCLEdBRW5DcnhCLElBQU1qckIsRUFBT3c2RSxFQUFpQng2RSxLQUV4QkssRUFBS202RSxFQUFpQng2RSxLQUFLdTFFLGdCQUVTejJFLElBQXRDdzlDLEVBQWN1N0IsZ0JBQWdCeDNFLFlBRXZCaThDLEVBQWN1N0IsZ0JBQWdCeDNFLEdBQ3JDZ0ksS0FBS2kxQyxjQUFjaEIsRUFBZSxnQkFBaUJrK0IsR0FFMUIsVUFBckJ4NkUsRUFBSzYxRSxhQUVMeHRFLEtBQUtpMUMsY0FBY2hCLEVBQWUsY0FBZWsrQixpQkFXN0R6QixZQUFBLFNBQVl4b0UsR0FHSmxJLEtBQUt1d0UscUJBQTZDLFVBQXRCcm9FLEVBQU1zbEUsYUFFdEN4dEUsS0FBS3F6RSxrQkFBa0JuckUsR0FBTyxFQUFPbEksS0FBSzJ3RSwrQkFXOUNBLGlCQUFBLFNBQWlCd0IsRUFBa0JsK0IsRUFBZXkrQixHQUU5Qzl2RCxJQUFNanJCLEVBQU93NkUsRUFBaUJ4NkUsS0FFeEJLLEVBQUttNkUsRUFBaUJ4NkUsS0FBS3UxRSxXQUUzQnVHLEVBQWV4L0IsRUFBY3U3QixnQkFBZ0J4M0UsR0FFN0MwN0UsRUFBK0IsVUFBckIvN0UsRUFBSzYxRSxZQUVmbUcsRUFBZ0MsVUFBckJoOEUsRUFBSzYxRSxhQUFnRCxRQUFyQjcxRSxFQUFLNjFFLFlBR2xEb0csR0FBYSxFQUdqQixHQUFJRCxFQUNKLENBQ0kvd0QsSUFBTXd3RCxFQUFnQyxJQUFoQno3RSxFQUFLeTFFLE9BRXJCd0IsRUFBUUwsR0FBd0JFLE1BRWhDN3ZFLEVBQU93MEUsRUFBZ0J4RSxFQUFNSyxXQUFhTCxFQUFNTyxVQUVoRDBFLE9BQTBCcDlFLElBQWpCZzlFLEdBQStCQSxFQUFhN0UsTUFBUWh3RSxFQUUvRDh6RSxHQUVBMXlFLEtBQUtpMUMsY0FBY2hCLEVBQWVtL0IsRUFBZ0IsVUFBWSxVQUFXakIsR0FFckUwQixJQUVBN3pFLEtBQUtpMUMsY0FBY2hCLEVBQWVtL0IsRUFBZ0IsYUFBZSxRQUFTakIsR0FFMUV5QixHQUFhLElBR1pDLEdBRUw3ekUsS0FBS2kxQyxjQUFjaEIsRUFBZW0vQixFQUFnQixpQkFBbUIsaUJBQWtCakIsR0FHdkZzQixJQUVJTCxFQUVBSyxFQUFhekUsV0FBWSxFQUl6QnlFLEVBQWF2RSxVQUFXLEdBTWhDd0QsR0FFQTF5RSxLQUFLaTFDLGNBQWNoQixFQUFlLFlBQWFrK0IsR0FDM0N1QixHQUFTMXpFLEtBQUtpMUMsY0FBY2hCLEVBQWUsV0FBWWsrQixHQUV2RHNCLElBR0tFLElBQVdDLEdBRVo1ekUsS0FBS2kxQyxjQUFjaEIsRUFBZSxhQUFjaytCLEdBRWhEdUIsSUFFQTF6RSxLQUFLaTFDLGNBQWNoQixFQUFlLE1BQU9rK0IsR0FHekNzQixFQUFhM0UsTUFBTyxLQUl2QjJFLElBRUx6ekUsS0FBS2kxQyxjQUFjaEIsRUFBZSxtQkFBb0JrK0IsR0FDbER1QixHQUFTMXpFLEtBQUtpMUMsY0FBY2hCLEVBQWUsa0JBQW1CaytCLElBR2xFc0IsR0FBZ0JBLEVBQWE1RSxhQUV0QjU2QixFQUFjdTdCLGdCQUFnQngzRSxnQkFVN0NnNUUsY0FBQSxTQUFjL0QsR0FHVixJQUFJanRFLEtBQUt1d0UscUJBQXFELFVBQTlCdEQsRUFBY08sWUFBOUMsQ0FFQTVxRCxJQUFNamEsRUFBUzNJLEtBQUsreUUsdUJBQXVCOUYsR0FFYixVQUExQnRrRSxFQUFPLEdBQUc2a0UsYUFBcUQsUUFBMUI3a0UsRUFBTyxHQUFHNmtFLGNBRS9DeHRFLEtBQUtpeUUsU0FBVSxFQUVmanlFLEtBQUt1dkUsT0FBUyxNQUtsQixJQUZBM3NELElBQU1zd0QsRUFBV3ZxRSxFQUFPaFMsT0FFZkQsRUFBSSxFQUFHQSxFQUFJdzhFLEVBQVV4OEUsSUFDOUIsQ0FDSWtzQixJQUFNMWEsRUFBUVMsRUFBT2pTLEdBRWZ3N0UsRUFBa0JseUUsS0FBS216RSwrQkFBK0JqckUsR0FFdERpcUUsRUFBbUJueUUsS0FBS295RSxxQ0FBcUNweUUsS0FBS2sxQyxVQUFXaHRDLEVBQU9ncUUsR0FFMUZDLEVBQWlCeDZFLEtBQUtzMUUsY0FBZ0JBLEVBRXRDcnFELElBQU0rc0IsRUFBb0MsVUFBdEJ6bkMsRUFBTXNsRSxhQUEwQnh0RSxLQUFLb3dFLGVBRXpEcHdFLEtBQUs0eEUsbUJBQ0RPLEVBQ0FueUUsS0FBS3N2QyxTQUFTNkUsb0JBQ2RuMEMsS0FBS2l4RSxtQkFDTHRoQyxHQUVKM3ZDLEtBQUttSixLQUFLLGNBQWVncEUsR0FDQyxVQUF0QmpxRSxFQUFNc2xFLGFBQXlCeHRFLEtBQUttSixLQUFLLFlBQWFncEUsR0FDaEMsVUFBdEJqcUUsRUFBTXNsRSxhQUFpRCxRQUF0QnRsRSxFQUFNc2xFLGFBQXVCeHRFLEtBQUttSixLQUFLLFlBQWFncEUsR0FHL0QsVUFBMUJ4cEUsRUFBTyxHQUFHNmtFLGFBRVZ4dEUsS0FBS3F5RSxjQUFjcnlFLEtBQUt1dkUsc0JBY2hDMEIsbUJBQUEsU0FBbUJrQixFQUFrQmwrQixFQUFleStCLEdBRWhEOXZELElBQU1qckIsRUFBT3c2RSxFQUFpQng2RSxLQUV4Qis3RSxFQUErQixVQUFyQi83RSxFQUFLNjFFLFlBRWZtRyxFQUFnQyxVQUFyQmg4RSxFQUFLNjFFLGFBQWdELFFBQXJCNzFFLEVBQUs2MUUsWUFFbERtRyxHQUVBM3pFLEtBQUtteEUsc0JBQXNCZ0IsRUFBa0JsK0IsRUFBZXkrQixHQUczRDF5RSxLQUFLb3dFLGlCQUFrQnNDLElBRXhCMXlFLEtBQUtpMUMsY0FBY2hCLEVBQWUsY0FBZWsrQixHQUM3Q3VCLEdBQVMxekUsS0FBS2kxQyxjQUFjaEIsRUFBZSxZQUFhaytCLEdBQ3hEd0IsR0FBUzN6RSxLQUFLaTFDLGNBQWNoQixFQUFlLFlBQWFrK0IsaUJBVXBFakIsYUFBQSxTQUFhakUsR0FHVCxJQUFJanRFLEtBQUt1d0UscUJBQXFELFVBQTlCdEQsRUFBY08sWUFBOUMsQ0FFQTVxRCxJQUdNMWEsRUFIU2xJLEtBQUsreUUsdUJBQXVCOUYsR0FHdEIsR0FFSyxVQUF0Qi9rRSxFQUFNc2xFLGNBRU54dEUsS0FBS3N3RSxtQkFBb0IsRUFDekJ0d0UsS0FBS3F5RSxjQUFjLE9BR3ZCenZELElBQU1zdkQsRUFBa0JseUUsS0FBS216RSwrQkFBK0JqckUsR0FFdERpcUUsRUFBbUJueUUsS0FBS295RSxxQ0FBcUNweUUsS0FBS2sxQyxVQUFXaHRDLEVBQU9ncUUsR0FFMUZDLEVBQWlCeDZFLEtBQUtzMUUsY0FBZ0Iva0UsRUFFdENsSSxLQUFLNHhFLG1CQUFtQk8sRUFBa0JueUUsS0FBS3N2QyxTQUFTNkUsb0JBQXFCbjBDLEtBQUtteEUsdUJBQXVCLEdBRXpHbnhFLEtBQUttSixLQUFLLGFBQWNncEUsR0FDRSxVQUF0QmpxRSxFQUFNc2xFLGFBQWlELFFBQXRCdGxFLEVBQU1zbEUsWUFFdkN4dEUsS0FBS21KLEtBQUssV0FBWWdwRSxHQU10Qm55RSxLQUFLd3pFLG1DQUFtQ3RCLEVBQWdCaEYsMEJBWWhFaUUsc0JBQUEsU0FBc0JnQixFQUFrQmwrQixFQUFleStCLEdBRW5EOXZELElBQU1qckIsRUFBT3c2RSxFQUFpQng2RSxLQUV4QkssRUFBS202RSxFQUFpQng2RSxLQUFLdTFFLFdBRTNCeUcsRUFBZ0MsVUFBckJoOEUsRUFBSzYxRSxhQUFnRCxRQUFyQjcxRSxFQUFLNjFFLFlBRWxEaUcsRUFBZXgvQixFQUFjdTdCLGdCQUFnQngzRSxHQUc3QzA2RSxJQUFRZSxJQUVSQSxFQUFleC9CLEVBQWN1N0IsZ0JBQWdCeDNFLEdBQU0sSUFBSXUyRSxHQUF3QnYyRSxTQUc5RHZCLElBQWpCZzlFLElBRUFmLEdBQU8xeUUsS0FBS3N3RSxtQkFFUG1ELEVBQWEzRSxPQUVkMkUsRUFBYTNFLE1BQU8sRUFDcEI5dUUsS0FBS2kxQyxjQUFjaEIsRUFBZSxjQUFlaytCLEdBQzdDd0IsR0FFQTN6RSxLQUFLaTFDLGNBQWNoQixFQUFlLFlBQWFrK0IsSUFNbkR3QixHQUEyQixPQUFoQjN6RSxLQUFLdXZFLFNBRWhCdnZFLEtBQUt1dkUsT0FBU3Q3QixFQUFjczdCLFNBRzNCa0UsRUFBYTNFLE9BRWxCMkUsRUFBYTNFLE1BQU8sRUFDcEI5dUUsS0FBS2kxQyxjQUFjaEIsRUFBZSxhQUFjajBDLEtBQUtrMUMsV0FDakR5K0IsR0FFQTN6RSxLQUFLaTFDLGNBQWNoQixFQUFlLFdBQVlrK0IsR0FHOUNzQixFQUFhNUUsYUFFTjU2QixFQUFjdTdCLGdCQUFnQngzRSxrQkFXakRvNUUsY0FBQSxTQUFjbkUsR0FFVnJxRCxJQUdNMWEsRUFIU2xJLEtBQUsreUUsdUJBQXVCOUYsR0FHdEIsR0FFZmlGLEVBQWtCbHlFLEtBQUttekUsK0JBQStCanJFLEdBRXREaXFFLEVBQW1CbnlFLEtBQUtveUUscUNBQXFDcHlFLEtBQUtrMUMsVUFBV2h0QyxFQUFPZ3FFLEdBRTFGQyxFQUFpQng2RSxLQUFLczFFLGNBQWdCL2tFLEVBRVosVUFBdEJBLEVBQU1zbEUsY0FFTnh0RSxLQUFLc3dFLG1CQUFvQixHQUc3QnR3RSxLQUFLbUosS0FBSyxjQUFlZ3BFLEdBQ0MsVUFBdEJqcUUsRUFBTXNsRSxhQUFpRCxRQUF0QnRsRSxFQUFNc2xFLGFBRXZDeHRFLEtBQUttSixLQUFLLFlBQWFncEUsZ0JBVy9CZ0IsK0JBQUEsU0FBK0JqckUsR0FFM0IwYSxJQUVJc3ZELEVBRkVwRSxFQUFZNWxFLEVBQU00bEUsVUFzQnhCLE9BbEJJQSxJQUFjNEIsSUFBMEMsVUFBdEJ4bkUsRUFBTXNsRSxZQUV4QzBFLEVBQWtCbHlFLEtBQUtnd0UsTUFFbEJod0UsS0FBS2l3RSxzQkFBc0JuQyxHQUVoQ29FLEVBQWtCbHlFLEtBQUtpd0Usc0JBQXNCbkMsS0FJN0NvRSxFQUFrQmx5RSxLQUFLa3dFLG9CQUFvQnQxRSxPQUFTLElBQUlveUUsSUFDeENFLFdBQWFZLEVBQzdCOXRFLEtBQUtpd0Usc0JBQXNCbkMsR0FBYW9FLEdBSTVDQSxFQUFnQmpFLFVBQVUvbEUsR0FFbkJncUUsZUFTWHNCLG1DQUFBLFNBQW1DMUYsR0FFL0JsckQsSUFBTXN2RCxFQUFrQmx5RSxLQUFLaXdFLHNCQUFzQm5DLEdBRS9Db0UsV0FFT2x5RSxLQUFLaXdFLHNCQUFzQm5DLEdBQ2xDb0UsRUFBZ0I1akQsUUFDaEJ0dUIsS0FBS2t3RSxvQkFBb0J6N0UsS0FBS3k5RSxpQkFjdENFLHFDQUFBLFNBQXFDRCxFQUFrQjJCLEVBQWM1QixHQWdCakUsT0FkQUMsRUFBaUJ4NkUsS0FBT3U2RSxFQUV4Qmx5RSxLQUFLdXlFLG1CQUFtQkwsRUFBZ0J2ekQsT0FBUW0xRCxFQUFhQyxRQUFTRCxFQUFhRSxTQUdsRCxVQUE3QkYsRUFBYXRHLGNBRWJzRyxFQUFhRyxRQUFVL0IsRUFBZ0J2ekQsT0FBT25VLEVBQzlDc3BFLEVBQWFJLFFBQVVoQyxFQUFnQnZ6RCxPQUFPbFUsR0FHbER5bkUsRUFBZ0JqRixjQUFnQjZHLEVBQ2hDM0IsRUFBaUI3akQsUUFFVjZqRCxlQVdYWSx1QkFBQSxTQUF1QjdxRSxHQUVuQjBhLElBQU11eEQsRUFBbUIsR0FFekIsR0FBSW4wRSxLQUFLdXdFLHFCQUF1QnJvRSxhQUFpQmtzRSxXQUU3QyxJQUFLdHhELElBQUlwc0IsRUFBSSxFQUFHMjlFLEVBQUtuc0UsRUFBTW9zRSxlQUFlMzlFLE9BQVFELEVBQUkyOUUsRUFBSTM5RSxJQUMxRCxDQUNJa3NCLElBQU15b0QsRUFBUW5qRSxFQUFNb3NFLGVBQWU1OUUsUUFFUCxJQUFqQjIwRSxFQUFNK0IsU0FBd0IvQixFQUFNK0IsT0FBU2xsRSxFQUFNcXNFLFFBQVE1OUUsT0FBUyxFQUFJLFFBQ3RELElBQWxCMDBFLEVBQU1nQyxVQUF5QmhDLEVBQU1nQyxRQUFVbmxFLEVBQU1xc0UsUUFBUTU5RSxPQUFTLEVBQUksUUFDdEQsSUFBcEIwMEUsRUFBTThCLFlBRWI5QixFQUFNOEIsVUFBcUMsSUFBekJqbEUsRUFBTXFzRSxRQUFRNTlFLFFBQStCLGVBQWZ1UixFQUFNck4sV0FFL0IsSUFBaEJ3d0UsRUFBTTcxQyxRQUF1QjYxQyxFQUFNNzFDLE1BQVE2MUMsRUFBTW1KLFNBQVcsUUFDM0MsSUFBakJuSixFQUFNNTFDLFNBQXdCNDFDLEVBQU01MUMsT0FBUzQxQyxFQUFNb0osU0FBVyxRQUM5QyxJQUFoQnBKLEVBQU1pQyxRQUF1QmpDLEVBQU1pQyxNQUFRLFFBQzNCLElBQWhCakMsRUFBTWtDLFFBQXVCbEMsRUFBTWtDLE1BQVEsUUFDckIsSUFBdEJsQyxFQUFNbUMsY0FBNkJuQyxFQUFNbUMsWUFBYyxjQUNuQyxJQUFwQm5DLEVBQU15QyxZQUEyQnpDLEVBQU15QyxVQUFZekMsRUFBTTZCLFlBQWMsUUFDcEQsSUFBbkI3QixFQUFNb0MsV0FBMEJwQyxFQUFNb0MsU0FBV3BDLEVBQU1xSixPQUFTLFNBQ2hELElBQWhCckosRUFBTXNDLFFBQXVCdEMsRUFBTXNDLE1BQVEsUUFDZCxJQUE3QnRDLEVBQU11QyxxQkFBb0N2QyxFQUFNdUMsbUJBQXFCLFFBS3BELElBQWpCdkMsRUFBTXNKLFNBQXdCdEosRUFBTXNKLE9BQVN0SixFQUFNdUosUUFBVXZKLEVBQU0wSSxjQUNsRCxJQUFqQjFJLEVBQU13SixTQUF3QnhKLEVBQU13SixPQUFTeEosRUFBTXlKLFFBQVV6SixFQUFNMkksU0FHOUUzSSxFQUFNMkgsY0FBZSxFQUVyQm1CLEVBQWlCMS9FLEtBQUs0MkUsU0FJckJuakUsYUFBaUI2c0UsYUFBZ0IvMEUsS0FBS3d3RSx1QkFBMkJ0b0UsYUFBaUJ6VixPQUFPZytFLGFBb0I5RjBELEVBQWlCMS9FLEtBQUt5VCxTQWxCUyxJQUFwQkEsRUFBTWlsRSxZQUEyQmpsRSxFQUFNaWxFLFdBQVksUUFDbkMsSUFBaEJqbEUsRUFBTXN0QixRQUF1QnR0QixFQUFNc3RCLE1BQVEsUUFDMUIsSUFBakJ0dEIsRUFBTXV0QixTQUF3QnZ0QixFQUFNdXRCLE9BQVMsUUFDN0IsSUFBaEJ2dEIsRUFBTW9sRSxRQUF1QnBsRSxFQUFNb2xFLE1BQVEsUUFDM0IsSUFBaEJwbEUsRUFBTXFsRSxRQUF1QnJsRSxFQUFNcWxFLE1BQVEsUUFDckIsSUFBdEJybEUsRUFBTXNsRSxjQUE2QnRsRSxFQUFNc2xFLFlBQWMsY0FDbkMsSUFBcEJ0bEUsRUFBTTRsRSxZQUEyQjVsRSxFQUFNNGxFLFVBQVk0QixTQUNoQyxJQUFuQnhuRSxFQUFNdWxFLFdBQTBCdmxFLEVBQU11bEUsU0FBVyxTQUNqQyxJQUFoQnZsRSxFQUFNeWxFLFFBQXVCemxFLEVBQU15bEUsTUFBUSxRQUNkLElBQTdCemxFLEVBQU0wbEUscUJBQW9DMWxFLEVBQU0wbEUsbUJBQXFCLEdBR2hGMWxFLEVBQU04cUUsY0FBZSxFQUVyQm1CLEVBQWlCMS9FLEtBQUt5VCxJQU8xQixPQUFPaXNFLGVBT1gzMEMsUUFBQSxXQUVJeC9CLEtBQUs2eEUsZUFFTDd4RSxLQUFLOEoscUJBRUw5SixLQUFLc3ZDLFNBQVcsS0FFaEJ0dkMsS0FBS2d3RSxNQUFRLEtBRWJod0UsS0FBS2sxQyxVQUFZLEtBRWpCbDFDLEtBQUttd0Usc0JBQXdCLEtBRTdCbndFLEtBQUs4d0UsY0FBZ0IsS0FDckI5d0UsS0FBSyt3RSxtQkFBcUIsS0FFMUIvd0UsS0FBSzB3RSxZQUFjLEtBQ25CMXdFLEtBQUsyd0UsaUJBQW1CLEtBRXhCM3dFLEtBQUs0d0UsZ0JBQWtCLEtBQ3ZCNXdFLEtBQUs2d0UscUJBQXVCLEtBRTVCN3dFLEtBQUtneEUsY0FBZ0IsS0FDckJoeEUsS0FBS2l4RSxtQkFBcUIsS0FFMUJqeEUsS0FBS2t4RSxhQUFlLEtBQ3BCbHhFLEtBQUtteEUsc0JBQXdCLEtBRTdCbnhFLEtBQUtveEUsY0FBZ0IsS0FFckJweEUsS0FBS3d4RSxXQUFhLFFBL3dEYSxDQUFTdmhDLEVBQUEvMEMsR25HckJuQzg1RSxHQUFrQixDQUMzQkMsVUFBVSxFQUNWQyxVQUFXLEdBQ1hDLFlBQWEsRUFDYkMsWUFBYSxLQUNiQyxlQUFBLFNBQWUxK0UsRUFBUTIrRSxHQUVuQixrQkFGcUMsS0FFaEN0MUUsS0FBS2kxRSxTQUVOLE9BQU9LLEVBR1h4eUQsSUFBSWhwQixFQUFTOFIsS0FBS3ErQixLQUFLdHpDLEVBQVNxSixLQUFLazFFLFdBV3JDLE9BVElwN0UsRUFBU2tHLEtBQUttMUUsWUFFZHI3RSxFQUFTa0csS0FBS20xRSxZQUVUcjdFLEVBQVNrRyxLQUFLbzFFLGNBRW5CdDdFLEVBQVNrRyxLQUFLbzFFLGFBR1h0N0UsSW9HOUJNeTdFLEdBRWpCLFdBRUl2MUUsS0FBS3N1QixTQVFiaW5ELEdBQUF2aUYsVUFBSTR1QyxNQUFBLFdBRUloZixJQUFNcmhCLEVBQU0sSUFBSWcwRSxHQVFwQixPQU5JaDBFLEVBQUlpMEUsTUFBUXgxRSxLQUFLdzFFLE1BQ2pCajBFLEVBQUl3OEIsTUFBUS85QixLQUFLKzlCLE1BQ2pCeDhCLEVBQUlzOEMsUUFBVTc5QyxLQUFLNjlDLFFBQ25CdDhDLEVBQUkwaUMsT0FBU2prQyxLQUFLaWtDLE9BQ2xCMWlDLEVBQUlpc0MsUUFBVXh0QyxLQUFLd3RDLFFBRVpqc0MsR0FNZmcwRSxHQUFBdmlGLFVBQUlzN0IsTUFBQSxXQVFJdHVCLEtBQUt3MUUsTUFBUSxTQVFieDFFLEtBQUsrOUIsTUFBUSxFQVFiLzlCLEtBQUs2OUMsUUFBVXVGLEdBQVF3QixNQVF2QjVrRCxLQUFLaWtDLE9BQVMsS0FRZGprQyxLQUFLd3RDLFNBQVUsR0FNdkIrbkMsR0FBQXZpRixVQUFJd3NDLFFBQUEsV0FFSXgvQixLQUFLNjlDLFFBQVUsS0FDZjc5QyxLQUFLaWtDLE9BQVMsTUMvRXRCLElBQXFCd3hDLEdBU2pCLFNBQVlDLEVBQU83d0IsRUFBa0I4d0IsRUFBa0IxeEMsa0JBQXhCLHFCQUFrQixxQkFBZSxNQU01RGprQyxLQUFLMDFFLE1BQVFBLEVBTWIxMUUsS0FBSzIxRSxVQUFZQSxFQU1qQjMxRSxLQUFLNmtELFVBQVlBLEVBTWpCN2tELEtBQUtpa0MsT0FBU0EsRUFNZGprQyxLQUFLbkYsS0FBTzY2RSxFQUFNNzZFLEtBTWxCbUYsS0FBSzhxQyxPQUFTLEdBTWQ5cUMsS0FBS3lRLE1BQVEsSUFRckJnbEUsR0FBQXppRixVQUFJNHVDLE1BQUEsV0FFQSxPQUFXLElBQUk2ekMsR0FDWHoxRSxLQUFTMDFFLE1BQ1QxMUUsS0FBUzZrRCxVQUNUN2tELEtBQVMyMUUsVUFDVDMxRSxLQUFTaWtDLFNBT2pCd3hDLEdBQUF6aUYsVUFBSXdzQyxRQUFBLFdBRUl4L0IsS0FBSzAxRSxNQUFRLEtBQ2IxMUUsS0FBS3lRLE1BQU05WixPQUFTLEVBQ3BCcUosS0FBS3lRLE1BQVEsS0FDYnpRLEtBQUs4cUMsT0FBT24wQyxPQUFTLEVBQ3JCcUosS0FBSzhxQyxPQUFTLEtBQ2Q5cUMsS0FBSzIxRSxVQUFZLEtBQ2pCMzFFLEtBQUs2a0QsVUFBWSxNQ3pFekIsSUFBQSt3QixHQUFlLENBRVhDLE1BQUEsU0FBTUMsR0FHRmx6RCxJQUlJNFMsRUFDQUMsRUFMRXNnRCxFQUFhRCxFQUFhSixNQUMxQjVxQyxFQUFTZ3JDLEVBQWFockMsT0FDdEJ0Z0MsRUFBSXVyRSxFQUFXdnJFLEVBQ2ZDLEVBQUlzckUsRUFBV3RyRSxFQWtCckIsR0FkQXFnQyxFQUFPbjBDLE9BQVMsRUFHWm0vRSxFQUFhajdFLE9BQVM0bkMsR0FBT0csTUFFN0JwTixFQUFRdWdELEVBQVcxckMsT0FDbkI1VSxFQUFTc2dELEVBQVcxckMsU0FJcEI3VSxFQUFRdWdELEVBQVd2Z0QsTUFDbkJDLEVBQVNzZ0QsRUFBV3RnRCxRQUdWLElBQVZELEdBQTBCLElBQVhDLEVBQW5CLENBS0EzUyxJQUFJa3pELEVBQVlwcUUsS0FBSzhYLE1BQU0sR0FBSzlYLEtBQUtrNUIsS0FBS2l4QyxFQUFXMXJDLFVBQzlDeitCLEtBQUs4WCxNQUFNLEdBQUs5WCxLQUFLazVCLEtBQUtpeEMsRUFBV3ZnRCxNQUFRdWdELEVBQVd0Z0QsU0FFL0R1Z0QsR0FBYSxJQUliLElBRkFwekQsSUFBTXF6RCxFQUFpQixFQUFWcnFFLEtBQUswMkIsR0FBVTB6QyxFQUVuQnQvRSxFQUFJLEVBQUdBLEVBQUlzL0UsRUFBV3QvRSxJQUUzQm8wQyxFQUFPcjJDLEtBQ0grVixFQUFLb0IsS0FBS2k0QixLQUFLb3lDLEVBQU12L0UsR0FBSzgrQixFQUMxQi9xQixFQUFLbUIsS0FBS2c0QixLQUFLcXlDLEVBQU12L0UsR0FBSysrQixHQUlsQ3FWLEVBQU9yMkMsS0FDSHEyQyxFQUFPLEdBQ1BBLEVBQU8sTUFJZm9yQyxZQUFBLFNBQVlKLEVBQWNLLEdBRXRCdnpELElBQU1rb0IsRUFBU2dyQyxFQUFhaHJDLE9BQ3RCc3JDLEVBQVFELEVBQWlCcnJDLE9BQ3pCcE0sRUFBVXkzQyxFQUFpQnozQyxRQUU3QjIzQyxFQUFVRCxFQUFNei9FLE9BQVMsRUFDdkIyL0UsRUFBU0QsRUFFZkQsRUFBTTNoRixLQUFLcWhGLEVBQWFKLE1BQU1sckUsRUFBR3NyRSxFQUFhSixNQUFNanJFLEdBRXBELElBQUtxWSxJQUFJcHNCLEVBQUksRUFBR0EsRUFBSW8wQyxFQUFPbjBDLE9BQVFELEdBQUssRUFFcEMwL0UsRUFBTTNoRixLQUFLcTJDLEVBQU9wMEMsR0FBSW8wQyxFQUFPcDBDLEVBQUksSUFHakNnb0MsRUFBUWpxQyxLQUFLNGhGLElBQVdDLEVBQVFELEtDckU3QixTQUFBRSxHQUFVVCxFQUFjSyxHQUUvQkwsRUFBYUgsVUFBVWEsT0EwTy9CLFNBQXlCVixFQUFjSyxHQUVuQ3J6RCxJQUFJcHNCLEVBQUksRUFFRm8wQyxFQUFTZ3JDLEVBQWFockMsUUFBVWdyQyxFQUFhSixNQUFNNXFDLE9BRXpELEdBQXNCLElBQWxCQSxFQUFPbjBDLE9BQWMsT0FFekJpc0IsSUFBTXd6RCxFQUFRRCxFQUFpQnJyQyxPQUN6QnBNLEVBQVV5M0MsRUFBaUJ6M0MsUUFDM0IvbkMsRUFBU20wQyxFQUFPbjBDLE9BQVMsRUFFM0I4L0UsRUFBYUwsRUFBTXovRSxPQUFTLEVBR2hDLElBQUtELEVBQUksRUFBR0EsRUFBSUMsRUFBUUQsSUFDeEIsQ0FDSWtzQixJQUFNOHpELEVBQU01ckMsRUFBaUIsR0FBVHAwQyxFQUFJLElBQ2xCaWdGLEVBQU03ckMsRUFBa0IsR0FBVHAwQyxFQUFJLEdBQVUsR0FFN0JrZ0YsRUFBTTlyQyxFQUFXLEVBQUpwMEMsR0FDYm1nRixFQUFNL3JDLEVBQVksRUFBSnAwQyxFQUFTLEdBRTdCMC9FLEVBQU0zaEYsS0FBS2lpRixFQUFLQyxHQUVoQlAsRUFBTTNoRixLQUFLbWlGLEVBQUtDLEdBRWhCbjRDLEVBQVFqcUMsS0FBS2dpRixJQUFjQSxNQW5RM0JLLENBQWdCaEIsRUFBY0ssR0FrQnRDLFNBQW1CTCxFQUFjSyxHQUU3QnZ6RCxJQUFNOHlELEVBQVFJLEVBQWFKLE1BQ3ZCNXFDLEVBQVNnckMsRUFBYWhyQyxRQUFVNHFDLEVBQU01cUMsT0FBT3R3QyxRQUVqRCxHQUFzQixJQUFsQnN3QyxFQUFPbjBDLE9BRVAsT0FZSmlzQixJQUFNdU8sRUFBUTJrRCxFQUFhSCxVQUdyQm9CLEVBQWEsSUFBSXAxQyxHQUFNbUosRUFBTyxHQUFJQSxFQUFPLElBQ3pDa3NDLEVBQVksSUFBSXIxQyxHQUFNbUosRUFBT0EsRUFBT24wQyxPQUFTLEdBQUltMEMsRUFBT0EsRUFBT24wQyxPQUFTLElBQ3hFc2dGLEVBQWN2QixFQUFNNzZFLE9BQVM0bkMsR0FBT0MsTUFBUWd6QyxFQUFNMXFDLFlBQ2xEa3NDLEVBQWFILEVBQVd2c0UsSUFBTXdzRSxFQUFVeHNFLEdBQUt1c0UsRUFBV3RzRSxJQUFNdXNFLEVBQVV2c0UsRUFHOUUsR0FBSXdzRSxFQUNKLENBRUluc0MsRUFBU0EsRUFBT3R3QyxRQUVaMDhFLElBRUFwc0MsRUFBT2x3QyxNQUNQa3dDLEVBQU9sd0MsTUFDUG84RSxFQUFVOWhGLElBQUk0MUMsRUFBT0EsRUFBT24wQyxPQUFTLEdBQUltMEMsRUFBT0EsRUFBT24wQyxPQUFTLEtBR3BFaXNCLElBQU11MEQsRUFBWUgsRUFBVXhzRSxFQUFvQyxJQUE5QnVzRSxFQUFXdnNFLEVBQUl3c0UsRUFBVXhzRSxHQUNyRDRzRSxFQUFZSixFQUFVdnNFLEVBQW9DLElBQTlCc3NFLEVBQVd0c0UsRUFBSXVzRSxFQUFVdnNFLEdBRTNEcWdDLEVBQU8zbEMsUUFBUWd5RSxFQUFXQyxHQUMxQnRzQyxFQUFPcjJDLEtBQUswaUYsRUFBV0MsR0FHM0J4MEQsSUFBTXd6RCxFQUFRRCxFQUFpQnJyQyxPQUN6Qm4wQyxFQUFTbTBDLEVBQU9uMEMsT0FBUyxFQUMzQjIwRSxFQUFheGdDLEVBQU9uMEMsT0FDcEI4L0UsRUFBYUwsRUFBTXovRSxPQUFTLEVBRzFCNitCLEVBQVFyRSxFQUFNcUUsTUFBUSxFQUd4QmtoRCxFQUFNNXJDLEVBQU8sR0FDYjZyQyxFQUFNN3JDLEVBQU8sR0FDYjhyQyxFQUFNOXJDLEVBQU8sR0FDYityQyxFQUFNL3JDLEVBQU8sR0FDYnVzQyxFQUFNLEVBQ05DLEVBQU0sRUFFTkMsSUFBVVosRUFBTUUsR0FDaEJXLEVBQVFkLEVBQU1FLEVBQ2RhLEVBQVMsRUFDVEMsRUFBUyxFQUNUQyxFQUFTLEVBQ1RDLEVBQVMsRUFFVEMsRUFBT2pzRSxLQUFLazVCLEtBQU15eUMsRUFBUUEsRUFBVUMsRUFBUUEsR0FFaERELEdBQVNNLEVBQ1RMLEdBQVNLLEVBQ1ROLEdBQVMvaEQsRUFDVGdpRCxHQUFTaGlELEVBRVQ1UyxJQUFNazFELEVBQVEzbUQsRUFBTTRtRCxVQUNkQyxFQUFtQixHQUFiLEVBQUlGLEdBQ1Z4dEMsRUFBYSxFQUFSd3RDLEVBR1gxQixFQUFNM2hGLEtBQ0ZpaUYsRUFBT2EsRUFBUVMsRUFDZnJCLEVBQU9hLEVBQVFRLEdBRW5CNUIsRUFBTTNoRixLQUNGaWlGLEVBQU9hLEVBQVFqdEMsRUFDZnFzQyxFQUFPYSxFQUFRbHRDLEdBRW5CLElBQUt4bkIsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUlDLEVBQVMsSUFBS0QsRUFDbEMsQ0FDSWdnRixFQUFNNXJDLEVBQWlCLEdBQVRwMEMsRUFBSSxJQUNsQmlnRixFQUFNN3JDLEVBQWtCLEdBQVRwMEMsRUFBSSxHQUFVLEdBRTdCa2dGLEVBQU05ckMsRUFBVyxFQUFKcDBDLEdBQ2JtZ0YsRUFBTS9yQyxFQUFZLEVBQUpwMEMsRUFBUyxHQUV2QjJnRixFQUFNdnNDLEVBQWlCLEdBQVRwMEMsRUFBSSxJQUNsQjRnRixFQUFNeHNDLEVBQWtCLEdBQVRwMEMsRUFBSSxHQUFVLEdBRTdCNmdGLElBQVVaLEVBQU1FLEdBQ2hCVyxFQUFRZCxFQUFNRSxFQUVkaUIsRUFBT2pzRSxLQUFLazVCLEtBQU15eUMsRUFBUUEsRUFBVUMsRUFBUUEsR0FDNUNELEdBQVNNLEVBQ1RMLEdBQVNLLEVBQ1ROLEdBQVMvaEQsRUFDVGdpRCxHQUFTaGlELEVBRVRpaUQsSUFBV1osRUFBTVMsR0FDakJJLEVBQVNkLEVBQU1TLEVBRWZRLEVBQU9qc0UsS0FBS2s1QixLQUFNMnlDLEVBQVNBLEVBQVdDLEVBQVNBLEdBQy9DRCxHQUFVSSxFQUNWSCxHQUFVRyxFQUlWajFELElBQU14WixHQUFPb3VFLEVBQVFiLElBQVNhLEVBQVFYLEdBQ2hDM3lDLEdBQU9xekMsRUFBUVgsSUFBU1csRUFBUWIsR0FDaEM1eUMsSUFBUXl6QyxFQUFRYixLQUFTYyxFQUFRWCxLQUFXVSxFQUFRWCxLQUFTWSxFQUFRYixHQUNyRXR0RSxJQUxOcXVFLEdBQVVsaUQsR0FLWThoRCxJQUFTSSxFQUFTYixHQUNsQzdtRSxJQVBOeW5FLEdBQVVqaUQsR0FPWW9oRCxJQUFTYSxFQUFTSixHQUNsQ1ksSUFBUVIsRUFBU0osS0FBU0ssRUFBU2IsS0FBV1ksRUFBU2IsS0FBU2MsRUFBU0osR0FFM0VZLEVBQVM5dUUsRUFBSzRHLEVBQU8zRyxFQUFLNjZCLEVBRTlCLEdBQUl0NEIsS0FBS2lELElBQUlxcEUsR0FBUyxHQUVsQkEsR0FBUyxLQUNUOUIsRUFBTTNoRixLQUNGbWlGLEVBQU9XLEVBQVFTLEVBQ2ZuQixFQUFPVyxFQUFRUSxHQUVuQjVCLEVBQU0zaEYsS0FDRm1pRixFQUFPVyxFQUFRanRDLEVBQ2Z1c0MsRUFBT1csRUFBUWx0QyxPQVR2QixDQWNBMW5CLElBQU10VCxHQUFPNDBCLEVBQUsrekMsRUFBT2pvRSxFQUFLOHpCLEdBQU9vMEMsRUFDL0Izb0UsR0FBT2xHLEVBQUt5NkIsRUFBTzE2QixFQUFLNnVFLEdBQU9DLEVBQy9CQyxHQUFVN29FLEVBQUtzbkUsSUFBUXRuRSxFQUFLc25FLElBQVVybkUsRUFBS3NuRSxJQUFRdG5FLEVBQUtzbkUsR0FFMURzQixFQUFTLElBQU0zaUQsRUFBUUEsR0FFdkJtaUQsRUFBU0osRUFBUUUsRUFDakJHLEVBQVNKLEVBQVFFLEVBRWpCRyxFQUFPanNFLEtBQUtrNUIsS0FBTTZ5QyxFQUFTQSxFQUFXQyxFQUFTQSxHQUMvQ0QsR0FBVUUsRUFDVkQsR0FBVUMsRUFDVkYsR0FBVW5pRCxFQUNWb2lELEdBQVVwaUQsRUFFVjRnRCxFQUFNM2hGLEtBQUttaUYsRUFBT2UsRUFBU0ssRUFBS25CLEVBQU9lLEVBQVNJLEdBRWhENUIsRUFBTTNoRixLQUFLbWlGLEVBQU9lLEVBQVNydEMsRUFBS3VzQyxFQUFPZSxFQUFTdHRDLEdBRWhEOHJDLEVBQU0zaEYsS0FBS21pRixFQUFPZSxFQUFTcnRDLEVBQUswdEMsRUFBS25CLEVBQU9lLEVBQVNJLEdBRXJEMU0sTUFJQThLLEVBQU0zaEYsS0FBS21pRixHQUFRdG5FLEVBQUtzbkUsR0FBT29CLEVBQUtuQixHQUFRdG5FLEVBQUtzbkUsR0FBT21CLEdBRXhENUIsRUFBTTNoRixLQUFLbWlGLEdBQVF0bkUsRUFBS3NuRSxHQUFPdHNDLEVBQUt1c0MsR0FBUXRuRSxFQUFLc25FLEdBQU92c0MsS0FJaEVvc0MsRUFBTTVyQyxFQUFzQixHQUFkbjBDLEVBQVMsSUFDdkJnZ0YsRUFBTTdyQyxFQUF1QixHQUFkbjBDLEVBQVMsR0FBVSxHQUVsQ2lnRixFQUFNOXJDLEVBQXNCLEdBQWRuMEMsRUFBUyxJQUN2QmtnRixFQUFNL3JDLEVBQXVCLEdBQWRuMEMsRUFBUyxHQUFVLEdBRWxDNGdGLElBQVVaLEVBQU1FLEdBQ2hCVyxFQUFRZCxFQUFNRSxFQUVkaUIsRUFBT2pzRSxLQUFLazVCLEtBQU15eUMsRUFBUUEsRUFBVUMsRUFBUUEsR0FDNUNELEdBQVNNLEVBQ1RMLEdBQVNLLEVBQ1ROLEdBQVMvaEQsRUFDVGdpRCxHQUFTaGlELEVBRVQ0Z0QsRUFBTTNoRixLQUFLbWlGLEVBQU9XLEVBQVFTLEVBQUtuQixFQUFPVyxFQUFRUSxHQUU5QzVCLEVBQU0zaEYsS0FBS21pRixFQUFPVyxFQUFRanRDLEVBQUt1c0MsRUFBT1csRUFBUWx0QyxHQU05QyxJQUpBMW5CLElBQU04YixFQUFVeTNDLEVBQWlCejNDLFFBSXhCaG9DLEVBQUksRUFBR0EsRUFBSTQwRSxFQUFhLElBQUs1MEUsRUFFbENnb0MsRUFBUWpxQyxLQUFLZ2lGLEVBQVlBLEVBQWEsRUFBR0EsRUFBYSxHQUV0REEsSUF0TkFGLENBQVVULEVBQWNLLEdDUGhDLElBQUFpQyxHQUFlLENBRVh2QyxNQUFBLFNBQU1DLEdBRUZBLEVBQWFockMsT0FBU2dyQyxFQUFhSixNQUFNNXFDLE9BQU90d0MsU0FHcEQwN0UsWUFBQSxTQUFZSixFQUFjSyxHQUV0QnJ6RCxJQUFJZ29CLEVBQVNnckMsRUFBYWhyQyxPQUNwQnI2QixFQUFRcWxFLEVBQWFybEUsTUFDckIybEUsRUFBUUQsRUFBaUJyckMsT0FDekJwTSxFQUFVeTNDLEVBQWlCejNDLFFBRWpDLEdBQUlvTSxFQUFPbjBDLFFBQVUsRUFDckIsQ0FJSSxJQUhBaXNCLElBQU15MUQsRUFBWSxHQUdUM2hGLEVBQUksRUFBR0EsRUFBSStaLEVBQU05WixPQUFRRCxJQUNsQyxDQUNJa3NCLElBQU14VSxFQUFPcUMsRUFBTS9aLEdBRW5CMmhGLEVBQVU1akYsS0FBS3EyQyxFQUFPbjBDLE9BQVMsR0FDL0JtMEMsRUFBU0EsRUFBTzl2QyxPQUFPb1QsRUFBSzA4QixRQUloQ2xvQixJQUFNN1gsRUFBWXV0RSxJQUFPeHRDLEVBQVF1dEMsRUFBVyxHQUU1QyxJQUFLdHRFLEVBRUQsT0FLSixJQUZBNlgsSUFBTXl6RCxFQUFVRCxFQUFNei9FLE9BQVMsRUFFdEJELEVBQUksRUFBR0EsRUFBSXFVLEVBQVVwVSxPQUFRRCxHQUFLLEVBRXZDZ29DLEVBQVFqcUMsS0FBS3NXLEVBQVVyVSxHQUFLMi9FLEdBQzVCMzNDLEVBQVFqcUMsS0FBS3NXLEVBQVVyVSxFQUFJLEdBQUsyL0UsR0FDaEMzM0MsRUFBUWpxQyxLQUFLc1csRUFBVXJVLEVBQUksR0FBSzIvRSxHQUdwQyxJQUFLdnpELElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJbzBDLEVBQU9uMEMsT0FBUUQsSUFFL0IwL0UsRUFBTTNoRixLQUFLcTJDLEVBQU9wMEMsT0M5Q2xDNmhGLEdBQWUsQ0FFWDFDLE1BQUEsU0FBTUMsR0FFRmx6RCxJQUFNNDFELEVBQVkxQyxFQUFhSixNQUN6QjVxQyxFQUFTZ3JDLEVBQWFockMsT0FDdEJ0Z0MsRUFBSWd1RSxFQUFVaHVFLEVBQ2RDLEVBQUkrdEUsRUFBVS90RSxFQUNkK3FCLEVBQVFnakQsRUFBVWhqRCxNQUNsQkMsRUFBUytpRCxFQUFVL2lELE9BRW5CNFUsRUFBU211QyxFQUFVbnVDLE9BRXpCUyxFQUFPbjBDLE9BQVMsRUFFaEI4aEYsR0FBcUJqdUUsRUFBR0MsRUFBSTQvQixFQUN4QjcvQixFQUFHQyxFQUNIRCxFQUFJNi9CLEVBQVE1L0IsRUFDWnFnQyxHQUNKMnRDLEdBQXFCanVFLEVBQUlnckIsRUFBUTZVLEVBQzdCNS9CLEVBQUdELEVBQUlnckIsRUFBTy9xQixFQUNkRCxFQUFJZ3JCLEVBQU8vcUIsRUFBSTQvQixFQUNmUyxHQUNKMnRDLEdBQXFCanVFLEVBQUlnckIsRUFBTy9xQixFQUFJZ3JCLEVBQVM0VSxFQUN6QzcvQixFQUFJZ3JCLEVBQU8vcUIsRUFBSWdyQixFQUNmanJCLEVBQUlnckIsRUFBUTZVLEVBQVE1L0IsRUFBSWdyQixFQUN4QnFWLEdBQ0oydEMsR0FBcUJqdUUsRUFBSTYvQixFQUFRNS9CLEVBQUlnckIsRUFDakNqckIsRUFBR0MsRUFBSWdyQixFQUNQanJCLEVBQUdDLEVBQUlnckIsRUFBUzRVLEVBQ2hCUyxJQU1Sb3JDLFlBQUEsU0FBWUosRUFBY0ssR0FXdEIsSUFUQXZ6RCxJQUFNa29CLEVBQVNnckMsRUFBYWhyQyxPQUV0QnNyQyxFQUFRRCxFQUFpQnJyQyxPQUN6QnBNLEVBQVV5M0MsRUFBaUJ6M0MsUUFFM0JnNkMsRUFBU3RDLEVBQU16L0UsT0FBUyxFQUV4Qm9VLEVBQVl1dEUsSUFBT3h0QyxFQUFRLEtBQU0sR0FFOUJwMEMsRUFBSSxFQUFHd0QsRUFBSTZRLEVBQVVwVSxPQUFRRCxFQUFJd0QsRUFBR3hELEdBQUssRUFFOUNnb0MsRUFBUWpxQyxLQUFLc1csRUFBVXJVLEdBQUtnaUYsR0FFNUJoNkMsRUFBUWpxQyxLQUFLc1csRUFBVXJVLEVBQUksR0FBS2dpRixHQUVoQ2g2QyxFQUFRanFDLEtBQUtzVyxFQUFVclUsRUFBSSxHQUFLZ2lGLEdBR3BDLElBQUs1MUQsSUFBSXBzQixFQUFJLEVBQUd3RCxFQUFJNHdDLEVBQU9uMEMsT0FBUUQsRUFBSXdELEVBQUd4RCxJQUV0QzAvRSxFQUFNM2hGLEtBQUtxMkMsRUFBT3AwQyxHQUFJbzBDLElBQVNwMEMsTUFrQjNDLFNBQVNpaUYsR0FBTUMsRUFBSUMsRUFBSUMsR0FJbkIsT0FBT0YsR0FGTUMsRUFBS0QsR0FFRUUsRUFvQnhCLFNBQVNMLEdBQXFCTSxFQUFPQyxFQUFPQyxFQUFLQyxFQUFLQyxFQUFLQyxFQUFLdHVELGtCQUFNLElBWWxFLElBVkFsSSxJQUNNa29CLEVBQVNoZ0IsRUFFWHV1RCxFQUFLLEVBQ0xDLEVBQUssRUFDTEMsRUFBSyxFQUNMQyxFQUFLLEVBQ0xodkUsRUFBSSxFQUNKQyxFQUFJLEVBRUMvVCxFQUFJLEVBQUd3RCxFQUFJLEVBQUd4RCxHQVZiLEtBVXVCQSxFQUs3QjJpRixFQUFLVixHQUFNSSxFQUFPRSxFQUhsQi8rRSxFQUFJeEQsRUFaRSxJQWdCTjRpRixFQUFLWCxHQUFNSyxFQUFPRSxFQUFLaC9FLEdBQ3ZCcS9FLEVBQUtaLEdBQU1NLEVBQUtFLEVBQUtqL0UsR0FDckJzL0UsRUFBS2IsR0FBTU8sRUFBS0UsRUFBS2wvRSxHQUdyQnNRLEVBQUltdUUsR0FBTVUsRUFBSUUsRUFBSXIvRSxHQUNsQnVRLEVBQUlrdUUsR0FBTVcsRUFBSUUsRUFBSXQvRSxHQUVsQjR3QyxFQUFPcjJDLEtBQUsrVixFQUFHQyxHQUduQixPQUFPcWdDLEVDaklYbG9CLElBQU02MkQsR0FBYSxHQUNiQyxHQUFpQixHQVFqQkMsR0FBZSxHQUVyQkEsR0FBYWwzQyxHQUFPQyxNQUFRMDFDLEdBQzVCdUIsR0FBYWwzQyxHQUFPRyxNQUFRZ3pDLEdBQzVCK0QsR0FBYWwzQyxHQUFPSSxNQUFRK3lDLEdBQzVCK0QsR0FBYWwzQyxHQUFPRSxNQ2hCTCxDQUVYa3pDLE1BQUEsU0FBTUMsR0FLRmx6RCxJQUFNZzNELEVBQVc5RCxFQUFhSixNQUN4QmxyRSxFQUFJb3ZFLEVBQVNwdkUsRUFDYkMsRUFBSW12RSxFQUFTbnZFLEVBQ2IrcUIsRUFBUW9rRCxFQUFTcGtELE1BQ2pCQyxFQUFTbWtELEVBQVNua0QsT0FFbEJxVixFQUFTZ3JDLEVBQWFockMsT0FFNUJBLEVBQU9uMEMsT0FBUyxFQUVoQm0wQyxFQUFPcjJDLEtBQUsrVixFQUFHQyxFQUNYRCxFQUFJZ3JCLEVBQU8vcUIsRUFDWEQsRUFBSWdyQixFQUFPL3FCLEVBQUlnckIsRUFDZmpyQixFQUFHQyxFQUFJZ3JCLElBR2Z5Z0QsWUFBQSxTQUFZSixFQUFjSyxHQUV0QnZ6RCxJQUFNa29CLEVBQVNnckMsRUFBYWhyQyxPQUN0QnNyQyxFQUFRRCxFQUFpQnJyQyxPQUV6QnVyQyxFQUFVRCxFQUFNei9FLE9BQVMsRUFFL0J5L0UsRUFBTTNoRixLQUFLcTJDLEVBQU8sR0FBSUEsRUFBTyxHQUN6QkEsRUFBTyxHQUFJQSxFQUFPLEdBQ2xCQSxFQUFPLEdBQUlBLEVBQU8sR0FDbEJBLEVBQU8sR0FBSUEsRUFBTyxJQUV0QnFyQyxFQUFpQnozQyxRQUFRanFDLEtBQUs0aEYsRUFBU0EsRUFBVSxFQUFHQSxFQUFVLEVBQzFEQSxFQUFVLEVBQUdBLEVBQVUsRUFBR0EsRUFBVSxLRG5CaERzRCxHQUFhbDNDLEdBQU9LLE1BQVF5MUMsR0FPNUIsSUFBTXNCLEdBRUYsV0FFSTc1RSxLQUFLbXhCLE1BQVEsS0FDYm54QixLQUFLdytCLEtBQU8sRUFDWngrQixLQUFLa0wsTUFBUSxFQUNibEwsS0FBSzg1RSxZQUFjLEVBQ25COTVFLEtBQUt1ekQsV0FBYSxHQWVMd21CLEdBQWdCLFNBQUFoUixHQUVqQyxTQUFBaVIsSUFFSTFzQyxPQUFLdHRDLE1BUUxBLEtBQUs4cUMsT0FBUyxHQVFkOXFDLEtBQUtpNkUsT0FBUyxHQVFkajZFLEtBQUswb0QsSUFBTSxHQVFYMW9ELEtBQUswK0IsUUFBVSxHQVFmMStCLEtBQUtrNkUsV0FBYSxHQVFsQmw2RSxLQUFLODFFLGFBQWUsR0FTcEI5MUUsS0FBSzQ4QyxNQUFRLEVBUWI1OEMsS0FBS202RSxZQUFjLEVBUW5CbjZFLEtBQUtvNkUsWUFBYyxFQVNuQnA2RSxLQUFLcTZFLFdBQWEsRUFRbEJyNkUsS0FBS3M2RSxVQUFZLEdBU2pCdDZFLEtBQUt1NkUsUUFBVSxHQVFmdjZFLEtBQUt3NkUsV0FBYSxFQVFsQng2RSxLQUFLZ3VDLFFBQVUsSUFBSXZDLEdBUW5CenJDLEtBQUt5NkUsYUFBZSxFQVFwQno2RSxLQUFLMDZFLGNBQWdCLEVBRXJCMTZFLEtBQUsyNkUsV0FBWSxFQUVqQjM2RSxLQUFLNDZFLGNBQWdCLEtBRXJCNTZFLEtBQUswaUQsV0FBYSxvSUFTdEJ2WixFQUFJeUQsT0FBQTMzQyxJQUFBLFdBUUEsT0FOSStLLEtBQUt5NkUsY0FBZ0J6NkUsS0FBSzQ4QyxRQUUxQjU4QyxLQUFLeTZFLFlBQWN6NkUsS0FBSzQ4QyxNQUN4QjU4QyxLQUFLOHVDLG1CQUdGOXVDLEtBQUtndUMscUJBUWhCM04sTUFBQSxXQUVJLEdBQUlyZ0MsS0FBSzgxRSxhQUFhbi9FLE9BQVMsRUFDL0IsQ0FDSXFKLEtBQUt5NkUsYUFBZSxFQUNwQno2RSxLQUFLNDhDLFFBQ0w1OEMsS0FBS3E2RSxhQUNMcjZFLEtBQUttNkUsYUFDTG42RSxLQUFLODFFLGFBQWFuL0UsT0FBUyxFQUMzQnFKLEtBQUt3NkUsV0FBYSxFQUVsQng2RSxLQUFLOHFDLE9BQU9uMEMsT0FBUyxFQUNyQnFKLEtBQUtpNkUsT0FBT3RqRixPQUFTLEVBQ3JCcUosS0FBSzBvRCxJQUFJL3hELE9BQVMsRUFDbEJxSixLQUFLMCtCLFFBQVEvbkMsT0FBUyxFQUN0QnFKLEtBQUtrNkUsV0FBV3ZqRixPQUFTLEVBRXpCLElBQUttc0IsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUlzSixLQUFLczZFLFVBQVUzakYsT0FBUUQsSUFFdkNzSixLQUFLczZFLFVBQVU1akYsR0FBR3kxRCxTQUFTeDFELE9BQVMsRUFDcEMraUYsR0FBZWpsRixLQUFLdUwsS0FBS3M2RSxVQUFVNWpGLElBR3ZDc0osS0FBS3M2RSxVQUFVM2pGLE9BQVMsRUFFeEIsSUFBS21zQixJQUFJcHNCLEVBQUksRUFBR0EsRUFBSXNKLEtBQUt1NkUsUUFBUTVqRixPQUFRRCxJQUN6QyxDQUNJa3NCLElBQU1ndkIsRUFBUzV4QyxLQUFLdTZFLFFBQVE3akYsR0FFNUJrN0MsRUFBTTFtQyxNQUFRLEVBQ2QwbUMsRUFBTWtvQyxZQUFjLEVBQ3BCbG9DLEVBQU16Z0IsTUFBUSxLQUNkc29ELEdBQVdobEYsS0FBS205QyxHQUdwQjV4QyxLQUFLdTZFLFFBQVE1akYsT0FBUyxFQUcxQixPQUFPcUosa0JBWVg2NkUsVUFBQSxTQUFVbkYsRUFBTzd3QixFQUFXOHdCLEVBQVcxeEMsR0FFbkNyaEIsSUFBTWpyQixFQUFPLElBQUk4OUUsR0FBYUMsRUFBTzd3QixFQUFXOHdCLEVBQVcxeEMsR0FLM0QsT0FIQWprQyxLQUFLODFFLGFBQWFyaEYsS0FBS2tELEdBQ3ZCcUksS0FBSzQ4QyxRQUVFNThDLGtCQVVYODZFLFNBQUEsU0FBU3BGLEVBQU96eEMsR0FFWixJQUFLamtDLEtBQUs4MUUsYUFBYW4vRSxPQUVuQixPQUFPLEtBR1hpc0IsSUFBTWpyQixFQUFPLElBQUk4OUUsR0FBYUMsRUFBTyxLQUFNLEtBQU16eEMsR0FFM0M4MkMsRUFBWS82RSxLQUFLODFFLGFBQWE5MUUsS0FBSzgxRSxhQUFhbi9FLE9BQVMsR0FRL0QsT0FOQWdCLEVBQUtnK0UsVUFBWW9GLEVBQVVwRixVQUUzQm9GLEVBQVV0cUUsTUFBTWhjLEtBQUtrRCxHQUVyQnFJLEtBQUs0OEMsUUFFRWpsRCxlQWVYNm5DLFFBQUEsU0FBUXhsQyxHQUVKc3pDLFlBQU05TixRQUFBdHNDLEtBQU84TSxLQUFDaEcsR0FHZCxJQUFLOG9CLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJc0osS0FBSzgxRSxhQUFhbi9FLFNBQVVELEVBRTVDc0osS0FBSzgxRSxhQUFhcC9FLEdBQUc4b0MsVUFHekJ4L0IsS0FBSzhxQyxPQUFPbjBDLE9BQVMsRUFDckJxSixLQUFLOHFDLE9BQVMsS0FDZDlxQyxLQUFLaTZFLE9BQU90akYsT0FBUyxFQUNyQnFKLEtBQUtpNkUsT0FBUyxLQUNkajZFLEtBQUswb0QsSUFBSS94RCxPQUFTLEVBQ2xCcUosS0FBSzBvRCxJQUFNLEtBQ1gxb0QsS0FBSzArQixRQUFRL25DLE9BQVMsRUFDdEJxSixLQUFLMCtCLFFBQVUsS0FDZjErQixLQUFLd21ELFlBQVlobkIsVUFDakJ4L0IsS0FBS3dtRCxZQUFjLEtBQ25CeG1ELEtBQUs4MUUsYUFBYW4vRSxPQUFTLEVBQzNCcUosS0FBSzgxRSxhQUFlLEtBQ3BCOTFFLEtBQUtzNkUsVUFBVTNqRixPQUFTLEVBQ3hCcUosS0FBS3M2RSxVQUFZLEtBQ2pCdDZFLEtBQUt1NkUsUUFBUTVqRixPQUFTLEVBQ3RCcUosS0FBS3U2RSxRQUFVLEtBQ2Z2NkUsS0FBS2d1QyxRQUFVLGtCQVNuQjZrQyxjQUFBLFNBQWM5bUMsR0FJVixJQUZBbnBCLElBQU1rekQsRUFBZTkxRSxLQUFLODFFLGFBRWpCcC9FLEVBQUksRUFBR0EsRUFBSW8vRSxFQUFhbi9FLFNBQVVELEVBQzNDLENBQ0lrc0IsSUFBTWpyQixFQUFPbStFLEVBQWFwL0UsR0FFMUIsR0FBS2lCLEVBQUtrdEQsVUFBVXJYLFVBTWhCNzFDLEVBQUsrOUUsT0FFRC85RSxFQUFLKzlFLE1BQU1sc0MsU0FBU3VDLEVBQU12aEMsRUFBR3VoQyxFQUFNdGhDLElBQ3ZDLENBQ0ksR0FBSTlTLEVBQUs4WSxNQUVMLElBQUtxUyxJQUFJcHNCLEVBQUksRUFBR0EsRUFBSWlCLEVBQUs4WSxNQUFNOVosT0FBUUQsSUFDdkMsQ0FHSSxHQUZhaUIsRUFBSzhZLE1BQU0vWixHQUVmZy9FLE1BQU1sc0MsU0FBU3VDLEVBQU12aEMsRUFBR3VoQyxFQUFNdGhDLEdBRW5DLE9BQU8sRUFLbkIsT0FBTyxHQUtuQixPQUFPLGVBUVh1d0UsY0FBQSxXQUVJLEdBQUloN0UsS0FBSzQ4QyxRQUFVNThDLEtBQUtvNkUsWUFDUyxJQUE3QnA2RSxLQUFLODFFLGFBQWFuL0UsT0FBdEIsQ0FFQSxHQUFJcUosS0FBSzQ4QyxRQUFVNThDLEtBQUtvNkUsV0FFcEIsSUFBS3QzRCxJQUFJcHNCLEVBQUksRUFBR0EsRUFBSXNKLEtBQUs4MUUsYUFBYW4vRSxPQUFRRCxJQUM5QyxDQUNJa3NCLElBQU1qckIsRUFBT3FJLEtBQUs4MUUsYUFBYXAvRSxHQUUvQixHQUFJaUIsRUFBS2t0RCxZQUFjbHRELEVBQUtrdEQsVUFBVWhILFFBQVE1RSxZQUFZRyxNQUFPLE9BQ2pFLEdBQUl6aEQsRUFBS2crRSxZQUFjaCtFLEVBQUtnK0UsVUFBVTkzQixRQUFRNUUsWUFBWUcsTUFBTyxPQUl6RXA1QyxLQUFLbzZFLFdBQWFwNkUsS0FBSzQ4QyxNQUV2Qmg2QixJQUFNOGxDLEVBQU0xb0QsS0FBSzBvRCxJQUVidXlCLEVBQVlqN0UsS0FBS3U2RSxRQUFRMy9FLE9BQ3RCNitFLEdBQVc3K0UsT0FDWCxJQUFJaS9FLEdBRVhvQixFQUFVOXBELE1BQVE4cEQsRUFBVTlwRCxPQUNyQm54QixLQUFLODFFLGFBQWEsR0FBR2p4QixXQUNyQjdrRCxLQUFLODFFLGFBQWEsR0FBR0gsVUFFNUI3eUQsSUFBSXNvRCxFQUFpQjZQLEVBQVU5cEQsTUFBTTBzQixRQUFRNUUsWUFDekNpaUMsRUFBZUQsRUFBVTlwRCxNQUFNcWtELE1BQVF5RixFQUFVOXBELE1BQU00TSxNQUUzRC85QixLQUFLdTZFLFFBQVE5bEYsS0FBS3dtRixHQUdsQixJQUFLbjRELElBQUlwc0IsRUFBSXNKLEtBQUt3NkUsV0FBWTlqRixFQUFJc0osS0FBSzgxRSxhQUFhbi9FLE9BQVFELElBQzVELENBQ0lzSixLQUFLdzZFLGFBRUw1M0QsSUFBTWpyQixFQUFPcUksS0FBSzgxRSxhQUFhcC9FLEdBQ3pCeWtGLEVBQVV4QixHQUFhaGlGLEVBQUtrRCxNQUU1QmdxRCxFQUFZbHRELEVBQUtrdEQsVUFDakI4d0IsRUFBWWgrRSxFQUFLZytFLFVBR3ZCd0YsRUFBUXRGLE1BQU1sK0UsR0FFVkEsRUFBS3NzQyxRQUVMamtDLEtBQUtvN0UsZ0JBQWdCempGLEVBQUttekMsT0FBUW56QyxFQUFLc3NDLFFBRzNDLElBQUtuaEIsSUFBSTVvQixFQUFJLEVBQUdBLEVBQUksRUFBR0EsSUFDdkIsQ0FDSTBvQixJQUFNdU8sRUFBZSxJQUFOajNCLEVBQVcycUQsRUFBWTh3QixFQUV0QyxHQUFLeGtELEVBQU1xYyxRQUFYLENBRUE1cUIsSUFBTXVvRCxFQUFjaDZDLEVBQU0wc0IsUUFBUTVFLFlBRWxDLEdBQUlteUIsSUFBbUJELEdBQWdCaDZDLEVBQU1xa0QsTUFBUXJrRCxFQUFNNE0sUUFBV205QyxFQUN0RSxDQUVJL1AsRUFBWWx2QixTQUFXLE1BQ3ZCbXZCLEVBQWlCRCxFQUNqQitQLEVBQWUvcEQsRUFBTXFrRCxNQUFRcmtELEVBQU00TSxNQUVuQ25iLElBQU1uRyxFQUFRemMsS0FBSzArQixRQUFRL25DLE9BQ3JCMGtGLEVBQWNyN0UsS0FBSzhxQyxPQUFPbjBDLE9BQVMsRUFFekNza0YsRUFBVXo4QyxLQUFPL2hCLEVBQVF3K0QsRUFBVS92RSxNQUNuQyt2RSxFQUFVMW5CLFdBQWE4bkIsRUFBY0osRUFBVW5CLFlBRTNDbUIsRUFBVXo4QyxLQUFPLElBRWpCeThDLEVBQVl4QixHQUFXNytFLE9BQVMsSUFBSWkvRSxHQUVwQzc1RSxLQUFLdTZFLFFBQVE5bEYsS0FBS3dtRixJQUd0QkEsRUFBVTlwRCxNQUFRQSxFQUNsQjhwRCxFQUFVL3ZFLE1BQVF1UixFQUNsQncrRCxFQUFVbkIsWUFBY3VCLEVBSzVCejRELElBQU0xWCxFQUFRbEwsS0FBSzhxQyxPQUFPbjBDLE9BQVMsRUFFbkMsR0FBVSxJQUFOdUQsRUFFSXZDLEVBQUs4WSxNQUFNOVosUUFFWHFKLEtBQUtzN0UsYUFBYTNqRixFQUFLOFksT0FFdkIybkUsR0FBVWxDLFlBQVl2K0UsRUFBTXFJLE9BSTVCbTdFLEVBQVFqRixZQUFZditFLEVBQU1xSSxVQUlsQyxDQUNJdTJFLEdBQVU1K0UsRUFBTXFJLE1BRWhCLElBQUs4aUIsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUlpQixFQUFLOFksTUFBTTlaLE9BQVFELElBRW5DNi9FLEdBQVU1K0UsRUFBSzhZLE1BQU0vWixHQUFJc0osTUFJakM0aUIsSUFBTTRiLEVBQVF4K0IsS0FBSzhxQyxPQUFPbjBDLE9BQVMsRUFBS3VVLEVBRXhDbEwsS0FBS3U3RSxPQUFPdjdFLEtBQUs4cUMsT0FBUTRkLEVBQUt2M0IsRUFBTTBzQixRQUFTM3lDLEVBQU9zekIsRUFBTXJOLEVBQU04UyxVQUl4RXJoQixJQUFNbkcsRUFBUXpjLEtBQUswK0IsUUFBUS9uQyxPQUNyQm14RCxFQUFTOW5ELEtBQUs4cUMsT0FBT24wQyxPQUFTLEVBU3BDLEdBUEFza0YsRUFBVXo4QyxLQUFPL2hCLEVBQVF3K0QsRUFBVS92RSxNQUNuQyt2RSxFQUFVMW5CLFdBQWF6TCxFQUFTbXpCLEVBQVVuQixZQUMxQzk1RSxLQUFLNDZFLGNBQWdCLElBQUk5MkQsWUFBWTlqQixLQUFLMCtCLFNBRzFDMStCLEtBQUsyNkUsVUFBWTM2RSxLQUFLdzdFLGNBRWxCeDdFLEtBQUsyNkUsVUFDVCxDQUNJMzZFLEtBQUttNkUsYUFFTG42RSxLQUFLMGlELFdBQWEsSUFBSTkrQixhQUFhNWpCLEtBQUswb0QsS0FHeEMsSUFBSzVsQyxJQUFJcHNCLEVBQUksRUFBR0EsRUFBSXNKLEtBQUt1NkUsUUFBUTVqRixPQUFRRCxJQUlyQyxJQUZBa3NCLElBQU1ndkIsRUFBUTV4QyxLQUFLdTZFLFFBQVE3akYsR0FFbEJ3RCxFQUFJLEVBQUdBLEVBQUkwM0MsRUFBTXBULEtBQU10a0MsSUFDaEMsQ0FDSTBvQixJQUFNbkcsRUFBUW0xQixFQUFNMW1DLE1BQVFoUixFQUU1QjhGLEtBQUs0NkUsY0FBY24rRCxHQUFTemMsS0FBSzQ2RSxjQUFjbitELEdBQVNtMUIsRUFBTWtvQyxrQkFNdEU5NUUsS0FBS3k3RSwrQkFTYkQsWUFBQSxXQUlJLElBRkE1NEQsSUFBTTIzRCxFQUFVdjZFLEtBQUt1NkUsUUFFWjdqRixFQUFJLEVBQUdBLEVBQUk2akYsRUFBUTVqRixPQUFRRCxJQUVoQyxHQUFJNmpGLEVBQVE3akYsR0FBR3k2QixNQUFNcWxELE9BRWpCLE9BQU8sRUFJZixPQUFReDJFLEtBQUs4cUMsT0FBT24wQyxPQUEyQyxFQUFsQ3FqRixFQUFpQjBCLDRCQU9sREQsZUFBQSxXQUlJLElBRkEzNEQsSUFBSTJvRCxJQUFTM3ZCLEdBQVl3QixhQUVoQjVtRCxFQUFJLEVBQUdBLEVBQUlzSixLQUFLczZFLFVBQVUzakYsT0FBUUQsSUFFdkNzSixLQUFLczZFLFVBQVU1akYsR0FBR3kxRCxTQUFTeDFELE9BQVMsRUFDcEMraUYsR0FBZWpsRixLQUFLdUwsS0FBS3M2RSxVQUFVNWpGLElBR3ZDc0osS0FBS3M2RSxVQUFVM2pGLE9BQVMsRUFFeEJpc0IsSUFBTThsQyxFQUFNMW9ELEtBQUswb0QsSUFDWHV4QixFQUFTajZFLEtBQUtpNkUsT0FDZEMsRUFBYWw2RSxLQUFLazZFLFdBRXBCMU8sRUFBZ0JrTyxHQUFlOStFLE9BQVMsSUFBSXN1RSxHQUVoRHNDLEVBQWFoSyxhQUFlLEVBQzVCZ0ssRUFBYXRnRSxNQUFRLEVBQ3JCc2dFLEVBQWFodEMsS0FBTyxFQUNwQmd0QyxFQUFhM3dFLEtBQU82OUIsRUFBV0ssVUFFL0JqVyxJQUFJMCtDLEVBQWUsRUFDZjRKLEVBQWlCLEtBQ2pCVyxFQUFZLEVBQ1p5SyxHQUFTLEVBQ1RtRixFQUFXampELEVBQVdLLFVBRXRCdGMsRUFBUSxFQUVaemMsS0FBS3M2RSxVQUFVN2xGLEtBQUsrMkUsR0FHcEIsSUFBSzFvRCxJQUFJcHNCLEVBQUksRUFBR0EsRUFBSXNKLEtBQUt1NkUsUUFBUTVqRixPQUFRRCxJQUN6QyxDQUNJa3NCLElBQU1qckIsRUFBT3FJLEtBQUt1NkUsUUFBUTdqRixHQUtwQnk2QixFQUFReDVCLEVBQUt3NUIsTUFFYmc2QyxFQUFjaDZDLEVBQU0wc0IsUUFBUTVFLFlBRTlCdTlCLElBQVdybEQsRUFBTXFsRCxTQUdqQm1GLEdBREFuRixFQUFTcmxELEVBQU1xbEQsUUFDSzk5QyxFQUFXRSxNQUFRRixFQUFXSyxVQUdsRHF5QyxFQUFpQixLQUNqQjVKLEVBYmlCLEVBY2pCaUssS0FHQUwsSUFBbUJELElBRW5CQyxFQUFpQkQsRUFFYkEsRUFBWTF1QixnQkFBa0JndkIsSUFyQmpCLElBdUJUakssSUFFQWlLLElBRUFqSyxFQUFlLEVBRVhnSyxFQUFhaHRDLEtBQU8sSUFFcEJndEMsRUFBZWtPLEdBQWU5K0UsT0FBUyxJQUFJc3VFLEdBQzNDbHBFLEtBQUtzNkUsVUFBVTdsRixLQUFLKzJFLElBR3hCQSxFQUFhdGdFLE1BQVF1UixFQUNyQit1RCxFQUFhaHRDLEtBQU8sRUFDcEJndEMsRUFBYWhLLGFBQWUsRUFDNUJnSyxFQUFhM3dFLEtBQU84Z0YsR0FJeEJ4USxFQUFZaHZCLFFBQVUsRUFDdEJndkIsRUFBWTF1QixjQUFnQmd2QixFQUM1Qk4sRUFBWS9tRCxJQUFNbzlDLEVBQ2xCMkosRUFBWWx2QixTQUFXLE1BRXZCdXZCLEVBQWFyZixTQUFTcWYsRUFBYWhLLGdCQUFrQjJKLEVBQ3JEM0osTUFJUmdLLEVBQWFodEMsTUFBUTdtQyxFQUFLNm1DLEtBQzFCL2hCLEdBQVM5a0IsRUFBSzZtQyxLQUVkdXRDLEVBQVlaLEVBQVkvbUQsSUFFeEJwa0IsS0FBSzQ3RSxVQUFVM0IsRUFBUTlvRCxFQUFNcWtELE1BQU9ya0QsRUFBTTRNLE1BQU9wbUMsRUFBSzQ3RCxZQUN0RHZ6RCxLQUFLNjdFLGNBQWMzQixFQUFZbk8sRUFBV3AwRSxFQUFLNDdELFlBR25EelgsR0FBWXdCLGFBQWVtdUIsRUFhM0IsSUFUQTdvRCxJQUFNd3pELEVBQVFwMkUsS0FBSzhxQyxPQUdiZ3hDLEVBQVcsSUFBSW40RCxZQUEyQixFQUFmeXlELEVBQU16L0UsT0FBYSxHQUM5Q29sRixFQUFNLElBQUluNEQsYUFBYWs0RCxHQUN2QkUsRUFBTSxJQUFJbjRELFlBQVlpNEQsR0FFeEJ0akYsRUFBSSxFQUVDOUIsRUFBSSxFQUFHQSxFQUFJMC9FLEVBQU16L0UsT0FBUyxFQUFHRCxJQUVsQ3FsRixFQUFJdmpGLEtBQU80OUUsRUFBVSxFQUFKMS9FLEdBQ2pCcWxGLEVBQUl2akYsS0FBTzQ5RSxFQUFXLEVBQUoxL0UsRUFBUyxHQUUzQnFsRixFQUFJdmpGLEtBQU9rd0QsRUFBUSxFQUFKaHlELEdBQ2ZxbEYsRUFBSXZqRixLQUFPa3dELEVBQVMsRUFBSmh5RCxFQUFTLEdBRXpCc2xGLEVBQUl4akYsS0FBT3loRixFQUFPdmpGLEdBRWxCcWxGLEVBQUl2akYsS0FBTzBoRixFQUFXeGpGLEdBRzFCc0osS0FBS2dwRSxRQUFRbHdFLE9BQU9nakYsR0FDcEI5N0UsS0FBS2lwRSxhQUFhbndFLE9BQU9rSCxLQUFLNDZFLDRCQVNsQ1UsYUFBQSxTQUFhN3FFLEdBRVQsSUFBS3FTLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJK1osRUFBTTlaLE9BQVFELElBQ2xDLENBQ0lrc0IsSUFBTXhVLEVBQU9xQyxFQUFNL1osR0FFSGlqRixHQUFhdnJFLEVBQUt2VCxNQUUxQmc3RSxNQUFNem5FLEdBRVZBLEVBQUs2MUIsUUFFTGprQyxLQUFLbzdFLGdCQUFnQmh0RSxFQUFLMDhCLE9BQVExOEIsRUFBSzYxQixzQkFTbkQ2SyxnQkFBQSxXQUVJaHNCLElBQUkxWSxFQUFPb0UsSUFDUGxFLEdBQVFrRSxJQUVSbkUsRUFBT21FLElBQ1BqRSxHQUFRaUUsSUFFWixHQUFJeE8sS0FBSzgxRSxhQUFhbi9FLE9BUWxCLElBTkFtc0IsSUFBSTR5RCxFQUFRLEtBQ1JsckUsRUFBSSxFQUNKQyxFQUFJLEVBQ0o5TCxFQUFJLEVBQ0p4RixFQUFJLEVBRUN6QyxFQUFJLEVBQUdBLEVBQUlzSixLQUFLODFFLGFBQWFuL0UsT0FBUUQsSUFDOUMsQ0FDSWtzQixJQUFNanJCLEVBQU9xSSxLQUFLODFFLGFBQWFwL0UsR0FFekJtRSxFQUFPbEQsRUFBS2tELEtBQ1pvaEYsRUFBWXRrRixFQUFLZytFLFVBQVloK0UsRUFBS2crRSxVQUFVbmdELE1BQVEsRUFJMUQsR0FGQWtnRCxFQUFRLzlFLEVBQUsrOUUsTUFFVDc2RSxJQUFTNG5DLEdBQU9FLE1BQVE5bkMsSUFBUzRuQyxHQUFPSyxLQUV4Q3Q0QixFQUFJa3JFLEVBQU1sckUsRUFBS3l4RSxFQUFZLEVBQzNCeHhFLEVBQUlpckUsRUFBTWpyRSxFQUFLd3hFLEVBQVksRUFJM0I3eEUsRUFBT0ksRUFBSUosRUFBT0ksRUFBSUosRUFDdEJFLEVBQU9FLEdBSlA3TCxFQUFJKzJFLEVBQU1sZ0QsTUFBUXltRCxHQUlIM3hFLEVBQU9FLEVBQUk3TCxFQUFJMkwsRUFFOUJELEVBQU9JLEVBQUlKLEVBQU9JLEVBQUlKLEVBQ3RCRSxFQUFPRSxHQU5QdFIsRUFBSXU4RSxFQUFNamdELE9BQVN3bUQsR0FNSjF4RSxFQUFPRSxFQUFJdFIsRUFBSW9SLE9BRTdCLEdBQUkxUCxJQUFTNG5DLEdBQU9HLEtBRXJCcDRCLEVBQUlrckUsRUFBTWxyRSxFQUNWQyxFQUFJaXJFLEVBQU1qckUsRUFJVkwsRUFBT0ksR0FIUDdMLEVBQUkrMkUsRUFBTXJyQyxPQUFVNHhDLEVBQVksR0FHakI3eEUsRUFBT0ksRUFBSTdMLEVBQUl5TCxFQUM5QkUsRUFBT0UsRUFBSTdMLEVBQUkyTCxFQUFPRSxFQUFJN0wsRUFBSTJMLEVBRTlCRCxFQUFPSSxHQUxQdFIsRUFBSXU4RSxFQUFNcnJDLE9BQVU0eEMsRUFBWSxHQUtqQjV4RSxFQUFPSSxFQUFJdFIsRUFBSWtSLEVBQzlCRSxFQUFPRSxFQUFJdFIsRUFBSW9SLEVBQU9FLEVBQUl0UixFQUFJb1IsT0FFN0IsR0FBSTFQLElBQVM0bkMsR0FBT0ksS0FFckJyNEIsRUFBSWtyRSxFQUFNbHJFLEVBQ1ZDLEVBQUlpckUsRUFBTWpyRSxFQUlWTCxFQUFPSSxHQUhQN0wsRUFBSSsyRSxFQUFNbGdELE1BQVN5bUQsRUFBWSxHQUdoQjd4RSxFQUFPSSxFQUFJN0wsRUFBSXlMLEVBQzlCRSxFQUFPRSxFQUFJN0wsRUFBSTJMLEVBQU9FLEVBQUk3TCxFQUFJMkwsRUFFOUJELEVBQU9JLEdBTFB0UixFQUFJdThFLEVBQU1qZ0QsT0FBVXdtRCxFQUFZLEdBS2pCNXhFLEVBQU9JLEVBQUl0UixFQUFJa1IsRUFDOUJFLEVBQU9FLEVBQUl0UixFQUFJb1IsRUFBT0UsRUFBSXRSLEVBQUlvUixPQWU5QixJQVZBcVksSUFBTWtvQixFQUFTNHFDLEVBQU01cUMsT0FDakJoQixFQUFLLEVBQ0xFLEVBQUssRUFDTHRDLEVBQUssRUFDTEMsRUFBSyxFQUNMdTBDLEVBQUssRUFDTEMsRUFBSyxFQUNML3NFLEVBQUssRUFDTEMsRUFBSyxFQUVBblYsRUFBSSxFQUFHQSxFQUFJLEVBQUk0d0MsRUFBT24wQyxPQUFRdUQsR0FBSyxFQUV4Q3NRLEVBQUlzZ0MsRUFBTzV3QyxHQUNYdVEsRUFBSXFnQyxFQUFPNXdDLEVBQUksR0FDZjR2QyxFQUFLZ0IsRUFBTzV3QyxFQUFJLEdBQ2hCOHZDLEVBQUtjLEVBQU81d0MsRUFBSSxHQUNoQnd0QyxFQUFLOTdCLEtBQUtpRCxJQUFJaTdCLEVBQUt0L0IsR0FDbkJtOUIsRUFBSy83QixLQUFLaUQsSUFBSW03QixFQUFLdi9CLEdBQ25CdFIsRUFBSThpRixHQUNKdDlFLEVBQUlpTixLQUFLazVCLEtBQU00QyxFQUFLQSxFQUFPQyxFQUFLQSxJQUV4QixPQVVSdjlCLEdBSEFnRixHQUFNMDZCLEVBQUt0L0IsR0FBSyxJQUZoQjB4RSxHQUFPL2lGLEVBQUl3RixFQUFJZ3BDLEVBQU1ELEdBQU0sR0FLVnQ5QixFQUFPZ0YsRUFBSzhzRSxFQUFLOXhFLEVBQ2xDRSxFQUFPOEUsRUFBSzhzRSxFQUFLNXhFLEVBQU84RSxFQUFLOHNFLEVBQUs1eEUsRUFFbENELEdBTEFnRixHQUFNMjZCLEVBQUt2L0IsR0FBSyxJQUZoQjB4RSxHQUFPaGpGLEVBQUl3RixFQUFJK29DLEVBQU1DLEdBQU0sR0FPVnQ5QixFQUFPZ0YsRUFBSzhzRSxFQUFLOXhFLEVBQ2xDRSxFQUFPOEUsRUFBSzhzRSxFQUFLNXhFLEVBQU84RSxFQUFLOHNFLEVBQUs1eEUsUUFPOUNILEVBQU8sRUFDUEUsRUFBTyxFQUNQRCxFQUFPLEVBQ1BFLEVBQU8sRUFHWHFZLElBQU04bkMsRUFBVTFxRCxLQUFLMDZFLGNBRXJCMTZFLEtBQUtndUMsUUFBUTVqQyxLQUFPQSxFQUFPc2dELEVBQzNCMXFELEtBQUtndUMsUUFBUTFqQyxLQUFPQSxFQUFPb2dELEVBRTNCMXFELEtBQUtndUMsUUFBUTNqQyxLQUFPQSxFQUFPcWdELEVBQzNCMXFELEtBQUtndUMsUUFBUXpqQyxLQUFPQSxFQUFPbWdELGVBVS9CMHdCLGdCQUFBLFNBQWdCdHdDLEVBQVE3RyxHQUVwQixJQUFLbmhCLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJbzBDLEVBQU9uMEMsT0FBUyxFQUFHRCxJQUN2QyxDQUNJa3NCLElBQU1wWSxFQUFJc2dDLEVBQVksRUFBSnAwQyxHQUNaK1QsRUFBSXFnQyxFQUFZLEVBQUpwMEMsRUFBUyxHQUUzQm8wQyxFQUFZLEVBQUpwMEMsR0FBV3V0QyxFQUFPL29DLEVBQUlzUCxFQUFNeTVCLEVBQU8vcUMsRUFBSXVSLEVBQUt3NUIsRUFBT2pCLEdBQzNEOEgsRUFBWSxFQUFKcDBDLEVBQVMsR0FBTXV0QyxFQUFPOW9DLEVBQUlxUCxFQUFNeTVCLEVBQU8zbUMsRUFBSW1OLEVBQUt3NUIsRUFBT2hCLGlCQWF2RTI0QyxVQUFBLFNBQVUzQixFQUFRekUsRUFBT3ozQyxFQUFPUyxHQU81QixJQUpBNWIsSUFFTXc1RCxFQUFRbitDLEdBRkR1M0MsR0FBUyxLQUFlLE1BQVJBLEtBQTRCLElBQVJBLElBQWlCLElBRS9CejNDLEdBRTVCUyxLQUFTLEdBRVp5N0MsRUFBT3hsRixLQUFLMm5GLGdCQVlwQlAsY0FBQSxTQUFjM0IsRUFBWWxpRixFQUFJd21DLEdBRTFCLEtBQU9BLEtBQVMsR0FFWjA3QyxFQUFXemxGLEtBQUt1RCxnQkFleEJ1akYsT0FBQSxTQUFPbkYsRUFBTzF0QixFQUFLN0ssRUFBUzN5QyxFQUFPc3pCLEVBQU15RixHQU1yQyxJQUpBbmhCLElBQUlyRyxFQUFRLEVBQ040L0QsRUFBVzN6QixFQUFJL3hELE9BQ2Znc0QsRUFBUTlFLEVBQVE4RSxNQUVmbG1DLEVBQVEraEIsR0FDZixDQUNJMWIsSUFBSXRZLEVBQUk0ckUsRUFBd0IsR0FBakJsckUsRUFBUXVSLElBQ25CaFMsRUFBSTJyRSxFQUF5QixHQUFqQmxyRSxFQUFRdVIsR0FBYyxHQUV0QyxHQUFJd25CLEVBQ0osQ0FDSXJoQixJQUFNMDVELEVBQU1yNEMsRUFBTy9vQyxFQUFJc1AsRUFBTXk1QixFQUFPL3FDLEVBQUl1UixFQUFLdzVCLEVBQU9qQixHQUVwRHY0QixFQUFLdzVCLEVBQU85b0MsRUFBSXFQLEVBQU15NUIsRUFBTzNtQyxFQUFJbU4sRUFBS3c1QixFQUFPaEIsR0FDN0N6NEIsRUFBSTh4RSxFQUdSNy9ELElBRUFpc0MsRUFBSWowRCxLQUFLK1YsRUFBSW00QyxFQUFNbnRCLE1BQU8vcUIsRUFBSWs0QyxFQUFNbHRCLFFBR3hDN1MsSUFBTXEyQixFQUFjNEUsRUFBUTVFLGFBRXhCMEosRUFBTW50QixNQUFReWpCLEVBQVl6akIsT0FDdkJtdEIsRUFBTWx0QixPQUFTd2pCLEVBQVl4akIsU0FFOUJ6MUIsS0FBS3U4RSxVQUFVN3pCLEVBQUs3SyxFQUFTdytCLEVBQVU3OUMsZ0JBWS9DKzlDLFVBQUEsU0FBVTd6QixFQUFLN0ssRUFBUzN5QyxFQUFPc3pCLEdBYTNCLElBWEE1YixJQUFNcTJCLEVBQWM0RSxFQUFRNUUsWUFFdEJ1akMsRUFBU3R4RSxFQUFnQixFQUFQc3pCLEVBQ2xCbWtCLEVBQVE5RSxFQUFROEUsTUFDaEJyZSxFQUFTcWUsRUFBTW50QixNQUFReWpCLEVBQVl6akIsTUFDbkMrTyxFQUFTb2UsRUFBTWx0QixPQUFTd2pCLEVBQVl4akIsT0FDdENtL0MsRUFBVWp5QixFQUFNbjRDLEVBQUltNEMsRUFBTW50QixNQUMxQnMvQyxFQUFVbnlCLEVBQU1sNEMsRUFBSWs0QyxFQUFNbHRCLE9BQzFCcnJCLEVBQU93QixLQUFLOFgsTUFBTWdsQyxFQUFJeDlDLEdBUGQsTUFRUmIsRUFBT3VCLEtBQUs4WCxNQUFNZ2xDLEVBQUl4OUMsRUFBUSxHQVJ0QixNQVVIeFUsRUFBSXdVLEVBQVEsRUFBR3hVLEVBQUk4bEYsRUFBUTlsRixHQUFLLEVBRXJDMFQsRUFBT3dCLEtBQUs4USxJQUFJdFMsRUFBTXdCLEtBQUs4WCxNQUFNZ2xDLEVBQUloeUQsR0FaN0IsT0FhUjJULEVBQU91QixLQUFLOFEsSUFBSXJTLEVBQU11QixLQUFLOFgsTUFBTWdsQyxFQUFJaHlELEVBQUksR0FiakMsT0FlWmsrRSxHQUFXeHFFLEVBQ1gwcUUsR0FBV3pxRSxFQUNYLElBQUt5WSxJQUFJcHNCLEVBQUl3VSxFQUFPeFUsRUFBSThsRixFQUFROWxGLEdBQUssRUFFakNneUQsRUFBSWh5RCxJQUFNZ3lELEVBQUloeUQsR0FBS2srRSxHQUFXdHdDLEVBQzlCb2tCLEVBQUloeUQsRUFBSSxJQUFNZ3lELEVBQUloeUQsRUFBSSxHQUFLbytFLEdBQVd2d0MsNENBdDZCYixDQUFTdWtDLElBbzdCOUNpUixHQUFpQjJCLGVBQWlCLElFdCtCbEMsSUFBcUJlLEdBQVMsU0FBQWxILGtKQU8xQjN6QyxNQUFBLFdBRUloZixJQUFNcmhCLEVBQU0sSUFBSWs3RSxFQVdoQixPQVRBbDdFLEVBQUlpMEUsTUFBUXgxRSxLQUFLdzFFLE1BQ2pCajBFLEVBQUl3OEIsTUFBUS85QixLQUFLKzlCLE1BQ2pCeDhCLEVBQUlzOEMsUUFBVTc5QyxLQUFLNjlDLFFBQ25CdDhDLEVBQUkwaUMsT0FBU2prQyxLQUFLaWtDLE9BQ2xCMWlDLEVBQUlpc0MsUUFBVXh0QyxLQUFLd3RDLFFBQ25CanNDLEVBQUlpMEIsTUFBUXgxQixLQUFLdzFCLE1BQ2pCajBCLEVBQUl3MkUsVUFBWS8zRSxLQUFLKzNFLFVBQ3JCeDJFLEVBQUlpMUUsT0FBU3gyRSxLQUFLdzJFLE9BRVhqMUUsZUFLWCtzQixNQUFBLFdBRUlnZixZQUFNaGYsTUFBQXA3QixLQUFLOE0sTUFHWEEsS0FBS3cxRSxNQUFRLEVBUWJ4MUUsS0FBS3cxQixNQUFRLEVBUWJ4MUIsS0FBSyszRSxVQUFZLEdBUWpCLzNFLEtBQUt3MkUsUUFBUyxLQXREUSxDQUFTakIsSUNEbEJtSCxHQUFXLGdCQWtCckJDLFlBQUEsU0FBWTVELEVBQU9DLEVBQU9DLEVBQUtDLEVBQUswRCxFQUFNQyxFQUFNMUQsRUFBS0MsR0FpQnhELElBZkF4MkQsSUFDSTlvQixFQUFTLEVBQ1RqRSxFQUFJLEVBQ0ppbkYsRUFBSyxFQUNMQyxFQUFLLEVBQ0xDLEVBQUssRUFDTEMsRUFBTSxFQUNOQyxFQUFNLEVBQ04xeUUsRUFBSSxFQUNKQyxFQUFJLEVBQ0ppOUIsRUFBSyxFQUNMQyxFQUFLLEVBQ0x3MUMsRUFBUXBFLEVBQ1JxRSxFQUFRcEUsRUFFSHRpRixFQUFJLEVBQUdBLEdBZk4sS0FlZ0JBLEVBV3RCZ3hDLEVBQUt5MUMsR0FGTDN5RSxHQUZBMHlFLEdBREFELEdBREFELEVBQU0sR0FITm5uRixFQUFJYSxFQWpCRSxLQXFCS3NtRixHQUNDQSxHQUVEakUsRUFBVSxFQUFNa0UsRUFBTXBuRixFQUFJb2pGLEVBQVEsRUFBTStELEdBTm5ERixFQUFLam5GLEVBQUlBLEdBTW9EK21GLEdBTDdERyxFQUFLRCxFQUFLam5GLEdBS2lFc2pGLEdBRzNFeHhDLEVBQUt5MUMsR0FGTDN5RSxFQUFLeXlFLEVBQU1sRSxFQUFVLEVBQU1pRSxFQUFNcG5GLEVBQUlxakYsRUFBUSxFQUFJOEQsRUFBS0YsRUFBS0QsRUFBU0UsRUFBSzNELEdBRzdFK0QsRUFBWTN5RSxFQUNaNHlFLEVBQVkzeUUsRUFFUjNRLEdBQVU4UixLQUFLazVCLEtBQU00QyxFQUFLQSxFQUFPQyxFQUFLQSxHQUc5QyxPQUFXN3RDLEdBaUJmNGlGLEdBQVdXLFFBQUEsU0FBUXBFLEVBQUtDLEVBQUswRCxFQUFNQyxFQUFNMUQsRUFBS0MsRUFBS3R1QyxHQUUzQ2xvQixJQUFNbTJELEVBQVFqdUMsRUFBT0EsRUFBT24wQyxPQUFTLEdBQy9CcWlGLEVBQVFsdUMsRUFBT0EsRUFBT24wQyxPQUFTLEdBRXJDbTBDLEVBQU9uMEMsUUFBVSxFQUVqQmlzQixJQUFNM2tCLEVBQUkrMkUsR0FBZ0JLLGVBQ3RCcUgsR0FBWUMsWUFBWTVELEVBQU9DLEVBQU9DLEVBQUtDLEVBQUswRCxFQUFNQyxFQUFNMUQsRUFBS0MsSUFHakVrRSxFQUFLLEVBQ0xDLEVBQU0sRUFDTkMsRUFBTSxFQUNOVixFQUFLLEVBQ0xDLEVBQUssRUFFYmp5QyxFQUFXcjJDLEtBQUtza0YsRUFBT0MsR0FFbkIsSUFBS2wyRCxJQUFJcHNCLEVBQUksRUFBR3dELEVBQUksRUFBR3hELEdBQUt1SCxJQUFLdkgsRUFNN0I4bUYsR0FEQUQsR0FEQUQsRUFBTSxHQUZOcGpGLEVBQUl4RCxFQUFJdUgsSUFHR3EvRSxHQUNDQSxFQUdaUCxHQURBRCxFQUFLNWlGLEVBQUlBLEdBQ0NBLEVBRWQ0d0MsRUFBV3IyQyxLQUNGK29GLEVBQU16RSxFQUFVLEVBQUl3RSxFQUFNcmpGLEVBQUkrK0UsRUFBUSxFQUFJcUUsRUFBS1IsRUFBS0YsRUFBU0csRUFBSzVELEVBQ2xFcUUsRUFBTXhFLEVBQVUsRUFBSXVFLEVBQU1yakYsRUFBSWcvRSxFQUFRLEVBQUlvRSxFQUFLUixFQUFLRCxFQUFTRSxFQUFLM0QsSUN2R3BFLElBQU1xRSxHQUFjLGdCQWdCeEJkLFlBQUEsU0FBWTVELEVBQU9DLEVBQU9DLEVBQUtDLEVBQUtDLEVBQUtDLEdBRTVDeDJELElBQU01VCxFQUFLK3BFLEVBQVMsRUFBTUUsRUFBT0UsRUFDM0JscUUsRUFBSytwRSxFQUFTLEVBQU1FLEVBQU9FLEVBQzNCbHFFLEVBQU0sRUFBTStwRSxFQUFRLEVBQU1GLEVBQzFCNXBFLEVBQU0sRUFBTStwRSxFQUFRLEVBQU1GLEVBQzFCOTlFLEVBQUksR0FBUThULEVBQUtBLEVBQU9DLEVBQUtBLEdBQzdCOVQsRUFBSSxHQUFRNlQsRUFBS0UsRUFBT0QsRUFBS0UsR0FDN0JqVyxFQUFLZ1csRUFBS0EsRUFBT0MsRUFBS0EsRUFFdEIvUSxFQUFJLEVBQU13TixLQUFLazVCLEtBQUs1cEMsRUFBSUMsRUFBSWpDLEdBQzVCbVEsRUFBS3VDLEtBQUtrNUIsS0FBSzVwQyxHQUNmd2lGLEVBQU0sRUFBTXhpRixFQUFJbU8sRUFDaEI0dUUsRUFBSyxFQUFNcnNFLEtBQUtrNUIsS0FBSzVyQyxHQUNyQnlrRixFQUFLeGlGLEVBQUlrTyxFQUVmLE9BQ0txMEUsRUFBTXQvRSxFQUNBaUwsRUFBS2xPLEdBQUtpRCxFQUFJNjVFLElBRVgsRUFBTS8rRSxFQUFJZ0MsRUFBTUMsRUFBSUEsR0FDckJ5USxLQUFLd3dCLEtBQU0sRUFBTS95QixFQUFNczBFLEVBQUt2L0UsSUFBTXUvRSxFQUFLMUYsTUFFL0MsRUFBTXlGLElBY25CRCxHQUFXSixRQUFBLFNBQVFwRSxFQUFLQyxFQUFLQyxFQUFLQyxFQUFLdHVDLEdBWS9CLElBVkFsb0IsSUFBTW0yRCxFQUFRanVDLEVBQU9BLEVBQU9uMEMsT0FBUyxHQUMvQnFpRixFQUFRbHVDLEVBQU9BLEVBQU9uMEMsT0FBUyxHQUUvQnNILEVBQUkrMkUsR0FBZ0JLLGVBQ3RCb0ksR0FBZWQsWUFBWTVELEVBQU9DLEVBQU9DLEVBQUtDLEVBQUtDLEVBQUtDLElBR3hEQyxFQUFLLEVBQ0xDLEVBQUssRUFFQTVpRixFQUFJLEVBQUdBLEdBQUt1SCxJQUFLdkgsRUFDOUIsQ0FDUWtzQixJQUFNMW9CLEVBQUl4RCxFQUFJdUgsRUFFZG83RSxFQUFLTixHQUFVRSxFQUFNRixHQUFTNytFLEVBQzlCby9FLEVBQUtOLEdBQVVFLEVBQU1GLEdBQVM5K0UsRUFFbEM0d0MsRUFBV3IyQyxLQUFLNGtGLEdBQVFKLEdBQVFFLEVBQU1GLEdBQU8vK0UsRUFBTW0vRSxHQUFNbi9FLEVBQ3JEby9FLEdBQVlKLEdBQVFFLEVBQU1GLEdBQU9oL0UsRUFBTW8vRSxHQUFNcC9FLEtDeEUxQyxJQUFNMGpGLEdBQVEsZ0JBZWxCUCxRQUFBLFNBQVF4ekMsRUFBSUUsRUFBSUQsRUFBSUUsRUFBSUssRUFBUVMsR0FFbkNsb0IsSUFBTW0yRCxFQUFRanVDLEVBQU9BLEVBQU9uMEMsT0FBUyxHQUcvQnlTLEVBRlEwaEMsRUFBT0EsRUFBT24wQyxPQUFTLEdBRWxCb3pDLEVBQ2I3RixFQUFLNjBDLEVBQVFsdkMsRUFDYnhnQyxFQUFLMmdDLEVBQUtELEVBQ1YvNUIsRUFBSzg1QixFQUFLRCxFQUNWZzBDLEVBQUtqeUUsS0FBS2lELElBQUt6RixFQUFLNEcsRUFBT2swQixFQUFLNzZCLEdBRXRDLEdBQUl3MEUsRUFBSyxNQUFxQixJQUFYeHpDLEVBT25CLE9BTFFTLEVBQU9BLEVBQU9uMEMsT0FBUyxLQUFPa3pDLEdBQU1pQixFQUFPQSxFQUFPbjBDLE9BQVMsS0FBT296QyxHQUV0RWUsRUFBV3IyQyxLQUFLbzFDLEVBQUlFLEdBR2IsS0FHWG5uQixJQUFNazdELEVBQU0xMEUsRUFBS0EsRUFBTzg2QixFQUFLQSxFQUN2QjY1QyxFQUFNMTBFLEVBQUtBLEVBQU8yRyxFQUFLQSxFQUN2Qmd1RSxFQUFNNTBFLEVBQUtDLEVBQU82NkIsRUFBS2wwQixFQUN2Qml1RSxFQUFLNXpDLEVBQVN6K0IsS0FBS2s1QixLQUFLZzVDLEdBQU1ELEVBQzlCSyxFQUFLN3pDLEVBQVN6K0IsS0FBS2s1QixLQUFLaTVDLEdBQU1GLEVBQzlCTSxFQUFLRixFQUFLRCxFQUFLRixFQUNmTSxFQUFLRixFQUFLRixFQUFLRCxFQUNmM3VFLEVBQU02dUUsRUFBS2p1RSxFQUFPa3VFLEVBQUtoNkMsRUFDdkI3MEIsRUFBTTR1RSxFQUFLNTBFLEVBQU82MEUsRUFBSzkwRSxFQUN2QmtHLEVBQUs0MEIsR0FBTWc2QyxFQUFLQyxHQUNoQjV1RSxFQUFLbkcsR0FBTTgwRSxFQUFLQyxHQUNoQjV2RSxFQUFLeUIsR0FBTWl1RSxFQUFLRyxHQUNoQkMsRUFBS2gxRSxHQUFNNDBFLEVBQUtHLEdBSXRCLE1BQU8sQ0FDSGh2RSxHQUFLQSxFQUFLeTZCLEVBQ1Z4NkIsR0FBS0EsRUFBSzA2QixFQUNkTSxPQUFJQSxFQUNKaTBDLFdBUG1CMXlFLEtBQUtpNUIsTUFBTXQxQixFQUFLRixFQUFJQyxFQUFLRixHQVE1Q212RSxTQVBpQjN5RSxLQUFLaTVCLE1BQU13NUMsRUFBS2h2RSxFQUFJZCxFQUFLYSxHQVExQ292RSxjQUFvQnQ2QyxFQUFLNzZCLEVBQUsyRyxFQUFLNUcsSUFzQjNDdzBFLEdBQVdhLElBQUEsU0FBSUMsRUFBUUMsRUFBUXZ2RSxFQUFJQyxFQUFJZzdCLEVBQVFpMEMsRUFBWUMsRUFBVUMsRUFBZTF6QyxHQWU1RSxJQWJBbG9CLElBQU1nOEQsRUFBUUwsRUFBV0QsRUFDbkJyZ0YsRUFBSSsyRSxHQUFnQkssZUFDdEJ6cEUsS0FBS2lELElBQUkrdkUsR0FBU3YwQyxFQUNrQixHQUFwQ3orQixLQUFLcStCLEtBQUtyK0IsS0FBS2lELElBQUkrdkUsR0FBU3Y4QyxLQUcxQnc4QyxFQUFRLEdBQWUsRUFBSjVnRixHQUNuQjZnRixFQUFpQixFQUFSRCxFQUNURSxFQUFTbnpFLEtBQUtnNEIsSUFBSWk3QyxHQUNsQkcsRUFBU3B6RSxLQUFLaTRCLElBQUlnN0MsR0FDbEJJLEVBQVdoaEYsRUFBSSxFQUNmaWhGLEVBQWFELEVBQVcsRUFBS0EsRUFFMUJ2b0YsRUFBSSxFQUFHQSxHQUFLdW9GLElBQVl2b0YsRUFDckMsQ0FDSSxJQUNVaXRDLEVBQVMsRUFBVTI2QyxFQUFjUSxHQUQxQnBvRixFQUFLd29GLEVBQVl4b0YsR0FFeEJ3QyxFQUFJMFMsS0FBS2c0QixJQUFJRCxHQUNidmxDLEdBQUt3TixLQUFLaTRCLElBQUlGLEdBRXhCbUgsRUFBV3IyQyxNQUNBc3FGLEVBQVM3bEYsRUFBTThsRixFQUFTNWdGLEdBQU1pc0MsRUFBVWo3QixHQUN4QzJ2RSxHQUFVM2dGLEVBQU00Z0YsRUFBUzlsRixHQUFNbXhDLEVBQVVoN0IsS0NoRzVELElBQXFCOHZFLEdBQUksU0FBQUMsR0FFckIsU0FBQUMsRUFBWTcwRSxFQUFHQyxFQUFHcWdDLEVBQVFULEVBQVFpMUMsRUFBYTk2QyxHQUUzQzg2QyxFQUFjQSxHQUFlajFDLEVBQVMsRUFPdEMsSUFMQXpuQixJQUFNMDdELEdBQWUsRUFBSTF5RSxLQUFLMDJCLEdBQUssRUFBS2tDLEVBQ2xDOTZCLEVBQWUsRUFBVG9oQyxFQUNOcmdCLEVBQVE0WCxHQUFPMzRCLEVBQ2Z1aEMsRUFBVSxHQUVQdjBDLEVBQUksRUFBR0EsRUFBSWdULEVBQUtoVCxJQUN6QixDQUNJa3NCLElBQU1ubEIsRUFBSS9HLEVBQUksRUFBSTRvRixFQUFjajFDLEVBQzFCMUcsRUFBU2p0QyxFQUFJK3pCLEVBQVM2ekQsRUFFNUJyekMsRUFBUXgyQyxLQUNKK1YsRUFBSy9NLEVBQUltTyxLQUFLZzRCLElBQUlELEdBQ2xCbDVCLEVBQUtoTixFQUFJbU8sS0FBS2k0QixJQUFJRixJQUkxQjJKLE9BQUt0dEMsS0FBQ2lyQyxtR0F0QlcsQ0FBU0osSUNVNUIwMEMsR0FBTyxJQUFJMzdELGFBQWEsR0FHMUI0N0QsR0FBZ0IsS0FlQ0MsR0FBUSxTQUFBcnZDLEdBTXpCLFNBQUFzdkMsRUFBWTczQixrQkFBVyxNQUVuQnZhLE9BQUt0dEMsTUFRTEEsS0FBSzZuRCxTQUFXQSxHQUFZLElBQUlreUIsR0FFaEMvNUUsS0FBSzZuRCxTQUFTaEIsV0FPZDdtRCxLQUFLcXJELE9BQVMsS0FPZHJyRCxLQUFLeXFELE1BQVF3USxHQUFNUSxRQVFuQno3RCxLQUFLMi9FLFdBQWEsSUFBSXBLLEdBUXRCdjFFLEtBQUs0L0UsV0FBYSxJQUFJbkQsR0FRdEJ6OEUsS0FBSzYvRSxRQUFVLEtBU2Y3L0UsS0FBSzgvRSxXQUFZLEVBUWpCOS9FLEtBQUsrL0UsWUFBYyxLQXFCbkIvL0UsS0FBS3U2RSxRQUFVLEdBU2Z2NkUsS0FBS2dnRixXQUFhLEVBUWxCaGdGLEtBQUtxc0MsV0FBYSxLQUVsQnJzQyxLQUFLaWdGLGNBQWdCLEVBQ3JCamdGLEtBQUttNkUsWUFBYyxFQUduQm42RSxLQUFLaytCLEtBQU8sU0FDWmwrQixLQUFLNDlCLFVBQVlqSCxFQUFZQywwTkFTakNnTCxNQUFBLFdBSUksT0FGQTVoQyxLQUFLa2dGLGFBRUUsSUFBSVIsRUFBUzEvRSxLQUFLNm5ELFdBVzdCMWUsRUFBSXZMLFVBQUExb0MsSUFBQSxTQUFVQyxHQUVWNkssS0FBS3lxRCxNQUFNN3NCLFVBQVl6b0MsR0FHM0JnMEMsRUFBSXZMLFVBQUEzb0MsSUFBQSxXQUVBLE9BQU8rSyxLQUFLeXFELE1BQU03c0IsV0FVdEJ1TCxFQUFJakwsS0FBQWpwQyxJQUFBLFdBRUEsT0FBTytLLEtBQUttZ0YsT0FFaEJoM0MsRUFBSWpMLEtBQUFocEMsSUFBQSxTQUFLQyxHQUVMNkssS0FBS21nRixNQUFRaHJGLEdBU2pCZzBDLEVBQUlpM0MsS0FBQW5yRixJQUFBLFdBRUEsT0FBTytLLEtBQUsyL0UsWUFTaEJ4MkMsRUFBSWszQyxLQUFBcHJGLElBQUEsV0FFQSxPQUFPK0ssS0FBSzQvRSx3QkFjaEJqSyxVQUFBLFNBQVVuZ0QsRUFBV2dnRCxFQUFXejNDLEVBQVdnNkMsRUFBaUJ2QixHQUl4RCxzQkFKYyxrQkFBVyxrQkFBVyxrQkFBZSxvQkFBYyxHQUVqRXgyRSxLQUFLc2dGLGlCQUFpQjlxRCxFQUFPNHRCLEdBQVF3QixNQUFPNHdCLEVBQU96M0MsRUFBTyxLQUFNZzZDLEVBQVd2QixHQUVwRXgyRSxrQkFlWHNnRixpQkFBQSxTQUFpQjlxRCxFQUFXcW9CLEVBQXlCMjNCLEVBQWtCejNDLEVBQ25Fa0csRUFBZTh6QyxFQUFpQnZCLGtCQURYLGtCQUFhcHpCLEdBQVF3QixzQkFBZSx5QkFBa0Isa0JBQ2xFLHFCQUFrQixvQkFBYyxHQUVyQzVrRCxLQUFLKy9FLGFBRUwvL0UsS0FBS3VnRixZQUdUMzlELElBQU00cUIsRUFBVWhZLEVBQVEsR0FBS3VJLEVBQVEsRUEwQnJDLE9BeEJLeVAsR0FNR3ZKLElBRUFBLEVBQVNBLEVBQU9yQyxTQUNUb0QsU0FHWGp5QyxPQUFPMHVCLE9BQU96aEIsS0FBSzQvRSxXQUFZLE9BQzNCcEssUUFDQWhnRCxRQUNBdUksU0FDQWtHLFVBQ0E0WixZQUNBazZCLFNBQ0F2QixVQUNBaHBDLEtBbEJKeHRDLEtBQUs0L0UsV0FBV3R4RCxRQXNCYnR1QixrQkFPWHVnRixVQUFBLFdBRUksR0FBSXZnRixLQUFLKy9FLFlBQ1QsQ0FDSW45RCxJQUFNa29CLEVBQVM5cUMsS0FBSysvRSxZQUFZajFDLE9BQzFCcGhDLEVBQU0xSixLQUFLKy9FLFlBQVlqMUMsT0FBT24wQyxPQUVoQytTLEVBQU0sSUFFTjFKLEtBQUs2NkUsVUFBVTc2RSxLQUFLKy9FLGFBQ3BCLy9FLEtBQUsrL0UsWUFBYyxJQUFJbDFDLEdBQ3ZCN3FDLEtBQUsrL0UsWUFBWS8wQyxhQUFjLEVBQy9CaHJDLEtBQUsrL0UsWUFBWWoxQyxPQUFPcjJDLEtBQUtxMkMsRUFBT3BoQyxFQUFNLEdBQUlvaEMsRUFBT3BoQyxFQUFNLFVBSy9EMUosS0FBSysvRSxZQUFjLElBQUlsMUMsR0FDdkI3cUMsS0FBSysvRSxZQUFZLzBDLGFBQWMsZUFRdkNrMUMsV0FBQSxXQUVRbGdGLEtBQUsrL0UsY0FFRC8vRSxLQUFLKy9FLFlBQVlqMUMsT0FBT24wQyxPQUFTLEdBRWpDcUosS0FBSzY2RSxVQUFVNzZFLEtBQUsrL0UsYUFDcEIvL0UsS0FBSysvRSxZQUFjLE1BSW5CLy9FLEtBQUsrL0UsWUFBWWoxQyxPQUFPbjBDLE9BQVMsZ0JBWTdDNnBGLE9BQUEsU0FBT2gyRSxFQUFHQyxHQU1OLE9BSkF6SyxLQUFLdWdGLFlBQ0x2Z0YsS0FBSysvRSxZQUFZajFDLE9BQU8sR0FBS3RnQyxFQUM3QnhLLEtBQUsrL0UsWUFBWWoxQyxPQUFPLEdBQUtyZ0MsRUFFdEJ6SyxrQkFXWHlnRixPQUFBLFNBQU9qMkUsRUFBR0MsR0FFRHpLLEtBQUsrL0UsYUFFTi8vRSxLQUFLd2dGLE9BQU8sRUFBRyxHQUluQjU5RCxJQUFNa29CLEVBQVM5cUMsS0FBSysvRSxZQUFZajFDLE9BQzFCaXVDLEVBQVFqdUMsRUFBT0EsRUFBT24wQyxPQUFTLEdBQy9CcWlGLEVBQVFsdUMsRUFBT0EsRUFBT24wQyxPQUFTLEdBT3JDLE9BTElvaUYsSUFBVXZ1RSxHQUFLd3VFLElBQVV2dUUsR0FFekJxZ0MsRUFBT3IyQyxLQUFLK1YsRUFBR0MsR0FHWnpLLGtCQVVYMGdGLFdBQUEsU0FBV2wyRSxFQUFPQyxrQkFBSCxrQkFBTyxHQUVkekssS0FBSysvRSxZQUVrQyxJQUFuQy8vRSxLQUFLKy9FLFlBQVlqMUMsT0FBT24wQyxTQUV4QnFKLEtBQUsrL0UsWUFBWWoxQyxPQUFTLENBQUN0Z0MsRUFBR0MsSUFLbEN6SyxLQUFLd2dGLE9BQU9oMkUsRUFBR0MsZ0JBY3ZCazJFLGlCQUFBLFNBQWlCMUgsRUFBS0MsRUFBS0MsRUFBS0MsR0FFNUJwNUUsS0FBSzBnRixhQUVMOTlELElBQU1rb0IsRUFBUzlxQyxLQUFLKy9FLFlBQVlqMUMsT0FTaEMsT0FQc0IsSUFBbEJBLEVBQU9uMEMsUUFFUHFKLEtBQUt3Z0YsT0FBTyxFQUFHLEdBR25CL0MsR0FBZUosUUFBUXBFLEVBQUtDLEVBQUtDLEVBQUtDLEVBQUt0dUMsR0FFcEM5cUMsa0JBY1g0Z0YsY0FBQSxTQUFjM0gsRUFBS0MsRUFBSzBELEVBQU1DLEVBQU0xRCxFQUFLQyxHQU1yQyxPQUpBcDVFLEtBQUswZ0YsYUFFTGhFLEdBQVlXLFFBQVFwRSxFQUFLQyxFQUFLMEQsRUFBTUMsRUFBTTFELEVBQUtDLEVBQUtwNUUsS0FBSysvRSxZQUFZajFDLFFBRTlEOXFDLGtCQWVYNmdGLE1BQUEsU0FBTWgzQyxFQUFJRSxFQUFJRCxFQUFJRSxFQUFJSyxHQUVsQnJxQyxLQUFLMGdGLFdBQVc3MkMsRUFBSUUsR0FFcEJubkIsSUFBTWtvQixFQUFTOXFDLEtBQUsrL0UsWUFBWWoxQyxPQUUxQmh4QyxFQUFTOGpGLEdBQVNQLFFBQVF4ekMsRUFBSUUsRUFBSUQsRUFBSUUsRUFBSUssRUFBUVMsR0FFeEQsR0FBSWh4QyxFQUNKLENBQ0ksSUFBQXNWLEVBQUF0VixFQUFBc1YsR0FBWUMsRUFBQXZWLEVBQUF1VixHQUFJeXhFLEVBQUFobkYsRUFBQXV3QyxPQUFRaTBDLEVBQUF4a0YsRUFBQXdrRixXQUFZQyxFQUFBemtGLEVBQUF5a0YsU0FBVUMsRUFBQTFrRixFQUFBMGtGLGNBRTlDeCtFLEtBQUt5K0UsSUFBSXJ2RSxFQUFJQyxFQUFJZzdCLEVBQVFpMEMsRUFBWUMsRUFBVUMsR0FHbkQsT0FBT3grRSxrQkFpQlh5K0UsSUFBQSxTQUFJcnZFLEVBQUlDLEVBQUlnN0IsRUFBUWkwQyxFQUFZQyxFQUFVQyxHQUV0QyxtQkFGc0QsR0FFbERGLElBQWVDLEVBRWYsT0FBT3YrRSxLQWNYLElBWEt3K0UsR0FBaUJELEdBQVlELEVBRTlCQyxHQUFZbDhDLEdBRVBtOEMsR0FBaUJGLEdBQWNDLElBRXBDRCxHQUFjajhDLElBS0osSUFGQWs4QyxFQUFXRCxFQUlyQixPQUFPdCtFLEtBR1g0aUIsSUFBTTg3RCxFQUFTdHZFLEVBQU14RCxLQUFLZzRCLElBQUkwNkMsR0FBY2owQyxFQUN0Q3MwQyxFQUFTdHZFLEVBQU16RCxLQUFLaTRCLElBQUl5NkMsR0FBY2owQyxFQUd4Q1MsRUFBUzlxQyxLQUFLKy9FLFlBQWMvL0UsS0FBSysvRSxZQUFZajFDLE9BQVMsS0FFMUQsR0FBSUEsRUFDSixDQUlJbG9CLElBQU1tK0QsRUFBUW4xRSxLQUFLaUQsSUFBSWk4QixFQUFPQSxFQUFPbjBDLE9BQVMsR0FBSytuRixHQUM3Q3NDLEVBQVFwMUUsS0FBS2lELElBQUlpOEIsRUFBT0EsRUFBT24wQyxPQUFTLEdBQUtnb0YsR0FFL0NvQyxFQUFRLE1BQVNDLEVBQVEsTUFPekJsMkMsRUFBT3IyQyxLQUFLaXFGLEVBQVFDLFFBS3hCMytFLEtBQUt3Z0YsT0FBTzlCLEVBQVFDLEdBQ3BCN3pDLEVBQVM5cUMsS0FBSysvRSxZQUFZajFDLE9BSzlCLE9BRkE4eUMsR0FBU2EsSUFBSUMsRUFBUUMsRUFBUXZ2RSxFQUFJQyxFQUFJZzdCLEVBQVFpMEMsRUFBWUMsRUFBVUMsRUFBZTF6QyxHQUUzRTlxQyxrQkFXWGloRixVQUFBLFNBQVV6TCxFQUFXejNDLEdBRWpCLHNCQUZjLGtCQUFXLEdBRWxCLzlCLEtBQUtraEYsaUJBQWlCOTlCLEdBQVF3QixNQUFPNHdCLEVBQU96M0MsZ0JBWXZEbWpELGlCQUFBLFNBQWlCcmpDLEVBQXlCMjNCLEVBQWtCejNDLEVBQVdrRyxrQkFBNUNtZixHQUFRd0Isc0JBQWUseUJBQWtCLGtCQUFZLE1BRXhFNWtELEtBQUsrL0UsYUFFTC8vRSxLQUFLdWdGLFlBR1QzOUQsSUFBTTRxQixFQUFVelAsRUFBUSxFQXVCeEIsT0FyQkt5UCxHQU1HdkosSUFFQUEsRUFBU0EsRUFBT3JDLFNBQ1RvRCxTQUdYanlDLE9BQU8wdUIsT0FBT3poQixLQUFLMi9FLFdBQVksT0FDM0JuSyxRQUNBejNDLFVBQ0E4ZixTQUNBNVosVUFDQXVKLEtBZkp4dEMsS0FBSzIvRSxXQUFXcnhELFFBbUJidHVCLGtCQVFYbWhGLFFBQUEsV0FNSSxPQUpBbmhGLEtBQUtrZ0YsYUFFTGxnRixLQUFLMi9FLFdBQVdyeEQsUUFFVHR1QixrQkFZWG9oRixTQUFBLFNBQVM1MkUsRUFBR0MsRUFBRytxQixFQUFPQyxHQUVsQixPQUFPejFCLEtBQUs2NkUsVUFBVSxJQUFJenhDLEdBQVU1K0IsRUFBR0MsRUFBRytxQixFQUFPQyxpQkFhckQ0ckQsZ0JBQUEsU0FBZ0I3MkUsRUFBR0MsRUFBRytxQixFQUFPQyxFQUFRNFUsR0FFakMsT0FBT3JxQyxLQUFLNjZFLFVBQVUsSUFBSXZ2QyxHQUFpQjlnQyxFQUFHQyxFQUFHK3FCLEVBQU9DLEVBQVE0VSxpQkFXcEVpM0MsV0FBQSxTQUFXOTJFLEVBQUdDLEVBQUc0L0IsR0FFYixPQUFPcnFDLEtBQUs2NkUsVUFBVSxJQUFJendDLEdBQU81L0IsRUFBR0MsRUFBRzQvQixpQkFZM0NrM0MsWUFBQSxTQUFZLzJFLEVBQUdDLEVBQUcrcUIsRUFBT0MsR0FFckIsT0FBT3oxQixLQUFLNjZFLFVBQVUsSUFBSXJ3QyxHQUFRaGdDLEVBQUdDLEVBQUcrcUIsRUFBT0MsaUJBU25EK3JELFlBQUEsU0FBWXhnRixtQkFJSjhwQyxFQUFTOXBDLEVBRVRncUMsR0FBYyxFQVNsQixHQU5JRixFQUFPQSxTQUVQRSxFQUFjRixFQUFPRSxZQUNyQkYsRUFBU0EsRUFBT0EsU0FHZjdoQyxNQUFNbVIsUUFBUTB3QixHQUNuQixDQUdJQSxFQUFTLElBQUk3aEMsTUFBTVUsVUFBVWhULFFBRTdCLElBQUttc0IsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUlvMEMsRUFBT24wQyxTQUFVRCxFQUVqQ28wQyxFQUFPcDBDLEdBQUtpVCxFQUFValQsR0FJOUJrc0IsSUFBTTh5RCxFQUFRLElBQUk3cUMsR0FBUUMsR0FNMUIsT0FKQTRxQyxFQUFNMXFDLFlBQWNBLEVBRXBCaHJDLEtBQUs2NkUsVUFBVW5GLEdBRVIxMUUsa0JBU1g2NkUsVUFBQSxTQUFVbkYsR0FnQk4sT0FkSzExRSxLQUFLOC9FLFVBV045L0UsS0FBSzZuRCxTQUFTaXpCLFNBQVNwRixFQUFPMTFFLEtBQUs2L0UsU0FUbkM3L0UsS0FBSzZuRCxTQUFTZ3pCLFVBQ1ZuRixFQUNBMTFFLEtBQUsyL0UsV0FBVy85QyxRQUNoQjVoQyxLQUFLNC9FLFdBQVdoK0MsUUFDaEI1aEMsS0FBSzYvRSxTQVFONy9FLGtCQWNYeWhGLFNBQUEsU0FBU2ozRSxFQUFHQyxFQUFHcWdDLEVBQVFULEVBQVFpMUMsRUFBYTk2QyxHQUV4QyxzQkFGbUQsR0FFNUN4a0MsS0FBS3doRixZQUFZLElBQUlyQyxHQUFLMzBFLEVBQUdDLEVBQUdxZ0MsRUFBUVQsRUFBUWkxQyxFQUFhOTZDLGlCQVF4RW5FLE1BQUEsV0FTSSxPQVBBcmdDLEtBQUs2bkQsU0FBU3huQixRQUVkcmdDLEtBQUs2L0UsUUFBVSxLQUNmNy9FLEtBQUs4L0UsV0FBWSxFQUNqQjkvRSxLQUFLKy9FLFlBQWMsS0FDbkIvL0UsS0FBSzBoRixZQUFjLEtBRVoxaEYsa0JBU1hnK0QsV0FBQSxXQUdJLE9BQU8sZUFZWHJzQixRQUFBLFNBQVFyQyxHQUVKdHZDLEtBQUtrZ0YsYUFFTHQ5RCxJQUFNaWxDLEVBQVc3bkQsS0FBSzZuRCxTQU10QixHQUZBQSxFQUFTbXpCLGdCQUVMbnpCLEVBQVM4eUIsVUFDYixDQUNJLEdBQUkzNkUsS0FBS202RSxhQUFldHlCLEVBQVNzeUIsV0FDakMsQ0FDSW42RSxLQUFLdTZFLFFBQVUsR0FDZnY2RSxLQUFLZ2dGLFdBQWEsRUFDbEJoZ0YsS0FBS2lnRixjQUFnQixFQUNyQmpnRixLQUFLbTZFLFdBQWF0eUIsRUFBU3N5QixXQUUzQm42RSxLQUFLcXNDLFdBQWEsSUFBSXpvQixhQUFhaWtDLEVBQVMvYyxRQUk1QyxJQUZBbG9CLElBQU1nYixFQUFZNTlCLEtBQUs0OUIsVUFFZGxuQyxFQUFJLEVBQUdBLEVBQUlteEQsRUFBUzB5QixRQUFRNWpGLE9BQVFELElBQzdDLENBQ0lrc0IsSUFBTSsrRCxFQUFLOTVCLEVBQVMweUIsUUFBUTdqRixHQUV0QjgrRSxFQUFRbU0sRUFBR3h3RCxNQUFNcWtELE1BSWpCbnBDLEVBQWEsSUFBSXpvQixhQUFhNWpCLEtBQUtxc0MsV0FBV3Q0QixPQUMvQixFQUFqQjR0RSxFQUFHN0gsWUFBa0IsRUFDTCxFQUFoQjZILEVBQUdwdUIsWUFFRDdLLEVBQU0sSUFBSTlrQyxhQUFhaWtDLEVBQVNuRixXQUFXM3VDLE9BQzVCLEVBQWpCNHRFLEVBQUc3SCxZQUFrQixFQUNMLEVBQWhCNkgsRUFBR3B1QixZQU1EM2hCLEVBQVEsWUFDVnZGLFlBQ0F6TyxVQU5ZLElBQUk5WixZQUFZK2pDLEVBQVMreUIsY0FBYzdtRSxPQUN4QyxFQUFYNHRFLEVBQUd6MkUsTUFDSHkyRSxFQUFHbmpELFVBTUhrcUIsRUFDQWs1QixVQUFXM2tELEVBQVF1NEMsR0FDbkJ2SixTQUFVdUosRUFDVjlwQixTQUFVaTJCLEVBQUd4d0QsTUFBTTBzQixRQUNuQjlmLE1BQU80akQsRUFBR3h3RCxNQUFNNE0sTUFDaEIyUCxXQUFZLEdBRWhCMXRDLEtBQUt1NkUsUUFBUTdqRixHQUFLazdDLEdBTTFCLEdBRkF0QyxFQUFTc0MsTUFBTTRhLGtCQUFrQmxkLEVBQVN5RixRQUFRbkQsT0FFOUM1eEMsS0FBS3U2RSxRQUFRNWpGLE9BQ2pCLENBQ0lxSixLQUFLNmhGLG9CQUNMN2hGLEtBQUs4aEYsaUJBRUwsSUFBS2gvRCxJQUFJcHNCLEVBQUksRUFBR0EsRUFBSXNKLEtBQUt1NkUsUUFBUTVqRixPQUFRRCxJQUN6QyxDQUNJa3NCLElBQU1ndkIsRUFBUTV4QyxLQUFLdTZFLFFBQVE3akYsR0FFM0JrN0MsRUFBTWxFLFdBQWExdEMsS0FBSzB0QyxXQUFha0UsRUFBTTdULE1BRTNDdVIsRUFBU3lGLFFBQVFuRCxNQUFNdkMsT0FBT3VDLFNBSzFDLENBSUksR0FGQXRDLEVBQVNzQyxNQUFNQyxTQUVWN3hDLEtBQUtxckQsT0FDVixDQUdJLElBQUttMEIsR0FDTCxDQUdJLElBRkE1OEQsSUFBTTZtRCxFQUFlLElBQUl6bEQsV0FBVyxJQUUzQnR0QixFQUFJLEVBQUdBLEVBQUksR0FBSUEsSUFFcEIreUUsRUFBYS95RSxHQUFLQSxFQUd0QmtzQixJQUFNcW1DLEVBQVcsQ0FDYi9xQixLQUFNLElBQUl0YSxhQUFhLENBQUMsRUFBRyxFQUFHLEVBQUcsSUFDakNnbUQsa0JBQW1CLElBQUk3bUMsR0FDdkJ0N0IsUUFBU3VoRCxHQUFhOW1DLEtBQUssQ0FBRXduRCxVQUFXRCxJQUFnQixJQUl0RDNYLEVBQVd4aUIsRUFBU3lGLFFBQVFuRCxNQUFNeVosT0FBT3lHLFFBRS9DMHRCLEdBQWdCLElBQUkza0IsR0FBTy9JLEVBQVM3SSxHQUd4Q2pwRCxLQUFLcXJELE9BQVNtMEIsR0FHbEI1OEQsSUFBTXFtQyxFQUFXanBELEtBQUtxckQsT0FBT3BDLFNBRzdCQSxFQUFTMmdCLGtCQUFvQjVwRSxLQUFLdXZCLFVBQVV1WSxlQUU1Q2xsQixJQUFNc2IsRUFBT2wrQixLQUFLaytCLEtBQ1o2akQsRUFBSy9oRixLQUFLMHRDLFdBR2hCdWIsRUFBUy9xQixLQUFLLElBQVFBLEdBQVEsR0FBTSxLQUFRLElBQU82akQsRUFDbkQ5NEIsRUFBUy9xQixLQUFLLElBQVFBLEdBQVEsRUFBSyxLQUFRLElBQU82akQsRUFDbEQ5NEIsRUFBUy9xQixLQUFLLElBQWMsSUFBUEEsR0FBZSxJQUFPNmpELEVBQzNDOTRCLEVBQVMvcUIsS0FBSyxHQUFLNmpELEVBT25CenlDLEVBQVMrYixPQUFPcnRELEtBQUtnQyxLQUFLcXJELFFBRzFCL2IsRUFBU3VZLFNBQVM3cEQsS0FBSzZwRCxFQUFVN25ELEtBQUtxckQsUUFHdEMvYixFQUFTbWIsTUFBTVcsU0FBU3ByRCxLQUFLeXFELE9BRzdCLElBQUszbkMsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUlteEQsRUFBU3l5QixVQUFVM2pGLE9BQVFELElBQy9DLENBS0ksSUFKQWtzQixJQUFNby9ELEVBQVduNkIsRUFBU3l5QixVQUFVNWpGLEdBRTlCbTFFLEVBQW9CbVcsRUFBU3hnQixhQUUxQnRuRSxFQUFJLEVBQUdBLEVBQUkyeEUsRUFBbUIzeEUsSUFFbkNvMUMsRUFBU3VPLFFBQVE3L0MsS0FBS2drRixFQUFTNzFCLFNBQVNqeUQsR0FBSUEsR0FJaERvMUMsRUFBU3VZLFNBQVN5RCxLQUFLMDJCLEVBQVNubkYsS0FBTW1uRixFQUFTeGpELEtBQU13akQsRUFBUzkyRSxzQkFVMUV1bUMsaUJBQUEsV0FFSXp4QyxLQUFLa2dGLGFBQ0x0OUQsSUFBTXEvRCxFQUFLamlGLEtBQUs2bkQsU0FBU2piLE9BRXpCNXNDLEtBQUtndUMsUUFBUS9CLFNBQVNqc0MsS0FBS3V2QixVQUFXMHlELEVBQUc3M0UsS0FBTTYzRSxFQUFHNTNFLEtBQU00M0UsRUFBRzMzRSxLQUFNMjNFLEVBQUcxM0UsbUJBU3hFc29FLGNBQUEsU0FBYzltQyxHQUlWLE9BRkEvckMsS0FBSzhuQyxlQUFldkUsYUFBYXdJLEVBQU8yekMsRUFBU3dDLGFBRTFDbGlGLEtBQUs2bkQsU0FBU2dyQixjQUFjNk0sRUFBU3dDLDBCQU9oREosZUFBQSxXQUVJLEdBQUk5aEYsS0FBS2dnRixZQUFjaGdGLEtBQUtrK0IsS0FDNUIsQ0FDSWwrQixLQUFLZ2dGLFVBQVloZ0YsS0FBS2srQixLQUl0QixJQUZBdGIsSUFBTXUvRCxFQUFVbGxELEVBQVFqOUIsS0FBS2srQixLQUFNcWhELElBRTFCN29GLEVBQUksRUFBR0EsRUFBSXNKLEtBQUt1NkUsUUFBUTVqRixPQUFRRCxJQUN6QyxDQUNJa3NCLElBQU1ndkIsRUFBUTV4QyxLQUFLdTZFLFFBQVE3akYsR0FFckJzcEYsRUFBWXB1QyxFQUFNZ3dDLFVBT2xCcE0sR0FMSzJNLEVBQVEsR0FBS25DLEVBQVUsR0FBTSxLQUtwQixLQUpUbUMsRUFBUSxHQUFLbkMsRUFBVSxHQUFNLEtBSVIsSUFBVSxFQUgvQm1DLEVBQVEsR0FBS25DLEVBQVUsR0FBTSxLQUt4Q3B1QyxFQUFNcTZCLFVBQVl1SixHQUFTLEtBQ1IsTUFBUkEsS0FDUyxJQUFSQSxJQUFpQixtQkFVekNxTSxrQkFBQSxXQUVJLEdBQUk3aEYsS0FBS2lnRixlQUFpQmpnRixLQUFLdXZCLFVBQVVtWixTQUF6QyxDQUtBMW9DLEtBQUtpZ0YsYUFBZWpnRixLQUFLdXZCLFVBQVVtWixTQWVuQyxJQWJBOWxCLElBQU1xbUIsRUFBS2pwQyxLQUFLdXZCLFVBQVV1WSxlQUNwQjVzQyxFQUFJK3RDLEVBQUcvdEMsRUFDUEMsRUFBSTh0QyxFQUFHOXRDLEVBQ1BqQyxFQUFJK3ZDLEVBQUcvdkMsRUFDUG9FLEVBQUkyckMsRUFBRzNyQyxFQUNQMGxDLEVBQUtpRyxFQUFHakcsR0FDUkMsRUFBS2dHLEVBQUdoRyxHQUVSdHJDLEVBQU9xSSxLQUFLNm5ELFNBQVMvYyxPQUNyQnVCLEVBQWFyc0MsS0FBS3FzQyxXQUVwQm9qQixFQUFRLEVBRUgvNEQsRUFBSSxFQUFHQSxFQUFJaUIsRUFBS2hCLE9BQVFELEdBQUssRUFDdEMsQ0FDSWtzQixJQUFNcFksRUFBSTdTLEVBQUtqQixHQUNUK1QsRUFBSTlTLEVBQUtqQixFQUFJLEdBRW5CMjFDLEVBQVdvakIsS0FBWXYwRCxFQUFJc1AsRUFBTXRSLEVBQUl1UixFQUFLdTRCLEVBQzFDcUosRUFBV29qQixLQUFZbnlELEVBQUltTixFQUFNdFAsRUFBSXFQLEVBQUt5NEIsaUJBU2xEbS9DLFVBQUEsV0FFSXgvRCxJQUFNbTlELEVBQWMvL0UsS0FBSysvRSxZQVF6QixPQU5JQSxJQUdBQSxFQUFZLzBDLGFBQWMsR0FHdkJockMsa0JBU1hxaUYsVUFBQSxTQUFVcCtDLEdBSU4sT0FGQWprQyxLQUFLNi9FLFFBQVU1N0MsRUFFUmprQyxrQkFXWHNpRixVQUFBLFdBS0ksT0FIQXRpRixLQUFLa2dGLGFBQ0xsZ0YsS0FBSzgvRSxXQUFZLEVBRVY5L0Usa0JBT1h1aUYsUUFBQSxXQUtJLE9BSEF2aUYsS0FBS2tnRixhQUNMbGdGLEtBQUs4L0UsV0FBWSxFQUVWOS9FLGtCQWVYdy9CLFFBQUEsU0FBUXhsQyxHQUVKc3pDLFlBQU05TixRQUFBdHNDLEtBQU84TSxLQUFDaEcsR0FFZGdHLEtBQUs2bkQsU0FBU2hCLFdBQ2lCLElBQTNCN21ELEtBQUs2bkQsU0FBU2hCLFVBRWQ3bUQsS0FBSzZuRCxTQUFTaHhELFVBR2xCbUosS0FBSzYvRSxRQUFVLEtBQ2Y3L0UsS0FBSysvRSxZQUFjLEtBQ25CLy9FLEtBQUs0L0UsV0FBV3BnRCxVQUNoQngvQixLQUFLNC9FLFdBQWEsS0FDbEI1L0UsS0FBSzIvRSxXQUFXbmdELFVBQ2hCeC9CLEtBQUsyL0UsV0FBYSxLQUNsQjMvRSxLQUFLNm5ELFNBQVcsS0FDaEI3bkQsS0FBS3FyRCxPQUFTLEtBQ2RyckQsS0FBS3FzQyxXQUFhLEtBQ2xCcnNDLEtBQUt1NkUsUUFBUTVqRixPQUFTLEVBQ3RCcUosS0FBS3U2RSxRQUFVLEtBRWZqdEMsWUFBTTlOLFFBQUF0c0MsS0FBTzhNLEtBQUNoRyw2Q0FobENPLENBQVNtMkMsSUEybEN0Q3N2QyxHQUFTeUMsWUFBYyxJQUFJdmdEOzs7Ozs7OztBQ2hvQzNCL2UsSUFBTTQvRCxHQUFZLElBQUk3Z0QsR0FDaEI4Z0QsR0FBVSxJQUFJMytELFlBQVksQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUE0QjNCNCtELEdBQU0sU0FBQXR5QyxHQUt2QixTQUFBdXlDLEVBQVk5a0MsR0FFUnZRLE9BQUt0dEMsTUFjTEEsS0FBSzRpRixRQUFVLElBQUk3Z0QsR0FDZi9oQyxLQUFLNmlGLGdCQUNMN2lGLEtBQ0M2OUMsRUFBVUEsRUFBUWdHLGNBQWNyNUMsRUFBSSxFQUNwQ3F6QyxFQUFVQSxFQUFRZ0csY0FBY3A1QyxFQUFJLEdBU3pDekssS0FBSzByRCxTQUFXLEtBUWhCMXJELEtBQUtpeUMsT0FBUyxFQVFkanlDLEtBQUtreUMsUUFBVSxFQVNmbHlDLEtBQUttZ0YsTUFBUSxLQUNibmdGLEtBQUtpc0UsU0FBVyxLQUNoQmpzRSxLQUFLaytCLEtBQU8sU0FTWmwrQixLQUFLNDlCLFVBQVlqSCxFQUFZQyxPQU83QjUyQixLQUFLcXJELE9BQVMsS0FTZHJyRCxLQUFLOGlGLFdBQWEsU0FFbEI5aUYsS0FBSzBvRCxJQUFNLEtBR1gxb0QsS0FBSzY5QyxRQUFVQSxHQUFXdUYsR0FBUTlaLE1BUWxDdHBDLEtBQUtxc0MsV0FBYSxJQUFJem9CLGFBQWEsR0FRbkM1akIsS0FBSytpRixrQkFBb0IsS0FFekIvaUYsS0FBS2lnRixjQUFnQixFQUNyQmpnRixLQUFLZ2pGLFlBQWMsRUFFbkJoakYsS0FBS2lqRixxQkFBdUIsRUFDNUJqakYsS0FBS2tqRixtQkFBcUIsRUFJMUJsakYsS0FBSzArQixRQUFVK2pELEdBQ2Z6aUYsS0FBS3crQixLQUFPLEVBQ1p4K0IsS0FBS2tMLE1BQVEsRUFTYmxMLEtBQUswb0UsV0FBYSxRQU1sQjFvRSxLQUFLdXVDLFVBQVcsRUFRaEJ2dUMsS0FBS21qRixhQUFlOXVELEVBQVMrQix3UkFRakNndEQsaUJBQUEsV0FFSXBqRixLQUFLZ2pGLFlBQWMsRUFDbkJoakYsS0FBS2tqRixtQkFBcUIsRUFDMUJsakYsS0FBSzhpRixXQUFhLFNBRWxCOWlGLEtBQUswb0QsSUFBTTFvRCxLQUFLMHJELFNBQVNoSSxLQUFLaEIsV0FFMUIxaUQsS0FBS2l5QyxTQUVManlDLEtBQUt5akMsTUFBTWo1QixFQUFJNlksRUFBS3JqQixLQUFLeWpDLE1BQU1qNUIsR0FBS3hLLEtBQUtpeUMsT0FBU2p5QyxLQUFLMHJELFNBQVNySSxLQUFLN3RCLE9BR3JFeDFCLEtBQUtreUMsVUFFTGx5QyxLQUFLeWpDLE1BQU1oNUIsRUFBSTRZLEVBQUtyakIsS0FBS3lqQyxNQUFNaDVCLEdBQUt6SyxLQUFLa3lDLFFBQVVseUMsS0FBSzByRCxTQUFTckksS0FBSzV0QixxQkFTOUVvdEQsZ0JBQUEsV0FFSTdpRixLQUFLaWdGLGNBQWdCLEVBQ3JCamdGLEtBQUtpakYscUJBQXVCLGVBTWhDcEIsa0JBQUEsV0FFSWovRCxJQUFNaTdCLEVBQVU3OUMsS0FBSzByRCxTQUVyQixHQUFJMXJELEtBQUtpZ0YsZUFBaUJqZ0YsS0FBS3V2QixVQUFVbVosVUFBWTFvQyxLQUFLZ2pGLGFBQWVubEMsRUFBUWlHLFVBQWpGLENBS0E5akQsS0FBS2lnRixhQUFlamdGLEtBQUt1dkIsVUFBVW1aLFNBQ25DMW9DLEtBQUtnakYsV0FBYW5sQyxFQUFRaUcsVUFJMUJsaEMsSUFBTXFtQixFQUFLanBDLEtBQUt1dkIsVUFBVXVZLGVBQ3BCNXNDLEVBQUkrdEMsRUFBRy90QyxFQUNQQyxFQUFJOHRDLEVBQUc5dEMsRUFDUGpDLEVBQUkrdkMsRUFBRy92QyxFQUNQb0UsRUFBSTJyQyxFQUFHM3JDLEVBQ1AwbEMsRUFBS2lHLEVBQUdqRyxHQUNSQyxFQUFLZ0csRUFBR2hHLEdBQ1JvSixFQUFhcnNDLEtBQUtxc0MsV0FDbEJ6b0MsRUFBT2k2QyxFQUFRajZDLEtBQ2Z5L0MsRUFBT3hGLEVBQVF3RixLQUNmQyxFQUFTdGpELEtBQUs0aUYsUUFFaEJTLEVBQUssRUFDTEMsRUFBSyxFQUNMQyxFQUFLLEVBQ0xDLEVBQUssRUFxQ1QsR0FuQ0k1L0UsR0FLQXkvRSxHQURBQyxFQUFLMS9FLEVBQUs0RyxFQUFLODRDLEVBQU90aEIsR0FBS3FoQixFQUFLN3RCLE9BQ3RCNXhCLEVBQUs0eEIsTUFHZit0RCxHQURBQyxFQUFLNS9FLEVBQUs2RyxFQUFLNjRDLEVBQU9yaEIsR0FBS29oQixFQUFLNXRCLFFBQ3RCN3hCLEVBQUs2eEIsU0FLZjR0RCxHQURBQyxHQUFNaGdDLEVBQU90aEIsR0FBS3FoQixFQUFLN3RCLE9BQ2I2dEIsRUFBSzd0QixNQUdmK3RELEdBREFDLEdBQU1sZ0MsRUFBT3JoQixHQUFLb2hCLEVBQUs1dEIsUUFDYjR0QixFQUFLNXRCLFFBSW5CNFcsRUFBVyxHQUFNbnhDLEVBQUlvb0YsRUFBT3BxRixFQUFJc3FGLEVBQU14Z0QsRUFDdENxSixFQUFXLEdBQU0vdUMsRUFBSWttRixFQUFPcm9GLEVBQUltb0YsRUFBTXJnRCxFQUd0Q29KLEVBQVcsR0FBTW54QyxFQUFJbW9GLEVBQU9ucUYsRUFBSXNxRixFQUFNeGdELEVBQ3RDcUosRUFBVyxHQUFNL3VDLEVBQUlrbUYsRUFBT3JvRixFQUFJa29GLEVBQU1wZ0QsRUFHdENvSixFQUFXLEdBQU1ueEMsRUFBSW1vRixFQUFPbnFGLEVBQUlxcUYsRUFBTXZnRCxFQUN0Q3FKLEVBQVcsR0FBTS91QyxFQUFJaW1GLEVBQU9wb0YsRUFBSWtvRixFQUFNcGdELEVBR3RDb0osRUFBVyxHQUFNbnhDLEVBQUlvb0YsRUFBT3BxRixFQUFJcXFGLEVBQU12Z0QsRUFDdENxSixFQUFXLEdBQU0vdUMsRUFBSWltRixFQUFPcG9GLEVBQUltb0YsRUFBTXJnRCxFQUVsQ2pqQyxLQUFLbWpGLGFBRUwsSUFBS3JnRSxJQUFJcHNCLEVBQUksRUFBR0EsRUFBSSxFQUFHQSxJQUVuQjIxQyxFQUFXMzFDLEdBQUtrVixLQUFLdXpDLE1BQU05UyxFQUFXMzFDLGtCQVNsRCtzRix5QkFBQSxXQUVJLEdBQUt6akYsS0FBSytpRixtQkFJTCxHQUFJL2lGLEtBQUtpakYsc0JBQXdCampGLEtBQUt1dkIsVUFBVW1aLFVBQVkxb0MsS0FBS2tqRixvQkFBc0JsakYsS0FBSzByRCxTQUFTNUgsVUFFdEcsWUFKQTlqRCxLQUFLK2lGLGtCQUFvQixJQUFJbi9ELGFBQWEsR0FPOUM1akIsS0FBS2lqRixvQkFBc0JqakYsS0FBS3V2QixVQUFVbVosU0FDMUMxb0MsS0FBS2tqRixrQkFBb0JsakYsS0FBSzByRCxTQUFTNUgsVUFHdkNsaEMsSUFBTWk3QixFQUFVNzlDLEtBQUswckQsU0FDZnJmLEVBQWFyc0MsS0FBSytpRixrQkFDbEIxL0IsRUFBT3hGLEVBQVF3RixLQUNmQyxFQUFTdGpELEtBQUs0aUYsUUFHZDM1QyxFQUFLanBDLEtBQUt1dkIsVUFBVXVZLGVBQ3BCNXNDLEVBQUkrdEMsRUFBRy90QyxFQUNQQyxFQUFJOHRDLEVBQUc5dEMsRUFDUGpDLEVBQUkrdkMsRUFBRy92QyxFQUNQb0UsRUFBSTJyQyxFQUFHM3JDLEVBQ1AwbEMsRUFBS2lHLEVBQUdqRyxHQUNSQyxFQUFLZ0csRUFBR2hHLEdBRVJxZ0QsR0FBTWhnQyxFQUFPdGhCLEdBQUtxaEIsRUFBSzd0QixNQUN2QjZ0RCxFQUFLQyxFQUFLamdDLEVBQUs3dEIsTUFFZmd1RCxHQUFNbGdDLEVBQU9yaEIsR0FBS29oQixFQUFLNXRCLE9BQ3ZCOHRELEVBQUtDLEVBQUtuZ0MsRUFBSzV0QixPQUdyQjRXLEVBQVcsR0FBTW54QyxFQUFJb29GLEVBQU9wcUYsRUFBSXNxRixFQUFNeGdELEVBQ3RDcUosRUFBVyxHQUFNL3VDLEVBQUlrbUYsRUFBT3JvRixFQUFJbW9GLEVBQU1yZ0QsRUFHdENvSixFQUFXLEdBQU1ueEMsRUFBSW1vRixFQUFPbnFGLEVBQUlzcUYsRUFBTXhnRCxFQUN0Q3FKLEVBQVcsR0FBTS91QyxFQUFJa21GLEVBQU9yb0YsRUFBSWtvRixFQUFNcGdELEVBR3RDb0osRUFBVyxHQUFNbnhDLEVBQUltb0YsRUFBT25xRixFQUFJcXFGLEVBQU12Z0QsRUFDdENxSixFQUFXLEdBQU0vdUMsRUFBSWltRixFQUFPcG9GLEVBQUlrb0YsRUFBTXBnRCxFQUd0Q29KLEVBQVcsR0FBTW54QyxFQUFJb29GLEVBQU9wcUYsRUFBSXFxRixFQUFNdmdELEVBQ3RDcUosRUFBVyxHQUFNL3VDLEVBQUlpbUYsRUFBT3BvRixFQUFJbW9GLEVBQU1yZ0QsZUFVMUMwTyxRQUFBLFNBQVFyQyxHQUVKdHZDLEtBQUs2aEYsb0JBRUx2eUMsRUFBU3NDLE1BQU00YSxrQkFBa0JsZCxFQUFTeUYsUUFBUS8wQyxLQUFLMG9FLGFBQ3ZEcDVCLEVBQVN5RixRQUFRLzBDLEtBQUswb0UsWUFBWXI1QixPQUFPcnZDLG1CQVE3Q3l4QyxpQkFBQSxXQUVJN3VCLElBQU1oZixFQUFPNUQsS0FBSzByRCxTQUFTOW5ELEtBQ3JCeS9DLEVBQU9yakQsS0FBSzByRCxTQUFTckksTUFHdEJ6L0MsR0FBU0EsRUFBSzR4QixRQUFVNnRCLEVBQUs3dEIsT0FBUzV4QixFQUFLNnhCLFNBQVc0dEIsRUFBSzV0QixRQUc1RHoxQixLQUFLNmhGLG9CQUNMN2hGLEtBQUtndUMsUUFBUWhDLFFBQVFoc0MsS0FBS3FzQyxjQUsxQnJzQyxLQUFLeWpGLDJCQUNMempGLEtBQUtndUMsUUFBUWhDLFFBQVFoc0MsS0FBSytpRixpQ0FVbENoMEMsZUFBQSxTQUFlckQsR0FHWCxPQUE2QixJQUF6QjFyQyxLQUFLdEwsU0FBU2lDLFFBRWRxSixLQUFLZ3VDLFFBQVE1akMsS0FBT3BLLEtBQUswckQsU0FBU3JJLEtBQUs3dEIsT0FBU3gxQixLQUFLNGlGLFFBQVE1Z0QsR0FDN0RoaUMsS0FBS2d1QyxRQUFRM2pDLEtBQU9ySyxLQUFLMHJELFNBQVNySSxLQUFLNXRCLFFBQVV6MUIsS0FBSzRpRixRQUFRM2dELEdBQzlEamlDLEtBQUtndUMsUUFBUTFqQyxLQUFPdEssS0FBSzByRCxTQUFTckksS0FBSzd0QixPQUFTLEVBQUl4MUIsS0FBSzRpRixRQUFRNWdELElBQ2pFaGlDLEtBQUtndUMsUUFBUXpqQyxLQUFPdkssS0FBSzByRCxTQUFTckksS0FBSzV0QixRQUFVLEVBQUl6MUIsS0FBSzRpRixRQUFRM2dELElBRTdEeUosSUFFSTFyQyxLQUFLb3VDLG1CQUVOcHVDLEtBQUtvdUMsaUJBQW1CLElBQUloRixJQUdoQ3NDLEVBQU8xckMsS0FBS291QyxrQkFHVHB1QyxLQUFLZ3VDLFFBQVFuQyxhQUFhSCxJQUc5QjRCLFlBQU15QixlQUFlNzdDLEtBQUs4TSxLQUFNMHJDLGdCQVMzQ21uQyxjQUFBLFNBQWM5bUMsR0FFVi9yQyxLQUFLOG5DLGVBQWV2RSxhQUFhd0ksRUFBT3kyQyxJQUV4QzUvRCxJQUFNNFMsRUFBUXgxQixLQUFLMHJELFNBQVNySSxLQUFLN3RCLE1BQzNCQyxFQUFTejFCLEtBQUswckQsU0FBU3JJLEtBQUs1dEIsT0FDNUJvVSxHQUFNclUsRUFBUXgxQixLQUFLc2pELE9BQU85NEMsRUFDNUJ1L0IsRUFBSyxFQUVULE9BQUl5NEMsR0FBVWg0RSxHQUFLcS9CLEdBQU0yNEMsR0FBVWg0RSxFQUFJcS9CLEVBQUtyVSxJQUV4Q3VVLEdBQU10VSxFQUFTejFCLEtBQUtzakQsT0FBTzc0QyxFQUV2QiszRSxHQUFVLzNFLEdBQUtzL0IsR0FBTXk0QyxHQUFVLzNFLEVBQUlzL0IsRUFBS3RVLGdCQW1CcEQrSixRQUFBLFNBQVF4bEMsR0FVSixHQVJBc3pDLFlBQU05TixRQUFBdHNDLEtBQU84TSxLQUFDaEcsR0FFZGdHLEtBQUswckQsU0FBUzNoRCxJQUFJLFNBQVUvSixLQUFLb2pGLGlCQUFrQnBqRixNQUVuREEsS0FBSzRpRixRQUFVLEtBRTJCLGtCQUFaNW9GLEVBQXdCQSxFQUFVQSxHQUFXQSxFQUFRNmpELFFBR25GLENBQ0lqN0IsSUFBTThnRSxFQUF3QyxrQkFBWjFwRixFQUF3QkEsRUFBVUEsR0FBV0EsRUFBUWkvQyxZQUV2Rmo1QyxLQUFLMHJELFNBQVNsc0IsVUFBVWtrRCxHQUc1QjFqRixLQUFLMHJELFNBQVcsS0FDaEIxckQsS0FBS3FyRCxPQUFTLE1BY2xCczNCLEVBQU96Z0UsS0FBQSxTQUFLL2dCLEVBQVFuSCxHQU1oQixPQUFPLElBQUkyb0YsRUFKTXhoRixhQUFrQmlpRCxHQUM3QmppRCxFQUNBLElBQUlpaUQsR0FBUWxoQyxLQUFLL2dCLEVBQVFuSCxLQWNuQ212QyxFQUFJZytCLFlBQUFqeUUsSUFBQSxTQUFZQyxHQUVSNkssS0FBS21qRixlQUFpQmh1RixJQUV0QjZLLEtBQUtpZ0YsY0FBZ0IsR0FFekJqZ0YsS0FBS21qRixhQUFlaHVGLEdBR3hCZzBDLEVBQUlnK0IsWUFBQWx5RSxJQUFBLFdBRUEsT0FBTytLLEtBQUttakYsY0FRaEJoNkMsRUFBSTNULE1BQUF2Z0MsSUFBQSxXQUVBLE9BQU8yVyxLQUFLaUQsSUFBSTdPLEtBQUt5akMsTUFBTWo1QixHQUFLeEssS0FBSzByRCxTQUFTckksS0FBSzd0QixPQUd2RDJULEVBQUkzVCxNQUFBdGdDLElBQUEsU0FBTUMsR0FFTnl0QixJQUFNeGtCLEVBQUlpbEIsRUFBS3JqQixLQUFLeWpDLE1BQU1qNUIsSUFBTSxFQUVoQ3hLLEtBQUt5akMsTUFBTWo1QixFQUFJcE0sRUFBSWpKLEVBQVE2SyxLQUFLMHJELFNBQVNySSxLQUFLN3RCLE1BQzlDeDFCLEtBQUtpeUMsT0FBUzk4QyxHQVFsQmcwQyxFQUFJMVQsT0FBQXhnQyxJQUFBLFdBRUEsT0FBTzJXLEtBQUtpRCxJQUFJN08sS0FBS3lqQyxNQUFNaDVCLEdBQUt6SyxLQUFLMHJELFNBQVNySSxLQUFLNXRCLFFBR3ZEMFQsRUFBSTFULE9BQUF2Z0MsSUFBQSxTQUFPQyxHQUVQeXRCLElBQU14a0IsRUFBSWlsQixFQUFLcmpCLEtBQUt5akMsTUFBTWg1QixJQUFNLEVBRWhDekssS0FBS3lqQyxNQUFNaDVCLEVBQUlyTSxFQUFJakosRUFBUTZLLEtBQUswckQsU0FBU3JJLEtBQUs1dEIsT0FDOUN6MUIsS0FBS2t5QyxRQUFVLzhDLEdBcUJuQmcwQyxFQUFJbWEsT0FBQXJ1RCxJQUFBLFdBRUEsT0FBTytLLEtBQUs0aUYsU0FHaEJ6NUMsRUFBSW1hLE9BQUFwdUQsSUFBQSxTQUFPQyxHQUVQNkssS0FBSzRpRixRQUFRL2dELFNBQVMxc0MsSUFVMUJnMEMsRUFBSWpMLEtBQUFqcEMsSUFBQSxXQUVBLE9BQU8rSyxLQUFLbWdGLE9BR2hCaDNDLEVBQUlqTCxLQUFBaHBDLElBQUEsU0FBS0MsR0FFTDZLLEtBQUttZ0YsTUFBUWhyRixFQUNiNkssS0FBS2lzRSxVQUFZOTJFLEdBQVMsS0FBZSxNQUFSQSxLQUE0QixJQUFSQSxJQUFpQixLQVExRWcwQyxFQUFJMFUsUUFBQTVvRCxJQUFBLFdBRUEsT0FBTytLLEtBQUswckQsVUFHaEJ2aUIsRUFBSTBVLFFBQUEzb0QsSUFBQSxTQUFRQyxHQUVKNkssS0FBSzByRCxXQUFhdjJELElBS3RCNkssS0FBSzByRCxTQUFXdjJELEdBQVNpdUQsR0FBUTlaLE1BQ2pDdHBDLEtBQUs4aUYsV0FBYSxTQUVsQjlpRixLQUFLZ2pGLFlBQWMsRUFDbkJoakYsS0FBS2tqRixtQkFBcUIsRUFFdEIvdEYsSUFHSUEsRUFBTThqRCxZQUFZRyxNQUVsQnA1QyxLQUFLb2pGLG1CQUlManVGLEVBQU00UyxLQUFLLFNBQVUvSCxLQUFLb2pGLGlCQUFrQnBqRixrREExbEJqQyxDQUFTbXdDLElsSHpCdkJ3ekMsR0FBZ0IsQ0FDekJDLGdCQUFpQixFQUNqQkMsa0JBQW1CLEdtSFBqQkMsR0FBZSxDQUNqQkMsTUFBTyxPQUNQQyxZQUFZLEVBQ1pDLFlBQVksRUFDWkMsZ0JBQWlCLEVBQ2pCQyxnQkFBaUJ2NEUsS0FBSzAyQixHQUFLLEVBQzNCOGhELGVBQWdCLEVBQ2hCQyxnQkFBaUIsUUFDakJDLG1CQUFvQixFQUNwQmxFLEtBQU0sUUFDTm1FLGlCQUFrQlosR0FBY0MsZ0JBQ2hDWSxrQkFBbUIsR0FDbkJDLFdBQVksUUFDWkMsU0FBVSxHQUNWQyxVQUFXLFNBQ1hDLFlBQWEsU0FDYkMsV0FBWSxTQUNaQyxjQUFlLEVBQ2ZDLFdBQVksRUFDWkMsU0FBVSxRQUNWQyxXQUFZLEdBQ1p2NkIsUUFBUyxFQUNUdzZCLE9BQVEsUUFDUkMsZ0JBQWlCLEVBQ2pCQyxhQUFjLGFBQ2R4aEYsTUFBTSxFQUNOeWhGLFdBQVksTUFDWkMsVUFBVSxFQUNWQyxjQUFlLElBQ2ZDLFFBQVMsR0FHUEMsR0FBc0IsQ0FDeEIsUUFDQSxhQUNBLFlBQ0EsVUFDQSxVQUNBLGFBYWlCQyxHQWtEakIsU0FBWXYwRCxHQUVSbnhCLEtBQUsybEYsUUFBVSxFQUVmM2xGLEtBQUtzdUIsUUFFVHMzRCxHQUF1QjVsRixLQUFNbXhCLEVBQU9BLHMyQkFxbUJ4QyxTQUFTMDBELEdBQWVyUSxHQUVwQixNQUFxQixpQkFBVkEsRUFFQXI0QyxFQUFXcTRDLElBRUssaUJBQVZBLEdBRWdCLElBQXhCQSxFQUFNaGhGLFFBQVEsUUFFZmdoRixFQUFRQSxFQUFNOXhFLFFBQVEsS0FBTSxNQUk3Qjh4RSxHQVVYLFNBQVNzUSxHQUFTdFEsR0FFZCxHQUFLdnNFLE1BQU1tUixRQUFRbzdELEdBS25CLENBQ0ksSUFBSzF5RCxJQUFJcHNCLEVBQUksRUFBR0EsRUFBSTgrRSxFQUFNNytFLFNBQVVELEVBRWhDOCtFLEVBQU05K0UsR0FBS212RixHQUFlclEsRUFBTTkrRSxJQUdwQyxPQUFPOCtFLEVBVFAsT0FBT3FRLEdBQWVyUSxHQW1EOUIsU0FBU29RLEdBQW1COTBFLEVBQVEzUCxFQUFRNGtGLEdBQ3hDLElBQUtuakUsSUFBTW9KLEtBQVErNUQsRUFDWDk4RSxNQUFNbVIsUUFBUWpaLEVBQU82cUIsSUFDckJsYixFQUFPa2IsR0FBUTdxQixFQUFPNnFCLEdBQU14eEIsUUFFNUJzVyxFQUFPa2IsR0FBUTdxQixFQUFPNnFCLEdBaHJCbEMwNUQsR0FBQTF5RixVQUFJNHVDLE1BQUEsV0FFSWhmLElBQU1vakUsRUFBbUIsR0FJekIsT0FGSkosR0FBdUJJLEVBQWtCaG1GLEtBQU04akYsSUFFcEMsSUFBSTRCLEdBQVVNLElBTTdCTixHQUFBMXlGLFVBQUlzN0IsTUFBQSxXQUVBczNELEdBQXVCNWxGLEtBQU04akYsR0FBY0EsS0FRL0NtQyxHQUFRbEMsTUFBQTl1RixJQUFBLFdBRUEsT0FBTytLLEtBQUtrbUYsUUFFcEJELEdBQVFsQyxNQUFBN3VGLElBQUEsU0FBTTZ1RixHQUVGL2pGLEtBQUtrbUYsU0FBV25DLElBRWhCL2pGLEtBQUtrbUYsT0FBU25DLEVBQ2QvakYsS0FBSzJsRixZQVNqQk0sR0FBUWpDLFdBQUEvdUYsSUFBQSxXQUVBLE9BQU8rSyxLQUFLbW1GLGFBRXBCRixHQUFRakMsV0FBQTl1RixJQUFBLFNBQVc4dUYsR0FFUGhrRixLQUFLbW1GLGNBQWdCbkMsSUFFckJoa0YsS0FBS21tRixZQUFjbkMsRUFDbkJoa0YsS0FBSzJsRixZQVNqQk0sR0FBUWhDLFdBQUFodkYsSUFBQSxXQUVBLE9BQU8rSyxLQUFLb21GLGFBRXBCSCxHQUFRaEMsV0FBQS91RixJQUFBLFNBQVcrdUYsR0FFUGprRixLQUFLb21GLGNBQWdCbkMsSUFFckJqa0YsS0FBS29tRixZQUFjbkMsRUFDbkJqa0YsS0FBSzJsRixZQVNqQk0sR0FBUS9CLGdCQUFBanZGLElBQUEsV0FFQSxPQUFPK0ssS0FBS3FtRixrQkFFcEJKLEdBQVEvQixnQkFBQWh2RixJQUFBLFNBQWdCZ3ZGLEdBRVpsa0YsS0FBS3FtRixtQkFBcUJuQyxJQUUxQmxrRixLQUFLcW1GLGlCQUFtQm5DLEVBQ3hCbGtGLEtBQUsybEYsWUFTakJNLEdBQVE5QixnQkFBQWx2RixJQUFBLFdBRUEsT0FBTytLLEtBQUtzbUYsa0JBRXBCTCxHQUFROUIsZ0JBQUFqdkYsSUFBQSxTQUFnQml2RixHQUVabmtGLEtBQUtzbUYsbUJBQXFCbkMsSUFFMUJua0YsS0FBS3NtRixpQkFBbUJuQyxFQUN4Qm5rRixLQUFLMmxGLFlBU2pCTSxHQUFRN0IsZUFBQW52RixJQUFBLFdBRUEsT0FBTytLLEtBQUt1bUYsaUJBRXBCTixHQUFRN0IsZUFBQWx2RixJQUFBLFNBQWVrdkYsR0FFWHBrRixLQUFLdW1GLGtCQUFvQm5DLElBRXpCcGtGLEtBQUt1bUYsZ0JBQWtCbkMsRUFDdkJwa0YsS0FBSzJsRixZQVNqQk0sR0FBUTVCLGdCQUFBcHZGLElBQUEsV0FFQSxPQUFPK0ssS0FBS3dtRixrQkFFcEJQLEdBQVE1QixnQkFBQW52RixJQUFBLFNBQWdCbXZGLEdBRXBCLElBQVVvQyxFQUFjWCxHQUFTekIsR0FDekJya0YsS0FBS3dtRixtQkFBcUJDLElBRTFCem1GLEtBQUt3bUYsaUJBQW1CQyxFQUN4QnptRixLQUFLMmxGLFlBU2pCTSxHQUFRM0IsbUJBQUFydkYsSUFBQSxXQUVBLE9BQU8rSyxLQUFLMG1GLHFCQUVwQlQsR0FBUTNCLG1CQUFBcHZGLElBQUEsU0FBbUJvdkYsR0FFZnRrRixLQUFLMG1GLHNCQUF3QnBDLElBRTdCdGtGLEtBQUswbUYsb0JBQXNCcEMsRUFDM0J0a0YsS0FBSzJsRixZQVdqQk0sR0FBUTdGLEtBQUFuckYsSUFBQSxXQUVBLE9BQU8rSyxLQUFLMm1GLE9BRXBCVixHQUFRN0YsS0FBQWxyRixJQUFBLFNBQUtrckYsR0FFVCxJQUFVcUcsRUFBY1gsR0FBUzFGLEdBQ3pCcGdGLEtBQUsybUYsUUFBVUYsSUFFZnptRixLQUFLMm1GLE1BQVFGLEVBQ2J6bUYsS0FBSzJsRixZQVVqQk0sR0FBUTFCLGlCQUFBdHZGLElBQUEsV0FFQSxPQUFPK0ssS0FBSzRtRixtQkFFcEJYLEdBQVExQixpQkFBQXJ2RixJQUFBLFNBQWlCcXZGLEdBRWJ2a0YsS0FBSzRtRixvQkFBc0JyQyxJQUUzQnZrRixLQUFLNG1GLGtCQUFvQnJDLEVBQ3pCdmtGLEtBQUsybEYsWUFVakJNLEdBQVF6QixrQkFBQXZ2RixJQUFBLFdBRUEsT0FBTytLLEtBQUs2bUYsb0JBRXBCWixHQUFRekIsa0JBQUF0dkYsSUFBQSxTQUFrQnN2RixJQXliMUIsU0FBd0JzQyxFQUFRQyxHQUU1QixJQUFLOTlFLE1BQU1tUixRQUFRMHNFLEtBQVk3OUUsTUFBTW1SLFFBQVEyc0UsR0FFekMsT0FBTyxFQUdYLEdBQUlELEVBQU9ud0YsU0FBV293RixFQUFPcHdGLE9BRXpCLE9BQU8sRUFHWCxJQUFLbXNCLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJb3dGLEVBQU9ud0YsU0FBVUQsRUFFakMsR0FBSW93RixFQUFPcHdGLEtBQU9xd0YsRUFBT3J3RixHQUVyQixPQUFPLEVBSWYsT0FBTyxHQTNjRXN3RixDQUFlaG5GLEtBQUs2bUYsbUJBQW1CckMsS0FFeEN4a0YsS0FBSzZtRixtQkFBcUJyQyxFQUMxQnhrRixLQUFLMmxGLFlBU2pCTSxHQUFReEIsV0FBQXh2RixJQUFBLFdBRUEsT0FBTytLLEtBQUtpbkYsYUFFcEJoQixHQUFReEIsV0FBQXZ2RixJQUFBLFNBQVd1dkYsR0FFUHprRixLQUFLeWtGLGFBQWVBLElBRXBCemtGLEtBQUtpbkYsWUFBY3hDLEVBQ25CemtGLEtBQUsybEYsWUFVakJNLEdBQVF2QixTQUFBenZGLElBQUEsV0FFQSxPQUFPK0ssS0FBS2tuRixXQUVwQmpCLEdBQVF2QixTQUFBeHZGLElBQUEsU0FBU3d2RixHQUVMMWtGLEtBQUtrbkYsWUFBY3hDLElBRW5CMWtGLEtBQUtrbkYsVUFBWXhDLEVBQ2pCMWtGLEtBQUsybEYsWUFVakJNLEdBQVF0QixVQUFBMXZGLElBQUEsV0FFQSxPQUFPK0ssS0FBS21uRixZQUVwQmxCLEdBQVF0QixVQUFBenZGLElBQUEsU0FBVXl2RixHQUVOM2tGLEtBQUttbkYsYUFBZXhDLElBRXBCM2tGLEtBQUttbkYsV0FBYXhDLEVBQ2xCM2tGLEtBQUsybEYsWUFVakJNLEdBQVFyQixZQUFBM3ZGLElBQUEsV0FFQSxPQUFPK0ssS0FBS29uRixjQUVwQm5CLEdBQVFyQixZQUFBMXZGLElBQUEsU0FBWTB2RixHQUVSNWtGLEtBQUtvbkYsZUFBaUJ4QyxJQUV0QjVrRixLQUFLb25GLGFBQWV4QyxFQUNwQjVrRixLQUFLMmxGLFlBVWpCTSxHQUFRcEIsV0FBQTV2RixJQUFBLFdBRUEsT0FBTytLLEtBQUtxbkYsYUFFcEJwQixHQUFRcEIsV0FBQTN2RixJQUFBLFNBQVcydkYsR0FFUDdrRixLQUFLcW5GLGNBQWdCeEMsSUFFckI3a0YsS0FBS3FuRixZQUFjeEMsRUFDbkI3a0YsS0FBSzJsRixZQVNqQk0sR0FBUW5CLGNBQUE3dkYsSUFBQSxXQUVBLE9BQU8rSyxLQUFLc25GLGdCQUVwQnJCLEdBQVFuQixjQUFBNXZGLElBQUEsU0FBYzR2RixHQUVWOWtGLEtBQUtzbkYsaUJBQW1CeEMsSUFFeEI5a0YsS0FBS3NuRixlQUFpQnhDLEVBQ3RCOWtGLEtBQUsybEYsWUFTakJNLEdBQVFsQixXQUFBOXZGLElBQUEsV0FFQSxPQUFPK0ssS0FBS3VuRixhQUVwQnRCLEdBQVFsQixXQUFBN3ZGLElBQUEsU0FBVzZ2RixHQUVQL2tGLEtBQUt1bkYsY0FBZ0J4QyxJQUVyQi9rRixLQUFLdW5GLFlBQWN4QyxFQUNuQi9rRixLQUFLMmxGLFlBU2pCTSxHQUFRVCxRQUFBdndGLElBQUEsV0FFQSxPQUFPK0ssS0FBS3duRixVQUVwQnZCLEdBQVFULFFBQUF0d0YsSUFBQSxTQUFRc3dGLEdBRUp4bEYsS0FBS3duRixXQUFhaEMsSUFFbEJ4bEYsS0FBS3duRixTQUFXaEMsRUFDaEJ4bEYsS0FBSzJsRixZQVVqQk0sR0FBUWpCLFNBQUEvdkYsSUFBQSxXQUVBLE9BQU8rSyxLQUFLeW5GLFdBRXBCeEIsR0FBUWpCLFNBQUE5dkYsSUFBQSxTQUFTOHZGLEdBRUxobEYsS0FBS3luRixZQUFjekMsSUFFbkJobEYsS0FBS3luRixVQUFZekMsRUFDakJobEYsS0FBSzJsRixZQVVqQk0sR0FBUWhCLFdBQUFod0YsSUFBQSxXQUVBLE9BQU8rSyxLQUFLMG5GLGFBRXBCekIsR0FBUWhCLFdBQUEvdkYsSUFBQSxTQUFXK3ZGLEdBRVBqbEYsS0FBSzBuRixjQUFnQnpDLElBRXJCamxGLEtBQUswbkYsWUFBY3pDLEVBQ25CamxGLEtBQUsybEYsWUFVakJNLEdBQVF2N0IsUUFBQXoxRCxJQUFBLFdBRUEsT0FBTytLLEtBQUsybkYsVUFFcEIxQixHQUFRdjdCLFFBQUF4MUQsSUFBQSxTQUFRdzFELEdBRUoxcUQsS0FBSzJuRixXQUFhajlCLElBRWxCMXFELEtBQUsybkYsU0FBV2o5QixFQUNoQjFxRCxLQUFLMmxGLFlBVWpCTSxHQUFRZixPQUFBandGLElBQUEsV0FFQSxPQUFPK0ssS0FBSzRuRixTQUVwQjNCLEdBQVFmLE9BQUFod0YsSUFBQSxTQUFPZ3dGLEdBRVgsSUFBVXVCLEVBQWNYLEdBQVNaLEdBQ3pCbGxGLEtBQUs0bkYsVUFBWW5CLElBRWpCem1GLEtBQUs0bkYsUUFBVW5CLEVBQ2Z6bUYsS0FBSzJsRixZQVVqQk0sR0FBUWQsZ0JBQUFsd0YsSUFBQSxXQUVBLE9BQU8rSyxLQUFLNm5GLGtCQUVwQjVCLEdBQVFkLGdCQUFBandGLElBQUEsU0FBZ0Jpd0YsR0FFWm5sRixLQUFLNm5GLG1CQUFxQjFDLElBRTFCbmxGLEtBQUs2bkYsaUJBQW1CMUMsRUFDeEJubEYsS0FBSzJsRixZQVNqQk0sR0FBUWIsYUFBQW53RixJQUFBLFdBRUEsT0FBTytLLEtBQUs4bkYsZUFFcEI3QixHQUFRYixhQUFBbHdGLElBQUEsU0FBYWt3RixHQUVUcGxGLEtBQUs4bkYsZ0JBQWtCMUMsSUFFdkJwbEYsS0FBSzhuRixjQUFnQjFDLEVBQ3JCcGxGLEtBQUsybEYsWUFTakJNLEdBQVFyaUYsS0FBQTNPLElBQUEsV0FFQSxPQUFPK0ssS0FBSytuRixPQUVwQjlCLEdBQVFyaUYsS0FBQTFPLElBQUEsU0FBSzBPLEdBRUQ1RCxLQUFLK25GLFFBQVVua0YsSUFFZjVELEtBQUsrbkYsTUFBUW5rRixFQUNiNUQsS0FBSzJsRixZQWdCakJNLEdBQVFaLFdBQUFwd0YsSUFBQSxXQUVBLE9BQU8rSyxLQUFLZ29GLGFBRXBCL0IsR0FBUVosV0FBQW53RixJQUFBLFNBQVdtd0YsR0FFUHJsRixLQUFLZ29GLGNBQWdCM0MsSUFFckJybEYsS0FBS2dvRixZQUFjM0MsRUFDbkJybEYsS0FBSzJsRixZQVNqQk0sR0FBUVgsU0FBQXJ3RixJQUFBLFdBRUEsT0FBTytLLEtBQUtpb0YsV0FFcEJoQyxHQUFRWCxTQUFBcHdGLElBQUEsU0FBU293RixHQUVMdGxGLEtBQUtpb0YsWUFBYzNDLElBRW5CdGxGLEtBQUtpb0YsVUFBWTNDLEVBQ2pCdGxGLEtBQUsybEYsWUFTakJNLEdBQVFWLGNBQUF0d0YsSUFBQSxXQUVBLE9BQU8rSyxLQUFLa29GLGdCQUVwQmpDLEdBQVFWLGNBQUFyd0YsSUFBQSxTQUFjcXdGLEdBRVZ2bEYsS0FBS2tvRixpQkFBbUIzQyxJQUV4QnZsRixLQUFLa29GLGVBQWlCM0MsRUFDdEJ2bEYsS0FBSzJsRixZQVNqQkQsR0FBQTF5RixVQUFJbTFGLGFBQUEsV0FHQSxJQUFVQyxFQUEyQyxpQkFBbEJwb0YsS0FBSzBrRixTQUE0QjFrRixLQUFLLGNBQWVBLEtBQUswa0YsU0FJckYyRCxFQUFlcm9GLEtBQUt5a0YsV0FFbkJ4N0UsTUFBTW1SLFFBQVFwYSxLQUFLeWtGLGNBRXhCNEQsRUFBbUJyb0YsS0FBS3lrRixXQUFXMWxGLE1BQU0sTUFHekMsSUFBSytqQixJQUFJcHNCLEVBQUkyeEYsRUFBYTF4RixPQUFTLEVBQUdELEdBQUssRUFBR0EsSUFDbEQsQ0FFSSxJQUFRK3RGLEVBQWE0RCxFQUFhM3hGLEdBQUdrTixRQUc1QixxQkFBdUJoRixLQUFLNmxGLElBQWVnQixHQUFvQmp4RixRQUFRaXdGLEdBQWMsSUFFdEZBLEVBQWEsSUFBSUEsRUFBVSxLQUUvQjRELEVBQWEzeEYsR0FBSyt0RixFQUcxQixPQUFjemtGLEtBQUssY0FBYUEsS0FBSyxZQUFXLElBQUlBLEtBQUssV0FBVSxJQUFJb29GLEVBQWMsSUFBSUMsRUFBYTFzRixLQUFLLCtDQ2pzQi9HLElBQXFCMnNGLEdBYWpCLFNBQVlsdEUsRUFBTStWLEVBQU9xRSxFQUFPQyxFQUFROHlELEVBQU9DLEVBQVl6RCxFQUFZMEQsRUFBY0MsR0FPakYxb0YsS0FBS29iLEtBQU9BLEVBT1pwYixLQUFLbXhCLE1BQVFBLEVBT2JueEIsS0FBS3cxQixNQUFRQSxFQU9ieDFCLEtBQUt5MUIsT0FBU0EsRUFPZHoxQixLQUFLdW9GLE1BQVFBLEVBT2J2b0YsS0FBS3dvRixXQUFhQSxFQU9sQnhvRixLQUFLK2tGLFdBQWFBLEVBT2xCL2tGLEtBQUt5b0YsYUFBZUEsRUFPcEJ6b0YsS0FBSzBvRixlQUFpQkEsR0FZOUJKLEdBQVdLLFlBQUEsU0FBWXZ0RSxFQUFNK1YsRUFBT20wRCxFQUFVNW9ELGtCQUFTNHJELEdBQVlNLFNBRTNEdEQsRUFBVyxNQUFDQSxFQUErQ24wRCxFQUFNbTBELFNBQVdBLEVBQ2hGLElBQVV1RCxFQUFPMTNELEVBQU1nM0QsZUFDYk8sRUFBaUJKLEdBQVlRLFlBQVlELEdBSWYsSUFBNUJILEVBQWVoRSxXQUVmZ0UsRUFBZWhFLFNBQVd2ekQsRUFBTXV6RCxTQUNoQ2dFLEVBQWVLLE9BQVM1M0QsRUFBTXV6RCxVQUd0QyxJQUFVNThFLEVBQVU0MEIsRUFBT0UsV0FBVyxNQUVsQzkwQixFQUFRK2dGLEtBQU9BLEVBT2YsSUFMQWptRSxJQUNNMmxFLEdBRGFqRCxFQUFXZ0QsR0FBWWhELFNBQVNscUUsRUFBTStWLEVBQU91TCxHQUFVdGhCLEdBQ2pEcmMsTUFBTSxrQkFDekJ5cEYsRUFBYSxJQUFJdi9FLE1BQU1zL0UsRUFBTTV4RixRQUMvQjh4RixFQUFlLEVBRVYveEYsRUFBSSxFQUFHQSxFQUFJNnhGLEVBQU01eEYsT0FBUUQsSUFDdEMsQ0FDUWtzQixJQUFNcTVELEVBQVluMEUsRUFBUTZnRixZQUFZSixFQUFNN3hGLElBQUk4K0IsT0FBVSt5RCxFQUFNN3hGLEdBQUdDLE9BQVMsR0FBS3c2QixFQUFNMnpELGNBRXZGMEQsRUFBVzl4RixHQUFLdWxGLEVBQ3BCd00sRUFBbUI3OEUsS0FBS0MsSUFBSTQ4RSxFQUFjeE0sR0FFOUMsSUFBUXptRCxFQUFRaXpELEVBQWV0M0QsRUFBTWcwRCxnQkFFN0JoMEQsRUFBTTh5RCxhQUVOenVELEdBQVNyRSxFQUFNbXpELG9CQUduQjFoRSxJQUFNbWlFLEVBQWE1ekQsRUFBTTR6RCxZQUFjMkQsRUFBZWhFLFNBQVd2ekQsRUFBTWcwRCxnQkFDbkUxdkQsRUFBUzdwQixLQUFLQyxJQUFJazVFLEVBQVkyRCxFQUFlaEUsU0FBV3Z6RCxFQUFNZzBELGtCQUMxRG9ELEVBQU01eEYsT0FBUyxJQUFNb3VGLEVBQWE1ekQsRUFBTXEwRCxTQU9wRCxPQUxRcjBELEVBQU04eUQsYUFFTnh1RCxHQUFVdEUsRUFBTW16RCxvQkFHYixJQUFJZ0UsR0FDUGx0RSxFQUNBK1YsRUFDQXFFLEVBQ0FDLEVBQ0E4eUQsRUFDQUMsRUFDQXpELEVBQWE1ekQsRUFBTXEwRCxRQUNuQmlELEVBQ0FDLElBY1pKLEdBQVdoRCxTQUFBLFNBQVNscUUsRUFBTStWLEVBQU91TCxrQkFBUzRyRCxHQUFZTSxTQTZCOUMsSUEzQkosSUFBVTlnRixFQUFVNDBCLEVBQU9FLFdBQVcsTUFFOUJwSCxFQUFRLEVBQ1I2cUQsRUFBTyxHQUNQa0ksRUFBUSxHQUVOeG5CLEVBQVEsR0FDbEIrakIsRUFBQTN6RCxFQUFBMnpELGNBQTJCTyxFQUFBbDBELEVBQUFrMEQsV0FHakIyRCxFQUFpQlYsR0FBWVUsZUFBZTNELEdBQzVDNEQsRUFBbUJYLEdBQVlXLGlCQUFpQjVELEdBR2xENkQsR0FBb0JGLEVBUWxCekQsRUFBZ0JwMEQsRUFBTW8wRCxjQUFnQlQsRUFHdENxRSxFQUFTYixHQUFZYyxTQUFTaHVFLEdBRTNCMWtCLEVBQUksRUFBR0EsRUFBSXl5RixFQUFPeHlGLE9BQVFELElBQ3ZDLENBRUksSUFBUTJ5RixFQUFRRixFQUFPenlGLEdBR25CLEdBQUk0eEYsR0FBWWdCLFVBQVVELEdBQzlCLENBRUksSUFBU0osRUFDVCxDQUNJVixHQUFhRCxHQUFZaUIsUUFBUWxKLEdBQzdCNkksR0FBb0JGLEVBQ3hCM0ksRUFBVyxHQUNYN3FELEVBQVksRUFDUixTQUtSNnpELEVBQVksSUFJWixHQUFJTCxFQUNSLENBRUksSUFBVVEsRUFBc0JsQixHQUFZbUIsZ0JBQWdCSixHQUNsREssRUFBc0JwQixHQUFZbUIsZ0JBQWdCcEosRUFBS0EsRUFBSzFwRixPQUFTLElBRS9FLEdBQVE2eUYsR0FBdUJFLEVBRXZCLFNBS1I5bUUsSUFBTSttRSxFQUFhckIsR0FBWXNCLGFBQWFQLEVBQU92RSxFQUFlL2pCLEVBQU9qNUQsR0FHN0UsR0FBUTZoRixFQUFhcEUsRUFZakIsR0FUaUIsS0FBVGxGLElBR0prSSxHQUFhRCxHQUFZaUIsUUFBUWxKLEdBQ2pDQSxFQUFXLEdBQ1g3cUQsRUFBWSxHQUlSOHlELEdBQVl1QixjQUFjUixFQUFPbDRELEVBQU02eUQsWUFNdkMsSUFISixJQUFVOEYsRUFBYVQsRUFBTXRxRixNQUFNLElBR3RCN0UsRUFBSSxFQUFHQSxFQUFJNHZGLEVBQVduekYsT0FBUXVELElBQzNDLENBTVEsSUFMSixJQUFRNnZGLEVBQU9ELEVBQVc1dkYsR0FFbEI0SyxFQUFJLEVBR0RnbEYsRUFBVzV2RixFQUFJNEssSUFDMUIsQ0FDSSxJQUFVa2xGLEVBQVdGLEVBQVc1dkYsRUFBSTRLLEdBQzFCbWxGLEVBQVdGLEVBQUtBLEVBQUtwekYsT0FBUyxHQUdwQyxHQUFLMnhGLEdBQVk0QixjQUFjRCxFQUFVRCxFQUFVWCxFQUFPbnZGLEVBQUdpM0IsRUFBTTZ5RCxZQU8vRCxNQUpKK0YsR0FBWUMsRUFPaEJsbEYsSUFHQTVLLEdBQUs2dkYsRUFBS3B6RixPQUFTLEVBRW5CaXNCLElBQU11bkUsRUFBaUI3QixHQUFZc0IsYUFBYUcsRUFBTWpGLEVBQWUvakIsRUFBT2o1RCxHQUV4RXFpRixFQUFpQjMwRCxFQUFRK3ZELElBRTdCZ0QsR0FBYUQsR0FBWWlCLFFBQVFsSixHQUNqQzZJLEdBQXVCLEVBQ3ZCN0ksRUFBVyxHQUNYN3FELEVBQVksR0FHaEI2cUQsR0FBWTBKLEVBQ1p2MEQsR0FBYTIwRCxNQU1yQixDQUdZOUosRUFBSzFwRixPQUFTLElBRWxCNHhGLEdBQWFELEdBQVlpQixRQUFRbEosR0FDakNBLEVBQVcsR0FDWDdxRCxFQUFZLEdBR2hCLElBQVU0MEQsRUFBYzF6RixJQUFNeXlGLEVBQU94eUYsT0FBUyxFQUc5QzR4RixHQUFhRCxHQUFZaUIsUUFBUUYsR0FBUWUsR0FDekNsQixHQUF1QixFQUN2QjdJLEVBQVcsR0FDWDdxRCxFQUFZLE9BU1JtMEQsRUFBYW4wRCxFQUFRK3ZELElBR3pCMkQsR0FBdUIsRUFHdkJYLEdBQWFELEdBQVlpQixRQUFRbEosR0FHakNBLEVBQVcsR0FDWDdxRCxFQUFZLElBSVI2cUQsRUFBSzFwRixPQUFTLElBQU0yeEYsR0FBWW1CLGdCQUFnQkosSUFBVUgsS0FHOUQ3SSxHQUFZZ0osRUFHWjd6RCxHQUFhbTBELEdBT3pCLE9BRkFwQixHQUFhRCxHQUFZaUIsUUFBUWxKLEdBQU0sSUFjM0NpSSxHQUFXaUIsUUFBQSxTQUFRbEosRUFBTWdLLEdBTXJCLHVCQU4rQixHQUUvQmhLLEVBQVdpSSxHQUFZZ0MsVUFBVWpLLEdBRWpDQSxFQUFXLEVBQWVBLEVBQUksS0FBT0EsR0FlekNpSSxHQUFXc0IsYUFBQSxTQUFhN3JGLEVBQUsrbUYsRUFBZS9qQixFQUFPajVELEdBRS9DLElBQVEwdEIsRUFBUXVyQyxFQUFNaGpFLEdBRXRCLFFBQWtCdEgsSUFBVisrQixFQUNSLENBQ1E1UyxJQUFNMm5FLEVBQVl4c0YsRUFBVSxPQUFJK21GLEVBRWhDdHZELEVBQVExdEIsRUFBUTZnRixZQUFZNXFGLEdBQUt5M0IsTUFBUSswRCxFQUN6Q3hwQixFQUFNaGpFLEdBQU95M0IsRUFHckIsT0FBV0EsR0FVZjh5RCxHQUFXVSxlQUFBLFNBQWUzRCxHQUV0QixNQUEyQixXQUFmQSxHQUEwQyxhQUFmQSxHQVUzQ2lELEdBQVdXLGlCQUFBLFNBQWlCNUQsR0FFcEIsTUFBdUIsV0FBZkEsR0FVaEJpRCxHQUFXZ0MsVUFBQSxTQUFVbHZFLEdBRWIsR0FBb0IsaUJBQVRBLEVBRVgsTUFBVyxHQUdYLElBQUswSCxJQUFJcHNCLEVBQUkwa0IsRUFBS3prQixPQUFTLEVBQUdELEdBQUssRUFBR0EsSUFDMUMsQ0FDSSxJQUFVcXpGLEVBQU8zdUUsRUFBSzFrQixHQUVsQixJQUFLNHhGLEdBQVltQixnQkFBZ0JNLEdBRTdCLE1BR1IzdUUsRUFBV0EsRUFBSzVnQixNQUFNLEdBQUksR0FHOUIsT0FBVzRnQixHQVVma3RFLEdBQVdnQixVQUFBLFNBQVVTLEdBRWIsTUFBb0IsaUJBQVRBLEdBS0h6QixHQUFZa0MsVUFBVWgyRixRQUFRdTFGLEVBQUtobEYsV0FBVyxLQUFPLEdBVXJFdWpGLEdBQVdtQixnQkFBQSxTQUFnQk0sR0FFbkIsTUFBb0IsaUJBQVRBLEdBS0h6QixHQUFZbUMsZ0JBQWdCajJGLFFBQVF1MUYsRUFBS2hsRixXQUFXLEtBQU8sR0FVM0V1akYsR0FBV2MsU0FBQSxTQUFTaHVFLEdBRVp3SCxJQUFNdW1FLEVBQVMsR0FDWEUsRUFBUSxHQUVaLEdBQW9CLGlCQUFUanVFLEVBRVgsT0FBVyt0RSxFQUdYLElBQUtybUUsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUkwa0IsRUFBS3prQixPQUFRRCxJQUNyQyxDQUNJLElBQVVxekYsRUFBTzN1RSxFQUFLMWtCLEdBRWQ0eEYsR0FBWW1CLGdCQUFnQk0sSUFBU3pCLEdBQVlnQixVQUFVUyxJQUU3QyxLQUFWVixJQUVBRixFQUFPMTBGLEtBQUs0MEYsR0FDaEJBLEVBQVksSUFHWkYsRUFBTzEwRixLQUFLczFGLElBS3BCVixHQUFhVSxFQVFqQixNQUxrQixLQUFWVixHQUVBRixFQUFPMTBGLEtBQUs0MEYsR0FHVEYsR0FjZmIsR0FBV3VCLGNBQUEsU0FBY1IsRUFBT3JGLEdBRTVCLE9BQVdBLEdBa0Jmc0UsR0FBVzRCLGNBQUEsU0FBY0gsRUFBTUMsRUFBVVgsRUFBTzVzRSxFQUFPdW5FLEdBRW5ELE9BQVcsR0FVZnNFLEdBQVdRLFlBQUEsU0FBWUQsR0FHZixHQUFJUCxHQUFZb0MsT0FBTzdCLEdBRW5CLE9BQU9QLEdBQVlvQyxPQUFPN0IsR0FHOUJqbUUsSUFBTStuRSxFQUFhLEdBRWJqdUQsRUFBUzRyRCxHQUFZTSxRQUNyQjlnRixFQUFVd2dGLEdBQVlzQyxTQUU1QjlpRixFQUFRK2dGLEtBQU9BLEVBRW5CLElBQVVnQyxFQUFnQnZDLEdBQVl3QyxlQUFpQnhDLEdBQVl5QyxnQkFDekR2MUQsRUFBUTVwQixLQUFLcStCLEtBQUtuaUMsRUFBUTZnRixZQUFZa0MsR0FBZXIxRCxPQUN2RHcxRCxFQUFXcC9FLEtBQUtxK0IsS0FBS25pQyxFQUFRNmdGLFlBQVlMLEdBQVl5QyxpQkFBaUJ2MUQsT0FDcEVDLEVBQVMsRUFBSXUxRCxFQUV2QkEsRUFBZUEsRUFBVzFDLEdBQVkyQyxvQkFBc0IsRUFFeER2dUQsRUFBT2xILE1BQVFBLEVBQ2ZrSCxFQUFPakgsT0FBU0EsRUFFaEIzdEIsRUFBUSs4QyxVQUFZLE9BQ3BCLzhDLEVBQVFnOUMsU0FBUyxFQUFHLEVBQUd0dkIsRUFBT0MsR0FFOUIzdEIsRUFBUStnRixLQUFPQSxFQUVmL2dGLEVBQVFzOUUsYUFBZSxhQUN2QnQ5RSxFQUFRKzhDLFVBQVksT0FDeEIvOEMsRUFBWW9qRixTQUFTTCxFQUFlLEVBQUdHLEdBRW5DcG9FLElBQU11b0UsRUFBWXJqRixFQUFRODNCLGFBQWEsRUFBRyxFQUFHcEssRUFBT0MsR0FBUTk5QixLQUN0RGdvQyxFQUFTd3JELEVBQVV4MEYsT0FDbkIwcEYsRUFBZSxFQUFSN3FELEVBRVQ5K0IsRUFBSSxFQUNKTSxFQUFNLEVBQ05vVyxHQUFPLEVBR2YsSUFBUzFXLEVBQUksRUFBR0EsRUFBSXMwRixJQUFZdDBGLEVBQ2hDLENBQ1EsSUFBS29zQixJQUFJNW9CLEVBQUksRUFBR0EsRUFBSW1tRixFQUFNbm1GLEdBQUssRUFFL0IsR0FBK0IsTUFBdkJpeEYsRUFBVW4wRixFQUFNa0QsR0FDeEIsQ0FDSWtULEdBQVcsRUFDUCxNQUdaLEdBQVNBLEVBTUQsTUFKSnBXLEdBQVdxcEYsRUFjbkIsSUFOSXNLLEVBQVc1QixPQUFTaUMsRUFBV3QwRixFQUUvQk0sRUFBTTJvQyxFQUFTMGdELEVBQ25CanpFLEdBQVcsRUFHRjFXLEVBQUkrK0IsRUFBUS8rQixFQUFJczBGLElBQVl0MEYsRUFDckMsQ0FDUSxJQUFLb3NCLElBQUk1b0IsRUFBSSxFQUFHQSxFQUFJbW1GLEVBQU1ubUYsR0FBSyxFQUUvQixHQUErQixNQUF2Qml4RixFQUFVbjBGLEVBQU1rRCxHQUN4QixDQUNJa1QsR0FBVyxFQUNQLE1BSVosR0FBU0EsRUFNRCxNQUpKcFcsR0FBV3FwRixFQWFuQixPQUxJc0ssRUFBV1MsUUFBVTEwRixFQUFJczBGLEVBQzdCTCxFQUFlakcsU0FBV2lHLEVBQVc1QixPQUFTNEIsRUFBV1MsUUFFekQ5QyxHQUFnQm9DLE9BQU83QixHQUFROEIsRUFFcEJBLEdBU2ZyQyxHQUFXK0MsYUFBQSxTQUFheEMsa0JBQU8sSUFFbkJBLFNBRU9QLEdBQVlvQyxPQUFPN0IsR0FJMUJQLEdBQVlvQyxPQUFTLElBZ0JqQzluRSxJQUFNMG9FLEdBQVNoeUYsU0FBU0MsY0FBYyxVQUV0Qyt4RixHQUFPOTFELE1BQVE4MUQsR0FBTzcxRCxPQUFTLEdBUy9CNnlELEdBQVlNLFFBQVUwQyxHQVN0QmhELEdBQVlzQyxTQUFXVSxHQUFPMXVELFdBQVcsTUFTekMwckQsR0FBWW9DLE9BQVMsR0FZckJwQyxHQUFZd0MsZUFBaUIsT0FXN0J4QyxHQUFZeUMsZ0JBQWtCLElBVzlCekMsR0FBWTJDLG9CQUFzQixJQVNsQzNDLEdBQVlrQyxVQUFZLENBQ3BCLEdBQ0EsSUFVSmxDLEdBQVltQyxnQkFBa0IsQ0FDMUIsRUFDQSxHQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxPQ3J4Qko3bkUsSUFBTTJvRSxHQUF3QixDQUMxQjF0QyxTQUFTLEVBQ1RucEQsVUFBVSxFQUNWdWtELGFBQWEsR0E0Qkl1eUMsR0FBSSxTQUFBN0ksR0FPckIsU0FBQThJLEVBQVlyd0UsRUFBTStWLEVBQU91TCxJQUVyQkEsRUFBU0EsR0FBVXBqQyxTQUFTQyxjQUFjLFdBRW5DaThCLE1BQVEsRUFDZmtILEVBQU9qSCxPQUFTLEVBRWhCN1MsSUFBTWk3QixFQUFVdUYsR0FBUWxoQyxLQUFLd2EsR0FFN0JtaEIsRUFBUXdGLEtBQU8sSUFBSWphLEdBQ25CeVUsRUFBUWo2QyxLQUFPLElBQUl3bEMsR0FFbkJrRSxPQUFLdHRDLEtBQUM2OUMsR0FPTjc5QyxLQUFLMDhCLE9BQVNBLEVBTWQxOEIsS0FBSzhILFFBQVU5SCxLQUFLMDhCLE9BQU9FLFdBQVcsTUFRdEM1OEIsS0FBSzByRixZQUFjcjNELEVBQVNFLFdBQzVCdjBCLEtBQUsyckYsaUJBQWtCLEVBUXZCM3JGLEtBQUs0ckYsTUFBUSxLQVFiNXJGLEtBQUs2ckYsT0FBUyxLQU9kN3JGLEtBQUs4ckYsZUFBaUIsS0FRdEI5ckYsS0FBSytyRixNQUFRLEdBRWIvckYsS0FBS29iLEtBQU9BLEVBQ1pwYixLQUFLbXhCLE1BQVFBLEVBRWJueEIsS0FBS2dzRixjQUFnQixpUEFTekJDLFdBQUEsU0FBV0MsR0FFUHRwRSxJQUFNdU8sRUFBUW54QixLQUFLNnJGLE9BU25CLEdBTkk3ckYsS0FBS2dzRixlQUFpQjc2RCxFQUFNdzBELFVBRTVCM2xGLEtBQUs0OEMsT0FBUSxFQUNiNThDLEtBQUtnc0YsYUFBZTc2RCxFQUFNdzBELFNBR3pCM2xGLEtBQUs0OEMsUUFBU3N2QyxFQUFuQixDQUtBbHNGLEtBQUsrckYsTUFBUS9yRixLQUFLNnJGLE9BQU8xRCxlQUV6QnZsRSxJQXdCSXVwRSxFQUNBQyxFQXpCRXRrRixFQUFVOUgsS0FBSzhILFFBQ2Z1a0YsRUFBVy9ELEdBQVlLLFlBQVkzb0YsS0FBSzRyRixPQUFTLElBQUs1ckYsS0FBSzZyRixPQUFRN3JGLEtBQUs2ckYsT0FBT3ZHLFNBQVV0bEYsS0FBSzA4QixRQUM5RmxILEVBQVE2MkQsRUFBUzcyRCxNQUNqQkMsRUFBUzQyRCxFQUFTNTJELE9BQ2xCOHlELEVBQVE4RCxFQUFTOUQsTUFDakJ4RCxFQUFhc0gsRUFBU3RILFdBQ3RCeUQsRUFBYTZELEVBQVM3RCxXQUN0QkMsRUFBZTRELEVBQVM1RCxhQUN4QkMsRUFBaUIyRCxFQUFTM0QsZUFtQmhDLEdBakJBMW9GLEtBQUswOEIsT0FBT2xILE1BQVE1cEIsS0FBS3ErQixNQUFNcitCLEtBQUtDLElBQUksRUFBRzJwQixHQUEwQixFQUFoQnJFLEVBQU11NUIsU0FBZ0IxcUQsS0FBSzByRixhQUNoRjFyRixLQUFLMDhCLE9BQU9qSCxPQUFTN3BCLEtBQUtxK0IsTUFBTXIrQixLQUFLQyxJQUFJLEVBQUc0cEIsR0FBMkIsRUFBaEJ0RSxFQUFNdTVCLFNBQWdCMXFELEtBQUswckYsYUFFbEY1akYsRUFBUTI3QixNQUFNempDLEtBQUswckYsWUFBYTFyRixLQUFLMHJGLGFBRXJDNWpGLEVBQVF5NEIsVUFBVSxFQUFHLEVBQUd2Z0MsS0FBSzA4QixPQUFPbEgsTUFBT3gxQixLQUFLMDhCLE9BQU9qSCxRQUV2RDN0QixFQUFRK2dGLEtBQU83b0YsS0FBSytyRixNQUNwQmprRixFQUFRd2tGLFlBQWNuN0QsRUFBTSt6RCxPQUM1QnA5RSxFQUFRbTBFLFVBQVk5cUQsRUFBTWcwRCxnQkFDMUJyOUUsRUFBUXM5RSxhQUFlajBELEVBQU1pMEQsYUFDN0J0OUUsRUFBUWs5RSxTQUFXN3pELEVBQU02ekQsU0FDekJsOUUsRUFBUW05RSxXQUFhOXpELEVBQU04ekQsV0FLdkI5ekQsRUFBTTh5RCxXQUNWLENBQ0lyaEUsSUFBTXloRSxFQUFrQmx6RCxFQUFNa3pELGdCQUN4Qi9tRCxFQUFNTCxFQUFtQyxpQkFBcEJvbkQsRUFBK0JBLEVBQWtCam5ELEVBQVdpbkQsSUFFdkZ2OEUsRUFBUXlrRixZQUFjLFFBQWlCLElBQVRqdkQsRUFBSSxHQUFRLElBQWEsSUFBVEEsRUFBSSxHQUFRLElBQWEsSUFBVEEsRUFBSSxHQUFRLElBQUluTSxFQUFNLGdCQUFlLElBQ25HcnBCLEVBQVEwa0YsV0FBYXI3RCxFQUFNaXpELGVBQzNCdDhFLEVBQVEya0YsY0FBZ0I3Z0YsS0FBS2c0QixJQUFJelMsRUFBTWd6RCxpQkFBbUJoekQsRUFBTW16RCxtQkFDaEV4OEUsRUFBUTRrRixjQUFnQjlnRixLQUFLaTRCLElBQUkxUyxFQUFNZ3pELGlCQUFtQmh6RCxFQUFNbXpELHdCQUloRXg4RSxFQUFReWtGLFlBQWMsRUFDdEJ6a0YsRUFBUTBrRixXQUFhLEVBQ3JCMWtGLEVBQVEya0YsY0FBZ0IsRUFDeEIza0YsRUFBUTRrRixjQUFnQixFQUk1QjVrRixFQUFRKzhDLFVBQVk3a0QsS0FBSzJzRixtQkFBbUJ4N0QsRUFBT28zRCxHQUduRCxJQUFLemxFLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJNnhGLEVBQU01eEYsT0FBUUQsSUFFOUJ5MUYsRUFBZ0JoN0QsRUFBTWcwRCxnQkFBa0IsRUFDeENpSCxFQUFrQmo3RCxFQUFNZzBELGdCQUFrQixFQUFNenVGLEVBQUlxdUYsRUFBZTJELEVBQWVLLE9BRTlELFVBQWhCNTNELEVBQU00eUQsTUFFTm9JLEdBQWlCMUQsRUFBZUQsRUFBVzl4RixHQUV0QixXQUFoQnk2QixFQUFNNHlELFFBRVhvSSxJQUFrQjFELEVBQWVELEVBQVc5eEYsSUFBTSxHQUdsRHk2QixFQUFNK3pELFFBQVUvekQsRUFBTWcwRCxpQkFFdEJubEYsS0FBSzRzRixrQkFDRHJFLEVBQU03eEYsR0FDTnkxRixFQUFnQmg3RCxFQUFNdTVCLFFBQ3RCMGhDLEVBQWdCajdELEVBQU11NUIsU0FDdEIsR0FJSnY1QixFQUFNaXZELE1BRU5wZ0YsS0FBSzRzRixrQkFDRHJFLEVBQU03eEYsR0FDTnkxRixFQUFnQmg3RCxFQUFNdTVCLFFBQ3RCMGhDLEVBQWdCajdELEVBQU11NUIsU0FLbEMxcUQsS0FBS3VtRSw4QkFZVHFtQixrQkFBQSxTQUFrQnh4RSxFQUFNNVEsRUFBR0MsRUFBR29pRixtQkFBVyxHQUVyQ2pxRSxJQUdNa2lFLEVBSFE5a0YsS0FBSzZyRixPQUdTL0csY0FFNUIsR0FBc0IsSUFBbEJBLEVBd0JKLElBVkFoaUUsSUFBSWdxRSxFQUFrQnRpRixFQVFoQnVpRixFQUFjOWpGLE1BQU1pWixLQUFPalosTUFBTWlaLEtBQUs5RyxHQUFRQSxFQUFLcmMsTUFBTSxJQUV0RHJJLEVBQUksRUFBR0EsRUFBSXEyRixFQUFZcDJGLFNBQVVELEVBQzFDLENBQ0lrc0IsSUFBTW9xRSxFQUFjRCxFQUFZcjJGLEdBRTVCbTJGLEVBRUE3c0YsS0FBSzhILFFBQVFtbEYsV0FBV0QsRUFBYUYsRUFBaUJyaUYsR0FJdER6SyxLQUFLOEgsUUFBUW9qRixTQUFTOEIsRUFBYUYsRUFBaUJyaUYsR0FFeERxaUYsR0FBbUI5c0YsS0FBSzhILFFBQVE2Z0YsWUFBWXFFLEdBQWF4M0QsTUFBUXN2RCxPQWxDN0QrSCxFQUVBN3NGLEtBQUs4SCxRQUFRbWxGLFdBQVc3eEUsRUFBTTVRLEVBQUdDLEdBSWpDekssS0FBSzhILFFBQVFvakYsU0FBUzl2RSxFQUFNNVEsRUFBR0MsZ0JBcUMzQzg3RCxjQUFBLFdBRUkzakQsSUFBTThaLEVBQVMxOEIsS0FBSzA4QixPQUVwQixHQUFJMThCLEtBQUs2ckYsT0FBT2pvRixLQUNoQixDQUNJZ2YsSUFBTXNxRSxFQUFVeHRELEdBQVdoRCxHQUV2Qnd3RCxFQUFRdjFGLE9BRVIra0MsRUFBT2xILE1BQVEwM0QsRUFBUTEzRCxNQUN2QmtILEVBQU9qSCxPQUFTeTNELEVBQVF6M0QsT0FDeEJ6MUIsS0FBSzhILFFBQVFpbEUsYUFBYW1nQixFQUFRdjFGLEtBQU0sRUFBRyxJQUluRGlyQixJQUFNaTdCLEVBQVU3OUMsS0FBSzByRCxTQUNmdjZCLEVBQVFueEIsS0FBSzZyRixPQUNibmhDLEVBQVV2NUIsRUFBTXZ0QixLQUFPLEVBQUl1dEIsRUFBTXU1QixRQUNqQ3pSLEVBQWM0RSxFQUFRNUUsWUFFNUI0RSxFQUFRajZDLEtBQUs0eEIsTUFBUXFvQixFQUFRMkYsT0FBT2h1QixNQUFRa0gsRUFBT2xILE1BQVF4MUIsS0FBSzByRixZQUNoRTd0QyxFQUFRajZDLEtBQUs2eEIsT0FBU29vQixFQUFRMkYsT0FBTy90QixPQUFTaUgsRUFBT2pILE9BQVN6MUIsS0FBSzByRixZQUNuRTd0QyxFQUFRajZDLEtBQUs0RyxHQUFLa2dELEVBQ2xCN00sRUFBUWo2QyxLQUFLNkcsR0FBS2lnRCxFQUVsQjdNLEVBQVF3RixLQUFLN3RCLE1BQVFxb0IsRUFBUTJGLE9BQU9odUIsTUFBbUIsRUFBVmsxQixFQUM3QzdNLEVBQVF3RixLQUFLNXRCLE9BQVNvb0IsRUFBUTJGLE9BQU8vdEIsT0FBb0IsRUFBVmkxQixFQUcvQzFxRCxLQUFLb2pGLG1CQUVMbnFDLEVBQVk2RCxZQUFZcGdCLEVBQU9sSCxNQUFPa0gsRUFBT2pILE9BQVF6MUIsS0FBSzByRixhQUUxRDFyRixLQUFLNDhDLE9BQVEsZUFRakJ2TixPQUFBLFNBQU9DLEdBRUN0dkMsS0FBSzJyRixpQkFBbUIzckYsS0FBSzByRixjQUFnQnA4QyxFQUFTblAsYUFFdERuZ0MsS0FBSzByRixZQUFjcDhDLEVBQVNuUCxXQUM1Qm5nQyxLQUFLNDhDLE9BQVEsR0FHakI1OEMsS0FBS2lzRixZQUFXLEdBRWhCMytDLFlBQU0rQixPQUFBbjhDLEtBQU04TSxLQUFDc3ZDLGdCQVNqQjY5QyxjQUFBLFNBQWM3OUMsR0FFTnR2QyxLQUFLMnJGLGlCQUFtQjNyRixLQUFLMHJGLGNBQWdCcDhDLEVBQVNuUCxhQUV0RG5nQyxLQUFLMHJGLFlBQWNwOEMsRUFBU25QLFdBQzVCbmdDLEtBQUs0OEMsT0FBUSxHQUdqQjU4QyxLQUFLaXNGLFlBQVcsR0FFaEIzK0MsWUFBTTYvQyxjQUFBajZGLEtBQWE4TSxLQUFDc3ZDLGdCQVN4QlAsZUFBQSxTQUFlckQsR0FJWCxPQUZBMXJDLEtBQUtpc0YsWUFBVyxHQUVUMytDLFlBQU15QixlQUFlNzdDLEtBQUs4TSxLQUFNMHJDLGdCQU8zQytGLGlCQUFBLFdBRUl6eEMsS0FBS2lzRixZQUFXLEdBQ2hCanNGLEtBQUs2aEYsb0JBRUw3aEYsS0FBS2d1QyxRQUFRaEMsUUFBUWhzQyxLQUFLcXNDLHlCQU85QitnRCxlQUFBLFdBRUlwdEYsS0FBSzQ4QyxPQUFRLGVBV2pCK3ZDLG1CQUFBLFNBQW1CeDdELEVBQU9vM0QsR0FFdEIsSUFBS3QvRSxNQUFNbVIsUUFBUStXLEVBQU1pdkQsTUFFckIsT0FBT2p2RCxFQUFNaXZELEtBS2pCdDlELElBQUl1cUUsRUFDQUMsRUFDQUMsRUFDQW5nRixFQUVFb29CLEVBQVF4MUIsS0FBSzA4QixPQUFPbEgsTUFBUXgxQixLQUFLMHJGLFlBQ2pDajJELEVBQVN6MUIsS0FBSzA4QixPQUFPakgsT0FBU3oxQixLQUFLMHJGLFlBR25DdEwsRUFBT2p2RCxFQUFNaXZELEtBQUs1bEYsUUFDbEJncUYsRUFBb0JyekQsRUFBTXF6RCxrQkFBa0JocUYsUUFHbEQsSUFBS2dxRixFQUFrQjd0RixPQUluQixJQUZBaXNCLElBQU00cUUsRUFBY3BOLEVBQUt6cEYsT0FBUyxFQUV6QkQsRUFBSSxFQUFHQSxFQUFJODJGLElBQWU5MkYsRUFFL0I4dEYsRUFBa0IvdkYsS0FBS2lDLEVBQUk4MkYsR0FZbkMsR0FOQXBOLEVBQUtqN0UsUUFBUWdzQixFQUFNaXZELEtBQUssSUFDeEJvRSxFQUFrQnIvRSxRQUFRLEdBRTFCaTdFLEVBQUszckYsS0FBSzA4QixFQUFNaXZELEtBQUtqdkQsRUFBTWl2RCxLQUFLenBGLE9BQVMsSUFDekM2dEYsRUFBa0IvdkYsS0FBSyxHQUVuQjA4QixFQUFNb3pELG1CQUFxQlosR0FBY0MsZ0JBQzdDLENBRUl5SixFQUFXcnRGLEtBQUs4SCxRQUFRMmxGLHFCQUFxQmo0RCxFQUFRLEVBQUcsRUFBR0EsRUFBUSxFQUFHQyxHQUl0RTYzRCxHQUFtQmxOLEVBQUt6cEYsT0FBUyxHQUFLNHhGLEVBQU01eEYsT0FDNUM0MkYsRUFBbUIsRUFDbkIsSUFBS3pxRSxJQUFJcHNCLEVBQUksRUFBR0EsRUFBSTZ4RixFQUFNNXhGLE9BQVFELElBQ2xDLENBQ0k2MkYsR0FBb0IsRUFDcEIsSUFBS3pxRSxJQUFJNW9CLEVBQUksRUFBR0EsRUFBSWttRixFQUFLenBGLE9BQVF1RCxJQUl6QmtULEVBRmdDLGlCQUF6Qm8zRSxFQUFrQnRxRixHQUVqQnNxRixFQUFrQnRxRixHQUFLcXVGLEVBQU01eEYsT0FBV0QsRUFBSTZ4RixFQUFNNXhGLE9BSW5ENDJGLEVBQW1CRCxFQUU5QkQsRUFBU0ssYUFBYXRnRixFQUFNZ3pFLEVBQUtsbUYsSUFDakNxekYsU0FLWixDQUVJRixFQUFXcnRGLEtBQUs4SCxRQUFRMmxGLHFCQUFxQixFQUFHaDRELEVBQVMsRUFBR0QsRUFBT0MsRUFBUyxHQUk1RTYzRCxFQUFrQmxOLEVBQUt6cEYsT0FBUyxFQUNoQzQyRixFQUFtQixFQUVuQixJQUFLenFFLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJMHBGLEVBQUt6cEYsT0FBUUQsSUFJekIwVyxFQUZnQyxpQkFBekJvM0UsRUFBa0I5dEYsR0FFbEI4dEYsRUFBa0I5dEYsR0FJbEI2MkYsRUFBbUJELEVBRTlCRCxFQUFTSyxhQUFhdGdGLEVBQU1nekUsRUFBSzFwRixJQUNqQzYyRixJQUlSLE9BQU9GLGVBZVg3dEQsUUFBQSxTQUFReGxDLEdBRW1CLGtCQUFaQSxJQUVQQSxFQUFVLENBQUV0RixTQUFVc0YsSUFHMUJBLEVBQVVqSCxPQUFPMHVCLE9BQU8sR0FBSThwRSxHQUF1QnZ4RixHQUVuRHN6QyxZQUFNOU4sUUFBQXRzQyxLQUFPOE0sS0FBQ2hHLEdBR2RnRyxLQUFLOEgsUUFBVSxLQUNmOUgsS0FBSzA4QixPQUFTLEtBRWQxOEIsS0FBSzZyRixPQUFTLE1BUWxCMWlELEVBQUkzVCxNQUFBdmdDLElBQUEsV0FJQSxPQUZBK0ssS0FBS2lzRixZQUFXLEdBRVRyZ0YsS0FBS2lELElBQUk3TyxLQUFLeWpDLE1BQU1qNUIsR0FBS3hLLEtBQUswckQsU0FBU3JJLEtBQUs3dEIsT0FHdkQyVCxFQUFJM1QsTUFBQXRnQyxJQUFBLFNBQU1DLEdBRU42SyxLQUFLaXNGLFlBQVcsR0FFaEJycEUsSUFBTXhrQixFQUFJaWxCLEVBQUtyakIsS0FBS3lqQyxNQUFNajVCLElBQU0sRUFFaEN4SyxLQUFLeWpDLE1BQU1qNUIsRUFBSXBNLEVBQUlqSixFQUFRNkssS0FBSzByRCxTQUFTckksS0FBSzd0QixNQUM5Q3gxQixLQUFLaXlDLE9BQVM5OEMsR0FRbEJnMEMsRUFBSTFULE9BQUF4Z0MsSUFBQSxXQUlBLE9BRkErSyxLQUFLaXNGLFlBQVcsR0FFVHJnRixLQUFLaUQsSUFBSTdPLEtBQUt5akMsTUFBTWg1QixHQUFLekssS0FBSzByRCxTQUFTckksS0FBSzV0QixRQUd2RDBULEVBQUkxVCxPQUFBdmdDLElBQUEsU0FBT0MsR0FFUDZLLEtBQUtpc0YsWUFBVyxHQUVoQnJwRSxJQUFNeGtCLEVBQUlpbEIsRUFBS3JqQixLQUFLeWpDLE1BQU1oNUIsSUFBTSxFQUVoQ3pLLEtBQUt5akMsTUFBTWg1QixFQUFJck0sRUFBSWpKLEVBQVE2SyxLQUFLMHJELFNBQVNySSxLQUFLNXRCLE9BQzlDejFCLEtBQUtreUMsUUFBVS84QyxHQVNuQmcwQyxFQUFJaFksTUFBQWw4QixJQUFBLFdBRUEsT0FBTytLLEtBQUs2ckYsUUFHaEIxaUQsRUFBSWhZLE1BQUFqOEIsSUFBQSxTQUFNaThCLEdBRU5BLEVBQVFBLEdBQVMsR0FJYm54QixLQUFLNnJGLE9BRkwxNkQsYUFBaUJ1MEQsR0FFSHYwRCxFQUlBLElBQUl1MEQsR0FBVXYwRCxHQUdoQ254QixLQUFLZ3NGLGNBQWdCLEVBQ3JCaHNGLEtBQUs0OEMsT0FBUSxHQVFqQnpULEVBQUkvdEIsS0FBQW5tQixJQUFBLFdBRUEsT0FBTytLLEtBQUs0ckYsT0FHaEJ6aUQsRUFBSS90QixLQUFBbG1CLElBQUEsU0FBS2ttQixHQUVMQSxFQUFPdUcsT0FBT3ZHLFFBQXNDLEdBQUtBLEdBRXJEcGIsS0FBSzRyRixRQUFVeHdFLElBSW5CcGIsS0FBSzRyRixNQUFReHdFLEVBQ2JwYixLQUFLNDhDLE9BQVEsSUFTakJ6VCxFQUFJaEosV0FBQWxyQyxJQUFBLFdBRUEsT0FBTytLLEtBQUswckYsYUFHaEJ2aUQsRUFBSWhKLFdBQUFqckMsSUFBQSxTQUFXQyxHQUVYNkssS0FBSzJyRixpQkFBa0IsRUFFbkIzckYsS0FBSzByRixjQUFnQnYyRixJQUt6QjZLLEtBQUswckYsWUFBY3YyRixFQUNuQjZLLEtBQUs0OEMsT0FBUSw2Q0EvbEJJLENBQVM4bEM7Ozs7Ozs7O0FwSTlCbENydUQsRUFBU3M1RCxrQkFBb0IsRXFJSmQsSUFBTUMsR0FLakIsU0FBWUMsR0FPUjd0RixLQUFLNnRGLGlCQUFtQkEsRUFNeEI3dEYsS0FBSzh0RixVQUFZLEdBTXpCRixHQUFBNTZGLFVBQUkrNkYsV0FBQSxXQUVJL3RGLEtBQUs4dEYsVUFBWTl0RixLQUFLNnRGLGtCQU85QkQsR0FBQTU2RixVQUFJZzdGLGdCQUFBLFdBRUksT0FBT2h1RixLQUFLOHRGLGFBQWMsR0NabkIsSUFBTUcsR0FLakIsU0FBWTMrQyxjQU1adHZDLEtBQVNrdUYsUUFBVSxJQUFJTixHQUFhdjVELEVBQVNzNUQsbUJBT3pDM3RGLEtBQUtzdkMsU0FBV0EsRUFRaEJ0dkMsS0FBS211RixpQkFBbUIsS0FPeEJudUYsS0FBS3pGLE1BQVEsR0FPYnlGLEtBQUtvdUYsU0FBVyxHQU9oQnB1RixLQUFLcXVGLFlBQWMsR0FPbkJydUYsS0FBS3N1RixVQUFZLEdBT2pCdHVGLEtBQUt1dUYsU0FBVSxFQU9mdnVGLEtBQUt3dUYsWUFBVyxXQUdQeHVGLEVBQUt6RixPQUlWeUYsRUFBS3l1RixnQkFJVHp1RixLQUFLMHVGLGlCQUFpQkMsSUFDdEIzdUYsS0FBSzB1RixpQkFBaUJFLElBQ3RCNXVGLEtBQUswdUYsaUJBQWlCRyxJQUN0Qjd1RixLQUFLMHVGLGlCQUFpQkksSUFDdEI5dUYsS0FBSzB1RixpQkFBaUJLLElBR3RCL3VGLEtBQUtndkYsbUJBQW1CQyxJQUN4Qmp2RixLQUFLZ3ZGLG1CQUFtQkUsS0E2TWhDLFNBQVNMLEdBQXlCenpGLEVBQU1iLEdBRXBDdW9CLElBQUlocEIsR0FBUyxFQUdiLEdBQUlzQixHQUFRQSxFQUFLK3pGLFdBQWEvekYsRUFBSyt6RixVQUFVeDRGLE9BRXpDLElBQUttc0IsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUkwRSxFQUFLK3pGLFVBQVV4NEYsT0FBUUQsSUFFdkMsR0FBSTBFLEVBQUsrekYsVUFBVXo0RixhQUFjMHNELEdBQ2pDLENBQ0l4Z0MsSUFBTXEyQixFQUFjNzlDLEVBQUsrekYsVUFBVXo0RixHQUFHdWlELGFBRUYsSUFBaEMxK0MsRUFBTS9GLFFBQVF5a0QsS0FFZDErQyxFQUFNOUYsS0FBS3drRCxHQUNYbi9DLEdBQVMsR0FNekIsT0FBT0EsRUFXWCxTQUFTZzFGLEdBQWdCMXpGLEVBQU1iLEdBRzNCLE9BQUlhLGFBQWdCMGdELE1BRWEsSUFBekJ2aEQsRUFBTS9GLFFBQVE0RyxJQUVkYixFQUFNOUYsS0FBSzJHLElBR1IsR0FjZixTQUFTMnpGLEdBQVkzekYsRUFBTWIsR0FFdkIsR0FBSWEsRUFBS3N3RCxVQUFZdHdELEVBQUtzd0Qsb0JBQW9CdEksR0FDOUMsQ0FDSXhnQyxJQUFNaTdCLEVBQVV6aUQsRUFBS3N3RCxTQUFTelMsWUFPOUIsT0FMZ0MsSUFBNUIxK0MsRUFBTS9GLFFBQVFxcEQsSUFFZHRqRCxFQUFNOUYsS0FBS29wRCxJQUdSLEVBR1gsT0FBTyxFQVdYLFNBQVNveEMsR0FBU0csRUFBUWgwRixHQUV0QixPQUFJQSxhQUFnQm93RixLQUdoQnB3RixFQUFLNndGLFlBQVcsSUFFVCxHQWNmLFNBQVNpRCxHQUFtQkUsRUFBUWgwRixHQUVoQyxHQUFJQSxhQUFnQnNxRixHQUNwQixDQUNJOWlFLElBQU1pbUUsRUFBT3p0RixFQUFLK3NGLGVBSWxCLE9BRkFHLEdBQVlRLFlBQVlELElBRWpCLEVBR1gsT0FBTyxFQVdYLFNBQVM4RixHQUFTdnpGLEVBQU1iLEdBRXBCLEdBQUlhLGFBQWdCb3dGLEdBQ3BCLEVBRXVDLElBQS9CanhGLEVBQU0vRixRQUFRNEcsRUFBSysxQixRQUVuQjUyQixFQUFNOUYsS0FBSzJHLEVBQUsrMUIsUUFHUyxJQUF6QjUyQixFQUFNL0YsUUFBUTRHLElBRWRiLEVBQU05RixLQUFLMkcsR0FHZnduQixJQUFNaTdCLEVBQVV6aUQsRUFBS3N3RCxTQUFTelMsWUFPOUIsT0FMZ0MsSUFBNUIxK0MsRUFBTS9GLFFBQVFxcEQsSUFFZHRqRCxFQUFNOUYsS0FBS29wRCxJQUdSLEVBR1gsT0FBTyxFQVdYLFNBQVMrd0MsR0FBY3h6RixFQUFNYixHQUV6QixPQUFJYSxhQUFnQnNxRixNQUVhLElBQXpCbnJGLEVBQU0vRixRQUFRNEcsSUFFZGIsRUFBTTlGLEtBQUsyRyxJQUdSLEdBNVdmNnlGLEdBQUFqN0YsVUFBSXFtRCxPQUFBLFNBQU9qK0MsRUFBTWkwRixHQUVXLG1CQUFUajBGLElBRVhpMEYsRUFBV2owRixFQUNYQSxFQUFXLE1BS1BBLEdBRUE0RSxLQUFLZ3VCLElBQUk1eUIsR0FJVDRFLEtBQUt6RixNQUFNNUQsUUFFUDA0RixHQUVKcnZGLEtBQVNzdUYsVUFBVTc1RixLQUFLNDZGLEdBR25CcnZGLEtBQUt1dUYsVUFFTnZ1RixLQUFLdXVGLFNBQVUsRUFDZjkzQyxHQUFPNEIsT0FBT1osUUFBUXozQyxLQUFLc3ZGLEtBQU10dkYsS0FBTSsxQyxHQUFnQkUsV0FHdERvNUMsR0FFVEEsS0FTUnBCLEdBQUFqN0YsVUFBSXM4RixLQUFBLFdBRUE5N0UsV0FBZXhULEtBQUt3dUYsWUFBYSxJQVNyQ1AsR0FBQWo3RixVQUFJeTdGLGFBQUEsV0FJSSxJQUZBenVGLEtBQUtrdUYsUUFBUUgsYUFFTi90RixLQUFLekYsTUFBTTVELFFBQVVxSixLQUFLa3VGLFFBQVFGLG1CQUM3QyxDQUNJLElBQVU1eUYsRUFBTzRFLEtBQUt6RixNQUFNLEdBQ3BCZzFGLEdBQVcsRUFFZixHQUFJbjBGLElBQVNBLEVBQUtrekMsV0FFbEIsSUFBU3hyQixJQUFJcHNCLEVBQUksRUFBR2dULEVBQU0xSixLQUFLcXVGLFlBQVkxM0YsT0FBUUQsRUFBSWdULEVBQUtoVCxJQUVwRCxHQUFJc0osS0FBS3F1RixZQUFZMzNGLEdBQUdzSixLQUFLbXVGLGlCQUFrQi95RixHQUNuRCxDQUNRNEUsS0FBS3pGLE1BQU02TCxRQUNmbXBGLEdBQWUsRUFDWCxNQUtQQSxHQUVEdnZGLEtBQUt6RixNQUFNNkwsUUFLbkIsR0FBS3BHLEtBQUt6RixNQUFNNUQsT0FnQlo4L0MsR0FBTzRCLE9BQU9aLFFBQVF6M0MsS0FBS3N2RixLQUFNdHZGLEtBQU0rMUMsR0FBZ0JFLGFBZi9ELENBQ1FqMkMsS0FBS3V1RixTQUFVLEVBRWYzckUsSUFBTTByRSxFQUFZdHVGLEtBQUtzdUYsVUFBVTl6RixNQUFNLEdBRXZDd0YsS0FBS3N1RixVQUFVMzNGLE9BQVMsRUFFeEIsSUFBS21zQixJQUFJcHNCLEVBQUksRUFBR2dULEVBQU00a0YsRUFBVTMzRixPQUFRRCxFQUFJZ1QsRUFBS2hULElBRTdDNDNGLEVBQVU1M0YsT0FpQjFCdTNGLEdBQUFqN0YsVUFBSTA3RixpQkFBQSxTQUFpQmMsR0FPakIsT0FMUUEsR0FFSnh2RixLQUFTb3VGLFNBQVMzNUYsS0FBSys2RixHQUdoQnh2RixNQVVmaXVGLEdBQUFqN0YsVUFBSWc4RixtQkFBQSxTQUFtQlMsR0FPbkIsT0FMUUEsR0FFSnp2RixLQUFTcXVGLFlBQVk1NUYsS0FBS2c3RixHQUduQnp2RixNQVVmaXVGLEdBQUFqN0YsVUFBSWc3QixJQUFBLFNBQUk1eUIsR0FJSixJQUFTMG5CLElBQUlwc0IsRUFBSSxFQUFHZ1QsRUFBTTFKLEtBQUtvdUYsU0FBU3ozRixPQUFRRCxFQUFJZ1QsSUFFeEMxSixLQUFLb3VGLFNBQVMxM0YsR0FBRzBFLEVBQU00RSxLQUFLekYsT0FGaUI3RCxLQVN6RCxHQUFRMEUsYUFBZ0IrMEMsR0FFaEIsSUFBS3J0QixJQUFJcHNCLEVBQUkwRSxFQUFLMUcsU0FBU2lDLE9BQVMsRUFBR0QsR0FBSyxFQUFHQSxJQUUvQ3NKLEtBQVNndUIsSUFBSTV5QixFQUFLMUcsU0FBU2dDLElBSW5DLE9BQVdzSixNQU9maXVGLEdBQUFqN0YsVUFBSXdzQyxRQUFBLFdBRVF4L0IsS0FBS3V1RixTQUVMOTNDLEdBQU80QixPQUFPbG1CLE9BQU9ueUIsS0FBS3N2RixLQUFNdHZGLE1BRXBDQSxLQUFLdXVGLFNBQVUsRUFDZnZ1RixLQUFLb3VGLFNBQVcsS0FDaEJwdUYsS0FBS3F1RixZQUFjLEtBQ25CcnVGLEtBQUtzdkMsU0FBVyxLQUNoQnR2QyxLQUFLc3VGLFVBQVksS0FDakJ0dUYsS0FBS3pGLE1BQVEsS0FDYnlGLEtBQUtrdUYsUUFBVSxLQUNmbHVGLEtBQUttdUYsaUJBQW1CLE1DelNoQyxJQUFxQnVCLEdBQU8sU0FBQUMsR0FLeEIsU0FBQUQsRUFBWXBnRCxHQUVSaEMsT0FBS3R0QyxLQUFDc3ZDLEdBRU50dkMsS0FBS211RixpQkFBbUJudUYsS0FBS3N2QyxTQUc3QnR2QyxLQUFLMHVGLGlCQUFpQmtCLElBQ3RCNXZGLEtBQUtndkYsbUJBQW1CYSxJQUN4Qjd2RixLQUFLZ3ZGLG1CQUFtQmMsb0dBZEosQ0FBUzdCLElBeUJyQyxTQUFTNEIsR0FBbUJ2Z0QsRUFBVWwwQyxHQUVsQyxPQUFJQSxhQUFnQjBnRCxLQUtYMWdELEVBQUs4L0MsWUFBWTVMLEVBQVNxZCxjQUUzQnJkLEVBQVN5Z0QsZUFBZXhwQixjQUFjbnJFLElBR25DLEdBY2YsU0FBUzAwRixHQUFleGdELEVBQVVsMEMsR0FFOUIsT0FBSUEsYUFBZ0Jxa0YsTUFJWnJrRixFQUFLd2hELE9BQVN4aEQsRUFBS2kvRSxhQUFlai9FLEVBQUs0MEYsT0FBTzFnRCxFQUFTeUYsUUFBUW1xQixTQUFTdlMsZUFFeEVyZCxFQUFTeUYsUUFBUW1xQixTQUFTK3dCLGVBQWU3MEYsSUFHdEMsR0FjZixTQUFTdzBGLEdBQWF4MEYsRUFBTWIsR0FFeEIsT0FBSWEsYUFBZ0Jxa0YsS0FFaEJsbEYsRUFBTTlGLEtBQUsyRyxJQUVKLEdDeEZBLElBQU04MEYsR0FLakIsU0FBWUMsR0FPUm53RixLQUFLbXdGLGdCQUFrQkEsRUFNdkJud0YsS0FBS293RixXQUFhLEdBTTFCRixHQUFBbDlGLFVBQUkrNkYsV0FBQSxXQUVBL3RGLEtBQVNvd0YsV0FBYTV0RSxLQUFLQyxPQU8vQnl0RSxHQUFBbDlGLFVBQUlnN0YsZ0JBQUEsV0FFSSxPQUFPeHJFLEtBQUtDLE1BQVF6aUIsS0FBS293RixXQUFhcHdGLEtBQUttd0Y7Ozs7Ozs7O0FDckJwQyxJQUFNRSxHQWdDakIsU0FBQUMsRUFBWXQyRixjQUdSQSxFQUFVakgsT0FBTzB1QixPQUFPLENBQ3hCOHVFLGFBQWlCLEdBQ2R2MkYsR0FNUGdHLEtBQVNzdkMsU0FBV3M1QixHQUFtQjV1RSxHQU1uQ2dHLEtBQUt3d0YsTUFBUSxJQUFJcmdELEdBR3JCbWdELEVBQWdCRyxTQUFTcDBGLFFBQU8sU0FBRXEwRixHQUU5QkEsRUFBV3hxRCxLQUFLaHpDLEtBQUs4TSxFQUFNaEcsMkRBU25DcTJGLEdBQVc1bkIsZUFBQSxTQUFlaW9CLEdBRXRCTCxHQUFnQkksU0FBU2g4RixLQUFLaThGLElBTWxDTCxHQUFBcjlGLFVBQUlxOEMsT0FBQSxXQUVBcnZDLEtBQVNzdkMsU0FBU0QsT0FBT3J2QyxLQUFLd3dGLFFBUWxDRyxHQUFRMzdELEtBQUEvL0IsSUFBQSxXQUVBLE9BQU8rSyxLQUFLc3ZDLFNBQVN0YSxNQVE3QjI3RCxHQUFRdnBCLE9BQUFueUUsSUFBQSxXQUVBLE9BQU8rSyxLQUFLc3ZDLFNBQVM4M0IsUUFlN0JpcEIsR0FBQXI5RixVQUFJd3NDLFFBQUEsU0FBUXNvQyxjQUlFL3lCLEVBQVVzN0MsR0FBWUksU0FBU2oyRixNQUFNLEdBRTNDdTZDLEVBQVE2N0MsVUFDUjc3QyxFQUFRMTRDLFFBQU8sU0FBRXEwRixHQUVqQkEsRUFBV2x4RCxRQUFRdHNDLEtBQUs4TSxLQUd4QkEsS0FBS3d3RixNQUFNaHhELFVBQ1h4L0IsS0FBS3d3RixNQUFRLEtBRWpCeHdGLEtBQVNzdkMsU0FBUzlQLFFBQVFzb0MsR0FDdEI5bkUsS0FBS3N2QyxTQUFXLEtBRWhCdHZDLEtBQUs2d0YsU0FBVywrQ0FrQnhCUixHQUFZSSxTQUFXLEdDaEtSLElBQU1LLEdBQVksZ0JBUXRCNXFELEtBQUEsU0FBS2xzQyxjQVFSakgsT0FBT3FDLGVBQWU0SyxLQUFNLFdBQzVCLENBQ0k5SyxJQUFBLFNBQVE2N0YsR0FFSnQrRixPQUFXK21CLG9CQUFvQixTQUFVeFosS0FBS29nQyxRQUMxQ3BnQyxLQUFLZ3hGLFVBQVlELEVBQ2JBLElBRUp0K0YsT0FBV3duQixpQkFBaUIsU0FBVWphLEtBQUtvZ0MsUUFDdkNwZ0MsS0FBS29nQyxXQUdibnJDLElBQUEsV0FFSSxPQUFPK0ssS0FBS2d4RixhQVN4Qmh4RixLQUFLb2dDLE9BQU0sV0FFSHBnQyxFQUFLZ3hGLFlBR0RoeEYsRUFBS2d4RixZQUFjditGLE9BRW5CdU4sRUFBS3N2QyxTQUFTbFAsT0FDZDN0QyxPQUFXdytGLFdBQ1h4K0YsT0FBV3krRixhQU1YbHhGLEVBQUtzdkMsU0FBU2xQLE9BQ1ZwZ0MsRUFBS2d4RixVQUFVRyxZQUNmbnhGLEVBQUtneEYsVUFBVUksZ0JBTy9CcHhGLEtBQUtneEYsVUFBWSxLQUNyQmh4RixLQUFTcXhGLFNBQVdyM0YsRUFBUXEzRixVQUFZLE1BUTVDUCxHQUFXdHhELFFBQUEsV0FFSHgvQixLQUFLcXhGLFNBQVcsS0FDaEJyeEYsS0FBS29nQyxPQUFTLE10SzdFdEJpd0QsR0FBWTVuQixlQUFlcW9COzs7Ozs7OzttS3VLRDNCLElBQUFRLEdBQWlCLFNBQW1CLytFLEVBQUtDLEdBQ3ZDQSxFQUFPQSxHQUFRLEdBa0JmLElBaEJBLElBQUloVixFQUFJLENBQ05PLElBQUssQ0FBQyxTQUFVLFdBQVksWUFBYSxXQUFZLE9BQVEsV0FBWSxPQUFRLE9BQVEsV0FBWSxPQUFRLFlBQWEsT0FBUSxRQUFTLFVBQzNJNk8sRUFBRyxDQUNEOVgsS0FBTSxXQUNOMmQsT0FBUSw2QkFFVkEsT0FBUSxDQUNOQyxPQUFRLDBJQUNSQyxNQUFPLHFNQUlQdFYsRUFBSUcsRUFBRWlWLE9BQU9ELEVBQUtJLFdBQWEsU0FBVyxTQUFTOU8sS0FBS3lPLEdBQ3hETSxFQUFNLEdBQ05uYyxFQUFJLEdBRURBLEtBQUttYyxFQUFJclYsRUFBRU8sSUFBSXJILElBQU0yRyxFQUFFM0csSUFBTSxHQU9wQyxPQUxBbWMsRUFBSXJWLEVBQUVvUCxFQUFFOVgsTUFBUSxHQUNoQitkLEVBQUlyVixFQUFFTyxJQUFJLEtBQUsyRixRQUFRbEcsRUFBRW9QLEVBQUU2RixPQUFRLFNBQVVLLEVBQUlDLEVBQUlDLEdBQy9DRCxJQUFJRixFQUFJclYsRUFBRW9QLEVBQUU5WCxNQUFNaWUsR0FBTUMsS0FHdkJILHVCQzFCVDlmLE9BQU9xQyxlQUFlZ0ksRUFBUyxhQUFjLENBQzNDakksT0FBTyxJQUdULElBQUl5YixFQUFlLFdBQWUsU0FBU0MsRUFBaUJDLEVBQVFDLEdBQVMsSUFBSyxJQUFJcmEsRUFBSSxFQUFHQSxFQUFJcWEsRUFBTXBhLE9BQVFELElBQUssQ0FBRSxJQUFJc2EsRUFBYUQsRUFBTXJhLEdBQUlzYSxFQUFXaGMsV0FBYWdjLEVBQVdoYyxhQUFjLEVBQU9nYyxFQUFXamMsY0FBZSxFQUFVLFVBQVdpYyxJQUFZQSxFQUFXQyxVQUFXLEdBQU1sZSxPQUFPcUMsZUFBZTBiLEVBQVFFLEVBQVdqVCxJQUFLaVQsSUFBaUIsT0FBTyxTQUFVRSxFQUFhQyxFQUFZQyxHQUFpSixPQUE5SEQsR0FBWU4sRUFBaUJLLEVBQVlsZSxVQUFXbWUsR0FBaUJDLEdBQWFQLEVBQWlCSyxFQUFhRSxHQUFxQkYsR0FBOWdCLEdBRW5CLFNBQVNHLEVBQWdCQyxFQUFVSixHQUFlLEtBQU1JLGFBQW9CSixHQUFnQixNQUFNLElBQUk1TixVQUFVLHFDQUVoSCxJQUFJaU8sRUFBb0IsV0FDdEIsU0FBU0EsRUFBa0JwZCxFQUFJNFQsRUFBTXlKLFFBQ3RCL2EsSUFBVHNSLElBQW9CQSxHQUFPLEdBRS9Cc0osRUFBZ0JyUixLQUFNdVIsR0FFdEJ2UixLQUFLeVIsSUFBTXRkLEVBQ1g2TCxLQUFLMFIsTUFBUTNKLEVBQ2IvSCxLQUFLMlIsU0FBV0gsRUFDaEJ4UixLQUFLNFIsTUFBUTVSLEtBQUs2UixNQUFRN1IsS0FBSzhSLE9BQVMsS0FZMUMsT0FUQWxCLEVBQWFXLEVBQW1CLENBQUMsQ0FDL0J4VCxJQUFLLFNBQ0w1SSxNQUFPLFdBQ0wsT0FBb0IsT0FBaEI2SyxLQUFLOFIsU0FDVDlSLEtBQUs4UixPQUFPQyxPQUFPL1IsT0FDWixPQUlKdVIsRUFyQmUsR0F3QnhCLFNBQVNTLEVBQXNCQyxFQUFNQyxHQVluQyxPQVhLRCxFQUFLRSxPQUlSRixFQUFLRyxNQUFNUixNQUFRTSxFQUNuQkEsRUFBS0wsTUFBUUksRUFBS0csTUFDbEJILEVBQUtHLE1BQVFGLElBTGJELEVBQUtFLE1BQVFELEVBQ2JELEVBQUtHLE1BQVFGLEdBT2ZBLEVBQUtKLE9BQVNHLEVBRVBDLEVBR1QsSUFBSUcsRUFBYSxXQUNmLFNBQVNBLElBQ1BoQixFQUFnQnJSLEtBQU1xUyxHQUV0QnJTLEtBQUttUyxNQUFRblMsS0FBS29TLFdBQVEzYixFQXlHNUIsT0F0R0FtYSxFQUFheUIsRUFBWSxDQUFDLENBQ3hCdFUsSUFBSyxXQUNMNUksTUFBTyxXQUNMLElBQUltZCxJQUFTM0ksVUFBVWhULFFBQVUsUUFBc0JGLElBQWpCa1QsVUFBVSxLQUEyQkEsVUFBVSxHQUVqRnVJLEVBQU9sUyxLQUFLbVMsTUFFaEIsR0FBSUcsRUFBUSxRQUFTSixFQUlyQixJQUZBLElBQUlsSixFQUFLLEdBRUZrSixHQUNMbEosRUFBR3ZVLEtBQUt5ZCxHQUNSQSxFQUFPQSxFQUFLTixNQUdkLE9BQU81SSxJQUVSLENBQ0RqTCxJQUFLLE1BQ0w1SSxNQUFPLFNBQWErYyxHQUNsQixLQUFNQSxhQUFnQlgsR0FDcEIsTUFBTSxJQUFJdFosTUFBTSxtRUFHbEIsT0FBT2lhLEVBQUtKLFNBQVc5UixPQUV4QixDQUNEakMsSUFBSyxXQUNMNUksTUFBTywyQkFDRCtjLEVBQU9sUyxLQUFLbVMsTUFFaEIsSUFBS0QsRUFBTSxPQUFPLEVBRWxCLEtBQU9BLEdBQ0RBLEVBQUtSLE9BQU8xUixLQUFLK1IsT0FBT0csR0FDNUJBLEVBQUtULElBQUlyYSxNQUFNOGEsRUFBS1AsU0FBVWhJLEdBQzlCdUksRUFBT0EsRUFBS04sTUFHZCxPQUFPLElBRVIsQ0FDRDdULElBQUssTUFDTDVJLE1BQU8sU0FBYWhCLEdBQ2xCLElBQUlxZCxFQUFVN0gsVUFBVWhULFFBQVUsUUFBc0JGLElBQWpCa1QsVUFBVSxHQUFtQixLQUFPQSxVQUFVLEdBRXJGLEdBQWtCLG1CQUFQeFYsRUFDVCxNQUFNLElBQUk4RCxNQUFNLG1EQUVsQixPQUFPK1osRUFBc0JoUyxLQUFNLElBQUl1UixFQUFrQnBkLEdBQUksRUFBT3FkLE1BRXJFLENBQ0R6VCxJQUFLLE9BQ0w1SSxNQUFPLFNBQWNoQixHQUNuQixJQUFJcWQsRUFBVTdILFVBQVVoVCxRQUFVLFFBQXNCRixJQUFqQmtULFVBQVUsR0FBbUIsS0FBT0EsVUFBVSxHQUVyRixHQUFrQixtQkFBUHhWLEVBQ1QsTUFBTSxJQUFJOEQsTUFBTSxvREFFbEIsT0FBTytaLEVBQXNCaFMsS0FBTSxJQUFJdVIsRUFBa0JwZCxHQUFJLEVBQU1xZCxNQUVwRSxDQUNEelQsSUFBSyxTQUNMNUksTUFBTyxTQUFnQitjLEdBQ3JCLEtBQU1BLGFBQWdCWCxHQUNwQixNQUFNLElBQUl0WixNQUFNLHNFQUVsQixPQUFJaWEsRUFBS0osU0FBVzlSLEtBQWFBLE1BRTdCa1MsRUFBS0wsUUFBT0ssRUFBS0wsTUFBTUQsTUFBUU0sRUFBS04sT0FDcENNLEVBQUtOLFFBQU9NLEVBQUtOLE1BQU1DLE1BQVFLLEVBQUtMLE9BRXBDSyxJQUFTbFMsS0FBS21TLE9BQ2hCblMsS0FBS21TLE1BQVFELEVBQUtOLE1BQ0MsT0FBZk0sRUFBS04sUUFDUDVSLEtBQUtvUyxNQUFRLE9BRU5GLElBQVNsUyxLQUFLb1MsUUFDdkJwUyxLQUFLb1MsTUFBUUYsRUFBS0wsTUFDbEI3UixLQUFLb1MsTUFBTVIsTUFBUSxNQUdyQk0sRUFBS0osT0FBUyxLQUNQOVIsUUFFUixDQUNEakMsSUFBSyxZQUNMNUksTUFBTyxXQUNMLElBQUkrYyxFQUFPbFMsS0FBS21TLE1BQ2hCLElBQUtELEVBQU0sT0FBT2xTLEtBSWxCLElBRkFBLEtBQUttUyxNQUFRblMsS0FBS29TLE1BQVEsS0FFbkJGLEdBQ0xBLEVBQUtKLE9BQVMsS0FDZEksRUFBT0EsRUFBS04sTUFFZCxPQUFPNVIsU0FJSnFTLEVBN0dRLEdBZ0hqQkEsRUFBV2Qsa0JBQW9CQSxFQUUvQm5VLEVBQWlCLFFBQUlpVixFQUNyQmxZLEVBQUFpRCxRQUFpQkEsRUFBaUIsdVlDaEtsQyxJQUFNeVgsS0FBWXBpQixPQUFPcWlCLGdCQUFvQixvQkFBc0IsSUFBSXhjLGdCQUNuRXljLEVBQWEsS0FVakIsU0FBUzlCLFNBT0k3TCxtQ0F1Q0d0UyxFQUFNb08sRUFBS2xKLDJHQUNDLGlCQUFUbEYsR0FBb0MsaUJBQVJvTyxRQUM3QixJQUFJakwsTUFBTSxpRUFHVitCLEdBQVcsUUFRaEJnYixPQUFTLE9BR1RDLFNBQVM3TixFQUFTOE4sYUFBYUMsU0FBbUMsSUFBekJqUyxFQUFJMU8sUUFBUSxlQVFyRE0sS0FBT0EsT0FRUG9PLElBQU1BLE9BUU5rUyxVQUFZcFYsS0FBS3FWLHFCQU9qQjFkLEtBQU8sVUFPUDJkLGFBQXNDLElBQXhCdGIsRUFBUXNiLFlBQXVCLFlBQWN0YixFQUFRc2IsaUJBU25FNWMsUUFBVXNCLEVBQVF0QixTQUFXLE9BTzdCNmMsU0FBV3ZiLEVBQVF1YixVQUFZdlYsS0FBS3dWLDBCQU9wQ0MsUUFBVXpiLEVBQVF5YixhQVVsQkMsU0FBVzFiLEVBQVEwYixVQUFZLFFBUS9CN1ksTUFBUSxVQVNSOFksSUFBTSxVQVFOamhCLFNBQVcsUUFRWG1HLEtBQU91TSxFQUFTd08sS0FBS0MsYUFRckJDLGNBQWdCLE9BU2hCQyxTQUFXOUMsT0FRWCtDLGVBQWlCLFVBUWpCQyxjQUFnQixPQVFoQkMsZUFBaUJsVyxLQUFLbVcsU0FBU25ZLEtBQUtnQyxXQVFwQ29XLGNBQWdCcFcsS0FBS3FXLFNBQVNyWSxLQUFLZ0MsV0FRbkNzVyxpQkFBbUJ0VyxLQUFLdVcsWUFBWXZZLEtBQUtnQyxXQVF6Q3dXLGdCQUFrQnhXLEtBQUt5VyxXQUFXelksS0FBS2dDLFdBR3ZDMFcsaUJBQW1CMVcsS0FBSzJXLFlBQVkzWSxLQUFLZ0MsV0FDekM0VyxtQkFBcUI1VyxLQUFLNlcsY0FBYzdZLEtBQUtnQyxXQUM3QzhXLGlCQUFtQjlXLEtBQUsrVyxZQUFZL1ksS0FBS2dDLFdBQ3pDZ1gsZ0JBQWtCaFgsS0FBS2lYLFdBQVdqWixLQUFLZ0MsV0FTdkNrWCxRQUFVLElBQUlDLGVBYWRDLFdBQWEsSUFBSUQsZUFVakJFLFdBQWEsSUFBSUYsZUFTakJHLGtCQUFvQixJQUFJSCxtQkF2UTFCSSw4QkFBcUJDLEVBQVNqQyxLQUN2Qm5PLEVBQVNzUSxhQUFjRixFQUFTakMsTUFVdkNvQyw2QkFBb0JILEVBQVMvQixLQUN0QnJPLEVBQVN3USxZQUFhSixFQUFTL0IsZ0JBdVU3Q1UseUJBQ1MwQixvQkFDQUMsdUJBUVRDLGVBQU1DLE9BRUVoWSxLQUFLbkQsZUFLSkEsTUFBUSxJQUFJNUUsTUFBTStmLFFBR2xCSCxlQUdEN1gsS0FBSzJWLFNBQ0FBLElBQUlvQyxhQUVSLEdBQUkvWCxLQUFLaVksU0FDTEEsSUFBSUYsYUFFUixHQUFJL1gsS0FBS3JJLFFBRU5xSSxLQUFLckksS0FBSzhCLFNBQ0w5QixLQUFLOEIsSUFBTTJOLEVBQVM4USxvQkFJbEJsWSxLQUFLckksS0FBS3dnQixpQkFDUnhnQixLQUFLeWdCLFlBQVlwWSxLQUFLckksS0FBS3dnQixpQkFNdkNMLHdCQVFUTyxjQUFLcGUsa0JBQ0crRixLQUFLdVksYUFJTHZZLEtBQUt3WSxXQUNEdmUsY0FDVyxrQkFBTUEsRUFBR3FlLElBQU8sZUFLMUJyZSxRQUNBb2QsV0FBV3RQLEtBQUs5TixRQUdwQmdiLFNBQVM3TixFQUFTOE4sYUFBYXVELFNBQVMsUUFFeEN2QixRQUFRd0IsU0FBUzFZLE9BR0csSUFBckJBLEtBQUtzVixhQUFxRCxpQkFBckJ0VixLQUFLc1YsbUJBQ3JDQSxZQUFjdFYsS0FBSzJZLHNCQUFzQjNZLEtBQUtrRCxNQUcvQ2xELEtBQUt1VixlQUNKbk8sRUFBU3dSLFVBQVVDLFdBQ2ZoZSxLQUFPdU0sRUFBU3dPLEtBQUtpRCxXQUNyQkMsYUFBYSxvQkFHakIxUixFQUFTd1IsVUFBVUcsV0FDZmxlLEtBQU91TSxFQUFTd08sS0FBS21ELFdBQ3JCQyxtQkFBbUIsb0JBR3ZCNVIsRUFBU3dSLFVBQVVLLFdBQ2ZwZSxLQUFPdU0sRUFBU3dPLEtBQUtxRCxXQUNyQkQsbUJBQW1CLG9CQUd2QjVSLEVBQVN3UixVQUFVTSxZQUdoQnJFLEdBQVU3VSxLQUFLc1YsaUJBQ1Y2RCxnQkFHQUMseUJBYXJCQyxrQkFBU0MsVUFDMkIsSUFBeEJ0WixLQUFLZ1YsT0FBU3NFLGdCQVUxQnJFLGtCQUFTcUUsRUFBTW5rQixRQUNONmYsT0FBUzdmLEVBQVM2SyxLQUFLZ1YsT0FBU3NFLEVBQVN0WixLQUFLZ1YsUUFBVXNFLGVBUWpFekIscUNBQ2lCN1gsS0FBS2lXLGVBRWRqVyxLQUFLckksTUFBUXFJLEtBQUtySSxLQUFLNmhCLDJCQUNsQjdoQixLQUFLNmhCLG9CQUFvQixRQUFTeFosS0FBS29XLGVBQWUsUUFDdER6ZSxLQUFLNmhCLG9CQUFvQixPQUFReFosS0FBS2tXLGdCQUFnQixRQUN0RHZlLEtBQUs2aEIsb0JBQW9CLFdBQVl4WixLQUFLc1csa0JBQWtCLFFBQzVEM2UsS0FBSzZoQixvQkFBb0IsaUJBQWtCeFosS0FBS2tXLGdCQUFnQixJQUdyRWxXLEtBQUsyVixNQUNEM1YsS0FBSzJWLElBQUk2RCwwQkFDSjdELElBQUk2RCxvQkFBb0IsUUFBU3haLEtBQUswVyxrQkFBa0IsUUFDeERmLElBQUk2RCxvQkFBb0IsVUFBV3haLEtBQUs0VyxvQkFBb0IsUUFDNURqQixJQUFJNkQsb0JBQW9CLFFBQVN4WixLQUFLOFcsa0JBQWtCLFFBQ3hEbkIsSUFBSTZELG9CQUFvQixXQUFZeFosS0FBS3NXLGtCQUFrQixRQUMzRFgsSUFBSTZELG9CQUFvQixPQUFReFosS0FBS2dYLGlCQUFpQixVQUd0RHJCLElBQUk4RCxRQUFVLFVBQ2Q5RCxJQUFJK0QsVUFBWSxVQUNoQi9ELElBQUlnRSxXQUFhLFVBQ2pCaEUsSUFBSWlFLE9BQVMsb0JBVTlCOUIsc0JBQ1E5WCxLQUFLd1ksaUJBQ0MsSUFBSXZnQixNQUFNLGlFQUdmZ2QsU0FBUzdOLEVBQVM4TixhQUFhMkUsVUFBVSxRQUN6QzVFLFNBQVM3TixFQUFTOE4sYUFBYXVELFNBQVMsUUFFeENwQixXQUFXcUIsU0FBUzFZLG1CQVU3QjhZLHNCQUFhamUsR0FDTG1GLEtBQUswVixTQUFTb0UsaUJBQ1RuaUIsS0FBT3FJLEtBQUswVixTQUFTb0UsWUFFWixVQUFUamYsUUFBNEMsSUFBakJwSSxPQUFPc25CLFdBQ2xDcGlCLEtBQU8sSUFBSW9pQixXQUdYcGlCLEtBQU8yQixTQUFTQyxjQUFjc0IsR0FHbkNtRixLQUFLc1YsbUJBQ0EzZCxLQUFLMmQsWUFBY3RWLEtBQUtzVixhQUc1QnRWLEtBQUswVixTQUFTc0Usa0JBQ1ZyaUIsS0FBSzhCLElBQU11RyxLQUFLa0QsVUFHcEJ2TCxLQUFLc2lCLGlCQUFpQixRQUFTamEsS0FBS29XLGVBQWUsUUFDbkR6ZSxLQUFLc2lCLGlCQUFpQixPQUFRamEsS0FBS2tXLGdCQUFnQixRQUNuRHZlLEtBQUtzaUIsaUJBQWlCLFdBQVlqYSxLQUFLc1csa0JBQWtCLEdBRTFEdFcsS0FBS3RILGVBQ0F1ZCxjQUFnQnpDLFdBQVd4VCxLQUFLd1csZ0JBQWlCeFcsS0FBS3RILHVCQVduRXNnQiw0QkFBbUJuZSxNQUNYbUYsS0FBSzBWLFNBQVNvRSxpQkFDVG5pQixLQUFPcUksS0FBSzBWLFNBQVNvRSxZQUVaLFVBQVRqZixRQUE0QyxJQUFqQnBJLE9BQU95bkIsV0FDbEN2aUIsS0FBTyxJQUFJdWlCLFdBR1h2aUIsS0FBTzJCLFNBQVNDLGNBQWNzQixHQUdyQixPQUFkbUYsS0FBS3JJLFNBTUxxSSxLQUFLc1YsbUJBQ0EzZCxLQUFLMmQsWUFBY3RWLEtBQUtzVixjQUc1QnRWLEtBQUswVixTQUFTc0UsY0FFWG5iLFVBQVVzYixnQkFDTHhpQixLQUFLOEIsSUFBTXdQLE1BQU1tUixRQUFRcGEsS0FBS2tELEtBQU9sRCxLQUFLa0QsSUFBSSxHQUFLbEQsS0FBS2tELFNBRTVELEdBQUkrRixNQUFNbVIsUUFBUXBhLEtBQUtrRCxhQUNsQm1YLEVBQVlyYSxLQUFLMFYsU0FBUzRFLFNBRXZCNWpCLEVBQUksRUFBR0EsRUFBSXNKLEtBQUtrRCxJQUFJdk0sU0FBVUQsT0FDOUJpQixLQUFLZ0MsWUFDTnFHLEtBQUt1YSxjQUFjMWYsRUFBTW1GLEtBQUtrRCxJQUFJeE0sR0FBSXVTLE1BQU1tUixRQUFRQyxHQUFhQSxFQUFVM2pCLEdBQUsyakIsUUFJdkYsS0FDS0EsRUFBWXJhLEtBQUswVixTQUFTNEUsY0FFM0IzaUIsS0FBS2dDLFlBQ05xRyxLQUFLdWEsY0FBYzFmLEVBQU1tRixLQUFLa0QsSUFBSytGLE1BQU1tUixRQUFRQyxHQUFhQSxFQUFVLEdBQUtBLFNBS3BGMWlCLEtBQUtzaUIsaUJBQWlCLFFBQVNqYSxLQUFLb1csZUFBZSxRQUNuRHplLEtBQUtzaUIsaUJBQWlCLE9BQVFqYSxLQUFLa1csZ0JBQWdCLFFBQ25EdmUsS0FBS3NpQixpQkFBaUIsV0FBWWphLEtBQUtzVyxrQkFBa0IsUUFDekQzZSxLQUFLc2lCLGlCQUFpQixpQkFBa0JqYSxLQUFLa1csZ0JBQWdCLFFBRTdEdmUsS0FBSzBnQixPQUVOclksS0FBS3RILGVBQ0F1ZCxjQUFnQnpDLFdBQVd4VCxLQUFLd1csZ0JBQWlCeFcsS0FBS3RILG9CQXhDdERxZixNQUFMLHdCQUFtQ2xkLGdCQWlEM0N1ZSxvQkFFZ0MsaUJBQWpCcFosS0FBS3lWLGVBQ1BBLFFBQVV6VixLQUFLd2EseUJBR2xCN0UsRUFBTTNWLEtBQUsyVixJQUFNLElBQUlyZCxpQkFHdkJHLEtBQUssTUFBT3VILEtBQUtrRCxLQUFLLEtBRXRCeEssUUFBVXNILEtBQUt0SCxRQUlmc0gsS0FBS3lWLFVBQVlyTyxFQUFTcVQsa0JBQWtCMWhCLE1BQVFpSCxLQUFLeVYsVUFBWXJPLEVBQVNxVCxrQkFBa0JDLFdBQzVGQyxhQUFldlQsRUFBU3FULGtCQUFrQkcsT0FHMUNELGFBQWUzYSxLQUFLeVYsVUFHeEJ3RSxpQkFBaUIsUUFBU2phLEtBQUswVyxrQkFBa0IsS0FDakR1RCxpQkFBaUIsVUFBV2phLEtBQUs0VyxvQkFBb0IsS0FDckRxRCxpQkFBaUIsUUFBU2phLEtBQUs4VyxrQkFBa0IsS0FDakRtRCxpQkFBaUIsV0FBWWphLEtBQUtzVyxrQkFBa0IsS0FDcEQyRCxpQkFBaUIsT0FBUWphLEtBQUtnWCxpQkFBaUIsS0FFL0NyZSxvQkFRUndnQixvQkFFZ0MsaUJBQWpCblosS0FBS3lWLGVBQ1BBLFFBQVV6VixLQUFLd2EseUJBR2xCdkMsRUFBTWpZLEtBQUsyVixJQUFNLElBQUliLGlCQUt2QnBjLFFBQVVzSCxLQUFLdEgsU0FBVyxNQUUxQitnQixRQUFVelosS0FBSzBXLG1CQUNmZ0QsVUFBWTFaLEtBQUs0VyxxQkFDakIrQyxXQUFhM1osS0FBS3NXLG1CQUNsQnNELE9BQVM1WixLQUFLZ1gsa0JBRWR2ZSxLQUFLLE1BQU91SCxLQUFLa0QsS0FBSyxjQU1mLGtCQUFNK1UsRUFBSXRmLFFBQVEsZ0JBWWpDNGhCLHVCQUFjMWYsRUFBTXFJLEVBQUsyWCxHQUNoQkEsTUFDU2hnQixFQUFWLElBQWtCbUYsS0FBS3FWLGNBQWNuUyxRQUduQy9CLEVBQVM3SCxTQUFTQyxjQUFjLG1CQUUvQkUsSUFBTXlKLElBQ05ySSxLQUFPZ2dCLEVBRVAxWixlQVNYa1Ysa0JBQVNuTyxRQUNBNlAsTUFBTCxpQ0FBNEM3UCxFQUFNNEksT0FBT2dLLHVCQVM3RHZFLHFCQUFZck8sR0FDSkEsR0FBU0EsRUFBTTZTLHVCQUNWM0QsV0FBV3NCLFNBQVMxWSxLQUFNa0ksRUFBTThTLE9BQVM5UyxFQUFNK1Msb0JBUzVEeEUsMkJBQ1NzQixNQUFMLGdDQVFKcEIsMkJBQ1VoQixFQUFNM1YsS0FBSzJWLFNBRVpvQyxNQUFTbUQsRUFBUXZGLEdBQXRCLDRCQUFzREEsRUFBSXJlLE9BQTFELFlBQTRFcWUsRUFBSXdGLFdBQWhGLGtCQVFKdEUsNkJBQ1VsQixFQUFNM1YsS0FBSzJWLFNBRVpvQyxNQUFTbUQsRUFBUXZGLEdBQXRCLG9DQVFKb0IsMkJBQ1VwQixFQUFNM1YsS0FBSzJWLFNBRVpvQyxNQUFTbUQsRUFBUXZGLEdBQXRCLGtEQVNKc0IsMEJBQ1V0QixFQUFNM1YsS0FBSzJWLElBQ2J5RixFQUFPLEdBQ1A5akIsT0FBK0IsSUFBZnFlLEVBQUlyZSxPQTV4QmQsSUE0eEJtRHFlLEVBQUlyZSxVQUd4QyxLQUFyQnFlLEVBQUlnRixjQUE0QyxTQUFyQmhGLEVBQUlnRixtQkFBdUQsSUFBckJoRixFQUFJZ0YsaUJBQzlEaEYsRUFBSTFjLGNBanlCSCxJQXN5QlIzQixJQUEyQjhqQixFQUFLemtCLE9BQVMsR0FBS2dmLEVBQUlnRixlQUFpQnZULEVBQVNxVCxrQkFBa0JZLFVBcnlCeEYsSUFFVSxPQXV5QlgvakIsTUF4eUJJLEtBRUUsS0EweUJLQSxFQUFTLElBQU8sT0FJNUIwSSxLQUFLeVYsVUFBWXJPLEVBQVNxVCxrQkFBa0JHLFVBQ3ZDampCLEtBQU95akIsT0FDUHZnQixLQUFPdU0sRUFBU3dPLEtBQUtnRixVQUd6QixHQUFJNWEsS0FBS3lWLFVBQVlyTyxFQUFTcVQsa0JBQWtCMWhCLGNBRXhDcEIsS0FBT29CLEtBQUtDLE1BQU1vaUIsUUFDbEJ2Z0IsS0FBT3VNLEVBQVN3TyxLQUFLN2MsS0FFOUIsTUFBTzFELG9CQUNFMGlCLE1BQUwsc0NBQWlEMWlCLFFBTXBELEdBQUkySyxLQUFLeVYsVUFBWXJPLEVBQVNxVCxrQkFBa0JDLGdCQUV6Q2pvQixPQUFPNm9CLFVBQVcsS0FDWkMsRUFBWSxJQUFJRCxlQUVqQjNqQixLQUFPNGpCLEVBQVVDLGdCQUFnQkosRUFBTSxnQkFFM0MsS0FDS0ssRUFBTW5pQixTQUFTQyxjQUFjLFNBRS9CbWlCLFVBQVlOLE9BRVh6akIsS0FBTzhqQixPQUdYNWdCLEtBQU91TSxFQUFTd08sS0FBSytGLElBRTlCLE1BQU90bUIsb0JBQ0UwaUIsTUFBTCxxQ0FBZ0QxaUIsYUFPL0NzQyxLQUFPZ2UsRUFBSWlHLFVBQVlSLE9BUy9CakYscUJBTEk0QixNQUFMLElBQWVwQyxFQUFJcmUsT0FBbkIsS0FBOEJxZSxFQUFJd0YsV0FBbEMsS0FBaUR4RixFQUFJa0csMEJBa0I3RGxELCtCQUFzQnpWLEVBQUs0WSxNQUVNLElBQXpCNVksRUFBSTFPLFFBQVEsZUFDTCxNQU1QL0IsT0FBT3NwQixTQUFXdHBCLE9BQU91cEIsU0FBU0QsYUFDM0IsY0FJTEQsR0FBT3JwQixPQUFPdXBCLFNBRWZqSCxNQUNZemIsU0FBU0MsY0FBYyxRQU03QjBILEtBQU9pQyxNQUdaK1ksT0FGQSxFQUFBQyxFQUFBelUsU0FBU3NOLEVBQVc5VCxLQUFNLENBQUUyUixZQUFZLEtBRXZCbFMsTUFBcUIsS0FBYm9iLEVBQUlwYixNQUFpQndDLEVBQUl4QyxPQUFTb2IsRUFBSXBiLEtBQy9ESixFQUFXNEMsRUFBSTVDLFNBQWM0QyxFQUFJNUMsU0FBdEIsSUFBb0MsVUFHakQ0QyxFQUFJekMsT0FBU3FiLEVBQUluYixVQUFhc2IsR0FBWTNiLElBQWF3YixFQUFJeGIsU0FJeEQsR0FISSx5QkFhZmthLG9DQUNXcFQsRUFBU3dRLFlBQVk1WCxLQUFLb1YsWUFBY2hPLEVBQVNxVCxrQkFBa0JHLGtCQVU5RXBGLHFDQUNXcE8sRUFBU3NRLGFBQWExWCxLQUFLb1YsWUFBY2hPLEVBQVN3UixVQUFVTSxpQkFTdkU3RCw2QkFDUW5TLEVBQU1sRCxLQUFLa0QsSUFDWGlaLEVBQU0sTUFFTm5jLEtBQUtvYyxVQUFXLEtBQ1ZDLEVBQWFuWixFQUFJMU8sUUFBUSxPQUV6QjBPLEVBQUlvWixVQUFVRCxFQUFhLEVBQUduWixFQUFJMU8sUUFBUSxJQUFLNm5CLFFBRXBELEtBQ0tFLEVBQWFyWixFQUFJMU8sUUFBUSxLQUN6QmdvQixFQUFZdFosRUFBSTFPLFFBQVEsS0FDeEJpb0IsRUFBUTdRLEtBQUs4USxJQUNmSCxHQUFjLEVBQUlBLEVBQWFyWixFQUFJdk0sT0FDbkM2bEIsR0FBYSxFQUFJQSxFQUFZdFosRUFBSXZNLGFBRy9CdU0sRUFBSW9aLFVBQVUsRUFBR0csSUFDYkgsVUFBVXBaLEVBQUlxQixZQUFZLEtBQU8sVUFHeEM0WCxFQUFJalksMkJBV2Z5WSw2QkFBb0I5aEIsVUFDUkEsUUFDQ3VNLEVBQVNxVCxrQkFBa0JZLGFBQ3JCLGdDQUVOalUsRUFBU3FULGtCQUFrQm1DLFdBQ3JCLHdCQUVOeFYsRUFBU3FULGtCQUFrQkMsZUFDckIsdUJBRU50VCxFQUFTcVQsa0JBQWtCMWhCLFdBQ3JCLHdCQUVOcU8sRUFBU3FULGtCQUFrQm9DLGFBQzNCelYsRUFBU3FULGtCQUFrQkcsbUJBR3JCLDJEQXpwQlI1YSxLQUFLcVosU0FBU2pTLEVBQVM4TixhQUFhQyxvREFXcENuVixLQUFLcVosU0FBU2pTLEVBQVM4TixhQUFhMkUsbURBV3BDN1osS0FBS3FaLFNBQVNqUyxFQUFTOE4sYUFBYXVELGVBcFZ0Q3JSLEdBNG1DYixTQUFTcVEsRUFBVWhkLEVBQUsrYyxFQUFTc0YsR0FDekJ0RixHQUFvQyxJQUF6QkEsRUFBUWhqQixRQUFRLFNBQ2pCZ2pCLEVBQVE4RSxVQUFVLElBRzNCOUUsTUFJREEsR0FBV3NGLEdBVW5CLFNBQVM1QixFQUFRdkYsVUFDTkEsRUFBSW9ILFdBQVdyWixRQUFRLFVBQVcsSUE3SjdDMEQsRUFBUzhOLGFBQWUsTUFDUixXQUNDLFdBQ0EsVUFDQSxHQVVqQjlOLEVBQVN3TyxLQUFPLFNBQ0EsT0FDQSxNQUNBLFFBQ0EsUUFDQSxRQUNBLE9BQ0EsR0FVaEJ4TyxFQUFTd1IsVUFBWSxLQUVULFFBRUEsUUFFQSxRQUVBLEdBVVp4UixFQUFTcVQsa0JBQW9CLFNBRWIsY0FFQSxtQkFFQSxnQkFFQSxnQkFFQSxZQUVBLFFBR2hCclQsRUFBU3NRLGFBQWUsS0FFUnRRLEVBQVN3UixVQUFVQyxVQUNuQnpSLEVBQVN3UixVQUFVQyxVQUNuQnpSLEVBQVN3UixVQUFVQyxVQUNuQnpSLEVBQVN3UixVQUFVQyxXQUNuQnpSLEVBQVN3UixVQUFVQyxVQUNuQnpSLEVBQVN3UixVQUFVQyxXQUNuQnpSLEVBQVN3UixVQUFVQyxXQUNuQnpSLEVBQVN3UixVQUFVQyxVQUNuQnpSLEVBQVN3UixVQUFVQyxVQUNuQnpSLEVBQVN3UixVQUFVQyxnQkFDbkJ6UixFQUFTd1IsVUFBVUMsVUFHbkJ6UixFQUFTd1IsVUFBVUcsVUFDbkIzUixFQUFTd1IsVUFBVUcsVUFDbkIzUixFQUFTd1IsVUFBVUcsVUFHbkIzUixFQUFTd1IsVUFBVUssV0FDbkI3UixFQUFTd1IsVUFBVUssT0FHbkM3UixFQUFTd1EsWUFBYyxPQUVQeFEsRUFBU3FULGtCQUFrQkMsY0FDM0J0VCxFQUFTcVQsa0JBQWtCQyxhQUMzQnRULEVBQVNxVCxrQkFBa0JDLGFBQzNCdFQsRUFBU3FULGtCQUFrQkMsYUFDM0J0VCxFQUFTcVQsa0JBQWtCQyxhQUMzQnRULEVBQVNxVCxrQkFBa0JDLGFBSzNCdFQsRUFBU3FULGtCQUFrQkMsYUFHM0J0VCxFQUFTcVQsa0JBQWtCbUMsU0FDM0J4VixFQUFTcVQsa0JBQWtCbUMsU0FDM0J4VixFQUFTcVQsa0JBQWtCbUMsU0FDM0J4VixFQUFTcVQsa0JBQWtCbUMsVUFDM0J4VixFQUFTcVQsa0JBQWtCbUMsU0FDM0J4VixFQUFTcVQsa0JBQWtCbUMsVUFDM0J4VixFQUFTcVQsa0JBQWtCbUMsVUFDM0J4VixFQUFTcVQsa0JBQWtCbUMsU0FDM0J4VixFQUFTcVQsa0JBQWtCbUMsVUFHM0J4VixFQUFTcVQsa0JBQWtCMWhCLFVBRzNCcU8sRUFBU3FULGtCQUFrQkcsU0FDM0J4VCxFQUFTcVQsa0JBQWtCRyxTQUczQnhULEVBQVNxVCxrQkFBa0JZLFdBQzNCalUsRUFBU3FULGtCQUFrQlksUUFJM0NqVSxFQUFTOFEsVUFBWSx1R0FvQ1E5USw4RUNucENiRyxFQVJoQixJQUFNeW5CLEVBQVUsb0VBUVQsU0FBU3puQixFQUFhc2pCLFdBQ3JCVixFQUFTLEdBQ1Q4RSxFQUFNLEVBRUhBLEVBQU1wRSxFQUFNbDBCLFFBQVEsU0FFakJ1NEIsRUFBYSxDQUFDLEVBQUcsRUFBRyxHQUNwQkMsRUFBcUIsQ0FBQyxFQUFHLEVBQUcsRUFBRyxHQUU1QkMsRUFBTSxFQUFHQSxFQUFNRixFQUFXdjRCLFNBQVV5NEIsRUFDckNILEVBQU1wRSxFQUFNbDBCLFNBR0R5NEIsR0FBaUMsSUFBMUJ2RSxFQUFNOWxCLFdBQVdrcUIsT0FHeEJHLEdBQU8sV0FNUCxHQUFLRixFQUFXLElBQU0sSUFHdEIsSUFBdUIsRUFBaEJBLEVBQVcsS0FBYSxFQUFNQSxFQUFXLElBQU0sSUFHdEQsSUFBdUIsR0FBaEJBLEVBQVcsS0FBYyxFQUFNQSxFQUFXLElBQU0sSUFHdkQsR0FBcUIsR0FBaEJBLEVBQVcsR0FHZEQsR0FBT3BFLEVBQU1sMEIsT0FBUyxTQUdsQyxJQUVrQixHQUFLLEtBQ0wsR0FBSyxjQUd2QixJQUVrQixHQUFLLE9BUzNCLElBQUl5NEIsRUFBTSxFQUFHQSxFQUFNRCxFQUFtQng0QixTQUFVeTRCLEtBQ3ZDSixFQUFRcnBCLE9BQU93cEIsRUFBbUJDLFdBSTdDakYsb0JBS2tCNWlCLDJGQ2xFdEIsa0JBQ0ksU0FBd0JvbkIsRUFBVTNqQixNQUNoQzJqQixFQUFTaDNCLFNBT1ZnM0IsRUFBU2haLEtBQU9nWixFQUFTbFosVUFBWXJPLFlBQVNxVCxrQkFBa0JtQyxRQUUzRG5xQixPQUFPZ2dDLE1BQWlDLGlCQUFsQjlELEVBQVNoM0IsTUFzQi9CLEdBQTRDLElBQXhDZzNCLEVBQVNoM0IsS0FBS2tELEtBQUtyRyxRQUFRLFNBQWdCLEtBQzFDaUYsRUFBTTRHLEVBQUlreUIsZ0JBQWdCNUQsRUFBU2gzQixlQUVoQ3E3QixLQUFPckUsRUFBU2gzQixPQUNoQkEsS0FBTyxJQUFJb2lCLFFBQ1hwaUIsS0FBSzhCLElBQU1BLElBRVhvQixLQUFPdU0sWUFBU3dPLEtBQUtpRCxhQUlyQmxoQixLQUFLaWlCLE9BQVMsYUFDZjRZLGdCQUFnQi80QixLQUNYOUIsS0FBS2lpQixPQUFTLGdCQW5Dd0IsS0FDN0MvZSxFQUFPOHpCLEVBQVNoWixJQUFJNDdFLGtCQUFrQixtQkFHeEMxMkYsR0FBa0MsSUFBMUJBLEVBQUtyRyxRQUFRLGtCQUNabUQsS0FBTyxJQUFJb2lCLFFBQ1hwaUIsS0FBSzhCLElBQWQsUUFBNEJvQixFQUE1QixZQUEyQyxFQUFBeU0sR0FBQUMsY0FBYW9uQixFQUFTaFosSUFBSTFjLGdCQUU1RDRCLEtBQU91TSxZQUFTd08sS0FBS2lELGFBR3JCbGhCLEtBQUtpaUIsT0FBUyxhQUNWamlCLEtBQUtpaUIsT0FBUywwQkExQi9DLElBQU12WixFQUFNNU4sT0FBTzYvQixLQUFPNy9CLE9BQU8rK0YsbURDTVpDLEdBQWEsZ0JBUXZCMWpFLElBQUEsU0FBSVksRUFBVTNqQixHQUdiMmpCLEVBQVNoM0IsTUFBUWczQixFQUFTOXpCLE9BQVM2MkYsR0FBQSxTQUFTOTdFLEtBQUtpRCxRQUVqRDhWLEVBQVNrdkIsUUFBVXVGLEdBQVFjLFdBQzNCdjFCLEVBQWFoM0IsS0FDYmczQixFQUFhenJCLElBQ2J5ckIsRUFBYTc1QixPQUdyQmtXLEtySjRCSixJQUFxQjJtRixHQUFNLFNBQUFDLEdBRXZCLFNBQUExcUYsRUFBWTZsQixFQUFTclosY0FFakI0NUIsT0FBS3R0QyxLQUFDK3NCLEVBQVNyWixHQUNmdThCLEVBQUEvMEMsRUFBYWhJLEtBQUs4TSxNQUVsQixJQUFLOGlCLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJd1EsRUFBT3VwRixTQUFTOTVGLFNBQVVELEVBQzlDLENBQ0lrc0IsSUFBTTh0RSxFQUFTeHBGLEVBQU91cEYsU0FBUy81RixHQUMvQm0zQixFQUFBNmlFLEVBQUE3aUUsSUFBYUUsRUFBQTJpRSxFQUFBM2lFLElBRVRGLEdBRUE3dEIsS0FBSzZ0QixJQUFJQSxHQUdURSxHQUVBL3RCLEtBQUsrdEIsSUFBSUEsR0FLakIvdEIsS0FBS2tYLFFBQVE4VyxJQUFHLFNBQUV6MkIsR0FBRyxPQUFHeUksRUFBS21KLEtBQUssUUFBUzVSLEtBQzNDeUksS0FBS29YLFdBQVc0VyxJQUFHLFNBQUV6MkIsRUFBR2tHLEdBQUcsT0FBR3VDLEVBQUttSixLQUFLLFdBQVk1UixFQUFHa0csS0FDdkR1QyxLQUFLMHRCLFFBQVFNLElBQUcsU0FBRTM0QixFQUFHa0MsRUFBR2tHLEdBQUcsT0FBR3VDLEVBQUttSixLQUFLLFFBQVM5VCxFQUFHa0MsRUFBR2tHLEtBQ3ZEdUMsS0FBSzJ0QixPQUFPSyxJQUFHLFNBQUV6MkIsRUFBR2tHLEdBQUcsT0FBR3VDLEVBQUttSixLQUFLLE9BQVE1UixFQUFHa0csS0FDL0N1QyxLQUFLcVgsV0FBVzJXLElBQUcsU0FBRXoyQixFQUFHa0csR0FBRyxPQUFHdUMsRUFBS21KLEtBQUssV0FBWTVSLEVBQUdrRyxLQVF2RHVDLEtBQUtpM0MsWUFBYSw2SUFPdEJ6WCxRQUFBLFdBRVN4L0IsS0FBS2kzQyxhQUVOajNDLEtBQUs4SixxQkFDTDlKLEtBQUtzdUIsVUFXYithLEVBQVc4TyxPQUFBbGpELElBQUEsV0FFUDZ0QixJQUFJcTFCLEVBQVNqeEMsRUFBT2t4QyxRQVNwQixPQVBLRCxLQUVEQSxFQUFTLElBQUlqeEMsR0FDTit2QyxZQUFhLEVBQ3BCL3ZDLEVBQU9reEMsUUFBVUQsR0FHZEEsa0NBdEVZLENBQVMwNUMsR0FBQTMyRixHQTJFcENuSSxPQUFPMHVCLE9BQU9rd0UsR0FBTzMrRixVQUFXaTlDLEVBQUEvMEMsRUFBYWxJLFdBVTdDMitGLEdBQU9sQixTQUFXLEdBWWxCa0IsR0FBT2xwQixlQUFpQixTQUF3QmlvQixHQVM1QyxPQVBBaUIsR0FBT2xCLFNBQVNoOEYsS0FBS2k4RixHQUVqQkEsRUFBTzFpRSxLQUVQMGlFLEVBQU8xaUUsTUFHSjJqRSxJQUlYQSxHQUFPbHBCLGVBQWUsQ0FBRTE2QyxJQUFLK2pFLE9BRzdCSCxHQUFPbHBCLGVBQWVncEIsSXNKN0pQLElBQU1NLEdBQWUsZ0JBT3pCN3JELEtBQUEsU0FBS2xzQyxHQUVSQSxFQUFVakgsT0FBTzB1QixPQUFPLENBQ3hCdXdFLGNBQWtCLEdBQ2ZoNEYsR0FRSGdHLEtBQUtpeUYsT0FBU2o0RixFQUFRZzRGLGFBQWVMLEdBQU94NUMsT0FBUyxJQUFJdzVDLElBT2pFSSxHQUFXdnlELFFBQUEsV0FFQ3gvQixLQUFLaXlGLFNBRUxqeUYsS0FBS2l5RixPQUFPenlELFVBQ1p4L0IsS0FBS2l5RixPQUFTLE83S25DZCxJQUFDQyxHQUFpQlIsR0FBQSxTOEt1QlRTLEdBQWlCLFNBQUEvaEQsR0FnQmxDLFNBQUFnaUQsRUFBWUMsRUFBZ0IxSCxFQUFZMkgsRUFBbUJqckIsa0JBQXJDLHFCQUE4Qix1QkFBb0IsR0FFcEUvNUIsT0FBS3R0QyxNQU9Ec3lGLEVBRmlCLFFBSWpCQSxFQUppQixPQU9qQkEsRUFBWUQsSUFFWkMsRUFBWUQsR0FTaEJyeUYsS0FBS3V5RixZQUFjLEVBQUMsR0FBTyxHQUFNLEdBQU8sR0FBTyxHQU0vQ3Z5RixLQUFLd3lGLFNBQVdILEVBTWhCcnlGLEtBQUt5eUYsV0FBYUgsRUFNbEJ0eUYsS0FBSzB5RixTQUFXLEtBT2hCMXlGLEtBQUsyeUYsaUJBQW1CLEdBT3hCM3lGLEtBQUs4akQsVUFBWSxFQU1qQjlqRCxLQUFLNHZDLHFCQUFzQixFQVUzQjV2QyxLQUFLNDlCLFVBQVlqSCxFQUFZQyxPQU83QjUyQixLQUFLcW5FLFdBQWFBLEVBV2xCcm5FLEtBQUttbkUsYUFBYyxFQVFuQm5uRSxLQUFLaTVDLFlBQWMsS0FFbkJqNUMsS0FBSzR5RixjQUFjakksR0FVbkIzcUYsS0FBS21nRixNQUFRLEVBQ2JuZ0YsS0FBSzZ5RixRQUFVLElBQUlqdkUsYUFBYSxHQUNoQzVqQixLQUFLaytCLEtBQU8sa0pBUWhCMDBELGNBQUEsU0FBY2pJLEdBRU5BLElBRUEzcUYsS0FBS3V5RixZQUFZLEdBQUssYUFBYzVILEdBQWMsVUFBV0EsSUFDckRBLEVBQVduNkUsWUFBY202RSxFQUFXbG5ELE1BQVF6akMsS0FBS3V5RixZQUFZLEdBQ3JFdnlGLEtBQUt1eUYsWUFBWSxHQUFLLGFBQWM1SCxJQUFlQSxFQUFXNWxELFNBQVcva0MsS0FBS3V5RixZQUFZLEdBQzFGdnlGLEtBQUt1eUYsWUFBWSxHQUFLLGFBQWM1SCxJQUFlQSxFQUFXbm1ELFNBQVd4a0MsS0FBS3V5RixZQUFZLEdBQzFGdnlGLEtBQUt1eUYsWUFBWSxHQUFLLFFBQVM1SCxJQUFlQSxFQUFXamlDLElBQU0xb0QsS0FBS3V5RixZQUFZLEdBQ2hGdnlGLEtBQUt1eUYsWUFBWSxHQUFLLFNBQVU1SCxHQUFjLFVBQVdBLElBQ2pEQSxFQUFXenNELFFBQVV5c0QsRUFBVzVzRCxNQUFRLzlCLEtBQUt1eUYsWUFBWSxpQkFTekV6cEQsZ0JBQUEsV0FHSTlvQyxLQUFLbXZDLGdDQVdUaEcsRUFBSWpMLEtBQUFqcEMsSUFBQSxXQUVBLE9BQU8rSyxLQUFLbWdGLE9BR2hCaDNDLEVBQUlqTCxLQUFBaHBDLElBQUEsU0FBS0MsR0FFTDZLLEtBQUttZ0YsTUFBUWhyRixFQUNiOG5DLEVBQVE5bkMsRUFBTzZLLEtBQUs2eUYsc0JBU3hCeGpELE9BQUEsU0FBT0MsY0FFRXR2QyxLQUFLd3RDLFdBQVd4dEMsS0FBSzB0QyxZQUFjLElBQU0xdEMsS0FBS3RMLFNBQVNpQyxRQUFXcUosS0FBS3l0QyxhQUt2RXp0QyxLQUFLaTVDLGNBRU5qNUMsS0FBS2k1QyxZQUFjajVDLEtBQUt0TCxTQUFTLEdBQUdnM0QsU0FBU3pTLFlBQ3hDajVDLEtBQUtpNUMsWUFBWUcsT0FFbEJwNUMsS0FBS2k1QyxZQUFZbHhDLEtBQUssU0FBUSxXQUFLLE9BQUcvSCxFQUFLc3dDLGlCQUFpQixNQUlwRWhCLEVBQVNzQyxNQUFNNGEsa0JBQWtCbGQsRUFBU3lGLFFBQVErOUMsVUFDbER4akQsRUFBU3lGLFFBQVErOUMsU0FBU3pqRCxPQUFPcnZDLG9CQVNyQ3N3QyxpQkFBQSxTQUFpQnlpRCxHQUliLElBRkFud0UsSUFBTW9rQyxFQUFjcDdDLEtBQUs4WCxNQUFNcXZFLEVBQXFCL3lGLEtBQUt5eUYsWUFFbER6eUYsS0FBSzJ5RixpQkFBaUJoOEYsT0FBU3F3RCxHQUVsQ2huRCxLQUFLMnlGLGlCQUFpQmwrRixLQUFLLEdBRS9CdUwsS0FBSzJ5RixpQkFBaUIzckMsS0FBaUJobkQsS0FBSzhqRCx1QkFHaERqdEQsUUFBQSxXQUVJLEdBQUltSixLQUFLMHlGLFNBQ1QsQ0FDSSxJQUFLNXZFLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJc0osS0FBSzB5RixTQUFTLzdGLFNBQVVELEVBRXhDc0osS0FBSzB5RixTQUFTaDhGLEdBQUc4b0MsVUFHckJ4L0IsS0FBSzB5RixTQUFXLG1CQWdCeEJsekQsUUFBQSxTQUFReGxDLEdBRUpzekMsWUFBTTlOLFFBQUF0c0MsS0FBTzhNLEtBQUNoRyxHQUVkZ0csS0FBS25KLFVBRUxtSixLQUFLdXlGLFlBQWMsS0FDbkJ2eUYsS0FBSzB5RixTQUFXLEtBQ2hCMXlGLEtBQUsyeUYsaUJBQW1CLCtDQWpRTSxDQUFTeGlELElDUjFCNmlELEdBUWpCLFNBQVlySSxFQUFZc0ksRUFBc0J6MEQsR0FFMUN4K0IsS0FBSzZuRCxTQUFXLElBQUl4QixHQUVwQnJtRCxLQUFLd21ELFlBQWMsS0FRbkJ4bUQsS0FBS3crQixLQUFPQSxFQVFaeCtCLEtBQUtrekYsa0JBQW9CLEdBUXpCbHpGLEtBQUttekYsaUJBQW1CLEdBRXhCLElBQUtyd0UsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUlpMEYsRUFBV2gwRixTQUFVRCxFQUM3QyxDQUNJLElBQVF5SCxFQUFXd3NGLEVBQVdqMEYsR0FJMUJ5SCxFQUFXLENBQ1BpMUYsY0FBZWoxRixFQUFTaTFGLGNBQ3hCNTBELEtBQU1yZ0MsRUFBU3FnQyxLQUNmNjBELGVBQWdCbDFGLEVBQVNrMUYsZUFDN0J4NEYsS0FBVXNELEVBQVN0RCxNQUFRdS9CLEVBQU1NLE1BQzdCeXRCLE9BQVFocUQsRUFBU2dxRCxRQUdqQjhxQyxFQUFxQnY4RixHQUV6QnNKLEtBQVNrekYsa0JBQWtCeitGLEtBQUswSixHQUloQzZCLEtBQVNtekYsaUJBQWlCMStGLEtBQUswSixHQUluQzZCLEtBQUtzekYsYUFBZSxFQUNwQnR6RixLQUFLdXpGLGFBQWUsS0FDcEJ2ekYsS0FBS3d6RixXQUFhLEtBQ2xCeHpGLEtBQUt5ekYsaUJBQW1CLEtBRXhCenpGLEtBQUswekYsY0FBZ0IsRUFDckIxekYsS0FBSzJ6RixjQUFnQixLQUNyQjN6RixLQUFLNHpGLFlBQWMsS0FDbkI1ekYsS0FBSzZ6RixrQkFBb0IsS0FFekI3ekYsS0FBSzhqRCxVQUFZLEVBRWpCOWpELEtBQUs4ekY7Ozs7Ozs7R0FRYmQsR0FBQWhnRyxVQUFJOGdHLFlBQUEsV0FFSWx4RSxJQUFNaWxDLEVBQVc3bkQsS0FBSzZuRCxTQUVsQmtzQyxFQUFnQixFQVFwQi96RixLQUFLd21ELFlBQWMsSUFBSWIsR0FBT3BuQixFQUFzQnYrQixLQUFLdytCLE9BQU8sR0FBTSxHQUMxRXFwQixFQUFhWCxTQUFTbG5ELEtBQUt3bUQsYUFFdkJ4bUQsS0FBSzB6RixjQUFnQixFQUVyQixJQUFLNXdFLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJc0osS0FBS2t6RixrQkFBa0J2OEYsU0FBVUQsRUFDekQsQ0FDSSxJQUFVeUgsRUFBVzZCLEtBQUtrekYsa0JBQWtCeDhGLEdBRXhDeUgsRUFBU2dxRCxPQUFTNHJDLEVBQ2xCQSxHQUFpQjUxRixFQUFTcWdDLEtBQzFCeCtCLEtBQUswekYsZUFBaUJ2MUYsRUFBU3FnQyxLQUduQzViLElBQU1veEUsRUFBWSxJQUFJcndFLFlBQVkzakIsS0FBS3crQixLQUFPeCtCLEtBQUswekYsY0FBZ0IsRUFBSSxHQUUzRTF6RixLQUFTNHpGLFlBQWMsSUFBSWh3RSxhQUFhb3dFLEdBQ3hDaDBGLEtBQVM2ekYsa0JBQW9CLElBQUlod0UsWUFBWW13RSxHQUN6Q2gwRixLQUFLMnpGLGNBQWdCLElBQUlodUMsR0FBTzNsRCxLQUFLNHpGLGFBQWEsR0FBTyxHQUd6RDl3RSxJQUFJbXhFLEVBQWUsRUFFbkJqMEYsS0FBS3N6RixhQUFlLEVBRXBCLElBQUt4d0UsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUlzSixLQUFLbXpGLGlCQUFpQng4RixTQUFVRCxFQUN4RCxDQUNJLElBQVV5SCxFQUFXNkIsS0FBS216RixpQkFBaUJ6OEYsR0FFdkN5SCxFQUFTZ3FELE9BQVM4ckMsRUFDbEJBLEdBQWdCOTFGLEVBQVNxZ0MsS0FDekJ4K0IsS0FBS3N6RixjQUFnQm4xRixFQUFTcWdDLEtBR2xDNWIsSUFBTXN4RSxFQUFhLElBQUl2d0UsWUFBWTNqQixLQUFLdytCLEtBQU94K0IsS0FBS3N6RixhQUFlLEVBQUksR0FFM0V0ekYsS0FBU3d6RixXQUFhLElBQUk1dkUsYUFBYXN3RSxHQUN2Q2wwRixLQUFTeXpGLGlCQUFtQixJQUFJNXZFLFlBQVlxd0UsR0FDeENsMEYsS0FBS3V6RixhQUFlLElBQUk1dEMsR0FBTzNsRCxLQUFLd3pGLFlBQVksR0FBTSxHQUV0RCxJQUFLMXdFLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJc0osS0FBS2t6RixrQkFBa0J2OEYsU0FBVUQsRUFDekQsQ0FDSSxJQUFVeUgsRUFBVzZCLEtBQUtrekYsa0JBQWtCeDhGLEdBRTVDbXhELEVBQWFmLGFBQ1RxdEMsRUFBYWYsY0FDYnB6RixLQUFTMnpGLGNBQ0wsRUFDQXgxRixFQUFTdEQsT0FBU3UvQixFQUFNQyxjQUM1Qjg1RCxFQUFhdDVGLEtBQ1ksRUFBckJtRixLQUFLMHpGLGNBQ2EsRUFBbEJ2MUYsRUFBU2dxRCxRQUlqQixJQUFLcmxDLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJc0osS0FBS216RixpQkFBaUJ4OEYsU0FBVUQsRUFDeEQsQ0FDSSxJQUFVeUgsRUFBVzZCLEtBQUttekYsaUJBQWlCejhGLEdBRTNDbXhELEVBQWFmLGFBQ1RzdEMsRUFBYWhCLGNBQ2JwekYsS0FBU3V6RixhQUNMLEVBQ0FwMUYsRUFBU3RELE9BQVN1L0IsRUFBTUMsY0FDNUIrNUQsRUFBYXY1RixLQUNXLEVBQXBCbUYsS0FBS3N6RixhQUNhLEVBQWxCbjFGLEVBQVNncUQsVUFhekI2cUMsR0FBQWhnRyxVQUFJcWhHLGNBQUEsU0FBYzMvRixFQUFVNC9GLEVBQVlDLEdBRWhDLElBQUt6eEUsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUlzSixLQUFLa3pGLGtCQUFrQnY4RixPQUFRRCxJQUN2RCxDQUNJLElBQVV5SCxFQUFXNkIsS0FBS2t6RixrQkFBa0J4OEYsR0FFNUN5SCxFQUFhazFGLGVBQWUzK0YsRUFBVTQvRixFQUFZQyxFQUMxQ3AyRixFQUFTdEQsT0FBU3UvQixFQUFNQyxjQUFnQnI2QixLQUFLNnpGLGtCQUFvQjd6RixLQUFLNHpGLFlBQzFFNXpGLEtBQVMwekYsY0FBZXYxRixFQUFTZ3FELFFBR3JDbm9ELEtBQUsyekYsY0FBYzd2QyxhQVczQmt2QyxHQUFBaGdHLFVBQUl3aEcsYUFBQSxTQUFhOS9GLEVBQVU0L0YsRUFBWUMsR0FFL0IsSUFBS3p4RSxJQUFJcHNCLEVBQUksRUFBR0EsRUFBSXNKLEtBQUttekYsaUJBQWlCeDhGLE9BQVFELElBQ3RELENBQ0ksSUFBVXlILEVBQVc2QixLQUFLbXpGLGlCQUFpQno4RixHQUUzQ3lILEVBQWFrMUYsZUFBZTMrRixFQUFVNC9GLEVBQVlDLEVBQzFDcDJGLEVBQVN0RCxPQUFTdS9CLEVBQU1DLGNBQWdCcjZCLEtBQUt5ekYsaUJBQW1CenpGLEtBQUt3ekYsV0FDekV4ekYsS0FBU3N6RixhQUFjbjFGLEVBQVNncUQsUUFHcENub0QsS0FBS3V6RixhQUFhenZDLGFBUTFCa3ZDLEdBQUFoZ0csVUFBSXdzQyxRQUFBLFdBRUl4L0IsS0FBS3dtRCxZQUFjLEtBRW5CeG1ELEtBQUtrekYsa0JBQW9CLEtBRXpCbHpGLEtBQUsyekYsY0FBZ0IsS0FDckIzekYsS0FBSzR6RixZQUFjLEtBQ25CNXpGLEtBQUs2ekYsa0JBQW9CLEtBRXpCN3pGLEtBQUttekYsaUJBQW1CLEtBRXhCbnpGLEtBQUt1ekYsYUFBZSxLQUNwQnZ6RixLQUFLd3pGLFdBQWEsS0FDbEJ4ekYsS0FBS3l6RixpQkFBbUIsS0FFeEJ6ekYsS0FBSzZuRCxTQUFTcm9CLHkzQkNuT0RpMUQsR0FBZ0IsU0FBQTNxQixHQUtqQyxTQUFBNHFCLEVBQVlwbEQsR0FFUmhDLE9BQUt0dEMsS0FBQ3N2QyxHQWFOdHZDLEtBQUtxckQsT0FBUyxLQUVkcnJELEtBQUsycUYsV0FBYSxLQUVsQjNxRixLQUFLZ25FLFdBQWEsSUFBSWprQyxHQUV0Qi9pQyxLQUFLMnFGLFdBQWEsQ0FFZCxDQUNJeUksY0FBZSxrQkFDZjUwRCxLQUFNLEVBQ042MEQsZUFBZ0JyekYsS0FBSzIwRixlQUNyQnhzQyxPQUFRLEdBR1osQ0FDSWlyQyxjQUFlLGlCQUNmNTBELEtBQU0sRUFDTjYwRCxlQUFnQnJ6RixLQUFLNDBGLGVBQ3JCenNDLE9BQVEsR0FHWixDQUNJaXJDLGNBQWUsWUFDZjUwRCxLQUFNLEVBQ042MEQsZUFBZ0JyekYsS0FBSzYwRixlQUNyQjFzQyxPQUFRLEdBR1osQ0FDSWlyQyxjQUFlLGdCQUNmNTBELEtBQU0sRUFDTjYwRCxlQUFnQnJ6RixLQUFLODBGLFVBQ3JCM3NDLE9BQVEsR0FHWixDQUNJaXJDLGNBQWUsU0FDZjUwRCxLQUFNLEVBQ04zakMsS0FBTXUvQixFQUFNQyxjQUNaZzVELGVBQWdCcnpGLEtBQUsrMEYsV0FDckI1c0MsT0FBUSxJQUloQm5vRCxLQUFLcXJELE9BQVN3UCxHQUFPMzRDLEtBQUs4eUUsR0FBUUMsR0FBVSw4R0FRaEQ1bEQsT0FBQSxTQUFPRyxHQUVINXNCLElBQU1sdUIsRUFBVzg2QyxFQUFVOTZDLFNBQ3JCMjlGLEVBQVU3aUQsRUFBVWdqRCxTQUNwQkYsRUFBWTlpRCxFQUFVaWpELFdBQ3RCbmpELEVBQVd0dkMsS0FBS3N2QyxTQUNsQjRsRCxFQUFnQnhnRyxFQUFTaUMsT0FFN0IsR0FBc0IsSUFBbEJ1K0YsRUFBSixDQUlTQSxFQUFnQjdDLElBRXJCNkMsRUFBZ0I3QyxHQUdwQnZ2RSxJQUFJd2pDLEVBQVU5VyxFQUFVa2pELFNBRW5CcHNDLElBRURBLEVBQVU5VyxFQUFVa2pELFNBQVcxeUYsS0FBS20xRixnQkFBZ0IzbEQsSUFHeEQ1c0IsSUFBTXEyQixFQUFjdmtELEVBQVMsR0FBR2czRCxTQUFTelMsWUFHekNqNUMsS0FBS3N2QyxTQUFTbWIsTUFBTXVaLGFBQWFybUMsRUFBaUI2UixFQUFVNVIsVUFBV3FiLEVBQVlrQixtQkFFbkZ2M0IsSUFBTStaLEVBQUsyUyxFQUFTM1MsR0FFZHQvQixFQUFJbXlDLEVBQVUxSCxlQUFlaEcsT0FBTzloQyxLQUFLZ25FLFlBRS9DM3BFLEVBQUVzbkMsUUFBUTJLLEVBQVMyYSxlQUFlaEIsU0FBU2lYLGtCQUUzQ2xnRSxLQUFLcXJELE9BQU9wQyxTQUFTMmdCLGtCQUFvQnZzRSxFQUFFOGxDLFNBQVEsR0FFbkRuakMsS0FBS3FyRCxPQUFPcEMsU0FBU21zQyxPQUFTdDNELEVBQWdCMFIsRUFBVXFqRCxRQUNwRHJqRCxFQUFVOUIsV0FBWTF0QyxLQUFLcXJELE9BQU9wQyxTQUFTbXNDLE9BQVFuOEMsRUFBWWtCLGtCQUVuRW42QyxLQUFLcXJELE9BQU9wQyxTQUFTaUMsU0FBV2pTLEVBRWhDajVDLEtBQUtzdkMsU0FBUytiLE9BQU9ydEQsS0FBS2dDLEtBQUtxckQsUUFLL0IsSUFIQXZvQyxJQUFJdXlFLEdBQWUsRUFHVjMrRixFQUFJLEVBQUd3RCxFQUFJLEVBQUd4RCxFQUFJdytGLEVBQWV4K0YsR0FBSzQ3RixFQUFXcDRGLEdBQUssRUFDL0QsQ0FDSTRvQixJQUFJeXhFLEVBQVVXLEVBQWdCeCtGLEVBTzlCLEdBTEk2OUYsRUFBU2pDLElBRVRpQyxFQUFTakMsR0FHVHA0RixHQUFLb3NELEVBQVEzdkQsT0FDakIsQ0FDSSxJQUFLNjRDLEVBQVU2M0IsV0FFWCxNQUVKL2dCLEVBQVE3eEQsS0FBS3VMLEtBQUtzMUYsdUJBQXVCOWxELElBRzdDNXNCLElBQU03TyxFQUFTdXlDLEVBQVFwc0QsR0FHdkI2WixFQUFPc2dGLGNBQWMzL0YsRUFBVWdDLEVBQUc2OUYsR0FFbEMzeEUsSUFBTTJ5RSxFQUFNL2xELEVBQVVtakQsaUJBQWlCejRGLElBQU0sR0FFN0NtN0YsRUFBZUEsR0FBaUJ0aEYsRUFBTyt2QyxVQUFZeXhDLEtBSS9DeGhGLEVBQU8rdkMsVUFBWXRVLEVBQVVzVSxVQUM3Qi92QyxFQUFPeWdGLGFBQWE5L0YsRUFBVWdDLEVBQUc2OUYsSUFJckNqbEQsRUFBU3VZLFNBQVM3cEQsS0FBSytWLEVBQU84ekMsVUFDOUJsckIsRUFBR3MzQixhQUFhdDNCLEVBQUc1RCxVQUFvQixFQUFUdzdELEVBQVk1M0QsRUFBR3JDLGVBQWdCLGtCQVdyRTY2RCxnQkFBQSxTQUFnQjNsRCxHQU9aLElBTEE1c0IsSUFBTTBqQyxFQUFVLEdBQ1Y5bkIsRUFBT2dSLEVBQVVnakQsU0FDakJGLEVBQVk5aUQsRUFBVWlqRCxXQUN0QlEsRUFBdUJ6akQsRUFBVStpRCxZQUU5Qjc3RixFQUFJLEVBQUdBLEVBQUk4bkMsRUFBTTluQyxHQUFLNDdGLEVBRTNCaHNDLEVBQVE3eEQsS0FBSyxJQUFJdStGLEdBQWVoekYsS0FBSzJxRixXQUFZc0ksRUFBc0JYLElBRzNFLE9BQU9oc0MsZUFVWGd2Qyx1QkFBQSxTQUF1QjlsRCxHQUVuQjVzQixJQUFNMHZFLEVBQVk5aUQsRUFBVWlqRCxXQUN0QlEsRUFBdUJ6akQsRUFBVStpRCxZQUV2QyxPQUFPLElBQUlTLEdBQWVoekYsS0FBSzJxRixXQUFZc0ksRUFBc0JYLGdCQWFyRXFDLGVBQUEsU0FBZWpnRyxFQUFVNC9GLEVBQVlDLEVBQVFsaEYsRUFBT295QyxFQUFRMEMsR0FPeEQsSUFMQXJsQyxJQUFJdWdFLEVBQUssRUFDTEMsRUFBSyxFQUNMQyxFQUFLLEVBQ0xDLEVBQUssRUFFQTlzRixFQUFJLEVBQUdBLEVBQUk2OUYsSUFBVTc5RixFQUM5QixDQUNJa3NCLElBQU02b0MsRUFBUy8yRCxFQUFTNC9GLEVBQWE1OUYsR0FDL0JtbkQsRUFBVTROLEVBQU9DLFNBQ2pCclgsRUFBS29YLEVBQU9ob0IsTUFBTWo1QixFQUNsQjhwQyxFQUFLbVgsRUFBT2hvQixNQUFNaDVCLEVBQ2xCN0csRUFBT2k2QyxFQUFRajZDLEtBQ2Z5L0MsRUFBT3hGLEVBQVF3RixLQUVqQnovQyxHQUtBeS9FLEdBREFDLEVBQUsxL0UsRUFBSzRHLEVBQUtpaEQsRUFBT25JLE9BQU85NEMsRUFBSTY0QyxFQUFLN3RCLE9BQzVCNXhCLEVBQUs0eEIsTUFHZit0RCxHQURBQyxFQUFLNS9FLEVBQUs2RyxFQUFLZ2hELEVBQU9uSSxPQUFPNzRDLEVBQUk0NEMsRUFBSzV0QixRQUM1Qjd4QixFQUFLNnhCLFNBSWY0dEQsRUFBTWhnQyxFQUFVLE9BQUssRUFBSW9JLEVBQU9uSSxPQUFPOTRDLEdBQ3ZDODRFLEVBQU1qZ0MsRUFBVSxPQUFLb0ksRUFBT25JLE9BQU85NEMsRUFFbkMrNEUsRUFBS2xnQyxFQUFLNXRCLFFBQVUsRUFBSWcyQixFQUFPbkksT0FBTzc0QyxHQUN0Qys0RSxFQUFLbmdDLEVBQUs1dEIsUUFBVWcyQixFQUFPbkksT0FBTzc0QyxHQUd0QzRJLEVBQU04MEMsR0FBVW03QixFQUFLanZDLEVBQ3JCaGhDLEVBQU04MEMsRUFBUyxHQUFLcTdCLEVBQUtsdkMsRUFFekJqaEMsRUFBTTgwQyxFQUFTMUMsR0FBVTQ5QixFQUFLaHZDLEVBQzlCaGhDLEVBQU04MEMsRUFBUzFDLEVBQVMsR0FBSys5QixFQUFLbHZDLEVBRWxDamhDLEVBQU04MEMsRUFBbUIsRUFBVDFDLEdBQWU0OUIsRUFBS2h2QyxFQUNwQ2hoQyxFQUFNODBDLEVBQW1CLEVBQVQxQyxFQUFjLEdBQUs4OUIsRUFBS2p2QyxFQUV4Q2poQyxFQUFNODBDLEVBQW1CLEVBQVQxQyxHQUFlNjlCLEVBQUtqdkMsRUFDcENoaEMsRUFBTTgwQyxFQUFtQixFQUFUMUMsRUFBYyxHQUFLODlCLEVBQUtqdkMsRUFFeEM2VCxHQUFtQixFQUFUMUMsZ0JBY2xCbXZDLGVBQUEsU0FBZWxnRyxFQUFVNC9GLEVBQVlDLEVBQVFsaEYsRUFBT295QyxFQUFRMEMsR0FFeEQsSUFBS3JsQyxJQUFJcHNCLEVBQUksRUFBR0EsRUFBSTY5RixFQUFRNzlGLElBQzVCLENBQ0lrc0IsSUFBTTR5RSxFQUFpQjlnRyxFQUFTNC9GLEVBQWE1OUYsR0FBR3F1QyxTQUVoRDF4QixFQUFNODBDLEdBQVVxdEMsRUFBZWhyRixFQUMvQjZJLEVBQU04MEMsRUFBUyxHQUFLcXRDLEVBQWUvcUYsRUFFbkM0SSxFQUFNODBDLEVBQVMxQyxHQUFVK3ZDLEVBQWVockYsRUFDeEM2SSxFQUFNODBDLEVBQVMxQyxFQUFTLEdBQUsrdkMsRUFBZS9xRixFQUU1QzRJLEVBQU04MEMsRUFBbUIsRUFBVDFDLEdBQWUrdkMsRUFBZWhyRixFQUM5QzZJLEVBQU04MEMsRUFBbUIsRUFBVDFDLEVBQWMsR0FBSyt2QyxFQUFlL3FGLEVBRWxENEksRUFBTTgwQyxFQUFtQixFQUFUMUMsR0FBZSt2QyxFQUFlaHJGLEVBQzlDNkksRUFBTTgwQyxFQUFtQixFQUFUMUMsRUFBYyxHQUFLK3ZDLEVBQWUvcUYsRUFFbEQwOUMsR0FBbUIsRUFBVDFDLGdCQWNsQm92QyxlQUFBLFNBQWVuZ0csRUFBVTQvRixFQUFZQyxFQUFRbGhGLEVBQU9veUMsRUFBUTBDLEdBRXhELElBQUtybEMsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUk2OUYsRUFBUTc5RixJQUM1QixDQUNJa3NCLElBQU02eUUsRUFBaUIvZ0csRUFBUzQvRixFQUFhNTlGLEdBQUc4dEMsU0FFaERueEIsRUFBTTgwQyxHQUFVc3RDLEVBQ2hCcGlGLEVBQU04MEMsRUFBUzFDLEdBQVVnd0MsRUFDekJwaUYsRUFBTTgwQyxFQUFtQixFQUFUMUMsR0FBZWd3QyxFQUMvQnBpRixFQUFNODBDLEVBQW1CLEVBQVQxQyxHQUFlZ3dDLEVBRS9CdHRDLEdBQW1CLEVBQVQxQyxnQkFjbEJxdkMsVUFBQSxTQUFVcGdHLEVBQVU0L0YsRUFBWUMsRUFBUWxoRixFQUFPb3lDLEVBQVEwQyxHQUVuRCxJQUFLcmxDLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJNjlGLElBQVU3OUYsRUFDOUIsQ0FDSWtzQixJQUFNOHlFLEVBQWFoaEcsRUFBUzQvRixFQUFhNTlGLEdBQUdnMUQsU0FBU2hJLEtBRWpEZ3lDLEdBRUFyaUYsRUFBTTgwQyxHQUFVdXRDLEVBQVd4cEQsR0FDM0I3NEIsRUFBTTgwQyxFQUFTLEdBQUt1dEMsRUFBV3ZwRCxHQUUvQjk0QixFQUFNODBDLEVBQVMxQyxHQUFVaXdDLEVBQVc3ckQsR0FDcEN4MkIsRUFBTTgwQyxFQUFTMUMsRUFBUyxHQUFLaXdDLEVBQVczckQsR0FFeEMxMkIsRUFBTTgwQyxFQUFtQixFQUFUMUMsR0FBZWl3QyxFQUFXNXJELEdBQzFDejJCLEVBQU04MEMsRUFBbUIsRUFBVDFDLEVBQWMsR0FBS2l3QyxFQUFXMXJELEdBRTlDMzJCLEVBQU04MEMsRUFBbUIsRUFBVDFDLEdBQWVpd0MsRUFBV2x6QyxHQUMxQ252QyxFQUFNODBDLEVBQW1CLEVBQVQxQyxFQUFjLEdBQUtpd0MsRUFBV2p6QyxHQUU5QzBGLEdBQW1CLEVBQVQxQyxJQUtWcHlDLEVBQU04MEMsR0FBVSxFQUNoQjkwQyxFQUFNODBDLEVBQVMsR0FBSyxFQUVwQjkwQyxFQUFNODBDLEVBQVMxQyxHQUFVLEVBQ3pCcHlDLEVBQU04MEMsRUFBUzFDLEVBQVMsR0FBSyxFQUU3QnB5QyxFQUFNODBDLEVBQW1CLEVBQVQxQyxHQUFlLEVBQy9CcHlDLEVBQU04MEMsRUFBbUIsRUFBVDFDLEVBQWMsR0FBSyxFQUVuQ3B5QyxFQUFNODBDLEVBQW1CLEVBQVQxQyxHQUFlLEVBQy9CcHlDLEVBQU04MEMsRUFBbUIsRUFBVDFDLEVBQWMsR0FBSyxFQUVuQzBDLEdBQW1CLEVBQVQxQyxpQkFldEJzdkMsV0FBQSxTQUFXcmdHLEVBQVU0L0YsRUFBWUMsRUFBUWxoRixFQUFPb3lDLEVBQVEwQyxHQUVwRCxJQUFLcmxDLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJNjlGLElBQVU3OUYsRUFDOUIsQ0FDSWtzQixJQUFNNm9DLEVBQVMvMkQsRUFBUzQvRixFQUFhNTlGLEdBQy9CbW5DLEVBQWdCNHRCLEVBQU9DLFNBQVN6UyxZQUFZa0IsaUJBQzVDcGMsRUFBUTB0QixFQUFPMXRCLE1BRWZpdUMsRUFBT2p1QyxFQUFRLEdBQU9GLEVBQWdCSSxFQUFnQnd0QixFQUFPd2dCLFNBQVVsdUMsR0FDdkUwdEIsRUFBT3dnQixVQUFvQixJQUFSbHVDLEdBQWUsSUFFeEMxcUIsRUFBTTgwQyxHQUFVNmpCLEVBQ2hCMzRELEVBQU04MEMsRUFBUzFDLEdBQVV1bUIsRUFDekIzNEQsRUFBTTgwQyxFQUFtQixFQUFUMUMsR0FBZXVtQixFQUMvQjM0RCxFQUFNODBDLEVBQW1CLEVBQVQxQyxHQUFldW1CLEVBRS9CN2pCLEdBQW1CLEVBQVQxQyxnQkFPbEJqbUIsUUFBQSxXQUVJOE4sWUFBTTlOLFFBQUF0c0MsS0FBTzhNLE1BRVRBLEtBQUtxckQsU0FFTHJyRCxLQUFLcXJELE9BQU83ckIsVUFDWngvQixLQUFLcXJELE9BQVMsTUFHbEJyckQsS0FBS2duRSxXQUFhLFFBelpXLENBQVM1YSxJQ0V6QnVwQyxHQW9CakIsU0FBWTE4QyxFQUFhdGhELEVBQU1pK0Ysa0JBQXFCLE1BTWhENTFGLEtBQUtpNUMsWUFBY0EsRUFVbkJqNUMsS0FBS21zRCxTQUFXLEdBVWhCbnNELEtBQUs2MUYsV0FBYSxHQU1sQjcxRixLQUFLckksS0FBT0EsRUFNWnFJLEtBQUttZ0MsV0FBYW5nQyxLQUFLODFGLGtCQUNuQkYsSUFDSTUxRixLQUFLaTVDLFlBQVl0cUIsU0FBVzN1QixLQUFLaTVDLFlBQVl0cUIsU0FBU3pyQixJQUFNLE9BUXhFbEQsS0FBUysxRixRQUFVLzFGLEtBQUtySSxLQUFLcStGLE9BT3pCaDJGLEtBQUtpMkYsV0FBYWxqRyxPQUFPcUosS0FBSzRELEtBQUsrMUYsU0FPbkMvMUYsS0FBS2syRixZQUFjLEVBT25CbDJGLEtBQUttMkYsVUFBWSx3Q0FZekJDLEdBN0ZlQyxXQUFBcGhHLElBQUEsV0FFWCxPQUFXLGtCQTJGWDZnRyxrQkFBQSxTQUFrQkYsR0FFbEIsSUFBVW55RCxFQUFRempDLEtBQUtySSxLQUFLMitGLEtBQUs3eUQsTUFHekJ0RCxFQUFhZSxHQUFtQjAwRCxFQUFvQixNQWU1RCxPQVp1QixPQUFmejFELElBR0FBLE9BQXVCMXBDLElBQVZndEMsRUFBc0JyQyxXQUFXcUMsR0FBUyxHQUl4QyxJQUFmdEQsR0FFSm5nQyxLQUFTaTVDLFlBQVk4RCxjQUFjNWMsR0FHNUJBLEdBVWZ3MUQsR0FBQTNpRyxVQUFJZ0csTUFBQSxTQUFNeEMsR0FFRndKLEtBQUtrMkYsWUFBYyxFQUNuQmwyRixLQUFLbTJGLFVBQVkzL0YsRUFFYndKLEtBQUtpMkYsV0FBV3QvRixRQUFVZy9GLEdBQVlVLFlBRXRDcjJGLEtBQUt1MkYsZUFBZSxHQUNwQnYyRixLQUFLdzJGLHFCQUNMeDJGLEtBQUt5MkYsa0JBSUx6MkYsS0FBSzAyRixjQVVqQmYsR0FBQTNpRyxVQUFJdWpHLGVBQUEsU0FBZUksR0FLWCxJQUhBN3pFLElBQUk4ekUsRUFBYUQsRUFDWEUsRUFBWWxCLEdBQVlVLFdBRXZCTyxFQUFhRCxFQUFvQkUsR0FBYUQsRUFBYTUyRixLQUFLaTJGLFdBQVd0L0YsUUFDdEYsQ0FDSSxJQUFVRCxFQUFJc0osS0FBS2kyRixXQUFXVyxHQUNwQmovRixFQUFPcUksS0FBSysxRixRQUFRci9GLEdBQ3BCZzFDLEVBQU8vekMsRUFBS2dyRCxNQUVsQixHQUFJalgsRUFDUixDQUNRNW9CLElBQUk2L0IsRUFBUSxLQUNSLytDLEVBQU8sS0FDTGt6RixHQUE4QixJQUFqQm4vRixFQUFLdTFGLFNBQXFCdjFGLEVBQUttL0YsV0FDNUNuL0YsRUFBS20vRixXQUFhbi9GLEVBQUtnckQsTUFFdkJVLEVBQU8sSUFBSWphLEdBQ2IsRUFDQSxFQUNKeDlCLEtBQVM4WCxNQUFNb3pFLEVBQVduNEYsR0FBS3FCLEtBQUttZ0MsV0FDcEN2MEIsS0FBUzhYLE1BQU1vekUsRUFBVzM5RixHQUFLNkcsS0FBS21nQyxZQUtwQ3dpQixFQUZJaHJELEVBQUtvL0YsUUFFRyxJQUFJM3RELEdBQ1p4OUIsS0FBUzhYLE1BQU1nb0IsRUFBS2xoQyxHQUFLeEssS0FBS21nQyxXQUM5QnYwQixLQUFTOFgsTUFBTWdvQixFQUFLamhDLEdBQUt6SyxLQUFLbWdDLFdBQzlCdjBCLEtBQVM4WCxNQUFNZ29CLEVBQUt2eUMsR0FBSzZHLEtBQUttZ0MsV0FDOUJ2MEIsS0FBUzhYLE1BQU1nb0IsRUFBSy9zQyxHQUFLcUIsS0FBS21nQyxZQUt0QixJQUFJaUosR0FDWng5QixLQUFTOFgsTUFBTWdvQixFQUFLbGhDLEdBQUt4SyxLQUFLbWdDLFdBQzlCdjBCLEtBQVM4WCxNQUFNZ29CLEVBQUtqaEMsR0FBS3pLLEtBQUttZ0MsV0FDOUJ2MEIsS0FBUzhYLE1BQU1nb0IsRUFBSy9zQyxHQUFLcUIsS0FBS21nQyxXQUM5QnYwQixLQUFTOFgsTUFBTWdvQixFQUFLdnlDLEdBQUs2RyxLQUFLbWdDLGFBS2IsSUFBakJ4b0MsRUFBS3UxRixTQUFxQnYxRixFQUFLcS9GLG1CQUVuQ3B6RixFQUFXLElBQUl3bEMsR0FDUHg5QixLQUFLOFgsTUFBTS9yQixFQUFLcS9GLGlCQUFpQnhzRixHQUFLeEssS0FBS21nQyxXQUMzQ3YwQixLQUFLOFgsTUFBTS9yQixFQUFLcS9GLGlCQUFpQnZzRixHQUFLekssS0FBS21nQyxXQUMvQ3YwQixLQUFTOFgsTUFBTWdvQixFQUFLL3NDLEdBQUtxQixLQUFLbWdDLFdBQzlCdjBCLEtBQVM4WCxNQUFNZ29CLEVBQUt2eUMsR0FBSzZHLEtBQUttZ0MsYUFJdENuZ0MsS0FBU21zRCxTQUFTejFELEdBQUssSUFBSTBzRCxHQUN2QnBqRCxLQUFTaTVDLFlBQ0wwSixFQUNBVSxFQUNBei9DLEVBQ0FqTSxFQUFLby9GLFFBQVUsRUFBSSxFQUN2QnAvRixFQUFTMnJELFFBSVRGLEdBQVFqRyxXQUFXbjlDLEtBQUttc0QsU0FBU3oxRCxHQUFJQSxHQUc3Q2tnRyxNQVNSakIsR0FBQTNpRyxVQUFJd2pHLG1CQUFBLFdBRUEsSUFBVVgsRUFBYTcxRixLQUFLckksS0FBS2srRixZQUFjLEdBRTNDLElBQUtqekUsSUFBTXEwRSxLQUFZcEIsRUFDM0IsQ0FDSTcxRixLQUFTNjFGLFdBQVdvQixHQUFZLEdBQzVCLElBQUtuMEUsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUltL0YsRUFBV29CLEdBQVV0Z0csT0FBUUQsSUFDckQsQ0FDSSxJQUFVd2dHLEVBQVlyQixFQUFXb0IsR0FBVXZnRyxHQUV2Q3NKLEtBQUs2MUYsV0FBV29CLEdBQVV4aUcsS0FBS3VMLEtBQUttc0QsU0FBUytxQyxPQVU3RHZCLEdBQUEzaUcsVUFBSXlqRyxlQUFBLFdBRUk3ekUsSUFBTXBzQixFQUFXd0osS0FBS20yRixVQUV0Qm4yRixLQUFLbTJGLFVBQVksS0FDakJuMkYsS0FBS2syRixZQUFjLEVBQ3ZCMS9GLEVBQWF0RCxLQUFLOE0sS0FBTUEsS0FBS21zRCxXQVFqQ3dwQyxHQUFBM2lHLFVBQUkwakcsV0FBQSxzQkFFSTEyRixLQUFLdTJGLGVBQWV2MkYsS0FBS2syRixZQUFjUCxHQUFZVSxZQUNuRHIyRixLQUFLazJGLGNBQ1QxaUYsV0FBYyxXQUVGeFQsRUFBS2syRixZQUFjUCxHQUFZVSxXQUFhcjJGLEVBQUtpMkYsV0FBV3QvRixPQUU1RHFKLEVBQUswMkYsY0FJTDEyRixFQUFLdzJGLHFCQUNMeDJGLEVBQUt5MkYsbUJBRVYsSUFRWGQsR0FBQTNpRyxVQUFJd3NDLFFBQUEsU0FBUXlrQixHQUVKLElBQUtyaEMsSUFBTWxzQixxQkFGTyxHQUVGc0osS0FBS21zRCxTQUVyQm5zRCxLQUFTbXNELFNBQVN6MUQsR0FBRzhvQyxVQUVyQngvQixLQUFLKzFGLFFBQVUsS0FDZi8xRixLQUFLaTJGLFdBQWEsS0FDbEJqMkYsS0FBS3JJLEtBQU8sS0FDWnFJLEtBQUttc0QsU0FBVyxLQUNabEksR0FFQWprRCxLQUFLaTVDLFlBQVl6WixVQUVyQngvQixLQUFLaTVDLFlBQWMscUNDN1RaLElBQU1rK0MsR0FBaUIsZ0JBUTNCcHBFLElBQUEsU0FBSVksRUFBVTNqQixHQUVyQixJQUFVb3NGLEVBQXVCem9FLEVBQVMsY0FHdEMsR0FBS0EsRUFBU2gzQixNQUNQZzNCLEVBQVM5ekIsT0FBU3EzRixHQUFldDhFLEtBQUs3YyxNQUNyQzQxQixFQUFTaDNCLEtBQUtxK0YsU0FDZmgyRixLQUFLeXRCLFVBQVUycEUsR0FIdEIsQ0FXSixJQUFVQyxFQUFjLENBQ2hCL2hGLFlBQWFxWixFQUFTclosWUFDdEJJLFNBQVVpWixFQUFTalosU0FBUzRoRixjQUNoQ3BwRSxlQUFvQlMsR0FHZDRvRSxFQUFlSixHQUFrQkssZ0JBQWdCN29FLEVBQVUzdUIsS0FBSytzQixTQUd0RS9zQixLQUFLZ3VCLElBQUlvcEUsRUFBbUJHLEVBQWNGLEVBQWEsU0FBcUJ6cUUsR0FFNUUsR0FBUUEsRUFBSS92QixNQUVKbU8sRUFBSzRoQixFQUFJL3ZCLFdBRmpCLENBT0krbEIsSUFBTTYwRSxFQUFjLElBQUk5QixHQUNwQi9vRSxFQUFJaXhCLFFBQVE1RSxZQUNoQnRxQixFQUFhaDNCLEtBQ2JnM0IsRUFBYXpyQixLQUdidTBGLEVBQVl6K0YsTUFBSyxXQUViMjFCLEVBQVM4b0UsWUFBY0EsRUFDdkI5b0UsRUFBU3c5QixTQUFXc3JDLEVBQVl0ckMsU0FDcENuaEQsY0FqQ0pBLEtBMkNSbXNGLEdBQVdLLGdCQUFBLFNBQWdCN29FLEVBQVU1QixHQUdqQyxPQUFRNEIsRUFBU3ZTLFVBRUZ1UyxFQUFTaDNCLEtBQUsyK0YsS0FBS2hxQixNQUd2QnJyQyxFQUFBL2xDLEVBQUk5QyxRQUFRdTJCLEVBQVN6ckIsSUFBSVEsUUFBUXFwQixFQUFTLElBQUs0QixFQUFTaDNCLEtBQUsyK0YsS0FBS2hxQjs7Ozs7Ozs7QUMvRWpGMXBELElBQU04MEUsR0FBWSxJQUFJLzFELEdBU0RnMkQsR0FBWSxTQUFBaFYsR0FPN0IsU0FBQWlWLEVBQVkvNUMsRUFBU3JvQixFQUFhQyxrQkFBTCxvQkFBYyxLQUV2QzZYLE9BQUt0dEMsS0FBQzY5QyxHQU9ONzlDLEtBQUs2M0YsY0FBZ0IsSUFBSWh3RCxHQVV6QjduQyxLQUFLaXlDLE9BQVN6YyxFQVFkeDFCLEtBQUtreUMsUUFBVXpjLEVBUWZ6MUIsS0FBSzgzRixlQUFpQixLQU90QjkzRixLQUFLMmpELFNBQVc5RixFQUFROEYsVUFBWSxJQUFJdVksR0FBY3JlLEdBU3RENzlDLEtBQUswb0UsV0FBYSxlQVFsQjFvRSxLQUFLKzNGLGlCQUFrQixrUEFTM0I1dUQsRUFBSWd6QixZQUFBbG5FLElBQUEsV0FFQSxPQUFPK0ssS0FBSzJqRCxTQUFTd1ksYUFHekJoekIsRUFBSWd6QixZQUFBam5FLElBQUEsU0FBWUMsR0FFWjZLLEtBQUsyakQsU0FBU3dZLFlBQWNobkUsRUFDNUI2SyxLQUFLMmpELFNBQVM3cUQsUUFBTyxJQVF6QnF3QyxFQUFJNnVELFVBQUEvaUcsSUFBQSxXQUVBLE9BQU8rSyxLQUFLNjNGLGNBQWNwMEQsT0FHOUIwRixFQUFJNnVELFVBQUE5aUcsSUFBQSxTQUFVQyxHQUVWNkssS0FBSzYzRixjQUFjcDBELE1BQU01QixTQUFTMXNDLElBUXRDZzBDLEVBQUk4dUQsYUFBQWhqRyxJQUFBLFdBRUEsT0FBTytLLEtBQUs2M0YsY0FBYzl5RCxVQUc5Qm9FLEVBQUk4dUQsYUFBQS9pRyxJQUFBLFNBQWFDLEdBRWI2SyxLQUFLNjNGLGNBQWM5eUQsU0FBU2xELFNBQVMxc0MsZ0JBTXpDaXVGLGlCQUFBLFdBRVFwakYsS0FBSzJqRCxXQUVMM2pELEtBQUsyakQsU0FBUzlGLFFBQVU3OUMsS0FBSzByRCxVQUVqQzFyRCxLQUFLOGlGLFdBQWEsc0JBU3RCbnhDLFFBQUEsU0FBUXJDLEdBR0oxc0IsSUFBTWk3QixFQUFVNzlDLEtBQUswckQsU0FFaEI3TixHQUFZQSxFQUFRekUsUUFLekJwNUMsS0FBSzYzRixjQUFjanZELHVCQUNuQjVvQyxLQUFLMmpELFNBQVM3cUQsU0FFZHcyQyxFQUFTc0MsTUFBTTRhLGtCQUFrQmxkLEVBQVN5RixRQUFRLzBDLEtBQUswb0UsYUFDdkRwNUIsRUFBU3lGLFFBQVEvMEMsS0FBSzBvRSxZQUFZcjVCLE9BQU9ydkMsb0JBUTdDeXhDLGlCQUFBLFdBRUk3dUIsSUFBTXhZLEVBQU9wSyxLQUFLaXlDLFFBQVVqeUMsS0FBSzRpRixRQUFRNWdELEdBQ25DMzNCLEVBQU9ySyxLQUFLa3lDLFNBQVdseUMsS0FBSzRpRixRQUFRM2dELEdBQ3BDMzNCLEVBQU90SyxLQUFLaXlDLFFBQVUsRUFBSWp5QyxLQUFLNGlGLFFBQVE1Z0QsSUFDdkN6M0IsRUFBT3ZLLEtBQUtreUMsU0FBVyxFQUFJbHlDLEtBQUs0aUYsUUFBUTNnRCxJQUU5Q2ppQyxLQUFLZ3VDLFFBQVEvQixTQUFTanNDLEtBQUt1dkIsVUFBV25sQixFQUFNQyxFQUFNQyxFQUFNQyxnQkFTNUR3a0MsZUFBQSxTQUFlckQsR0FHWCxPQUE2QixJQUF6QjFyQyxLQUFLdEwsU0FBU2lDLFFBRWRxSixLQUFLZ3VDLFFBQVE1akMsS0FBT3BLLEtBQUtpeUMsUUFBVWp5QyxLQUFLNGlGLFFBQVE1Z0QsR0FDaERoaUMsS0FBS2d1QyxRQUFRM2pDLEtBQU9ySyxLQUFLa3lDLFNBQVdseUMsS0FBSzRpRixRQUFRM2dELEdBQ2pEamlDLEtBQUtndUMsUUFBUTFqQyxLQUFPdEssS0FBS2l5QyxRQUFVLEVBQUlqeUMsS0FBSzRpRixRQUFRNWdELElBQ3BEaGlDLEtBQUtndUMsUUFBUXpqQyxLQUFPdkssS0FBS2t5QyxTQUFXLEVBQUlseUMsS0FBSzRpRixRQUFRM2dELElBRWhEeUosSUFFSTFyQyxLQUFLb3VDLG1CQUVOcHVDLEtBQUtvdUMsaUJBQW1CLElBQUloRixJQUdoQ3NDLEVBQU8xckMsS0FBS291QyxrQkFHVHB1QyxLQUFLZ3VDLFFBQVFuQyxhQUFhSCxJQUc5QjRCLFlBQU15QixlQUFlNzdDLEtBQUs4TSxLQUFNMHJDLGdCQVMzQ21uQyxjQUFBLFNBQWM5bUMsR0FFVi9yQyxLQUFLOG5DLGVBQWV2RSxhQUFhd0ksRUFBTzJyRCxJQUV4QzkwRSxJQUFNNFMsRUFBUXgxQixLQUFLaXlDLE9BQ2J4YyxFQUFTejFCLEtBQUtreUMsUUFDZHJJLEdBQU1yVSxFQUFReDFCLEtBQUtzakQsT0FBT3RoQixHQUVoQyxHQUFJMDFELEdBQVVsdEYsR0FBS3EvQixHQUFNNnRELEdBQVVsdEYsRUFBSXEvQixFQUFLclUsRUFDNUMsQ0FDSTVTLElBQU1tbkIsR0FBTXRVLEVBQVN6MUIsS0FBS3NqRCxPQUFPcmhCLEdBRWpDLEdBQUl5MUQsR0FBVWp0RixHQUFLcy9CLEdBQU0ydEQsR0FBVWp0RixFQUFJcy9CLEVBQUt0VSxFQUV4QyxPQUFPLEVBSWYsT0FBTyxlQWFYK0osUUFBQSxTQUFReGxDLEdBRUpzekMsWUFBTTlOLFFBQUF0c0MsS0FBTzhNLEtBQUNoRyxHQUVkZ0csS0FBSzYzRixjQUFnQixLQUNyQjczRixLQUFLMmpELFNBQVcsTUFhcEJpMEMsRUFBTzExRSxLQUFBLFNBQUsvZ0IsRUFBUXEwQixFQUFPQyxHQUV2QixPQUFPLElBQUltaUUsRUFBYXgwQyxHQUFRbGhDLEtBQUsvZ0IsR0FBU3EwQixFQUFPQyxJQWF6RG1pRSxFQUFPTSxVQUFBLFNBQVVDLEVBQVMzaUUsRUFBT0MsR0FFN0I3UyxJQUFNaTdCLEVBQVV4ZSxHQUFhODRELEdBRTdCLElBQUt0NkMsRUFFRCxNQUFNLElBQUk1bEQsTUFBSyxnQkFBaUJrZ0csRUFBTywrQ0FHM0MsT0FBTyxJQUFJUCxFQUFhLzVDLEVBQVNyb0IsRUFBT0MsSUFjNUNtaUUsRUFBT1EsVUFBQSxTQUFVQyxFQUFTN2lFLEVBQU9DLEVBQVF6N0IsR0FhckMsT0FWSUEsR0FBOEIsaUJBQVpBLElBRWxCQSxFQUFVLENBQ042aEQsVUFBV2x5QyxVQUFVLEdBQ3JCdXlDLGdCQUFpQixDQUNicEMsWUFBYW53QyxVQUFVLE1BSzVCLElBQUlpdUYsRUFBYXgwQyxHQUFRbGhDLEtBQUttMkUsRUFBU3IrRixHQUFVdzdCLEVBQU9DLElBUW5FMFQsRUFBSTNULE1BQUF2Z0MsSUFBQSxXQUVBLE9BQU8rSyxLQUFLaXlDLFFBR2hCOUksRUFBSTNULE1BQUF0Z0MsSUFBQSxTQUFNQyxHQUVONkssS0FBS2l5QyxPQUFTOThDLEdBUWxCZzBDLEVBQUkxVCxPQUFBeGdDLElBQUEsV0FFQSxPQUFPK0ssS0FBS2t5QyxTQUdoQi9JLEVBQUkxVCxPQUFBdmdDLElBQUEsU0FBT0MsR0FFUDZLLEtBQUtreUMsUUFBVS84Qyw0Q0E5VVUsQ0FBU3V0RixnakNDTHBDNFYsR0FBVSxJQUFJdjFELEdBU0N3MUQsR0FBb0IsU0FBQXp1QixHQU9yQyxTQUFBMHVCLEVBQVlscEQsR0FFUmhDLE9BQUt0dEMsS0FBQ3N2QyxHQUVOMXNCLElBQU1xbUMsRUFBVyxDQUFFb1gsUUFBU3JnRSxLQUFLc3ZDLFNBQVMyYSxnQkFFMUNqcUQsS0FBS3FyRCxPQUFTd1AsR0FBTzM0QyxLQUFLdTJFLEdBQVFDLEdBQVV6dkMsR0FFNUNqcEQsS0FBSzI0RixhQUFlOTlCLEdBQU8zNEMsS0FBS3UyRSxHQUFRRyxHQUFnQjN2QyxHQUV4RGpwRCxLQUFLNnBELEtBQU8sSUFBSXBCLDZHQU9wQnBaLE9BQUEsU0FBT3dwRCxHQUVIajJFLElBQU0wc0IsRUFBV3R2QyxLQUFLc3ZDLFNBQ2hCdWEsRUFBTzdwRCxLQUFLNnBELEtBRWRyNUMsRUFBV3E1QyxFQUFLcjVDLFNBRXBCQSxFQUFTLEdBQUtBLEVBQVMsR0FBTXFvRixFQUFTLFFBQUtBLEVBQUd2MUMsT0FBTzk0QyxFQUNyRGdHLEVBQVMsR0FBS0EsRUFBUyxHQUFLcW9GLEVBQUczbUQsU0FBVzJtRCxFQUFHdjFDLE9BQU83NEMsRUFFcEQrRixFQUFTLEdBQUtBLEVBQVMsR0FBTXFvRixFQUFTLFFBQUssRUFBTUEsRUFBR3YxQyxPQUFPOTRDLEdBQzNEZ0csRUFBUyxHQUFLQSxFQUFTLEdBQUtxb0YsRUFBRzNtRCxTQUFXLEVBQU0ybUQsRUFBR3YxQyxPQUFPNzRDLEdBRXREb3VGLEVBQUdkLG1CQUVIdm5GLEVBQVdxNUMsRUFBS25CLEtBRVAsR0FBS2w0QyxFQUFTLElBQU1xb0YsRUFBR3YxQyxPQUFPOTRDLEVBQ3ZDZ0csRUFBUyxHQUFLQSxFQUFTLElBQU1xb0YsRUFBR3YxQyxPQUFPNzRDLEVBRXZDK0YsRUFBUyxHQUFLQSxFQUFTLEdBQUssRUFBTXFvRixFQUFHdjFDLE9BQU85NEMsRUFDNUNnRyxFQUFTLEdBQUtBLEVBQVMsR0FBSyxFQUFNcW9GLEVBQUd2MUMsT0FBTzc0QyxHQUdoRG8vQyxFQUFLZCxhQUVMbm1DLElBQU0raEMsRUFBTWswQyxFQUFHbnRDLFNBQ1RvdEMsRUFBVW4wQyxFQUFJMUwsWUFDZHBRLEVBQUtnd0QsRUFBR2hCLGNBQWM5dkQsZUFDdEJneEQsRUFBS0YsRUFBR2wxQyxTQUNWNlksRUFBV3M4QixFQUFRMThDLGNBQ2hCdUksRUFBSWhDLE1BQU1udEIsUUFBVXNqRSxFQUFRdGpFLE9BQVNtdkIsRUFBSWhDLE1BQU1sdEIsU0FBV3FqRSxFQUFRcmpFLE9BR3JFK21DLElBRUtzOEIsRUFBUTU5QyxZQUFZNUwsRUFBU3FkLGFBUzlCNlAsRUFBV3M4QixFQUFRNzhDLFdBQWFsaEIsRUFBV0MsTUFQdkM4OUQsRUFBUTc4QyxXQUFhbGhCLEVBQVdDLFFBRWhDODlELEVBQVE3OEMsU0FBV2xoQixFQUFXRSxTQVMxQ3JZLElBQU15b0MsRUFBU21SLEVBQVd4OEQsS0FBSzI0RixhQUFlMzRGLEtBQUtxckQsT0FFN0Mxc0QsRUFBSWdtRCxFQUFJbnZCLE1BQ1JyOEIsRUFBSXdyRCxFQUFJbHZCLE9BQ1IrUSxFQUFJcXlELEVBQUc1bUQsT0FDUCttRCxFQUFJSCxFQUFHM21ELFFBRWJvbUQsR0FBUXBqRyxJQUFJMnpDLEVBQUczdEMsRUFBSXlELEVBQUk2bkMsRUFDbkJxQyxFQUFHMXRDLEVBQUl3RCxFQUFJcTZGLEVBQ1hud0QsRUFBRzN2QyxFQUFJQyxFQUFJcXRDLEVBQ1hxQyxFQUFHdnJDLEVBQUluRSxFQUFJNi9GLEVBQ1hud0QsRUFBRzdGLEdBQUt3RCxFQUNScUMsRUFBRzVGLEdBQUsrMUQsR0FRWlYsR0FBUXR6RCxTQUNKdzNCLEVBRUE4N0IsR0FBUTN6RCxRQUFRbzBELEVBQUczOEIsV0FJbkIvUSxFQUFPcEMsU0FBU2d3QyxVQUFZRixFQUFHMzhCLFNBQVNqNUIsU0FBUSxHQUNoRGtvQixFQUFPcEMsU0FBU29ULFlBQWMwOEIsRUFBRzE4QixZQUNqQ2hSLEVBQU9wQyxTQUFTcVQsYUFBZXk4QixFQUFHejhCLGNBR3RDalIsRUFBT3BDLFNBQVNpd0MsV0FBYVosR0FBUW4xRCxTQUFRLEdBQzdDa29CLEVBQU9wQyxTQUFTbXNDLE9BQVM5MkQsRUFBc0J1NkQsRUFBRzM2RCxLQUFNMjZELEVBQUduckQsV0FDdkQyZCxFQUFPcEMsU0FBU21zQyxPQUFRMEQsRUFBUTMrQyxrQkFDcENrUixFQUFPcEMsU0FBUzJnQixrQkFBb0JpdkIsRUFBR3RwRSxVQUFVdVksZUFBZTNFLFNBQVEsR0FDeEVrb0IsRUFBT3BDLFNBQVNpQyxTQUFXdkcsRUFFM0JyVixFQUFTK2IsT0FBT3J0RCxLQUFLcXRELEdBQ3JCL2IsRUFBU3VZLFNBQVM3cEQsS0FBSzZyRCxHQUV2QnZhLEVBQVNtYixNQUFNdVosYUFBYXJtQyxFQUFpQms3RCxFQUFHajdELFVBQVdrN0QsRUFBUTMrQyxtQkFDbkU3SyxFQUFTdVksU0FBU3lELEtBQUt0ckQsS0FBS3N2QyxTQUFTM1MsR0FBRzVELFVBQVcsRUFBRyxNQW5IckIsQ0FBU3F6QixJQ2U3QitzQyxHQUFVLFNBQUEvb0QsR0FhM0IsU0FBQWdwRCxFQUFZaCtFLEVBQU0rViw2QkFBUSxJQUV0Qm1jLE9BQUt0dEMsTUFRTEEsS0FBS3E1RixXQUFhLEVBUWxCcjVGLEtBQUtzNUYsWUFBYyxFQVFuQnQ1RixLQUFLdTVGLFFBQVUsR0FRZnY1RixLQUFLK3JGLE1BQVEsQ0FDVDd0RCxVQUFxQnpuQyxJQUFmMDZCLEVBQU0rTSxLQUFxQi9NLEVBQU0rTSxLQUFPLFNBQzlDNmxELE1BQU81eUQsRUFBTTR5RCxPQUFTLE9BQ3RCanZGLEtBQU0sS0FDTjBwQyxLQUFNLEdBU1Z4K0IsS0FBSzZvRixLQUFPMTNELEVBQU0wM0QsS0FRbEI3b0YsS0FBSzRyRixNQUFReHdFLEVBVWJwYixLQUFLdzVGLFVBQVksRUFTakJ4NUYsS0FBS3k1RixlQUFpQixFQU90Qno1RixLQUFLc25GLGVBQWlCLEVBUXRCdG5GLEtBQUs0aUYsUUFBVSxJQUFJN2dELEdBQWUsV0FBUy9oQyxFQUFLNDhDLE9BQVEsR0FBUzU4QyxLQUFNLEVBQUcsR0FPMUVBLEtBQUs0OEMsT0FBUSxFQVdiNThDLEtBQUttbkUsWUFBYzl5QyxFQUFTK0IsYUFFNUJwMkIsS0FBS2lzRix5WUFRVEEsV0FBQSxXQW9CSSxJQWxCQXJwRSxJQUFNanJCLEVBQU95aEcsRUFBV00sTUFBTTE1RixLQUFLK3JGLE1BQU1qM0YsTUFDbkMydUMsRUFBUXpqQyxLQUFLK3JGLE1BQU12dEQsS0FBTzdtQyxFQUFLNm1DLEtBQy9CNkUsRUFBTSxJQUFJMUIsR0FDVmc0RCxFQUFRLEdBQ1JuUixFQUFhLEdBQ2JwdEUsRUFBT3BiLEtBQUs0ckYsTUFBTWxvRixRQUFRLGVBQWdCLE9BQVMsSUFDbkRrMkYsRUFBYXgrRSxFQUFLemtCLE9BQ2xCa2pHLEVBQVc3NUYsS0FBS3c1RixVQUFZN2hHLEVBQUs2bUMsS0FBT3grQixLQUFLK3JGLE1BQU12dEQsS0FFckRzN0QsRUFBZSxLQUNmQyxFQUFnQixFQUNoQnRSLEVBQWUsRUFDZnBJLEVBQU8sRUFDUDJaLEdBQWdCLEVBQ2hCQyxFQUFpQixFQUNqQkMsRUFBZ0IsRUFDaEJDLEVBQWdCLEVBRVh6akcsRUFBSSxFQUFHQSxFQUFJa2pHLEVBQVlsakcsSUFDaEMsQ0FDSWtzQixJQUFNdzNFLEVBQVdoL0UsRUFBS3JXLFdBQVdyTyxHQUMzQnF6RixFQUFPM3VFLEVBQUt6VixPQUFPalAsR0FRekIsR0FOSSxTQUFXa0ksS0FBS21yRixLQUVoQmlRLEVBQWV0akcsRUFDZnVqRyxFQUFpQkYsR0FHUixPQUFUaFEsR0FBMEIsT0FBVEEsRUFBckIsQ0FhQW5uRSxJQUFNeTNFLEVBQVcxaUcsRUFBS2dpRyxNQUFNUyxHQUV2QkMsSUFLRFAsR0FBZ0JPLEVBQVNDLFFBQVFSLEtBRWpDejJELEVBQUk3NEIsR0FBSzZ2RixFQUFTQyxRQUFRUixJQUc5QkgsRUFBTWxsRyxLQUFLLENBQ1BvcEQsUUFBU3c4QyxFQUFTeDhDLGFBQ2xCd2lDLFdBQ0ErWixFQUNBcjFELFNBQVUsSUFBSXBELEdBQU0wQixFQUFJNzRCLEVBQUk2dkYsRUFBU0UsUUFBV3Y2RixLQUFLc25GLGVBQWlCLEVBQUlqa0QsRUFBSTU0QixFQUFJNHZGLEVBQVNHLFdBRS9GbjNELEVBQUk3NEIsR0FBSzZ2RixFQUFTSSxTQUFXejZGLEtBQUtzbkYsZUFDbEN5UyxFQUFnQjEyRCxFQUFJNzRCLEVBQ3BCMnZGLEVBQWdCdnVGLEtBQUtDLElBQUlzdUYsRUFBZ0JFLEVBQVNHLFFBQVVILEVBQVN4OEMsUUFBUXBvQixRQUM3RXFrRSxFQUFlTSxHQUVPLElBQWxCSixHQUF1QkgsRUFBVyxHQUFLeDJELEVBQUk3NEIsRUFBSXF2RixJQUcvQ2w3RCxFQUFZZzdELEVBQU8sRUFBSUssSUFEckJFLEVBQ21ELEVBQUl4akcsRUFBSXNqRyxHQUM3RHRqRyxFQUFJc2pHLEVBQ0pBLEdBQWdCLEVBRWhCeFIsRUFBVy96RixLQUFLd2xHLEdBQ2hCeFIsRUFBZTc4RSxLQUFLQyxJQUFJNDhFLEVBQWN3UixHQUN0QzVaLElBRUFoOUMsRUFBSTc0QixFQUFJLEVBQ1I2NEIsRUFBSTU0QixHQUFLOVMsRUFBS290RixXQUNkK1UsRUFBZSxZQS9DZnRSLEVBQVcvekYsS0FBS3NsRyxHQUNoQnRSLEVBQWU3OEUsS0FBS0MsSUFBSTQ4RSxFQUFjc1IsS0FDcEMxWixJQUNBNlosRUFFRjcyRCxFQUFJNzRCLEVBQUksRUFDUjY0QixFQUFJNTRCLEdBQUs5UyxFQUFLb3RGLFdBQ2QrVSxFQUFlLEtBNEN2QmwzRSxJQUFNcW5FLEVBQVc3dUUsRUFBS3pWLE9BQU95VixFQUFLemtCLE9BQVMsR0FFMUIsT0FBYnN6RixHQUFrQyxPQUFiQSxJQUVqQixTQUFXcnJGLEtBQUtxckYsS0FFaEI4UCxFQUFnQkUsR0FHcEJ6UixFQUFXL3pGLEtBQUtzbEcsR0FDaEJ0UixFQUFlNzhFLEtBQUtDLElBQUk0OEUsRUFBY3NSLElBSzFDLElBRkFuM0UsSUFBTTgzRSxFQUFtQixHQUVoQmhrRyxFQUFJLEVBQUdBLEdBQUsycEYsRUFBTTNwRixJQUMzQixDQUNJb3NCLElBQUk2M0UsRUFBYyxFQUVPLFVBQXJCMzZGLEtBQUsrckYsTUFBTWhJLE1BRVg0VyxFQUFjbFMsRUFBZUQsRUFBVzl4RixHQUVkLFdBQXJCc0osS0FBSytyRixNQUFNaEksUUFFaEI0VyxHQUFlbFMsRUFBZUQsRUFBVzl4RixJQUFNLEdBR25EZ2tHLEVBQWlCam1HLEtBQUtrbUcsR0FNMUIsSUFIQS8zRSxJQUFNZzRFLEVBQVdqQixFQUFNaGpHLE9BQ2pCdW5DLEVBQU9sK0IsS0FBS2srQixLQUVUeG5DLEVBQUksRUFBR0EsRUFBSWtrRyxFQUFVbGtHLElBQzlCLENBQ0lvc0IsSUFBSTVwQixFQUFJOEcsS0FBS3U1RixRQUFRN2lHLEdBRWpCd0MsRUFFQUEsRUFBRTJrRCxRQUFVODdDLEVBQU1qakcsR0FBR21uRCxVQUlyQjNrRCxFQUFJLElBQUl3cEYsR0FBT2lYLEVBQU1qakcsR0FBR21uRCxVQUN0QnNwQixZQUFjbm5FLEtBQUttbkUsWUFDckJubkUsS0FBS3U1RixRQUFROWtHLEtBQUt5RSxJQUd0QkEsRUFBRTZyQyxTQUFTdjZCLEdBQUttdkYsRUFBTWpqRyxHQUFHcXVDLFNBQVN2NkIsRUFBSWt3RixFQUFpQmYsRUFBTWpqRyxHQUFHMnBGLE9BQVM1OEMsRUFDekV2cUMsRUFBRTZyQyxTQUFTdDZCLEVBQUlrdkYsRUFBTWpqRyxHQUFHcXVDLFNBQVN0NkIsRUFBSWc1QixFQUNyQ3ZxQyxFQUFFdXFDLE1BQU1qNUIsRUFBSXRSLEVBQUV1cUMsTUFBTWg1QixFQUFJZzVCLEVBQ3hCdnFDLEVBQUVnbEMsS0FBT0EsRUFFSmhsQyxFQUFFNkIsUUFFSGlGLEtBQUt5dkMsU0FBU3YyQyxHQUt0QixJQUFLNHBCLElBQUlwc0IsRUFBSWtrRyxFQUFVbGtHLEVBQUlzSixLQUFLdTVGLFFBQVE1aUcsU0FBVUQsRUFFOUNzSixLQUFLb1ksWUFBWXBZLEtBQUt1NUYsUUFBUTdpRyxJQU9sQyxHQUpBc0osS0FBS3E1RixXQUFhNVEsRUFBZWhsRCxFQUNqQ3pqQyxLQUFLczVGLGFBQWVqMkQsRUFBSTU0QixFQUFJOVMsRUFBS290RixZQUFjdGhELEVBR3pCLElBQWxCempDLEtBQUtzakQsT0FBTzk0QyxHQUE2QixJQUFsQnhLLEtBQUtzakQsT0FBTzc0QyxFQUVuQyxJQUFLcVksSUFBSXBzQixFQUFJLEVBQUdBLEVBQUlra0csRUFBVWxrRyxJQUUxQnNKLEtBQUt1NUYsUUFBUTdpRyxHQUFHOFQsR0FBS3hLLEtBQUtxNUYsV0FBYXI1RixLQUFLc2pELE9BQU85NEMsRUFDbkR4SyxLQUFLdTVGLFFBQVE3aUcsR0FBRytULEdBQUt6SyxLQUFLczVGLFlBQWN0NUYsS0FBS3NqRCxPQUFPNzRDLEVBRzVEekssS0FBS3k1RixlQUFpQlUsRUFBZ0IxMkQsZUFRMUNxRixnQkFBQSxXQUVJOW9DLEtBQUs2NkYsV0FDTDc2RixLQUFLbXlDLHdDQVFUcEQsZUFBQSxXQUlJLE9BRkEvdUMsS0FBSzY2RixXQUVFdnRELFlBQU15QixlQUFBNzdDLEtBQWM4TSxtQkFRL0I2NkYsU0FBQSxXQUVRNzZGLEtBQUs0OEMsUUFFTDU4QyxLQUFLaXNGLGFBQ0xqc0YsS0FBSzQ4QyxPQUFRLElBU3JCelQsRUFBSWpMLEtBQUFqcEMsSUFBQSxXQUVBLE9BQU8rSyxLQUFLK3JGLE1BQU03dEQsTUFHdEJpTCxFQUFJakwsS0FBQWhwQyxJQUFBLFNBQUtDLEdBRUw2SyxLQUFLK3JGLE1BQU03dEQsS0FBeUIsaUJBQVYvb0MsR0FBc0JBLEdBQVMsRUFBS0EsRUFBUSxTQUV0RTZLLEtBQUs0OEMsT0FBUSxHQVNqQnpULEVBQUk0NkMsTUFBQTl1RixJQUFBLFdBRUEsT0FBTytLLEtBQUsrckYsTUFBTWhJLE9BR3RCNTZDLEVBQUk0NkMsTUFBQTd1RixJQUFBLFNBQU1DLEdBRU42SyxLQUFLK3JGLE1BQU1oSSxNQUFRNXVGLEdBQVMsT0FFNUI2SyxLQUFLNDhDLE9BQVEsR0FjakJ6VCxFQUFJbWEsT0FBQXJ1RCxJQUFBLFdBRUEsT0FBTytLLEtBQUs0aUYsU0FHaEJ6NUMsRUFBSW1hLE9BQUFwdUQsSUFBQSxTQUFPQyxHQUVjLGlCQUFWQSxFQUVQNkssS0FBSzRpRixRQUFRMXRGLElBQUlDLEdBSWpCNkssS0FBSzRpRixRQUFRL2dELFNBQVMxc0MsSUFTOUJnMEMsRUFBSTAvQyxLQUFBNXpGLElBQUEsV0FFQSxPQUFPK0ssS0FBSytyRixPQUdoQjVpRCxFQUFJMC9DLEtBQUEzekYsSUFBQSxTQUFLQyxHQUVBQSxJQUtnQixpQkFBVkEsR0FFUEEsRUFBUUEsRUFBTTRKLE1BQU0sS0FFcEJpQixLQUFLK3JGLE1BQU1qM0YsS0FBd0IsSUFBakJLLEVBQU13QixPQUFleEIsRUFBTSxHQUFLQSxFQUFNcUYsTUFBTSxHQUFHbUIsS0FBSyxLQUN0RXFFLEtBQUsrckYsTUFBTXZ0RCxLQUFPcnBDLEVBQU13QixRQUFVLEVBQUlpK0IsU0FBU3ovQixFQUFNLEdBQUksSUFBTWlrRyxFQUFXTSxNQUFNMTVGLEtBQUsrckYsTUFBTWozRixNQUFNMHBDLE9BSWpHeCtCLEtBQUsrckYsTUFBTWozRixLQUFPSyxFQUFNTCxLQUN4QmtMLEtBQUsrckYsTUFBTXZ0RCxLQUE2QixpQkFBZnJwQyxFQUFNcXBDLEtBQW9CcnBDLEVBQU1xcEMsS0FBTzVKLFNBQVN6L0IsRUFBTXFwQyxLQUFNLEtBR3pGeCtCLEtBQUs0OEMsT0FBUSxJQVFqQnpULEVBQUkvdEIsS0FBQW5tQixJQUFBLFdBRUEsT0FBTytLLEtBQUs0ckYsT0FHaEJ6aUQsRUFBSS90QixLQUFBbG1CLElBQUEsU0FBS2ttQixHQUVMQSxFQUFPdUcsT0FBT3ZHLFFBQXNDLEdBQUtBLEdBRXJEcGIsS0FBSzRyRixRQUFVeHdFLElBSW5CcGIsS0FBSzRyRixNQUFReHdFLEVBQ2JwYixLQUFLNDhDLE9BQVEsSUFVakJ6VCxFQUFJMHdELFNBQUE1a0csSUFBQSxXQUVBLE9BQU8rSyxLQUFLdzVGLFdBR2hCcndELEVBQUkwd0QsU0FBQTNrRyxJQUFBLFNBQVNDLEdBRUw2SyxLQUFLdzVGLFlBQWNya0csSUFJdkI2SyxLQUFLdzVGLFVBQVlya0csRUFDakI2SyxLQUFLNDhDLE9BQVEsSUFVakJ6VCxFQUFJZ3hELGNBQUFsbEcsSUFBQSxXQUlBLE9BRkErSyxLQUFLNjZGLFdBRUU3NkYsS0FBS3k1RixnQkFVaEJ0d0QsRUFBSTJ4RCxVQUFBN2xHLElBQUEsV0FJQSxPQUZBK0ssS0FBSzY2RixXQUVFNzZGLEtBQUtxNUYsWUFRaEJsd0QsRUFBSTI3QyxjQUFBN3ZGLElBQUEsV0FFQSxPQUFPK0ssS0FBS3NuRixnQkFHaEJuK0MsRUFBSTI3QyxjQUFBNXZGLElBQUEsU0FBY0MsR0FFVjZLLEtBQUtzbkYsaUJBQW1CbnlGLElBRXhCNkssS0FBS3NuRixlQUFpQm55RixFQUN0QjZLLEtBQUs0OEMsT0FBUSxJQVdyQnpULEVBQUk0eEQsV0FBQTlsRyxJQUFBLFdBSUEsT0FGQStLLEtBQUs2NkYsV0FFRTc2RixLQUFLczVGLGFBWWhCRixFQUFPNEIsYUFBQSxTQUFhNThFLEVBQUsrdEMsR0FFckJ2cEMsSUFBTWpyQixFQUFPLEdBQ1BzakcsRUFBTzc4RSxFQUFJODhFLHFCQUFxQixRQUFRLEdBQ3hDQyxFQUFTLzhFLEVBQUk4OEUscUJBQXFCLFVBQVUsR0FDNUNFLEVBQVFoOUUsRUFBSTg4RSxxQkFBcUIsUUFDakN0dUUsRUFBTXNVLEdBQW1CazZELEVBQU0sR0FBRzNtRCxhQUFhLFFBQVNwZ0IsRUFBU0UsWUFDakU4bUUsRUFBZ0IsR0FFdEIxakcsRUFBS2t4RixLQUFPb1MsRUFBS3htRCxhQUFhLFFBQzlCOThDLEVBQUs2bUMsS0FBTzVKLFNBQVNxbUUsRUFBS3htRCxhQUFhLFFBQVMsSUFDaEQ5OEMsRUFBS290RixXQUFhbndELFNBQVN1bUUsRUFBTzFtRCxhQUFhLGNBQWUsSUFBTTduQixFQUNwRWoxQixFQUFLZ2lHLE1BQVEsR0FHVHh0QyxhQUFvQi9JLEtBRXBCK0ksRUFBVyxDQUFDQSxJQUtoQixJQUFLcnBDLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJMGtHLEVBQU16a0csT0FBUUQsSUFDbEMsQ0FDSWtzQixJQUFNNXFCLEVBQUtvakcsRUFBTTFrRyxHQUFHKzlDLGFBQWEsTUFDM0I5eEMsRUFBT3k0RixFQUFNMWtHLEdBQUcrOUMsYUFBYSxRQUVuQzRtRCxFQUFjcmpHLEdBQU1tMEQsYUFBb0JsakQsTUFBUWtqRCxFQUFTejFELEdBQUt5MUQsRUFBU3hwRCxHQU0zRSxJQUZBaWdCLElBQU0wNEUsRUFBVWw5RSxFQUFJODhFLHFCQUFxQixRQUVoQ3hrRyxFQUFJLEVBQUdBLEVBQUk0a0csRUFBUTNrRyxPQUFRRCxJQUNwQyxDQUNJa3NCLElBQU1aLEVBQVNzNUUsRUFBUTVrRyxHQUNqQjBqRyxFQUFXeGxFLFNBQVM1UyxFQUFPeXlCLGFBQWEsTUFBTyxJQUMvQzhtRCxFQUFPdjVFLEVBQU95eUIsYUFBYSxTQUFXLEVBQ3RDK21ELEVBQWMsSUFBSXB5RCxHQUNuQnhVLFNBQVM1UyxFQUFPeXlCLGFBQWEsS0FBTSxJQUFNN25CLEVBQVF5dUUsRUFBY0UsR0FBTTU0QyxNQUFNbjRDLEVBQUlvaUIsRUFDL0VnSSxTQUFTNVMsRUFBT3l5QixhQUFhLEtBQU0sSUFBTTduQixFQUFReXVFLEVBQWNFLEdBQU01NEMsTUFBTWw0QyxFQUFJbWlCLEVBQ2hGZ0ksU0FBUzVTLEVBQU95eUIsYUFBYSxTQUFVLElBQU03bkIsRUFDN0NnSSxTQUFTNVMsRUFBT3l5QixhQUFhLFVBQVcsSUFBTTduQixHQUdsRGoxQixFQUFLZ2lHLE1BQU1TLEdBQVksQ0FDbkJHLFFBQVMzbEUsU0FBUzVTLEVBQU95eUIsYUFBYSxXQUFZLElBQU03bkIsRUFDeEQ0dEUsUUFBUzVsRSxTQUFTNVMsRUFBT3l5QixhQUFhLFdBQVksSUFBTTduQixFQUN4RDZ0RSxTQUFVN2xFLFNBQVM1UyxFQUFPeXlCLGFBQWEsWUFBYSxJQUFNN25CLEVBQzFEMHRFLFFBQVMsR0FDVHo4QyxRQUFTLElBQUl1RixHQUFRaTRDLEVBQWNFLEdBQU10aUQsWUFBYXVpRCxRQUN0REQsR0FPUixJQUZBMzRFLElBQU02NEUsRUFBV3I5RSxFQUFJODhFLHFCQUFxQixXQUVqQ3hrRyxFQUFJLEVBQUdBLEVBQUkra0csRUFBUzlrRyxPQUFRRCxJQUNyQyxDQUNJa3NCLElBQU0wM0UsRUFBVW1CLEVBQVMva0csR0FDbkJnbEcsRUFBUTltRSxTQUFTMGxFLEVBQVE3bEQsYUFBYSxTQUFVLElBQU03bkIsRUFDdEQrdUUsRUFBUy9tRSxTQUFTMGxFLEVBQVE3bEQsYUFBYSxVQUFXLElBQU03bkIsRUFDeEQybkUsRUFBUzMvRCxTQUFTMGxFLEVBQVE3bEQsYUFBYSxVQUFXLElBQU03bkIsRUFFMURqMUIsRUFBS2dpRyxNQUFNZ0MsS0FFWGhrRyxFQUFLZ2lHLE1BQU1nQyxHQUFRckIsUUFBUW9CLEdBQVNuSCxHQVE1QyxPQUZBNkUsRUFBV00sTUFBTS9oRyxFQUFLa3hGLE1BQVFseEYsRUFFdkJBLDRDQXptQmdCLENBQVN3NEMsSUE2bUJ4Q2dwRCxHQUFXTyxNQUFRLEdDcG9CSixJQUFNa0MsR0FBZ0IsZ0JBUTFCNWlHLE1BQUEsU0FBTTIxQixFQUFVa3ZCLEdBRW5CbHZCLEVBQVNrdEUsV0FBYTFDLEdBQVc2QixhQUFhcnNFLEVBQVNoM0IsS0FBTWttRCxJQVFyRSs5QyxHQUFXNXRFLElBQUEsV0FFSGtrRSxHQUFldjZFLG9CQUFvQixNQUFPdTZFLEdBQWV6M0Usa0JBQWtCQyxXQVFuRmtoRixHQUFXRSxRQUFBLFNBQVE1NEYsR0FFWDBmLElBQU0wRixFQUFNcGxCLEVBQ1BRLFFBQVEsTUFBTyxJQUNmQSxRQUFRLFlBQWEsSUFHOUIsT0FBUTRrQixJQUFRcGxCLEVBRUQsSUFHTSxLQUFSb2xCLEVBRUUsSUFHSkEsR0FTZnN6RSxHQUFXN3RFLElBQUEsU0FBSVksRUFBVTNqQixHQUdqQixHQUFLMmpCLEVBQVNoM0IsTUFBUWczQixFQUFTOXpCLE9BQVNxM0YsR0FBZXQ4RSxLQUFLK0YsSUFRNUQsR0FBMEQsSUFBdERnVCxFQUFTaDNCLEtBQUt1akcscUJBQXFCLFFBQVF2a0csUUFDYyxJQUF0RGc0QixFQUFTaDNCLEtBQUt1akcscUJBQXFCLFFBQVF2a0csUUFDNEIsT0FBdkVnNEIsRUFBU2gzQixLQUFLdWpHLHFCQUFxQixRQUFRLEdBQUd6bUQsYUFBYSxRQUZsRSxDQVVBM3hCLElBQUlpNUUsRUFBVXB0RSxFQUFTdlMsVUFBcUQsR0FBekN3L0UsR0FBaUJFLFFBQVFudEUsRUFBU3pyQixLQUVqRXlyQixFQUFTdlMsWUFFTSxNQUFYMi9FLElBRUpBLEVBQWEsSUFHVC83RixLQUFLK3NCLFNBQVdndkUsR0FHcUMsTUFBakQvN0YsS0FBSytzQixRQUFRcG5CLE9BQU8zRixLQUFLK3NCLFFBQVFwMkIsT0FBUyxLQUU5Q29sRyxHQUFjLE9BTXRCQSxFQUFTQSxFQUFPcjRGLFFBQVExRCxLQUFLK3NCLFFBQVMsTUFHYSxNQUFyQ2d2RSxFQUFPcDJGLE9BQU9vMkYsRUFBT3BsRyxPQUFTLEtBRTVDb2xHLEdBQWMsS0FtQmQsSUFoQkFuNUUsSUFBTXc0RSxFQUFRenNFLEVBQVNoM0IsS0FBS3VqRyxxQkFBcUIsUUFDM0MvdUMsRUFBVyxHQUlYbFIsRUFBUyxTQUFJc2dELEdBRWZwdkMsRUFBU292QyxFQUFLN2xGLFNBQVNzbUYsVUFBWVQsRUFBSzE5QyxRQUVwQzlxRCxPQUFPcUosS0FBSyt2RCxHQUFVeDFELFNBQVd5a0csRUFBTXprRyxTQUUzQ2lsRyxHQUFxQjVpRyxNQUFNMjFCLEVBQVV3OUIsR0FDckNuaEQsTUFJS3RVLEVBQUksRUFBR0EsRUFBSTBrRyxFQUFNemtHLFNBQVVELEVBQ3hDLENBQ1Frc0IsSUFBTW81RSxFQUFXWixFQUFNMWtHLEdBQUcrOUMsYUFBYSxRQUNqQ3Z4QyxFQUFNNjRGLEVBQVNDLEVBQ2pCMXBGLEdBQVMsRUFJYixJQUFLc1EsSUFBTTl0QixLQUFRa0wsS0FBS3l0QixVQUM1QixDQUNJLElBQVV3dUUsRUFBaUJqOEYsS0FBS3l0QixVQUFVMzRCLEdBRXRDLEdBQUltbkcsRUFBZS80RixNQUFRQSxFQUMvQixDQUNRKzRGLEVBQWV2bUYsU0FBU3NtRixTQUFXQSxFQUMvQkMsRUFBZXArQyxRQUVmNUMsRUFBVWdoRCxHQUlkQSxFQUFtQjNrRixrQkFBa0IwVyxJQUFJaXRCLEdBRTdDM29DLEdBQWEsRUFDVCxPQU1aLElBQVNBLEVBQ1QsQ0FFSSxJQUFVdFksRUFBVSxDQUNac2IsWUFBYXFaLEVBQVNyWixZQUN0QkMsU0FBVTI4RSxHQUFldDVFLFVBQVVDLE1BQ25DbkQsU0FBVTNpQixPQUFPMHVCLE9BQ2pCLENBQUF1NkUsU0FBTUEsR0FDRnJ0RSxFQUFTalosU0FBUzRoRixlQUUxQnBwRSxlQUFvQlMsR0FHeEIzdUIsS0FBU2d1QixJQUFJOXFCLEVBQUtsSixFQUFTaWhELFVBNUYvQmp3QyxTQVhBQTs7Ozs7Ozs7c0xDakRha3hGLEdBQVcsU0FBQXRnQyxHQUs1QixTQUFBdWdDLEVBQVlwK0Qsa0JBQVEsR0FFaEJ1UCxPQUFLdHRDLEtBQUNvOEYsR0FBZUMsR0FBVSxDQUFFQyxPQUFRLElBRXpDdDhGLEtBQUsrOUIsTUFBUUEsZ0lBU2pCb0wsRUFBSXBMLE1BQUE5b0MsSUFBQSxXQUVBLE9BQU8rSyxLQUFLaXBELFNBQVNxekMsUUFHekJuekQsRUFBSXBMLE1BQUE3b0MsSUFBQSxTQUFNQyxHQUVONkssS0FBS2lwRCxTQUFTcXpDLE9BQVNubkcsNENBekJDLENBQVN1bUUsSUNwQm5DNmdDLEdBQWUscXRCQ0FyQjM1RSxJQUFNNDVFLEdBQWtCLENBQ3BCQyxFQUFHLENBQUMsUUFBVSxRQUFVLFNBQ3hCQyxFQUFHLENBQUMsUUFBVSxRQUFVLFFBQVUsU0FDbENDLEVBQUcsQ0FBQyxRQUFVLFFBQVUsUUFBVSxRQUFVLFFBQzVDQyxHQUFJLENBQUMsTUFBUSxRQUFVLFFBQVUsUUFBVSxRQUFVLFNBQ3JEQyxHQUFJLENBQUMsUUFBVSxRQUFVLFFBQVUsUUFBVSxRQUFVLFFBQVUsU0FDakVDLEdBQUksQ0FBQyxPQUFVLFFBQVUsUUFBVSxPQUFTLFFBQVUsUUFBVSxRQUFVLFVBR3hFQyxHQUFlLENBQ2pCLHVDQUNBLDhCQUVBLGtCQUNBLElBQ0EsZ0NBQ0EsYUFDQSxLQUVGcGhHLEtBQUssTUNQUCxJQUFxQnFoRyxHQUFjLFNBQUFwaEMsR0FTL0IsU0FBQXFoQyxFQUFZQyxFQUFZQyxFQUFVNXdCLEVBQVNwc0MsRUFBWWk5RCxHQUduRHg2RSxJQUFNeTZFLEVGUUMsU0FBZ0NELEVBQVk1eUYsR0FFdkRvWSxJQUtJMDZFLEVBTEVDLEVBQWEzeEYsS0FBS3ErQixLQUFLbXpELEVBQWEsR0FFdENJLEVBQWFqQixHQUVia0IsRUFBVyxHQU1YSCxFQUZBOXlGLEVBRVcsaUZBSUEsaUZBR2YsSUFBS3NZLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJMG1HLEVBQVkxbUcsSUFDaEMsQ0FDSW9zQixJQUFJNDZFLEVBQU9KLEVBQVM1NUYsUUFBUSxVQUFXaE4sR0FXdkMrbUcsR0FGQUMsRUFBT0EsRUFBS2g2RixRQUFRLGdCQUFvQmhOLEdBQUs2bUcsRUFBYSxHQUFDLE1BRzNERSxHQUFZLEtBTWhCLE9BRkFELEdBREFBLEVBQWFBLEVBQVc5NUYsUUFBUSxTQUFVKzVGLElBQ2xCLzVGLFFBQVEsU0FBVTA1RixHRTdDdEJPLENBRGhCUCxFQUFhQSxHQUFjLEVBQ3dCRixHQUM3Q1UsRURKQyxTQUFnQ1IsR0FXM0MsSUFUQXg2RSxJQU9JenRCLEVBUEUwb0csRUFBU3JCLEdBQWdCWSxHQUN6QkcsRUFBYU0sRUFBT2xuRyxPQUV0Qm1uRyxFQUFhZixHQUViVSxFQUFXLEdBSU4vbUcsRUFBSSxFQUFHQSxFQUFJMG1HLEVBQVkxbUcsSUFDaEMsQ0FDSW9zQixJQUFJNDZFLEVBTFMsMEVBS09oNkYsUUFBUSxVQUFXaE4sR0FFdkN2QixFQUFRdUIsRUFFSkEsR0FBSzZtRyxJQUVMcG9HLEVBQVFpb0csRUFBYTFtRyxFQUFJLEdBSzdCK21HLEdBRkFDLEVBQU9BLEVBQUtoNkYsUUFBUSxVQUFXbTZGLEVBQU8xb0csSUFHdENzb0csR0FBWSxLQU1oQixPQUZBSyxHQURBQSxFQUFhQSxFQUFXcDZGLFFBQVEsU0FBVSs1RixJQUNsQi81RixRQUFRLFNBQVUwNUYsR0N6QnRCVyxDQUF1QlgsR0FFdkM5dkQsWUFFSSt2RCxFQUVBTyxHQUdKNTlGLEtBQUtrOUYsV0FBYUEsRUFFbEJsOUYsS0FBS21nQyxXQUFhQSxHQUFjOUwsRUFBU0UsV0FFekN2MEIsS0FBS2crRixTQUFXLEVBRWhCaCtGLEtBQUt1c0UsUUFBVUEsR0FBVyxFQUUxQnZzRSxLQUFLMDlGLEtBQU9QLEdBQVkscUtBRzVCL2xHLE1BQUEsU0FBTTBrRSxFQUFlanhDLEVBQU9WLEVBQVFrVyxHQTZCaEMsR0EzQklsVyxFQUVJbnFCLEtBQUtrOUYsV0FFTGw5RixLQUFLaXBELFNBQVNrMEMsU0FBWSxFQUFJaHpFLEVBQU9xTCxPQUFVckwsRUFBT3FMLE1BQVEzSyxFQUFNMkssT0FJcEV4MUIsS0FBS2lwRCxTQUFTazBDLFNBQVksRUFBSWh6RSxFQUFPc0wsUUFBV3RMLEVBQU9zTCxPQUFTNUssRUFBTTRLLFFBS3RFejFCLEtBQUtrOUYsV0FFTGw5RixLQUFLaXBELFNBQVNrMEMsU0FBWSxFQUFJcmhDLEVBQWN4c0IsU0FBUzlaLE9BQVVzbUMsRUFBY3hzQixTQUFTOVosTUFBUTNLLEVBQU0ySyxPQUlwR3gxQixLQUFLaXBELFNBQVNrMEMsU0FBWSxFQUFJcmhDLEVBQWN4c0IsU0FBUzdaLFFBQVdxbUMsRUFBY3hzQixTQUFTN1osT0FBUzVLLEVBQU00SyxRQUs5R3oxQixLQUFLaXBELFNBQVNrMEMsVUFBWW45RixLQUFLbTlGLFNBQy9CbjlGLEtBQUtpcEQsU0FBU2swQyxVQUFZbjlGLEtBQUtpK0YsT0FFWCxJQUFoQmorRixLQUFLaStGLE9BRUxuaUMsRUFBYzdRLFlBQVlqckQsS0FBTTZxQixFQUFPVixFQUFRa1csT0FHbkQsQ0FDSXpkLElBQU0rN0MsRUFBZTdDLEVBQWM5UCxtQkFDN0IxYyxFQUFXd3NCLEVBQWN4c0IsU0FFM0J5YixFQUFPbGdDLEVBQ1BtZ0MsRUFBTzJULEVBRVgzK0QsS0FBS3lxRCxNQUFNMFEsT0FBUSxFQUNuQlcsRUFBYzdRLFlBQVlqckQsS0FBTStxRCxFQUFNQyxHQUFNLEdBRTVDLElBQUtsb0MsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUlzSixLQUFLaStGLE9BQVMsRUFBR3ZuRyxJQUNyQyxDQUNJNDRDLEVBQVMrWixjQUFjcnJELEtBQUsrc0QsRUFBTUEsRUFBSzNGLGFBRXZDcGxELEtBQUtpcEQsU0FBU2lDLFNBQVdGLEVBRXpCcG9DLElBQU0yOEQsRUFBT3YwQixFQUViQSxFQUFPRCxFQUNQQSxFQUFPdzBCLEVBRVBqd0MsRUFBUytiLE9BQU9ydEQsS0FBS2dDLE1BQ3JCc3ZDLEVBQVN1WSxTQUFTeUQsS0FBSyxHQUczQnRyRCxLQUFLeXFELE1BQU0wUSxPQUFRLEVBQ25CVyxFQUFjN1EsWUFBWWpyRCxLQUFNZ3JELEVBQU03Z0MsRUFBUWtXLEdBQzlDeTdCLEVBQWNoUixvQkFBb0I2VCxLQVMxQ3gxQixFQUFJdTBELEtBQUF6b0csSUFBQSxXQUVBLE9BQU8rSyxLQUFLbTlGLFVBR2hCaDBELEVBQUl1MEQsS0FBQXhvRyxJQUFBLFNBQUtDLEdBRUw2SyxLQUFLMHFELFFBQVUsRUFBdUIsRUFBbEI5K0MsS0FBS2lELElBQUkxWixHQUM3QjZLLEtBQUttOUYsU0FBV2hvRyxHQVVwQmcwQyxFQUFJb2pDLFFBQUF0M0UsSUFBQSxXQUVBLE9BQU8rSyxLQUFLZytGLFVBR2hCNzBELEVBQUlvakMsUUFBQXIzRSxJQUFBLFNBQVFDLEdBRVI2SyxLQUFLZytGLFNBQVc3b0csRUFDaEI2SyxLQUFLaStGLE9BQVM5b0csNENBaklhLENBQVN1bUUsSUNDdkJ3aUMsR0FBVSxTQUFBdGlDLEdBUTNCLFNBQUF1aUMsRUFBWWhCLEVBQVU1d0IsRUFBU3BzQyxFQUFZaTlELEdBRXZDOXZELE9BQUt0dEMsTUFFTEEsS0FBS28rRixZQUFjLElBQUlwQixJQUFlLEVBQU1HLEVBQVU1d0IsRUFBU3BzQyxFQUFZaTlELEdBQzNFcDlGLEtBQUtxK0YsWUFBYyxJQUFJckIsSUFBZSxFQUFPRyxFQUFVNXdCLEVBQVNwc0MsRUFBWWk5RCxHQUU1RXA5RixLQUFLbWdDLFdBQWFBLEdBQWM5TCxFQUFTRSxXQUN6Q3YwQixLQUFLdXNFLFFBQVVBLEdBQVcsRUFDMUJ2c0UsS0FBSzA5RixLQUFPUCxHQUFZLEVBRXhCbjlGLEtBQUtzK0Ysa0JBQW1CLG9SQVU1QmxuRyxNQUFBLFNBQU0wa0UsRUFBZWp4QyxFQUFPVixFQUFRa1csR0FFaEN6ZCxJQUFNMjdFLEVBQVkzeUYsS0FBS2lELElBQUk3TyxLQUFLbytGLFlBQVlqQixVQUN0Q3FCLEVBQVk1eUYsS0FBS2lELElBQUk3TyxLQUFLcStGLFlBQVlsQixVQUU1QyxHQUFJb0IsR0FBYUMsRUFDakIsQ0FDSTU3RSxJQUFNKzdDLEVBQWU3QyxFQUFjOVAsbUJBRW5DaHNELEtBQUtvK0YsWUFBWWhuRyxNQUFNMGtFLEVBQWVqeEMsRUFBTzh6QyxHQUFjLEdBQzNEMytELEtBQUtxK0YsWUFBWWpuRyxNQUFNMGtFLEVBQWU2QyxFQUFjeDBDLEVBQVFrVyxHQUU1RHk3QixFQUFjaFIsb0JBQW9CNlQsUUFFN0I2L0IsRUFFTHgrRixLQUFLcStGLFlBQVlqbkcsTUFBTTBrRSxFQUFlanhDLEVBQU9WLEVBQVFrVyxHQUlyRHJnQyxLQUFLbytGLFlBQVlobkcsTUFBTTBrRSxFQUFlanhDLEVBQU9WLEVBQVFrVyxnQkFJN0RvK0QsY0FBQSxXQUVReitGLEtBQUswK0Ysa0JBRUwxK0YsS0FBSzBxRCxRQUFVLEVBSWYxcUQsS0FBSzBxRCxRQUErRixFQUFyRjkrQyxLQUFLQyxJQUFJRCxLQUFLaUQsSUFBSTdPLEtBQUtvK0YsWUFBWWpCLFVBQVd2eEYsS0FBS2lELElBQUk3TyxLQUFLcStGLFlBQVlsQixZQVUvRmgwRCxFQUFJdTBELEtBQUF6b0csSUFBQSxXQUVBLE9BQU8rSyxLQUFLbytGLFlBQVlWLE1BRzVCdjBELEVBQUl1MEQsS0FBQXhvRyxJQUFBLFNBQUtDLEdBRUw2SyxLQUFLbytGLFlBQVlWLEtBQU8xOUYsS0FBS3ErRixZQUFZWCxLQUFPdm9HLEVBQ2hENkssS0FBS3krRixpQkFTVHQxRCxFQUFJb2pDLFFBQUF0M0UsSUFBQSxXQUVBLE9BQU8rSyxLQUFLbytGLFlBQVk3eEIsU0FHNUJwakMsRUFBSW9qQyxRQUFBcjNFLElBQUEsU0FBUUMsR0FFUjZLLEtBQUtvK0YsWUFBWTd4QixRQUFVdnNFLEtBQUtxK0YsWUFBWTl4QixRQUFVcDNFLEdBUzFEZzBDLEVBQUl3MUQsTUFBQTFwRyxJQUFBLFdBRUEsT0FBTytLLEtBQUtvK0YsWUFBWVYsTUFHNUJ2MEQsRUFBSXcxRCxNQUFBenBHLElBQUEsU0FBTUMsR0FFTjZLLEtBQUtvK0YsWUFBWVYsS0FBT3ZvRyxFQUN4QjZLLEtBQUt5K0YsaUJBU1R0MUQsRUFBSXkxRCxNQUFBM3BHLElBQUEsV0FFQSxPQUFPK0ssS0FBS3ErRixZQUFZWCxNQUc1QnYwRCxFQUFJeTFELE1BQUExcEcsSUFBQSxTQUFNQyxHQUVONkssS0FBS3ErRixZQUFZWCxLQUFPdm9HLEVBQ3hCNkssS0FBS3krRixpQkFTVHQxRCxFQUFJdkwsVUFBQTNvQyxJQUFBLFdBRUEsT0FBTytLLEtBQUtxK0YsWUFBWXpnRSxXQUc1QnVMLEVBQUl2TCxVQUFBMW9DLElBQUEsU0FBVUMsR0FFVjZLLEtBQUtxK0YsWUFBWXpnRSxVQUFZem9DLEdBU2pDZzBDLEVBQUltMUQsaUJBQUFycEcsSUFBQSxXQUVBLE9BQU8rSyxLQUFLMCtGLG1CQUdoQnYxRCxFQUFJbTFELGlCQUFBcHBHLElBQUEsU0FBaUJDLEdBRWpCNkssS0FBSzArRixrQkFBb0J2cEcsRUFDekI2SyxLQUFLeStGLDBEQWxLa0IsQ0FBUy9pQywyc0NDS25CbWpDLEdBQWlCLFNBQUFqakMsR0FFbEMsU0FBQWtqQyxJQUVJbDhFLElBQU1xbUMsRUFBVyxDQUNiNXJELEVBQUcsSUFBSXVtQixhQUFhLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUM3QixFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQ1osRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUNaLEVBQUcsRUFBRyxFQUFHLEVBQUcsSUFDaEIwNEUsT0FBUSxHQUdaaHZELE9BQUt0dEMsS0FBQysrRixHQUFxQkMsR0FBVS8xQyxHQUVyQ2pwRCxLQUFLKzlCLE1BQVEscUtBVWpCa2hFLFlBQUEsU0FBWWg3RCxFQUFRaTdELG1CQUFXLEdBRTNCcDhFLElBQUlxOEUsRUFBWWw3RCxFQUVaaTdELElBRUFsL0YsS0FBS28vRixVQUFVRCxFQUFXbi9GLEtBQUtpcEQsU0FBUzVyRCxFQUFHNG1DLEdBQzNDazdELEVBQVluL0YsS0FBS3EvRixhQUFhRixJQUlsQ24vRixLQUFLaXBELFNBQVM1ckQsRUFBSThoRyxlQVl0QkMsVUFBQSxTQUFVdDBFLEVBQUs1dkIsRUFBR0MsR0E4QmQsT0EzQkEydkIsRUFBSSxHQUFNNXZCLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRTJ2QixFQUFJLEdBQU01dkIsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQ3BFMnZCLEVBQUksR0FBTTV2QixFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFDcEUydkIsRUFBSSxHQUFNNXZCLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRTJ2QixFQUFJLEdBQU01dkIsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQU9ELEVBQUUsR0FHN0U0dkIsRUFBSSxHQUFNNXZCLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRTJ2QixFQUFJLEdBQU01dkIsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQ3BFMnZCLEVBQUksR0FBTTV2QixFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxJQUFRRCxFQUFFLEdBQUtDLEVBQUUsSUFDcEUydkIsRUFBSSxHQUFNNXZCLEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsR0FBT0QsRUFBRSxHQUFLQyxFQUFFLElBQVFELEVBQUUsR0FBS0MsRUFBRSxJQUNwRTJ2QixFQUFJLEdBQU01dkIsRUFBRSxHQUFLQyxFQUFFLEdBQU9ELEVBQUUsR0FBS0MsRUFBRSxHQUFPRCxFQUFFLEdBQUtDLEVBQUUsSUFBUUQsRUFBRSxHQUFLQyxFQUFFLElBQU9ELEVBQUUsR0FHN0U0dkIsRUFBSSxJQUFPNXZCLEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLElBQVFELEVBQUUsSUFBTUMsRUFBRSxJQUN6RTJ2QixFQUFJLElBQU81dkIsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsSUFBUUQsRUFBRSxJQUFNQyxFQUFFLElBQ3pFMnZCLEVBQUksSUFBTzV2QixFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxJQUFRRCxFQUFFLElBQU1DLEVBQUUsSUFDekUydkIsRUFBSSxJQUFPNXZCLEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLElBQVFELEVBQUUsSUFBTUMsRUFBRSxJQUN6RTJ2QixFQUFJLElBQU81dkIsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsSUFBUUQsRUFBRSxJQUFNQyxFQUFFLElBQU9ELEVBQUUsSUFHbEY0dkIsRUFBSSxJQUFPNXZCLEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLElBQVFELEVBQUUsSUFBTUMsRUFBRSxJQUN6RTJ2QixFQUFJLElBQU81dkIsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsSUFBUUQsRUFBRSxJQUFNQyxFQUFFLElBQ3pFMnZCLEVBQUksSUFBTzV2QixFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxJQUFRRCxFQUFFLElBQU1DLEVBQUUsSUFDekUydkIsRUFBSSxJQUFPNXZCLEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsR0FBT0QsRUFBRSxJQUFNQyxFQUFFLElBQVFELEVBQUUsSUFBTUMsRUFBRSxJQUN6RTJ2QixFQUFJLElBQU81dkIsRUFBRSxJQUFNQyxFQUFFLEdBQU9ELEVBQUUsSUFBTUMsRUFBRSxHQUFPRCxFQUFFLElBQU1DLEVBQUUsSUFBUUQsRUFBRSxJQUFNQyxFQUFFLElBQU9ELEVBQUUsSUFFM0U0dkIsZUFVWHUwRSxhQUFBLFNBQWFwN0QsR0FHVHJoQixJQUFNdmxCLEVBQUksSUFBSXVtQixhQUFhcWdCLEdBTzNCLE9BTEE1bUMsRUFBRSxJQUFNLElBQ1JBLEVBQUUsSUFBTSxJQUNSQSxFQUFFLEtBQU8sSUFDVEEsRUFBRSxLQUFPLElBRUZBLGVBVVhpaUcsV0FBQSxTQUFXbmtHLEVBQUcrakcsR0FFVnQ4RSxJQUFNcWhCLEVBQVMsQ0FDWDlvQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQ1osRUFBR0EsRUFBRyxFQUFHLEVBQUcsRUFDWixFQUFHLEVBQUdBLEVBQUcsRUFBRyxFQUNaLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FHaEI2RSxLQUFLaS9GLFlBQVloN0QsRUFBUWk3RCxnQkFVN0JLLFVBQUEsU0FBVTk3RCxFQUFPeTdELEdBRWJ0OEUsSUFBTXFoQixFQUFTLENBQ1hSLEVBQU9BLEVBQU9BLEVBQU8sRUFBRyxFQUN4QkEsRUFBT0EsRUFBT0EsRUFBTyxFQUFHLEVBQ3hCQSxFQUFPQSxFQUFPQSxFQUFPLEVBQUcsRUFDeEIsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUdoQnpqQyxLQUFLaS9GLFlBQVloN0QsRUFBUWk3RCxnQkFTN0JNLGNBQUEsU0FBY04sR0FTVmwvRixLQUFLaS9GLFlBUFUsQ0FDWCxHQUFLLEdBQUssR0FBSyxFQUFHLEVBQ2xCLEdBQUssR0FBSyxHQUFLLEVBQUcsRUFDbEIsR0FBSyxHQUFLLEdBQUssRUFBRyxFQUNsQixFQUFHLEVBQUcsRUFBRyxFQUFHLEdBR1NDLGdCQVU3Qk8sSUFBQSxTQUFJajdELEVBQVUwNkQsR0FFVjE2RCxHQUFZQSxHQUFZLEdBQUssSUFBTTU0QixLQUFLMDJCLEdBRXhDMWYsSUFBTTg4RSxFQUFPOXpGLEtBQUtnNEIsSUFBSVksR0FDaEJtN0QsRUFBTy96RixLQUFLaTRCLElBQUlXLEdBZ0JoQjdsQyxFQUFJLEVBQUksRUFDUmloRyxHQUFPOTZELEVBaEJBbDVCLEtBQUtrNUIsTUFnQkFubUMsR0FjWnNsQyxFQUFTLENBWkh5N0QsR0FBUyxFQUFNQSxHQUFRL2dHLEVBQ3RCQSxHQUFLLEVBQU0rZ0csR0FBVUUsRUFBT0QsRUFDNUJoaEcsR0FBSyxFQUFNK2dHLEdBQVVFLEVBQU9ELEVBV3RCLEVBQUcsRUFUVGhoRyxHQUFLLEVBQU0rZ0csR0FBVUUsRUFBT0QsRUFDN0JELEVBQVEvZ0csR0FBSyxFQUFNK2dHLEdBQ2xCL2dHLEdBQUssRUFBTStnRyxHQUFVRSxFQUFPRCxFQVF0QixFQUFHLEVBTlRoaEcsR0FBSyxFQUFNK2dHLEdBQVVFLEVBQU9ELEVBQzVCaGhHLEdBQUssRUFBTStnRyxHQUFVRSxFQUFPRCxFQUM3QkQsRUFBUS9nRyxHQUFLLEVBQU0rZ0csR0FLWixFQUFHLEVBQ2xCLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FHaEIxL0YsS0FBS2kvRixZQUFZaDdELEVBQVFpN0QsZ0JBWTdCVyxTQUFBLFNBQVN0TCxFQUFRMkssR0FFYnQ4RSxJQUFNbGtCLEdBQUs2MUYsR0FBVSxHQUFLLEVBQ3BCLzJGLEdBQUssSUFBT2tCLEVBQUksR0FFaEJ1bEMsRUFBUyxDQUNYdmxDLEVBQUcsRUFBRyxFQUFHLEVBQUdsQixFQUNaLEVBQUdrQixFQUFHLEVBQUcsRUFBR2xCLEVBQ1osRUFBRyxFQUFHa0IsRUFBRyxFQUFHbEIsRUFDWixFQUFHLEVBQUcsRUFBRyxFQUFHLEdBR2hCd0MsS0FBS2kvRixZQUFZaDdELEVBQVFpN0QsZ0JBVzdCWSxTQUFBLFNBQVN2TCxFQUFZMkssa0JBQUgsR0FFZHQ4RSxJQUFNcFksRUFBYyxFQUFUK3BGLEVBQWEsRUFBSyxFQUN2QjlwRixHQUFnQixJQUFWRCxFQUFJLEdBRVZ5NUIsRUFBUyxDQUNYejVCLEVBQUdDLEVBQUdBLEVBQUcsRUFBRyxFQUNaQSxFQUFHRCxFQUFHQyxFQUFHLEVBQUcsRUFDWkEsRUFBR0EsRUFBR0QsRUFBRyxFQUFHLEVBQ1osRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUdoQnhLLEtBQUtpL0YsWUFBWWg3RCxFQUFRaTdELGdCQVM3QmEsV0FBQSxXQUVJLy9GLEtBQUs4L0YsVUFBVSxnQkFTbkJFLFNBQUEsU0FBU2QsR0FTTGwvRixLQUFLaS9GLFlBUFUsRUFDVixFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQ2IsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUNiLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFDYixFQUFHLEVBQUcsRUFBRyxFQUFHLEdBR1NDLGdCQVM3QmUsTUFBQSxTQUFNZixHQVNGbC9GLEtBQUtpL0YsWUFQVSxDQUNYLEtBQU8sU0FBVyxVQUFZLEVBQUcsRUFDakMsS0FBTyxTQUFXLFVBQVksRUFBRyxFQUNqQyxLQUFPLFNBQVcsVUFBWSxFQUFHLEVBQ2pDLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FHU0MsZ0JBUzdCZ0IsWUFBQSxTQUFZaEIsR0FTUmwvRixLQUFLaS9GLFlBUFUsQ0FDWCxvQkFBcUIsbUJBQXFCLG1CQUFxQixFQUFHLG9CQUNqRSxrQkFBb0Isb0JBQXFCLG1CQUFxQixHQUFJLG1CQUNsRSxrQkFBb0Isa0JBQW9CLGtCQUFtQixFQUFHLG1CQUMvRCxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBR1NDLGdCQVM3QmlCLFNBQUEsU0FBU2pCLEdBU0xsL0YsS0FBS2kvRixZQVBVLENBQ1gsT0FBUSxNQUFRLEtBQU8sRUFBRyxHQUN6QixLQUFPLE9BQVEsS0FBTyxFQUFHLEdBQ3pCLE1BQVEsS0FBTyxNQUFPLEVBQUcsRUFDMUIsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUdTQyxnQkFTN0JrQixNQUFBLFNBQU1sQixHQVNGbC9GLEtBQUtpL0YsWUFQVSxDQUNYLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFDWixFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQ1osRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUNaLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FHU0MsZ0JBUzdCbUIsV0FBQSxTQUFXbkIsR0FTUGwvRixLQUFLaS9GLFlBUFUsQ0FDWCxvQkFBcUIsbUJBQXFCLG1CQUFxQixFQUFHLG1CQUNqRSxtQkFBcUIsb0JBQXFCLG1CQUFxQixFQUFHLG9CQUNsRSxvQkFBc0Isa0JBQW9CLG1CQUFvQixFQUFHLGtCQUNsRSxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBR1NDLGdCQVM3Qm9CLE9BQUEsU0FBT3BCLEdBU0hsL0YsS0FBS2kvRixZQVBVLENBQ1gsa0JBQW9CLG9CQUFzQixrQkFBb0IsRUFBRyxtQkFDaEUsb0JBQXNCLGtCQUFvQixtQkFBcUIsR0FBSSxrQkFDcEUsb0JBQXNCLG1CQUFxQixtQkFBcUIsR0FBSSxrQkFDcEUsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUdTQyxnQkFTN0JxQixRQUFBLFNBQVFyQixHQVNKbC9GLEtBQUtpL0YsWUFQVSxDQUNYLGtCQUFvQixtQkFBcUIsbUJBQXFCLEVBQUcsa0JBQ2pFLG1CQUFxQixrQkFBb0IsbUJBQXFCLEVBQUcsa0JBQ2pFLG1CQUFxQixrQkFBb0Isa0JBQW9CLEVBQUcsa0JBQ2hFLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FHU0MsZ0JBYTdCc0IsVUFBQSxTQUFVQyxFQUFjQyxFQUFPQyxFQUFZQyxFQUFXMUIsR0FPbER0OEUsSUFBTWkrRSxJQUhORixFQUFhQSxHQUFjLFdBR0EsR0FBTSxLQUFRLElBQ25DRyxHQUFPSCxHQUFjLEVBQUssS0FBUSxJQUNsQ0ksR0FBbUIsSUFBYkosR0FBcUIsSUFFM0JLLElBTk5KLEVBQVlBLEdBQWEsVUFNQyxHQUFNLEtBQVEsSUFDbENLLEdBQU9MLEdBQWEsRUFBSyxLQUFRLElBQ2pDTSxHQUFrQixJQUFaTixHQUFvQixJQUUxQjM4RCxFQUFTLENBQ1gsR0FBSyxJQUFNLElBQU0sRUFBRyxFQUNwQjQ4RCxFQUFJQyxFQUFJQyxFQWZaTixFQUFlQSxHQUFnQixHQWVELEVBQzFCTyxFQUFJQyxFQUFJQyxFQWZaUixFQUFRQSxHQUFTLElBZU0sRUFDbkJHLEVBQUtHLEVBQUlGLEVBQUtHLEVBQUlGLEVBQUtHLEVBQUksRUFBRyxHQUdsQ2xoRyxLQUFLaS9GLFlBQVloN0QsRUFBUWk3RCxnQkFVN0JpQyxNQUFBLFNBQU1DLEVBQVdsQyxHQUdidDhFLElBQU1xaEIsRUFBUyxFQUNHLEdBRmxCbTlELEVBQVlBLEdBQWEsS0FFQUEsRUFBVyxFQUFHLEVBQUcsR0FDckNBLEVBQVcsRUFBR0EsRUFBVyxFQUFHLEVBQzdCLEVBQUdBLEVBQXVCLEVBQVpBLEVBQWlCLEVBQUcsRUFDbEMsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUdoQnBoRyxLQUFLaS9GLFlBQVloN0QsRUFBUWk3RCxnQkFZN0JtQyxTQUFBLFNBQVM5TSxFQUFRMkssR0FFYnQ4RSxJQUFNcWhCLEVBQVMsQ0FFWCxtQkFBcUJzd0QsR0FDcEIsa0JBQW9CQSxHQUNwQixtQkFBcUJBLEVBQ3RCLEVBQUlBLEVBQ0osbUJBQXNCQSxHQUVyQixtQkFBcUJBLEVBQ3RCLGtCQUFvQkEsR0FDbkIsa0JBQW9CQSxFQUNyQixFQUFJQSxHQUNILGtCQUFvQkEsR0FFcEIsbUJBQXFCQSxHQUNyQixtQkFBcUJBLEVBQ3RCLGtCQUFvQkEsRUFDcEIsRUFBSUEsRUFDSixrQkFBcUJBLEVBRXJCLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FHaEJ2MEYsS0FBS2kvRixZQUFZaDdELEVBQVFpN0QsZ0JBVzdCb0MsSUFBQSxTQUFJcEMsR0FTQWwvRixLQUFLaS9GLFlBUFUsQ0FDWCxHQUFJLEdBQUssR0FBSyxFQUFHLEdBQ2hCLEdBQUssR0FBSSxHQUFLLEVBQUcsR0FDakIsSUFBTSxHQUFLLEVBQUcsRUFBRyxFQUNsQixFQUFHLEVBQUcsRUFBRyxFQUFHLEdBR1NDLGdCQU83QjV3RSxNQUFBLFdBU0l0dUIsS0FBS2kvRixZQVBVLENBQ1gsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUNaLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFDWixFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQ1osRUFBRyxFQUFHLEVBQUcsRUFBRyxJQUdTLElBUzdCOTFELEVBQUlsRixPQUFBaHZDLElBQUEsV0FFQSxPQUFPK0ssS0FBS2lwRCxTQUFTNXJELEdBR3pCOHJDLEVBQUlsRixPQUFBL3VDLElBQUEsU0FBT0MsR0FFUDZLLEtBQUtpcEQsU0FBUzVyRCxFQUFJbEksR0FhdEJnMEMsRUFBSXBMLE1BQUE5b0MsSUFBQSxXQUVBLE9BQU8rSyxLQUFLaXBELFNBQVNxekMsUUFHekJuekQsRUFBSXBMLE1BQUE3b0MsSUFBQSxTQUFNQyxHQUVONkssS0FBS2lwRCxTQUFTcXpDLE9BQVNubkcsNENBNWpCTyxDQUFTdW1FLElBaWtCL0NtakMsR0FBa0I3ckcsVUFBVXV1RyxVQUFZMUMsR0FBa0I3ckcsVUFBVXVzRzs7Ozs7Ozs7K3JDQzVqQi9DaUMsR0FBa0IsU0FBQTVsQyxHQU1uQyxTQUFBNmxDLEVBQVloMkMsRUFBUWhvQixHQUVoQjdnQixJQUFNbTZDLEVBQWEsSUFBSWg2QixHQUV2QjBvQixFQUFPaGUsWUFBYSxFQUVwQkgsT0FBS3R0QyxLQUFDMGhHLEdBQVFDLEdBQVUsQ0FDcEJDLFdBQVluMkMsRUFBT0MsU0FDbkJtMkMsYUFBYzlrQyxFQUNkdDVCLE1BQU8sQ0FBRWo1QixFQUFHLEVBQUdDLEVBQUcsR0FDbEIrNUIsU0FBVSxJQUFJNWdCLGFBQWEsQ0FBQyxFQUFHLEVBQUcsRUFBRyxNQUd6QzVqQixLQUFLazlELFdBQWF6UixFQUNsQnpyRCxLQUFLKzhELFdBQWFBLEVBRWR0NUIsVUFFQUEsRUFBUSxJQU9aempDLEtBQUt5akMsTUFBUSxJQUFJOUIsR0FBTThCLEVBQU9BLDJJQVdsQ3JzQyxNQUFBLFNBQU0wa0UsRUFBZWp4QyxFQUFPVixFQUFRa1csR0FHaENyZ0MsS0FBS2lwRCxTQUFTNDRDLGFBQWUvbEMsRUFBY3ZRLHNCQUFzQnZyRCxLQUFLKzhELFdBQVkvOEQsS0FBS2s5RCxZQUN2Rmw5RCxLQUFLaXBELFNBQVN4bEIsTUFBTWo1QixFQUFJeEssS0FBS3lqQyxNQUFNajVCLEVBQ25DeEssS0FBS2lwRCxTQUFTeGxCLE1BQU1oNUIsRUFBSXpLLEtBQUt5akMsTUFBTWg1QixFQUduQ21ZLElBQU1xbUIsRUFBS2pwQyxLQUFLazlELFdBQVczdEMsVUFBVXVZLGVBQy9CZzZELEVBQU9sMkYsS0FBS2s1QixLQUFNbUUsRUFBRy90QyxFQUFJK3RDLEVBQUcvdEMsRUFBTSt0QyxFQUFHOXRDLEVBQUk4dEMsRUFBRzl0QyxHQUM1QzRtRyxFQUFPbjJGLEtBQUtrNUIsS0FBTW1FLEVBQUcvdkMsRUFBSSt2QyxFQUFHL3ZDLEVBQU0rdkMsRUFBRzNyQyxFQUFJMnJDLEVBQUczckMsR0FFckMsSUFBVHdrRyxHQUF1QixJQUFUQyxJQUVkL2hHLEtBQUtpcEQsU0FBU3prQixTQUFTLEdBQUt5RSxFQUFHL3RDLEVBQUk0bUcsRUFDbkM5aEcsS0FBS2lwRCxTQUFTemtCLFNBQVMsR0FBS3lFLEVBQUc5dEMsRUFBSTJtRyxFQUNuQzloRyxLQUFLaXBELFNBQVN6a0IsU0FBUyxHQUFLeUUsRUFBRy92QyxFQUFJNm9HLEVBQ25DL2hHLEtBQUtpcEQsU0FBU3prQixTQUFTLEdBQUt5RSxFQUFHM3JDLEVBQUl5a0csR0FJdkNqbUMsRUFBYzdRLFlBQVlqckQsS0FBTTZxQixFQUFPVixFQUFRa1csSUFRbkQ4SSxFQUFJMXVDLElBQUF4RixJQUFBLFdBRUEsT0FBTytLLEtBQUtpcEQsU0FBUzI0QyxZQUd6Qno0RCxFQUFJMXVDLElBQUF2RixJQUFBLFNBQUlDLEdBRUo2SyxLQUFLaXBELFNBQVMyNEMsV0FBYXpzRyw0Q0E5RUksQ0FBU3VtRSxrOEtDUjNCc21DLEdBQVUsU0FBQXBtQyxHQUUzQixTQUFBb21DLElBR0kxMEQsT0FBS3R0QyxLQUFDaWlHLEdBQVFDLG9HQUxTLENBQVN4bUMsNHVCQ0FuQnltQyxHQUFXLFNBQUF2bUMsR0FNNUIsU0FBQXdtQyxFQUFZQyxFQUFhQyxrQkFBTCxtQkFBWTEyRixLQUFLNmEsVUFFakM2bUIsT0FBS3R0QyxLQUFDKytGLEdBQXFCd0QsR0FBVSxDQUNqQ0MsT0FBUSxFQUNSQyxNQUFPLElBR1h6aUcsS0FBS3FpRyxNQUFRQSxFQUNicmlHLEtBQUtzaUcsS0FBT0EsdUpBU2hCbjVELEVBQUlrNUQsTUFBQXB0RyxJQUFBLFdBRUEsT0FBTytLLEtBQUtpcEQsU0FBU3U1QyxRQUd6QnI1RCxFQUFJazVELE1BQUFudEcsSUFBQSxTQUFNQyxHQUVONkssS0FBS2lwRCxTQUFTdTVDLE9BQVNydEcsR0FRM0JnMEMsRUFBSW01RCxLQUFBcnRHLElBQUEsV0FFQSxPQUFPK0ssS0FBS2lwRCxTQUFTdzVDLE9BR3pCdDVELEVBQUltNUQsS0FBQXB0RyxJQUFBLFNBQUtDLEdBRUw2SyxLQUFLaXBELFNBQVN3NUMsTUFBUXR0Ryw0Q0E3Q0UsQ0FBU3VtRSxJL0xSbkNnbkMsR0FBYyxJQUFJMy9ELEdBRXhCcUssR0FBY3A2QyxVQUFVMnZHLGdCQUFpQixFQUN6Q3YxRCxHQUFjcDZDLFVBQVU0dkcsWUFBYSxFQVNyQyxJQUFNQyxHQUVGLFdBRUk3aUcsS0FBSzhpRyxlQUFpQixLQUV0QjlpRyxLQUFLK2lHLGVBQWlCLEtBQ3RCL2lHLEtBQUtnakcscUJBQXVCLEtBQzVCaGpHLEtBQUtpakcsd0JBQTBCLEtBQy9CampHLEtBQUtrakcsdUJBQXlCLEtBRTlCbGpHLEtBQUttakcsd0JBQTBCLEtBQy9CbmpHLEtBQUtvakcsZ0JBQWtCLEtBQ3ZCcGpHLEtBQUtxakcsZ0JBQWtCLEtBQ3ZCcmpHLEtBQUtzakcsYUFBZSxLQUNwQnRqRyxLQUFLdWpHLG1CQUFxQixLQUMxQnZqRyxLQUFLeXJELE9BQVMsTUFJdEIxNEQsT0FBTzhkLGlCQUFpQnU4QixHQUFjcDZDLFVBQVcsQ0FhN0N3d0csY0FBZSxDQUNYdnVHLElBQUEsV0FFSSxPQUFPK0ssS0FBSzJpRyxnQkFFaEJ6dEcsSUFBQSxTQUFJQyxHQVNBMnRCLElBQUluckIsRUFQQXFJLEtBQUsyaUcsaUJBQW1CeHRHLElBSzVCNkssS0FBSzJpRyxlQUFpQnh0RyxFQUlsQkEsR0FFSzZLLEtBQUs0aUcsYUFFTjVpRyxLQUFLNGlHLFdBQWEsSUFBSUMsS0FHMUJsckcsRUFBT3FJLEtBQUs0aUcsWUFFUEcsZUFBaUIvaUcsS0FBS3F2QyxPQUMzQjEzQyxFQUFLcXJHLHFCQUF1QmhqRyxLQUFLeWpHLGFBRWpDOXJHLEVBQUt3ckcsd0JBQTBCbmpHLEtBQUs4b0MsZ0JBQ3BDbnhDLEVBQUtzckcsd0JBQTBCampHLEtBQUs4dUMsZ0JBQ3BDbjNDLEVBQUt1ckcsdUJBQXlCbGpHLEtBQUsrdUMsZUFFbkNwM0MsRUFBSzByRyxnQkFBa0JyakcsS0FBS3cvQixRQUU1QjduQyxFQUFLK3JHLHNCQUF3QjFqRyxLQUFLNnlFLGNBRWxDbDdFLEVBQUsyckcsYUFBZXRqRyxLQUFLcXVDLE1BQ3pCMTJDLEVBQUs0ckcsbUJBQXFCdmpHLEtBQUs2dEMsV0FFL0I3dEMsS0FBS3F2QyxPQUFTcnZDLEtBQUsyakcsY0FDbkIzakcsS0FBS3lqRyxhQUFlempHLEtBQUs0akcsb0JBRXpCNWpHLEtBQUt3L0IsUUFBVXgvQixLQUFLNmpHLHlCQUlwQmxzRyxFQUFPcUksS0FBSzRpRyxZQUVIbjNDLFFBRUx6ckQsS0FBSzhqRyw4QkFHVDlqRyxLQUFLcXZDLE9BQVMxM0MsRUFBS29yRyxlQUNuQi9pRyxLQUFLeWpHLGFBQWU5ckcsRUFBS3FyRyxxQkFDekJoakcsS0FBSzh1QyxnQkFBa0JuM0MsRUFBS3NyRyx3QkFDNUJqakcsS0FBSyt1QyxlQUFpQnAzQyxFQUFLdXJHLHVCQUUzQmxqRyxLQUFLdy9CLFFBQVU3bkMsRUFBSzByRyxnQkFFcEJyakcsS0FBSzhvQyxnQkFBa0JueEMsRUFBS3dyRyx3QkFDNUJuakcsS0FBSzZ5RSxjQUFnQmw3RSxFQUFLK3JHLHNCQUUxQjFqRyxLQUFLcXVDLE1BQVExMkMsRUFBSzJyRyxhQUNsQnRqRyxLQUFLNnRDLFdBQWFsMkMsRUFBSzRyRyx5QkFjdkNuMkQsR0FBY3A2QyxVQUFVMndHLGNBQWdCLFNBQXVCcjBELElBRXREdHZDLEtBQUt3dEMsU0FBV3h0QyxLQUFLMHRDLFlBQWMsSUFBTTF0QyxLQUFLeXRDLGFBS25EenRDLEtBQUsrakcseUJBQXlCejBELEdBRTlCdHZDLEtBQUs0aUcsV0FBV24zQyxPQUFPbDhCLFVBQVVtWixTQUFXMW9DLEtBQUt1dkIsVUFBVW1aLFNBQzNEMW9DLEtBQUs0aUcsV0FBV24zQyxPQUFPL2QsV0FBYTF0QyxLQUFLMHRDLFdBQ3pDMXRDLEtBQUs0aUcsV0FBV24zQyxPQUFPOVosUUFBUXJDLEtBV25DbEMsR0FBY3A2QyxVQUFVK3dHLHlCQUEyQixTQUFrQ3owRCxHQUVqRixJQUFJdHZDLEtBQUs0aUcsYUFBYzVpRyxLQUFLNGlHLFdBQVduM0MsT0FBdkMsQ0FNQTdvQyxJQUFNb2hGLEVBQWFoa0csS0FBSys5QixNQUV4Qi85QixLQUFLKzlCLE1BQVEsRUFHYnVSLEVBQVNzQyxNQUFNQyxRQU9manZCLElBQU1ncUIsRUFBUzVzQyxLQUFLK3VDLGlCQUFpQm5OLFFBR3JDLEdBQUk1aEMsS0FBSzh0QyxRQUNULENBQ0lsckIsSUFBTThuQyxFQUFVMXFELEtBQUs4dEMsUUFBUSxHQUFHNGMsUUFFaEM5ZCxFQUFPbkQsSUFBSWloQixHQUdmOWQsRUFBTzNDLEtBQUs1VixFQUFTRSxZQUlyQjNSLElBQU1xaEYsRUFBcUIzMEQsRUFBU3l1QixvQkFLOUIxVSxFQUFnQnJFLEdBQWNsbkQsT0FBTzh1QyxFQUFPcFgsTUFBT29YLEVBQU9uWCxRQUUxRHF0RSxFQUFpQixpQkFBaUI5akUsSUFFeENoL0IsS0FBSzRpRyxXQUFXRSxlQUFpQkEsRUFFakNobkQsR0FBWXFCLFdBQVdrTSxFQUFjcFEsWUFBYTZwRCxHQUNsRDEvQyxHQUFRakcsV0FBV2tNLEVBQWV5NUMsR0FHbENsZ0YsSUFBTXZsQixFQUFJcWxHLEdBRVZybEcsRUFBRTJsQyxJQUFNNEosRUFBT3BpQyxFQUNmbk4sRUFBRTRsQyxJQUFNMkosRUFBT25pQyxFQUdmekssS0FBS3V2QixVQUFVdVksZUFBZTdDLFdBRzlCamxDLEtBQUtxdkMsT0FBU3J2QyxLQUFLNGlHLFdBQVdHLGVBRTlCenpELEVBQVNELE9BQU9ydkMsS0FBTXFwRCxHQUFlLEVBQU1oc0QsR0FBRyxHQUc5Q2l5QyxFQUFTK1osY0FBY3JyRCxLQUFLaW1HLEdBSTVCamtHLEtBQUtxdkMsT0FBU3J2QyxLQUFLMmpHLGNBRW5CM2pHLEtBQUs4b0MsZ0JBQWtCOW9DLEtBQUttdkMsNkJBQzVCbnZDLEtBQUs4dUMsZ0JBQWtCOXVDLEtBQUtra0csdUJBQzVCbGtHLEtBQUsrdUMsZUFBaUIvdUMsS0FBS21rRyxzQkFFM0Jua0csS0FBS3F1QyxNQUFRLEtBQ2JydUMsS0FBSzZ0QyxXQUFhLEtBR2xCanJCLElBQU13aEYsRUFBZSxJQUFJMWhCLEdBQU9yNUIsR0FFaEMrNkMsRUFBYTcwRSxVQUFVdVksZUFBaUI5bkMsS0FBS3V2QixVQUFVdVksZUFDdkRzOEQsRUFBYTlnRCxPQUFPOTRDLEdBQU1vaUMsRUFBT3BpQyxFQUFJb2lDLEVBQU9wWCxNQUM1QzR1RSxFQUFhOWdELE9BQU83NEMsR0FBTW1pQyxFQUFPbmlDLEVBQUltaUMsRUFBT25YLE9BQzVDMnVFLEVBQWFybUUsTUFBUWltRSxFQUNyQkksRUFBYXAyRCxRQUFVaHVDLEtBQUtndUMsUUFFNUJodUMsS0FBSzRpRyxXQUFXbjNDLE9BQVMyNEMsRUFFekJwa0csS0FBS3V2QixVQUFVb1osV0FBYSxFQUV2QjNvQyxLQUFLakYsT0FRTmlGLEtBQUs4b0MsbUJBTkw5b0MsS0FBS2pGLE9BQVN1MEMsRUFBU1gseUJBQ3ZCM3VDLEtBQUs4b0Msa0JBQ0w5b0MsS0FBS2pGLE9BQVMsTUFRbEJpRixLQUFLNnlFLGNBQWdCdXhCLEVBQWF2eEIsY0FBYzcwRSxLQUFLb21HLEtBV3pEaDNELEdBQWNwNkMsVUFBVTR3RyxvQkFBc0IsU0FBNkJ0MEQsSUFFbEV0dkMsS0FBS3d0QyxTQUFXeHRDLEtBQUswdEMsWUFBYyxJQUFNMXRDLEtBQUt5dEMsYUFLbkR6dEMsS0FBS3FrRywrQkFBK0IvMEQsR0FFcEN0dkMsS0FBSzRpRyxXQUFXbjNDLE9BQU8vZCxXQUFhMXRDLEtBQUswdEMsV0FDekMxdEMsS0FBSzRpRyxXQUFXbjNDLE9BQU8waEMsY0FBYzc5QyxLQVl6Q2xDLEdBQWNwNkMsVUFBVXF4RywrQkFBaUMsU0FBd0MvMEQsR0FFN0YsSUFBSXR2QyxLQUFLNGlHLGFBQWM1aUcsS0FBSzRpRyxXQUFXbjNDLE9BQXZDLENBTUE3b0MsSUFBTWdxQixFQUFTNXNDLEtBQUsrdUMsaUJBRWRpMUQsRUFBYWhrRyxLQUFLKzlCLE1BRXhCLzlCLEtBQUsrOUIsTUFBUSxFQUVibmIsSUFBTXFoRixFQUFxQjMwRCxFQUFTeG5DLFFBRXBDOGtDLEVBQU8zQyxLQUFLNVYsRUFBU0UsWUFFckIzUixJQUFNeW1DLEVBQWdCckUsR0FBY2xuRCxPQUFPOHVDLEVBQU9wWCxNQUFPb1gsRUFBT25YLFFBRTFEcXRFLEVBQWlCLGlCQUFpQjlqRSxJQUV4Q2gvQixLQUFLNGlHLFdBQVdFLGVBQWlCQSxFQUVqQ2huRCxHQUFZcUIsV0FBV2tNLEVBQWNwUSxZQUFhNnBELEdBQ2xEMS9DLEdBQVFqRyxXQUFXa00sRUFBZXk1QyxHQUdsQ2xnRixJQUFNdmxCLEVBQUlxbEcsR0FFVjFpRyxLQUFLdXZCLFVBQVV3WSxlQUFlakcsT0FBT3prQyxHQUNyQ0EsRUFBRTJuQyxTQUVGM25DLEVBQUUybEMsSUFBTTRKLEVBQU9waUMsRUFDZm5OLEVBQUU0bEMsSUFBTTJKLEVBQU9uaUMsRUFJZnpLLEtBQUt5akcsYUFBZXpqRyxLQUFLNGlHLFdBQVdJLHFCQUdwQzF6RCxFQUFTRCxPQUFPcnZDLEtBQU1xcEQsR0FBZSxFQUFNaHNELEdBQUcsR0FHOUNpeUMsRUFBU3huQyxRQUFVbThGLEVBRW5CamtHLEtBQUt5akcsYUFBZXpqRyxLQUFLNGpHLG9CQUV6QjVqRyxLQUFLOG9DLGdCQUFrQjlvQyxLQUFLbXZDLDZCQUM1Qm52QyxLQUFLOHVDLGdCQUFrQjl1QyxLQUFLa2tHLHVCQUM1QmxrRyxLQUFLK3VDLGVBQWlCL3VDLEtBQUtta0csc0JBRTNCbmtHLEtBQUtxdUMsTUFBUSxLQUNicnVDLEtBQUs2dEMsV0FBYSxLQUdsQmpyQixJQUFNd2hGLEVBQWUsSUFBSTFoQixHQUFPcjVCLEdBRWhDKzZDLEVBQWE3MEUsVUFBVXVZLGVBQWlCOW5DLEtBQUt1dkIsVUFBVXVZLGVBQ3ZEczhELEVBQWE5Z0QsT0FBTzk0QyxHQUFNb2lDLEVBQU9waUMsRUFBSW9pQyxFQUFPcFgsTUFDNUM0dUUsRUFBYTlnRCxPQUFPNzRDLEdBQU1taUMsRUFBT25pQyxFQUFJbWlDLEVBQU9uWCxPQUM1QzJ1RSxFQUFhcm1FLE1BQVFpbUUsRUFDckJJLEVBQWFwMkQsUUFBVWh1QyxLQUFLZ3VDLFFBRTVCaHVDLEtBQUs0aUcsV0FBV24zQyxPQUFTMjRDLEVBRXpCcGtHLEtBQUt1dkIsVUFBVW9aLFdBQWEsRUFFdkIzb0MsS0FBS2pGLE9BUU5pRixLQUFLOG9DLG1CQU5MOW9DLEtBQUtqRixPQUFTdTBDLEVBQVNYLHlCQUN2QjN1QyxLQUFLOG9DLGtCQUNMOW9DLEtBQUtqRixPQUFTLE1BUWxCaUYsS0FBSzZ5RSxjQUFnQnV4QixFQUFhdnhCLGNBQWM3MEUsS0FBS29tRyxLQVF6RGgzRCxHQUFjcDZDLFVBQVVreEcsdUJBQXlCLFdBRTdDbGtHLEtBQUtndUMsUUFBUTNOLFFBQ2JyZ0MsS0FBSzRpRyxXQUFXbjNDLE9BQU9sOEIsVUFBVW1aLFNBQVcxb0MsS0FBS3V2QixVQUFVbVosU0FDM0Qxb0MsS0FBSzRpRyxXQUFXbjNDLE9BQU9oYSxtQkFDdkJ6eEMsS0FBS2t1QyxjQUFnQmx1QyxLQUFLaXVDLFdBUzlCYixHQUFjcDZDLFVBQVVteEcsc0JBQXdCLFdBRTVDLE9BQU9ua0csS0FBSzRpRyxXQUFXbjNDLE9BQU8xYyxrQkFRbEMzQixHQUFjcDZDLFVBQVU4d0csNEJBQThCLFdBRWxEOWpHLEtBQUs0aUcsV0FBV24zQyxPQUFPQyxTQUFTbHNCLFNBQVEsR0FDeEN4L0IsS0FBSzRpRyxXQUFXbjNDLE9BQVMsS0FFekIzUCxHQUFZbUIsZ0JBQWdCajlDLEtBQUs0aUcsV0FBV0UsZ0JBQzVDMS9DLEdBQVFuRyxnQkFBZ0JqOUMsS0FBSzRpRyxXQUFXRSxnQkFFeEM5aUcsS0FBSzRpRyxXQUFXRSxlQUFpQixNQVdyQzExRCxHQUFjcDZDLFVBQVU2d0csc0JBQXdCLFNBQStCN3BHLEdBRTNFZ0csS0FBS3dqRyxlQUFnQixFQUNyQnhqRyxLQUFLdy9CLFFBQVF4bEM7Ozs7Ozs7O0FBNVpqQm96QyxHQUFjcDZDLFVBQVU4QixLQUFPLEtBVS9CcTdDLEdBQVVuOUMsVUFBVXN4RyxlQUFpQixTQUF3Qnh2RyxHQUV6RCxJQUFLZ3VCLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJc0osS0FBS3RMLFNBQVNpQyxPQUFRRCxJQUV0QyxHQUFJc0osS0FBS3RMLFNBQVNnQyxHQUFHNUIsT0FBU0EsRUFFMUIsT0FBT2tMLEtBQUt0TCxTQUFTZ0MsR0FJN0IsT0FBTzs7Ozs7Ozs7QUFkWDAyQyxHQUFjcDZDLFVBQVV1eEcsa0JBQW9CLFNBQTJCeDRELEVBQXFCOEMsR0FZeEYsc0JBWjJFLElBQUlsTixvQkFBc0IsR0FFakczaEMsS0FBS2pGLE9BRUxpRixLQUFLakYsT0FBT20wQyxTQUFTbHZDLEtBQUsra0MsU0FBVWdILEVBQU84QyxJQUkzQzlDLEVBQU12aEMsRUFBSXhLLEtBQUsra0MsU0FBU3Y2QixFQUN4QnVoQyxFQUFNdGhDLEVBQUl6SyxLQUFLK2tDLFNBQVN0NkIsR0FHckJzaEM7Ozs7Ozs7O0FnTXBCSSxJQUFNeTRELEdBTWpCLFNBQVk1N0MsRUFBVWpGLEdBTWxCM2pELEtBQUs0b0QsU0FBV0EsRUFNaEI1b0QsS0FBSzJqRCxTQUFXQSxFQU9oQjNqRCxLQUFLckksS0FBTyxLQUVacUksS0FBS3lrRyxpQkFBbUIsRUFFeEJ6a0csS0FBSzBrRyxrQkFBb0IsRUFFekIxa0csS0FBSzhqRCxVQUFZLEdBUXpCMGdELEdBQUF4eEcsVUFBSThGLE9BQUEsU0FBTzRqRSxHQUVQLEdBQVNBLEdBQ0UxOEQsS0FBS3lrRyxrQkFBb0J6a0csS0FBSzRvRCxTQUFTOUUsV0FDdkM5akQsS0FBSzBrRyxtQkFBcUIxa0csS0FBSzJqRCxTQUFTRyxVQUZuRCxDQU9BOWpELEtBQVN5a0csZ0JBQWtCemtHLEtBQUs0b0QsU0FBUzlFLFVBQ3pDOWpELEtBQVMwa0csaUJBQW1CMWtHLEtBQUsyakQsU0FBU0csVUFFMUMsSUFBVW5zRCxFQUFPcUksS0FBSzRvRCxTQUFTanhELEtBRXRCcUksS0FBS3JJLE1BQVFxSSxLQUFLckksS0FBS2hCLFNBQVdnQixFQUFLaEIsU0FFNUNxSixLQUFTckksS0FBTyxJQUFJaXNCLGFBQWFqc0IsRUFBS2hCLFNBR3RDcUosS0FBSzJqRCxTQUFTOFksWUFBWTlrRSxFQUFNcUksS0FBS3JJLE1BRXJDcUksS0FBSzhqRCxjQzNEYmxoQyxJQUFNK2hGLEdBQVksSUFBSWhqRSxHQUNoQmlqRSxHQUFjLElBQUkvNUQsR0FvQkhnNkQsR0FBSSxTQUFBejBELEdBU3JCLFNBQUEwMEQsRUFBWWo5QyxFQUFVd0QsRUFBUVosRUFBT2t4QixrQkFBV2pqRCxFQUFXSyxXQUV2RHVVLE9BQUt0dEMsTUFTTEEsS0FBSzZuRCxTQUFXQSxFQUVoQkEsRUFBU2hCLFdBT1Q3bUQsS0FBS3FyRCxPQUFTQSxFQU9kcnJELEtBQUt5cUQsTUFBUUEsR0FBU3dRLEdBQU1RLFFBUTVCejdELEtBQUsyN0UsU0FBV0EsRUFPaEIzN0UsS0FBS2tMLE1BQVEsRUFPYmxMLEtBQUt3K0IsS0FBTyxFQU9aeCtCLEtBQUswb0QsSUFBTSxLQU9YMW9ELEtBQUswK0IsUUFBVSxLQU9mMStCLEtBQUtxc0MsV0FBYSxJQUFJem9CLGFBQWEsR0FRbkM1akIsS0FBSytrRyxZQUFjLEVBRW5CL2tHLEtBQUtpZ0YsY0FBZ0IsRUFHckJqZ0YsS0FBS2srQixLQUFPLFNBQ1psK0IsS0FBSzQ5QixVQUFZakgsRUFBWUMsT0FRN0I1MkIsS0FBS21qRixhQUFlOXVELEVBQVMrQixhQU83QnAyQixLQUFLZ2xHLFNBQVcsNlNBUXBCNzdELEVBQUl5ZixTQUFBM3pELElBQUEsV0FFQSxPQUFPK0ssS0FBSzZuRCxTQUFTdkIsUUFBUSxJQVNqQ25kLEVBQUk4N0QsZUFBQWh3RyxJQUFBLFdBRUEsT0FBTytLLEtBQUs2bkQsU0FBU3ZCLFFBQVEsSUFPakNuZCxFQUFJKzdELFNBQUFod0csSUFBQSxTQUFTQyxHQUVUNkssS0FBS3FyRCxPQUFTbDJELEdBR2xCZzBDLEVBQUkrN0QsU0FBQWp3RyxJQUFBLFdBRUEsT0FBTytLLEtBQUtxckQsUUFXaEJsaUIsRUFBSXZMLFVBQUExb0MsSUFBQSxTQUFVQyxHQUVWNkssS0FBS3lxRCxNQUFNN3NCLFVBQVl6b0MsR0FHM0JnMEMsRUFBSXZMLFVBQUEzb0MsSUFBQSxXQUVBLE9BQU8rSyxLQUFLeXFELE1BQU03c0IsV0FZdEJ1TCxFQUFJZytCLFlBQUFqeUUsSUFBQSxTQUFZQyxHQUVSNkssS0FBS21qRixlQUFpQmh1RixJQUV0QjZLLEtBQUtpZ0YsY0FBZ0IsR0FFekJqZ0YsS0FBS21qRixhQUFlaHVGLEdBR3hCZzBDLEVBQUlnK0IsWUFBQWx5RSxJQUFBLFdBRUEsT0FBTytLLEtBQUttakYsY0FVaEJoNkMsRUFBSWpMLEtBQUFqcEMsSUFBQSxXQUVBLE9BQU8rSyxLQUFLcXJELE9BQU9udEIsTUFHdkJpTCxFQUFJakwsS0FBQWhwQyxJQUFBLFNBQUtDLEdBRUw2SyxLQUFLcXJELE9BQU9udEIsS0FBTy9vQyxHQVF2QmcwQyxFQUFJMFUsUUFBQTVvRCxJQUFBLFdBRUEsT0FBTytLLEtBQUtxckQsT0FBT3hOLFNBR3ZCMVUsRUFBSTBVLFFBQUEzb0QsSUFBQSxTQUFRQyxHQUVSNkssS0FBS3FyRCxPQUFPeE4sUUFBVTFvRCxlQU8xQnc4QyxRQUFBLFNBQVFyQyxHQUlKMXNCLElBQU1wUyxFQUFXeFEsS0FBSzZuRCxTQUFTdkIsUUFBUSxHQUFHM3VELEtBR3RDcUksS0FBS3FyRCxPQUFPc3ZCLFdBQWEzNkUsS0FBSzI3RSxXQUFhampELEVBQVdLLFdBQWF2b0IsRUFBUzdaLE9BQStCLEVBQXRCbXVHLEVBQUtwcEIsZUFFMUYxN0UsS0FBS21sRyxlQUFlNzFELEdBSXBCdHZDLEtBQUtvbEcsZUFBZTkxRCxnQkFTNUI4MUQsZUFBQSxTQUFlOTFELEdBRVgxc0IsSUFBTXlvQyxFQUFTcnJELEtBQUtxckQsT0FFcEJBLEVBQU90dEIsTUFBUS85QixLQUFLMHRDLFdBQ2hCMmQsRUFBT3Z5RCxRQUVQdXlELEVBQU92eUQsU0FHWHcyQyxFQUFTc0MsTUFBTUMsUUFFWHdaLEVBQU95RyxRQUFRb0ksWUFBWTBQLG9CQUUzQnZlLEVBQU9wQyxTQUFTMmdCLGtCQUFvQjVwRSxLQUFLdXZCLFVBQVV1WSxlQUFlM0UsU0FBUSxJQUk5RW1NLEVBQVMrYixPQUFPcnRELEtBQUtxdEQsR0FHckIvYixFQUFTbWIsTUFBTVcsU0FBU3ByRCxLQUFLeXFELE9BRzdCbmIsRUFBU3VZLFNBQVM3cEQsS0FBS2dDLEtBQUs2bkQsU0FBVXdELEdBR3RDL2IsRUFBU3VZLFNBQVN5RCxLQUFLdHJELEtBQUsyN0UsU0FBVTM3RSxLQUFLdytCLEtBQU14K0IsS0FBS2tMLE1BQU9sTCxLQUFLNm5ELFNBQVNsQiw0QkFRL0V3K0MsZUFBQSxTQUFlNzFELEdBRVgxc0IsSUFBTWlsQyxFQUFXN25ELEtBQUs2bkQsU0FFbEI3bkQsS0FBS3FyRCxPQUFPMUgsV0FFWjNqRCxLQUFLcXJELE9BQU8xSCxTQUFTN3FELFNBQ3JCa0gsS0FBS3FsRyxnQkFJVHJsRyxLQUFLNmhGLG9CQUNMN2hGLEtBQUswK0IsUUFBVW1wQixFQUFTckIsWUFBWTd1RCxLQUNwQ3FJLEtBQUtpc0UsU0FBV2pzRSxLQUFLcXJELE9BQU80Z0IsU0FDNUJqc0UsS0FBSzByRCxTQUFXMXJELEtBQUtxckQsT0FBT3hOLFFBRTVCajdCLElBQU04bEQsRUFBYTFvRSxLQUFLa2xHLFNBQVN4OEIsV0FFakNwNUIsRUFBU3NDLE1BQU00YSxrQkFBa0JsZCxFQUFTeUYsUUFBUTJ6QixJQUNsRHA1QixFQUFTeUYsUUFBUTJ6QixHQUFZcjVCLE9BQU9ydkMsbUJBTXhDNmhGLGtCQUFBLFdBRUlqL0QsSUFBTWlsQyxFQUFXN25ELEtBQUs2bkQsU0FDaEJyM0MsRUFBV3EzQyxFQUFTdkIsUUFBUSxHQUFHM3VELEtBRXJDLEdBQUlrd0QsRUFBU3k5QyxnQkFBa0J0bEcsS0FBSytrRyxhQUFlL2tHLEtBQUtpZ0YsZUFBaUJqZ0YsS0FBS3V2QixVQUFVbVosU0FBeEYsQ0FLQTFvQyxLQUFLaWdGLGFBQWVqZ0YsS0FBS3V2QixVQUFVbVosU0FFL0Ixb0MsS0FBS3FzQyxXQUFXMTFDLFNBQVc2WixFQUFTN1osU0FFcENxSixLQUFLcXNDLFdBQWEsSUFBSXpvQixhQUFhcFQsRUFBUzdaLFNBYWhELElBVkFpc0IsSUFBTXFtQixFQUFLanBDLEtBQUt1dkIsVUFBVXVZLGVBQ3BCNXNDLEVBQUkrdEMsRUFBRy90QyxFQUNQQyxFQUFJOHRDLEVBQUc5dEMsRUFDUGpDLEVBQUkrdkMsRUFBRy92QyxFQUNQb0UsRUFBSTJyQyxFQUFHM3JDLEVBQ1AwbEMsRUFBS2lHLEVBQUdqRyxHQUNSQyxFQUFLZ0csRUFBR2hHLEdBRVJvSixFQUFhcnNDLEtBQUtxc0MsV0FFZjMxQyxFQUFJLEVBQUdBLEVBQUkyMUMsRUFBVzExQyxPQUFTLEVBQUdELElBQzNDLENBQ0lrc0IsSUFBTXBZLEVBQUlnRyxFQUFjLEVBQUo5WixHQUNkK1QsRUFBSStGLEVBQWMsRUFBSjlaLEVBQVMsR0FFN0IyMUMsRUFBZ0IsRUFBSjMxQyxHQUFXd0UsRUFBSXNQLEVBQU10UixFQUFJdVIsRUFBS3U0QixFQUMxQ3FKLEVBQWdCLEVBQUozMUMsRUFBUyxHQUFNeUUsRUFBSXFQLEVBQU1sTixFQUFJbU4sRUFBS3c0QixFQUdsRCxHQUFJampDLEtBQUttakYsYUFFTCxJQUFLcmdFLElBQUlwc0IsRUFBSSxFQUFHQSxFQUFJMjFDLEVBQVcxMUMsT0FBUUQsSUFFbkMyMUMsRUFBVzMxQyxHQUFLa1YsS0FBS3V6QyxNQUFNOVMsRUFBVzMxQyxJQUk5Q3NKLEtBQUsra0csWUFBY2w5QyxFQUFTeTlDLDRCQU1oQ0QsYUFBQSxXQUVJemlGLElBQU0yaUYsRUFBVXZsRyxLQUFLNm5ELFNBQVN2QixRQUFRLEdBRWpDdG1ELEtBQUtxckQsT0FBTzFILFNBQVM2WSxTQVd0Qng4RCxLQUFLMG9ELElBQU02OEMsRUFBUTV0RyxNQVRkcUksS0FBS2dsRyxXQUVOaGxHLEtBQUtnbEcsU0FBVyxJQUFJUixHQUFhZSxFQUFTdmxHLEtBQUtxckQsT0FBTzFILFdBRTFEM2pELEtBQUtnbEcsU0FBU2xzRyxTQUNka0gsS0FBSzBvRCxJQUFNMW9ELEtBQUtnbEcsU0FBU3J0RyxtQkFjakM4NUMsaUJBQUEsV0FFSXp4QyxLQUFLNmhGLG9CQUVMN2hGLEtBQUtndUMsUUFBUTVCLGNBQWNwc0MsS0FBS3FzQyxXQUFZLEVBQUdyc0MsS0FBS3FzQyxXQUFXMTFDLHFCQVNuRWs4RSxjQUFBLFNBQWM5bUMsR0FFVixJQUFLL3JDLEtBQUt1cUMsWUFBWWYsU0FBU3VDLEVBQU12aEMsRUFBR3VoQyxFQUFNdGhDLEdBRTFDLE9BQU8sRUFHWHpLLEtBQUs4bkMsZUFBZXZFLGFBQWF3SSxFQUFPNDRELElBU3hDLElBUEEvaEYsSUFBTXBTLEVBQVd4USxLQUFLNm5ELFNBQVNaLFVBQVUsbUJBQW1CdHZELEtBRXREbXpDLEVBQVM4NUQsR0FBWTk1RCxPQUNyQnBNLEVBQVcxK0IsS0FBSzZuRCxTQUFTVixXQUFXeHZELEtBQ3BDK1IsRUFBTWcxQixFQUFRL25DLE9BQ2Q2dUcsRUFBeUIsSUFBbEJ4bEcsS0FBSzI3RSxTQUFpQixFQUFJLEVBRTlCamxGLEVBQUksRUFBR0EsRUFBSSxFQUFJZ1QsRUFBS2hULEdBQUs4dUcsRUFDbEMsQ0FDSTVpRixJQUFNNmlGLEVBQW9CLEVBQWIvbUUsRUFBUWhvQyxHQUNmZ3ZHLEVBQXdCLEVBQWpCaG5FLEVBQVFob0MsRUFBSSxHQUNuQml2RyxFQUF3QixFQUFqQmpuRSxFQUFRaG9DLEVBQUksR0FTekIsR0FQQW8wQyxFQUFPLEdBQUt0NkIsRUFBU2kxRixHQUNyQjM2RCxFQUFPLEdBQUt0NkIsRUFBU2kxRixFQUFPLEdBQzVCMzZELEVBQU8sR0FBS3Q2QixFQUFTazFGLEdBQ3JCNTZELEVBQU8sR0FBS3Q2QixFQUFTazFGLEVBQU8sR0FDNUI1NkQsRUFBTyxHQUFLdDZCLEVBQVNtMUYsR0FDckI3NkQsRUFBTyxHQUFLdDZCLEVBQVNtMUYsRUFBTyxHQUV4QmYsR0FBWXA3RCxTQUFTbTdELEdBQVVuNkYsRUFBR202RixHQUFVbDZGLEdBRTVDLE9BQU8sRUFJZixPQUFPLGVBVVgrMEIsUUFBQSxTQUFReGxDLEdBRUpzekMsWUFBTTlOLFFBQUF0c0MsS0FBTzhNLEtBQUNoRyxHQUVkZ0csS0FBSzZuRCxTQUFTaEIsV0FDaUIsSUFBM0I3bUQsS0FBSzZuRCxTQUFTaEIsVUFFZDdtRCxLQUFLNm5ELFNBQVNoeEQsVUFHbEJtSixLQUFLNm5ELFNBQVcsS0FDaEI3bkQsS0FBS3FyRCxPQUFTLEtBQ2RyckQsS0FBS3lxRCxNQUFRLEtBQ2J6cUQsS0FBSzBvRCxJQUFNLEtBQ1gxb0QsS0FBSzArQixRQUFVLEtBQ2YxK0IsS0FBS3FzQyxXQUFhLCtDQXJjRCxDQUFTOEQsSUFnZGxDMDBELEdBQUtucEIsZUFBaUIsMmtCQ2hlRGtxQixHQUFZLFNBQUFqcUMsR0FXN0IsU0FBQWtxQyxFQUFZMzZDLEVBQVVseEQsR0FFbEI0b0IsSUFBTXFtQyxFQUFXLFVBQ2JpQyxFQUNBbnRCLE1BQU8sRUFDUCtuRSxlQUFnQi9pRSxHQUFPb0MsU0FDdkJpd0QsT0FBUSxJQUFJeHhFLGFBQWEsQ0FBQyxFQUFHLEVBQUcsRUFBRyxNQUl2QzVwQixFQUFVakgsT0FBTzB1QixPQUFPLENBQ3BCeWMsS0FBTSxTQUNOSCxNQUFPLEVBQ1AycUMsV0FBWSxTQUNiMXVFLElBRVNpdkQsVUFFUmwyRCxPQUFPMHVCLE9BQU93bkMsRUFBVWp2RCxFQUFRaXZELFVBR3BDM2IsT0FBS3R0QyxLQUFDaEcsRUFBUTgzRCxTQUFXeUgsR0FBUXIzQyxLQUFLNmpGLEdBQVFDLElBQVcvOEMsR0FRekRqcEQsS0FBS2ltRyxhQUFjLEVBUW5Cam1HLEtBQUsyakQsU0FBVyxJQUFJdVksR0FBY2hSLEdBT2xDbHJELEtBQUsyNkUsZUFBZ0Nsa0YsSUFBcEJ1RCxFQUFRODNELFFBUXpCOXhELEtBQUswb0UsV0FBYTF1RSxFQUFRMHVFLFdBRTFCMW9FLEtBQUtrK0IsS0FBT2xrQyxFQUFRa2tDLEtBQ3BCbCtCLEtBQUsrOUIsTUFBUS9qQyxFQUFRK2pDLHFMQU96Qm9MLEVBQUkwVSxRQUFBNW9ELElBQUEsV0FFQSxPQUFPK0ssS0FBS2lwRCxTQUFTaUMsVUFFekIvaEIsRUFBSTBVLFFBQUEzb0QsSUFBQSxTQUFRQyxHQUVKNkssS0FBS2lwRCxTQUFTaUMsV0FBYS8xRCxJQUUzQjZLLEtBQUtpcEQsU0FBU2lDLFNBQVcvMUQsRUFDekI2SyxLQUFLMmpELFNBQVM5RixRQUFVMW9ELElBVWhDZzBDLEVBQUlwTCxNQUFBN29DLElBQUEsU0FBTUMsR0FFRkEsSUFBVTZLLEtBQUtrbUcsU0FFbkJsbUcsS0FBS2ttRyxPQUFTL3dHLEVBQ2Q2SyxLQUFLaW1HLGFBQWMsSUFFdkI5OEQsRUFBSXBMLE1BQUE5b0MsSUFBQSxXQUVBLE9BQU8rSyxLQUFLa21HLFFBUWhCLzhELEVBQUlqTCxLQUFBaHBDLElBQUEsU0FBS0MsR0FFREEsSUFBVTZLLEtBQUttZ0YsUUFFbkJuZ0YsS0FBS21nRixNQUFRaHJGLEVBQ2I2SyxLQUFLaXNFLFVBQVk5MkUsR0FBUyxLQUFlLE1BQVJBLEtBQTRCLElBQVJBLElBQWlCLElBQ3RFNkssS0FBS2ltRyxhQUFjLElBRXZCOThELEVBQUlqTCxLQUFBanBDLElBQUEsV0FFQSxPQUFPK0ssS0FBS21nRixtQkFPaEJybkYsT0FBQSxXQUVJLEdBQUlrSCxLQUFLaW1HLFlBQ1QsQ0FDSWptRyxLQUFLaW1HLGFBQWMsRUFDbkJyakYsSUFBTXEyQixFQUFjajVDLEtBQUs2OUMsUUFBUTVFLFlBRWpDM2EsRUFBc0J0K0IsS0FBS21nRixNQUFPbmdGLEtBQUtrbUcsT0FBUWxtRyxLQUFLaXBELFNBQVNtc0MsT0FBUW44QyxFQUFZa0Isa0JBRWpGbjZDLEtBQUsyakQsU0FBUzdxRCxXQUVka0gsS0FBS2lwRCxTQUFTNjhDLGVBQWlCOWxHLEtBQUsyakQsU0FBU3lZLG9EQXpJeEIsQ0FBU3ZCLElDUXJCc3JDLEdBQVksU0FBQTM5QyxHQU83QixTQUFBNDlDLEVBQVk1MUYsRUFBVWs0QyxFQUFLanNDLEdBRXZCNndCLE9BQUt0dEMsTUFFTDRpQixJQUFNcWlGLEVBQWlCLElBQUl0L0MsR0FBT24xQyxHQUM1QjYxRixFQUFZLElBQUkxZ0QsR0FBTytDLEdBQUssR0FDNUJsQyxFQUFjLElBQUliLEdBQU9scEMsR0FBTyxHQUFNLEdBRTVDemMsS0FBSzhtRCxhQUFhLGtCQUFtQm0rQyxFQUFnQixHQUFHLEVBQU83cUUsRUFBTU0sT0FDaEVvc0IsYUFBYSxnQkFBaUJ1L0MsRUFBVyxHQUFHLEVBQU9qc0UsRUFBTU0sT0FDekR3c0IsU0FBU1YsR0FVZHhtRCxLQUFLc21HLFdBQWEsd0lBU3RCbjlELEVBQUltOEQsY0FBQXJ3RyxJQUFBLFdBRUEsT0FBTytLLEtBQUtzbUQsUUFBUSxHQUFHeEMsb0RBdENFLENBQVN1QyxJQ2xCckJrZ0QsR0FBYSxTQUFBSCxHQUU5QixTQUFBRyxFQUFZL3dFLEVBQWFDLEVBQWMrd0UsRUFBZUMsa0JBQWxDLG9CQUFjLG9CQUFnQixtQkFBZ0IsSUFFOURuNUQsT0FBS3R0QyxNQUVMQSxLQUFLd21HLFNBQVdBLEVBQ2hCeG1HLEtBQUt5bUcsVUFBWUEsRUFFakJ6bUcsS0FBS3cxQixNQUFRQSxFQUNieDFCLEtBQUt5MUIsT0FBU0EsRUFFZHoxQixLQUFLNjFFLGtIQU9UQSxNQUFBLFdBYUksSUFYQWp6RCxJQUFNM0gsRUFBUWpiLEtBQUt3bUcsU0FBV3htRyxLQUFLeW1HLFVBQzdCcndCLEVBQVEsR0FDUjF0QixFQUFNLEdBQ05ocUIsRUFBVSxHQUVWZ29FLEVBQVkxbUcsS0FBS3dtRyxTQUFXLEVBQzVCRyxFQUFZM21HLEtBQUt5bUcsVUFBWSxFQUU3QkcsRUFBUzVtRyxLQUFVLE1BQUkwbUcsRUFDdkJHLEVBQVM3bUcsS0FBVyxPQUFJMm1HLEVBRXJCandHLEVBQUksRUFBR0EsRUFBSXVrQixFQUFPdmtCLElBQzNCLENBQ0lrc0IsSUFBTXBZLEVBQUs5VCxFQUFJc0osS0FBS3dtRyxTQUNkLzdGLEVBQU0vVCxFQUFJc0osS0FBS3dtRyxTQUFZLEVBRWpDcHdCLEVBQU0zaEYsS0FBSytWLEVBQUlvOEYsRUFBT244RixFQUFJbzhGLEdBQzFCbitDLEVBQUlqMEQsS0FBSytWLEVBQUlrOEYsRUFBV2o4RixFQUFJazhGLEdBS2hDLElBRkEvakYsSUFBTWtrRixFQUFXSixFQUFZQyxFQUVwQmp3RyxFQUFJLEVBQUdBLEVBQUlvd0csRUFBVXB3RyxJQUM5QixDQUNJa3NCLElBQU1ta0YsRUFBT3J3RyxFQUFJZ3dHLEVBQ1hNLEVBQVF0d0csRUFBSWd3RyxFQUFhLEVBRXpCdnhHLEVBQVM2eEcsRUFBT2huRyxLQUFLd21HLFNBQVlPLEVBQ2pDRSxFQUFVRCxFQUFPaG5HLEtBQUt3bUcsU0FBWU8sRUFBTyxFQUN6Q0csR0FBV0YsRUFBTyxHQUFLaG5HLEtBQUt3bUcsU0FBWU8sRUFDeENJLEdBQVdILEVBQU8sR0FBS2huRyxLQUFLd21HLFNBQVlPLEVBQU8sRUFFckRyb0UsRUFBUWpxQyxLQUFLVSxFQUFPOHhHLEVBQVFDLEVBQ3hCRCxFQUFRRSxFQUFRRCxHQUd4QmxuRyxLQUFLc21ELFFBQVEsR0FBRzN1RCxLQUFPLElBQUlpc0IsYUFBYXd5RCxHQUN4Q3AyRSxLQUFLc21ELFFBQVEsR0FBRzN1RCxLQUFPLElBQUlpc0IsYUFBYThrQyxHQUN4QzFvRCxLQUFLd21ELFlBQVk3dUQsS0FBTyxJQUFJbXNCLFlBQVk0YSxHQUd4QzErQixLQUFLc21ELFFBQVEsR0FBR3h0RCxTQUNoQmtILEtBQUtzbUQsUUFBUSxHQUFHeHRELFNBQ2hCa0gsS0FBS3dtRCxZQUFZMXRELFlBaEVTLENBQVNxdEcsSUNjdEJpQixHQUFZLFNBQUFoQixHQU03QixTQUFBZ0IsRUFBWTV4RSxFQUFhc1Ysa0JBQUwsS0FFaEJ3QyxPQUFLdHRDLEtBQUMsSUFBSTRqQixhQUE2QixFQUFoQmtuQixFQUFPbjBDLFFBQzFCLElBQUlpdEIsYUFBNkIsRUFBaEJrbkIsRUFBT24wQyxRQUN4QixJQUFJbXRCLFlBQWtDLEdBQXJCZ25CLEVBQU9uMEMsT0FBUyxLQU1yQ3FKLEtBQUs4cUMsT0FBU0EsRUFPZDlxQyxLQUFLdzFCLE1BQVFBLEVBRWJ4MUIsS0FBSzYxRSxrSEFNVEEsTUFBQSxXQUVJanpELElBQU1rb0IsRUFBUzlxQyxLQUFLOHFDLE9BRXBCLEdBQUtBLEVBQUwsQ0FFQWxvQixJQUFNK2xDLEVBQWUzb0QsS0FBS2luRCxVQUFVLG1CQUM5QjJCLEVBQVc1b0QsS0FBS2luRCxVQUFVLGlCQUMxQlQsRUFBY3htRCxLQUFLbW5ELFdBR3pCLEtBQUlyYyxFQUFPbjBDLE9BQVMsR0FBcEIsQ0FNSWd5RCxFQUFhaHhELEtBQUtoQixPQUFTLElBQU1tMEMsRUFBT24wQyxTQUV4Q2d5RCxFQUFhaHhELEtBQU8sSUFBSWlzQixhQUE2QixFQUFoQmtuQixFQUFPbjBDLFFBQzVDaXlELEVBQVNqeEQsS0FBTyxJQUFJaXNCLGFBQTZCLEVBQWhCa25CLEVBQU9uMEMsUUFDeEM2dkQsRUFBWTd1RCxLQUFPLElBQUltc0IsWUFBa0MsR0FBckJnbkIsRUFBT24wQyxPQUFTLEtBR3hEaXNCLElBQU04bEMsRUFBTUUsRUFBU2p4RCxLQUNmK21DLEVBQVU4bkIsRUFBWTd1RCxLQUU1Qit3RCxFQUFJLEdBQUssRUFDVEEsRUFBSSxHQUFLLEVBQ1RBLEVBQUksR0FBSyxFQUNUQSxFQUFJLEdBQUssRUFPVCxJQUZBOWxDLElBQU0zSCxFQUFRNnZCLEVBQU9uMEMsT0FFWkQsRUFBSSxFQUFHQSxFQUFJdWtCLEVBQU92a0IsSUFDM0IsQ0FFSWtzQixJQUFNbkcsRUFBWSxFQUFKL2xCLEVBQ1I2OUYsRUFBUzc5RixHQUFLdWtCLEVBQVEsR0FFNUJ5dEMsRUFBSWpzQyxHQUFTODNFLEVBQ2I3ckMsRUFBSWpzQyxFQUFRLEdBQUssRUFFakJpc0MsRUFBSWpzQyxFQUFRLEdBQUs4M0UsRUFDakI3ckMsRUFBSWpzQyxFQUFRLEdBQUssRUFLckIsSUFGQXFHLElBQUl3b0QsRUFBYSxFQUVSNTBFLEVBQUksRUFBR0EsRUFBSXVrQixFQUFRLEVBQUd2a0IsSUFDL0IsQ0FDSWtzQixJQUFNbkcsRUFBWSxFQUFKL2xCLEVBRWRnb0MsRUFBUTRzQyxLQUFnQjd1RCxFQUN4QmlpQixFQUFRNHNDLEtBQWdCN3VELEVBQVEsRUFDaENpaUIsRUFBUTRzQyxLQUFnQjd1RCxFQUFRLEVBRWhDaWlCLEVBQVE0c0MsS0FBZ0I3dUQsRUFBUSxFQUNoQ2lpQixFQUFRNHNDLEtBQWdCN3VELEVBQVEsRUFDaENpaUIsRUFBUTRzQyxLQUFnQjd1RCxFQUFRLEVBSXBDbXNDLEVBQVM5dkQsU0FDVDB0RCxFQUFZMXRELFNBRVprSCxLQUFLcW5HLGdDQU1UQSxlQUFBLFdBRUl6a0YsSUFBTWtvQixFQUFTOXFDLEtBQUs4cUMsT0FFcEIsS0FBSUEsRUFBT24wQyxPQUFTLEdBQXBCLENBZUEsSUFWQW1zQixJQUNJd2tGLEVBREF0d0IsRUFBWWxzQyxFQUFPLEdBRW5CeThELEVBQVEsRUFDUkMsRUFBUSxFQUlOaDNGLEVBQVd4USxLQUFLc21ELFFBQVEsR0FBRzN1RCxLQUMzQnNqQixFQUFRNnZCLEVBQU9uMEMsT0FFWkQsRUFBSSxFQUFHQSxFQUFJdWtCLEVBQU92a0IsSUFDM0IsQ0FDSWtzQixJQUFNbXBCLEVBQVFqQixFQUFPcDBDLEdBQ2YrbEIsRUFBWSxFQUFKL2xCLEVBV2Q4d0csS0FQSUYsRUFGQTV3RyxFQUFJbzBDLEVBQU9uMEMsT0FBUyxFQUVSbTBDLEVBQU9wMEMsRUFBSSxHQUlYcTFDLEdBR0l2aEMsRUFBSXdzRSxFQUFVeHNFLEdBQ2xDKzhGLEVBQVFELEVBQVU3OEYsRUFBSXVzRSxFQUFVdnNFLEVBU2hDbVksSUFBTTZrRixFQUFhNzdGLEtBQUtrNUIsS0FBTXlpRSxFQUFRQSxFQUFVQyxFQUFRQSxHQUNsREUsRUFBTTFuRyxLQUFLdzFCLE1BQVEsRUFFekIreEUsR0FBU0UsRUFDVEQsR0FBU0MsRUFFVEYsR0FBU0csRUFDVEYsR0FBU0UsRUFFVGwzRixFQUFTaU0sR0FBU3N2QixFQUFNdmhDLEVBQUkrOEYsRUFDNUIvMkYsRUFBU2lNLEVBQVEsR0FBS3N2QixFQUFNdGhDLEVBQUkrOEYsRUFDaENoM0YsRUFBU2lNLEVBQVEsR0FBS3N2QixFQUFNdmhDLEVBQUkrOEYsRUFDaEMvMkYsRUFBU2lNLEVBQVEsR0FBS3N2QixFQUFNdGhDLEVBQUkrOEYsRUFFaEN4d0IsRUFBWWpyQyxFQUdoQi9yQyxLQUFLc21ELFFBQVEsR0FBR3h0RCx1QkFHcEJBLE9BQUEsV0FFSWtILEtBQUtxbkcsb0JBM0tvQixDQUFTbEIsSUNFckJ3QixHQUFVLFNBQUE3QyxHQU0zQixTQUFBOEMsRUFBWS9wRCxFQUFTL1MsR0FFakJsb0IsSUFBTWlsRixFQUFlLElBQUlULEdBQWF2cEQsRUFBUXBvQixPQUFRcVYsR0FDaERnOUQsRUFBZSxJQUFJbEMsR0FBYS9uRCxHQUV0Q3ZRLE9BQUt0dEMsS0FBQzZuRyxFQUFjQyxHQU9wQjluRyxLQUFLNGdELFlBQWEsNEdBR3RCalAsUUFBQSxTQUFRckMsSUFFQXR2QyxLQUFLNGdELFlBQ0Y1Z0QsS0FBSzZuRCxTQUFTcnlCLFFBQVV4MUIsS0FBS3FyRCxPQUFPeE4sUUFBUXBvQixVQUUvQ3oxQixLQUFLNm5ELFNBQVNyeUIsTUFBUXgxQixLQUFLcXJELE9BQU94TixRQUFRcG9CLE9BQzFDejFCLEtBQUs2bkQsU0FBUy91RCxVQUdsQncwQyxZQUFNcUUsUUFBQXorQyxLQUFPOE0sS0FBQ3N2QyxNQTlCUyxDQUFTdTFELElDQ25Ca0QsR0FBVyxTQUFBakQsR0FPNUIsU0FBQWtELEVBQVlucUQsRUFBU29xRCxFQUFXQyxHQUU1QnRsRixJQUFNdWxGLEVBQWdCLElBQUk1QixHQUFjMW9ELEVBQVFyb0IsTUFBT3FvQixFQUFRcG9CLE9BQVF3eUUsRUFBV0MsR0FDNUVKLEVBQWUsSUFBSWxDLEdBQWF4aUQsR0FBUXdCLE9BRTlDdFgsT0FBS3R0QyxLQUFDbW9HLEVBQWVMLEdBR3JCOW5HLEtBQUs2OUMsUUFBVUEsOElBT25CdXFELGVBQUEsV0FFSXBvRyxLQUFLZ2pGLFdBQWFoakYsS0FBS3FyRCxPQUFPeE4sUUFBUWlHLFVBRXRDOWpELEtBQUs2bkQsU0FBU3J5QixNQUFReDFCLEtBQUtxckQsT0FBT3hOLFFBQVFyb0IsTUFDMUN4MUIsS0FBSzZuRCxTQUFTcHlCLE9BQVN6MUIsS0FBS3FyRCxPQUFPeE4sUUFBUXBvQixPQUUzQ3oxQixLQUFLNm5ELFNBQVNndUIsU0FHbEIxc0MsRUFBSTBVLFFBQUEzb0QsSUFBQSxTQUFRQyxHQU1KNkssS0FBS3FyRCxPQUFPeE4sVUFBWTFvRCxJQUs1QjZLLEtBQUtxckQsT0FBT3hOLFFBQVUxb0QsRUFDdEI2SyxLQUFLZ2pGLFlBQWMsRUFFZjd0RixFQUFNOGpELFlBQVlHLE1BRWxCcDVDLEtBQUtvb0csaUJBSUxqekcsRUFBTTRTLEtBQUssU0FBVS9ILEtBQUtvb0csZUFBZ0Jwb0csUUFJbERtcEMsRUFBSTBVLFFBQUE1b0QsSUFBQSxXQUVBLE9BQU8rSyxLQUFLcXJELE9BQU94TixxQkFHdkJsTSxRQUFBLFNBQVFyQyxHQUVBdHZDLEtBQUtnakYsYUFBZWhqRixLQUFLcXJELE9BQU94TixRQUFRaUcsV0FFeEM5akQsS0FBS29vRyxpQkFHVDk2RCxZQUFNcUUsUUFBQXorQyxLQUFPOE0sS0FBQ3N2Qyw2Q0FwRVUsQ0FBU3UxRCxJQ1JwQndELEdBQVUsU0FBQXZELEdBUzNCLFNBQUF3RCxFQUFZenFELEVBQXlCcnRDLEVBQVVrNEMsRUFBS2hxQixFQUFTaTlDLGtCQUF2Q3Y0QixHQUFROVosT0FFMUIxbUIsSUFBTWlsQyxFQUFXLElBQUlzK0MsR0FBYTMxRixFQUFVazRDLEVBQUtocUIsR0FFakRtcEIsRUFBU1osVUFBVSxtQkFBbUJuQixRQUFTLEVBRS9DbGpDLElBQU1rbEYsRUFBZSxJQUFJbEMsR0FBYS9uRCxHQUV0Q3ZRLE9BQUt0dEMsS0FBQzZuRCxFQUFVaWdELEVBQWMsS0FBTW5zQixHQU1wQzM3RSxLQUFLNGdELFlBQWEsbUlBT3RCelgsRUFBSTM0QixTQUFBdmIsSUFBQSxXQUVBLE9BQU8rSyxLQUFLNm5ELFNBQVNaLFVBQVUsbUJBQW1CdHZELE1BRXREd3hDLEVBQUkzNEIsU0FBQXRiLElBQUEsU0FBU0MsR0FFVDZLLEtBQUs2bkQsU0FBU1osVUFBVSxtQkFBbUJ0dkQsS0FBT3hDLGVBR3REdzhDLFFBQUEsU0FBUXJDLEdBRUF0dkMsS0FBSzRnRCxZQUVMNWdELEtBQUs2bkQsU0FBU1osVUFBVSxtQkFBbUJudUQsU0FHL0N3MEMsWUFBTXFFLFFBQUF6K0MsS0FBTzhNLEtBQUNzdkMsNkNBOUNTLENBQVN1MUQsSUNSbEMwRCxHQUFzQixHQWlDUEMsR0FBYyxTQUFBUixHQVMvQixTQUFBUyxFQUFZNXFELEVBQVM2cUQsRUFBV0MsRUFBV0MsRUFBWUMsR0FFbkR2N0QsT0FBS3R0QyxLQUFDb2pELEdBQVF3QixNQUFPLEVBQUcsR0FFeEI1a0QsS0FBSzhvRyxXQUFhanJELEVBQVF3RixLQUFLN3RCLE1BQy9CeDFCLEtBQUsrb0csWUFBY2xyRCxFQUFRd0YsS0FBSzV0QixPQVFoQ3oxQixLQUFLaXlDLE9BQVNqeUMsS0FBSzhvRyxXQVFuQjlvRyxLQUFLa3lDLFFBQVVseUMsS0FBSytvRyxZQVFwQi9vRyxLQUFLZ3BHLGdCQUFrQyxJQUFkTixFQUE0QkEsRUFBWUgsR0FRakV2b0csS0FBS2lwRyxpQkFBb0MsSUFBZkwsRUFBNkJBLEVBQWFMLEdBUXBFdm9HLEtBQUtrcEcsZ0JBQWtDLElBQWRQLEVBQTRCQSxFQUFZSixHQVFqRXZvRyxLQUFLbXBHLG1CQUF3QyxJQUFqQk4sRUFBK0JBLEVBQWVOLEdBRzFFdm9HLEtBQUs2OUMsUUFBVUEsb1RBR25CdXFELGVBQUEsV0FFSXBvRyxLQUFLZ2pGLFdBQWFoakYsS0FBS3FyRCxPQUFPeE4sUUFBUWlHLFVBQ3RDOWpELEtBQUtvcEcsWUFHVGpnRSxFQUFJMzRCLFNBQUF2YixJQUFBLFdBRUEsT0FBTytLLEtBQUs2bkQsU0FBU1osVUFBVSxtQkFBbUJ0dkQsTUFHdER3eEMsRUFBSTM0QixTQUFBdGIsSUFBQSxTQUFTQyxHQUVUNkssS0FBSzZuRCxTQUFTWixVQUFVLG1CQUFtQnR2RCxLQUFPeEMsZUFPdERrMEcseUJBQUEsV0FFSXptRixJQUFNcFMsRUFBV3hRLEtBQUt3USxTQUVoQnJYLEVBQUk2RyxLQUFLa3BHLFdBQWFscEcsS0FBS21wRyxjQUMzQjFsRSxFQUFRempDLEtBQUtreUMsUUFBVS80QyxFQUFJLEVBQU02RyxLQUFLa3lDLFFBQVUvNEMsRUFFdERxWCxFQUFTLEdBQUtBLEVBQVMsSUFBTUEsRUFBUyxJQUFNQSxFQUFTLElBQU14USxLQUFLa3BHLFdBQWF6bEUsRUFDN0VqekIsRUFBUyxJQUFNQSxFQUFTLElBQU1BLEVBQVMsSUFBTUEsRUFBUyxJQUFNeFEsS0FBS2t5QyxRQUFXbHlDLEtBQUttcEcsY0FBZ0IxbEUsRUFDakdqekIsRUFBUyxJQUFNQSxFQUFTLElBQU1BLEVBQVMsSUFBTUEsRUFBUyxJQUFNeFEsS0FBS2t5QyxxQkFPckVvM0QsdUJBQUEsV0FFSTFtRixJQUFNcFMsRUFBV3hRLEtBQUt3USxTQUVoQjdSLEVBQUlxQixLQUFLZ3BHLFdBQWFocEcsS0FBS2lwRyxZQUMzQnhsRSxFQUFRempDLEtBQUtpeUMsT0FBU3R6QyxFQUFJLEVBQU1xQixLQUFLaXlDLE9BQVN0ekMsRUFFcEQ2UixFQUFTLEdBQUtBLEVBQVMsSUFBTUEsRUFBUyxJQUFNQSxFQUFTLElBQU14USxLQUFLZ3BHLFdBQWF2bEUsRUFDN0VqekIsRUFBUyxHQUFLQSxFQUFTLElBQU1BLEVBQVMsSUFBTUEsRUFBUyxJQUFNeFEsS0FBS2l5QyxPQUFVanlDLEtBQUtpcEcsWUFBY3hsRSxFQUM3Rmp6QixFQUFTLEdBQUtBLEVBQVMsSUFBTUEsRUFBUyxJQUFNQSxFQUFTLElBQU14USxLQUFLaXlDLFFBUXBFOUksRUFBSTNULE1BQUF2Z0MsSUFBQSxXQUVBLE9BQU8rSyxLQUFLaXlDLFFBR2hCOUksRUFBSTNULE1BQUF0Z0MsSUFBQSxTQUFNQyxHQUVONkssS0FBS2l5QyxPQUFTOThDLEVBQ2Q2SyxLQUFLb3BHLFlBUVRqZ0UsRUFBSTFULE9BQUF4Z0MsSUFBQSxXQUVBLE9BQU8rSyxLQUFLa3lDLFNBR2hCL0ksRUFBSTFULE9BQUF2Z0MsSUFBQSxTQUFPQyxHQUVQNkssS0FBS2t5QyxRQUFVLzhDLEVBQ2Y2SyxLQUFLb3BHLFlBUVRqZ0UsRUFBSXUvRCxVQUFBenpHLElBQUEsV0FFQSxPQUFPK0ssS0FBS2dwRyxZQUdoQjcvRCxFQUFJdS9ELFVBQUF4ekcsSUFBQSxTQUFVQyxHQUVWNkssS0FBS2dwRyxXQUFhN3pHLEVBQ2xCNkssS0FBS29wRyxZQVFUamdFLEVBQUl5L0QsV0FBQTN6RyxJQUFBLFdBRUEsT0FBTytLLEtBQUtpcEcsYUFHaEI5L0QsRUFBSXkvRCxXQUFBMXpHLElBQUEsU0FBV0MsR0FFWDZLLEtBQUtpcEcsWUFBYzl6RyxFQUNuQjZLLEtBQUtvcEcsWUFRVGpnRSxFQUFJdy9ELFVBQUExekcsSUFBQSxXQUVBLE9BQU8rSyxLQUFLa3BHLFlBR2hCLy9ELEVBQUl3L0QsVUFBQXp6RyxJQUFBLFNBQVVDLEdBRVY2SyxLQUFLa3BHLFdBQWEvekcsRUFDbEI2SyxLQUFLb3BHLFlBUVRqZ0UsRUFBSTAvRCxhQUFBNXpHLElBQUEsV0FFQSxPQUFPK0ssS0FBS21wRyxlQUdoQmhnRSxFQUFJMC9ELGFBQUEzekcsSUFBQSxTQUFhQyxHQUViNkssS0FBS21wRyxjQUFnQmgwRyxFQUNyQjZLLEtBQUtvcEcsd0JBTVRBLFNBQUEsV0FFSXhtRixJQUFNaTdCLEVBQVU3OUMsS0FBSzY5QyxRQUVmNkssRUFBTTFvRCxLQUFLNm5ELFNBQVN2QixRQUFRLEdBQUczdUQsS0FFckNxSSxLQUFLOG9HLFdBQWFqckQsRUFBUXdGLEtBQUs3dEIsTUFDL0J4MUIsS0FBSytvRyxZQUFjbHJELEVBQVF3RixLQUFLNXRCLE9BRWhDN1MsSUFBTTJtRixFQUFPLEVBQU12cEcsS0FBSzhvRyxXQUNsQlUsRUFBTyxFQUFNeHBHLEtBQUsrb0csWUFFeEJyZ0QsRUFBSSxHQUFLQSxFQUFJLEdBQUtBLEVBQUksSUFBTUEsRUFBSSxJQUFNLEVBQ3RDQSxFQUFJLEdBQUtBLEVBQUksR0FBS0EsRUFBSSxHQUFLQSxFQUFJLEdBQUssRUFDcENBLEVBQUksR0FBS0EsRUFBSSxJQUFNQSxFQUFJLElBQU1BLEVBQUksSUFBTSxFQUN2Q0EsRUFBSSxJQUFNQSxFQUFJLElBQU1BLEVBQUksSUFBTUEsRUFBSSxJQUFNLEVBRXhDQSxFQUFJLEdBQUtBLEVBQUksSUFBTUEsRUFBSSxJQUFNQSxFQUFJLElBQU02Z0QsRUFBT3ZwRyxLQUFLZ3BHLFdBQ25EdGdELEVBQUksR0FBS0EsRUFBSSxJQUFNQSxFQUFJLElBQU1BLEVBQUksSUFBTSxFQUFLNmdELEVBQU92cEcsS0FBS2lwRyxZQUN4RHZnRCxFQUFJLEdBQUtBLEVBQUksSUFBTUEsRUFBSSxJQUFNQSxFQUFJLElBQU04Z0QsRUFBT3hwRyxLQUFLa3BHLFdBQ25EeGdELEVBQUksSUFBTUEsRUFBSSxJQUFNQSxFQUFJLElBQU1BLEVBQUksSUFBTSxFQUFLOGdELEVBQU94cEcsS0FBS21wRyxjQUV6RG5wRyxLQUFLcXBHLDJCQUNMcnBHLEtBQUtzcEcseUJBRUx0cEcsS0FBSzZuRCxTQUFTdkIsUUFBUSxHQUFHeHRELFNBQ3pCa0gsS0FBSzZuRCxTQUFTdkIsUUFBUSxHQUFHeHRELG1EQWpQRSxDQUFTaXZHLElDQ3ZCMEIsR0FBYyxTQUFBOW1CLEdBTy9CLFNBQUErbUIsRUFBWXY5QyxFQUFVdkwsR0FFbEJ0VCxPQUFLdHRDLEtBQUNtc0QsRUFBUyxhQUFjL0ksR0FBVStJLEVBQVMsR0FBS0EsRUFBUyxHQUFHdE8sU0FNakU3OUMsS0FBS212RixVQUFZLEtBTWpCbnZGLEtBQUsycEcsV0FBYSxLQUVsQjNwRyxLQUFLbXNELFNBQVdBLEVBUWhCbnNELEtBQUs2L0MsYUFBNkIsSUFBZmUsRUFRbkI1Z0QsS0FBSzRwRyxlQUFpQixFQVF0QjVwRyxLQUFLNnBHLE1BQU8sRUFjWjdwRyxLQUFLOHBHLGNBQWUsRUFPcEI5cEcsS0FBS3FYLFdBQWEsS0FPbEJyWCxLQUFLK3BHLGNBQWdCLEtBT3JCL3BHLEtBQUtncUcsT0FBUyxLQVFkaHFHLEtBQUtpcUcsYUFBZSxFQVFwQmpxRyxLQUFLa3FHLFNBQVUsNE1BT25COThGLEtBQUEsV0FFU3BOLEtBQUtrcUcsVUFLVmxxRyxLQUFLa3FHLFNBQVUsRUFDWGxxRyxLQUFLNi9DLGFBRUxwSixHQUFPMEIsT0FBT2htQixPQUFPbnlCLEtBQUtsSCxPQUFRa0gsb0JBUTFDNmdELEtBQUEsV0FFUTdnRCxLQUFLa3FHLFVBS1RscUcsS0FBS2txRyxTQUFVLEVBQ1hscUcsS0FBSzYvQyxhQUVMcEosR0FBTzBCLE9BQU9ucUIsSUFBSWh1QixLQUFLbEgsT0FBUWtILEtBQU0rMUMsR0FBZ0JsYSxvQkFTN0RzdUUsWUFBQSxTQUFZQyxHQUVScHFHLEtBQUtvTixPQUVMd1YsSUFBTXluRixFQUFnQnJxRyxLQUFLc3FHLGFBRTNCdHFHLEtBQUtpcUcsYUFBZUcsRUFFaEJDLElBQWtCcnFHLEtBQUtzcUcsY0FFdkJ0cUcsS0FBS3VtRSw2QkFTYmdrQyxZQUFBLFNBQVlILEdBRVJ4bkYsSUFBTXluRixFQUFnQnJxRyxLQUFLc3FHLGFBRTNCdHFHLEtBQUtpcUcsYUFBZUcsRUFFaEJDLElBQWtCcnFHLEtBQUtzcUcsY0FFdkJ0cUcsS0FBS3VtRSxnQkFHVHZtRSxLQUFLNmdELG9CQVNUL25ELE9BQUEsU0FBT3U5QyxHQUVIenpCLElBQU00bkYsRUFBVXhxRyxLQUFLNHBHLGVBQWlCdnpELEVBQ2hDZzBELEVBQWdCcnFHLEtBQUtzcUcsYUFFM0IsR0FBd0IsT0FBcEJ0cUcsS0FBSzJwRyxXQUNULENBQ0k3bUYsSUFBSTJuRixFQUFNenFHLEtBQUtpcUcsYUFBZSxFQUFJanFHLEtBQUsycEcsV0FBVzNwRyxLQUFLc3FHLGNBSXZELElBRkFHLEdBQU9ELEVBQVUsR0FBSyxJQUVmQyxFQUFNLEdBRVR6cUcsS0FBS2lxRyxlQUNMUSxHQUFPenFHLEtBQUsycEcsV0FBVzNwRyxLQUFLc3FHLGNBR2hDMW5GLElBQU1TLEVBQU96WCxLQUFLeVgsS0FBS3JqQixLQUFLNHBHLGVBQWlCdnpELEdBSTdDLElBRkFyMkMsS0FBS2lxRyxhQUFlcitGLEtBQUs4WCxNQUFNMWpCLEtBQUtpcUcsY0FFN0JRLEdBQU96cUcsS0FBSzJwRyxXQUFXM3BHLEtBQUtzcUcsZUFFL0JHLEdBQU96cUcsS0FBSzJwRyxXQUFXM3BHLEtBQUtzcUcsY0FBZ0JqbkYsRUFDNUNyakIsS0FBS2lxRyxjQUFnQjVtRixFQUd6QnJqQixLQUFLaXFHLGNBQWdCUSxFQUFNenFHLEtBQUsycEcsV0FBVzNwRyxLQUFLc3FHLG1CQUloRHRxRyxLQUFLaXFHLGNBQWdCTyxFQUdyQnhxRyxLQUFLaXFHLGFBQWUsSUFBTWpxRyxLQUFLNnBHLE1BRS9CN3BHLEtBQUttcUcsWUFBWSxHQUVibnFHLEtBQUtxWCxZQUVMclgsS0FBS3FYLGNBR0pyWCxLQUFLaXFHLGNBQWdCanFHLEtBQUttdkYsVUFBVXg0RixTQUFXcUosS0FBSzZwRyxNQUV6RDdwRyxLQUFLbXFHLFlBQVlucUcsS0FBS212RixVQUFVeDRGLE9BQVMsR0FFckNxSixLQUFLcVgsWUFFTHJYLEtBQUtxWCxjQUdKZ3pGLElBQWtCcnFHLEtBQUtzcUcsZUFFeEJ0cUcsS0FBSzZwRyxNQUFRN3BHLEtBQUtncUcsU0FFZGhxRyxLQUFLNHBHLGVBQWlCLEdBQUs1cEcsS0FBS3NxRyxhQUFlRCxFQUUvQ3JxRyxLQUFLZ3FHLFNBRUFocUcsS0FBSzRwRyxlQUFpQixHQUFLNXBHLEtBQUtzcUcsYUFBZUQsR0FFcERycUcsS0FBS2dxRyxVQUliaHFHLEtBQUt1bUUsOEJBU2JBLGNBQUEsV0FFSXZtRSxLQUFLMHJELFNBQVcxckQsS0FBS212RixVQUFVbnZGLEtBQUtzcUcsY0FDcEN0cUcsS0FBS2dqRixZQUFjLEVBQ25CaGpGLEtBQUtrakYsbUJBQXFCLEVBQzFCbGpGLEtBQUs4aUYsV0FBYSxTQUNsQjlpRixLQUFLMG9ELElBQU0xb0QsS0FBSzByRCxTQUFTaEksS0FBS2hCLFdBRTFCMWlELEtBQUs4cEcsY0FFTDlwRyxLQUFLNGlGLFFBQVE4bkIsS0FBSzFxRyxLQUFLMHJELFNBQVM3SCxlQUdoQzdqRCxLQUFLK3BHLGVBRUwvcEcsS0FBSytwRyxjQUFjL3BHLEtBQUtzcUcsMkJBY2hDOXFFLFFBQUEsU0FBUXhsQyxHQUVKZ0csS0FBS29OLE9BQ0xrZ0MsWUFBTTlOLFFBQUF0c0MsS0FBTzhNLEtBQUNoRyxHQUVkZ0csS0FBS3FYLFdBQWEsS0FDbEJyWCxLQUFLK3BHLGNBQWdCLEtBQ3JCL3BHLEtBQUtncUcsT0FBUyxNQVVsQk4sRUFBT2lCLFdBQUEsU0FBVzNVLEdBSWQsSUFGQXB6RSxJQUFNdXBDLEVBQVcsR0FFUnoxRCxFQUFJLEVBQUdBLEVBQUlzL0YsRUFBT3IvRixTQUFVRCxFQUVqQ3kxRCxFQUFTMTNELEtBQUsydUQsR0FBUWxoQyxLQUFLOHpFLEVBQU90L0YsS0FHdEMsT0FBTyxJQUFJZ3pHLEVBQWV2OUMsSUFVOUJ1OUMsRUFBT2tCLFdBQUEsU0FBV0MsR0FJZCxJQUZBam9GLElBQU11cEMsRUFBVyxHQUVSejFELEVBQUksRUFBR0EsRUFBSW0wRyxFQUFPbDBHLFNBQVVELEVBRWpDeTFELEVBQVMxM0QsS0FBSzJ1RCxHQUFRbGhDLEtBQUsyb0YsRUFBT24wRyxLQUd0QyxPQUFPLElBQUlnekcsRUFBZXY5QyxJQVc5QmhqQixFQUFJMmhFLFlBQUE3MUcsSUFBQSxXQUVBLE9BQU8rSyxLQUFLbXZGLFVBQVV4NEYsUUFRMUJ3eUMsRUFBSWdqQixTQUFBbDNELElBQUEsV0FFQSxPQUFPK0ssS0FBS212RixXQUdoQmhtRCxFQUFJZ2pCLFNBQUFqM0QsSUFBQSxTQUFTQyxHQUVULEdBQUlBLEVBQU0sYUFBY2l1RCxHQUVwQnBqRCxLQUFLbXZGLFVBQVloNkYsRUFDakI2SyxLQUFLMnBHLFdBQWEsU0FHdEIsQ0FDSTNwRyxLQUFLbXZGLFVBQVksR0FDakJudkYsS0FBSzJwRyxXQUFhLEdBRWxCLElBQUs3bUYsSUFBSXBzQixFQUFJLEVBQUdBLEVBQUl2QixFQUFNd0IsT0FBUUQsSUFFOUJzSixLQUFLbXZGLFVBQVUxNkYsS0FBS1UsRUFBTXVCLEdBQUdtbkQsU0FDN0I3OUMsS0FBSzJwRyxXQUFXbDFHLEtBQUtVLEVBQU11QixHQUFHeWdELE1BR3RDbjNDLEtBQUttcUcsWUFBWSxHQUNqQm5xRyxLQUFLdW1FLGlCQVNUcDlCLEVBQUltaEUsYUFBQXIxRyxJQUFBLFdBRUE2dEIsSUFBSXduRixFQUFlMStGLEtBQUs4WCxNQUFNMWpCLEtBQUtpcUcsY0FBZ0JqcUcsS0FBS212RixVQUFVeDRGLE9BT2xFLE9BTEkyekcsRUFBZSxJQUVmQSxHQUFnQnRxRyxLQUFLbXZGLFVBQVV4NEYsUUFHNUIyekcsNENBellvQixDQUFTNW5CLElDbkN0Q3FvQixHQUFLLFFBWUksU0FBU0MsS0FFcEJwb0YsSUFBTXFvRixFQUFPanJHLEtBRWJqTixPQUFPOGQsaUJBQWlCbzZGLEVBQU0sQ0FPMUIzckQsU0FBVSxDQUNOcnFELElBQUEsV0FJSSxPQUZBcXNDLEdBQVl5cEUsR0FBSSxpRkFFVEUsRUFBSzFzRCxZQUFZZSxXQVNoQzRyRCxnQkFBaUIsQ0FDYmoyRyxJQUFBLFdBSUksT0FGQXFzQyxHQUFZeXBFLEdBQUksbUVBRVRFLEVBQUtwakUsWUFTcEJzakUsY0FBZSxDQUNYbDJHLElBQUEsV0FJSSxPQUZBcXNDLEdBQVl5cEUsR0FBSSxpRUFFVEUsRUFBS3BqRSxZQWdCcEJ1akUsZUFBZ0IsQ0FDWm4yRyxJQUFBLFdBSUksT0FGQXFzQyxHQUFZeXBFLEdBQUksaURBRVQsQ0FBRU0sT0FBUSxFQUFHQyxRQUFTLEtBU3JDQyxjQUFlLENBQ1h0MkcsSUFBQSxXQUlJLE9BRkFxc0MsR0FBWXlwRSxHQUFJLHVEQUVURSxFQUFLampDLFdBU3BCd2pDLG1CQUFvQixDQUNoQnYyRyxJQUFBLFdBSUksT0FGQXFzQyxHQUFZeXBFLEdBQUksNEVBRVRFLEVBQUtRLE1BQU1ELHFCQVcxQnZaLE9BQVEsQ0FDSmg5RixJQUFBLFdBSUksT0FGQXFzQyxHQUFZeXBFLEdBQUksd0RBRVRFLEVBQUsvakcsT0FBT2l4QyxTQVMzQnV6RCxjQUFlLENBQ1h6MkcsSUFBQSxXQUlJLE9BRkFxc0MsR0FBWXlwRSxHQUFJLG1FQUVURSxFQUFLVSxRQUFRbGlELGlCQVdoQ3doRCxFQUFLVyxPQUFTLEdBRWQ3NEcsT0FBTzhkLGlCQUFpQm82RixFQUFLVyxPQUFRLENBTWpDaFUsYUFBYyxDQUNWM2lHLElBQUEsV0FJSSxPQUZBcXNDLEdBQVl5cEUsR0FBSSxpRUFFVEUsRUFBS3JULGVBUXBCWSxxQkFBc0IsQ0FDbEJ2akcsSUFBQSxXQUlJLE9BRkFxc0MsR0FBWXlwRSxHQUFJLGlGQUVURSxFQUFLelMsdUJBUXBCa1IsZUFBZ0IsQ0FDWnowRyxJQUFBLFdBSUksT0FGQXFzQyxHQUFZeXBFLEdBQUkscUVBRVRFLEVBQUt2QixpQkFRcEJ0USxXQUFZLENBQ1Jua0csSUFBQSxXQUlJLE9BRkFxc0MsR0FBWXlwRSxHQUFJLDZEQUVURSxFQUFLN1IsZUFLeEJybUcsT0FBTzhkLGlCQUFpQm82RixFQUFLUSxNQUFPLENBTWhDSSxXQUFZLENBQ1I1MkcsSUFBQSxXQUlJLE9BRkFxc0MsR0FBWXlwRSxHQUFJLGtGQUVURSxFQUFLMXNELFlBQVlRLFlBVXBDa3NELEVBQUthLEtBQU8sR0FFWi80RyxPQUFPOGQsaUJBQWlCbzZGLEVBQUthLEtBQU0sQ0FNL0JoSCxLQUFNLENBQ0Y3dkcsSUFBQSxXQUlJLE9BRkFxc0MsR0FBWXlwRSxHQUFJLHFEQUVURSxFQUFLM0MsYUFRcEJHLGVBQWdCLENBQ1p4ekcsSUFBQSxXQUlJLE9BRkFxc0MsR0FBWXlwRSxHQUFJLG1FQUVURSxFQUFLeEMsaUJBUXBCc0QsTUFBTyxDQUNIOTJHLElBQUEsV0FJSSxPQUZBcXNDLEdBQVl5cEUsR0FBSSx1REFFVEUsRUFBS2pELGNBUXBCZ0UsS0FBTSxDQUNGLzJHLElBQUEsV0FJSSxPQUZBcXNDLEdBQVl5cEUsR0FBSSxxREFFVEUsRUFBS3JELGFBUXBCcUUsUUFBUyxDQUNMaDNHLElBQUEsV0FJSSxPQUZBcXNDLEdBQVl5cEUsR0FBSSxrREFFVEUsRUFBS25HLE9BUXBCb0gsbUJBQW9CLENBQ2hCajNHLElBQUEsV0FJSSxPQUZBcXNDLEdBQVl5cEUsR0FBSSwyRUFFVEUsRUFBS2lCLHFCQVFwQkMsYUFBYyxDQUNWbDNHLElBQUEsV0FJSSxPQUZBcXNDLEdBQVl5cEUsR0FBSSwrREFFVEUsRUFBS2tCLGlCQVd4QmxCLEVBQUttQixVQUFZLEdBRWpCcjVHLE9BQU84ZCxpQkFBaUJvNkYsRUFBS21CLFVBQVcsQ0FNcENoYSxrQkFBbUIsQ0FDZm45RixJQUFBLFdBSUksT0FGQXFzQyxHQUFZeXBFLEdBQUksOEVBRVRFLEVBQUs3WSxvQkFRcEJzQyxpQkFBa0IsQ0FDZHovRixJQUFBLFdBSUksT0FGQXFzQyxHQUFZeXBFLEdBQUksNEVBRVRFLEVBQUt2VyxxQkFXeEJ1VyxFQUFLeHlELE9BQVMsR0FFZDFsRCxPQUFPOGQsaUJBQWlCbzZGLEVBQUt4eUQsT0FBUSxDQU1qQzR6RCxPQUFRLENBQ0pwM0csSUFBQSxXQUlJLE9BRkFxc0MsR0FBWXlwRSxHQUFJLHFEQUVURSxFQUFLb0IsU0FTcEJsMEQsT0FBUSxDQUNKbGpELElBQUEsV0FJSSxPQUZBcXNDLEdBQVl5cEUsR0FBSSwrREFFVEUsRUFBS29CLE9BQU9sMEQsV0FVL0I4eUQsRUFBS3FCLFFBQVUsR0FFZnY1RyxPQUFPOGQsaUJBQWlCbzZGLEVBQUtxQixRQUFTLENBTWxDcGxHLE9BQVEsQ0FDSmpTLElBQUEsV0FJSSxPQUZBcXNDLEdBQVl5cEUsR0FBSSxzREFFVEUsRUFBSy9qRyxTQVFwQkUsU0FBVSxDQUNOblMsSUFBQSxXQUlJLE9BRkFxc0MsR0FBWXlwRSxHQUFJLGdFQUVURSxFQUFLL1ksaUJBUXBCcWEsaUJBQWtCLENBQ2R0M0csSUFBQSxXQUlJLE9BRkFxc0MsR0FBWXlwRSxHQUFJLGlGQUVURSxFQUFLclAsaUJBQWlCN3RFLE1BUXJDeStFLG9CQUFxQixDQUNqQnYzRyxJQUFBLFdBSUksT0FGQXFzQyxHQUFZeXBFLEdBQUksc0ZBRVRFLEVBQUtyUCxpQkFBaUI1aUcsUUFRckN5ekcsa0JBQW1CLENBQ2Z4M0csSUFBQSxXQUlJLE9BRkFxc0MsR0FBWXlwRSxHQUFJLG1GQUVURSxFQUFLOVQsa0JBQWtCcHBFLE1BUXRDeXBFLGdCQUFpQixDQUNidmlHLElBQUEsV0FJSSxPQUZBcXNDLEdBQVl5cEUsR0FBSSw2RkFFVEUsRUFBSzlULGtCQUFrQkssb0JBVzFDeVQsRUFBSy9qRyxPQUFPd2xHLGtCQUFvQixTQUEyQkMsR0FNdkQsT0FKQXJyRSxHQUFZeXBFLEdBQ1Isd0dBR0dFLEVBQUtxQixRQUFRcGxHLE9BQU91aEUsZUFBZSxDQUFFMTZDLElBQUs0K0UsT0FRckQ1NUcsT0FBT3FDLGVBQWU2MUcsRUFBSzUrQixRQUFTLGVBQWdCLENBQ2hEcDNFLElBQUEsV0FJSSxPQUZBcXNDLEdBQVl5cEUsR0FBSSxzRUFFVEUsRUFBSzUrQixRQUFRRCxXQVM1QnI1RSxPQUFPcUMsZUFBZTYxRyxFQUFLMkIsUUFBUyxlQUFnQixDQUNoRDMzRyxJQUFBLFdBSUksT0FGQXFzQyxHQUFZeXBFLEdBQUkscUVBRVRFLEVBQUsyQixRQUFRbGQsV0FXNUJ1YixFQUFLNzZELFVBQVVwOUMsVUFBVTY1RyxhQUFlLFNBQXNCdjlELEdBRTFEaE8sR0FBWXlwRSxHQUFJLDBFQUVoQi9xRyxLQUFLMnhDLFFBQVFyQyxJQVNqQjI3RCxFQUFLNzZELFVBQVVwOUMsVUFBVTg1RyxZQUFjLFNBQXFCeDlELEdBRXhEaE8sR0FBWXlwRSxHQUFJLHdFQUVoQi9xRyxLQUFLcXZDLE9BQU9DLElBU2hCMjdELEVBQUs1OUQsY0FBY3I2QyxVQUFVODVHLFlBQWMsU0FBcUJ4OUQsR0FFNURoTyxHQUFZeXBFLEdBQUksZ0ZBRWhCL3FHLEtBQUtxdkMsT0FBT0MsSUFTaEIyN0QsRUFBSzc2RCxVQUFVcDlDLFVBQVUrNUcsb0JBQXNCLFNBQTZCejlELEdBRXhFaE8sR0FBWXlwRSxHQUFJLHdGQUVoQi9xRyxLQUFLMHhDLGVBQWVwQyxJQUd4QnY4QyxPQUFPOGQsaUJBQWlCbzZGLEVBQUs1MkUsU0FBVSxDQVVuQysyRSxlQUFnQixDQUNabjJHLElBQUEsV0FJSSxPQUZBcXNDLEdBQVl5cEUsR0FBSSwwREFFVCxHQUVYNzFHLElBQUEsV0FFSW9zQyxHQUFZeXBFLEdBQUksOERBS3BCLElBQUFodkQsRUFBQWt2RCxFQUFBbHZELFlBT1JBLEVBQVkvb0QsVUFBVWc2RyxXQUFhLFNBQW9CMWdDLEdBRW5EaHJDLEdBQVl5cEUsR0FBSSwwREFFaEJub0YsSUFBTStMLEVBQVdzOEUsRUFBS3g5RSxVQUFVNnRCLG1CQUFtQmd4QixHQUVuRDM5QyxFQUFTbXFCLFVBQVcsRUFFcEI5NEMsS0FBSzA4QyxZQUFZL3RCLEdBQ2pCM3VCLEtBQUtsSCxVQUdUL0YsT0FBTzhkLGlCQUFpQmtyQyxFQUFZL29ELFVBQVcsQ0FRM0NpNkcsVUFBVyxDQUNQaDRHLElBQUEsV0FJSSxPQUZBcXNDLEdBQVl5cEUsR0FBSSxvRkFFVC9xRyxLQUFLbzVDLFFBVXBCK0ssU0FBVSxDQUNObHZELElBQUEsV0FJSSxPQUZBcXNDLEdBQVl5cEUsR0FBSSx5RUFFVC9xRyxLQUFLMnVCLFVBQVkzdUIsS0FBSzJ1QixTQUFTenJCLE1BVTlDL0IsT0FBUSxDQUNKbE0sSUFBQSxXQUlJLE9BRkFxc0MsR0FBWXlwRSxHQUFJLDBFQUVUL3FHLEtBQUsydUIsVUFBWTN1QixLQUFLMnVCLFNBQVN4dEIsUUFFMUNqTSxJQUFBLFNBQUlpTSxHQUVBbWdDLEdBQVl5cEUsR0FBSSxtSkFHWi9xRyxLQUFLMnVCLFdBRUwzdUIsS0FBSzJ1QixTQUFTeHRCLE9BQVNBLE9BYXZDNDZDLEVBQVlxOEMsVUFBWSxTQUFtQjE3RCxFQUFRb2QsRUFBYStCLEVBQVdwWSxHQUV2RW5DLEdBQVl5cEUsR0FBSSxrRkFFaEJub0YsSUFBTXM1QixFQUFrQixDQUFBelksTUFBRUEsRUFBS3FXLFlBQUVBLEdBRWpDLE9BQU9pQyxFQUFZNzVCLEtBQUt3YSxFQUFRLENBQUFtZixVQUFFQSxFQUFTSyxnQkFBRUEsS0FVakRILEVBQVlteEQsV0FBYSxTQUFvQnh3RSxFQUFRbWYsR0FJakQsT0FGQXZhLEdBQVl5cEUsR0FBSSxtRkFFVGh2RCxFQUFZNzVCLEtBQUt3YSxFQUFRLENBQUFtZixVQUFFQSxLQVV0Q0UsRUFBWW94RCxRQUFVLFNBQWlCendFLEVBQVFvZCxFQUFhK0IsRUFBV3BZLEdBRW5FbkMsR0FBWXlwRSxHQUFJLGdGQUVoQm5vRixJQUFNczVCLEVBQWtCLENBQUF6WSxNQUFFQSxFQUFLcVcsWUFBRUEsR0FFakMsT0FBT2lDLEVBQVk3NUIsS0FBS3dhLEVBQVEsQ0FBQW1mLFVBQUVBLEVBQVNLLGdCQUFFQSxLQVFqRCt1RCxFQUFLdHBFLE1BQU0zdUMsVUFBVTAzRyxLQUFPLFNBQWNseUcsR0FJdEMsT0FGQThvQyxHQUFZeXBFLEdBQUkscUVBRVQvcUcsS0FBSzZoQyxTQUFTcnBDLElBUXpCeXlHLEVBQUtscEUsZ0JBQWdCL3VDLFVBQVUwM0csS0FBTyxTQUFjbHlHLEdBSWhELE9BRkE4b0MsR0FBWXlwRSxHQUFJLHlGQUVUL3FHLEtBQUs2aEMsU0FBU3JwQyxJQVF6Qnl5RyxFQUFLN2hFLFVBQVVwMkMsVUFBVTAzRyxLQUFPLFNBQWNseUcsR0FJMUMsT0FGQThvQyxHQUFZeXBFLEdBQUksNkVBRVQvcUcsS0FBSzZoQyxTQUFTcnBDLElBUXpCeXlHLEVBQUtsb0UsT0FBTy92QyxVQUFVMDNHLEtBQU8sU0FBY2x5RyxHQUl2QyxPQUZBOG9DLEdBQVl5cEUsR0FBSSxxRUFFVC9xRyxLQUFLOGhDLE9BQU90cEMsSUFHdkJ6RixPQUFPMHVCLE9BQU93cEYsRUFBS1UsUUFBUWxpRCxhQUFhejJELFVBQVcsQ0FNL0NvNkcsZ0JBQUEsU0FBZ0Ivc0UsRUFBT0YsR0FNbkIsT0FKQW1CLEdBQVl5cEUsR0FDUiwrR0FHRy9xRyxLQUFLZ3NELGlCQUFpQjdyQixJQVFqQ2t0RSxtQkFBQSxTQUFtQmhrRCxHQUVmL25CLEdBQVl5cEUsR0FDUixxSEFJSi9xRyxLQUFLOHFELG9CQUFvQnpCLElBUzdCaWtELDJCQUFBLFNBQTJCOWhELEdBRXZCbHFCLEdBQVl5cEUsR0FBSSx5SUFHaEJub0YsSUFBTStvQyxFQUFlSCxFQUFhdm1CLFdBQ2xDdmdCLEVBQTBDMWtCLEtBQUtncUQsWUFBdkNWLEVBQUE1a0MsRUFBQTRrQyxZQUFhUixFQUFBcGtDLEVBQUFva0MsaUJBS3JCLE9BSEE2QyxFQUFhbm9CLFVBQVU4bEIsRUFBWTkrQyxFQUFJcytDLEVBQWlCdHpCLE1BQU84ekIsRUFBWTcrQyxFQUFJcStDLEVBQWlCcnpCLFFBQ2hHazJCLEVBQWFsb0IsTUFBTXFsQixFQUFpQnR6QixNQUFPc3pCLEVBQWlCcnpCLFFBRXJEazJCLEdBU1g0aEQscUNBQUEsU0FBcUMvaEQsR0FFakNscUIsR0FBWXlwRSxHQUFJLHdLQUdoQixJQUFBcm1GLEVBQTBDMWtCLEtBQUtncUQsWUFBdkNWLEVBQUE1a0MsRUFBQTRrQyxZQUFhUixFQUFBcGtDLEVBQUFva0MsaUJBQ2Y2QyxFQUFlSCxFQUFhdm1CLFdBRWxDMG1CLEVBQWFub0IsVUFBVThsQixFQUFZOStDLEVBQUlzK0MsRUFBaUJ0ekIsTUFBTzh6QixFQUFZNytDLEVBQUlxK0MsRUFBaUJyekIsUUFFaEc3UyxJQUFNNHFGLEVBQW1CMWtELEVBQWlCdHpCLE1BQVE4ekIsRUFBWTl6QixNQUN4RGk0RSxFQUFtQjNrRCxFQUFpQnJ6QixPQUFTNnpCLEVBQVk3ekIsT0FJL0QsT0FGQWsyQixFQUFhbG9CLE1BQU0rcEUsRUFBaUJDLEdBRTdCOWhELEtBSWY1NEQsT0FBTzhkLGlCQUFpQm82RixFQUFLam1ELGNBQWNoeUQsVUFBVyxDQU9sRHMyRCxZQUFhLENBQ1RyMEQsSUFBQSxXQUlJLE9BRkFxc0MsR0FBWXlwRSxHQUFJLDREQUVUL3FHLEtBQUtvbEQsY0FTcEI1bUIsS0FBTSxDQUNGdnBDLElBQUEsV0FJSSxPQUZBcXNDLEdBQVl5cEUsR0FBSSxxREFFVC9xRyxLQUFLd2pELFdBV3hCLElBQU1rcUQsRUFBVyxTQUFBQyxHQUViLFNBQUFELEVBQVl2USxFQUFVNXdCLEVBQVNwc0MsRUFBWWk5RCxHQUV2Qzk3RCxHQUFZeXBFLEdBQUksaUZBRWhCejlELE9BQUt0dEMsTUFBQyxFQUFNbTlGLEVBQVU1d0IsRUFBU3BzQyxFQUFZaTlELG1HQU5sQyxDQUFTNk4sRUFBS245RCxRQUFRbXZELGdCQWdCakMyUSxFQUFXLFNBQUFELEdBRWIsU0FBQUMsRUFBWXpRLEVBQVU1d0IsRUFBU3BzQyxFQUFZaTlELEdBRXZDOTdELEdBQVl5cEUsR0FBSSxpRkFFaEJ6OUQsT0FBS3R0QyxNQUFDLEVBQU9tOUYsRUFBVTV3QixFQUFTcHNDLEVBQVlpOUQsbUdBTm5DLENBQVM2TixFQUFLbjlELFFBQVFtdkQsZ0JBVXZDbHFHLE9BQU8wdUIsT0FBT3dwRixFQUFLbjlELFFBQVMsYUFDeEI0L0QsY0FDQUUsSUFHSixJQUFBanJCLEVBQUFzb0IsRUFBQXRvQixPQUFnQjlnQyxFQUFBb3BELEVBQUFwcEQsUUFBUzY5QixFQUFBdXJCLEVBQUF2ckIsU0FhekIsU0FBU211QixFQUFXLzRHLEVBQU1xTSxFQUFRMjRDLEVBQWErQixHQUkzQyxPQUZBdmEsR0FBWXlwRSxHQUFFLGVBQWlCajJHLEVBQUksK0NBRTVCNnRGLEVBQU96Z0UsS0FBSy9nQixFQUFRLENBQ3ZCKzZDLGdCQUFpQixDQUNielksTUFBT29ZLGNBQ1AvQixLQThDWixTQUFTZzBELEVBQVloNUcsRUFBTXFNLEVBQVEyNEMsRUFBYStCLEdBSTVDLE9BRkF2YSxHQUFZeXBFLEdBQUUsZ0JBQWtCajJHLEVBQUksZ0RBRTdCK3NELEVBQVEzL0IsS0FBSy9nQixFQUFRLENBQ3hCKzZDLGdCQUFpQixDQUNielksTUFBT29ZLGNBQ1AvQixLQXJFUDRsQyxFQUFTMXNGLFVBQVUrNkcsd0JBRXBCcnVCLEVBQVMxc0YsVUFBVSs2RyxzQkFBd0IsV0FFdkN6c0UsR0FBWXlwRSxHQUFJLHNGQXVCeEJwb0IsRUFBT3lWLFVBQVl5VixFQUFXN3ZHLEtBQUssS0FBTSxhQVF6QzJrRixFQUFPd3FCLFFBQVVVLEVBQVc3dkcsS0FBSyxLQUFNLFdBUXZDMmtGLEVBQU91cUIsV0FBYVcsRUFBVzd2RyxLQUFLLEtBQU0sY0FRMUMya0YsRUFBT3FyQixVQUFZSCxFQUFXN3ZHLEtBQUssS0FBTSxhQVF6QzJrRixFQUFPdVYsVUFBWTJWLEVBQVc3dkcsS0FBSyxLQUFNLGFBcUJ6QzZqRCxFQUFRdTJDLFVBQVkwVixFQUFZOXZHLEtBQUssS0FBTSxhQVEzQzZqRCxFQUFRc3JELFFBQVVXLEVBQVk5dkcsS0FBSyxLQUFNLFdBUXpDNmpELEVBQVFxckQsV0FBYVksRUFBWTl2RyxLQUFLLEtBQU0sY0FRNUM2akQsRUFBUW1zRCxVQUFZRixFQUFZOXZHLEtBQUssS0FBTSxhQVEzQzZqRCxFQUFRcTJDLFVBQVk0VixFQUFZOXZHLEtBQUssS0FBTSxhQU8zQ2pMLE9BQU9xQyxlQUFlNjFHLEVBQUsvakMsaUJBQWlCbDBFLFVBQVcsYUFBYyxDQUNqRWlDLElBQUEsV0FJSSxPQUZBcXNDLEdBQVl5cEUsR0FBSSw0RUFFVC9xRyxLQUFLbTFCLGFBRWhCamdDLElBQUEsU0FBSUMsR0FFQW1zQyxHQUFZeXBFLEdBQUksNEVBRWhCL3FHLEtBQUttMUIsWUFBY2hnQyxLQVEzQjgxRyxFQUFLUSxNQUFNd0MsT0FBUyxDQU1oQnovRCxNQUFBLFdBRUlsTixHQUFZeXBFLEdBQUksNERBT3BCbUQsV0FBQSxXQUVJNXNFLEdBQVl5cEUsR0FBSSxpRUFPcEJvRCxjQUFBLFdBRUk3c0UsR0FBWXlwRSxHQUFJLHFFM01oaUM1QmhqQyxHQUFTVSxlQUFlLGdCQUFpQjJsQyxJQUN6Q3JtQyxHQUFTVSxlQUFlLFVBQVc0bEMsSUFDbkN0bUMsR0FBU1UsZUFBZSxjQUFlNmxDLElBQ3ZDdm1DLEdBQVNVLGVBQWUsV0FBWWdzQixJQUNwQzFzQixHQUFTVSxlQUFlLFVBQVc4bEMsSUFDbkN4bUMsR0FBU1UsZUFBZSxRQUFTb0IsSUFDakM5QixHQUFTVSxlQUFlLGVBQWdCOHZCLElBRXhDNUcsR0FBT2xwQixlQUFlbXpCLElBQ3RCakssR0FBT2xwQixlQUFlMHVCLElBRXRCOUcsR0FBWTVuQixlQUFlbHdCLElBQzNCODNDLEdBQVk1bkIsZUFBZXNwQixJQVdmLElBQUN5YyxHQUFVLFFBaUNWMWdFLEdBQVUsYUFDbkJvdUQsY0FDQWdDLGtCQUNBbEIscUJBQ0E2QixzQkFDQTJDLGNBQ0FRLGVBQ0FHLEk0TTVGV3NNLEdBQUEsRUN1VUFDLEdBblRmLFdBc0NJLFNBQUFDLEVBQW9CQyxFQUE2QkMsRUFBc0JDLEVBQXlCQyxHQUFoRyxJQUFBejJGLEVBQUF0WSxLQUFvQkEsS0FBQTR1RyxjQUE2QjV1RyxLQUFBNnVHLE9BQXNCN3VHLEtBQUE4dUcsVUFBeUI5dUcsS0FBQSt1RyxrQkFyQ3hGL3VHLEtBQUFndkcsUUFBZUMsU0FBU0MsTUFDeEJsdkcsS0FBQW12RyxlQUF5QixZQUV6Qm52RyxLQUFBb3ZHLGFBQXVCLGVBS3ZCcHZHLEtBQUFxdkcsS0FBb0IvMUcsU0FBUzIyQixjQUFjLFNBQzNDandCLEtBQUFzdkcsWUFBZ0NoMkcsU0FBUzIyQixjQUFjLFdBQ3ZEandCLEtBQUF1dkcsWUFJSixDQUNBQyxTQUFVLDJCQUNWcnpGLElBQUssT0FDTG80RSxPQUFRLEdBSUp2MEYsS0FBQXl2RyxhQUlKLENBQ0FELFNBQVUsd0JBQ1ZyekYsSUFBSyxPQUNMdXpGLE9BQVEsQ0FDSkMsYUFBc0IsU0FDdEJDLFlBQXFCLFFBQ3JCQyxlQUF3QixXQUN4QkMsY0FBdUIsWUEwTXZCOXZHLEtBQUErdkcscUJBQXVCLFNBQUMxNkcsR0FDdEIsSUFBQTI2RyxFQUFBMTNGLEVBQUVnM0YsRUFBQVUsRUFBQVYsWUFBYVcsRUFBQUQsRUFBQUMsVUFFckJYLEVBQVk5MUYsb0JBQW9CLFVBQVdsQixFQUFLeTNGLHNCQUNoRFQsRUFBWTkxRixvQkFBb0IsWUFBYWxCLEVBQUs0M0Ysd0JBQ2xEWixFQUFZOTFGLG9CQUFvQixZQUFhbEIsRUFBSzYzRix3QkFDbERiLEVBQVk5MUYsb0JBQW9CLFdBQVlsQixFQUFLODNGLHVCQUVqRGQsRUFBWTcxRyxJQUFNdzJHLEVBQVVKLGVBQzVCdjNGLEVBQUswMkYsUUFBUW51RCxLQUFLdm9DLEVBQUs4MkYsY0FDdkI5MkYsRUFBSyszRixvQkFHRHJ3RyxLQUFBa3dHLHVCQUF5QixTQUFDNzZHLEdBQ3hCLElBQUEyNkcsRUFBQTEzRixFQUFFZzNGLEVBQUFVLEVBQUFWLFlBQWFXLEVBQUFELEVBQUFDLFVBRXJCWCxFQUFZNzFHLElBQU13MkcsRUFBVUgsZUFHeEI5dkcsS0FBQW13Ryx1QkFBeUIsU0FBQzk2RyxHQUN4QixJQUFBMjZHLEVBQUExM0YsRUFBRWczRixFQUFBVSxFQUFBVixZQUFhVyxFQUFBRCxFQUFBQyxVQUVyQlgsRUFBWTcxRyxJQUFNdzJHLEVBQVVMLGFBR3hCNXZHLEtBQUFvd0csc0JBQXdCLFNBQUMvNkcsR0FDdkIsSUFBQTI2RyxFQUFBMTNGLEVBQUVnM0YsRUFBQVUsRUFBQVYsWUFBYVcsRUFBQUQsRUFBQUMsVUFFckJYLEVBQVk3MUcsSUFBTXcyRyxFQUFVTixjQTBDcEMsT0F6UVdoQixFQUFBMzdHLFVBQUFzOUcsV0FBUCxlQUFBaDRGLEVBQUF0WSxLQUNJQSxLQUFLdXdHLFNBQ0x2d0csS0FBS3d3RyxrQkFDTHh3RyxLQUFLeXdHLG1CQUNMendHLEtBQUswd0csbUJBRUMsSUFBRUMsRUFBRjN3RyxLQUFFMndHLElBQUtDLEVBQVA1d0csS0FBTzR3RyxXQUViNXdHLEtBQUtxdkcsS0FBSzExRyxZQUFZZzNHLEVBQUkzN0UsTUFFMUIyN0UsRUFBSTFlLE9BQ0hqa0UsSUFBSTRpRixHQUNKdjRGLEtBQUssU0FBQzQ1RSxFQUFheGtFLEdBQ2hCblYsRUFBSzZKLFFBQVU3SixFQUFLdTRGLGFBQWFwakYsR0FDakMsSUFBTXFqRixFQUFvQyxDQUN0Q0MsYUFBYSxHQUdqQno0RixFQUFLMDRGLG9CQUNMTCxFQUFJbDRELE9BQU96cUIsSUFBSSxTQUFDdkQsR0FBcUIsT0FBQXdtRixFQUFTeG1GLEtBRTlDLElBQU13bUYsRUFBVyxTQUFDeG1GLEdBQ2RuUyxFQUFLNkosUUFBUTlsQixRQUFRLFNBQUM2MEcsR0FDVixJQUFBQyxFQUFBRCxFQUFBQyxTQUVSNzRGLEVBQUs4NEYsV0FBV0YsR0FDaEJKLEVBQVFDLFlBQWNJLEVBQVcsRUFFN0I3NEYsRUFBSys0RixzQkFBc0JILElBQzNCNTRGLEVBQUtnNUYsa0JBQWtCSixLQUszQjU0RixFQUFLaTVGLHdCQUNMajVGLEVBQUs2SixRQUFVN0osRUFBS3U0RixhQUFhcGpGLEdBQ2pDblYsRUFBSyszRixvQkFDRS8zRixFQUFLazVGLG9CQUFvQlYsS0FDaEN4NEYsRUFBSzA0RixvQkFDTEYsRUFBUUMsYUFBYyxPQU05QnBDLEVBQUEzN0csVUFBQXkrRyxZQUFSLFdBQ1UsSUFBRTdDLEVBQUY1dUcsS0FBRTR1RyxZQUFhQyxFQUFmN3VHLEtBQWU2dUcsS0FDZnI1RSxFQUFnQm81RSxFQURoQjV1RyxLQUFxQjh1RyxRQUVyQnI1RSxFQUFpQm01RSxHQUFlQyxFQUFPLEdBRTdDN3VHLEtBQUsweEcsU0FBVyxDQUFFbDhFLE1BQUtBLEVBQUVDLE9BQU1BLElBRzNCazVFLEVBQUEzN0csVUFBQXU5RyxPQUFSLFdBQ0l2d0csS0FBS3l4RyxjQUVMenhHLEtBQUsyd0csSUFBTSxJQUFJbEMsR0FBS25lLFlBQVl0d0YsS0FBSzB4RyxXQUdqQy9DLEVBQUEzN0csVUFBQTIrRyxvQkFBUixTQUE0QkMsR0FJeEIsSUFIQSxJQUNNN3FELEVBQU0sR0FFSHJ3RCxFQUFJLEVBQUdBLEdBQUtrN0csRUFBa0JsN0csSUFBSyxDQUN4QyxJQUFNc0IsRUFKbUIsYUFJSXRCLEVBQzdCcXdELEVBQUl0eUQsS0FBS3VELEdBR2JnSSxLQUFLNnhHLGNBQWdCOXFELEdBR2pCNG5ELEVBQUEzN0csVUFBQXk5RyxpQkFBUixXQUNJendHLEtBQUsyeEcsb0JBQW9CLEdBRW5CLElBQUV2QyxFQUFGcHZHLEtBQUVvdkcsYUFBY3lDLEVBQWhCN3hHLEtBQWdCNnhHLGNBQ2hCQyxFQUFhLEdBRWJDLEVBQTZCLENBQUV0NEcsSUFBUTIxRyxFQURuQixPQUMrQ3AzRyxHQUFJLEdBQUdvM0csR0FFaEYwQyxFQUFXcjlHLEtBQUtzOUcsR0FFaEJGLEVBQWN4MUcsUUFBUSxTQUFDMjFHLEdBQ25CLElBQU1DLEVBQTRCLENBQUV4NEcsSUFBUXU0RyxFQU50QixPQU00Q2g2RyxHQUFJLEdBQUdnNkcsR0FFekVGLEVBQVdyOUcsS0FBS3c5RyxLQUdwQmp5RyxLQUFLa3lHLE9BQVNKLEVBQ2Q5eEcsS0FBS2d2RyxRQUFRbUQsZUFBZ0JueUcsS0FBS2t5RyxPQUFRbHlHLEtBQUttdkcsaUJBRzNDUixFQUFBMzdHLFVBQUEwOUcsaUJBQVIsV0FJSSxJQUhNLElBQUFWLEVBQUFod0csS0FBQXV2RyxZQUFFQyxFQUFBUSxFQUFBUixTQUFVcnpGLEVBQUE2ekYsRUFBQTd6RixJQUFLbzRFLEVBQUF5YixFQUFBemIsT0FDakI2ZCxFQUFVLEdBRVAxN0csRUFBSSxFQUFHQSxHQUFLNjlGLEVBQVE3OUYsSUFBSyxDQUM5QixJQUFNc0ssRUFBZSxHQUFHd3VHLEVBQVc5NEcsRUFBSXlsQixFQUV2Q2kyRixFQUFRMzlHLEtBQUt1TSxHQUdqQmhCLEtBQUs0d0csV0FBYXdCLEdBR2R6RCxFQUFBMzdHLFVBQUF3OUcsZ0JBQVIsV0FDVSxJQUFBUixFQUFBaHdHLEtBQUF5dkcsYUFBRUQsRUFBQVEsRUFBQVIsU0FBVXJ6RixFQUFBNnpGLEVBQUE3ekYsSUFBS3V6RixFQUFBTSxFQUFBTixPQUNqQjBDLEVBQWUsR0FFckIsSUFBSyxJQUFNcjBHLEtBQU8yeEcsRUFDZCxHQUFJQSxFQUFPejhHLGVBQWU4SyxHQUFNLENBQzVCLElBQ01pRCxFQUFlLEdBQUd3dUcsRUFERkUsRUFBTzN4RyxHQUNjb2UsRUFFM0NpMkYsRUFBUXIwRyxHQUFPaUQsRUFJdkJoQixLQUFLaXdHLFVBQVltQyxHQUdiekQsRUFBQTM3RyxVQUFBNjlHLGFBQVIsU0FBcUJwakYsR0FZakIsSUFYQSxJQUFNdEwsRUFBNEIsR0FDNUJrd0YsRUFBdUJyeUcsS0FBSzh1RyxRQUU1QndELEVBQXdCRCxFQURFcnlHLEtBQUs2dUcsS0FFN0JELEVBQUY1dUcsS0FBRTR1RyxZQUFhZ0MsRUFBZjV3RyxLQUFlNHdHLFdBQ2IyQixFQURGdnlHLEtBQTJCMndHLElBQ3pCcmhFLFNBQUE3WixPQUdKKzhFLEVBQXdCLEVBQ3hCQyxFQUFxQixFQUVoQi83RyxFQUFJLEVBQUdBLEVBQUk0N0csRUFBZTU3RyxJQUFLLENBQ3BDLElBQ01nOEcsRUFBWTlCLEVBREpobEcsS0FBSzhYLE1BQU05WCxLQUFLNmEsU0FBV21xRixFQUFXajZHLFNBRTlDZzhHLEVBQW9DLENBQ3RDcm1DLE1BQU8sSUFBSW1pQyxHQUFLOXJCLE9BQU9sMUQsRUFBVWlsRixHQUFXNzBELFNBQzVDcm9CLE1BQU9vNUUsRUFDUGp3QixRQUFVOHpCLEVBQWE3RCxFQUN2QmdFLEtBQU1MLEVBQWMzRCxFQUFjNkQsRUFDbENJLFVBQVdMLEVBQWdCNUQsRUFDM0J4ckYsTUFBbUQsS0FBM0NxdkYsRUFBYUQsRUFBZ0JDLEdBQ3JDdEIsU0Fkc0IsR0FpQjFCaHZGLEVBQVExdEIsS0FBS2srRyxHQUNiM3lHLEtBQUs4eUcsbUJBQW1CSCxLQUV4QkgsRUFFcUJILEVBQWUsSUFDaENHLEVBQWdCLEVBQ2hCQyxLQUlSLE9BQU90d0YsR0FHSHdzRixFQUFBMzdHLFVBQUE4L0csbUJBQVIsU0FBMkJDLEdBRW5CLElBQUF6bUMsRUFBQXltQyxFQUFBem1DLE1BQ0FxUyxFQUFBbzBCLEVBQUFwMEIsT0FDQWswQixFQUFBRSxFQUFBRixVQUNBcjlFLEVBQUF1OUUsRUFBQXY5RSxNQUtKODJDLEVBQU05aEUsRUFBSXFvRyxFQUNWdm1DLEVBQU03aEUsRUFBSWswRSxFQUNWclMsRUFBTTkyQyxNQUFRODJDLEVBQU03MkMsT0FBU0QsRUFDN0I4MkMsRUFBTWhwQixPQUFPOTRDLEVBTlcsRUFPeEI4aEUsRUFBTWhwQixPQUFPNzRDLEVBTlcsRUFReEJ6SyxLQUFLMndHLElBQUluZ0IsTUFBTS9nRCxTQUFTNjhCLElBR3BCcWlDLEVBQUEzN0csVUFBQXE5RyxpQkFBUixlQUFBLzNGLEVBQUF0WSxLQUNJQSxLQUFLbWlCLFFBQVE5bEIsUUFBUSxTQUFDMDJHLEdBQ2xCdi9GLFdBQVcsV0FDUHUvRixFQUFXNUIsU0FBVzc0RixFQUFLeTJGLGlCQUM1QmdFLEVBQVczdkYsVUFJZHVyRixFQUFBMzdHLFVBQUFnK0csa0JBQVIsV0FDWSxJQUFBMUIsRUFBQXR2RyxLQUFBc3ZHLFlBRVJBLEVBQVlyMUYsaUJBQWlCLFVBQVdqYSxLQUFLK3ZHLHNCQUM3Q1QsRUFBWXIxRixpQkFBaUIsWUFBYWphLEtBQUtrd0csd0JBQy9DWixFQUFZcjFGLGlCQUFpQixZQUFhamEsS0FBS213Ryx3QkFDL0NiLEVBQVlyMUYsaUJBQWlCLFdBQVlqYSxLQUFLb3dHLHdCQWtDMUN6QixFQUFBMzdHLFVBQUFvK0csV0FBUixTQUFtQjRCLEdBQ2ZBLEVBQVcxbUMsTUFBTTdoRSxHQUFLdW9HLEVBQVc3QixVQUc3QnhDLEVBQUEzN0csVUFBQXErRyxzQkFBUixTQUE4QjJCLEdBQ2xCLElBQUFKLEVBQUFJLEVBQUFKLEtBQU10bUMsRUFBQTBtQyxFQUFBMW1DLE1BQU82a0MsRUFBQTZCLEVBQUE3QixTQUVmOEIsRUFBNEJMLEVBRDFCdG1DLEVBQUE3aEUsRUFHUixPQUFPd29HLEdBQXFCLEdBQUtBLEVBQW9COUIsR0FHakR4QyxFQUFBMzdHLFVBQUFzK0csa0JBQVIsU0FBMEIwQixHQUN0QkEsRUFBVzFtQyxNQUFNN2hFLEVBQUl1b0csRUFBV0osS0FDaENJLEVBQVc3QixTQUFXLEVBQ3RCbnhHLEtBQUtrekcsaUJBR0R2RSxFQUFBMzdHLFVBQUF1K0cscUJBQVIsV0FDVSxJQUFFcHZGLEVBQUZuaUIsS0FBRW1pQixRQUNBb3dGLEVBREZ2eUcsS0FBVzJ3RyxJQUNUcmhFLFNBQUE3WixPQUVSLE9BQU90VCxFQUFRZ3hGLE1BQU0sU0FBQ2pDLEdBQXlCLE9BQUFBLEVBQUs1a0MsTUFBTTdoRSxFQUFJOG5HLEtBRzFENUQsRUFBQTM3RyxVQUFBdytHLG9CQUFSLFNBQTRCVixHQUd4QixPQUZROXdHLEtBQUFtaUIsUUFFT2d4RixNQUFNLFNBQUNqQyxHQUF5QixPQUFrQixJQUFsQkEsRUFBS0MsWUFBbUJMLEVBQVFDLGFBRzNFcEMsRUFBQTM3RyxVQUFBa2dILGNBQVIsV0FDWSxJQUFBckIsRUFBQTd4RyxLQUFBNnhHLGNBQ0Z1QixFQUFvQnZCLEVBQWNsN0csT0FFbEMwOEcsRUFBc0J4QixFQURDam1HLEtBQUs4WCxNQUFNOVgsS0FBSzZhLFNBQVcyc0YsSUFHeERwekcsS0FBS2d2RyxRQUFRbnVELEtBQUt3eUQsSUFFMUIxRSxFQWpUQSxTQ25CQWw4RyxPQUFPd25CLGlCQUFpQixPQUFRLFdBQzVCLElBQ2lCLElBQUl5MEYsR0FBSyxJQUFLLEVBQUcsRUFBRyxJQUU1QjRCLGFBQ1AsTUFBT3p6RyxHQUNMbEksUUFBUXluQyxJQUFJLGFBQWN2L0IsRUFBTW1iIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdGZ1bmN0aW9uIGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKSB7XG4gXHRcdGRlbGV0ZSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gXHR9XG4gXHR2YXIgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2sgPSB3aW5kb3dbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdO1xuIFx0d2luZG93W1wid2VicGFja0hvdFVwZGF0ZVwiXSA9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gd2VicGFja0hvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7XG4gXHRcdGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcbiBcdFx0aWYgKHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKSBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XG4gXHR9IDtcblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0dmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gXHRcdHNjcmlwdC5jaGFyc2V0ID0gXCJ1dGYtOFwiO1xuIFx0XHRzY3JpcHQuc3JjID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGNodW5rSWQgKyBcIi5cIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc1wiO1xuIFx0XHRpZiAobnVsbCkgc2NyaXB0LmNyb3NzT3JpZ2luID0gbnVsbDtcbiBcdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkTWFuaWZlc3QocmVxdWVzdFRpbWVvdXQpIHtcbiBcdFx0cmVxdWVzdFRpbWVvdXQgPSByZXF1ZXN0VGltZW91dCB8fCAxMDAwMDtcbiBcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuIFx0XHRcdGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgPT09IFwidW5kZWZpbmVkXCIpIHtcbiBcdFx0XHRcdHJldHVybiByZWplY3QobmV3IEVycm9yKFwiTm8gYnJvd3NlciBzdXBwb3J0XCIpKTtcbiBcdFx0XHR9XG4gXHRcdFx0dHJ5IHtcbiBcdFx0XHRcdHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gXHRcdFx0XHR2YXIgcmVxdWVzdFBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzb25cIjtcbiBcdFx0XHRcdHJlcXVlc3Qub3BlbihcIkdFVFwiLCByZXF1ZXN0UGF0aCwgdHJ1ZSk7XG4gXHRcdFx0XHRyZXF1ZXN0LnRpbWVvdXQgPSByZXF1ZXN0VGltZW91dDtcbiBcdFx0XHRcdHJlcXVlc3Quc2VuZChudWxsKTtcbiBcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdHJldHVybiByZWplY3QoZXJyKTtcbiBcdFx0XHR9XG4gXHRcdFx0cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiBcdFx0XHRcdGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHJldHVybjtcbiBcdFx0XHRcdGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMCkge1xuIFx0XHRcdFx0XHQvLyB0aW1lb3V0XG4gXHRcdFx0XHRcdHJlamVjdChcbiBcdFx0XHRcdFx0XHRuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiB0aW1lZCBvdXQuXCIpXG4gXHRcdFx0XHRcdCk7XG4gXHRcdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3Quc3RhdHVzID09PSA0MDQpIHtcbiBcdFx0XHRcdFx0Ly8gbm8gdXBkYXRlIGF2YWlsYWJsZVxuIFx0XHRcdFx0XHRyZXNvbHZlKCk7XG4gXHRcdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3Quc3RhdHVzICE9PSAyMDAgJiYgcmVxdWVzdC5zdGF0dXMgIT09IDMwNCkge1xuIFx0XHRcdFx0XHQvLyBvdGhlciBmYWlsdXJlXG4gXHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiBmYWlsZWQuXCIpKTtcbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdC8vIHN1Y2Nlc3NcbiBcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHR2YXIgdXBkYXRlID0gSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XG4gXHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcbiBcdFx0XHRcdFx0XHRyZWplY3QoZSk7XG4gXHRcdFx0XHRcdFx0cmV0dXJuO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdHJlc29sdmUodXBkYXRlKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9O1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0dmFyIGhvdEFwcGx5T25VcGRhdGUgPSB0cnVlO1xuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90Q3VycmVudEhhc2ggPSBcImFkY2VmNTlkMDcxYWFjYzdiYzkyXCI7XG4gXHR2YXIgaG90UmVxdWVzdFRpbWVvdXQgPSAxMDAwMDtcbiBcdHZhciBob3RDdXJyZW50TW9kdWxlRGF0YSA9IHt9O1xuIFx0dmFyIGhvdEN1cnJlbnRDaGlsZE1vZHVsZTtcbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzID0gW107XG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50UGFyZW50c1RlbXAgPSBbXTtcblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSB7XG4gXHRcdHZhciBtZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRpZiAoIW1lKSByZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXztcbiBcdFx0dmFyIGZuID0gZnVuY3Rpb24ocmVxdWVzdCkge1xuIFx0XHRcdGlmIChtZS5ob3QuYWN0aXZlKSB7XG4gXHRcdFx0XHRpZiAoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XSkge1xuIFx0XHRcdFx0XHRpZiAoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpID09PSAtMSkge1xuIFx0XHRcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5wdXNoKG1vZHVsZUlkKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSByZXF1ZXN0O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKG1lLmNoaWxkcmVuLmluZGV4T2YocmVxdWVzdCkgPT09IC0xKSB7XG4gXHRcdFx0XHRcdG1lLmNoaWxkcmVuLnB1c2gocmVxdWVzdCk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdGNvbnNvbGUud2FybihcbiBcdFx0XHRcdFx0XCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgK1xuIFx0XHRcdFx0XHRcdHJlcXVlc3QgK1xuIFx0XHRcdFx0XHRcdFwiKSBmcm9tIGRpc3Bvc2VkIG1vZHVsZSBcIiArXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWRcbiBcdFx0XHRcdCk7XG4gXHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFtdO1xuIFx0XHRcdH1cbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhyZXF1ZXN0KTtcbiBcdFx0fTtcbiBcdFx0dmFyIE9iamVjdEZhY3RvcnkgPSBmdW5jdGlvbiBPYmplY3RGYWN0b3J5KG5hbWUpIHtcbiBcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG4gXHRcdFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdO1xuIFx0XHRcdFx0fSxcbiBcdFx0XHRcdHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiBcdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXSA9IHZhbHVlO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH07XG4gXHRcdH07XG4gXHRcdGZvciAodmFyIG5hbWUgaW4gX193ZWJwYWNrX3JlcXVpcmVfXykge1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfX3dlYnBhY2tfcmVxdWlyZV9fLCBuYW1lKSAmJlxuIFx0XHRcdFx0bmFtZSAhPT0gXCJlXCIgJiZcbiBcdFx0XHRcdG5hbWUgIT09IFwidFwiXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIG5hbWUsIE9iamVjdEZhY3RvcnkobmFtZSkpO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRmbi5lID0gZnVuY3Rpb24oY2h1bmtJZCkge1xuIFx0XHRcdGlmIChob3RTdGF0dXMgPT09IFwicmVhZHlcIikgaG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcbiBcdFx0XHRob3RDaHVua3NMb2FkaW5nKys7XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZShjaHVua0lkKS50aGVuKGZpbmlzaENodW5rTG9hZGluZywgZnVuY3Rpb24oZXJyKSB7XG4gXHRcdFx0XHRmaW5pc2hDaHVua0xvYWRpbmcoKTtcbiBcdFx0XHRcdHRocm93IGVycjtcbiBcdFx0XHR9KTtcblxuIFx0XHRcdGZ1bmN0aW9uIGZpbmlzaENodW5rTG9hZGluZygpIHtcbiBcdFx0XHRcdGhvdENodW5rc0xvYWRpbmctLTtcbiBcdFx0XHRcdGlmIChob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiKSB7XG4gXHRcdFx0XHRcdGlmICghaG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XG4gXHRcdFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9O1xuIFx0XHRmbi50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0XHRpZiAobW9kZSAmIDEpIHZhbHVlID0gZm4odmFsdWUpO1xuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLnQodmFsdWUsIG1vZGUgJiB+MSk7XG4gXHRcdH07XG4gXHRcdHJldHVybiBmbjtcbiBcdH1cblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpIHtcbiBcdFx0dmFyIGhvdCA9IHtcbiBcdFx0XHQvLyBwcml2YXRlIHN0dWZmXG4gXHRcdFx0X2FjY2VwdGVkRGVwZW5kZW5jaWVzOiB7fSxcbiBcdFx0XHRfZGVjbGluZWREZXBlbmRlbmNpZXM6IHt9LFxuIFx0XHRcdF9zZWxmQWNjZXB0ZWQ6IGZhbHNlLFxuIFx0XHRcdF9zZWxmRGVjbGluZWQ6IGZhbHNlLFxuIFx0XHRcdF9kaXNwb3NlSGFuZGxlcnM6IFtdLFxuIFx0XHRcdF9tYWluOiBob3RDdXJyZW50Q2hpbGRNb2R1bGUgIT09IG1vZHVsZUlkLFxuXG4gXHRcdFx0Ly8gTW9kdWxlIEFQSVxuIFx0XHRcdGFjdGl2ZTogdHJ1ZSxcbiBcdFx0XHRhY2NlcHQ6IGZ1bmN0aW9uKGRlcCwgY2FsbGJhY2spIHtcbiBcdFx0XHRcdGlmIChkZXAgPT09IHVuZGVmaW5lZCkgaG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKSBob3QuX3NlbGZBY2NlcHRlZCA9IGRlcDtcbiBcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXG4gXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxuIFx0XHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XG4gXHRcdFx0XHRlbHNlIGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XG4gXHRcdFx0fSxcbiBcdFx0XHRkZWNsaW5lOiBmdW5jdGlvbihkZXApIHtcbiBcdFx0XHRcdGlmIChkZXAgPT09IHVuZGVmaW5lZCkgaG90Ll9zZWxmRGVjbGluZWQgPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcbiBcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXG4gXHRcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBbaV1dID0gdHJ1ZTtcbiBcdFx0XHRcdGVsc2UgaG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBdID0gdHJ1ZTtcbiBcdFx0XHR9LFxuIFx0XHRcdGRpc3Bvc2U6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcbiBcdFx0XHR9LFxuIFx0XHRcdGFkZERpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XG4gXHRcdFx0fSxcbiBcdFx0XHRyZW1vdmVEaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdHZhciBpZHggPSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkgaG90Ll9kaXNwb3NlSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0fSxcblxuIFx0XHRcdC8vIE1hbmFnZW1lbnQgQVBJXG4gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxuIFx0XHRcdGFwcGx5OiBob3RBcHBseSxcbiBcdFx0XHRzdGF0dXM6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdGlmICghbCkgcmV0dXJuIGhvdFN0YXR1cztcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XG4gXHRcdFx0fSxcbiBcdFx0XHRhZGRTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xuIFx0XHRcdH0sXG4gXHRcdFx0cmVtb3ZlU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdFN0YXR1c0hhbmRsZXJzLmluZGV4T2YobCk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIGhvdFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdH0sXG5cbiBcdFx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcbiBcdFx0XHRkYXRhOiBob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF1cbiBcdFx0fTtcbiBcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gdW5kZWZpbmVkO1xuIFx0XHRyZXR1cm4gaG90O1xuIFx0fVxuXG4gXHR2YXIgaG90U3RhdHVzSGFuZGxlcnMgPSBbXTtcbiBcdHZhciBob3RTdGF0dXMgPSBcImlkbGVcIjtcblxuIFx0ZnVuY3Rpb24gaG90U2V0U3RhdHVzKG5ld1N0YXR1cykge1xuIFx0XHRob3RTdGF0dXMgPSBuZXdTdGF0dXM7XG4gXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXG4gXHRcdFx0aG90U3RhdHVzSGFuZGxlcnNbaV0uY2FsbChudWxsLCBuZXdTdGF0dXMpO1xuIFx0fVxuXG4gXHQvLyB3aGlsZSBkb3dubG9hZGluZ1xuIFx0dmFyIGhvdFdhaXRpbmdGaWxlcyA9IDA7XG4gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3RBdmFpbGFibGVGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdERlZmVycmVkO1xuXG4gXHQvLyBUaGUgdXBkYXRlIGluZm9cbiBcdHZhciBob3RVcGRhdGUsIGhvdFVwZGF0ZU5ld0hhc2g7XG5cbiBcdGZ1bmN0aW9uIHRvTW9kdWxlSWQoaWQpIHtcbiBcdFx0dmFyIGlzTnVtYmVyID0gK2lkICsgXCJcIiA9PT0gaWQ7XG4gXHRcdHJldHVybiBpc051bWJlciA/ICtpZCA6IGlkO1xuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RDaGVjayhhcHBseSkge1xuIFx0XHRpZiAoaG90U3RhdHVzICE9PSBcImlkbGVcIikge1xuIFx0XHRcdHRocm93IG5ldyBFcnJvcihcImNoZWNrKCkgaXMgb25seSBhbGxvd2VkIGluIGlkbGUgc3RhdHVzXCIpO1xuIFx0XHR9XG4gXHRcdGhvdEFwcGx5T25VcGRhdGUgPSBhcHBseTtcbiBcdFx0aG90U2V0U3RhdHVzKFwiY2hlY2tcIik7XG4gXHRcdHJldHVybiBob3REb3dubG9hZE1hbmlmZXN0KGhvdFJlcXVlc3RUaW1lb3V0KS50aGVuKGZ1bmN0aW9uKHVwZGF0ZSkge1xuIFx0XHRcdGlmICghdXBkYXRlKSB7XG4gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xuIFx0XHRcdFx0cmV0dXJuIG51bGw7XG4gXHRcdFx0fVxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwID0ge307XG4gXHRcdFx0aG90QXZhaWxhYmxlRmlsZXNNYXAgPSB1cGRhdGUuYztcbiBcdFx0XHRob3RVcGRhdGVOZXdIYXNoID0gdXBkYXRlLmg7XG5cbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuIFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0XHRob3REZWZlcnJlZCA9IHtcbiBcdFx0XHRcdFx0cmVzb2x2ZTogcmVzb2x2ZSxcbiBcdFx0XHRcdFx0cmVqZWN0OiByZWplY3RcbiBcdFx0XHRcdH07XG4gXHRcdFx0fSk7XG4gXHRcdFx0aG90VXBkYXRlID0ge307XG4gXHRcdFx0dmFyIGNodW5rSWQgPSAwO1xuIFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1sb25lLWJsb2Nrc1xuIFx0XHRcdHtcbiBcdFx0XHRcdC8qZ2xvYmFscyBjaHVua0lkICovXG4gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0aG90U3RhdHVzID09PSBcInByZXBhcmVcIiAmJlxuIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJlxuIFx0XHRcdFx0aG90V2FpdGluZ0ZpbGVzID09PSAwXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdFx0fVxuIFx0XHRcdHJldHVybiBwcm9taXNlO1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcykge1xuIFx0XHRpZiAoIWhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdIHx8ICFob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSlcbiBcdFx0XHRyZXR1cm47XG4gXHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gZmFsc2U7XG4gXHRcdGZvciAodmFyIG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRob3RVcGRhdGVbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZiAoLS1ob3RXYWl0aW5nRmlsZXMgPT09IDAgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCkge1xuIFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKSB7XG4gXHRcdGlmICghaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0pIHtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xuIFx0XHR9IGVsc2Uge1xuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXMrKztcbiBcdFx0XHRob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdFVwZGF0ZURvd25sb2FkZWQoKSB7XG4gXHRcdGhvdFNldFN0YXR1cyhcInJlYWR5XCIpO1xuIFx0XHR2YXIgZGVmZXJyZWQgPSBob3REZWZlcnJlZDtcbiBcdFx0aG90RGVmZXJyZWQgPSBudWxsO1xuIFx0XHRpZiAoIWRlZmVycmVkKSByZXR1cm47XG4gXHRcdGlmIChob3RBcHBseU9uVXBkYXRlKSB7XG4gXHRcdFx0Ly8gV3JhcCBkZWZlcnJlZCBvYmplY3QgaW4gUHJvbWlzZSB0byBtYXJrIGl0IGFzIGEgd2VsbC1oYW5kbGVkIFByb21pc2UgdG9cbiBcdFx0XHQvLyBhdm9pZCB0cmlnZ2VyaW5nIHVuY2F1Z2h0IGV4Y2VwdGlvbiB3YXJuaW5nIGluIENocm9tZS5cbiBcdFx0XHQvLyBTZWUgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDY1NjY2XG4gXHRcdFx0UHJvbWlzZS5yZXNvbHZlKClcbiBcdFx0XHRcdC50aGVuKGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0XHRyZXR1cm4gaG90QXBwbHkoaG90QXBwbHlPblVwZGF0ZSk7XG4gXHRcdFx0XHR9KVxuIFx0XHRcdFx0LnRoZW4oXG4gXHRcdFx0XHRcdGZ1bmN0aW9uKHJlc3VsdCkge1xuIFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbiBcdFx0XHRcdFx0fSxcbiBcdFx0XHRcdFx0ZnVuY3Rpb24oZXJyKSB7XG4gXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KGVycik7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdCk7XG4gXHRcdH0gZWxzZSB7XG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xuIFx0XHRcdGZvciAodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xuIFx0XHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaCh0b01vZHVsZUlkKGlkKSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHRcdGRlZmVycmVkLnJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RBcHBseShvcHRpb25zKSB7XG4gXHRcdGlmIChob3RTdGF0dXMgIT09IFwicmVhZHlcIilcbiBcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJhcHBseSgpIGlzIG9ubHkgYWxsb3dlZCBpbiByZWFkeSBzdGF0dXNcIik7XG4gXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gXHRcdHZhciBjYjtcbiBcdFx0dmFyIGk7XG4gXHRcdHZhciBqO1xuIFx0XHR2YXIgbW9kdWxlO1xuIFx0XHR2YXIgbW9kdWxlSWQ7XG5cbiBcdFx0ZnVuY3Rpb24gZ2V0QWZmZWN0ZWRTdHVmZih1cGRhdGVNb2R1bGVJZCkge1xuIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbdXBkYXRlTW9kdWxlSWRdO1xuIFx0XHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuXG4gXHRcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCkubWFwKGZ1bmN0aW9uKGlkKSB7XG4gXHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRjaGFpbjogW2lkXSxcbiBcdFx0XHRcdFx0aWQ6IGlkXG4gXHRcdFx0XHR9O1xuIFx0XHRcdH0pO1xuIFx0XHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gXHRcdFx0XHR2YXIgcXVldWVJdGVtID0gcXVldWUucG9wKCk7XG4gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZUl0ZW0uaWQ7XG4gXHRcdFx0XHR2YXIgY2hhaW4gPSBxdWV1ZUl0ZW0uY2hhaW47XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmICghbW9kdWxlIHx8IG1vZHVsZS5ob3QuX3NlbGZBY2NlcHRlZCkgY29udGludWU7XG4gXHRcdFx0XHRpZiAobW9kdWxlLmhvdC5fc2VsZkRlY2xpbmVkKSB7XG4gXHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKG1vZHVsZS5ob3QuX21haW4pIHtcbiBcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInVuYWNjZXB0ZWRcIixcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdHZhciBwYXJlbnRJZCA9IG1vZHVsZS5wYXJlbnRzW2ldO1xuIFx0XHRcdFx0XHR2YXIgcGFyZW50ID0gaW5zdGFsbGVkTW9kdWxlc1twYXJlbnRJZF07XG4gXHRcdFx0XHRcdGlmICghcGFyZW50KSBjb250aW51ZTtcbiBcdFx0XHRcdFx0aWYgKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xuIFx0XHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0XHR0eXBlOiBcImRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0cGFyZW50SWQ6IHBhcmVudElkXG4gXHRcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpICE9PSAtMSkgY29udGludWU7XG4gXHRcdFx0XHRcdGlmIChwYXJlbnQuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSlcbiBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xuIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XG4gXHRcdFx0XHRcdFx0Y29udGludWU7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2gocGFyZW50SWQpO1xuIFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHtcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdGlkOiBwYXJlbnRJZFxuIFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG5cbiBcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0dHlwZTogXCJhY2NlcHRlZFwiLFxuIFx0XHRcdFx0bW9kdWxlSWQ6IHVwZGF0ZU1vZHVsZUlkLFxuIFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzOiBvdXRkYXRlZE1vZHVsZXMsXG4gXHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llczogb3V0ZGF0ZWREZXBlbmRlbmNpZXNcbiBcdFx0XHR9O1xuIFx0XHR9XG5cbiBcdFx0ZnVuY3Rpb24gYWRkQWxsVG9TZXQoYSwgYikge1xuIFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0dmFyIGl0ZW0gPSBiW2ldO1xuIFx0XHRcdFx0aWYgKGEuaW5kZXhPZihpdGVtKSA9PT0gLTEpIGEucHVzaChpdGVtKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxuIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXG4gXHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XG5cbiBcdFx0dmFyIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSA9IGZ1bmN0aW9uIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSgpIHtcbiBcdFx0XHRjb25zb2xlLndhcm4oXG4gXHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIHJlc3VsdC5tb2R1bGVJZCArIFwiKSB0byBkaXNwb3NlZCBtb2R1bGVcIlxuIFx0XHRcdCk7XG4gXHRcdH07XG5cbiBcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuIFx0XHRcdFx0bW9kdWxlSWQgPSB0b01vZHVsZUlkKGlkKTtcbiBcdFx0XHRcdC8qKiBAdHlwZSB7VE9ET30gKi9cbiBcdFx0XHRcdHZhciByZXN1bHQ7XG4gXHRcdFx0XHRpZiAoaG90VXBkYXRlW2lkXSkge1xuIFx0XHRcdFx0XHRyZXN1bHQgPSBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZUlkKTtcbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdHJlc3VsdCA9IHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcImRpc3Bvc2VkXCIsXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IGlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHQvKiogQHR5cGUge0Vycm9yfGZhbHNlfSAqL1xuIFx0XHRcdFx0dmFyIGFib3J0RXJyb3IgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBkb0FwcGx5ID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgZG9EaXNwb3NlID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgY2hhaW5JbmZvID0gXCJcIjtcbiBcdFx0XHRcdGlmIChyZXN1bHQuY2hhaW4pIHtcbiBcdFx0XHRcdFx0Y2hhaW5JbmZvID0gXCJcXG5VcGRhdGUgcHJvcGFnYXRpb246IFwiICsgcmVzdWx0LmNoYWluLmpvaW4oXCIgLT4gXCIpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0c3dpdGNoIChyZXN1bHQudHlwZSkge1xuIFx0XHRcdFx0XHRjYXNlIFwic2VsZi1kZWNsaW5lZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGVjbGluZWQpIG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIG9mIHNlbGYgZGVjbGluZTogXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5tb2R1bGVJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiZGVjbGluZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRlY2xpbmVkKSBvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm1vZHVsZUlkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRcIiBpbiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0LnBhcmVudElkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJ1bmFjY2VwdGVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25VbmFjY2VwdGVkKSBvcHRpb25zLm9uVW5hY2NlcHRlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVVbmFjY2VwdGVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2UgXCIgKyBtb2R1bGVJZCArIFwiIGlzIG5vdCBhY2NlcHRlZFwiICsgY2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiYWNjZXB0ZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkFjY2VwdGVkKSBvcHRpb25zLm9uQWNjZXB0ZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRkb0FwcGx5ID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImRpc3Bvc2VkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EaXNwb3NlZCkgb3B0aW9ucy5vbkRpc3Bvc2VkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0ZG9EaXNwb3NlID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0ZGVmYXVsdDpcbiBcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmV4Y2VwdGlvbiB0eXBlIFwiICsgcmVzdWx0LnR5cGUpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGFib3J0RXJyb3IpIHtcbiBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XG4gXHRcdFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChhYm9ydEVycm9yKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChkb0FwcGx5KSB7XG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gaG90VXBkYXRlW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHQub3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0XHRcdFx0Zm9yIChtb2R1bGVJZCBpbiByZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRcdFx0XHRpZiAoXG4gXHRcdFx0XHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcyxcbiBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWRcbiBcdFx0XHRcdFx0XHRcdClcbiBcdFx0XHRcdFx0XHQpIHtcbiBcdFx0XHRcdFx0XHRcdGlmICghb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKVxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0gPSBbXTtcbiBcdFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KFxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0sXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF1cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoZG9EaXNwb3NlKSB7XG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgW3Jlc3VsdC5tb2R1bGVJZF0pO1xuIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IHdhcm5VbmV4cGVjdGVkUmVxdWlyZTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBTdG9yZSBzZWxmIGFjY2VwdGVkIG91dGRhdGVkIG1vZHVsZXMgdG8gcmVxdWlyZSB0aGVtIGxhdGVyIGJ5IHRoZSBtb2R1bGUgc3lzdGVtXG4gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0Zm9yIChpID0gMDsgaSA8IG91dGRhdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdG1vZHVsZUlkID0gb3V0ZGF0ZWRNb2R1bGVzW2ldO1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdICYmXG4gXHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxuIFx0XHRcdClcbiBcdFx0XHRcdG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5wdXNoKHtcbiBcdFx0XHRcdFx0bW9kdWxlOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxuIFx0XHRcdFx0fSk7XG4gXHRcdH1cblxuIFx0XHQvLyBOb3cgaW4gXCJkaXNwb3NlXCIgcGhhc2VcbiBcdFx0aG90U2V0U3RhdHVzKFwiZGlzcG9zZVwiKTtcbiBcdFx0T2JqZWN0LmtleXMoaG90QXZhaWxhYmxlRmlsZXNNYXApLmZvckVhY2goZnVuY3Rpb24oY2h1bmtJZCkge1xuIFx0XHRcdGlmIChob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSA9PT0gZmFsc2UpIHtcbiBcdFx0XHRcdGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKTtcbiBcdFx0XHR9XG4gXHRcdH0pO1xuXG4gXHRcdHZhciBpZHg7XG4gXHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpO1xuIFx0XHR3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuIFx0XHRcdG1vZHVsZUlkID0gcXVldWUucG9wKCk7XG4gXHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0aWYgKCFtb2R1bGUpIGNvbnRpbnVlO1xuXG4gXHRcdFx0dmFyIGRhdGEgPSB7fTtcblxuIFx0XHRcdC8vIENhbGwgZGlzcG9zZSBoYW5kbGVyc1xuIFx0XHRcdHZhciBkaXNwb3NlSGFuZGxlcnMgPSBtb2R1bGUuaG90Ll9kaXNwb3NlSGFuZGxlcnM7XG4gXHRcdFx0Zm9yIChqID0gMDsgaiA8IGRpc3Bvc2VIYW5kbGVycy5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0Y2IgPSBkaXNwb3NlSGFuZGxlcnNbal07XG4gXHRcdFx0XHRjYihkYXRhKTtcbiBcdFx0XHR9XG4gXHRcdFx0aG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdID0gZGF0YTtcblxuIFx0XHRcdC8vIGRpc2FibGUgbW9kdWxlICh0aGlzIGRpc2FibGVzIHJlcXVpcmVzIGZyb20gdGhpcyBtb2R1bGUpXG4gXHRcdFx0bW9kdWxlLmhvdC5hY3RpdmUgPSBmYWxzZTtcblxuIFx0XHRcdC8vIHJlbW92ZSBtb2R1bGUgZnJvbSBjYWNoZVxuIFx0XHRcdGRlbGV0ZSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcblxuIFx0XHRcdC8vIHdoZW4gZGlzcG9zaW5nIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2FsbCBkaXNwb3NlIGhhbmRsZXJcbiBcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuXG4gXHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cbiBcdFx0XHRmb3IgKGogPSAwOyBqIDwgbW9kdWxlLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgY2hpbGQgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZS5jaGlsZHJlbltqXV07XG4gXHRcdFx0XHRpZiAoIWNoaWxkKSBjb250aW51ZTtcbiBcdFx0XHRcdGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIHtcbiBcdFx0XHRcdFx0Y2hpbGQucGFyZW50cy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxuIFx0XHR2YXIgZGVwZW5kZW5jeTtcbiBcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzO1xuIFx0XHRmb3IgKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZClcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKG1vZHVsZSkge1xuIFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0Zm9yIChqID0gMDsgaiA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xuIFx0XHRcdFx0XHRcdGlkeCA9IG1vZHVsZS5jaGlsZHJlbi5pbmRleE9mKGRlcGVuZGVuY3kpO1xuIFx0XHRcdFx0XHRcdGlmIChpZHggPj0gMCkgbW9kdWxlLmNoaWxkcmVuLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gTm90IGluIFwiYXBwbHlcIiBwaGFzZVxuIFx0XHRob3RTZXRTdGF0dXMoXCJhcHBseVwiKTtcblxuIFx0XHRob3RDdXJyZW50SGFzaCA9IGhvdFVwZGF0ZU5ld0hhc2g7XG5cbiBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXG4gXHRcdGZvciAobW9kdWxlSWQgaW4gYXBwbGllZFVwZGF0ZSkge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXG4gXHRcdHZhciBlcnJvciA9IG51bGw7XG4gXHRcdGZvciAobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKVxuIFx0XHRcdCkge1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAobW9kdWxlKSB7XG4gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHR2YXIgY2FsbGJhY2tzID0gW107XG4gXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcbiBcdFx0XHRcdFx0XHRjYiA9IG1vZHVsZS5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcGVuZGVuY3ldO1xuIFx0XHRcdFx0XHRcdGlmIChjYikge1xuIFx0XHRcdFx0XHRcdFx0aWYgKGNhbGxiYWNrcy5pbmRleE9mKGNiKSAhPT0gLTEpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdFx0Y2IgPSBjYWxsYmFja3NbaV07XG4gXHRcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHRcdGNiKG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzKTtcbiBcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJhY2NlcHQtZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdFx0XHRkZXBlbmRlbmN5SWQ6IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldLFxuIFx0XHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBMb2FkIHNlbGYgYWNjZXB0ZWQgbW9kdWxlc1xuIFx0XHRmb3IgKGkgPSAwOyBpIDwgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbaV07XG4gXHRcdFx0bW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcbiBcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG4gXHRcdFx0dHJ5IHtcbiBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xuIFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0aWYgKHR5cGVvZiBpdGVtLmVycm9ySGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gXHRcdFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcbiBcdFx0XHRcdFx0fSBjYXRjaCAoZXJyMikge1xuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yLWhhbmRsZXItZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnIyLFxuIFx0XHRcdFx0XHRcdFx0XHRvcmlnaW5hbEVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnIyO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGhhbmRsZSBlcnJvcnMgaW4gYWNjZXB0IGhhbmRsZXJzIGFuZCBzZWxmIGFjY2VwdGVkIG1vZHVsZSBsb2FkXG4gXHRcdGlmIChlcnJvcikge1xuIFx0XHRcdGhvdFNldFN0YXR1cyhcImZhaWxcIik7XG4gXHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiBcdFx0fVxuXG4gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XG4gXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gXHRcdFx0cmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aG90OiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpLFxuIFx0XHRcdHBhcmVudHM6IChob3RDdXJyZW50UGFyZW50c1RlbXAgPSBob3RDdXJyZW50UGFyZW50cywgaG90Q3VycmVudFBhcmVudHMgPSBbXSwgaG90Q3VycmVudFBhcmVudHNUZW1wKSxcbiBcdFx0XHRjaGlsZHJlbjogW11cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkpO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIF9fd2VicGFja19oYXNoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gaG90Q3JlYXRlUmVxdWlyZSgyOCkoX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMjgpO1xuIiwiIWZ1bmN0aW9uKGUpe3ZhciBuPS9pUGhvbmUvaSx0PS9pUG9kL2kscj0vaVBhZC9pLGE9L1xcYkFuZHJvaWQoPzouKylNb2JpbGVcXGIvaSxwPS9BbmRyb2lkL2ksYj0vXFxiQW5kcm9pZCg/Oi4rKVNENDkzMFVSXFxiL2ksbD0vXFxiQW5kcm9pZCg/Oi4rKSg/OktGW0EtWl17Miw0fSlcXGIvaSxmPS9XaW5kb3dzIFBob25lL2kscz0vXFxiV2luZG93cyg/Oi4rKUFSTVxcYi9pLHU9L0JsYWNrQmVycnkvaSxjPS9CQjEwL2ksaD0vT3BlcmEgTWluaS9pLHY9L1xcYihDcmlPU3xDaHJvbWUpKD86LispTW9iaWxlL2ksdz0vTW9iaWxlKD86LispRmlyZWZveFxcYi9pO2Z1bmN0aW9uIG0oZSxpKXtyZXR1cm4gZS50ZXN0KGkpfWZ1bmN0aW9uIGkoZSl7dmFyIGk9ZXx8KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3I/bmF2aWdhdG9yLnVzZXJBZ2VudDpcIlwiKSxvPWkuc3BsaXQoXCJbRkJBTlwiKTt2b2lkIDAhPT1vWzFdJiYoaT1vWzBdKSx2b2lkIDAhPT0obz1pLnNwbGl0KFwiVHdpdHRlclwiKSlbMV0mJihpPW9bMF0pO3ZhciBkPXthcHBsZTp7cGhvbmU6bShuLGkpJiYhbShmLGkpLGlwb2Q6bSh0LGkpLHRhYmxldDohbShuLGkpJiZtKHIsaSkmJiFtKGYsaSksZGV2aWNlOihtKG4saSl8fG0odCxpKXx8bShyLGkpKSYmIW0oZixpKX0sYW1hem9uOntwaG9uZTptKGIsaSksdGFibGV0OiFtKGIsaSkmJm0obCxpKSxkZXZpY2U6bShiLGkpfHxtKGwsaSl9LGFuZHJvaWQ6e3Bob25lOiFtKGYsaSkmJm0oYixpKXx8IW0oZixpKSYmbShhLGkpLHRhYmxldDohbShmLGkpJiYhbShiLGkpJiYhbShhLGkpJiYobShsLGkpfHxtKHAsaSkpLGRldmljZTohbShmLGkpJiYobShiLGkpfHxtKGwsaSl8fG0oYSxpKXx8bShwLGkpKXx8bSgvXFxib2todHRwXFxiL2ksaSl9LHdpbmRvd3M6e3Bob25lOm0oZixpKSx0YWJsZXQ6bShzLGkpLGRldmljZTptKGYsaSl8fG0ocyxpKX0sb3RoZXI6e2JsYWNrYmVycnk6bSh1LGkpLGJsYWNrYmVycnkxMDptKGMsaSksb3BlcmE6bShoLGkpLGZpcmVmb3g6bSh3LGkpLGNocm9tZTptKHYsaSksZGV2aWNlOm0odSxpKXx8bShjLGkpfHxtKGgsaSl8fG0odyxpKXx8bSh2LGkpfX07cmV0dXJuIGQuYW55PWQuYXBwbGUuZGV2aWNlfHxkLmFuZHJvaWQuZGV2aWNlfHxkLndpbmRvd3MuZGV2aWNlfHxkLm90aGVyLmRldmljZSxkLnBob25lPWQuYXBwbGUucGhvbmV8fGQuYW5kcm9pZC5waG9uZXx8ZC53aW5kb3dzLnBob25lLGQudGFibGV0PWQuYXBwbGUudGFibGV0fHxkLmFuZHJvaWQudGFibGV0fHxkLndpbmRvd3MudGFibGV0LGR9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJlwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3c/bW9kdWxlLmV4cG9ydHM9aTpcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz8obW9kdWxlLmV4cG9ydHM9aSgpLG1vZHVsZS5leHBvcnRzLmlzTW9iaWxlPWkpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZS5pc01vYmlsZT1pKCkpOmUuaXNNb2JpbGU9aSgpfSh0aGlzKTsiLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgcHVueWNvZGUgPSByZXF1aXJlKCdwdW55Y29kZScpO1xudmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuZXhwb3J0cy5wYXJzZSA9IHVybFBhcnNlO1xuZXhwb3J0cy5yZXNvbHZlID0gdXJsUmVzb2x2ZTtcbmV4cG9ydHMucmVzb2x2ZU9iamVjdCA9IHVybFJlc29sdmVPYmplY3Q7XG5leHBvcnRzLmZvcm1hdCA9IHVybEZvcm1hdDtcblxuZXhwb3J0cy5VcmwgPSBVcmw7XG5cbmZ1bmN0aW9uIFVybCgpIHtcbiAgdGhpcy5wcm90b2NvbCA9IG51bGw7XG4gIHRoaXMuc2xhc2hlcyA9IG51bGw7XG4gIHRoaXMuYXV0aCA9IG51bGw7XG4gIHRoaXMuaG9zdCA9IG51bGw7XG4gIHRoaXMucG9ydCA9IG51bGw7XG4gIHRoaXMuaG9zdG5hbWUgPSBudWxsO1xuICB0aGlzLmhhc2ggPSBudWxsO1xuICB0aGlzLnNlYXJjaCA9IG51bGw7XG4gIHRoaXMucXVlcnkgPSBudWxsO1xuICB0aGlzLnBhdGhuYW1lID0gbnVsbDtcbiAgdGhpcy5wYXRoID0gbnVsbDtcbiAgdGhpcy5ocmVmID0gbnVsbDtcbn1cblxuLy8gUmVmZXJlbmNlOiBSRkMgMzk4NiwgUkZDIDE4MDgsIFJGQyAyMzk2XG5cbi8vIGRlZmluZSB0aGVzZSBoZXJlIHNvIGF0IGxlYXN0IHRoZXkgb25seSBoYXZlIHRvIGJlXG4vLyBjb21waWxlZCBvbmNlIG9uIHRoZSBmaXJzdCBtb2R1bGUgbG9hZC5cbnZhciBwcm90b2NvbFBhdHRlcm4gPSAvXihbYS16MC05ListXSs6KS9pLFxuICAgIHBvcnRQYXR0ZXJuID0gLzpbMC05XSokLyxcblxuICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgYSBzaW1wbGUgcGF0aCBVUkxcbiAgICBzaW1wbGVQYXRoUGF0dGVybiA9IC9eKFxcL1xcLz8oPyFcXC8pW15cXD9cXHNdKikoXFw/W15cXHNdKik/JC8sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyByZXNlcnZlZCBmb3IgZGVsaW1pdGluZyBVUkxzLlxuICAgIC8vIFdlIGFjdHVhbGx5IGp1c3QgYXV0by1lc2NhcGUgdGhlc2UuXG4gICAgZGVsaW1zID0gWyc8JywgJz4nLCAnXCInLCAnYCcsICcgJywgJ1xccicsICdcXG4nLCAnXFx0J10sXG5cbiAgICAvLyBSRkMgMjM5NjogY2hhcmFjdGVycyBub3QgYWxsb3dlZCBmb3IgdmFyaW91cyByZWFzb25zLlxuICAgIHVud2lzZSA9IFsneycsICd9JywgJ3wnLCAnXFxcXCcsICdeJywgJ2AnXS5jb25jYXQoZGVsaW1zKSxcblxuICAgIC8vIEFsbG93ZWQgYnkgUkZDcywgYnV0IGNhdXNlIG9mIFhTUyBhdHRhY2tzLiAgQWx3YXlzIGVzY2FwZSB0aGVzZS5cbiAgICBhdXRvRXNjYXBlID0gWydcXCcnXS5jb25jYXQodW53aXNlKSxcbiAgICAvLyBDaGFyYWN0ZXJzIHRoYXQgYXJlIG5ldmVyIGV2ZXIgYWxsb3dlZCBpbiBhIGhvc3RuYW1lLlxuICAgIC8vIE5vdGUgdGhhdCBhbnkgaW52YWxpZCBjaGFycyBhcmUgYWxzbyBoYW5kbGVkLCBidXQgdGhlc2VcbiAgICAvLyBhcmUgdGhlIG9uZXMgdGhhdCBhcmUgKmV4cGVjdGVkKiB0byBiZSBzZWVuLCBzbyB3ZSBmYXN0LXBhdGhcbiAgICAvLyB0aGVtLlxuICAgIG5vbkhvc3RDaGFycyA9IFsnJScsICcvJywgJz8nLCAnOycsICcjJ10uY29uY2F0KGF1dG9Fc2NhcGUpLFxuICAgIGhvc3RFbmRpbmdDaGFycyA9IFsnLycsICc/JywgJyMnXSxcbiAgICBob3N0bmFtZU1heExlbiA9IDI1NSxcbiAgICBob3N0bmFtZVBhcnRQYXR0ZXJuID0gL15bK2EtejAtOUEtWl8tXXswLDYzfSQvLFxuICAgIGhvc3RuYW1lUGFydFN0YXJ0ID0gL14oWythLXowLTlBLVpfLV17MCw2M30pKC4qKSQvLFxuICAgIC8vIHByb3RvY29scyB0aGF0IGNhbiBhbGxvdyBcInVuc2FmZVwiIGFuZCBcInVud2lzZVwiIGNoYXJzLlxuICAgIHVuc2FmZVByb3RvY29sID0ge1xuICAgICAgJ2phdmFzY3JpcHQnOiB0cnVlLFxuICAgICAgJ2phdmFzY3JpcHQ6JzogdHJ1ZVxuICAgIH0sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgbmV2ZXIgaGF2ZSBhIGhvc3RuYW1lLlxuICAgIGhvc3RsZXNzUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBhbHdheXMgY29udGFpbiBhIC8vIGJpdC5cbiAgICBzbGFzaGVkUHJvdG9jb2wgPSB7XG4gICAgICAnaHR0cCc6IHRydWUsXG4gICAgICAnaHR0cHMnOiB0cnVlLFxuICAgICAgJ2Z0cCc6IHRydWUsXG4gICAgICAnZ29waGVyJzogdHJ1ZSxcbiAgICAgICdmaWxlJzogdHJ1ZSxcbiAgICAgICdodHRwOic6IHRydWUsXG4gICAgICAnaHR0cHM6JzogdHJ1ZSxcbiAgICAgICdmdHA6JzogdHJ1ZSxcbiAgICAgICdnb3BoZXI6JzogdHJ1ZSxcbiAgICAgICdmaWxlOic6IHRydWVcbiAgICB9LFxuICAgIHF1ZXJ5c3RyaW5nID0gcmVxdWlyZSgncXVlcnlzdHJpbmcnKTtcblxuZnVuY3Rpb24gdXJsUGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAodXJsICYmIHV0aWwuaXNPYmplY3QodXJsKSAmJiB1cmwgaW5zdGFuY2VvZiBVcmwpIHJldHVybiB1cmw7XG5cbiAgdmFyIHUgPSBuZXcgVXJsO1xuICB1LnBhcnNlKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpO1xuICByZXR1cm4gdTtcbn1cblxuVXJsLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKHVybCwgcGFyc2VRdWVyeVN0cmluZywgc2xhc2hlc0Rlbm90ZUhvc3QpIHtcbiAgaWYgKCF1dGlsLmlzU3RyaW5nKHVybCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUGFyYW1ldGVyICd1cmwnIG11c3QgYmUgYSBzdHJpbmcsIG5vdCBcIiArIHR5cGVvZiB1cmwpO1xuICB9XG5cbiAgLy8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuXG4gIC8vIEJhY2sgc2xhc2hlcyBiZWZvcmUgdGhlIHF1ZXJ5IHN0cmluZyBnZXQgY29udmVydGVkIHRvIGZvcndhcmQgc2xhc2hlc1xuICAvLyBTZWU6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yNTkxNlxuICB2YXIgcXVlcnlJbmRleCA9IHVybC5pbmRleE9mKCc/JyksXG4gICAgICBzcGxpdHRlciA9XG4gICAgICAgICAgKHF1ZXJ5SW5kZXggIT09IC0xICYmIHF1ZXJ5SW5kZXggPCB1cmwuaW5kZXhPZignIycpKSA/ICc/JyA6ICcjJyxcbiAgICAgIHVTcGxpdCA9IHVybC5zcGxpdChzcGxpdHRlciksXG4gICAgICBzbGFzaFJlZ2V4ID0gL1xcXFwvZztcbiAgdVNwbGl0WzBdID0gdVNwbGl0WzBdLnJlcGxhY2Uoc2xhc2hSZWdleCwgJy8nKTtcbiAgdXJsID0gdVNwbGl0LmpvaW4oc3BsaXR0ZXIpO1xuXG4gIHZhciByZXN0ID0gdXJsO1xuXG4gIC8vIHRyaW0gYmVmb3JlIHByb2NlZWRpbmcuXG4gIC8vIFRoaXMgaXMgdG8gc3VwcG9ydCBwYXJzZSBzdHVmZiBsaWtlIFwiICBodHRwOi8vZm9vLmNvbSAgXFxuXCJcbiAgcmVzdCA9IHJlc3QudHJpbSgpO1xuXG4gIGlmICghc2xhc2hlc0Rlbm90ZUhvc3QgJiYgdXJsLnNwbGl0KCcjJykubGVuZ3RoID09PSAxKSB7XG4gICAgLy8gVHJ5IGZhc3QgcGF0aCByZWdleHBcbiAgICB2YXIgc2ltcGxlUGF0aCA9IHNpbXBsZVBhdGhQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gICAgaWYgKHNpbXBsZVBhdGgpIHtcbiAgICAgIHRoaXMucGF0aCA9IHJlc3Q7XG4gICAgICB0aGlzLmhyZWYgPSByZXN0O1xuICAgICAgdGhpcy5wYXRobmFtZSA9IHNpbXBsZVBhdGhbMV07XG4gICAgICBpZiAoc2ltcGxlUGF0aFsyXSkge1xuICAgICAgICB0aGlzLnNlYXJjaCA9IHNpbXBsZVBhdGhbMl07XG4gICAgICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5c3RyaW5nLnBhcnNlKHRoaXMuc2VhcmNoLnN1YnN0cigxKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5xdWVyeSA9IHRoaXMuc2VhcmNoLnN1YnN0cigxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwcm90byA9IHByb3RvY29sUGF0dGVybi5leGVjKHJlc3QpO1xuICBpZiAocHJvdG8pIHtcbiAgICBwcm90byA9IHByb3RvWzBdO1xuICAgIHZhciBsb3dlclByb3RvID0gcHJvdG8udG9Mb3dlckNhc2UoKTtcbiAgICB0aGlzLnByb3RvY29sID0gbG93ZXJQcm90bztcbiAgICByZXN0ID0gcmVzdC5zdWJzdHIocHJvdG8ubGVuZ3RoKTtcbiAgfVxuXG4gIC8vIGZpZ3VyZSBvdXQgaWYgaXQncyBnb3QgYSBob3N0XG4gIC8vIHVzZXJAc2VydmVyIGlzICphbHdheXMqIGludGVycHJldGVkIGFzIGEgaG9zdG5hbWUsIGFuZCB1cmxcbiAgLy8gcmVzb2x1dGlvbiB3aWxsIHRyZWF0IC8vZm9vL2JhciBhcyBob3N0PWZvbyxwYXRoPWJhciBiZWNhdXNlIHRoYXQnc1xuICAvLyBob3cgdGhlIGJyb3dzZXIgcmVzb2x2ZXMgcmVsYXRpdmUgVVJMcy5cbiAgaWYgKHNsYXNoZXNEZW5vdGVIb3N0IHx8IHByb3RvIHx8IHJlc3QubWF0Y2goL15cXC9cXC9bXkBcXC9dK0BbXkBcXC9dKy8pKSB7XG4gICAgdmFyIHNsYXNoZXMgPSByZXN0LnN1YnN0cigwLCAyKSA9PT0gJy8vJztcbiAgICBpZiAoc2xhc2hlcyAmJiAhKHByb3RvICYmIGhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dKSkge1xuICAgICAgcmVzdCA9IHJlc3Quc3Vic3RyKDIpO1xuICAgICAgdGhpcy5zbGFzaGVzID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWhvc3RsZXNzUHJvdG9jb2xbcHJvdG9dICYmXG4gICAgICAoc2xhc2hlcyB8fCAocHJvdG8gJiYgIXNsYXNoZWRQcm90b2NvbFtwcm90b10pKSkge1xuXG4gICAgLy8gdGhlcmUncyBhIGhvc3RuYW1lLlxuICAgIC8vIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiAvLCA/LCA7LCBvciAjIGVuZHMgdGhlIGhvc3QuXG4gICAgLy9cbiAgICAvLyBJZiB0aGVyZSBpcyBhbiBAIGluIHRoZSBob3N0bmFtZSwgdGhlbiBub24taG9zdCBjaGFycyAqYXJlKiBhbGxvd2VkXG4gICAgLy8gdG8gdGhlIGxlZnQgb2YgdGhlIGxhc3QgQCBzaWduLCB1bmxlc3Mgc29tZSBob3N0LWVuZGluZyBjaGFyYWN0ZXJcbiAgICAvLyBjb21lcyAqYmVmb3JlKiB0aGUgQC1zaWduLlxuICAgIC8vIFVSTHMgYXJlIG9ibm94aW91cy5cbiAgICAvL1xuICAgIC8vIGV4OlxuICAgIC8vIGh0dHA6Ly9hQGJAYy8gPT4gdXNlcjphQGIgaG9zdDpjXG4gICAgLy8gaHR0cDovL2FAYj9AYyA9PiB1c2VyOmEgaG9zdDpjIHBhdGg6Lz9AY1xuXG4gICAgLy8gdjAuMTIgVE9ETyhpc2FhY3MpOiBUaGlzIGlzIG5vdCBxdWl0ZSBob3cgQ2hyb21lIGRvZXMgdGhpbmdzLlxuICAgIC8vIFJldmlldyBvdXIgdGVzdCBjYXNlIGFnYWluc3QgYnJvd3NlcnMgbW9yZSBjb21wcmVoZW5zaXZlbHkuXG5cbiAgICAvLyBmaW5kIHRoZSBmaXJzdCBpbnN0YW5jZSBvZiBhbnkgaG9zdEVuZGluZ0NoYXJzXG4gICAgdmFyIGhvc3RFbmQgPSAtMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvc3RFbmRpbmdDaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGhlYyA9IHJlc3QuaW5kZXhPZihob3N0RW5kaW5nQ2hhcnNbaV0pO1xuICAgICAgaWYgKGhlYyAhPT0gLTEgJiYgKGhvc3RFbmQgPT09IC0xIHx8IGhlYyA8IGhvc3RFbmQpKVxuICAgICAgICBob3N0RW5kID0gaGVjO1xuICAgIH1cblxuICAgIC8vIGF0IHRoaXMgcG9pbnQsIGVpdGhlciB3ZSBoYXZlIGFuIGV4cGxpY2l0IHBvaW50IHdoZXJlIHRoZVxuICAgIC8vIGF1dGggcG9ydGlvbiBjYW5ub3QgZ28gcGFzdCwgb3IgdGhlIGxhc3QgQCBjaGFyIGlzIHRoZSBkZWNpZGVyLlxuICAgIHZhciBhdXRoLCBhdFNpZ247XG4gICAgaWYgKGhvc3RFbmQgPT09IC0xKSB7XG4gICAgICAvLyBhdFNpZ24gY2FuIGJlIGFueXdoZXJlLlxuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhdFNpZ24gbXVzdCBiZSBpbiBhdXRoIHBvcnRpb24uXG4gICAgICAvLyBodHRwOi8vYUBiL2NAZCA9PiBob3N0OmIgYXV0aDphIHBhdGg6L2NAZFxuICAgICAgYXRTaWduID0gcmVzdC5sYXN0SW5kZXhPZignQCcsIGhvc3RFbmQpO1xuICAgIH1cblxuICAgIC8vIE5vdyB3ZSBoYXZlIGEgcG9ydGlvbiB3aGljaCBpcyBkZWZpbml0ZWx5IHRoZSBhdXRoLlxuICAgIC8vIFB1bGwgdGhhdCBvZmYuXG4gICAgaWYgKGF0U2lnbiAhPT0gLTEpIHtcbiAgICAgIGF1dGggPSByZXN0LnNsaWNlKDAsIGF0U2lnbik7XG4gICAgICByZXN0ID0gcmVzdC5zbGljZShhdFNpZ24gKyAxKTtcbiAgICAgIHRoaXMuYXV0aCA9IGRlY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICB9XG5cbiAgICAvLyB0aGUgaG9zdCBpcyB0aGUgcmVtYWluaW5nIHRvIHRoZSBsZWZ0IG9mIHRoZSBmaXJzdCBub24taG9zdCBjaGFyXG4gICAgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9uSG9zdENoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKG5vbkhvc3RDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuICAgIC8vIGlmIHdlIHN0aWxsIGhhdmUgbm90IGhpdCBpdCwgdGhlbiB0aGUgZW50aXJlIHRoaW5nIGlzIGEgaG9zdC5cbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpXG4gICAgICBob3N0RW5kID0gcmVzdC5sZW5ndGg7XG5cbiAgICB0aGlzLmhvc3QgPSByZXN0LnNsaWNlKDAsIGhvc3RFbmQpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKGhvc3RFbmQpO1xuXG4gICAgLy8gcHVsbCBvdXQgcG9ydC5cbiAgICB0aGlzLnBhcnNlSG9zdCgpO1xuXG4gICAgLy8gd2UndmUgaW5kaWNhdGVkIHRoYXQgdGhlcmUgaXMgYSBob3N0bmFtZSxcbiAgICAvLyBzbyBldmVuIGlmIGl0J3MgZW1wdHksIGl0IGhhcyB0byBiZSBwcmVzZW50LlxuICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuXG4gICAgLy8gaWYgaG9zdG5hbWUgYmVnaW5zIHdpdGggWyBhbmQgZW5kcyB3aXRoIF1cbiAgICAvLyBhc3N1bWUgdGhhdCBpdCdzIGFuIElQdjYgYWRkcmVzcy5cbiAgICB2YXIgaXB2Nkhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZVswXSA9PT0gJ1snICYmXG4gICAgICAgIHRoaXMuaG9zdG5hbWVbdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAxXSA9PT0gJ10nO1xuXG4gICAgLy8gdmFsaWRhdGUgYSBsaXR0bGUuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIHZhciBob3N0cGFydHMgPSB0aGlzLmhvc3RuYW1lLnNwbGl0KC9cXC4vKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gaG9zdHBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIgcGFydCA9IGhvc3RwYXJ0c1tpXTtcbiAgICAgICAgaWYgKCFwYXJ0KSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFwYXJ0Lm1hdGNoKGhvc3RuYW1lUGFydFBhdHRlcm4pKSB7XG4gICAgICAgICAgdmFyIG5ld3BhcnQgPSAnJztcbiAgICAgICAgICBmb3IgKHZhciBqID0gMCwgayA9IHBhcnQubGVuZ3RoOyBqIDwgazsgaisrKSB7XG4gICAgICAgICAgICBpZiAocGFydC5jaGFyQ29kZUF0KGopID4gMTI3KSB7XG4gICAgICAgICAgICAgIC8vIHdlIHJlcGxhY2Ugbm9uLUFTQ0lJIGNoYXIgd2l0aCBhIHRlbXBvcmFyeSBwbGFjZWhvbGRlclxuICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRoaXMgdG8gbWFrZSBzdXJlIHNpemUgb2YgaG9zdG5hbWUgaXMgbm90XG4gICAgICAgICAgICAgIC8vIGJyb2tlbiBieSByZXBsYWNpbmcgbm9uLUFTQ0lJIGJ5IG5vdGhpbmdcbiAgICAgICAgICAgICAgbmV3cGFydCArPSAneCc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9IHBhcnRbal07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHdlIHRlc3QgYWdhaW4gd2l0aCBBU0NJSSBjaGFyIG9ubHlcbiAgICAgICAgICBpZiAoIW5ld3BhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICAgIHZhciB2YWxpZFBhcnRzID0gaG9zdHBhcnRzLnNsaWNlKDAsIGkpO1xuICAgICAgICAgICAgdmFyIG5vdEhvc3QgPSBob3N0cGFydHMuc2xpY2UoaSArIDEpO1xuICAgICAgICAgICAgdmFyIGJpdCA9IHBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0U3RhcnQpO1xuICAgICAgICAgICAgaWYgKGJpdCkge1xuICAgICAgICAgICAgICB2YWxpZFBhcnRzLnB1c2goYml0WzFdKTtcbiAgICAgICAgICAgICAgbm90SG9zdC51bnNoaWZ0KGJpdFsyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm90SG9zdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcmVzdCA9ICcvJyArIG5vdEhvc3Quam9pbignLicpICsgcmVzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaG9zdG5hbWUgPSB2YWxpZFBhcnRzLmpvaW4oJy4nKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmhvc3RuYW1lLmxlbmd0aCA+IGhvc3RuYW1lTWF4TGVuKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGhvc3RuYW1lcyBhcmUgYWx3YXlzIGxvd2VyIGNhc2UuXG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIGlmICghaXB2Nkhvc3RuYW1lKSB7XG4gICAgICAvLyBJRE5BIFN1cHBvcnQ6IFJldHVybnMgYSBwdW55Y29kZWQgcmVwcmVzZW50YXRpb24gb2YgXCJkb21haW5cIi5cbiAgICAgIC8vIEl0IG9ubHkgY29udmVydHMgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHRoYXRcbiAgICAgIC8vIGhhdmUgbm9uLUFTQ0lJIGNoYXJhY3RlcnMsIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWZcbiAgICAgIC8vIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCBhbHJlYWR5IGlzIEFTQ0lJLW9ubHkuXG4gICAgICB0aGlzLmhvc3RuYW1lID0gcHVueWNvZGUudG9BU0NJSSh0aGlzLmhvc3RuYW1lKTtcbiAgICB9XG5cbiAgICB2YXIgcCA9IHRoaXMucG9ydCA/ICc6JyArIHRoaXMucG9ydCA6ICcnO1xuICAgIHZhciBoID0gdGhpcy5ob3N0bmFtZSB8fCAnJztcbiAgICB0aGlzLmhvc3QgPSBoICsgcDtcbiAgICB0aGlzLmhyZWYgKz0gdGhpcy5ob3N0O1xuXG4gICAgLy8gc3RyaXAgWyBhbmQgXSBmcm9tIHRoZSBob3N0bmFtZVxuICAgIC8vIHRoZSBob3N0IGZpZWxkIHN0aWxsIHJldGFpbnMgdGhlbSwgdGhvdWdoXG4gICAgaWYgKGlwdjZIb3N0bmFtZSkge1xuICAgICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUuc3Vic3RyKDEsIHRoaXMuaG9zdG5hbWUubGVuZ3RoIC0gMik7XG4gICAgICBpZiAocmVzdFswXSAhPT0gJy8nKSB7XG4gICAgICAgIHJlc3QgPSAnLycgKyByZXN0O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIG5vdyByZXN0IGlzIHNldCB0byB0aGUgcG9zdC1ob3N0IHN0dWZmLlxuICAvLyBjaG9wIG9mZiBhbnkgZGVsaW0gY2hhcnMuXG4gIGlmICghdW5zYWZlUHJvdG9jb2xbbG93ZXJQcm90b10pIHtcblxuICAgIC8vIEZpcnN0LCBtYWtlIDEwMCUgc3VyZSB0aGF0IGFueSBcImF1dG9Fc2NhcGVcIiBjaGFycyBnZXRcbiAgICAvLyBlc2NhcGVkLCBldmVuIGlmIGVuY29kZVVSSUNvbXBvbmVudCBkb2Vzbid0IHRoaW5rIHRoZXlcbiAgICAvLyBuZWVkIHRvIGJlLlxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXV0b0VzY2FwZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHZhciBhZSA9IGF1dG9Fc2NhcGVbaV07XG4gICAgICBpZiAocmVzdC5pbmRleE9mKGFlKSA9PT0gLTEpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgdmFyIGVzYyA9IGVuY29kZVVSSUNvbXBvbmVudChhZSk7XG4gICAgICBpZiAoZXNjID09PSBhZSkge1xuICAgICAgICBlc2MgPSBlc2NhcGUoYWUpO1xuICAgICAgfVxuICAgICAgcmVzdCA9IHJlc3Quc3BsaXQoYWUpLmpvaW4oZXNjKTtcbiAgICB9XG4gIH1cblxuXG4gIC8vIGNob3Agb2ZmIGZyb20gdGhlIHRhaWwgZmlyc3QuXG4gIHZhciBoYXNoID0gcmVzdC5pbmRleE9mKCcjJyk7XG4gIGlmIChoYXNoICE9PSAtMSkge1xuICAgIC8vIGdvdCBhIGZyYWdtZW50IHN0cmluZy5cbiAgICB0aGlzLmhhc2ggPSByZXN0LnN1YnN0cihoYXNoKTtcbiAgICByZXN0ID0gcmVzdC5zbGljZSgwLCBoYXNoKTtcbiAgfVxuICB2YXIgcW0gPSByZXN0LmluZGV4T2YoJz8nKTtcbiAgaWYgKHFtICE9PSAtMSkge1xuICAgIHRoaXMuc2VhcmNoID0gcmVzdC5zdWJzdHIocW0pO1xuICAgIHRoaXMucXVlcnkgPSByZXN0LnN1YnN0cihxbSArIDEpO1xuICAgIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5xdWVyeSk7XG4gICAgfVxuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIHFtKTtcbiAgfSBlbHNlIGlmIChwYXJzZVF1ZXJ5U3RyaW5nKSB7XG4gICAgLy8gbm8gcXVlcnkgc3RyaW5nLCBidXQgcGFyc2VRdWVyeVN0cmluZyBzdGlsbCByZXF1ZXN0ZWRcbiAgICB0aGlzLnNlYXJjaCA9ICcnO1xuICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgfVxuICBpZiAocmVzdCkgdGhpcy5wYXRobmFtZSA9IHJlc3Q7XG4gIGlmIChzbGFzaGVkUHJvdG9jb2xbbG93ZXJQcm90b10gJiZcbiAgICAgIHRoaXMuaG9zdG5hbWUgJiYgIXRoaXMucGF0aG5hbWUpIHtcbiAgICB0aGlzLnBhdGhuYW1lID0gJy8nO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICBpZiAodGhpcy5wYXRobmFtZSB8fCB0aGlzLnNlYXJjaCkge1xuICAgIHZhciBwID0gdGhpcy5wYXRobmFtZSB8fCAnJztcbiAgICB2YXIgcyA9IHRoaXMuc2VhcmNoIHx8ICcnO1xuICAgIHRoaXMucGF0aCA9IHAgKyBzO1xuICB9XG5cbiAgLy8gZmluYWxseSwgcmVjb25zdHJ1Y3QgdGhlIGhyZWYgYmFzZWQgb24gd2hhdCBoYXMgYmVlbiB2YWxpZGF0ZWQuXG4gIHRoaXMuaHJlZiA9IHRoaXMuZm9ybWF0KCk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gZm9ybWF0IGEgcGFyc2VkIG9iamVjdCBpbnRvIGEgdXJsIHN0cmluZ1xuZnVuY3Rpb24gdXJsRm9ybWF0KG9iaikge1xuICAvLyBlbnN1cmUgaXQncyBhbiBvYmplY3QsIGFuZCBub3QgYSBzdHJpbmcgdXJsLlxuICAvLyBJZiBpdCdzIGFuIG9iaiwgdGhpcyBpcyBhIG5vLW9wLlxuICAvLyB0aGlzIHdheSwgeW91IGNhbiBjYWxsIHVybF9mb3JtYXQoKSBvbiBzdHJpbmdzXG4gIC8vIHRvIGNsZWFuIHVwIHBvdGVudGlhbGx5IHdvbmt5IHVybHMuXG4gIGlmICh1dGlsLmlzU3RyaW5nKG9iaikpIG9iaiA9IHVybFBhcnNlKG9iaik7XG4gIGlmICghKG9iaiBpbnN0YW5jZW9mIFVybCkpIHJldHVybiBVcmwucHJvdG90eXBlLmZvcm1hdC5jYWxsKG9iaik7XG4gIHJldHVybiBvYmouZm9ybWF0KCk7XG59XG5cblVybC5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBhdXRoID0gdGhpcy5hdXRoIHx8ICcnO1xuICBpZiAoYXV0aCkge1xuICAgIGF1dGggPSBlbmNvZGVVUklDb21wb25lbnQoYXV0aCk7XG4gICAgYXV0aCA9IGF1dGgucmVwbGFjZSgvJTNBL2ksICc6Jyk7XG4gICAgYXV0aCArPSAnQCc7XG4gIH1cblxuICB2YXIgcHJvdG9jb2wgPSB0aGlzLnByb3RvY29sIHx8ICcnLFxuICAgICAgcGF0aG5hbWUgPSB0aGlzLnBhdGhuYW1lIHx8ICcnLFxuICAgICAgaGFzaCA9IHRoaXMuaGFzaCB8fCAnJyxcbiAgICAgIGhvc3QgPSBmYWxzZSxcbiAgICAgIHF1ZXJ5ID0gJyc7XG5cbiAgaWYgKHRoaXMuaG9zdCkge1xuICAgIGhvc3QgPSBhdXRoICsgdGhpcy5ob3N0O1xuICB9IGVsc2UgaWYgKHRoaXMuaG9zdG5hbWUpIHtcbiAgICBob3N0ID0gYXV0aCArICh0aGlzLmhvc3RuYW1lLmluZGV4T2YoJzonKSA9PT0gLTEgP1xuICAgICAgICB0aGlzLmhvc3RuYW1lIDpcbiAgICAgICAgJ1snICsgdGhpcy5ob3N0bmFtZSArICddJyk7XG4gICAgaWYgKHRoaXMucG9ydCkge1xuICAgICAgaG9zdCArPSAnOicgKyB0aGlzLnBvcnQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKHRoaXMucXVlcnkgJiZcbiAgICAgIHV0aWwuaXNPYmplY3QodGhpcy5xdWVyeSkgJiZcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMucXVlcnkpLmxlbmd0aCkge1xuICAgIHF1ZXJ5ID0gcXVlcnlzdHJpbmcuc3RyaW5naWZ5KHRoaXMucXVlcnkpO1xuICB9XG5cbiAgdmFyIHNlYXJjaCA9IHRoaXMuc2VhcmNoIHx8IChxdWVyeSAmJiAoJz8nICsgcXVlcnkpKSB8fCAnJztcblxuICBpZiAocHJvdG9jb2wgJiYgcHJvdG9jb2wuc3Vic3RyKC0xKSAhPT0gJzonKSBwcm90b2NvbCArPSAnOic7XG5cbiAgLy8gb25seSB0aGUgc2xhc2hlZFByb3RvY29scyBnZXQgdGhlIC8vLiAgTm90IG1haWx0bzosIHhtcHA6LCBldGMuXG4gIC8vIHVubGVzcyB0aGV5IGhhZCB0aGVtIHRvIGJlZ2luIHdpdGguXG4gIGlmICh0aGlzLnNsYXNoZXMgfHxcbiAgICAgICghcHJvdG9jb2wgfHwgc2xhc2hlZFByb3RvY29sW3Byb3RvY29sXSkgJiYgaG9zdCAhPT0gZmFsc2UpIHtcbiAgICBob3N0ID0gJy8vJyArIChob3N0IHx8ICcnKTtcbiAgICBpZiAocGF0aG5hbWUgJiYgcGF0aG5hbWUuY2hhckF0KDApICE9PSAnLycpIHBhdGhuYW1lID0gJy8nICsgcGF0aG5hbWU7XG4gIH0gZWxzZSBpZiAoIWhvc3QpIHtcbiAgICBob3N0ID0gJyc7XG4gIH1cblxuICBpZiAoaGFzaCAmJiBoYXNoLmNoYXJBdCgwKSAhPT0gJyMnKSBoYXNoID0gJyMnICsgaGFzaDtcbiAgaWYgKHNlYXJjaCAmJiBzZWFyY2guY2hhckF0KDApICE9PSAnPycpIHNlYXJjaCA9ICc/JyArIHNlYXJjaDtcblxuICBwYXRobmFtZSA9IHBhdGhuYW1lLnJlcGxhY2UoL1s/I10vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KG1hdGNoKTtcbiAgfSk7XG4gIHNlYXJjaCA9IHNlYXJjaC5yZXBsYWNlKCcjJywgJyUyMycpO1xuXG4gIHJldHVybiBwcm90b2NvbCArIGhvc3QgKyBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlKHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmUocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICByZXR1cm4gdGhpcy5yZXNvbHZlT2JqZWN0KHVybFBhcnNlKHJlbGF0aXZlLCBmYWxzZSwgdHJ1ZSkpLmZvcm1hdCgpO1xufTtcblxuZnVuY3Rpb24gdXJsUmVzb2x2ZU9iamVjdChzb3VyY2UsIHJlbGF0aXZlKSB7XG4gIGlmICghc291cmNlKSByZXR1cm4gcmVsYXRpdmU7XG4gIHJldHVybiB1cmxQYXJzZShzb3VyY2UsIGZhbHNlLCB0cnVlKS5yZXNvbHZlT2JqZWN0KHJlbGF0aXZlKTtcbn1cblxuVXJsLnByb3RvdHlwZS5yZXNvbHZlT2JqZWN0ID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcbiAgaWYgKHV0aWwuaXNTdHJpbmcocmVsYXRpdmUpKSB7XG4gICAgdmFyIHJlbCA9IG5ldyBVcmwoKTtcbiAgICByZWwucGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKTtcbiAgICByZWxhdGl2ZSA9IHJlbDtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSBuZXcgVXJsKCk7XG4gIHZhciB0a2V5cyA9IE9iamVjdC5rZXlzKHRoaXMpO1xuICBmb3IgKHZhciB0ayA9IDA7IHRrIDwgdGtleXMubGVuZ3RoOyB0aysrKSB7XG4gICAgdmFyIHRrZXkgPSB0a2V5c1t0a107XG4gICAgcmVzdWx0W3RrZXldID0gdGhpc1t0a2V5XTtcbiAgfVxuXG4gIC8vIGhhc2ggaXMgYWx3YXlzIG92ZXJyaWRkZW4sIG5vIG1hdHRlciB3aGF0LlxuICAvLyBldmVuIGhyZWY9XCJcIiB3aWxsIHJlbW92ZSBpdC5cbiAgcmVzdWx0Lmhhc2ggPSByZWxhdGl2ZS5oYXNoO1xuXG4gIC8vIGlmIHRoZSByZWxhdGl2ZSB1cmwgaXMgZW1wdHksIHRoZW4gdGhlcmUncyBub3RoaW5nIGxlZnQgdG8gZG8gaGVyZS5cbiAgaWYgKHJlbGF0aXZlLmhyZWYgPT09ICcnKSB7XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGhyZWZzIGxpa2UgLy9mb28vYmFyIGFsd2F5cyBjdXQgdG8gdGhlIHByb3RvY29sLlxuICBpZiAocmVsYXRpdmUuc2xhc2hlcyAmJiAhcmVsYXRpdmUucHJvdG9jb2wpIHtcbiAgICAvLyB0YWtlIGV2ZXJ5dGhpbmcgZXhjZXB0IHRoZSBwcm90b2NvbCBmcm9tIHJlbGF0aXZlXG4gICAgdmFyIHJrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgIGZvciAodmFyIHJrID0gMDsgcmsgPCBya2V5cy5sZW5ndGg7IHJrKyspIHtcbiAgICAgIHZhciBya2V5ID0gcmtleXNbcmtdO1xuICAgICAgaWYgKHJrZXkgIT09ICdwcm90b2NvbCcpXG4gICAgICAgIHJlc3VsdFtya2V5XSA9IHJlbGF0aXZlW3JrZXldO1xuICAgIH1cblxuICAgIC8vdXJsUGFyc2UgYXBwZW5kcyB0cmFpbGluZyAvIHRvIHVybHMgbGlrZSBodHRwOi8vd3d3LmV4YW1wbGUuY29tXG4gICAgaWYgKHNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdICYmXG4gICAgICAgIHJlc3VsdC5ob3N0bmFtZSAmJiAhcmVzdWx0LnBhdGhuYW1lKSB7XG4gICAgICByZXN1bHQucGF0aCA9IHJlc3VsdC5wYXRobmFtZSA9ICcvJztcbiAgICB9XG5cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKHJlbGF0aXZlLnByb3RvY29sICYmIHJlbGF0aXZlLnByb3RvY29sICE9PSByZXN1bHQucHJvdG9jb2wpIHtcbiAgICAvLyBpZiBpdCdzIGEga25vd24gdXJsIHByb3RvY29sLCB0aGVuIGNoYW5naW5nXG4gICAgLy8gdGhlIHByb3RvY29sIGRvZXMgd2VpcmQgdGhpbmdzXG4gICAgLy8gZmlyc3QsIGlmIGl0J3Mgbm90IGZpbGU6LCB0aGVuIHdlIE1VU1QgaGF2ZSBhIGhvc3QsXG4gICAgLy8gYW5kIGlmIHRoZXJlIHdhcyBhIHBhdGhcbiAgICAvLyB0byBiZWdpbiB3aXRoLCB0aGVuIHdlIE1VU1QgaGF2ZSBhIHBhdGguXG4gICAgLy8gaWYgaXQgaXMgZmlsZTosIHRoZW4gdGhlIGhvc3QgaXMgZHJvcHBlZCxcbiAgICAvLyBiZWNhdXNlIHRoYXQncyBrbm93biB0byBiZSBob3N0bGVzcy5cbiAgICAvLyBhbnl0aGluZyBlbHNlIGlzIGFzc3VtZWQgdG8gYmUgYWJzb2x1dGUuXG4gICAgaWYgKCFzbGFzaGVkUHJvdG9jb2xbcmVsYXRpdmUucHJvdG9jb2xdKSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJlbGF0aXZlKTtcbiAgICAgIGZvciAodmFyIHYgPSAwOyB2IDwga2V5cy5sZW5ndGg7IHYrKykge1xuICAgICAgICB2YXIgayA9IGtleXNbdl07XG4gICAgICAgIHJlc3VsdFtrXSA9IHJlbGF0aXZlW2tdO1xuICAgICAgfVxuICAgICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJlc3VsdC5wcm90b2NvbCA9IHJlbGF0aXZlLnByb3RvY29sO1xuICAgIGlmICghcmVsYXRpdmUuaG9zdCAmJiAhaG9zdGxlc3NQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciByZWxQYXRoID0gKHJlbGF0aXZlLnBhdGhuYW1lIHx8ICcnKS5zcGxpdCgnLycpO1xuICAgICAgd2hpbGUgKHJlbFBhdGgubGVuZ3RoICYmICEocmVsYXRpdmUuaG9zdCA9IHJlbFBhdGguc2hpZnQoKSkpO1xuICAgICAgaWYgKCFyZWxhdGl2ZS5ob3N0KSByZWxhdGl2ZS5ob3N0ID0gJyc7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3RuYW1lKSByZWxhdGl2ZS5ob3N0bmFtZSA9ICcnO1xuICAgICAgaWYgKHJlbFBhdGhbMF0gIT09ICcnKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgaWYgKHJlbFBhdGgubGVuZ3RoIDwgMikgcmVsUGF0aC51bnNoaWZ0KCcnKTtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbFBhdGguam9pbignLycpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aG5hbWUgPSByZWxhdGl2ZS5wYXRobmFtZTtcbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICByZXN1bHQuaG9zdCA9IHJlbGF0aXZlLmhvc3QgfHwgJyc7XG4gICAgcmVzdWx0LmF1dGggPSByZWxhdGl2ZS5hdXRoO1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9IHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3Q7XG4gICAgcmVzdWx0LnBvcnQgPSByZWxhdGl2ZS5wb3J0O1xuICAgIC8vIHRvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKHJlc3VsdC5wYXRobmFtZSB8fCByZXN1bHQuc2VhcmNoKSB7XG4gICAgICB2YXIgcCA9IHJlc3VsdC5wYXRobmFtZSB8fCAnJztcbiAgICAgIHZhciBzID0gcmVzdWx0LnNlYXJjaCB8fCAnJztcbiAgICAgIHJlc3VsdC5wYXRoID0gcCArIHM7XG4gICAgfVxuICAgIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgdmFyIGlzU291cmNlQWJzID0gKHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpLFxuICAgICAgaXNSZWxBYnMgPSAoXG4gICAgICAgICAgcmVsYXRpdmUuaG9zdCB8fFxuICAgICAgICAgIHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nXG4gICAgICApLFxuICAgICAgbXVzdEVuZEFicyA9IChpc1JlbEFicyB8fCBpc1NvdXJjZUFicyB8fFxuICAgICAgICAgICAgICAgICAgICAocmVzdWx0Lmhvc3QgJiYgcmVsYXRpdmUucGF0aG5hbWUpKSxcbiAgICAgIHJlbW92ZUFsbERvdHMgPSBtdXN0RW5kQWJzLFxuICAgICAgc3JjUGF0aCA9IHJlc3VsdC5wYXRobmFtZSAmJiByZXN1bHQucGF0aG5hbWUuc3BsaXQoJy8nKSB8fCBbXSxcbiAgICAgIHJlbFBhdGggPSByZWxhdGl2ZS5wYXRobmFtZSAmJiByZWxhdGl2ZS5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcHN5Y2hvdGljID0gcmVzdWx0LnByb3RvY29sICYmICFzbGFzaGVkUHJvdG9jb2xbcmVzdWx0LnByb3RvY29sXTtcblxuICAvLyBpZiB0aGUgdXJsIGlzIGEgbm9uLXNsYXNoZWQgdXJsLCB0aGVuIHJlbGF0aXZlXG4gIC8vIGxpbmtzIGxpa2UgLi4vLi4gc2hvdWxkIGJlIGFibGVcbiAgLy8gdG8gY3Jhd2wgdXAgdG8gdGhlIGhvc3RuYW1lLCBhcyB3ZWxsLiAgVGhpcyBpcyBzdHJhbmdlLlxuICAvLyByZXN1bHQucHJvdG9jb2wgaGFzIGFscmVhZHkgYmVlbiBzZXQgYnkgbm93LlxuICAvLyBMYXRlciBvbiwgcHV0IHRoZSBmaXJzdCBwYXRoIHBhcnQgaW50byB0aGUgaG9zdCBmaWVsZC5cbiAgaWYgKHBzeWNob3RpYykge1xuICAgIHJlc3VsdC5ob3N0bmFtZSA9ICcnO1xuICAgIHJlc3VsdC5wb3J0ID0gbnVsbDtcbiAgICBpZiAocmVzdWx0Lmhvc3QpIHtcbiAgICAgIGlmIChzcmNQYXRoWzBdID09PSAnJykgc3JjUGF0aFswXSA9IHJlc3VsdC5ob3N0O1xuICAgICAgZWxzZSBzcmNQYXRoLnVuc2hpZnQocmVzdWx0Lmhvc3QpO1xuICAgIH1cbiAgICByZXN1bHQuaG9zdCA9ICcnO1xuICAgIGlmIChyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgPSBudWxsO1xuICAgICAgcmVsYXRpdmUucG9ydCA9IG51bGw7XG4gICAgICBpZiAocmVsYXRpdmUuaG9zdCkge1xuICAgICAgICBpZiAocmVsUGF0aFswXSA9PT0gJycpIHJlbFBhdGhbMF0gPSByZWxhdGl2ZS5ob3N0O1xuICAgICAgICBlbHNlIHJlbFBhdGgudW5zaGlmdChyZWxhdGl2ZS5ob3N0KTtcbiAgICAgIH1cbiAgICAgIHJlbGF0aXZlLmhvc3QgPSBudWxsO1xuICAgIH1cbiAgICBtdXN0RW5kQWJzID0gbXVzdEVuZEFicyAmJiAocmVsUGF0aFswXSA9PT0gJycgfHwgc3JjUGF0aFswXSA9PT0gJycpO1xuICB9XG5cbiAgaWYgKGlzUmVsQWJzKSB7XG4gICAgLy8gaXQncyBhYnNvbHV0ZS5cbiAgICByZXN1bHQuaG9zdCA9IChyZWxhdGl2ZS5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICByZWxhdGl2ZS5ob3N0IDogcmVzdWx0Lmhvc3Q7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gKHJlbGF0aXZlLmhvc3RuYW1lIHx8IHJlbGF0aXZlLmhvc3RuYW1lID09PSAnJykgP1xuICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3RuYW1lIDogcmVzdWx0Lmhvc3RuYW1lO1xuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgc3JjUGF0aCA9IHJlbFBhdGg7XG4gICAgLy8gZmFsbCB0aHJvdWdoIHRvIHRoZSBkb3QtaGFuZGxpbmcgYmVsb3cuXG4gIH0gZWxzZSBpZiAocmVsUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBpdCdzIHJlbGF0aXZlXG4gICAgLy8gdGhyb3cgYXdheSB0aGUgZXhpc3RpbmcgZmlsZSwgYW5kIHRha2UgdGhlIG5ldyBwYXRoIGluc3RlYWQuXG4gICAgaWYgKCFzcmNQYXRoKSBzcmNQYXRoID0gW107XG4gICAgc3JjUGF0aC5wb3AoKTtcbiAgICBzcmNQYXRoID0gc3JjUGF0aC5jb25jYXQocmVsUGF0aCk7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgfSBlbHNlIGlmICghdXRpbC5pc051bGxPclVuZGVmaW5lZChyZWxhdGl2ZS5zZWFyY2gpKSB7XG4gICAgLy8ganVzdCBwdWxsIG91dCB0aGUgc2VhcmNoLlxuICAgIC8vIGxpa2UgaHJlZj0nP2ZvbycuXG4gICAgLy8gUHV0IHRoaXMgYWZ0ZXIgdGhlIG90aGVyIHR3byBjYXNlcyBiZWNhdXNlIGl0IHNpbXBsaWZpZXMgdGhlIGJvb2xlYW5zXG4gICAgaWYgKHBzeWNob3RpYykge1xuICAgICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBzcmNQYXRoLnNoaWZ0KCk7XG4gICAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAgIC8vdXJsLnJlc29sdmVPYmplY3QoJ21haWx0bzpsb2NhbDFAZG9tYWluMScsICdsb2NhbDJAZG9tYWluMicpXG4gICAgICB2YXIgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgICBpZiAoYXV0aEluSG9zdCkge1xuICAgICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5zZWFyY2ggPSByZWxhdGl2ZS5zZWFyY2g7XG4gICAgcmVzdWx0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gKHJlc3VsdC5wYXRobmFtZSA/IHJlc3VsdC5wYXRobmFtZSA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlmICghc3JjUGF0aC5sZW5ndGgpIHtcbiAgICAvLyBubyBwYXRoIGF0IGFsbC4gIGVhc3kuXG4gICAgLy8gd2UndmUgYWxyZWFkeSBoYW5kbGVkIHRoZSBvdGhlciBzdHVmZiBhYm92ZS5cbiAgICByZXN1bHQucGF0aG5hbWUgPSBudWxsO1xuICAgIC8vdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnNlYXJjaCkge1xuICAgICAgcmVzdWx0LnBhdGggPSAnLycgKyByZXN1bHQuc2VhcmNoO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gICAgfVxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvLyBpZiBhIHVybCBFTkRzIGluIC4gb3IgLi4sIHRoZW4gaXQgbXVzdCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgLy8gaG93ZXZlciwgaWYgaXQgZW5kcyBpbiBhbnl0aGluZyBlbHNlIG5vbi1zbGFzaHksXG4gIC8vIHRoZW4gaXQgbXVzdCBOT1QgZ2V0IGEgdHJhaWxpbmcgc2xhc2guXG4gIHZhciBsYXN0ID0gc3JjUGF0aC5zbGljZSgtMSlbMF07XG4gIHZhciBoYXNUcmFpbGluZ1NsYXNoID0gKFxuICAgICAgKHJlc3VsdC5ob3N0IHx8IHJlbGF0aXZlLmhvc3QgfHwgc3JjUGF0aC5sZW5ndGggPiAxKSAmJlxuICAgICAgKGxhc3QgPT09ICcuJyB8fCBsYXN0ID09PSAnLi4nKSB8fCBsYXN0ID09PSAnJyk7XG5cbiAgLy8gc3RyaXAgc2luZ2xlIGRvdHMsIHJlc29sdmUgZG91YmxlIGRvdHMgdG8gcGFyZW50IGRpclxuICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMFxuICB2YXIgdXAgPSAwO1xuICBmb3IgKHZhciBpID0gc3JjUGF0aC5sZW5ndGg7IGkgPj0gMDsgaS0tKSB7XG4gICAgbGFzdCA9IHNyY1BhdGhbaV07XG4gICAgaWYgKGxhc3QgPT09ICcuJykge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgc3JjUGF0aC5zcGxpY2UoaSwgMSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnNcbiAgaWYgKCFtdXN0RW5kQWJzICYmICFyZW1vdmVBbGxEb3RzKSB7XG4gICAgZm9yICg7IHVwLS07IHVwKSB7XG4gICAgICBzcmNQYXRoLnVuc2hpZnQoJy4uJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG11c3RFbmRBYnMgJiYgc3JjUGF0aFswXSAhPT0gJycgJiZcbiAgICAgICghc3JjUGF0aFswXSB8fCBzcmNQYXRoWzBdLmNoYXJBdCgwKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoaGFzVHJhaWxpbmdTbGFzaCAmJiAoc3JjUGF0aC5qb2luKCcvJykuc3Vic3RyKC0xKSAhPT0gJy8nKSkge1xuICAgIHNyY1BhdGgucHVzaCgnJyk7XG4gIH1cblxuICB2YXIgaXNBYnNvbHV0ZSA9IHNyY1BhdGhbMF0gPT09ICcnIHx8XG4gICAgICAoc3JjUGF0aFswXSAmJiBzcmNQYXRoWzBdLmNoYXJBdCgwKSA9PT0gJy8nKTtcblxuICAvLyBwdXQgdGhlIGhvc3QgYmFja1xuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVzdWx0Lmhvc3QgPSBpc0Fic29sdXRlID8gJycgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjUGF0aC5sZW5ndGggPyBzcmNQYXRoLnNoaWZ0KCkgOiAnJztcbiAgICAvL29jY2F0aW9uYWx5IHRoZSBhdXRoIGNhbiBnZXQgc3R1Y2sgb25seSBpbiBob3N0XG4gICAgLy90aGlzIGVzcGVjaWFsbHkgaGFwcGVucyBpbiBjYXNlcyBsaWtlXG4gICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICB2YXIgYXV0aEluSG9zdCA9IHJlc3VsdC5ob3N0ICYmIHJlc3VsdC5ob3N0LmluZGV4T2YoJ0AnKSA+IDAgP1xuICAgICAgICAgICAgICAgICAgICAgcmVzdWx0Lmhvc3Quc3BsaXQoJ0AnKSA6IGZhbHNlO1xuICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICByZXN1bHQuYXV0aCA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIHJlc3VsdC5ob3N0ID0gcmVzdWx0Lmhvc3RuYW1lID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgIH1cbiAgfVxuXG4gIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzIHx8IChyZXN1bHQuaG9zdCAmJiBzcmNQYXRoLmxlbmd0aCk7XG5cbiAgaWYgKG11c3RFbmRBYnMgJiYgIWlzQWJzb2x1dGUpIHtcbiAgICBzcmNQYXRoLnVuc2hpZnQoJycpO1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgcmVzdWx0LnBhdGggPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdC5wYXRobmFtZSA9IHNyY1BhdGguam9pbignLycpO1xuICB9XG5cbiAgLy90byBzdXBwb3J0IHJlcXVlc3QuaHR0cFxuICBpZiAoIXV0aWwuaXNOdWxsKHJlc3VsdC5wYXRobmFtZSkgfHwgIXV0aWwuaXNOdWxsKHJlc3VsdC5zZWFyY2gpKSB7XG4gICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgIChyZXN1bHQuc2VhcmNoID8gcmVzdWx0LnNlYXJjaCA6ICcnKTtcbiAgfVxuICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGggfHwgcmVzdWx0LmF1dGg7XG4gIHJlc3VsdC5zbGFzaGVzID0gcmVzdWx0LnNsYXNoZXMgfHwgcmVsYXRpdmUuc2xhc2hlcztcbiAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5VcmwucHJvdG90eXBlLnBhcnNlSG9zdCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaG9zdCA9IHRoaXMuaG9zdDtcbiAgdmFyIHBvcnQgPSBwb3J0UGF0dGVybi5leGVjKGhvc3QpO1xuICBpZiAocG9ydCkge1xuICAgIHBvcnQgPSBwb3J0WzBdO1xuICAgIGlmIChwb3J0ICE9PSAnOicpIHtcbiAgICAgIHRoaXMucG9ydCA9IHBvcnQuc3Vic3RyKDEpO1xuICAgIH1cbiAgICBob3N0ID0gaG9zdC5zdWJzdHIoMCwgaG9zdC5sZW5ndGggLSBwb3J0Lmxlbmd0aCk7XG4gIH1cbiAgaWYgKGhvc3QpIHRoaXMuaG9zdG5hbWUgPSBob3N0O1xufTtcbiIsImltcG9ydCAnQHBpeGkvcG9seWZpbGwnO1xuXG5pbXBvcnQgKiBhcyBhY2Nlc3NpYmlsaXR5IGZyb20gJ0BwaXhpL2FjY2Vzc2liaWxpdHknO1xuaW1wb3J0ICogYXMgZXh0cmFjdCBmcm9tICdAcGl4aS9leHRyYWN0JztcbmltcG9ydCAqIGFzIGludGVyYWN0aW9uIGZyb20gJ0BwaXhpL2ludGVyYWN0aW9uJztcbmltcG9ydCAqIGFzIHByZXBhcmUgZnJvbSAnQHBpeGkvcHJlcGFyZSc7XG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBBcHBsaWNhdGlvbiB9IGZyb20gJ0BwaXhpL2FwcCc7XG5pbXBvcnQgeyBSZW5kZXJlciwgQmF0Y2hSZW5kZXJlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgTG9hZGVyLCBBcHBMb2FkZXJQbHVnaW4gfSBmcm9tICdAcGl4aS9sb2FkZXJzJztcbmltcG9ydCB7IFBhcnRpY2xlUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9wYXJ0aWNsZXMnO1xuaW1wb3J0IHsgU3ByaXRlc2hlZXRMb2FkZXIgfSBmcm9tICdAcGl4aS9zcHJpdGVzaGVldCc7XG5pbXBvcnQgeyBUaWxpbmdTcHJpdGVSZW5kZXJlciB9IGZyb20gJ0BwaXhpL3Nwcml0ZS10aWxpbmcnO1xuaW1wb3J0IHsgQml0bWFwRm9udExvYWRlciB9IGZyb20gJ0BwaXhpL3RleHQtYml0bWFwJztcbmltcG9ydCB7IFRpY2tlclBsdWdpbiB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5pbXBvcnQgeyBBbHBoYUZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1hbHBoYSc7XG5pbXBvcnQgeyBCbHVyRmlsdGVyLCBCbHVyRmlsdGVyUGFzcyB9IGZyb20gJ0BwaXhpL2ZpbHRlci1ibHVyJztcbmltcG9ydCB7IENvbG9yTWF0cml4RmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWNvbG9yLW1hdHJpeCc7XG5pbXBvcnQgeyBEaXNwbGFjZW1lbnRGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItZGlzcGxhY2VtZW50JztcbmltcG9ydCB7IEZYQUFGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItZnhhYSc7XG5pbXBvcnQgeyBOb2lzZUZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1ub2lzZSc7XG5pbXBvcnQgJ0BwaXhpL21peGluLWNhY2hlLWFzLWJpdG1hcCc7XG5pbXBvcnQgJ0BwaXhpL21peGluLWdldC1jaGlsZC1ieS1uYW1lJztcbmltcG9ydCAnQHBpeGkvbWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbic7XG5cbi8vIEV4cG9ydCBkZXByZWNhdGlvbnMgc28gUm9sbHVwIGNhbiBjYWxsIGl0XG4vLyBpbiB0aGUgZm9vdGVyIGFmdGVyIGdsb2JhbCBpcyBkZWZpbmVkXG4vLyBvdGhlciBtb2R1bGUgbXVzdCBjYWxsIHRoaXMgbWFudWFsbHlcbmltcG9ydCB1c2VEZXByZWNhdGVkIGZyb20gJy4vdXNlRGVwcmVjYXRlZCc7XG5cbi8vIEluc3RhbGwgcmVuZGVyZXIgcGx1Z2luc1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2FjY2Vzc2liaWxpdHknLCBhY2Nlc3NpYmlsaXR5LkFjY2Vzc2liaWxpdHlNYW5hZ2VyKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdleHRyYWN0JywgZXh0cmFjdC5FeHRyYWN0KTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdpbnRlcmFjdGlvbicsIGludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcik7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbigncGFydGljbGUnLCBQYXJ0aWNsZVJlbmRlcmVyKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdwcmVwYXJlJywgcHJlcGFyZS5QcmVwYXJlKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCdiYXRjaCcsIEJhdGNoUmVuZGVyZXIpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ3RpbGluZ1Nwcml0ZScsIFRpbGluZ1Nwcml0ZVJlbmRlcmVyKTtcblxuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKEJpdG1hcEZvbnRMb2FkZXIpO1xuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKFNwcml0ZXNoZWV0TG9hZGVyKTtcblxuQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oVGlja2VyUGx1Z2luKTtcbkFwcGxpY2F0aW9uLnJlZ2lzdGVyUGx1Z2luKEFwcExvYWRlclBsdWdpbik7XG5cbi8qKlxuICogU3RyaW5nIG9mIHRoZSBjdXJyZW50IFBJWEkgdmVyc2lvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBWRVJTSU9OXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5leHBvcnQgY29uc3QgVkVSU0lPTiA9ICdfX1ZFUlNJT05fXyc7XG5cbi8qKlxuICogQG5hbWVzcGFjZSBQSVhJXG4gKi9cblxuLyoqXG4gKiBUaGlzIG5hbWVzcGFjZSBjb250YWlucyBXZWJHTC1vbmx5IGRpc3BsYXkgZmlsdGVycyB0aGF0IGNhbiBiZSBhcHBsaWVkXG4gKiB0byBEaXNwbGF5T2JqZWN0cyB1c2luZyB0aGUge0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNmaWx0ZXJzIGZpbHRlcnN9IHByb3BlcnR5LlxuICpcbiAqIFNpbmNlIFBpeGlKUyBvbmx5IGhhZCBhIGhhbmRmdWwgb2YgYnVpbHQtaW4gZmlsdGVycywgYWRkaXRpb25hbCBmaWx0ZXJzXG4gKiBjYW4gYmUgZG93bmxvYWRlZCB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLWZpbHRlcnMgaGVyZX0gZnJvbSB0aGVcbiAqIFBpeGlKUyBGaWx0ZXJzIHJlcG9zaXRvcnkuXG4gKlxuICogQWxsIGZpbHRlcnMgbXVzdCBleHRlbmQge0BsaW5rIFBJWEkuRmlsdGVyfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIGEgbmV3IGFwcGxpY2F0aW9uXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbigpO1xuICpcbiAqIC8vIERyYXcgYSBncmVlbiByZWN0YW5nbGVcbiAqIGNvbnN0IHJlY3QgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gKiAgICAgLmJlZ2luRmlsbCgweDAwZmYwMClcbiAqICAgICAuZHJhd1JlY3QoNDAsIDQwLCAyMDAsIDIwMCk7XG4gKlxuICogLy8gQWRkIGEgYmx1ciBmaWx0ZXJcbiAqIHJlY3QuZmlsdGVycyA9IFtuZXcgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXIoKV07XG4gKlxuICogLy8gRGlzcGxheSByZWN0YW5nbGVcbiAqIGFwcC5zdGFnZS5hZGRDaGlsZChyZWN0KTtcbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXBwLnZpZXcpO1xuICogQG5hbWVzcGFjZSBQSVhJLmZpbHRlcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGZpbHRlcnMgPSB7XG4gICAgQWxwaGFGaWx0ZXIsXG4gICAgQmx1ckZpbHRlcixcbiAgICBCbHVyRmlsdGVyUGFzcyxcbiAgICBDb2xvck1hdHJpeEZpbHRlcixcbiAgICBEaXNwbGFjZW1lbnRGaWx0ZXIsXG4gICAgRlhBQUZpbHRlcixcbiAgICBOb2lzZUZpbHRlcixcbn07XG5cbi8vIEV4cG9ydCBFUyBmb3IgdGhvc2UgaW1wb3J0aW5nIHNwZWNpZmljYWxseSBieSBuYW1lLFxuZXhwb3J0ICogZnJvbSAnQHBpeGkvYXBwJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9jb3JlJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvZ3JhcGhpY3MnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9tYXRoJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL21lc2gnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvbWVzaC1leHRyYXMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvcGFydGljbGVzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3J1bm5lcic7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zcHJpdGUnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlc2hlZXQnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlLWFuaW1hdGVkJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZS10aWxpbmcnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvdGV4dCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS90ZXh0LWJpdG1hcCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS90aWNrZXInO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuZXhwb3J0IHtcbiAgICBhY2Nlc3NpYmlsaXR5LFxuICAgIGV4dHJhY3QsXG4gICAgaW50ZXJhY3Rpb24sXG4gICAgcHJlcGFyZSxcbiAgICB1dGlscyxcbiAgICB1c2VEZXByZWNhdGVkLFxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBwcmVmaXggPSAnfic7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgdG8gY3JlYXRlIGEgc3RvcmFnZSBmb3Igb3VyIGBFRWAgb2JqZWN0cy5cbiAqIEFuIGBFdmVudHNgIGluc3RhbmNlIGlzIGEgcGxhaW4gb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgYXJlIGV2ZW50IG5hbWVzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRXZlbnRzKCkge31cblxuLy9cbi8vIFdlIHRyeSB0byBub3QgaW5oZXJpdCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC4gSW4gc29tZSBlbmdpbmVzIGNyZWF0aW5nIGFuXG4vLyBpbnN0YW5jZSBpbiB0aGlzIHdheSBpcyBmYXN0ZXIgdGhhbiBjYWxsaW5nIGBPYmplY3QuY3JlYXRlKG51bGwpYCBkaXJlY3RseS5cbi8vIElmIGBPYmplY3QuY3JlYXRlKG51bGwpYCBpcyBub3Qgc3VwcG9ydGVkIHdlIHByZWZpeCB0aGUgZXZlbnQgbmFtZXMgd2l0aCBhXG4vLyBjaGFyYWN0ZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGJ1aWx0LWluIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBub3Rcbi8vIG92ZXJyaWRkZW4gb3IgdXNlZCBhcyBhbiBhdHRhY2sgdmVjdG9yLlxuLy9cbmlmIChPYmplY3QuY3JlYXRlKSB7XG4gIEV2ZW50cy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIC8vXG4gIC8vIFRoaXMgaGFjayBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgYF9fcHJvdG9fX2AgcHJvcGVydHkgaXMgc3RpbGwgaW5oZXJpdGVkIGluXG4gIC8vIHNvbWUgb2xkIGJyb3dzZXJzIGxpa2UgQW5kcm9pZCA0LCBpUGhvbmUgNS4xLCBPcGVyYSAxMSBhbmQgU2FmYXJpIDUuXG4gIC8vXG4gIGlmICghbmV3IEV2ZW50cygpLl9fcHJvdG9fXykgcHJlZml4ID0gZmFsc2U7XG59XG5cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgZXZlbnQgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29uY2U9ZmFsc2VdIFNwZWNpZnkgaWYgdGhlIGxpc3RlbmVyIGlzIGEgb25lLXRpbWUgbGlzdGVuZXIuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEVFKGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5vbmNlID0gb25jZSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFkZExpc3RlbmVyKGVtaXR0ZXIsIGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IGVtaXR0ZXIsIG9uY2UpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0pIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIGVtaXR0ZXIuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCFlbWl0dGVyLl9ldmVudHNbZXZ0XS5mbikgZW1pdHRlci5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgZW1pdHRlci5fZXZlbnRzW2V2dF0gPSBbZW1pdHRlci5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gZW1pdHRlcjtcbn1cblxuLyoqXG4gKiBDbGVhciBldmVudCBieSBuYW1lLlxuICpcbiAqIEBwYXJhbSB7RXZlbnRFbWl0dGVyfSBlbWl0dGVyIFJlZmVyZW5jZSB0byB0aGUgYEV2ZW50RW1pdHRlcmAgaW5zdGFuY2UuXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZ0IFRoZSBFdmVudCBuYW1lLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2xlYXJFdmVudChlbWl0dGVyLCBldnQpIHtcbiAgaWYgKC0tZW1pdHRlci5fZXZlbnRzQ291bnQgPT09IDApIGVtaXR0ZXIuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgZWxzZSBkZWxldGUgZW1pdHRlci5fZXZlbnRzW2V2dF07XG59XG5cbi8qKlxuICogTWluaW1hbCBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UgdGhhdCBpcyBtb2xkZWQgYWdhaW5zdCB0aGUgTm9kZS5qc1xuICogYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHB1YmxpY1xuICovXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xufVxuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBsaXN0aW5nIHRoZSBldmVudHMgZm9yIHdoaWNoIHRoZSBlbWl0dGVyIGhhcyByZWdpc3RlcmVkXG4gKiBsaXN0ZW5lcnMuXG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICB2YXIgbmFtZXMgPSBbXVxuICAgICwgZXZlbnRzXG4gICAgLCBuYW1lO1xuXG4gIGlmICh0aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgcmV0dXJuIG5hbWVzO1xuXG4gIGZvciAobmFtZSBpbiAoZXZlbnRzID0gdGhpcy5fZXZlbnRzKSkge1xuICAgIGlmIChoYXMuY2FsbChldmVudHMsIG5hbWUpKSBuYW1lcy5wdXNoKHByZWZpeCA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lKTtcbiAgfVxuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgcmV0dXJuIG5hbWVzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGV2ZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIG5hbWVzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtBcnJheX0gVGhlIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgaGFuZGxlcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWhhbmRsZXJzKSByZXR1cm4gW107XG4gIGlmIChoYW5kbGVycy5mbikgcmV0dXJuIFtoYW5kbGVycy5mbl07XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBoYW5kbGVycy5sZW5ndGgsIGVlID0gbmV3IEFycmF5KGwpOyBpIDwgbDsgaSsrKSB7XG4gICAgZWVbaV0gPSBoYW5kbGVyc1tpXS5mbjtcbiAgfVxuXG4gIHJldHVybiBlZTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIGxpc3RlbmluZyB0byBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1iZXIgb2YgbGlzdGVuZXJzLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbiBsaXN0ZW5lckNvdW50KGV2ZW50KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoIWxpc3RlbmVycykgcmV0dXJuIDA7XG4gIGlmIChsaXN0ZW5lcnMuZm4pIHJldHVybiAxO1xuICByZXR1cm4gbGlzdGVuZXJzLmxlbmd0aDtcbn07XG5cbi8qKlxuICogQ2FsbHMgZWFjaCBvZiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFkIGxpc3RlbmVycywgZWxzZSBgZmFsc2VgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50LCBhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XVxuICAgICwgbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgYXJnc1xuICAgICwgaTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKGxpc3RlbmVycy5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnMuZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgY2FzZSAxOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQpLCB0cnVlO1xuICAgICAgY2FzZSAyOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExKSwgdHJ1ZTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIpLCB0cnVlO1xuICAgICAgY2FzZSA0OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMpLCB0cnVlO1xuICAgICAgY2FzZSA1OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgNjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCwgYTUpLCB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm4uYXBwbHkobGlzdGVuZXJzLmNvbnRleHQsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoXG4gICAgICAsIGo7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaXN0ZW5lcnNbaV0ub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2ldLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDE6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0KTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMik7IGJyZWFrO1xuICAgICAgICBjYXNlIDQ6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIsIGEzKTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKCFhcmdzKSBmb3IgKGogPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdGVuZXJzW2ldLmZuLmFwcGx5KGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiBvbihldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBBZGQgYSBvbmUtdGltZSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZShldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgbGlzdGVuZXJzIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IG1hdGNoIHRoaXMgZnVuY3Rpb24uXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IGhhdmUgdGhpcyBjb250ZXh0LlxuICogQHBhcmFtIHtCb29sZWFufSBvbmNlIE9ubHkgcmVtb3ZlIG9uZS10aW1lIGxpc3RlbmVycy5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gdGhpcztcbiAgaWYgKCFmbikge1xuICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKFxuICAgICAgbGlzdGVuZXJzLmZuID09PSBmbiAmJlxuICAgICAgKCFvbmNlIHx8IGxpc3RlbmVycy5vbmNlKSAmJlxuICAgICAgKCFjb250ZXh0IHx8IGxpc3RlbmVycy5jb250ZXh0ID09PSBjb250ZXh0KVxuICAgICkge1xuICAgICAgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpID0gMCwgZXZlbnRzID0gW10sIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICBsaXN0ZW5lcnNbaV0uZm4gIT09IGZuIHx8XG4gICAgICAgIChvbmNlICYmICFsaXN0ZW5lcnNbaV0ub25jZSkgfHxcbiAgICAgICAgKGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpXG4gICAgICApIHtcbiAgICAgICAgZXZlbnRzLnB1c2gobGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIFJlc2V0IHRoZSBhcnJheSwgb3IgcmVtb3ZlIGl0IGNvbXBsZXRlbHkgaWYgd2UgaGF2ZSBubyBtb3JlIGxpc3RlbmVycy5cbiAgICAvL1xuICAgIGlmIChldmVudHMubGVuZ3RoKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGV2ZW50cy5sZW5ndGggPT09IDEgPyBldmVudHNbMF0gOiBldmVudHM7XG4gICAgZWxzZSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsaXN0ZW5lcnMsIG9yIHRob3NlIG9mIHRoZSBzcGVjaWZpZWQgZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IFtldmVudF0gVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQ7XG5cbiAgaWYgKGV2ZW50KSB7XG4gICAgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcbiAgICBpZiAodGhpcy5fZXZlbnRzW2V2dF0pIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gQWxpYXMgbWV0aG9kcyBuYW1lcyBiZWNhdXNlIHBlb3BsZSByb2xsIGxpa2UgdGhhdC5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgcHJlZml4LlxuLy9cbkV2ZW50RW1pdHRlci5wcmVmaXhlZCA9IHByZWZpeDtcblxuLy9cbi8vIEFsbG93IGBFdmVudEVtaXR0ZXJgIHRvIGJlIGltcG9ydGVkIGFzIG1vZHVsZSBuYW1lc3BhY2UuXG4vL1xuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgbW9kdWxlLlxuLy9cbmlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG1vZHVsZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBlYXJjdXQ7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gZWFyY3V0O1xuXG5mdW5jdGlvbiBlYXJjdXQoZGF0YSwgaG9sZUluZGljZXMsIGRpbSkge1xuXG4gICAgZGltID0gZGltIHx8IDI7XG5cbiAgICB2YXIgaGFzSG9sZXMgPSBob2xlSW5kaWNlcyAmJiBob2xlSW5kaWNlcy5sZW5ndGgsXG4gICAgICAgIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoLFxuICAgICAgICBvdXRlck5vZGUgPSBsaW5rZWRMaXN0KGRhdGEsIDAsIG91dGVyTGVuLCBkaW0sIHRydWUpLFxuICAgICAgICB0cmlhbmdsZXMgPSBbXTtcblxuICAgIGlmICghb3V0ZXJOb2RlIHx8IG91dGVyTm9kZS5uZXh0ID09PSBvdXRlck5vZGUucHJldikgcmV0dXJuIHRyaWFuZ2xlcztcblxuICAgIHZhciBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZLCB4LCB5LCBpbnZTaXplO1xuXG4gICAgaWYgKGhhc0hvbGVzKSBvdXRlck5vZGUgPSBlbGltaW5hdGVIb2xlcyhkYXRhLCBob2xlSW5kaWNlcywgb3V0ZXJOb2RlLCBkaW0pO1xuXG4gICAgLy8gaWYgdGhlIHNoYXBlIGlzIG5vdCB0b28gc2ltcGxlLCB3ZSdsbCB1c2Ugei1vcmRlciBjdXJ2ZSBoYXNoIGxhdGVyOyBjYWxjdWxhdGUgcG9seWdvbiBiYm94XG4gICAgaWYgKGRhdGEubGVuZ3RoID4gODAgKiBkaW0pIHtcbiAgICAgICAgbWluWCA9IG1heFggPSBkYXRhWzBdO1xuICAgICAgICBtaW5ZID0gbWF4WSA9IGRhdGFbMV07XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IGRpbTsgaSA8IG91dGVyTGVuOyBpICs9IGRpbSkge1xuICAgICAgICAgICAgeCA9IGRhdGFbaV07XG4gICAgICAgICAgICB5ID0gZGF0YVtpICsgMV07XG4gICAgICAgICAgICBpZiAoeCA8IG1pblgpIG1pblggPSB4O1xuICAgICAgICAgICAgaWYgKHkgPCBtaW5ZKSBtaW5ZID0geTtcbiAgICAgICAgICAgIGlmICh4ID4gbWF4WCkgbWF4WCA9IHg7XG4gICAgICAgICAgICBpZiAoeSA+IG1heFkpIG1heFkgPSB5O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbWluWCwgbWluWSBhbmQgaW52U2l6ZSBhcmUgbGF0ZXIgdXNlZCB0byB0cmFuc2Zvcm0gY29vcmRzIGludG8gaW50ZWdlcnMgZm9yIHotb3JkZXIgY2FsY3VsYXRpb25cbiAgICAgICAgaW52U2l6ZSA9IE1hdGgubWF4KG1heFggLSBtaW5YLCBtYXhZIC0gbWluWSk7XG4gICAgICAgIGludlNpemUgPSBpbnZTaXplICE9PSAwID8gMSAvIGludlNpemUgOiAwO1xuICAgIH1cblxuICAgIGVhcmN1dExpbmtlZChvdXRlck5vZGUsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcblxuICAgIHJldHVybiB0cmlhbmdsZXM7XG59XG5cbi8vIGNyZWF0ZSBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdCBmcm9tIHBvbHlnb24gcG9pbnRzIGluIHRoZSBzcGVjaWZpZWQgd2luZGluZyBvcmRlclxuZnVuY3Rpb24gbGlua2VkTGlzdChkYXRhLCBzdGFydCwgZW5kLCBkaW0sIGNsb2Nrd2lzZSkge1xuICAgIHZhciBpLCBsYXN0O1xuXG4gICAgaWYgKGNsb2Nrd2lzZSA9PT0gKHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSA+IDApKSB7XG4gICAgICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IGRpbSkgbGFzdCA9IGluc2VydE5vZGUoaSwgZGF0YVtpXSwgZGF0YVtpICsgMV0sIGxhc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoaSA9IGVuZCAtIGRpbTsgaSA+PSBzdGFydDsgaSAtPSBkaW0pIGxhc3QgPSBpbnNlcnROb2RlKGksIGRhdGFbaV0sIGRhdGFbaSArIDFdLCBsYXN0KTtcbiAgICB9XG5cbiAgICBpZiAobGFzdCAmJiBlcXVhbHMobGFzdCwgbGFzdC5uZXh0KSkge1xuICAgICAgICByZW1vdmVOb2RlKGxhc3QpO1xuICAgICAgICBsYXN0ID0gbGFzdC5uZXh0O1xuICAgIH1cblxuICAgIHJldHVybiBsYXN0O1xufVxuXG4vLyBlbGltaW5hdGUgY29saW5lYXIgb3IgZHVwbGljYXRlIHBvaW50c1xuZnVuY3Rpb24gZmlsdGVyUG9pbnRzKHN0YXJ0LCBlbmQpIHtcbiAgICBpZiAoIXN0YXJ0KSByZXR1cm4gc3RhcnQ7XG4gICAgaWYgKCFlbmQpIGVuZCA9IHN0YXJ0O1xuXG4gICAgdmFyIHAgPSBzdGFydCxcbiAgICAgICAgYWdhaW47XG4gICAgZG8ge1xuICAgICAgICBhZ2FpbiA9IGZhbHNlO1xuXG4gICAgICAgIGlmICghcC5zdGVpbmVyICYmIChlcXVhbHMocCwgcC5uZXh0KSB8fCBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA9PT0gMCkpIHtcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocCk7XG4gICAgICAgICAgICBwID0gZW5kID0gcC5wcmV2O1xuICAgICAgICAgICAgaWYgKHAgPT09IHAubmV4dCkgYnJlYWs7XG4gICAgICAgICAgICBhZ2FpbiA9IHRydWU7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHAgPSBwLm5leHQ7XG4gICAgICAgIH1cbiAgICB9IHdoaWxlIChhZ2FpbiB8fCBwICE9PSBlbmQpO1xuXG4gICAgcmV0dXJuIGVuZDtcbn1cblxuLy8gbWFpbiBlYXIgc2xpY2luZyBsb29wIHdoaWNoIHRyaWFuZ3VsYXRlcyBhIHBvbHlnb24gKGdpdmVuIGFzIGEgbGlua2VkIGxpc3QpXG5mdW5jdGlvbiBlYXJjdXRMaW5rZWQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgcGFzcykge1xuICAgIGlmICghZWFyKSByZXR1cm47XG5cbiAgICAvLyBpbnRlcmxpbmsgcG9seWdvbiBub2RlcyBpbiB6LW9yZGVyXG4gICAgaWYgKCFwYXNzICYmIGludlNpemUpIGluZGV4Q3VydmUoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcblxuICAgIHZhciBzdG9wID0gZWFyLFxuICAgICAgICBwcmV2LCBuZXh0O1xuXG4gICAgLy8gaXRlcmF0ZSB0aHJvdWdoIGVhcnMsIHNsaWNpbmcgdGhlbSBvbmUgYnkgb25lXG4gICAgd2hpbGUgKGVhci5wcmV2ICE9PSBlYXIubmV4dCkge1xuICAgICAgICBwcmV2ID0gZWFyLnByZXY7XG4gICAgICAgIG5leHQgPSBlYXIubmV4dDtcblxuICAgICAgICBpZiAoaW52U2l6ZSA/IGlzRWFySGFzaGVkKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSkgOiBpc0VhcihlYXIpKSB7XG4gICAgICAgICAgICAvLyBjdXQgb2ZmIHRoZSB0cmlhbmdsZVxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gocHJldi5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGVhci5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKG5leHQuaSAvIGRpbSk7XG5cbiAgICAgICAgICAgIHJlbW92ZU5vZGUoZWFyKTtcblxuICAgICAgICAgICAgLy8gc2tpcHBpbmcgdGhlIG5leHQgdmVydGV4IGxlYWRzIHRvIGxlc3Mgc2xpdmVyIHRyaWFuZ2xlc1xuICAgICAgICAgICAgZWFyID0gbmV4dC5uZXh0O1xuICAgICAgICAgICAgc3RvcCA9IG5leHQubmV4dDtcblxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBlYXIgPSBuZXh0O1xuXG4gICAgICAgIC8vIGlmIHdlIGxvb3BlZCB0aHJvdWdoIHRoZSB3aG9sZSByZW1haW5pbmcgcG9seWdvbiBhbmQgY2FuJ3QgZmluZCBhbnkgbW9yZSBlYXJzXG4gICAgICAgIGlmIChlYXIgPT09IHN0b3ApIHtcbiAgICAgICAgICAgIC8vIHRyeSBmaWx0ZXJpbmcgcG9pbnRzIGFuZCBzbGljaW5nIGFnYWluXG4gICAgICAgICAgICBpZiAoIXBhc3MpIHtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoZmlsdGVyUG9pbnRzKGVhciksIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCAxKTtcblxuICAgICAgICAgICAgLy8gaWYgdGhpcyBkaWRuJ3Qgd29yaywgdHJ5IGN1cmluZyBhbGwgc21hbGwgc2VsZi1pbnRlcnNlY3Rpb25zIGxvY2FsbHlcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFzcyA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGVhciA9IGN1cmVMb2NhbEludGVyc2VjdGlvbnMoZWFyLCB0cmlhbmdsZXMsIGRpbSk7XG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGVhciwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDIpO1xuXG4gICAgICAgICAgICAvLyBhcyBhIGxhc3QgcmVzb3J0LCB0cnkgc3BsaXR0aW5nIHRoZSByZW1haW5pbmcgcG9seWdvbiBpbnRvIHR3b1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzID09PSAyKSB7XG4gICAgICAgICAgICAgICAgc3BsaXRFYXJjdXQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBjaGVjayB3aGV0aGVyIGEgcG9seWdvbiBub2RlIGZvcm1zIGEgdmFsaWQgZWFyIHdpdGggYWRqYWNlbnQgbm9kZXNcbmZ1bmN0aW9uIGlzRWFyKGVhcikge1xuICAgIHZhciBhID0gZWFyLnByZXYsXG4gICAgICAgIGIgPSBlYXIsXG4gICAgICAgIGMgPSBlYXIubmV4dDtcblxuICAgIGlmIChhcmVhKGEsIGIsIGMpID49IDApIHJldHVybiBmYWxzZTsgLy8gcmVmbGV4LCBjYW4ndCBiZSBhbiBlYXJcblxuICAgIC8vIG5vdyBtYWtlIHN1cmUgd2UgZG9uJ3QgaGF2ZSBvdGhlciBwb2ludHMgaW5zaWRlIHRoZSBwb3RlbnRpYWwgZWFyXG4gICAgdmFyIHAgPSBlYXIubmV4dC5uZXh0O1xuXG4gICAgd2hpbGUgKHAgIT09IGVhci5wcmV2KSB7XG4gICAgICAgIGlmIChwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgcC54LCBwLnkpICYmXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGlzRWFySGFzaGVkKGVhciwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIHZhciBhID0gZWFyLnByZXYsXG4gICAgICAgIGIgPSBlYXIsXG4gICAgICAgIGMgPSBlYXIubmV4dDtcblxuICAgIGlmIChhcmVhKGEsIGIsIGMpID49IDApIHJldHVybiBmYWxzZTsgLy8gcmVmbGV4LCBjYW4ndCBiZSBhbiBlYXJcblxuICAgIC8vIHRyaWFuZ2xlIGJib3g7IG1pbiAmIG1heCBhcmUgY2FsY3VsYXRlZCBsaWtlIHRoaXMgZm9yIHNwZWVkXG4gICAgdmFyIG1pblRYID0gYS54IDwgYi54ID8gKGEueCA8IGMueCA/IGEueCA6IGMueCkgOiAoYi54IDwgYy54ID8gYi54IDogYy54KSxcbiAgICAgICAgbWluVFkgPSBhLnkgPCBiLnkgPyAoYS55IDwgYy55ID8gYS55IDogYy55KSA6IChiLnkgPCBjLnkgPyBiLnkgOiBjLnkpLFxuICAgICAgICBtYXhUWCA9IGEueCA+IGIueCA/IChhLnggPiBjLnggPyBhLnggOiBjLngpIDogKGIueCA+IGMueCA/IGIueCA6IGMueCksXG4gICAgICAgIG1heFRZID0gYS55ID4gYi55ID8gKGEueSA+IGMueSA/IGEueSA6IGMueSkgOiAoYi55ID4gYy55ID8gYi55IDogYy55KTtcblxuICAgIC8vIHotb3JkZXIgcmFuZ2UgZm9yIHRoZSBjdXJyZW50IHRyaWFuZ2xlIGJib3g7XG4gICAgdmFyIG1pblogPSB6T3JkZXIobWluVFgsIG1pblRZLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSxcbiAgICAgICAgbWF4WiA9IHpPcmRlcihtYXhUWCwgbWF4VFksIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgdmFyIHAgPSBlYXIucHJldlosXG4gICAgICAgIG4gPSBlYXIubmV4dFo7XG5cbiAgICAvLyBsb29rIGZvciBwb2ludHMgaW5zaWRlIHRoZSB0cmlhbmdsZSBpbiBib3RoIGRpcmVjdGlvbnNcbiAgICB3aGlsZSAocCAmJiBwLnogPj0gbWluWiAmJiBuICYmIG4ueiA8PSBtYXhaKSB7XG4gICAgICAgIGlmIChwICE9PSBlYXIucHJldiAmJiBwICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIHAueCwgcC55KSAmJlxuICAgICAgICAgICAgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5wcmV2WjtcblxuICAgICAgICBpZiAobiAhPT0gZWFyLnByZXYgJiYgbiAhPT0gZWFyLm5leHQgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBuLngsIG4ueSkgJiZcbiAgICAgICAgICAgIGFyZWEobi5wcmV2LCBuLCBuLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgbiA9IG4ubmV4dFo7XG4gICAgfVxuXG4gICAgLy8gbG9vayBmb3IgcmVtYWluaW5nIHBvaW50cyBpbiBkZWNyZWFzaW5nIHotb3JkZXJcbiAgICB3aGlsZSAocCAmJiBwLnogPj0gbWluWikge1xuICAgICAgICBpZiAocCAhPT0gZWFyLnByZXYgJiYgcCAhPT0gZWFyLm5leHQgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAucHJldlo7XG4gICAgfVxuXG4gICAgLy8gbG9vayBmb3IgcmVtYWluaW5nIHBvaW50cyBpbiBpbmNyZWFzaW5nIHotb3JkZXJcbiAgICB3aGlsZSAobiAmJiBuLnogPD0gbWF4Wikge1xuICAgICAgICBpZiAobiAhPT0gZWFyLnByZXYgJiYgbiAhPT0gZWFyLm5leHQgJiZcbiAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBuLngsIG4ueSkgJiZcbiAgICAgICAgICAgIGFyZWEobi5wcmV2LCBuLCBuLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgbiA9IG4ubmV4dFo7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8vIGdvIHRocm91Z2ggYWxsIHBvbHlnb24gbm9kZXMgYW5kIGN1cmUgc21hbGwgbG9jYWwgc2VsZi1pbnRlcnNlY3Rpb25zXG5mdW5jdGlvbiBjdXJlTG9jYWxJbnRlcnNlY3Rpb25zKHN0YXJ0LCB0cmlhbmdsZXMsIGRpbSkge1xuICAgIHZhciBwID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICB2YXIgYSA9IHAucHJldixcbiAgICAgICAgICAgIGIgPSBwLm5leHQubmV4dDtcblxuICAgICAgICBpZiAoIWVxdWFscyhhLCBiKSAmJiBpbnRlcnNlY3RzKGEsIHAsIHAubmV4dCwgYikgJiYgbG9jYWxseUluc2lkZShhLCBiKSAmJiBsb2NhbGx5SW5zaWRlKGIsIGEpKSB7XG5cbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKGEuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChwLmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goYi5pIC8gZGltKTtcblxuICAgICAgICAgICAgLy8gcmVtb3ZlIHR3byBub2RlcyBpbnZvbHZlZFxuICAgICAgICAgICAgcmVtb3ZlTm9kZShwKTtcbiAgICAgICAgICAgIHJlbW92ZU5vZGUocC5uZXh0KTtcblxuICAgICAgICAgICAgcCA9IHN0YXJ0ID0gYjtcbiAgICAgICAgfVxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IHN0YXJ0KTtcblxuICAgIHJldHVybiBwO1xufVxuXG4vLyB0cnkgc3BsaXR0aW5nIHBvbHlnb24gaW50byB0d28gYW5kIHRyaWFuZ3VsYXRlIHRoZW0gaW5kZXBlbmRlbnRseVxuZnVuY3Rpb24gc3BsaXRFYXJjdXQoc3RhcnQsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgLy8gbG9vayBmb3IgYSB2YWxpZCBkaWFnb25hbCB0aGF0IGRpdmlkZXMgdGhlIHBvbHlnb24gaW50byB0d29cbiAgICB2YXIgYSA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGIgPSBhLm5leHQubmV4dDtcbiAgICAgICAgd2hpbGUgKGIgIT09IGEucHJldikge1xuICAgICAgICAgICAgaWYgKGEuaSAhPT0gYi5pICYmIGlzVmFsaWREaWFnb25hbChhLCBiKSkge1xuICAgICAgICAgICAgICAgIC8vIHNwbGl0IHRoZSBwb2x5Z29uIGluIHR3byBieSB0aGUgZGlhZ29uYWxcbiAgICAgICAgICAgICAgICB2YXIgYyA9IHNwbGl0UG9seWdvbihhLCBiKTtcblxuICAgICAgICAgICAgICAgIC8vIGZpbHRlciBjb2xpbmVhciBwb2ludHMgYXJvdW5kIHRoZSBjdXRzXG4gICAgICAgICAgICAgICAgYSA9IGZpbHRlclBvaW50cyhhLCBhLm5leHQpO1xuICAgICAgICAgICAgICAgIGMgPSBmaWx0ZXJQb2ludHMoYywgYy5uZXh0KTtcblxuICAgICAgICAgICAgICAgIC8vIHJ1biBlYXJjdXQgb24gZWFjaCBoYWxmXG4gICAgICAgICAgICAgICAgZWFyY3V0TGlua2VkKGEsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoYywgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGIgPSBiLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgYSA9IGEubmV4dDtcbiAgICB9IHdoaWxlIChhICE9PSBzdGFydCk7XG59XG5cbi8vIGxpbmsgZXZlcnkgaG9sZSBpbnRvIHRoZSBvdXRlciBsb29wLCBwcm9kdWNpbmcgYSBzaW5nbGUtcmluZyBwb2x5Z29uIHdpdGhvdXQgaG9sZXNcbmZ1bmN0aW9uIGVsaW1pbmF0ZUhvbGVzKGRhdGEsIGhvbGVJbmRpY2VzLCBvdXRlck5vZGUsIGRpbSkge1xuICAgIHZhciBxdWV1ZSA9IFtdLFxuICAgICAgICBpLCBsZW4sIHN0YXJ0LCBlbmQsIGxpc3Q7XG5cbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBzdGFydCA9IGhvbGVJbmRpY2VzW2ldICogZGltO1xuICAgICAgICBlbmQgPSBpIDwgbGVuIC0gMSA/IGhvbGVJbmRpY2VzW2kgKyAxXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuICAgICAgICBsaXN0ID0gbGlua2VkTGlzdChkYXRhLCBzdGFydCwgZW5kLCBkaW0sIGZhbHNlKTtcbiAgICAgICAgaWYgKGxpc3QgPT09IGxpc3QubmV4dCkgbGlzdC5zdGVpbmVyID0gdHJ1ZTtcbiAgICAgICAgcXVldWUucHVzaChnZXRMZWZ0bW9zdChsaXN0KSk7XG4gICAgfVxuXG4gICAgcXVldWUuc29ydChjb21wYXJlWCk7XG5cbiAgICAvLyBwcm9jZXNzIGhvbGVzIGZyb20gbGVmdCB0byByaWdodFxuICAgIGZvciAoaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBlbGltaW5hdGVIb2xlKHF1ZXVlW2ldLCBvdXRlck5vZGUpO1xuICAgICAgICBvdXRlck5vZGUgPSBmaWx0ZXJQb2ludHMob3V0ZXJOb2RlLCBvdXRlck5vZGUubmV4dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dGVyTm9kZTtcbn1cblxuZnVuY3Rpb24gY29tcGFyZVgoYSwgYikge1xuICAgIHJldHVybiBhLnggLSBiLng7XG59XG5cbi8vIGZpbmQgYSBicmlkZ2UgYmV0d2VlbiB2ZXJ0aWNlcyB0aGF0IGNvbm5lY3RzIGhvbGUgd2l0aCBhbiBvdXRlciByaW5nIGFuZCBhbmQgbGluayBpdFxuZnVuY3Rpb24gZWxpbWluYXRlSG9sZShob2xlLCBvdXRlck5vZGUpIHtcbiAgICBvdXRlck5vZGUgPSBmaW5kSG9sZUJyaWRnZShob2xlLCBvdXRlck5vZGUpO1xuICAgIGlmIChvdXRlck5vZGUpIHtcbiAgICAgICAgdmFyIGIgPSBzcGxpdFBvbHlnb24ob3V0ZXJOb2RlLCBob2xlKTtcbiAgICAgICAgZmlsdGVyUG9pbnRzKGIsIGIubmV4dCk7XG4gICAgfVxufVxuXG4vLyBEYXZpZCBFYmVybHkncyBhbGdvcml0aG0gZm9yIGZpbmRpbmcgYSBicmlkZ2UgYmV0d2VlbiBob2xlIGFuZCBvdXRlciBwb2x5Z29uXG5mdW5jdGlvbiBmaW5kSG9sZUJyaWRnZShob2xlLCBvdXRlck5vZGUpIHtcbiAgICB2YXIgcCA9IG91dGVyTm9kZSxcbiAgICAgICAgaHggPSBob2xlLngsXG4gICAgICAgIGh5ID0gaG9sZS55LFxuICAgICAgICBxeCA9IC1JbmZpbml0eSxcbiAgICAgICAgbTtcblxuICAgIC8vIGZpbmQgYSBzZWdtZW50IGludGVyc2VjdGVkIGJ5IGEgcmF5IGZyb20gdGhlIGhvbGUncyBsZWZ0bW9zdCBwb2ludCB0byB0aGUgbGVmdDtcbiAgICAvLyBzZWdtZW50J3MgZW5kcG9pbnQgd2l0aCBsZXNzZXIgeCB3aWxsIGJlIHBvdGVudGlhbCBjb25uZWN0aW9uIHBvaW50XG4gICAgZG8ge1xuICAgICAgICBpZiAoaHkgPD0gcC55ICYmIGh5ID49IHAubmV4dC55ICYmIHAubmV4dC55ICE9PSBwLnkpIHtcbiAgICAgICAgICAgIHZhciB4ID0gcC54ICsgKGh5IC0gcC55KSAqIChwLm5leHQueCAtIHAueCkgLyAocC5uZXh0LnkgLSBwLnkpO1xuICAgICAgICAgICAgaWYgKHggPD0gaHggJiYgeCA+IHF4KSB7XG4gICAgICAgICAgICAgICAgcXggPSB4O1xuICAgICAgICAgICAgICAgIGlmICh4ID09PSBoeCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaHkgPT09IHAueSkgcmV0dXJuIHA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoeSA9PT0gcC5uZXh0LnkpIHJldHVybiBwLm5leHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG0gPSBwLnggPCBwLm5leHQueCA/IHAgOiBwLm5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBvdXRlck5vZGUpO1xuXG4gICAgaWYgKCFtKSByZXR1cm4gbnVsbDtcblxuICAgIGlmIChoeCA9PT0gcXgpIHJldHVybiBtLnByZXY7IC8vIGhvbGUgdG91Y2hlcyBvdXRlciBzZWdtZW50OyBwaWNrIGxvd2VyIGVuZHBvaW50XG5cbiAgICAvLyBsb29rIGZvciBwb2ludHMgaW5zaWRlIHRoZSB0cmlhbmdsZSBvZiBob2xlIHBvaW50LCBzZWdtZW50IGludGVyc2VjdGlvbiBhbmQgZW5kcG9pbnQ7XG4gICAgLy8gaWYgdGhlcmUgYXJlIG5vIHBvaW50cyBmb3VuZCwgd2UgaGF2ZSBhIHZhbGlkIGNvbm5lY3Rpb247XG4gICAgLy8gb3RoZXJ3aXNlIGNob29zZSB0aGUgcG9pbnQgb2YgdGhlIG1pbmltdW0gYW5nbGUgd2l0aCB0aGUgcmF5IGFzIGNvbm5lY3Rpb24gcG9pbnRcblxuICAgIHZhciBzdG9wID0gbSxcbiAgICAgICAgbXggPSBtLngsXG4gICAgICAgIG15ID0gbS55LFxuICAgICAgICB0YW5NaW4gPSBJbmZpbml0eSxcbiAgICAgICAgdGFuO1xuXG4gICAgcCA9IG0ubmV4dDtcblxuICAgIHdoaWxlIChwICE9PSBzdG9wKSB7XG4gICAgICAgIGlmIChoeCA+PSBwLnggJiYgcC54ID49IG14ICYmIGh4ICE9PSBwLnggJiZcbiAgICAgICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoaHkgPCBteSA/IGh4IDogcXgsIGh5LCBteCwgbXksIGh5IDwgbXkgPyBxeCA6IGh4LCBoeSwgcC54LCBwLnkpKSB7XG5cbiAgICAgICAgICAgIHRhbiA9IE1hdGguYWJzKGh5IC0gcC55KSAvIChoeCAtIHAueCk7IC8vIHRhbmdlbnRpYWxcblxuICAgICAgICAgICAgaWYgKCh0YW4gPCB0YW5NaW4gfHwgKHRhbiA9PT0gdGFuTWluICYmIHAueCA+IG0ueCkpICYmIGxvY2FsbHlJbnNpZGUocCwgaG9sZSkpIHtcbiAgICAgICAgICAgICAgICBtID0gcDtcbiAgICAgICAgICAgICAgICB0YW5NaW4gPSB0YW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH1cblxuICAgIHJldHVybiBtO1xufVxuXG4vLyBpbnRlcmxpbmsgcG9seWdvbiBub2RlcyBpbiB6LW9yZGVyXG5mdW5jdGlvbiBpbmRleEN1cnZlKHN0YXJ0LCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgdmFyIHAgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLnogPT09IG51bGwpIHAueiA9IHpPcmRlcihwLngsIHAueSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgIHAucHJldlogPSBwLnByZXY7XG4gICAgICAgIHAubmV4dFogPSBwLm5leHQ7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcC5wcmV2Wi5uZXh0WiA9IG51bGw7XG4gICAgcC5wcmV2WiA9IG51bGw7XG5cbiAgICBzb3J0TGlua2VkKHApO1xufVxuXG4vLyBTaW1vbiBUYXRoYW0ncyBsaW5rZWQgbGlzdCBtZXJnZSBzb3J0IGFsZ29yaXRobVxuLy8gaHR0cDovL3d3dy5jaGlhcmsuZ3JlZW5lbmQub3JnLnVrL35zZ3RhdGhhbS9hbGdvcml0aG1zL2xpc3Rzb3J0Lmh0bWxcbmZ1bmN0aW9uIHNvcnRMaW5rZWQobGlzdCkge1xuICAgIHZhciBpLCBwLCBxLCBlLCB0YWlsLCBudW1NZXJnZXMsIHBTaXplLCBxU2l6ZSxcbiAgICAgICAgaW5TaXplID0gMTtcblxuICAgIGRvIHtcbiAgICAgICAgcCA9IGxpc3Q7XG4gICAgICAgIGxpc3QgPSBudWxsO1xuICAgICAgICB0YWlsID0gbnVsbDtcbiAgICAgICAgbnVtTWVyZ2VzID0gMDtcblxuICAgICAgICB3aGlsZSAocCkge1xuICAgICAgICAgICAgbnVtTWVyZ2VzKys7XG4gICAgICAgICAgICBxID0gcDtcbiAgICAgICAgICAgIHBTaXplID0gMDtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBpblNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgIHBTaXplKys7XG4gICAgICAgICAgICAgICAgcSA9IHEubmV4dFo7XG4gICAgICAgICAgICAgICAgaWYgKCFxKSBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHFTaXplID0gaW5TaXplO1xuXG4gICAgICAgICAgICB3aGlsZSAocFNpemUgPiAwIHx8IChxU2l6ZSA+IDAgJiYgcSkpIHtcblxuICAgICAgICAgICAgICAgIGlmIChwU2l6ZSAhPT0gMCAmJiAocVNpemUgPT09IDAgfHwgIXEgfHwgcC56IDw9IHEueikpIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IHA7XG4gICAgICAgICAgICAgICAgICAgIHAgPSBwLm5leHRaO1xuICAgICAgICAgICAgICAgICAgICBwU2l6ZS0tO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGUgPSBxO1xuICAgICAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcbiAgICAgICAgICAgICAgICAgICAgcVNpemUtLTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGFpbCkgdGFpbC5uZXh0WiA9IGU7XG4gICAgICAgICAgICAgICAgZWxzZSBsaXN0ID0gZTtcblxuICAgICAgICAgICAgICAgIGUucHJldlogPSB0YWlsO1xuICAgICAgICAgICAgICAgIHRhaWwgPSBlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwID0gcTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhaWwubmV4dFogPSBudWxsO1xuICAgICAgICBpblNpemUgKj0gMjtcblxuICAgIH0gd2hpbGUgKG51bU1lcmdlcyA+IDEpO1xuXG4gICAgcmV0dXJuIGxpc3Q7XG59XG5cbi8vIHotb3JkZXIgb2YgYSBwb2ludCBnaXZlbiBjb29yZHMgYW5kIGludmVyc2Ugb2YgdGhlIGxvbmdlciBzaWRlIG9mIGRhdGEgYmJveFxuZnVuY3Rpb24gek9yZGVyKHgsIHksIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICAvLyBjb29yZHMgYXJlIHRyYW5zZm9ybWVkIGludG8gbm9uLW5lZ2F0aXZlIDE1LWJpdCBpbnRlZ2VyIHJhbmdlXG4gICAgeCA9IDMyNzY3ICogKHggLSBtaW5YKSAqIGludlNpemU7XG4gICAgeSA9IDMyNzY3ICogKHkgLSBtaW5ZKSAqIGludlNpemU7XG5cbiAgICB4ID0gKHggfCAoeCA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICAgIHggPSAoeCB8ICh4IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gICAgeCA9ICh4IHwgKHggPDwgMikpICYgMHgzMzMzMzMzMztcbiAgICB4ID0gKHggfCAoeCA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gICAgeSA9ICh5IHwgKHkgPDwgOCkpICYgMHgwMEZGMDBGRjtcbiAgICB5ID0gKHkgfCAoeSA8PCA0KSkgJiAweDBGMEYwRjBGO1xuICAgIHkgPSAoeSB8ICh5IDw8IDIpKSAmIDB4MzMzMzMzMzM7XG4gICAgeSA9ICh5IHwgKHkgPDwgMSkpICYgMHg1NTU1NTU1NTtcblxuICAgIHJldHVybiB4IHwgKHkgPDwgMSk7XG59XG5cbi8vIGZpbmQgdGhlIGxlZnRtb3N0IG5vZGUgb2YgYSBwb2x5Z29uIHJpbmdcbmZ1bmN0aW9uIGdldExlZnRtb3N0KHN0YXJ0KSB7XG4gICAgdmFyIHAgPSBzdGFydCxcbiAgICAgICAgbGVmdG1vc3QgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLnggPCBsZWZ0bW9zdC54IHx8IChwLnggPT09IGxlZnRtb3N0LnggJiYgcC55IDwgbGVmdG1vc3QueSkpIGxlZnRtb3N0ID0gcDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gbGVmdG1vc3Q7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9pbnQgbGllcyB3aXRoaW4gYSBjb252ZXggdHJpYW5nbGVcbmZ1bmN0aW9uIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBweCwgcHkpIHtcbiAgICByZXR1cm4gKGN4IC0gcHgpICogKGF5IC0gcHkpIC0gKGF4IC0gcHgpICogKGN5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGF4IC0gcHgpICogKGJ5IC0gcHkpIC0gKGJ4IC0gcHgpICogKGF5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGJ4IC0gcHgpICogKGN5IC0gcHkpIC0gKGN4IC0gcHgpICogKGJ5IC0gcHkpID49IDA7XG59XG5cbi8vIGNoZWNrIGlmIGEgZGlhZ29uYWwgYmV0d2VlbiB0d28gcG9seWdvbiBub2RlcyBpcyB2YWxpZCAobGllcyBpbiBwb2x5Z29uIGludGVyaW9yKVxuZnVuY3Rpb24gaXNWYWxpZERpYWdvbmFsKGEsIGIpIHtcbiAgICByZXR1cm4gYS5uZXh0LmkgIT09IGIuaSAmJiBhLnByZXYuaSAhPT0gYi5pICYmICFpbnRlcnNlY3RzUG9seWdvbihhLCBiKSAmJlxuICAgICAgICAgICBsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkgJiYgbWlkZGxlSW5zaWRlKGEsIGIpO1xufVxuXG4vLyBzaWduZWQgYXJlYSBvZiBhIHRyaWFuZ2xlXG5mdW5jdGlvbiBhcmVhKHAsIHEsIHIpIHtcbiAgICByZXR1cm4gKHEueSAtIHAueSkgKiAoci54IC0gcS54KSAtIChxLnggLSBwLngpICogKHIueSAtIHEueSk7XG59XG5cbi8vIGNoZWNrIGlmIHR3byBwb2ludHMgYXJlIGVxdWFsXG5mdW5jdGlvbiBlcXVhbHMocDEsIHAyKSB7XG4gICAgcmV0dXJuIHAxLnggPT09IHAyLnggJiYgcDEueSA9PT0gcDIueTtcbn1cblxuLy8gY2hlY2sgaWYgdHdvIHNlZ21lbnRzIGludGVyc2VjdFxuZnVuY3Rpb24gaW50ZXJzZWN0cyhwMSwgcTEsIHAyLCBxMikge1xuICAgIGlmICgoZXF1YWxzKHAxLCBxMSkgJiYgZXF1YWxzKHAyLCBxMikpIHx8XG4gICAgICAgIChlcXVhbHMocDEsIHEyKSAmJiBlcXVhbHMocDIsIHExKSkpIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBhcmVhKHAxLCBxMSwgcDIpID4gMCAhPT0gYXJlYShwMSwgcTEsIHEyKSA+IDAgJiZcbiAgICAgICAgICAgYXJlYShwMiwgcTIsIHAxKSA+IDAgIT09IGFyZWEocDIsIHEyLCBxMSkgPiAwO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaW50ZXJzZWN0cyBhbnkgcG9seWdvbiBzZWdtZW50c1xuZnVuY3Rpb24gaW50ZXJzZWN0c1BvbHlnb24oYSwgYikge1xuICAgIHZhciBwID0gYTtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLmkgIT09IGEuaSAmJiBwLm5leHQuaSAhPT0gYS5pICYmIHAuaSAhPT0gYi5pICYmIHAubmV4dC5pICE9PSBiLmkgJiZcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3RzKHAsIHAubmV4dCwgYSwgYikpIHJldHVybiB0cnVlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IGEpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgbG9jYWxseSBpbnNpZGUgdGhlIHBvbHlnb25cbmZ1bmN0aW9uIGxvY2FsbHlJbnNpZGUoYSwgYikge1xuICAgIHJldHVybiBhcmVhKGEucHJldiwgYSwgYS5uZXh0KSA8IDAgP1xuICAgICAgICBhcmVhKGEsIGIsIGEubmV4dCkgPj0gMCAmJiBhcmVhKGEsIGEucHJldiwgYikgPj0gMCA6XG4gICAgICAgIGFyZWEoYSwgYiwgYS5wcmV2KSA8IDAgfHwgYXJlYShhLCBhLm5leHQsIGIpIDwgMDtcbn1cblxuLy8gY2hlY2sgaWYgdGhlIG1pZGRsZSBwb2ludCBvZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgaW5zaWRlIHRoZSBwb2x5Z29uXG5mdW5jdGlvbiBtaWRkbGVJbnNpZGUoYSwgYikge1xuICAgIHZhciBwID0gYSxcbiAgICAgICAgaW5zaWRlID0gZmFsc2UsXG4gICAgICAgIHB4ID0gKGEueCArIGIueCkgLyAyLFxuICAgICAgICBweSA9IChhLnkgKyBiLnkpIC8gMjtcbiAgICBkbyB7XG4gICAgICAgIGlmICgoKHAueSA+IHB5KSAhPT0gKHAubmV4dC55ID4gcHkpKSAmJiBwLm5leHQueSAhPT0gcC55ICYmXG4gICAgICAgICAgICAgICAgKHB4IDwgKHAubmV4dC54IC0gcC54KSAqIChweSAtIHAueSkgLyAocC5uZXh0LnkgLSBwLnkpICsgcC54KSlcbiAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XG5cbiAgICByZXR1cm4gaW5zaWRlO1xufVxuXG4vLyBsaW5rIHR3byBwb2x5Z29uIHZlcnRpY2VzIHdpdGggYSBicmlkZ2U7IGlmIHRoZSB2ZXJ0aWNlcyBiZWxvbmcgdG8gdGhlIHNhbWUgcmluZywgaXQgc3BsaXRzIHBvbHlnb24gaW50byB0d287XG4vLyBpZiBvbmUgYmVsb25ncyB0byB0aGUgb3V0ZXIgcmluZyBhbmQgYW5vdGhlciB0byBhIGhvbGUsIGl0IG1lcmdlcyBpdCBpbnRvIGEgc2luZ2xlIHJpbmdcbmZ1bmN0aW9uIHNwbGl0UG9seWdvbihhLCBiKSB7XG4gICAgdmFyIGEyID0gbmV3IE5vZGUoYS5pLCBhLngsIGEueSksXG4gICAgICAgIGIyID0gbmV3IE5vZGUoYi5pLCBiLngsIGIueSksXG4gICAgICAgIGFuID0gYS5uZXh0LFxuICAgICAgICBicCA9IGIucHJldjtcblxuICAgIGEubmV4dCA9IGI7XG4gICAgYi5wcmV2ID0gYTtcblxuICAgIGEyLm5leHQgPSBhbjtcbiAgICBhbi5wcmV2ID0gYTI7XG5cbiAgICBiMi5uZXh0ID0gYTI7XG4gICAgYTIucHJldiA9IGIyO1xuXG4gICAgYnAubmV4dCA9IGIyO1xuICAgIGIyLnByZXYgPSBicDtcblxuICAgIHJldHVybiBiMjtcbn1cblxuLy8gY3JlYXRlIGEgbm9kZSBhbmQgb3B0aW9uYWxseSBsaW5rIGl0IHdpdGggcHJldmlvdXMgb25lIChpbiBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGluc2VydE5vZGUoaSwgeCwgeSwgbGFzdCkge1xuICAgIHZhciBwID0gbmV3IE5vZGUoaSwgeCwgeSk7XG5cbiAgICBpZiAoIWxhc3QpIHtcbiAgICAgICAgcC5wcmV2ID0gcDtcbiAgICAgICAgcC5uZXh0ID0gcDtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHAubmV4dCA9IGxhc3QubmV4dDtcbiAgICAgICAgcC5wcmV2ID0gbGFzdDtcbiAgICAgICAgbGFzdC5uZXh0LnByZXYgPSBwO1xuICAgICAgICBsYXN0Lm5leHQgPSBwO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlTm9kZShwKSB7XG4gICAgcC5uZXh0LnByZXYgPSBwLnByZXY7XG4gICAgcC5wcmV2Lm5leHQgPSBwLm5leHQ7XG5cbiAgICBpZiAocC5wcmV2WikgcC5wcmV2Wi5uZXh0WiA9IHAubmV4dFo7XG4gICAgaWYgKHAubmV4dFopIHAubmV4dFoucHJldlogPSBwLnByZXZaO1xufVxuXG5mdW5jdGlvbiBOb2RlKGksIHgsIHkpIHtcbiAgICAvLyB2ZXJ0ZXggaW5kZXggaW4gY29vcmRpbmF0ZXMgYXJyYXlcbiAgICB0aGlzLmkgPSBpO1xuXG4gICAgLy8gdmVydGV4IGNvb3JkaW5hdGVzXG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuXG4gICAgLy8gcHJldmlvdXMgYW5kIG5leHQgdmVydGV4IG5vZGVzIGluIGEgcG9seWdvbiByaW5nXG4gICAgdGhpcy5wcmV2ID0gbnVsbDtcbiAgICB0aGlzLm5leHQgPSBudWxsO1xuXG4gICAgLy8gei1vcmRlciBjdXJ2ZSB2YWx1ZVxuICAgIHRoaXMueiA9IG51bGw7XG5cbiAgICAvLyBwcmV2aW91cyBhbmQgbmV4dCBub2RlcyBpbiB6LW9yZGVyXG4gICAgdGhpcy5wcmV2WiA9IG51bGw7XG4gICAgdGhpcy5uZXh0WiA9IG51bGw7XG5cbiAgICAvLyBpbmRpY2F0ZXMgd2hldGhlciB0aGlzIGlzIGEgc3RlaW5lciBwb2ludFxuICAgIHRoaXMuc3RlaW5lciA9IGZhbHNlO1xufVxuXG4vLyByZXR1cm4gYSBwZXJjZW50YWdlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgcG9seWdvbiBhcmVhIGFuZCBpdHMgdHJpYW5ndWxhdGlvbiBhcmVhO1xuLy8gdXNlZCB0byB2ZXJpZnkgY29ycmVjdG5lc3Mgb2YgdHJpYW5ndWxhdGlvblxuZWFyY3V0LmRldmlhdGlvbiA9IGZ1bmN0aW9uIChkYXRhLCBob2xlSW5kaWNlcywgZGltLCB0cmlhbmdsZXMpIHtcbiAgICB2YXIgaGFzSG9sZXMgPSBob2xlSW5kaWNlcyAmJiBob2xlSW5kaWNlcy5sZW5ndGg7XG4gICAgdmFyIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuXG4gICAgdmFyIHBvbHlnb25BcmVhID0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCAwLCBvdXRlckxlbiwgZGltKSk7XG4gICAgaWYgKGhhc0hvbGVzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gaG9sZUluZGljZXNbaV0gKiBkaW07XG4gICAgICAgICAgICB2YXIgZW5kID0gaSA8IGxlbiAtIDEgPyBob2xlSW5kaWNlc1tpICsgMV0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIHBvbHlnb25BcmVhIC09IE1hdGguYWJzKHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdHJpYW5nbGVzQXJlYSA9IDA7XG4gICAgZm9yIChpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICB2YXIgYSA9IHRyaWFuZ2xlc1tpXSAqIGRpbTtcbiAgICAgICAgdmFyIGIgPSB0cmlhbmdsZXNbaSArIDFdICogZGltO1xuICAgICAgICB2YXIgYyA9IHRyaWFuZ2xlc1tpICsgMl0gKiBkaW07XG4gICAgICAgIHRyaWFuZ2xlc0FyZWEgKz0gTWF0aC5hYnMoXG4gICAgICAgICAgICAoZGF0YVthXSAtIGRhdGFbY10pICogKGRhdGFbYiArIDFdIC0gZGF0YVthICsgMV0pIC1cbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtiXSkgKiAoZGF0YVtjICsgMV0gLSBkYXRhW2EgKyAxXSkpO1xuICAgIH1cblxuICAgIHJldHVybiBwb2x5Z29uQXJlYSA9PT0gMCAmJiB0cmlhbmdsZXNBcmVhID09PSAwID8gMCA6XG4gICAgICAgIE1hdGguYWJzKCh0cmlhbmdsZXNBcmVhIC0gcG9seWdvbkFyZWEpIC8gcG9seWdvbkFyZWEpO1xufTtcblxuZnVuY3Rpb24gc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pIHtcbiAgICB2YXIgc3VtID0gMDtcbiAgICBmb3IgKHZhciBpID0gc3RhcnQsIGogPSBlbmQgLSBkaW07IGkgPCBlbmQ7IGkgKz0gZGltKSB7XG4gICAgICAgIHN1bSArPSAoZGF0YVtqXSAtIGRhdGFbaV0pICogKGRhdGFbaSArIDFdICsgZGF0YVtqICsgMV0pO1xuICAgICAgICBqID0gaTtcbiAgICB9XG4gICAgcmV0dXJuIHN1bTtcbn1cblxuLy8gdHVybiBhIHBvbHlnb24gaW4gYSBtdWx0aS1kaW1lbnNpb25hbCBhcnJheSBmb3JtIChlLmcuIGFzIGluIEdlb0pTT04pIGludG8gYSBmb3JtIEVhcmN1dCBhY2NlcHRzXG5lYXJjdXQuZmxhdHRlbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdmFyIGRpbSA9IGRhdGFbMF1bMF0ubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSB7dmVydGljZXM6IFtdLCBob2xlczogW10sIGRpbWVuc2lvbnM6IGRpbX0sXG4gICAgICAgIGhvbGVJbmRleCA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8IGRpbTsgZCsrKSByZXN1bHQudmVydGljZXMucHVzaChkYXRhW2ldW2pdW2RdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIGhvbGVJbmRleCArPSBkYXRhW2kgLSAxXS5sZW5ndGg7XG4gICAgICAgICAgICByZXN1bHQuaG9sZXMucHVzaChob2xlSW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cbnZhciBNaW5pU2lnbmFsQmluZGluZyA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1pbmlTaWduYWxCaW5kaW5nKGZuLCBvbmNlLCB0aGlzQXJnKSB7XG4gICAgaWYgKG9uY2UgPT09IHVuZGVmaW5lZCkgb25jZSA9IGZhbHNlO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1pbmlTaWduYWxCaW5kaW5nKTtcblxuICAgIHRoaXMuX2ZuID0gZm47XG4gICAgdGhpcy5fb25jZSA9IG9uY2U7XG4gICAgdGhpcy5fdGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgdGhpcy5fbmV4dCA9IHRoaXMuX3ByZXYgPSB0aGlzLl9vd25lciA9IG51bGw7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWluaVNpZ25hbEJpbmRpbmcsIFt7XG4gICAga2V5OiAnZGV0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKCkge1xuICAgICAgaWYgKHRoaXMuX293bmVyID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgICB0aGlzLl9vd25lci5kZXRhY2godGhpcyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWluaVNpZ25hbEJpbmRpbmc7XG59KSgpO1xuXG5mdW5jdGlvbiBfYWRkTWluaVNpZ25hbEJpbmRpbmcoc2VsZiwgbm9kZSkge1xuICBpZiAoIXNlbGYuX2hlYWQpIHtcbiAgICBzZWxmLl9oZWFkID0gbm9kZTtcbiAgICBzZWxmLl90YWlsID0gbm9kZTtcbiAgfSBlbHNlIHtcbiAgICBzZWxmLl90YWlsLl9uZXh0ID0gbm9kZTtcbiAgICBub2RlLl9wcmV2ID0gc2VsZi5fdGFpbDtcbiAgICBzZWxmLl90YWlsID0gbm9kZTtcbiAgfVxuXG4gIG5vZGUuX293bmVyID0gc2VsZjtcblxuICByZXR1cm4gbm9kZTtcbn1cblxudmFyIE1pbmlTaWduYWwgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNaW5pU2lnbmFsKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNaW5pU2lnbmFsKTtcblxuICAgIHRoaXMuX2hlYWQgPSB0aGlzLl90YWlsID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1pbmlTaWduYWwsIFt7XG4gICAga2V5OiAnaGFuZGxlcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVycygpIHtcbiAgICAgIHZhciBleGlzdHMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGFyZ3VtZW50c1swXTtcblxuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuXG4gICAgICBpZiAoZXhpc3RzKSByZXR1cm4gISFub2RlO1xuXG4gICAgICB2YXIgZWUgPSBbXTtcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgZWUucHVzaChub2RlKTtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYXMobm9kZSkge1xuICAgICAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIE1pbmlTaWduYWxCaW5kaW5nKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjaGFzKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgTWluaVNpZ25hbEJpbmRpbmcgb2JqZWN0LicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbm9kZS5fb3duZXIgPT09IHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGlzcGF0Y2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwYXRjaCgpIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcblxuICAgICAgaWYgKCFub2RlKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlLl9vbmNlKSB0aGlzLmRldGFjaChub2RlKTtcbiAgICAgICAgbm9kZS5fZm4uYXBwbHkobm9kZS5fdGhpc0FyZywgYXJndW1lbnRzKTtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2FkZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZChmbikge1xuICAgICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzFdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNhZGQoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfYWRkTWluaVNpZ25hbEJpbmRpbmcodGhpcywgbmV3IE1pbmlTaWduYWxCaW5kaW5nKGZuLCBmYWxzZSwgdGhpc0FyZykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uY2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbmNlKGZuKSB7XG4gICAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI29uY2UoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfYWRkTWluaVNpZ25hbEJpbmRpbmcodGhpcywgbmV3IE1pbmlTaWduYWxCaW5kaW5nKGZuLCB0cnVlLCB0aGlzQXJnKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGV0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKG5vZGUpIHtcbiAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBNaW5pU2lnbmFsQmluZGluZykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2RldGFjaCgpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIE1pbmlTaWduYWxCaW5kaW5nIG9iamVjdC4nKTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLl9vd25lciAhPT0gdGhpcykgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChub2RlLl9wcmV2KSBub2RlLl9wcmV2Ll9uZXh0ID0gbm9kZS5fbmV4dDtcbiAgICAgIGlmIChub2RlLl9uZXh0KSBub2RlLl9uZXh0Ll9wcmV2ID0gbm9kZS5fcHJldjtcblxuICAgICAgaWYgKG5vZGUgPT09IHRoaXMuX2hlYWQpIHtcbiAgICAgICAgdGhpcy5faGVhZCA9IG5vZGUuX25leHQ7XG4gICAgICAgIGlmIChub2RlLl9uZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5fdGFpbCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZSA9PT0gdGhpcy5fdGFpbCkge1xuICAgICAgICB0aGlzLl90YWlsID0gbm9kZS5fcHJldjtcbiAgICAgICAgdGhpcy5fdGFpbC5fbmV4dCA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIG5vZGUuX293bmVyID0gbnVsbDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RldGFjaEFsbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaEFsbCgpIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcbiAgICAgIGlmICghbm9kZSkgcmV0dXJuIHRoaXM7XG5cbiAgICAgIHRoaXMuX2hlYWQgPSB0aGlzLl90YWlsID0gbnVsbDtcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgbm9kZS5fb3duZXIgPSBudWxsO1xuICAgICAgICBub2RlID0gbm9kZS5fbmV4dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNaW5pU2lnbmFsO1xufSkoKTtcblxuTWluaVNpZ25hbC5NaW5pU2lnbmFsQmluZGluZyA9IE1pbmlTaWduYWxCaW5kaW5nO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBNaW5pU2lnbmFsO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4iLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJzZVVSSSAoc3RyLCBvcHRzKSB7XG4gIG9wdHMgPSBvcHRzIHx8IHt9XG5cbiAgdmFyIG8gPSB7XG4gICAga2V5OiBbJ3NvdXJjZScsICdwcm90b2NvbCcsICdhdXRob3JpdHknLCAndXNlckluZm8nLCAndXNlcicsICdwYXNzd29yZCcsICdob3N0JywgJ3BvcnQnLCAncmVsYXRpdmUnLCAncGF0aCcsICdkaXJlY3RvcnknLCAnZmlsZScsICdxdWVyeScsICdhbmNob3InXSxcbiAgICBxOiB7XG4gICAgICBuYW1lOiAncXVlcnlLZXknLFxuICAgICAgcGFyc2VyOiAvKD86XnwmKShbXiY9XSopPT8oW14mXSopL2dcbiAgICB9LFxuICAgIHBhcnNlcjoge1xuICAgICAgc3RyaWN0OiAvXig/OihbXjpcXC8/I10rKTopPyg/OlxcL1xcLygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSk/KCgoKD86W14/I1xcL10qXFwvKSopKFtePyNdKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvLFxuICAgICAgbG9vc2U6IC9eKD86KD8hW146QF0rOlteOkBcXC9dKkApKFteOlxcLz8jLl0rKTopPyg/OlxcL1xcLyk/KCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XFwvPyNdKikoPzo6KFxcZCopKT8pKCgoXFwvKD86W14/I10oPyFbXj8jXFwvXSpcXC5bXj8jXFwvLl0rKD86Wz8jXXwkKSkpKlxcLz8pPyhbXj8jXFwvXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pL1xuICAgIH1cbiAgfVxuXG4gIHZhciBtID0gby5wYXJzZXJbb3B0cy5zdHJpY3RNb2RlID8gJ3N0cmljdCcgOiAnbG9vc2UnXS5leGVjKHN0cilcbiAgdmFyIHVyaSA9IHt9XG4gIHZhciBpID0gMTRcblxuICB3aGlsZSAoaS0tKSB1cmlbby5rZXlbaV1dID0gbVtpXSB8fCAnJ1xuXG4gIHVyaVtvLnEubmFtZV0gPSB7fVxuICB1cmlbby5rZXlbMTJdXS5yZXBsYWNlKG8ucS5wYXJzZXIsIGZ1bmN0aW9uICgkMCwgJDEsICQyKSB7XG4gICAgaWYgKCQxKSB1cmlbby5xLm5hbWVdWyQxXSA9ICQyXG4gIH0pXG5cbiAgcmV0dXJuIHVyaVxufVxuIiwiLyoqXG4gKiBTbWFsbGVyIHZlcnNpb24gb2YgdGhlIGFzeW5jIGxpYnJhcnkgY29uc3RydWN0cy5cbiAqXG4gKiBAbmFtZXNwYWNlIGFzeW5jXG4gKi9cblxuLyoqXG4gKiBOb29wIGZ1bmN0aW9uXG4gKlxuICogQGlnbm9yZVxuICogQGZ1bmN0aW9uXG4gKiBAbWVtYmVyb2YgYXN5bmNcbiAqL1xuZnVuY3Rpb24gX25vb3AoKSB7IC8qIGVtcHR5ICovIH1cblxuLyoqXG4gKiBJdGVyYXRlcyBhbiBhcnJheSBpbiBzZXJpZXMuXG4gKlxuICogQG1lbWJlcm9mIGFzeW5jXG4gKiBAcGFyYW0ge0FycmF5LjwqPn0gYXJyYXkgLSBBcnJheSB0byBpdGVyYXRlLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gaXRlcmF0b3IgLSBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGVsZW1lbnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBkb25lLCBvciBvbiBlcnJvci5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RlZmVyTmV4dD1mYWxzZV0gLSBCcmVhayBzeW5jaHJvbm91cyBlYWNoIGxvb3AgYnkgY2FsbGluZyBuZXh0IHdpdGggYSBzZXRUaW1lb3V0IG9mIDEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlYWNoU2VyaWVzKGFycmF5LCBpdGVyYXRvciwgY2FsbGJhY2ssIGRlZmVyTmV4dCkge1xuICAgIGxldCBpID0gMDtcbiAgICBjb25zdCBsZW4gPSBhcnJheS5sZW5ndGg7XG5cbiAgICAoZnVuY3Rpb24gbmV4dChlcnIpIHtcbiAgICAgICAgaWYgKGVyciB8fCBpID09PSBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWZlck5leHQpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGl0ZXJhdG9yKGFycmF5W2krK10sIG5leHQpO1xuICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpdGVyYXRvcihhcnJheVtpKytdLCBuZXh0KTtcbiAgICAgICAgfVxuICAgIH0pKCk7XG59XG5cbi8qKlxuICogRW5zdXJlcyBhIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkIG9uY2UuXG4gKlxuICogQGlnbm9yZVxuICogQG1lbWJlcm9mIGFzeW5jXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHJldHVybiB7ZnVuY3Rpb259IFRoZSB3cmFwcGluZyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb25seU9uY2UoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gb25jZVdyYXBwZXIoKSB7XG4gICAgICAgIGlmIChmbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYWxsYmFjayB3YXMgYWxyZWFkeSBjYWxsZWQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjYWxsRm4gPSBmbjtcblxuICAgICAgICBmbiA9IG51bGw7XG4gICAgICAgIGNhbGxGbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG59XG5cbi8qKlxuICogQXN5bmMgcXVldWUgaW1wbGVtZW50YXRpb24sXG4gKlxuICogQG1lbWJlcm9mIGFzeW5jXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSB3b3JrZXIgLSBUaGUgd29ya2VyIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdGFzay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBjb25jdXJyZW5jeSAtIEhvdyBtYW55IHdvcmtlcnMgdG8gcnVuIGluIHBhcnJhbGxlbC5cbiAqIEByZXR1cm4geyp9IFRoZSBhc3luYyBxdWV1ZSBvYmplY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWV1ZSh3b3JrZXIsIGNvbmN1cnJlbmN5KSB7XG4gICAgaWYgKGNvbmN1cnJlbmN5ID09IG51bGwpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgICBjb25jdXJyZW5jeSA9IDE7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvbmN1cnJlbmN5ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ29uY3VycmVuY3kgbXVzdCBub3QgYmUgemVybycpO1xuICAgIH1cblxuICAgIGxldCB3b3JrZXJzID0gMDtcbiAgICBjb25zdCBxID0ge1xuICAgICAgICBfdGFza3M6IFtdLFxuICAgICAgICBjb25jdXJyZW5jeSxcbiAgICAgICAgc2F0dXJhdGVkOiBfbm9vcCxcbiAgICAgICAgdW5zYXR1cmF0ZWQ6IF9ub29wLFxuICAgICAgICBidWZmZXI6IGNvbmN1cnJlbmN5IC8gNCxcbiAgICAgICAgZW1wdHk6IF9ub29wLFxuICAgICAgICBkcmFpbjogX25vb3AsXG4gICAgICAgIGVycm9yOiBfbm9vcCxcbiAgICAgICAgc3RhcnRlZDogZmFsc2UsXG4gICAgICAgIHBhdXNlZDogZmFsc2UsXG4gICAgICAgIHB1c2goZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIF9pbnNlcnQoZGF0YSwgZmFsc2UsIGNhbGxiYWNrKTtcbiAgICAgICAgfSxcbiAgICAgICAga2lsbCgpIHtcbiAgICAgICAgICAgIHdvcmtlcnMgPSAwO1xuICAgICAgICAgICAgcS5kcmFpbiA9IF9ub29wO1xuICAgICAgICAgICAgcS5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICBxLl90YXNrcyA9IFtdO1xuICAgICAgICB9LFxuICAgICAgICB1bnNoaWZ0KGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBfaW5zZXJ0KGRhdGEsIHRydWUsIGNhbGxiYWNrKTtcbiAgICAgICAgfSxcbiAgICAgICAgcHJvY2VzcygpIHtcbiAgICAgICAgICAgIHdoaWxlICghcS5wYXVzZWQgJiYgd29ya2VycyA8IHEuY29uY3VycmVuY3kgJiYgcS5fdGFza3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFzayA9IHEuX3Rhc2tzLnNoaWZ0KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocS5fdGFza3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHEuZW1wdHkoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3b3JrZXJzICs9IDE7XG5cbiAgICAgICAgICAgICAgICBpZiAod29ya2VycyA9PT0gcS5jb25jdXJyZW5jeSkge1xuICAgICAgICAgICAgICAgICAgICBxLnNhdHVyYXRlZCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHdvcmtlcih0YXNrLmRhdGEsIG9ubHlPbmNlKF9uZXh0KHRhc2spKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGxlbmd0aCgpIHtcbiAgICAgICAgICAgIHJldHVybiBxLl90YXNrcy5sZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIHJ1bm5pbmcoKSB7XG4gICAgICAgICAgICByZXR1cm4gd29ya2VycztcbiAgICAgICAgfSxcbiAgICAgICAgaWRsZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBxLl90YXNrcy5sZW5ndGggKyB3b3JrZXJzID09PSAwO1xuICAgICAgICB9LFxuICAgICAgICBwYXVzZSgpIHtcbiAgICAgICAgICAgIGlmIChxLnBhdXNlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcS5wYXVzZWQgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICByZXN1bWUoKSB7XG4gICAgICAgICAgICBpZiAocS5wYXVzZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBxLnBhdXNlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBOZWVkIHRvIGNhbGwgcS5wcm9jZXNzIG9uY2UgcGVyIGNvbmN1cnJlbnRcbiAgICAgICAgICAgIC8vIHdvcmtlciB0byBwcmVzZXJ2ZSBmdWxsIGNvbmN1cnJlbmN5IGFmdGVyIHBhdXNlXG4gICAgICAgICAgICBmb3IgKGxldCB3ID0gMTsgdyA8PSBxLmNvbmN1cnJlbmN5OyB3KyspIHtcbiAgICAgICAgICAgICAgICBxLnByb2Nlc3MoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gX2luc2VydChkYXRhLCBpbnNlcnRBdEZyb250LCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCAmJiB0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd0YXNrIGNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcS5zdGFydGVkID0gdHJ1ZTtcblxuICAgICAgICBpZiAoZGF0YSA9PSBudWxsICYmIHEuaWRsZSgpKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgICAgICAgIC8vIGNhbGwgZHJhaW4gaW1tZWRpYXRlbHkgaWYgdGhlcmUgYXJlIG5vIHRhc2tzXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHEuZHJhaW4oKSwgMSk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGl0ZW0gPSB7XG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgY2FsbGJhY2s6IHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJyA/IGNhbGxiYWNrIDogX25vb3AsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGluc2VydEF0RnJvbnQpIHtcbiAgICAgICAgICAgIHEuX3Rhc2tzLnVuc2hpZnQoaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBxLl90YXNrcy5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBxLnByb2Nlc3MoKSwgMSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX25leHQodGFzaykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICAgIHdvcmtlcnMgLT0gMTtcblxuICAgICAgICAgICAgdGFzay5jYWxsYmFjay5hcHBseSh0YXNrLCBhcmd1bWVudHMpO1xuXG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzWzBdICE9IG51bGwpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgICAgICAgICAgIHEuZXJyb3IoYXJndW1lbnRzWzBdLCB0YXNrLmRhdGEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAod29ya2VycyA8PSAocS5jb25jdXJyZW5jeSAtIHEuYnVmZmVyKSkge1xuICAgICAgICAgICAgICAgIHEudW5zYXR1cmF0ZWQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHEuaWRsZSgpKSB7XG4gICAgICAgICAgICAgICAgcS5kcmFpbigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBxLnByb2Nlc3MoKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gcTtcbn1cbiIsImltcG9ydCBwYXJzZVVyaSBmcm9tICdwYXJzZS11cmknO1xuaW1wb3J0IFNpZ25hbCBmcm9tICdtaW5pLXNpZ25hbHMnO1xuXG4vLyB0ZXN0cyBpZiBDT1JTIGlzIHN1cHBvcnRlZCBpbiBYSFIsIGlmIG5vdCB3ZSBuZWVkIHRvIHVzZSBYRFJcbmNvbnN0IHVzZVhkciA9ICEhKHdpbmRvdy5YRG9tYWluUmVxdWVzdCAmJiAhKCd3aXRoQ3JlZGVudGlhbHMnIGluIChuZXcgWE1MSHR0cFJlcXVlc3QoKSkpKTtcbmxldCB0ZW1wQW5jaG9yID0gbnVsbDtcblxuLy8gc29tZSBzdGF0dXMgY29uc3RhbnRzXG5jb25zdCBTVEFUVVNfTk9ORSA9IDA7XG5jb25zdCBTVEFUVVNfT0sgPSAyMDA7XG5jb25zdCBTVEFUVVNfRU1QVFkgPSAyMDQ7XG5jb25zdCBTVEFUVVNfSUVfQlVHX0VNUFRZID0gMTIyMztcbmNvbnN0IFNUQVRVU19UWVBFX09LID0gMjtcblxuLy8gbm9vcFxuZnVuY3Rpb24gX25vb3AoKSB7IC8qIGVtcHR5ICovIH1cblxuLyoqXG4gKiBNYW5hZ2VzIHRoZSBzdGF0ZSBhbmQgbG9hZGluZyBvZiBhIHJlc291cmNlIGFuZCBhbGwgY2hpbGQgcmVzb3VyY2VzLlxuICpcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgY2xhc3MgUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxvYWQgdHlwZSB0byBiZSB1c2VkIGZvciBhIHNwZWNpZmljIGV4dGVuc2lvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0bmFtZSAtIFRoZSBleHRlbnNpb24gdG8gc2V0IHRoZSB0eXBlIGZvciwgZS5nLiBcInBuZ1wiIG9yIFwiZm50XCJcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLkxPQURfVFlQRX0gbG9hZFR5cGUgLSBUaGUgbG9hZCB0eXBlIHRvIHNldCBpdCB0by5cbiAgICAgKi9cbiAgICBzdGF0aWMgc2V0RXh0ZW5zaW9uTG9hZFR5cGUoZXh0bmFtZSwgbG9hZFR5cGUpIHtcbiAgICAgICAgc2V0RXh0TWFwKFJlc291cmNlLl9sb2FkVHlwZU1hcCwgZXh0bmFtZSwgbG9hZFR5cGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxvYWQgdHlwZSB0byBiZSB1c2VkIGZvciBhIHNwZWNpZmljIGV4dGVuc2lvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0bmFtZSAtIFRoZSBleHRlbnNpb24gdG8gc2V0IHRoZSB0eXBlIGZvciwgZS5nLiBcInBuZ1wiIG9yIFwiZm50XCJcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSB4aHJUeXBlIC0gVGhlIHhociB0eXBlIHRvIHNldCBpdCB0by5cbiAgICAgKi9cbiAgICBzdGF0aWMgc2V0RXh0ZW5zaW9uWGhyVHlwZShleHRuYW1lLCB4aHJUeXBlKSB7XG4gICAgICAgIHNldEV4dE1hcChSZXNvdXJjZS5feGhyVHlwZU1hcCwgZXh0bmFtZSwgeGhyVHlwZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgZm9yIGF1ZGlvL3ZpZGVvIGxvYWRzIHlvdSBjYW4gcGFzc1xuICAgICAqICAgICAgYW4gYXJyYXkgb2Ygc291cmNlcy5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW59IFtvcHRpb25zLmNyb3NzT3JpZ2luXSAtIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IERlZmF1bHQgaXMgdG9cbiAgICAgKiAgICAgIGRldGVybWluZSBhdXRvbWF0aWNhbGx5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50aW1lb3V0PTBdIC0gQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGxvYWQuIElmIHRoZSBsb2FkIHRha2VzXG4gICAgICogICAgICBsb25nZXIgdGhhbiB0aGlzIHRpbWUgaXQgaXMgY2FuY2VsbGVkIGFuZCB0aGUgbG9hZCBpcyBjb25zaWRlcmVkIGEgZmFpbHVyZS4gSWYgdGhpcyB2YWx1ZSBpc1xuICAgICAqICAgICAgc2V0IHRvIGAwYCB0aGVuIHRoZXJlIGlzIG5vIGV4cGxpY2l0IHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5MT0FEX1RZUEV9IFtvcHRpb25zLmxvYWRUeXBlPVJlc291cmNlLkxPQURfVFlQRS5YSFJdIC0gSG93IHNob3VsZCB0aGlzIHJlc291cmNlXG4gICAgICogICAgICBiZSBsb2FkZWQ/XG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gW29wdGlvbnMueGhyVHlwZT1SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ERUZBVUxUXSAtIEhvd1xuICAgICAqICAgICAgc2hvdWxkIHRoZSBkYXRhIGJlaW5nIGxvYWRlZCBiZSBpbnRlcnByZXRlZCB3aGVuIHVzaW5nIFhIUj9cbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLklNZXRhZGF0YX0gW29wdGlvbnMubWV0YWRhdGFdIC0gRXh0cmEgY29uZmlndXJhdGlvbiBmb3IgbWlkZGxld2FyZSBhbmQgdGhlIFJlc291cmNlIG9iamVjdC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihuYW1lLCB1cmwsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb3RoIG5hbWUgYW5kIHVybCBhcmUgcmVxdWlyZWQgZm9yIGNvbnN0cnVjdGluZyBhIHJlc291cmNlLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdGF0ZSBmbGFncyBvZiB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mbGFncyA9IDA7XG5cbiAgICAgICAgLy8gc2V0IGRhdGEgdXJsIGZsYWcsIG5lZWRzIHRvIGJlIHNldCBlYXJseSBmb3Igc29tZSBfZGV0ZXJtaW5lWCBjaGVja3MgdG8gd29yay5cbiAgICAgICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwsIHVybC5pbmRleE9mKCdkYXRhOicpID09PSAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5hbWUgb2YgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB1cmwgdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVybCA9IHVybDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGV4dGVuc2lvbiB1c2VkIHRvIGxvYWQgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXh0ZW5zaW9uID0gdGhpcy5fZ2V0RXh0ZW5zaW9uKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIHRoYXQgd2FzIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2FueX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IElmIHVuc2V0LCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3Jvc3NPcmlnaW4gPSBvcHRpb25zLmNyb3NzT3JpZ2luID09PSB0cnVlID8gJ2Fub255bW91cycgOiBvcHRpb25zLmNyb3NzT3JpZ2luO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgbG9hZC4gSWYgdGhlIGxvYWQgdGFrZXMgbG9uZ2VyIHRoYW4gdGhpcyB0aW1lXG4gICAgICAgICAqIGl0IGlzIGNhbmNlbGxlZCBhbmQgdGhlIGxvYWQgaXMgY29uc2lkZXJlZCBhIGZhaWx1cmUuIElmIHRoaXMgdmFsdWUgaXMgc2V0IHRvIGAwYFxuICAgICAgICAgKiB0aGVuIHRoZXJlIGlzIG5vIGV4cGxpY2l0IHRpbWVvdXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGltZW91dCA9IG9wdGlvbnMudGltZW91dCB8fCAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWV0aG9kIG9mIGxvYWRpbmcgdG8gdXNlIGZvciB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5MT0FEX1RZUEV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxvYWRUeXBlID0gb3B0aW9ucy5sb2FkVHlwZSB8fCB0aGlzLl9kZXRlcm1pbmVMb2FkVHlwZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSB1c2VkIHRvIGxvYWQgdGhlIHJlc291cmNlIHZpYSBYSFIuIElmIHVuc2V0LCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueGhyVHlwZSA9IG9wdGlvbnMueGhyVHlwZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRXh0cmEgaW5mbyBmb3IgbWlkZGxld2FyZSwgYW5kIGNvbnRyb2xsaW5nIHNwZWNpZmljcyBhYm91dCBob3cgdGhlIHJlc291cmNlIGxvYWRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBOb3RlIHRoYXQgaWYgeW91IHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgLCB0aGUgUmVzb3VyY2UgY2xhc3MgdGFrZXMgb3duZXJzaGlwIG9mIGl0LlxuICAgICAgICAgKiBNZWFuaW5nIGl0IHdpbGwgbW9kaWZ5IGl0IGFzIGl0IHNlZXMgZml0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5JTWV0YWRhdGF9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gb3B0aW9ucy5tZXRhZGF0YSB8fCB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGVycm9yIHRoYXQgb2NjdXJyZWQgd2hpbGUgbG9hZGluZyAoaWYgYW55KS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge0Vycm9yfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lcnJvciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBYSFIgb2JqZWN0IHRoYXQgd2FzIHVzZWQgdG8gbG9hZCB0aGlzIHJlc291cmNlLiBUaGlzIGlzIG9ubHkgc2V0XG4gICAgICAgICAqIHdoZW4gYGxvYWRUeXBlYCBpcyBgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUmAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtYTUxIdHRwUmVxdWVzdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueGhyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNoaWxkIHJlc291cmNlcyB0aGlzIHJlc291cmNlIG93bnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb3VyY2UgdHlwZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge1Jlc291cmNlLlRZUEV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlVOS05PV047XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwcm9ncmVzcyBjaHVuayBvd25lZCBieSB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcm9ncmVzc0NodW5rID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBkZXF1ZXVlYCBtZXRob2QgdGhhdCB3aWxsIGJlIHVzZWQgYSBzdG9yYWdlIHBsYWNlIGZvciB0aGUgYXN5bmMgcXVldWUgZGVxdWV1ZSBtZXRob2RcbiAgICAgICAgICogdXNlZCBwcml2YXRlbHkgYnkgdGhlIGxvYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kZXF1ZXVlID0gX25vb3A7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgYSBzdG9yYWdlIHBsYWNlIGZvciB0aGUgb24gbG9hZCBiaW5kaW5nIHVzZWQgcHJpdmF0ZWx5IGJ5IHRoZSBsb2FkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb25Mb2FkQmluZGluZyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW1lciBmb3IgZWxlbWVudCBsb2FkcyB0byBjaGVjayBpZiB0aGV5IHRpbWVvdXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2VsZW1lbnRUaW1lciA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgY29tcGxldGVgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kQ29tcGxldGUgPSB0aGlzLmNvbXBsZXRlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgX29uRXJyb3JgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kT25FcnJvciA9IHRoaXMuX29uRXJyb3IuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBfb25Qcm9ncmVzc2AgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRPblByb2dyZXNzID0gdGhpcy5fb25Qcm9ncmVzcy5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYF9vblRpbWVvdXRgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kT25UaW1lb3V0ID0gdGhpcy5fb25UaW1lb3V0LmJpbmQodGhpcyk7XG5cbiAgICAgICAgLy8geGhyIGNhbGxiYWNrc1xuICAgICAgICB0aGlzLl9ib3VuZFhock9uRXJyb3IgPSB0aGlzLl94aHJPbkVycm9yLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0ID0gdGhpcy5feGhyT25UaW1lb3V0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2JvdW5kWGhyT25BYm9ydCA9IHRoaXMuX3hock9uQWJvcnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fYm91bmRYaHJPbkxvYWQgPSB0aGlzLl94aHJPbkxvYWQuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCB3aGVuIHRoZSByZXNvdXJjZSBiZWluZ3MgdG8gbG9hZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uU3RhcnRTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25TdGFydFNpZ25hbD59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uU3RhcnQgPSBuZXcgU2lnbmFsKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgZWFjaCB0aW1lIHByb2dyZXNzIG9mIHRoaXMgcmVzb3VyY2UgbG9hZCB1cGRhdGVzLlxuICAgICAgICAgKiBOb3QgYWxsIHJlc291cmNlcyB0eXBlcyBhbmQgbG9hZGVyIHN5c3RlbXMgY2FuIHN1cHBvcnQgdGhpcyBldmVudFxuICAgICAgICAgKiBzbyBzb21ldGltZXMgaXQgbWF5IG5vdCBiZSBhdmFpbGFibGUuIElmIHRoZSByZXNvdXJjZVxuICAgICAgICAgKiBpcyBiZWluZyBsb2FkZWQgb24gYSBtb2Rlcm4gYnJvd3NlciwgdXNpbmcgWEhSLCBhbmQgdGhlIHJlbW90ZSBzZXJ2ZXJcbiAgICAgICAgICogcHJvcGVybHkgc2V0cyBDb250ZW50LUxlbmd0aCBoZWFkZXJzLCB0aGVuIHRoaXMgd2lsbCBiZSBhdmFpbGFibGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PblByb2dyZXNzU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsPFJlc291cmNlLk9uUHJvZ3Jlc3NTaWduYWw+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblByb2dyZXNzID0gbmV3IFNpZ25hbCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIG9uY2UgdGhpcyByZXNvdXJjZSBoYXMgbG9hZGVkLCBpZiB0aGVyZSB3YXMgYW4gZXJyb3IgaXQgd2lsbFxuICAgICAgICAgKiBiZSBpbiB0aGUgYGVycm9yYCBwcm9wZXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbD59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUgPSBuZXcgU2lnbmFsKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgYWZ0ZXIgdGhpcyByZXNvdXJjZSBoYXMgaGFkIGFsbCB0aGUgKmFmdGVyKiBtaWRkbGV3YXJlIHJ1biBvbiBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbD59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uQWZ0ZXJNaWRkbGV3YXJlID0gbmV3IFNpZ25hbCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHJlc291cmNlIHN0YXJ0cyB0byBsb2FkLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAgICogQGNhbGxiYWNrIE9uU3RhcnRTaWduYWxcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHRoZSBldmVudCBoYXBwZW5lZCBvbi5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHJlc291cmNlIHJlcG9ydHMgbG9hZGluZyBwcm9ncmVzcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBSZXNvdXJjZVxuICAgICAqIEBjYWxsYmFjayBPblByb2dyZXNzU2lnbmFsXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBlcmNlbnRhZ2UgLSBUaGUgcHJvZ3Jlc3Mgb2YgdGhlIGxvYWQgaW4gdGhlIHJhbmdlIFswLCAxXS5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHJlc291cmNlIGZpbmlzaGVzIGxvYWRpbmcuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICAgKiBAY2FsbGJhY2sgT25Db21wbGV0ZVNpZ25hbFxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAgICogQHR5cGVkZWYge29iamVjdH0gSU1ldGFkYXRhXG4gICAgICogQHByb3BlcnR5IHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxBdWRpb0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gW2xvYWRFbGVtZW50PW51bGxdIC0gVGhlXG4gICAgICogICAgICBlbGVtZW50IHRvIHVzZSBmb3IgbG9hZGluZywgaW5zdGVhZCBvZiBjcmVhdGluZyBvbmUuXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBbc2tpcFNvdXJjZT1mYWxzZV0gLSBTa2lwcyBhZGRpbmcgc291cmNlKHMpIHRvIHRoZSBsb2FkIGVsZW1lbnQuIFRoaXNcbiAgICAgKiAgICAgIGlzIHVzZWZ1bCBpZiB5b3Ugd2FudCB0byBwYXNzIGluIGEgYGxvYWRFbGVtZW50YCB0aGF0IHlvdSBhbHJlYWR5IGFkZGVkIGxvYWQgc291cmNlcyB0by5cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xzdHJpbmdbXX0gW21pbWVUeXBlXSAtIFRoZSBtaW1lIHR5cGUgdG8gdXNlIGZvciB0aGUgc291cmNlIGVsZW1lbnRcbiAgICAgKiAgICAgIG9mIGEgdmlkZW8vYXVkaW8gZWxtZW50LiBJZiB0aGUgdXJscyBhcmUgYW4gYXJyYXksIHlvdSBjYW4gcGFzcyB0aGlzIGFzIGFuIGFycmF5IGFzIHdlbGxcbiAgICAgKiAgICAgIHdoZXJlIGVhY2ggaW5kZXggaXMgdGhlIG1pbWUgdHlwZSB0byB1c2UgZm9yIHRoZSBjb3JyZXNwb25kaW5nIHVybCBpbmRleC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFN0b3JlcyB3aGV0aGVyIG9yIG5vdCB0aGlzIHVybCBpcyBhIGRhdGEgdXJsLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgaXNEYXRhVXJsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlcyBpZiB0aGlzIHJlc291cmNlIGhhcyBmaW5pc2hlZCBsb2FkaW5nLiBJcyB0cnVlIHdoZW4gdGhlIHJlc291cmNlIGhhcyBjb21wbGV0ZWx5XG4gICAgICogbG9hZGVkLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgaXNDb21wbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hhc0ZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkNPTVBMRVRFKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZXMgaWYgdGhpcyByZXNvdXJjZSBpcyBjdXJyZW50bHkgbG9hZGluZy4gSXMgdHJ1ZSB3aGVuIHRoZSByZXNvdXJjZSBzdGFydHMgbG9hZGluZyxcbiAgICAgKiBhbmQgaXMgZmFsc2UgYWdhaW4gd2hlbiBjb21wbGV0ZS5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IGlzTG9hZGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hhc0ZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hcmtzIHRoZSByZXNvdXJjZSBhcyBjb21wbGV0ZS5cbiAgICAgKlxuICAgICAqL1xuICAgIGNvbXBsZXRlKCkge1xuICAgICAgICB0aGlzLl9jbGVhckV2ZW50cygpO1xuICAgICAgICB0aGlzLl9maW5pc2goKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBYm9ydHMgdGhlIGxvYWRpbmcgb2YgdGhpcyByZXNvdXJjZSwgd2l0aCBhbiBvcHRpb25hbCBtZXNzYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBUaGUgbWVzc2FnZSB0byB1c2UgZm9yIHRoZSBlcnJvclxuICAgICAqL1xuICAgIGFib3J0KG1lc3NhZ2UpIHtcbiAgICAgICAgLy8gYWJvcnQgY2FuIGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcywgaWdub3JlIHN1YnNlcXVlbnQgY2FsbHMuXG4gICAgICAgIGlmICh0aGlzLmVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdG9yZSBlcnJvclxuICAgICAgICB0aGlzLmVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuXG4gICAgICAgIC8vIGNsZWFyIGV2ZW50cyBiZWZvcmUgY2FsbGluZyBhYm9ydHNcbiAgICAgICAgdGhpcy5fY2xlYXJFdmVudHMoKTtcblxuICAgICAgICAvLyBhYm9ydCB0aGUgYWN0dWFsIGxvYWRpbmdcbiAgICAgICAgaWYgKHRoaXMueGhyKSB7XG4gICAgICAgICAgICB0aGlzLnhoci5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMueGRyKSB7XG4gICAgICAgICAgICB0aGlzLnhkci5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZGF0YSkge1xuICAgICAgICAgICAgLy8gc2luZ2xlIHNvdXJjZVxuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YS5zcmMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc3JjID0gUmVzb3VyY2UuRU1QVFlfR0lGO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbXVsdGktc291cmNlXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5kYXRhLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUNoaWxkKHRoaXMuZGF0YS5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkb25lIG5vdy5cbiAgICAgICAgdGhpcy5fZmluaXNoKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogS2lja3Mgb2ZmIGxvYWRpbmcgb2YgdGhpcyByZXNvdXJjZS4gVGhpcyBtZXRob2QgaXMgYXN5bmNocm9ub3VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfSBbY2JdIC0gT3B0aW9uYWwgY2FsbGJhY2sgdG8gY2FsbCBvbmNlIHRoZSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICovXG4gICAgbG9hZChjYikge1xuICAgICAgICBpZiAodGhpcy5pc0xvYWRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgIGlmIChjYikge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gY2IodGhpcyksIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2IpIHtcbiAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZS5vbmNlKGNiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcsIHRydWUpO1xuXG4gICAgICAgIHRoaXMub25TdGFydC5kaXNwYXRjaCh0aGlzKTtcblxuICAgICAgICAvLyBpZiB1bnNldCwgZGV0ZXJtaW5lIHRoZSB2YWx1ZVxuICAgICAgICBpZiAodGhpcy5jcm9zc09yaWdpbiA9PT0gZmFsc2UgfHwgdHlwZW9mIHRoaXMuY3Jvc3NPcmlnaW4gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLmNyb3NzT3JpZ2luID0gdGhpcy5fZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odGhpcy51cmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoICh0aGlzLmxvYWRUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5JTUFHRTpcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLklNQUdFO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRFbGVtZW50KCdpbWFnZScpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5BVURJTzpcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLkFVRElPO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRTb3VyY2VFbGVtZW50KCdhdWRpbycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5WSURFTzpcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlZJREVPO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRTb3VyY2VFbGVtZW50KCd2aWRlbycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5YSFI6XG4gICAgICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAodXNlWGRyICYmIHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9hZFhkcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9hZFhocigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgZmxhZyBpcyBzZXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGZsYWcgdG8gY2hlY2suXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZmxhZyBpcyBzZXQuXG4gICAgICovXG4gICAgX2hhc0ZsYWcoZmxhZykge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgZmxhZykgIT09IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogKFVuKVNldHMgdGhlIGZsYWcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGZsYWcgdG8gKHVuKXNldC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gV2hldGhlciB0byBzZXQgb3IgKHVuKXNldCB0aGUgZmxhZy5cbiAgICAgKi9cbiAgICBfc2V0RmxhZyhmbGFnLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9mbGFncyA9IHZhbHVlID8gKHRoaXMuX2ZsYWdzIHwgZmxhZykgOiAodGhpcy5fZmxhZ3MgJiB+ZmxhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGFsbCB0aGUgZXZlbnRzIGZyb20gdGhlIHVuZGVybHlpbmcgbG9hZGluZyBzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jbGVhckV2ZW50cygpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2VsZW1lbnRUaW1lcik7XG5cbiAgICAgICAgaWYgKHRoaXMuZGF0YSAmJiB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMueGhyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRYaHJPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGltZW91dCcsIHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCB0aGlzLl9ib3VuZFhock9uQWJvcnQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZFhock9uTG9hZCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIub25lcnJvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIub250aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5vbnByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluYWxpemVzIHRoZSBsb2FkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZmluaXNoKCkge1xuICAgICAgICBpZiAodGhpcy5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbXBsZXRlIGNhbGxlZCBhZ2FpbiBmb3IgYW4gYWxyZWFkeSBjb21wbGV0ZWQgcmVzb3VyY2UuJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zZXRGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5DT01QTEVURSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLm9uQ29tcGxldGUuZGlzcGF0Y2godGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gZWxlbWVudCB0aGF0IGhhcyBhIHNpbmdsZSBzb3VyY2UsXG4gICAgICogbGlrZSBhbiBIVE1MSW1hZ2VFbGVtZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSB0eXBlIG9mIGVsZW1lbnQgdG8gdXNlLlxuICAgICAqL1xuICAgIF9sb2FkRWxlbWVudCh0eXBlKSB7XG4gICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICdpbWFnZScgJiYgdHlwZW9mIHdpbmRvdy5JbWFnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5zcmMgPSB0aGlzLnVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG5cbiAgICAgICAgaWYgKHRoaXMudGltZW91dCkge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudFRpbWVyID0gc2V0VGltZW91dCh0aGlzLl9ib3VuZE9uVGltZW91dCwgdGhpcy50aW1lb3V0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIGVsZW1lbnQgdGhhdCBoYXMgbXVsdGlwbGUgc291cmNlcyxcbiAgICAgKiBsaWtlIGFuIEhUTUxBdWRpb0VsZW1lbnQgb3IgSFRNTFZpZGVvRWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50IHRvIHVzZS5cbiAgICAgKi9cbiAgICBfbG9hZFNvdXJjZUVsZW1lbnQodHlwZSkge1xuICAgICAgICBpZiAodGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09PSAnYXVkaW8nICYmIHR5cGVvZiB3aW5kb3cuQXVkaW8gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBuZXcgQXVkaW8oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5kYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmFib3J0KGBVbnN1cHBvcnRlZCBlbGVtZW50OiAke3R5cGV9YCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgICAgICAgIC8vIHN1cHBvcnQgZm9yIENvY29vbkpTIENhbnZhcysgcnVudGltZSwgbGFja3MgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJylcbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IuaXNDb2Nvb25KUykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zcmMgPSBBcnJheS5pc0FycmF5KHRoaXMudXJsKSA/IHRoaXMudXJsWzBdIDogdGhpcy51cmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRoaXMudXJsKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pbWVUeXBlcyA9IHRoaXMubWV0YWRhdGEubWltZVR5cGU7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudXJsLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5hcHBlbmRDaGlsZChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzLnVybFtpXSwgQXJyYXkuaXNBcnJheShtaW1lVHlwZXMpID8gbWltZVR5cGVzW2ldIDogbWltZVR5cGVzKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pbWVUeXBlcyA9IHRoaXMubWV0YWRhdGEubWltZVR5cGU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuYXBwZW5kQ2hpbGQoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzLnVybCwgQXJyYXkuaXNBcnJheShtaW1lVHlwZXMpID8gbWltZVR5cGVzWzBdIDogbWltZVR5cGVzKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZE9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5kYXRhLmxvYWQoKTtcblxuICAgICAgICBpZiAodGhpcy50aW1lb3V0KSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50VGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuX2JvdW5kT25UaW1lb3V0LCB0aGlzLnRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gWE1MSHR0cFJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9sb2FkWGhyKCkge1xuICAgICAgICAvLyBpZiB1bnNldCwgZGV0ZXJtaW5lIHRoZSB2YWx1ZVxuICAgICAgICBpZiAodHlwZW9mIHRoaXMueGhyVHlwZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMueGhyVHlwZSA9IHRoaXMuX2RldGVybWluZVhoclR5cGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHhociA9IHRoaXMueGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgICAgLy8gc2V0IHRoZSByZXF1ZXN0IHR5cGUgYW5kIHVybFxuICAgICAgICB4aHIub3BlbignR0VUJywgdGhpcy51cmwsIHRydWUpO1xuXG4gICAgICAgIHhoci50aW1lb3V0ID0gdGhpcy50aW1lb3V0O1xuXG4gICAgICAgIC8vIGxvYWQganNvbiBhcyB0ZXh0IGFuZCBwYXJzZSBpdCBvdXJzZWx2ZXMuIFdlIGRvIHRoaXMgYmVjYXVzZSBzb21lIGJyb3dzZXJzXG4gICAgICAgIC8vICpjb3VnaCogc2FmYXJpICpjb3VnaCogY2FuJ3QgZGVhbCB3aXRoIGl0LlxuICAgICAgICBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OIHx8IHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpIHtcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IHRoaXMueGhyVHlwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kWGhyT25FcnJvciwgZmFsc2UpO1xuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigndGltZW91dCcsIHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0LCBmYWxzZSk7XG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZFhock9uTG9hZCwgZmFsc2UpO1xuXG4gICAgICAgIHhoci5zZW5kKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gWERvbWFpblJlcXVlc3QuIFRoaXMgaXMgaGVyZSBiZWNhdXNlIHdlIG5lZWQgdG8gc3VwcG9ydCBJRTkgKGdyb3NzKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2xvYWRYZHIoKSB7XG4gICAgICAgIC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy54aHJUeXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy54aHJUeXBlID0gdGhpcy5fZGV0ZXJtaW5lWGhyVHlwZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeGRyID0gdGhpcy54aHIgPSBuZXcgWERvbWFpblJlcXVlc3QoKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG4gICAgICAgIC8vIFhEb21haW5SZXF1ZXN0IGhhcyBhIGZldyBxdWlya3MuIE9jY2FzaW9uYWxseSBpdCB3aWxsIGFib3J0IHJlcXVlc3RzXG4gICAgICAgIC8vIEEgd2F5IHRvIGF2b2lkIHRoaXMgaXMgdG8gbWFrZSBzdXJlIEFMTCBjYWxsYmFja3MgYXJlIHNldCBldmVuIGlmIG5vdCB1c2VkXG4gICAgICAgIC8vIE1vcmUgaW5mbyBoZXJlOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE1Nzg2OTY2L3hkb21haW5yZXF1ZXN0LWFib3J0cy1wb3N0LW9uLWllLTlcbiAgICAgICAgeGRyLnRpbWVvdXQgPSB0aGlzLnRpbWVvdXQgfHwgNTAwMDsgLy8gWERSIG5lZWRzIGEgdGltZW91dCB2YWx1ZSBvciBpdCBicmVha3MgaW4gSUU5XG5cbiAgICAgICAgeGRyLm9uZXJyb3IgPSB0aGlzLl9ib3VuZFhock9uRXJyb3I7XG4gICAgICAgIHhkci5vbnRpbWVvdXQgPSB0aGlzLl9ib3VuZFhock9uVGltZW91dDtcbiAgICAgICAgeGRyLm9ucHJvZ3Jlc3MgPSB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3M7XG4gICAgICAgIHhkci5vbmxvYWQgPSB0aGlzLl9ib3VuZFhock9uTG9hZDtcblxuICAgICAgICB4ZHIub3BlbignR0VUJywgdGhpcy51cmwsIHRydWUpO1xuXG4gICAgICAgIC8vIE5vdGU6IFRoZSB4ZHIuc2VuZCgpIGNhbGwgaXMgd3JhcHBlZCBpbiBhIHRpbWVvdXQgdG8gcHJldmVudCBhblxuICAgICAgICAvLyBpc3N1ZSB3aXRoIHRoZSBpbnRlcmZhY2Ugd2hlcmUgc29tZSByZXF1ZXN0cyBhcmUgbG9zdCBpZiBtdWx0aXBsZVxuICAgICAgICAvLyBYRG9tYWluUmVxdWVzdHMgYXJlIGJlaW5nIHNlbnQgYXQgdGhlIHNhbWUgdGltZS5cbiAgICAgICAgLy8gU29tZSBpbmZvIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9waG90b25zdG9ybS9waGFzZXIvaXNzdWVzLzEyNDhcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB4ZHIuc2VuZCgpLCAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc291cmNlIHVzZWQgaW4gbG9hZGluZyB2aWEgYW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgZWxlbWVudCB0eXBlICh2aWRlbyBvciBhdWRpbykuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSBzb3VyY2UgVVJMIHRvIGxvYWQgZnJvbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW21pbWVdIC0gVGhlIG1pbWUgdHlwZSBvZiB0aGUgdmlkZW9cbiAgICAgKiBAcmV0dXJuIHtIVE1MU291cmNlRWxlbWVudH0gVGhlIHNvdXJjZSBlbGVtZW50LlxuICAgICAqL1xuICAgIF9jcmVhdGVTb3VyY2UodHlwZSwgdXJsLCBtaW1lKSB7XG4gICAgICAgIGlmICghbWltZSkge1xuICAgICAgICAgICAgbWltZSA9IGAke3R5cGV9LyR7dGhpcy5fZ2V0RXh0ZW5zaW9uKHVybCl9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpO1xuXG4gICAgICAgIHNvdXJjZS5zcmMgPSB1cmw7XG4gICAgICAgIHNvdXJjZS50eXBlID0gbWltZTtcblxuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhIGxvYWQgZXJyb3JzIG91dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gVGhlIGVycm9yIGV2ZW50IGZyb20gdGhlIGVsZW1lbnQgdGhhdCBlbWl0cyBpdC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbkVycm9yKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuYWJvcnQoYEZhaWxlZCB0byBsb2FkIGVsZW1lbnQgdXNpbmc6ICR7ZXZlbnQudGFyZ2V0Lm5vZGVOYW1lfWApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhIGxvYWQgcHJvZ3Jlc3MgZXZlbnQgZmlyZXMgZm9yIGFuIGVsZW1lbnQgb3IgeGhyL3hkci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdFByb2dyZXNzRXZlbnR8RXZlbnR9IGV2ZW50IC0gUHJvZ3Jlc3MgZXZlbnQuXG4gICAgICovXG4gICAgX29uUHJvZ3Jlc3MoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50Lmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMub25Qcm9ncmVzcy5kaXNwYXRjaCh0aGlzLCBldmVudC5sb2FkZWQgLyBldmVudC50b3RhbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgYSB0aW1lb3V0IGV2ZW50IGZpcmVzIGZvciBhbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25UaW1lb3V0KCkge1xuICAgICAgICB0aGlzLmFib3J0KGBMb2FkIHRpbWVkIG91dC5gKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgYW4gZXJyb3IgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF94aHJPbkVycm9yKCkge1xuICAgICAgICBjb25zdCB4aHIgPSB0aGlzLnhocjtcblxuICAgICAgICB0aGlzLmFib3J0KGAke3JlcVR5cGUoeGhyKX0gUmVxdWVzdCBmYWlsZWQuIFN0YXR1czogJHt4aHIuc3RhdHVzfSwgdGV4dDogXCIke3hoci5zdGF0dXNUZXh0fVwiYCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGFuIGVycm9yIGV2ZW50IGZpcmVzIGZvciB4aHIveGRyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfeGhyT25UaW1lb3V0KCkge1xuICAgICAgICBjb25zdCB4aHIgPSB0aGlzLnhocjtcblxuICAgICAgICB0aGlzLmFib3J0KGAke3JlcVR5cGUoeGhyKX0gUmVxdWVzdCB0aW1lZCBvdXQuYCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGFuIGFib3J0IGV2ZW50IGZpcmVzIGZvciB4aHIveGRyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfeGhyT25BYm9ydCgpIHtcbiAgICAgICAgY29uc3QgeGhyID0gdGhpcy54aHI7XG5cbiAgICAgICAgdGhpcy5hYm9ydChgJHtyZXFUeXBlKHhocil9IFJlcXVlc3Qgd2FzIGFib3J0ZWQgYnkgdGhlIHVzZXIuYCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gZGF0YSBzdWNjZXNzZnVsbHkgbG9hZHMgZnJvbSBhbiB4aHIveGRyIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3RMb2FkRXZlbnR8RXZlbnR9IGV2ZW50IC0gTG9hZCBldmVudFxuICAgICAqL1xuICAgIF94aHJPbkxvYWQoKSB7XG4gICAgICAgIGNvbnN0IHhociA9IHRoaXMueGhyO1xuICAgICAgICBsZXQgdGV4dCA9ICcnO1xuICAgICAgICBsZXQgc3RhdHVzID0gdHlwZW9mIHhoci5zdGF0dXMgPT09ICd1bmRlZmluZWQnID8gU1RBVFVTX09LIDogeGhyLnN0YXR1czsgLy8gWERSIGhhcyBubyBgLnN0YXR1c2AsIGFzc3VtZSAyMDAuXG5cbiAgICAgICAgLy8gcmVzcG9uc2VUZXh0IGlzIGFjY2Vzc2libGUgb25seSBpZiByZXNwb25zZVR5cGUgaXMgJycgb3IgJ3RleHQnIGFuZCBvbiBvbGRlciBicm93c2Vyc1xuICAgICAgICBpZiAoeGhyLnJlc3BvbnNlVHlwZSA9PT0gJycgfHwgeGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnIHx8IHR5cGVvZiB4aHIucmVzcG9uc2VUeXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGV4dCA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdGF0dXMgY2FuIGJlIDAgd2hlbiB1c2luZyB0aGUgYGZpbGU6Ly9gIHByb3RvY29sIHNvIHdlIGFsc28gY2hlY2sgaWYgYSByZXNwb25zZSBpcyBzZXQuXG4gICAgICAgIC8vIElmIGl0IGhhcyBhIHJlc3BvbnNlLCB3ZSBhc3N1bWUgMjAwOyBvdGhlcndpc2UgYSAwIHN0YXR1cyBjb2RlIHdpdGggbm8gY29udGVudHMgaXMgYW4gYWJvcnRlZCByZXF1ZXN0LlxuICAgICAgICBpZiAoc3RhdHVzID09PSBTVEFUVVNfTk9ORSAmJiAodGV4dC5sZW5ndGggPiAwIHx8IHhoci5yZXNwb25zZVR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUikpIHtcbiAgICAgICAgICAgIHN0YXR1cyA9IFNUQVRVU19PSztcbiAgICAgICAgfVxuICAgICAgICAvLyBoYW5kbGUgSUU5IGJ1ZzogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDA0Njk3Mi9tc2llLXJldHVybnMtc3RhdHVzLWNvZGUtb2YtMTIyMy1mb3ItYWpheC1yZXF1ZXN0XG4gICAgICAgIGVsc2UgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX0lFX0JVR19FTVBUWSkge1xuICAgICAgICAgICAgc3RhdHVzID0gU1RBVFVTX0VNUFRZO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3RhdHVzVHlwZSA9IChzdGF0dXMgLyAxMDApIHwgMDtcblxuICAgICAgICBpZiAoc3RhdHVzVHlwZSA9PT0gU1RBVFVTX1RZUEVfT0spIHtcbiAgICAgICAgICAgIC8vIGlmIHRleHQsIGp1c3QgcmV0dXJuIGl0XG4gICAgICAgICAgICBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gdGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlRFWFQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiBqc29uLCBwYXJzZSBpbnRvIGpzb24gb2JqZWN0XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLkpTT047XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJvcnQoYEVycm9yIHRyeWluZyB0byBwYXJzZSBsb2FkZWQganNvbjogJHtlfWApO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiB4bWwsIHBhcnNlIGludG8gYW4geG1sIGRvY3VtZW50IG9yIGRpdiBlbGVtZW50XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5ET01QYXJzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvbXBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9tcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh0ZXh0LCAndGV4dC94bWwnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gdGV4dDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZGl2O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5YTUw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJvcnQoYEVycm9yIHRyeWluZyB0byBwYXJzZSBsb2FkZWQgeG1sOiAke2V9YCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG90aGVyIHR5cGVzIGp1c3QgcmV0dXJuIHRoZSByZXNwb25zZVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0geGhyLnJlc3BvbnNlIHx8IHRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFib3J0KGBbJHt4aHIuc3RhdHVzfV0gJHt4aHIuc3RhdHVzVGV4dH06ICR7eGhyLnJlc3BvbnNlVVJMfWApO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYGNyb3NzT3JpZ2luYCBwcm9wZXJ0eSBmb3IgdGhpcyByZXNvdXJjZSBiYXNlZCBvbiBpZiB0aGUgdXJsXG4gICAgICogZm9yIHRoaXMgcmVzb3VyY2UgaXMgY3Jvc3Mtb3JpZ2luLiBJZiBjcm9zc09yaWdpbiB3YXMgbWFudWFsbHkgc2V0LCB0aGlzXG4gICAgICogZnVuY3Rpb24gZG9lcyBub3RoaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byB0ZXN0LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbbG9jPXdpbmRvdy5sb2NhdGlvbl0gLSBUaGUgbG9jYXRpb24gb2JqZWN0IHRvIHRlc3QgYWdhaW5zdC5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBjcm9zc09yaWdpbiB2YWx1ZSB0byB1c2UgKG9yIGVtcHR5IHN0cmluZyBmb3Igbm9uZSkuXG4gICAgICovXG4gICAgX2RldGVybWluZUNyb3NzT3JpZ2luKHVybCwgbG9jKSB7XG4gICAgICAgIC8vIGRhdGE6IGFuZCBqYXZhc2NyaXB0OiB1cmxzIGFyZSBjb25zaWRlcmVkIHNhbWUtb3JpZ2luXG4gICAgICAgIGlmICh1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQSBzYW5kYm94ZWQgaWZyYW1lIHdpdGhvdXQgdGhlICdhbGxvdy1zYW1lLW9yaWdpbicgYXR0cmlidXRlIHdpbGwgaGF2ZSBhIHNwZWNpYWxcbiAgICAgICAgLy8gb3JpZ2luIGRlc2lnbmVkIG5vdCB0byBtYXRjaCB3aW5kb3cubG9jYXRpb24ub3JpZ2luLCBhbmQgd2lsbCBhbHdheXMgcmVxdWlyZVxuICAgICAgICAvLyBjcm9zc09yaWdpbiByZXF1ZXN0cyByZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhlIGxvY2F0aW9uIG1hdGNoZXMuXG4gICAgICAgIGlmICh3aW5kb3cub3JpZ2luICE9PSB3aW5kb3cubG9jYXRpb24ub3JpZ2luKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2Fub255bW91cyc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkZWZhdWx0IGlzIHdpbmRvdy5sb2NhdGlvblxuICAgICAgICBsb2MgPSBsb2MgfHwgd2luZG93LmxvY2F0aW9uO1xuXG4gICAgICAgIGlmICghdGVtcEFuY2hvcikge1xuICAgICAgICAgICAgdGVtcEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldCB0aGUgYnJvd3NlciBkZXRlcm1pbmUgdGhlIGZ1bGwgaHJlZiBmb3IgdGhlIHVybCBvZiB0aGlzIHJlc291cmNlIGFuZCB0aGVuXG4gICAgICAgIC8vIHBhcnNlIHdpdGggdGhlIG5vZGUgdXJsIGxpYiwgd2UgY2FuJ3QgdXNlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBhbmNob3IgZWxlbWVudFxuICAgICAgICAvLyBiZWNhdXNlIHRoZXkgZG9uJ3Qgd29yayBpbiBJRTkgOihcbiAgICAgICAgdGVtcEFuY2hvci5ocmVmID0gdXJsO1xuICAgICAgICB1cmwgPSBwYXJzZVVyaSh0ZW1wQW5jaG9yLmhyZWYsIHsgc3RyaWN0TW9kZTogdHJ1ZSB9KTtcblxuICAgICAgICBjb25zdCBzYW1lUG9ydCA9ICghdXJsLnBvcnQgJiYgbG9jLnBvcnQgPT09ICcnKSB8fCAodXJsLnBvcnQgPT09IGxvYy5wb3J0KTtcbiAgICAgICAgY29uc3QgcHJvdG9jb2wgPSB1cmwucHJvdG9jb2wgPyBgJHt1cmwucHJvdG9jb2x9OmAgOiAnJztcblxuICAgICAgICAvLyBpZiBjcm9zcyBvcmlnaW5cbiAgICAgICAgaWYgKHVybC5ob3N0ICE9PSBsb2MuaG9zdG5hbWUgfHwgIXNhbWVQb3J0IHx8IHByb3RvY29sICE9PSBsb2MucHJvdG9jb2wpIHtcbiAgICAgICAgICAgIHJldHVybiAnYW5vbnltb3VzJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSByZXNwb25zZVR5cGUgb2YgYW4gWEhSIHJlcXVlc3QgYmFzZWQgb24gdGhlIGV4dGVuc2lvbiBvZiB0aGVcbiAgICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSBUaGUgcmVzcG9uc2VUeXBlIHRvIHVzZS5cbiAgICAgKi9cbiAgICBfZGV0ZXJtaW5lWGhyVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFJlc291cmNlLl94aHJUeXBlTWFwW3RoaXMuZXh0ZW5zaW9uXSB8fCBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgdGhlIGxvYWRUeXBlIG9mIGEgcmVzb3VyY2UgYmFzZWQgb24gdGhlIGV4dGVuc2lvbiBvZiB0aGVcbiAgICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge1Jlc291cmNlLkxPQURfVFlQRX0gVGhlIGxvYWRUeXBlIHRvIHVzZS5cbiAgICAgKi9cbiAgICBfZGV0ZXJtaW5lTG9hZFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBSZXNvdXJjZS5fbG9hZFR5cGVNYXBbdGhpcy5leHRlbnNpb25dIHx8IFJlc291cmNlLkxPQURfVFlQRS5YSFI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIGV4dGVuc2lvbiAoc2FucyAnLicpIG9mIHRoZSBmaWxlIGJlaW5nIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGV4dGVuc2lvbi5cbiAgICAgKi9cbiAgICBfZ2V0RXh0ZW5zaW9uKCkge1xuICAgICAgICBsZXQgdXJsID0gdGhpcy51cmw7XG4gICAgICAgIGxldCBleHQgPSAnJztcblxuICAgICAgICBpZiAodGhpcy5pc0RhdGFVcmwpIHtcbiAgICAgICAgICAgIGNvbnN0IHNsYXNoSW5kZXggPSB1cmwuaW5kZXhPZignLycpO1xuXG4gICAgICAgICAgICBleHQgPSB1cmwuc3Vic3RyaW5nKHNsYXNoSW5kZXggKyAxLCB1cmwuaW5kZXhPZignOycsIHNsYXNoSW5kZXgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5U3RhcnQgPSB1cmwuaW5kZXhPZignPycpO1xuICAgICAgICAgICAgY29uc3QgaGFzaFN0YXJ0ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgcXVlcnlTdGFydCA+IC0xID8gcXVlcnlTdGFydCA6IHVybC5sZW5ndGgsXG4gICAgICAgICAgICAgICAgaGFzaFN0YXJ0ID4gLTEgPyBoYXNoU3RhcnQgOiB1cmwubGVuZ3RoXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB1cmwgPSB1cmwuc3Vic3RyaW5nKDAsIGluZGV4KTtcbiAgICAgICAgICAgIGV4dCA9IHVybC5zdWJzdHJpbmcodXJsLmxhc3RJbmRleE9mKCcuJykgKyAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBleHQudG9Mb3dlckNhc2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSBtaW1lIHR5cGUgb2YgYW4gWEhSIHJlcXVlc3QgYmFzZWQgb24gdGhlIHJlc3BvbnNlVHlwZSBvZlxuICAgICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gdHlwZSAtIFRoZSB0eXBlIHRvIGdldCBhIG1pbWUgdHlwZSBmb3IuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgbWltZSB0eXBlIHRvIHVzZS5cbiAgICAgKi9cbiAgICBfZ2V0TWltZUZyb21YaHJUeXBlKHR5cGUpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL29jdGV0LWJpbmFyeSc7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL2Jsb2InO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UOlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24veG1sJztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OOlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vanNvbic7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVDpcbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDpcbiAgICAgICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiAndGV4dC9wbGFpbic7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogVGhlIHR5cGVzIG9mIHJlc291cmNlcyBhIHJlc291cmNlIGNvdWxkIHJlcHJlc2VudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblJlc291cmNlLlNUQVRVU19GTEFHUyA9IHtcbiAgICBOT05FOiAgICAgICAwLFxuICAgIERBVEFfVVJMOiAgICgxIDw8IDApLFxuICAgIENPTVBMRVRFOiAgICgxIDw8IDEpLFxuICAgIExPQURJTkc6ICAgICgxIDw8IDIpLFxufTtcblxuLyoqXG4gKiBUaGUgdHlwZXMgb2YgcmVzb3VyY2VzIGEgcmVzb3VyY2UgY291bGQgcmVwcmVzZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuUmVzb3VyY2UuVFlQRSA9IHtcbiAgICBVTktOT1dOOiAgICAwLFxuICAgIEpTT046ICAgICAgIDEsXG4gICAgWE1MOiAgICAgICAgMixcbiAgICBJTUFHRTogICAgICAzLFxuICAgIEFVRElPOiAgICAgIDQsXG4gICAgVklERU86ICAgICAgNSxcbiAgICBURVhUOiAgICAgICA2LFxufTtcblxuLyoqXG4gKiBUaGUgdHlwZXMgb2YgbG9hZGluZyBhIHJlc291cmNlIGNhbiB1c2UuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5SZXNvdXJjZS5MT0FEX1RZUEUgPSB7XG4gICAgLyoqIFVzZXMgWE1MSHR0cFJlcXVlc3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gICAgWEhSOiAgICAxLFxuICAgIC8qKiBVc2VzIGFuIGBJbWFnZWAgb2JqZWN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICAgIElNQUdFOiAgMixcbiAgICAvKiogVXNlcyBhbiBgQXVkaW9gIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICBBVURJTzogIDMsXG4gICAgLyoqIFVzZXMgYSBgVmlkZW9gIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICBWSURFTzogIDQsXG59O1xuXG4vKipcbiAqIFRoZSBYSFIgcmVhZHkgc3RhdGVzLCB1c2VkIGludGVybmFsbHkuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5SZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRSA9IHtcbiAgICAvKiogc3RyaW5nICovXG4gICAgREVGQVVMVDogICAgJ3RleHQnLFxuICAgIC8qKiBBcnJheUJ1ZmZlciAqL1xuICAgIEJVRkZFUjogICAgICdhcnJheWJ1ZmZlcicsXG4gICAgLyoqIEJsb2IgKi9cbiAgICBCTE9COiAgICAgICAnYmxvYicsXG4gICAgLyoqIERvY3VtZW50ICovXG4gICAgRE9DVU1FTlQ6ICAgJ2RvY3VtZW50JyxcbiAgICAvKiogT2JqZWN0ICovXG4gICAgSlNPTjogICAgICAgJ2pzb24nLFxuICAgIC8qKiBTdHJpbmcgKi9cbiAgICBURVhUOiAgICAgICAndGV4dCcsXG59O1xuXG5SZXNvdXJjZS5fbG9hZFR5cGVNYXAgPSB7XG4gICAgLy8gaW1hZ2VzXG4gICAgZ2lmOiAgICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIHBuZzogICAgICAgIFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBibXA6ICAgICAgICBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAganBnOiAgICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIGpwZWc6ICAgICAgIFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICB0aWY6ICAgICAgICBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgdGlmZjogICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIHdlYnA6ICAgICAgIFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICB0Z2E6ICAgICAgICBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgc3ZnOiAgICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgICdzdmcreG1sJzogIFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSwgLy8gZm9yIFNWRyBkYXRhIHVybHNcblxuICAgIC8vIGF1ZGlvXG4gICAgbXAzOiAgICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPLFxuICAgIG9nZzogICAgICAgIFJlc291cmNlLkxPQURfVFlQRS5BVURJTyxcbiAgICB3YXY6ICAgICAgICBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG5cbiAgICAvLyB2aWRlb3NcbiAgICBtcDQ6ICAgICAgICBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU8sXG4gICAgd2VibTogICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLlZJREVPLFxufTtcblxuUmVzb3VyY2UuX3hoclR5cGVNYXAgPSB7XG4gICAgLy8geG1sXG4gICAgeGh0bWw6ICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgaHRtbDogICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgaHRtOiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgeG1sOiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgdG14OiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgc3ZnOiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG5cbiAgICAvLyBUaGlzIHdhcyBhZGRlZCB0byBoYW5kbGUgVGlsZWQgVGlsZXNldCBYTUwsIGJ1dCAudHN4IGlzIGFsc28gYSBUeXBlU2NyaXB0IFJlYWN0IENvbXBvbmVudC5cbiAgICAvLyBTaW5jZSBpdCBpcyB3YXkgbGVzcyBsaWtlbHkgZm9yIHBlb3BsZSB0byBiZSBsb2FkaW5nIFR5cGVTY3JpcHQgZmlsZXMgaW5zdGVhZCBvZiBUaWxlZCBmaWxlcyxcbiAgICAvLyB0aGlzIHNob3VsZCBwcm9iYWJseSBiZSBmaW5lLlxuICAgIHRzeDogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuXG4gICAgLy8gaW1hZ2VzXG4gICAgZ2lmOiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICBwbmc6ICAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIGJtcDogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAganBnOiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICBqcGVnOiAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHRpZjogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgdGlmZjogICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICB3ZWJwOiAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHRnYTogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG5cbiAgICAvLyBqc29uXG4gICAganNvbjogICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTixcblxuICAgIC8vIHRleHRcbiAgICB0ZXh0OiAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhULFxuICAgIHR4dDogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQsXG5cbiAgICAvLyBmb250c1xuICAgIHR0ZjogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUixcbiAgICBvdGY6ICAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIsXG59O1xuXG4vLyBXZSBjYW4ndCBzZXQgdGhlIGBzcmNgIGF0dHJpYnV0ZSB0byBlbXB0eSBzdHJpbmcsIHNvIG9uIGFib3J0IHdlIHNldCBpdCB0byB0aGlzIDFweCB0cmFuc3BhcmVudCBnaWZcblJlc291cmNlLkVNUFRZX0dJRiA9ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFQLy8vd0FBQUNINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQ1JBRUFPdz09JztcblxuLyoqXG4gKiBRdWljayBoZWxwZXIgdG8gc2V0IGEgdmFsdWUgb24gb25lIG9mIHRoZSBleHRlbnNpb24gbWFwcy4gRW5zdXJlcyB0aGVyZSBpcyBub1xuICogZG90IGF0IHRoZSBzdGFydCBvZiB0aGUgZXh0ZW5zaW9uLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBtYXAgLSBUaGUgbWFwIHRvIHNldCBvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiAob3Iga2V5KSB0byBzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsIC0gVGhlIHZhbHVlIHRvIHNldC5cbiAqL1xuZnVuY3Rpb24gc2V0RXh0TWFwKG1hcCwgZXh0bmFtZSwgdmFsKSB7XG4gICAgaWYgKGV4dG5hbWUgJiYgZXh0bmFtZS5pbmRleE9mKCcuJykgPT09IDApIHtcbiAgICAgICAgZXh0bmFtZSA9IGV4dG5hbWUuc3Vic3RyaW5nKDEpO1xuICAgIH1cblxuICAgIGlmICghZXh0bmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbWFwW2V4dG5hbWVdID0gdmFsO1xufVxuXG4vKipcbiAqIFF1aWNrIGhlbHBlciB0byBnZXQgc3RyaW5nIHhociB0eXBlLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3R8WERvbWFpblJlcXVlc3R9IHhociAtIFRoZSByZXF1ZXN0IHRvIGNoZWNrLlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgdHlwZS5cbiAqL1xuZnVuY3Rpb24gcmVxVHlwZSh4aHIpIHtcbiAgICByZXR1cm4geGhyLnRvU3RyaW5nKCkucmVwbGFjZSgnb2JqZWN0ICcsICcnKTtcbn1cblxuLy8gQmFja3dhcmRzIGNvbXBhdFxuaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IFJlc291cmNlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG59XG4iLCIoZnVuY3Rpb24oZ2xvYmFsKXtcblxuLy9cbi8vIENoZWNrIGZvciBuYXRpdmUgUHJvbWlzZSBhbmQgaXQgaGFzIGNvcnJlY3QgaW50ZXJmYWNlXG4vL1xuXG52YXIgTmF0aXZlUHJvbWlzZSA9IGdsb2JhbFsnUHJvbWlzZSddO1xudmFyIG5hdGl2ZVByb21pc2VTdXBwb3J0ZWQgPVxuICBOYXRpdmVQcm9taXNlICYmXG4gIC8vIFNvbWUgb2YgdGhlc2UgbWV0aG9kcyBhcmUgbWlzc2luZyBmcm9tXG4gIC8vIEZpcmVmb3gvQ2hyb21lIGV4cGVyaW1lbnRhbCBpbXBsZW1lbnRhdGlvbnNcbiAgJ3Jlc29sdmUnIGluIE5hdGl2ZVByb21pc2UgJiZcbiAgJ3JlamVjdCcgaW4gTmF0aXZlUHJvbWlzZSAmJlxuICAnYWxsJyBpbiBOYXRpdmVQcm9taXNlICYmXG4gICdyYWNlJyBpbiBOYXRpdmVQcm9taXNlICYmXG4gIC8vIE9sZGVyIHZlcnNpb24gb2YgdGhlIHNwZWMgaGFkIGEgcmVzb2x2ZXIgb2JqZWN0XG4gIC8vIGFzIHRoZSBhcmcgcmF0aGVyIHRoYW4gYSBmdW5jdGlvblxuICAoZnVuY3Rpb24oKXtcbiAgICB2YXIgcmVzb2x2ZTtcbiAgICBuZXcgTmF0aXZlUHJvbWlzZShmdW5jdGlvbihyKXsgcmVzb2x2ZSA9IHI7IH0pO1xuICAgIHJldHVybiB0eXBlb2YgcmVzb2x2ZSA9PT0gJ2Z1bmN0aW9uJztcbiAgfSkoKTtcblxuXG4vL1xuLy8gZXhwb3J0IGlmIG5lY2Vzc2FyeVxuLy9cblxuaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyAmJiBleHBvcnRzKVxue1xuICAvLyBub2RlLmpzXG4gIGV4cG9ydHMuUHJvbWlzZSA9IG5hdGl2ZVByb21pc2VTdXBwb3J0ZWQgPyBOYXRpdmVQcm9taXNlIDogUHJvbWlzZTtcbiAgZXhwb3J0cy5Qb2x5ZmlsbCA9IFByb21pc2U7XG59XG5lbHNlXG57XG4gIC8vIEFNRFxuICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG4gIHtcbiAgICBkZWZpbmUoZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBuYXRpdmVQcm9taXNlU3VwcG9ydGVkID8gTmF0aXZlUHJvbWlzZSA6IFByb21pc2U7XG4gICAgfSk7XG4gIH1cbiAgZWxzZVxuICB7XG4gICAgLy8gaW4gYnJvd3NlciBhZGQgdG8gZ2xvYmFsXG4gICAgaWYgKCFuYXRpdmVQcm9taXNlU3VwcG9ydGVkKVxuICAgICAgZ2xvYmFsWydQcm9taXNlJ10gPSBQcm9taXNlO1xuICB9XG59XG5cblxuLy9cbi8vIFBvbHlmaWxsXG4vL1xuXG52YXIgUEVORElORyA9ICdwZW5kaW5nJztcbnZhciBTRUFMRUQgPSAnc2VhbGVkJztcbnZhciBGVUxGSUxMRUQgPSAnZnVsZmlsbGVkJztcbnZhciBSRUpFQ1RFRCA9ICdyZWplY3RlZCc7XG52YXIgTk9PUCA9IGZ1bmN0aW9uKCl7fTtcblxuZnVuY3Rpb24gaXNBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn1cblxuLy8gYXN5bmMgY2FsbHNcbnZhciBhc3luY1NldFRpbWVyID0gdHlwZW9mIHNldEltbWVkaWF0ZSAhPT0gJ3VuZGVmaW5lZCcgPyBzZXRJbW1lZGlhdGUgOiBzZXRUaW1lb3V0O1xudmFyIGFzeW5jUXVldWUgPSBbXTtcbnZhciBhc3luY1RpbWVyO1xuXG5mdW5jdGlvbiBhc3luY0ZsdXNoKCl7XG4gIC8vIHJ1biBwcm9taXNlIGNhbGxiYWNrc1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFzeW5jUXVldWUubGVuZ3RoOyBpKyspXG4gICAgYXN5bmNRdWV1ZVtpXVswXShhc3luY1F1ZXVlW2ldWzFdKTtcblxuICAvLyByZXNldCBhc3luYyBhc3luY1F1ZXVlXG4gIGFzeW5jUXVldWUgPSBbXTtcbiAgYXN5bmNUaW1lciA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBhc3luY0NhbGwoY2FsbGJhY2ssIGFyZyl7XG4gIGFzeW5jUXVldWUucHVzaChbY2FsbGJhY2ssIGFyZ10pO1xuXG4gIGlmICghYXN5bmNUaW1lcilcbiAge1xuICAgIGFzeW5jVGltZXIgPSB0cnVlO1xuICAgIGFzeW5jU2V0VGltZXIoYXN5bmNGbHVzaCwgMCk7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBpbnZva2VSZXNvbHZlcihyZXNvbHZlciwgcHJvbWlzZSkge1xuICBmdW5jdGlvbiByZXNvbHZlUHJvbWlzZSh2YWx1ZSkge1xuICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVqZWN0UHJvbWlzZShyZWFzb24pIHtcbiAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmVzb2x2ZXIocmVzb2x2ZVByb21pc2UsIHJlamVjdFByb21pc2UpO1xuICB9IGNhdGNoKGUpIHtcbiAgICByZWplY3RQcm9taXNlKGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGludm9rZUNhbGxiYWNrKHN1YnNjcmliZXIpe1xuICB2YXIgb3duZXIgPSBzdWJzY3JpYmVyLm93bmVyO1xuICB2YXIgc2V0dGxlZCA9IG93bmVyLnN0YXRlXztcbiAgdmFyIHZhbHVlID0gb3duZXIuZGF0YV87ICBcbiAgdmFyIGNhbGxiYWNrID0gc3Vic2NyaWJlcltzZXR0bGVkXTtcbiAgdmFyIHByb21pc2UgPSBzdWJzY3JpYmVyLnRoZW47XG5cbiAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJylcbiAge1xuICAgIHNldHRsZWQgPSBGVUxGSUxMRUQ7XG4gICAgdHJ5IHtcbiAgICAgIHZhbHVlID0gY2FsbGJhY2sodmFsdWUpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgcmVqZWN0KHByb21pc2UsIGUpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghaGFuZGxlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUpKVxuICB7XG4gICAgaWYgKHNldHRsZWQgPT09IEZVTEZJTExFRClcbiAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuXG4gICAgaWYgKHNldHRsZWQgPT09IFJFSkVDVEVEKVxuICAgICAgcmVqZWN0KHByb21pc2UsIHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSkge1xuICB2YXIgcmVzb2x2ZWQ7XG5cbiAgdHJ5IHtcbiAgICBpZiAocHJvbWlzZSA9PT0gdmFsdWUpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBIHByb21pc2VzIGNhbGxiYWNrIGNhbm5vdCByZXR1cm4gdGhhdCBzYW1lIHByb21pc2UuJyk7XG5cbiAgICBpZiAodmFsdWUgJiYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSlcbiAgICB7XG4gICAgICB2YXIgdGhlbiA9IHZhbHVlLnRoZW47ICAvLyB0aGVuIHNob3VsZCBiZSByZXRyaXZlZCBvbmx5IG9uY2VcblxuICAgICAgaWYgKHR5cGVvZiB0aGVuID09PSAnZnVuY3Rpb24nKVxuICAgICAge1xuICAgICAgICB0aGVuLmNhbGwodmFsdWUsIGZ1bmN0aW9uKHZhbCl7XG4gICAgICAgICAgaWYgKCFyZXNvbHZlZClcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXNvbHZlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdmFsKVxuICAgICAgICAgICAgICByZXNvbHZlKHByb21pc2UsIHZhbCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICAgICAgaWYgKCFyZXNvbHZlZClcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXNvbHZlZCA9IHRydWU7XG5cbiAgICAgICAgICAgIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKCFyZXNvbHZlZClcbiAgICAgIHJlamVjdChwcm9taXNlLCBlKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlKHByb21pc2UsIHZhbHVlKXtcbiAgaWYgKHByb21pc2UgPT09IHZhbHVlIHx8ICFoYW5kbGVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSkpXG4gICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpe1xuICBpZiAocHJvbWlzZS5zdGF0ZV8gPT09IFBFTkRJTkcpXG4gIHtcbiAgICBwcm9taXNlLnN0YXRlXyA9IFNFQUxFRDtcbiAgICBwcm9taXNlLmRhdGFfID0gdmFsdWU7XG5cbiAgICBhc3luY0NhbGwocHVibGlzaEZ1bGZpbGxtZW50LCBwcm9taXNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWplY3QocHJvbWlzZSwgcmVhc29uKXtcbiAgaWYgKHByb21pc2Uuc3RhdGVfID09PSBQRU5ESU5HKVxuICB7XG4gICAgcHJvbWlzZS5zdGF0ZV8gPSBTRUFMRUQ7XG4gICAgcHJvbWlzZS5kYXRhXyA9IHJlYXNvbjtcblxuICAgIGFzeW5jQ2FsbChwdWJsaXNoUmVqZWN0aW9uLCBwcm9taXNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwdWJsaXNoKHByb21pc2UpIHtcbiAgdmFyIGNhbGxiYWNrcyA9IHByb21pc2UudGhlbl87XG4gIHByb21pc2UudGhlbl8gPSB1bmRlZmluZWQ7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICBpbnZva2VDYWxsYmFjayhjYWxsYmFja3NbaV0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hGdWxmaWxsbWVudChwcm9taXNlKXtcbiAgcHJvbWlzZS5zdGF0ZV8gPSBGVUxGSUxMRUQ7XG4gIHB1Ymxpc2gocHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hSZWplY3Rpb24ocHJvbWlzZSl7XG4gIHByb21pc2Uuc3RhdGVfID0gUkVKRUNURUQ7XG4gIHB1Ymxpc2gocHJvbWlzZSk7XG59XG5cbi8qKlxuKiBAY2xhc3NcbiovXG5mdW5jdGlvbiBQcm9taXNlKHJlc29sdmVyKXtcbiAgaWYgKHR5cGVvZiByZXNvbHZlciAhPT0gJ2Z1bmN0aW9uJylcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm9taXNlIGNvbnN0cnVjdG9yIHRha2VzIGEgZnVuY3Rpb24gYXJndW1lbnQnKTtcblxuICBpZiAodGhpcyBpbnN0YW5jZW9mIFByb21pc2UgPT09IGZhbHNlKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ZhaWxlZCB0byBjb25zdHJ1Y3QgXFwnUHJvbWlzZVxcJzogUGxlYXNlIHVzZSB0aGUgXFwnbmV3XFwnIG9wZXJhdG9yLCB0aGlzIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uJyk7XG5cbiAgdGhpcy50aGVuXyA9IFtdO1xuXG4gIGludm9rZVJlc29sdmVyKHJlc29sdmVyLCB0aGlzKTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBQcm9taXNlLFxuXG4gIHN0YXRlXzogUEVORElORyxcbiAgdGhlbl86IG51bGwsXG4gIGRhdGFfOiB1bmRlZmluZWQsXG5cbiAgdGhlbjogZnVuY3Rpb24ob25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pe1xuICAgIHZhciBzdWJzY3JpYmVyID0ge1xuICAgICAgb3duZXI6IHRoaXMsXG4gICAgICB0aGVuOiBuZXcgdGhpcy5jb25zdHJ1Y3RvcihOT09QKSxcbiAgICAgIGZ1bGZpbGxlZDogb25GdWxmaWxsbWVudCxcbiAgICAgIHJlamVjdGVkOiBvblJlamVjdGlvblxuICAgIH07XG5cbiAgICBpZiAodGhpcy5zdGF0ZV8gPT09IEZVTEZJTExFRCB8fCB0aGlzLnN0YXRlXyA9PT0gUkVKRUNURUQpXG4gICAge1xuICAgICAgLy8gYWxyZWFkeSByZXNvbHZlZCwgY2FsbCBjYWxsYmFjayBhc3luY1xuICAgICAgYXN5bmNDYWxsKGludm9rZUNhbGxiYWNrLCBzdWJzY3JpYmVyKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgIC8vIHN1YnNjcmliZVxuICAgICAgdGhpcy50aGVuXy5wdXNoKHN1YnNjcmliZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBzdWJzY3JpYmVyLnRoZW47XG4gIH0sXG5cbiAgJ2NhdGNoJzogZnVuY3Rpb24ob25SZWplY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0aW9uKTtcbiAgfVxufTtcblxuUHJvbWlzZS5hbGwgPSBmdW5jdGlvbihwcm9taXNlcyl7XG4gIHZhciBDbGFzcyA9IHRoaXM7XG5cbiAgaWYgKCFpc0FycmF5KHByb21pc2VzKSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIFByb21pc2UuYWxsKCkuJyk7XG5cbiAgcmV0dXJuIG5ldyBDbGFzcyhmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgdmFyIHJlbWFpbmluZyA9IDA7XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlcihpbmRleCl7XG4gICAgICByZW1haW5pbmcrKztcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgIHJlc3VsdHNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgIGlmICghLS1yZW1haW5pbmcpXG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHRzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDAsIHByb21pc2U7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICBwcm9taXNlID0gcHJvbWlzZXNbaV07XG5cbiAgICAgIGlmIChwcm9taXNlICYmIHR5cGVvZiBwcm9taXNlLnRoZW4gPT09ICdmdW5jdGlvbicpXG4gICAgICAgIHByb21pc2UudGhlbihyZXNvbHZlcihpKSwgcmVqZWN0KTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmVzdWx0c1tpXSA9IHByb21pc2U7XG4gICAgfVxuXG4gICAgaWYgKCFyZW1haW5pbmcpXG4gICAgICByZXNvbHZlKHJlc3VsdHMpO1xuICB9KTtcbn07XG5cblByb21pc2UucmFjZSA9IGZ1bmN0aW9uKHByb21pc2VzKXtcbiAgdmFyIENsYXNzID0gdGhpcztcblxuICBpZiAoIWlzQXJyYXkocHJvbWlzZXMpKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gUHJvbWlzZS5yYWNlKCkuJyk7XG5cbiAgcmV0dXJuIG5ldyBDbGFzcyhmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgcHJvbWlzZTsgaSA8IHByb21pc2VzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgIHByb21pc2UgPSBwcm9taXNlc1tpXTtcblxuICAgICAgaWYgKHByb21pc2UgJiYgdHlwZW9mIHByb21pc2UudGhlbiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgcHJvbWlzZS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICBlbHNlXG4gICAgICAgIHJlc29sdmUocHJvbWlzZSk7XG4gICAgfVxuICB9KTtcbn07XG5cblByb21pc2UucmVzb2x2ZSA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgdmFyIENsYXNzID0gdGhpcztcblxuICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gQ2xhc3MpXG4gICAgcmV0dXJuIHZhbHVlO1xuXG4gIHJldHVybiBuZXcgQ2xhc3MoZnVuY3Rpb24ocmVzb2x2ZSl7XG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG4gIH0pO1xufTtcblxuUHJvbWlzZS5yZWplY3QgPSBmdW5jdGlvbihyZWFzb24pe1xuICB2YXIgQ2xhc3MgPSB0aGlzO1xuXG4gIHJldHVybiBuZXcgQ2xhc3MoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICByZWplY3QocmVhc29uKTtcbiAgfSk7XG59O1xuXG59KSh0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMpO1xuIiwiLypcbm9iamVjdC1hc3NpZ25cbihjKSBTaW5kcmUgU29yaHVzXG5AbGljZW5zZSBNSVRcbiovXG5cbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgcHJvcElzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KHZhbCkge1xuXHRpZiAodmFsID09PSBudWxsIHx8IHZhbCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QodmFsKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlKCkge1xuXHR0cnkge1xuXHRcdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIERldGVjdCBidWdneSBwcm9wZXJ0eSBlbnVtZXJhdGlvbiBvcmRlciBpbiBvbGRlciBWOCB2ZXJzaW9ucy5cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTQxMThcblx0XHR2YXIgdGVzdDEgPSBuZXcgU3RyaW5nKCdhYmMnKTsgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LXdyYXBwZXJzXG5cdFx0dGVzdDFbNV0gPSAnZGUnO1xuXHRcdGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MSlbMF0gPT09ICc1Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDIgPSB7fTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IDEwOyBpKyspIHtcblx0XHRcdHRlc3QyWydfJyArIFN0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaTtcblx0XHR9XG5cdFx0dmFyIG9yZGVyMiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QyKS5tYXAoZnVuY3Rpb24gKG4pIHtcblx0XHRcdHJldHVybiB0ZXN0MltuXTtcblx0XHR9KTtcblx0XHRpZiAob3JkZXIyLmpvaW4oJycpICE9PSAnMDEyMzQ1Njc4OScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QzID0ge307XG5cdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAobGV0dGVyKSB7XG5cdFx0XHR0ZXN0M1tsZXR0ZXJdID0gbGV0dGVyO1xuXHRcdH0pO1xuXHRcdGlmIChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCB0ZXN0MykpLmpvaW4oJycpICE9PVxuXHRcdFx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdC8vIFdlIGRvbid0IGV4cGVjdCBhbnkgb2YgdGhlIGFib3ZlIHRvIHRocm93LCBidXQgYmV0dGVyIHRvIGJlIHNhZmUuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hvdWxkVXNlTmF0aXZlKCkgPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7XG5cdHZhciBmcm9tO1xuXHR2YXIgdG8gPSB0b09iamVjdCh0YXJnZXQpO1xuXHR2YXIgc3ltYm9scztcblxuXHRmb3IgKHZhciBzID0gMTsgcyA8IGFyZ3VtZW50cy5sZW5ndGg7IHMrKykge1xuXHRcdGZyb20gPSBPYmplY3QoYXJndW1lbnRzW3NdKTtcblxuXHRcdGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG5cdFx0XHRpZiAoaGFzT3duUHJvcGVydHkuY2FsbChmcm9tLCBrZXkpKSB7XG5cdFx0XHRcdHRvW2tleV0gPSBmcm9tW2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuXHRcdFx0c3ltYm9scyA9IGdldE93blByb3BlcnR5U3ltYm9scyhmcm9tKTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3ltYm9scy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAocHJvcElzRW51bWVyYWJsZS5jYWxsKGZyb20sIHN5bWJvbHNbaV0pKSB7XG5cdFx0XHRcdFx0dG9bc3ltYm9sc1tpXV0gPSBmcm9tW3N5bWJvbHNbaV1dO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRvO1xufTtcbiIsImltcG9ydCB7IFBvbHlmaWxsIH0gZnJvbSAnZXM2LXByb21pc2UtcG9seWZpbGwnO1xuXG4vLyBTdXBwb3J0IGZvciBJRSA5IC0gMTEgd2hpY2ggZG9lcyBub3QgaW5jbHVkZSBQcm9taXNlc1xuaWYgKCF3aW5kb3cuUHJvbWlzZSlcbntcbiAgICB3aW5kb3cuUHJvbWlzZSA9IFBvbHlmaWxsO1xufVxuIiwiLy8gUmVmZXJlbmNlczpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zaW5kcmVzb3JodXMvb2JqZWN0LWFzc2lnblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnblxuXG5pbXBvcnQgb2JqZWN0QXNzaWduIGZyb20gJ29iamVjdC1hc3NpZ24nO1xuXG5pZiAoIU9iamVjdC5hc3NpZ24pXG57XG4gICAgT2JqZWN0LmFzc2lnbiA9IG9iamVjdEFzc2lnbjtcbn1cbiIsIi8vIFJlZmVyZW5jZXM6XG4vLyBodHRwOi8vcGF1bGlyaXNoLmNvbS8yMDExL3JlcXVlc3RhbmltYXRpb25mcmFtZS1mb3Itc21hcnQtYW5pbWF0aW5nL1xuLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vMTU3OTY3MVxuLy8gaHR0cDovL3VwZGF0ZXMuaHRtbDVyb2Nrcy5jb20vMjAxMi8wNS9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUtQVBJLW5vdy13aXRoLXN1Yi1taWxsaXNlY29uZC1wcmVjaXNpb25cbi8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL3RpbWhhbGwvNDA3ODYxNFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL0ZpbmFuY2lhbC1UaW1lcy9wb2x5ZmlsbC1zZXJ2aWNlL3RyZWUvbWFzdGVyL3BvbHlmaWxscy9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVcblxuLy8gRXhwZWN0ZWQgdG8gYmUgdXNlZCB3aXRoIEJyb3dzZXJmaXlcbi8vIEJyb3dzZXJpZnkgYXV0b21hdGljYWxseSBkZXRlY3RzIHRoZSB1c2Ugb2YgYGdsb2JhbGAgYW5kIHBhc3NlcyB0aGVcbi8vIGNvcnJlY3QgcmVmZXJlbmNlIG9mIGBnbG9iYWxgLCBgc2VsZmAsIGFuZCBmaW5hbGx5IGB3aW5kb3dgXG5cbmNvbnN0IE9ORV9GUkFNRV9USU1FID0gMTY7XG5cbi8vIERhdGUubm93XG5pZiAoIShEYXRlLm5vdyAmJiBEYXRlLnByb3RvdHlwZS5nZXRUaW1lKSlcbntcbiAgICBEYXRlLm5vdyA9IGZ1bmN0aW9uIG5vdygpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgfTtcbn1cblxuLy8gcGVyZm9ybWFuY2Uubm93XG5pZiAoIShnbG9iYWwucGVyZm9ybWFuY2UgJiYgZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdykpXG57XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgIGlmICghZ2xvYmFsLnBlcmZvcm1hbmNlKVxuICAgIHtcbiAgICAgICAgZ2xvYmFsLnBlcmZvcm1hbmNlID0ge307XG4gICAgfVxuXG4gICAgZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdyA9ICgpID0+IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG59XG5cbi8vIHJlcXVlc3RBbmltYXRpb25GcmFtZVxubGV0IGxhc3RUaW1lID0gRGF0ZS5ub3coKTtcbmNvbnN0IHZlbmRvcnMgPSBbJ21zJywgJ21veicsICd3ZWJraXQnLCAnbyddO1xuXG5mb3IgKGxldCB4ID0gMDsgeCA8IHZlbmRvcnMubGVuZ3RoICYmICFnbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lOyArK3gpXG57XG4gICAgY29uc3QgcCA9IHZlbmRvcnNbeF07XG5cbiAgICBnbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZ2xvYmFsW2Ake3B9UmVxdWVzdEFuaW1hdGlvbkZyYW1lYF07XG4gICAgZ2xvYmFsLmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gZ2xvYmFsW2Ake3B9Q2FuY2VsQW5pbWF0aW9uRnJhbWVgXSB8fCBnbG9iYWxbYCR7cH1DYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWVgXTtcbn1cblxuaWYgKCFnbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lKVxue1xuICAgIGdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSAoY2FsbGJhY2spID0+XG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke2NhbGxiYWNrfWlzIG5vdCBhIGZ1bmN0aW9uYCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGxldCBkZWxheSA9IE9ORV9GUkFNRV9USU1FICsgbGFzdFRpbWUgLSBjdXJyZW50VGltZTtcblxuICAgICAgICBpZiAoZGVsYXkgPCAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBsYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xuXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KCgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGxhc3RUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgICAgfSwgZGVsYXkpO1xuICAgIH07XG59XG5cbmlmICghZ2xvYmFsLmNhbmNlbEFuaW1hdGlvbkZyYW1lKVxue1xuICAgIGdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSA9IChpZCkgPT4gY2xlYXJUaW1lb3V0KGlkKTtcbn1cbiIsIi8vIFJlZmVyZW5jZXM6XG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9NYXRoL3NpZ25cblxuaWYgKCFNYXRoLnNpZ24pXG57XG4gICAgTWF0aC5zaWduID0gZnVuY3Rpb24gbWF0aFNpZ24oeClcbiAgICB7XG4gICAgICAgIHggPSBOdW1iZXIoeCk7XG5cbiAgICAgICAgaWYgKHggPT09IDAgfHwgaXNOYU4oeCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHggPiAwID8gMSA6IC0xO1xuICAgIH07XG59XG4iLCIvLyBSZWZlcmVuY2VzOlxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTnVtYmVyL2lzSW50ZWdlclxuXG5pZiAoIU51bWJlci5pc0ludGVnZXIpXG57XG4gICAgTnVtYmVyLmlzSW50ZWdlciA9IGZ1bmN0aW9uIG51bWJlcklzSW50ZWdlcih2YWx1ZSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbHVlKSAmJiBNYXRoLmZsb29yKHZhbHVlKSA9PT0gdmFsdWU7XG4gICAgfTtcbn1cbiIsInZhciBzY29wZSA9ICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbCkgfHxcbiAgICAgICAgICAgICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmKSB8fFxuICAgICAgICAgICAgd2luZG93O1xudmFyIGFwcGx5ID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xuXG4vLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXG5leHBvcnRzLnNldFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgc2NvcGUsIGFyZ3VtZW50cyksIGNsZWFyVGltZW91dCk7XG59O1xuZXhwb3J0cy5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRJbnRlcnZhbCwgc2NvcGUsIGFyZ3VtZW50cyksIGNsZWFySW50ZXJ2YWwpO1xufTtcbmV4cG9ydHMuY2xlYXJUaW1lb3V0ID1cbmV4cG9ydHMuY2xlYXJJbnRlcnZhbCA9IGZ1bmN0aW9uKHRpbWVvdXQpIHtcbiAgaWYgKHRpbWVvdXQpIHtcbiAgICB0aW1lb3V0LmNsb3NlKCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIFRpbWVvdXQoaWQsIGNsZWFyRm4pIHtcbiAgdGhpcy5faWQgPSBpZDtcbiAgdGhpcy5fY2xlYXJGbiA9IGNsZWFyRm47XG59XG5UaW1lb3V0LnByb3RvdHlwZS51bnJlZiA9IFRpbWVvdXQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uKCkge307XG5UaW1lb3V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9jbGVhckZuLmNhbGwoc2NvcGUsIHRoaXMuX2lkKTtcbn07XG5cbi8vIERvZXMgbm90IHN0YXJ0IHRoZSB0aW1lLCBqdXN0IHNldHMgdXAgdGhlIG1lbWJlcnMgbmVlZGVkLlxuZXhwb3J0cy5lbnJvbGwgPSBmdW5jdGlvbihpdGVtLCBtc2Vjcykge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gbXNlY3M7XG59O1xuXG5leHBvcnRzLnVuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gLTE7XG59O1xuXG5leHBvcnRzLl91bnJlZkFjdGl2ZSA9IGV4cG9ydHMuYWN0aXZlID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cbiAgdmFyIG1zZWNzID0gaXRlbS5faWRsZVRpbWVvdXQ7XG4gIGlmIChtc2VjcyA+PSAwKSB7XG4gICAgaXRlbS5faWRsZVRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gb25UaW1lb3V0KCkge1xuICAgICAgaWYgKGl0ZW0uX29uVGltZW91dClcbiAgICAgICAgaXRlbS5fb25UaW1lb3V0KCk7XG4gICAgfSwgbXNlY3MpO1xuICB9XG59O1xuXG4vLyBzZXRpbW1lZGlhdGUgYXR0YWNoZXMgaXRzZWxmIHRvIHRoZSBnbG9iYWwgb2JqZWN0XG5yZXF1aXJlKFwic2V0aW1tZWRpYXRlXCIpO1xuLy8gT24gc29tZSBleG90aWMgZW52aXJvbm1lbnRzLCBpdCdzIG5vdCBjbGVhciB3aGljaCBvYmplY3QgYHNldGltbWVkaWF0ZWAgd2FzXG4vLyBhYmxlIHRvIGluc3RhbGwgb250by4gIFNlYXJjaCBlYWNoIHBvc3NpYmlsaXR5IGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZVxuLy8gYHNldGltbWVkaWF0ZWAgbGlicmFyeS5cbmV4cG9ydHMuc2V0SW1tZWRpYXRlID0gKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYuc2V0SW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwuc2V0SW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAodGhpcyAmJiB0aGlzLnNldEltbWVkaWF0ZSk7XG5leHBvcnRzLmNsZWFySW1tZWRpYXRlID0gKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYuY2xlYXJJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsLmNsZWFySW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzICYmIHRoaXMuY2xlYXJJbW1lZGlhdGUpO1xuIiwiKGZ1bmN0aW9uIChnbG9iYWwsIHVuZGVmaW5lZCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgaWYgKGdsb2JhbC5zZXRJbW1lZGlhdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBuZXh0SGFuZGxlID0gMTsgLy8gU3BlYyBzYXlzIGdyZWF0ZXIgdGhhbiB6ZXJvXG4gICAgdmFyIHRhc2tzQnlIYW5kbGUgPSB7fTtcbiAgICB2YXIgY3VycmVudGx5UnVubmluZ0FUYXNrID0gZmFsc2U7XG4gICAgdmFyIGRvYyA9IGdsb2JhbC5kb2N1bWVudDtcbiAgICB2YXIgcmVnaXN0ZXJJbW1lZGlhdGU7XG5cbiAgICBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoY2FsbGJhY2spIHtcbiAgICAgIC8vIENhbGxiYWNrIGNhbiBlaXRoZXIgYmUgYSBmdW5jdGlvbiBvciBhIHN0cmluZ1xuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNhbGxiYWNrID0gbmV3IEZ1bmN0aW9uKFwiXCIgKyBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgICAvLyBDb3B5IGZ1bmN0aW9uIGFyZ3VtZW50c1xuICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpICsgMV07XG4gICAgICB9XG4gICAgICAvLyBTdG9yZSBhbmQgcmVnaXN0ZXIgdGhlIHRhc2tcbiAgICAgIHZhciB0YXNrID0geyBjYWxsYmFjazogY2FsbGJhY2ssIGFyZ3M6IGFyZ3MgfTtcbiAgICAgIHRhc2tzQnlIYW5kbGVbbmV4dEhhbmRsZV0gPSB0YXNrO1xuICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUobmV4dEhhbmRsZSk7XG4gICAgICByZXR1cm4gbmV4dEhhbmRsZSsrO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGhhbmRsZSkge1xuICAgICAgICBkZWxldGUgdGFza3NCeUhhbmRsZVtoYW5kbGVdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bih0YXNrKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHRhc2suY2FsbGJhY2s7XG4gICAgICAgIHZhciBhcmdzID0gdGFzay5hcmdzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bklmUHJlc2VudChoYW5kbGUpIHtcbiAgICAgICAgLy8gRnJvbSB0aGUgc3BlYzogXCJXYWl0IHVudGlsIGFueSBpbnZvY2F0aW9ucyBvZiB0aGlzIGFsZ29yaXRobSBzdGFydGVkIGJlZm9yZSB0aGlzIG9uZSBoYXZlIGNvbXBsZXRlZC5cIlxuICAgICAgICAvLyBTbyBpZiB3ZSdyZSBjdXJyZW50bHkgcnVubmluZyBhIHRhc2ssIHdlJ2xsIG5lZWQgdG8gZGVsYXkgdGhpcyBpbnZvY2F0aW9uLlxuICAgICAgICBpZiAoY3VycmVudGx5UnVubmluZ0FUYXNrKSB7XG4gICAgICAgICAgICAvLyBEZWxheSBieSBkb2luZyBhIHNldFRpbWVvdXQuIHNldEltbWVkaWF0ZSB3YXMgdHJpZWQgaW5zdGVhZCwgYnV0IGluIEZpcmVmb3ggNyBpdCBnZW5lcmF0ZWQgYVxuICAgICAgICAgICAgLy8gXCJ0b28gbXVjaCByZWN1cnNpb25cIiBlcnJvci5cbiAgICAgICAgICAgIHNldFRpbWVvdXQocnVuSWZQcmVzZW50LCAwLCBoYW5kbGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRhc2sgPSB0YXNrc0J5SGFuZGxlW2hhbmRsZV07XG4gICAgICAgICAgICBpZiAodGFzaykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IHRydWU7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcnVuKHRhc2spO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW1tZWRpYXRlKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxOZXh0VGlja0ltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiAoKSB7IHJ1bklmUHJlc2VudChoYW5kbGUpOyB9KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYW5Vc2VQb3N0TWVzc2FnZSgpIHtcbiAgICAgICAgLy8gVGhlIHRlc3QgYWdhaW5zdCBgaW1wb3J0U2NyaXB0c2AgcHJldmVudHMgdGhpcyBpbXBsZW1lbnRhdGlvbiBmcm9tIGJlaW5nIGluc3RhbGxlZCBpbnNpZGUgYSB3ZWIgd29ya2VyLFxuICAgICAgICAvLyB3aGVyZSBgZ2xvYmFsLnBvc3RNZXNzYWdlYCBtZWFucyBzb21ldGhpbmcgY29tcGxldGVseSBkaWZmZXJlbnQgYW5kIGNhbid0IGJlIHVzZWQgZm9yIHRoaXMgcHVycG9zZS5cbiAgICAgICAgaWYgKGdsb2JhbC5wb3N0TWVzc2FnZSAmJiAhZ2xvYmFsLmltcG9ydFNjcmlwdHMpIHtcbiAgICAgICAgICAgIHZhciBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBvbGRPbk1lc3NhZ2UgPSBnbG9iYWwub25tZXNzYWdlO1xuICAgICAgICAgICAgZ2xvYmFsLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSBmYWxzZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBnbG9iYWwucG9zdE1lc3NhZ2UoXCJcIiwgXCIqXCIpO1xuICAgICAgICAgICAgZ2xvYmFsLm9ubWVzc2FnZSA9IG9sZE9uTWVzc2FnZTtcbiAgICAgICAgICAgIHJldHVybiBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFBvc3RNZXNzYWdlSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIC8vIEluc3RhbGxzIGFuIGV2ZW50IGhhbmRsZXIgb24gYGdsb2JhbGAgZm9yIHRoZSBgbWVzc2FnZWAgZXZlbnQ6IHNlZVxuICAgICAgICAvLyAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL0RPTS93aW5kb3cucG9zdE1lc3NhZ2VcbiAgICAgICAgLy8gKiBodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS9jb21tcy5odG1sI2Nyb3NzRG9jdW1lbnRNZXNzYWdlc1xuXG4gICAgICAgIHZhciBtZXNzYWdlUHJlZml4ID0gXCJzZXRJbW1lZGlhdGUkXCIgKyBNYXRoLnJhbmRvbSgpICsgXCIkXCI7XG4gICAgICAgIHZhciBvbkdsb2JhbE1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnNvdXJjZSA9PT0gZ2xvYmFsICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIGV2ZW50LmRhdGEgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgICAgICAgICBldmVudC5kYXRhLmluZGV4T2YobWVzc2FnZVByZWZpeCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBydW5JZlByZXNlbnQoK2V2ZW50LmRhdGEuc2xpY2UobWVzc2FnZVByZWZpeC5sZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBvbkdsb2JhbE1lc3NhZ2UsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdsb2JhbC5hdHRhY2hFdmVudChcIm9ubWVzc2FnZVwiLCBvbkdsb2JhbE1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShtZXNzYWdlUHJlZml4ICsgaGFuZGxlLCBcIipcIik7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBoYW5kbGUgPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgcnVuSWZQcmVzZW50KGhhbmRsZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoaGFuZGxlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICB2YXIgaHRtbCA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSA8c2NyaXB0PiBlbGVtZW50OyBpdHMgcmVhZHlzdGF0ZWNoYW5nZSBldmVudCB3aWxsIGJlIGZpcmVkIGFzeW5jaHJvbm91c2x5IG9uY2UgaXQgaXMgaW5zZXJ0ZWRcbiAgICAgICAgICAgIC8vIGludG8gdGhlIGRvY3VtZW50LiBEbyBzbywgdGh1cyBxdWV1aW5nIHVwIHRoZSB0YXNrLiBSZW1lbWJlciB0byBjbGVhbiB1cCBvbmNlIGl0J3MgYmVlbiBjYWxsZWQuXG4gICAgICAgICAgICB2YXIgc2NyaXB0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJ1bklmUHJlc2VudChoYW5kbGUpO1xuICAgICAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGh0bWwucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgICAgICAgICBzY3JpcHQgPSBudWxsO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSWYgc3VwcG9ydGVkLCB3ZSBzaG91bGQgYXR0YWNoIHRvIHRoZSBwcm90b3R5cGUgb2YgZ2xvYmFsLCBzaW5jZSB0aGF0IGlzIHdoZXJlIHNldFRpbWVvdXQgZXQgYWwuIGxpdmUuXG4gICAgdmFyIGF0dGFjaFRvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihnbG9iYWwpO1xuICAgIGF0dGFjaFRvID0gYXR0YWNoVG8gJiYgYXR0YWNoVG8uc2V0VGltZW91dCA/IGF0dGFjaFRvIDogZ2xvYmFsO1xuXG4gICAgLy8gRG9uJ3QgZ2V0IGZvb2xlZCBieSBlLmcuIGJyb3dzZXJpZnkgZW52aXJvbm1lbnRzLlxuICAgIGlmICh7fS50b1N0cmluZy5jYWxsKGdsb2JhbC5wcm9jZXNzKSA9PT0gXCJbb2JqZWN0IHByb2Nlc3NdXCIpIHtcbiAgICAgICAgLy8gRm9yIE5vZGUuanMgYmVmb3JlIDAuOVxuICAgICAgICBpbnN0YWxsTmV4dFRpY2tJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChjYW5Vc2VQb3N0TWVzc2FnZSgpKSB7XG4gICAgICAgIC8vIEZvciBub24tSUUxMCBtb2Rlcm4gYnJvd3NlcnNcbiAgICAgICAgaW5zdGFsbFBvc3RNZXNzYWdlSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoZ2xvYmFsLk1lc3NhZ2VDaGFubmVsKSB7XG4gICAgICAgIC8vIEZvciB3ZWIgd29ya2Vycywgd2hlcmUgc3VwcG9ydGVkXG4gICAgICAgIGluc3RhbGxNZXNzYWdlQ2hhbm5lbEltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGRvYyAmJiBcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiIGluIGRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpKSB7XG4gICAgICAgIC8vIEZvciBJRSA24oCTOFxuICAgICAgICBpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGb3Igb2xkZXIgYnJvd3NlcnNcbiAgICAgICAgaW5zdGFsbFNldFRpbWVvdXRJbXBsZW1lbnRhdGlvbigpO1xuICAgIH1cblxuICAgIGF0dGFjaFRvLnNldEltbWVkaWF0ZSA9IHNldEltbWVkaWF0ZTtcbiAgICBhdHRhY2hUby5jbGVhckltbWVkaWF0ZSA9IGNsZWFySW1tZWRpYXRlO1xufSh0eXBlb2Ygc2VsZiA9PT0gXCJ1bmRlZmluZWRcIiA/IHR5cGVvZiBnbG9iYWwgPT09IFwidW5kZWZpbmVkXCIgPyB0aGlzIDogZ2xvYmFsIDogc2VsZikpO1xuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIi8qISBodHRwczovL210aHMuYmUvcHVueWNvZGUgdjEuNC4xIGJ5IEBtYXRoaWFzICovXG47KGZ1bmN0aW9uKHJvb3QpIHtcblxuXHQvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGVzICovXG5cdHZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiZcblx0XHQhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXHR2YXIgZnJlZU1vZHVsZSA9IHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmXG5cdFx0IW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cdHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWw7XG5cdGlmIChcblx0XHRmcmVlR2xvYmFsLmdsb2JhbCA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwud2luZG93ID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC5zZWxmID09PSBmcmVlR2xvYmFsXG5cdCkge1xuXHRcdHJvb3QgPSBmcmVlR2xvYmFsO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBgcHVueWNvZGVgIG9iamVjdC5cblx0ICogQG5hbWUgcHVueWNvZGVcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqL1xuXHR2YXIgcHVueWNvZGUsXG5cblx0LyoqIEhpZ2hlc3QgcG9zaXRpdmUgc2lnbmVkIDMyLWJpdCBmbG9hdCB2YWx1ZSAqL1xuXHRtYXhJbnQgPSAyMTQ3NDgzNjQ3LCAvLyBha2EuIDB4N0ZGRkZGRkYgb3IgMl4zMS0xXG5cblx0LyoqIEJvb3RzdHJpbmcgcGFyYW1ldGVycyAqL1xuXHRiYXNlID0gMzYsXG5cdHRNaW4gPSAxLFxuXHR0TWF4ID0gMjYsXG5cdHNrZXcgPSAzOCxcblx0ZGFtcCA9IDcwMCxcblx0aW5pdGlhbEJpYXMgPSA3Mixcblx0aW5pdGlhbE4gPSAxMjgsIC8vIDB4ODBcblx0ZGVsaW1pdGVyID0gJy0nLCAvLyAnXFx4MkQnXG5cblx0LyoqIFJlZ3VsYXIgZXhwcmVzc2lvbnMgKi9cblx0cmVnZXhQdW55Y29kZSA9IC9eeG4tLS8sXG5cdHJlZ2V4Tm9uQVNDSUkgPSAvW15cXHgyMC1cXHg3RV0vLCAvLyB1bnByaW50YWJsZSBBU0NJSSBjaGFycyArIG5vbi1BU0NJSSBjaGFyc1xuXHRyZWdleFNlcGFyYXRvcnMgPSAvW1xceDJFXFx1MzAwMlxcdUZGMEVcXHVGRjYxXS9nLCAvLyBSRkMgMzQ5MCBzZXBhcmF0b3JzXG5cblx0LyoqIEVycm9yIG1lc3NhZ2VzICovXG5cdGVycm9ycyA9IHtcblx0XHQnb3ZlcmZsb3cnOiAnT3ZlcmZsb3c6IGlucHV0IG5lZWRzIHdpZGVyIGludGVnZXJzIHRvIHByb2Nlc3MnLFxuXHRcdCdub3QtYmFzaWMnOiAnSWxsZWdhbCBpbnB1dCA+PSAweDgwIChub3QgYSBiYXNpYyBjb2RlIHBvaW50KScsXG5cdFx0J2ludmFsaWQtaW5wdXQnOiAnSW52YWxpZCBpbnB1dCdcblx0fSxcblxuXHQvKiogQ29udmVuaWVuY2Ugc2hvcnRjdXRzICovXG5cdGJhc2VNaW51c1RNaW4gPSBiYXNlIC0gdE1pbixcblx0Zmxvb3IgPSBNYXRoLmZsb29yLFxuXHRzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLFxuXG5cdC8qKiBUZW1wb3JhcnkgdmFyaWFibGUgKi9cblx0a2V5O1xuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgZXJyb3IgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGVycm9yIHR5cGUuXG5cdCAqIEByZXR1cm5zIHtFcnJvcn0gVGhyb3dzIGEgYFJhbmdlRXJyb3JgIHdpdGggdGhlIGFwcGxpY2FibGUgZXJyb3IgbWVzc2FnZS5cblx0ICovXG5cdGZ1bmN0aW9uIGVycm9yKHR5cGUpIHtcblx0XHR0aHJvdyBuZXcgUmFuZ2VFcnJvcihlcnJvcnNbdHlwZV0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJpYyBgQXJyYXkjbWFwYCB1dGlsaXR5IGZ1bmN0aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgYXJyYXlcblx0ICogaXRlbS5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBhcnJheSBvZiB2YWx1ZXMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwKGFycmF5LCBmbikge1xuXHRcdHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xuXHRcdHdoaWxlIChsZW5ndGgtLSkge1xuXHRcdFx0cmVzdWx0W2xlbmd0aF0gPSBmbihhcnJheVtsZW5ndGhdKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIHNpbXBsZSBgQXJyYXkjbWFwYC1saWtlIHdyYXBwZXIgdG8gd29yayB3aXRoIGRvbWFpbiBuYW1lIHN0cmluZ3Mgb3IgZW1haWxcblx0ICogYWRkcmVzc2VzLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnlcblx0ICogY2hhcmFjdGVyLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IHN0cmluZyBvZiBjaGFyYWN0ZXJzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFja1xuXHQgKiBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcERvbWFpbihzdHJpbmcsIGZuKSB7XG5cdFx0dmFyIHBhcnRzID0gc3RyaW5nLnNwbGl0KCdAJyk7XG5cdFx0dmFyIHJlc3VsdCA9ICcnO1xuXHRcdGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7XG5cdFx0XHQvLyBJbiBlbWFpbCBhZGRyZXNzZXMsIG9ubHkgdGhlIGRvbWFpbiBuYW1lIHNob3VsZCBiZSBwdW55Y29kZWQuIExlYXZlXG5cdFx0XHQvLyB0aGUgbG9jYWwgcGFydCAoaS5lLiBldmVyeXRoaW5nIHVwIHRvIGBAYCkgaW50YWN0LlxuXHRcdFx0cmVzdWx0ID0gcGFydHNbMF0gKyAnQCc7XG5cdFx0XHRzdHJpbmcgPSBwYXJ0c1sxXTtcblx0XHR9XG5cdFx0Ly8gQXZvaWQgYHNwbGl0KHJlZ2V4KWAgZm9yIElFOCBjb21wYXRpYmlsaXR5LiBTZWUgIzE3LlxuXHRcdHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKHJlZ2V4U2VwYXJhdG9ycywgJ1xceDJFJyk7XG5cdFx0dmFyIGxhYmVscyA9IHN0cmluZy5zcGxpdCgnLicpO1xuXHRcdHZhciBlbmNvZGVkID0gbWFwKGxhYmVscywgZm4pLmpvaW4oJy4nKTtcblx0XHRyZXR1cm4gcmVzdWx0ICsgZW5jb2RlZDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIG51bWVyaWMgY29kZSBwb2ludHMgb2YgZWFjaCBVbmljb2RlXG5cdCAqIGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nLiBXaGlsZSBKYXZhU2NyaXB0IHVzZXMgVUNTLTIgaW50ZXJuYWxseSxcblx0ICogdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnZlcnQgYSBwYWlyIG9mIHN1cnJvZ2F0ZSBoYWx2ZXMgKGVhY2ggb2Ygd2hpY2hcblx0ICogVUNTLTIgZXhwb3NlcyBhcyBzZXBhcmF0ZSBjaGFyYWN0ZXJzKSBpbnRvIGEgc2luZ2xlIGNvZGUgcG9pbnQsXG5cdCAqIG1hdGNoaW5nIFVURi0xNi5cblx0ICogQHNlZSBgcHVueWNvZGUudWNzMi5lbmNvZGVgXG5cdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBkZWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyBUaGUgVW5pY29kZSBpbnB1dCBzdHJpbmcgKFVDUy0yKS5cblx0ICogQHJldHVybnMge0FycmF5fSBUaGUgbmV3IGFycmF5IG9mIGNvZGUgcG9pbnRzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmRlY29kZShzdHJpbmcpIHtcblx0XHR2YXIgb3V0cHV0ID0gW10sXG5cdFx0ICAgIGNvdW50ZXIgPSAwLFxuXHRcdCAgICBsZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuXHRcdCAgICB2YWx1ZSxcblx0XHQgICAgZXh0cmE7XG5cdFx0d2hpbGUgKGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHRcdHZhbHVlID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdGlmICh2YWx1ZSA+PSAweEQ4MDAgJiYgdmFsdWUgPD0gMHhEQkZGICYmIGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHRcdFx0Ly8gaGlnaCBzdXJyb2dhdGUsIGFuZCB0aGVyZSBpcyBhIG5leHQgY2hhcmFjdGVyXG5cdFx0XHRcdGV4dHJhID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdFx0aWYgKChleHRyYSAmIDB4RkMwMCkgPT0gMHhEQzAwKSB7IC8vIGxvdyBzdXJyb2dhdGVcblx0XHRcdFx0XHRvdXRwdXQucHVzaCgoKHZhbHVlICYgMHgzRkYpIDw8IDEwKSArIChleHRyYSAmIDB4M0ZGKSArIDB4MTAwMDApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIHVubWF0Y2hlZCBzdXJyb2dhdGU7IG9ubHkgYXBwZW5kIHRoaXMgY29kZSB1bml0LCBpbiBjYXNlIHRoZSBuZXh0XG5cdFx0XHRcdFx0Ly8gY29kZSB1bml0IGlzIHRoZSBoaWdoIHN1cnJvZ2F0ZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdFx0XHRcdGNvdW50ZXItLTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0O1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBzdHJpbmcgYmFzZWQgb24gYW4gYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHNlZSBgcHVueWNvZGUudWNzMi5kZWNvZGVgXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGVuY29kZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBjb2RlUG9pbnRzIFRoZSBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgbmV3IFVuaWNvZGUgc3RyaW5nIChVQ1MtMikuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZW5jb2RlKGFycmF5KSB7XG5cdFx0cmV0dXJuIG1hcChhcnJheSwgZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHZhciBvdXRwdXQgPSAnJztcblx0XHRcdGlmICh2YWx1ZSA+IDB4RkZGRikge1xuXHRcdFx0XHR2YWx1ZSAtPSAweDEwMDAwO1xuXHRcdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTtcblx0XHRcdFx0dmFsdWUgPSAweERDMDAgfCB2YWx1ZSAmIDB4M0ZGO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7XG5cdFx0XHRyZXR1cm4gb3V0cHV0O1xuXHRcdH0pLmpvaW4oJycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgYmFzaWMgY29kZSBwb2ludCBpbnRvIGEgZGlnaXQvaW50ZWdlci5cblx0ICogQHNlZSBgZGlnaXRUb0Jhc2ljKClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlUG9pbnQgVGhlIGJhc2ljIG51bWVyaWMgY29kZSBwb2ludCB2YWx1ZS5cblx0ICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50IChmb3IgdXNlIGluXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaW4gdGhlIHJhbmdlIGAwYCB0byBgYmFzZSAtIDFgLCBvciBgYmFzZWAgaWZcblx0ICogdGhlIGNvZGUgcG9pbnQgZG9lcyBub3QgcmVwcmVzZW50IGEgdmFsdWUuXG5cdCAqL1xuXHRmdW5jdGlvbiBiYXNpY1RvRGlnaXQoY29kZVBvaW50KSB7XG5cdFx0aWYgKGNvZGVQb2ludCAtIDQ4IDwgMTApIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSAyMjtcblx0XHR9XG5cdFx0aWYgKGNvZGVQb2ludCAtIDY1IDwgMjYpIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSA2NTtcblx0XHR9XG5cdFx0aWYgKGNvZGVQb2ludCAtIDk3IDwgMjYpIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSA5Nztcblx0XHR9XG5cdFx0cmV0dXJuIGJhc2U7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBkaWdpdC9pbnRlZ2VyIGludG8gYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAc2VlIGBiYXNpY1RvRGlnaXQoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGRpZ2l0IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHJldHVybnMge051bWJlcn0gVGhlIGJhc2ljIGNvZGUgcG9pbnQgd2hvc2UgdmFsdWUgKHdoZW4gdXNlZCBmb3Jcblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpcyBgZGlnaXRgLCB3aGljaCBuZWVkcyB0byBiZSBpbiB0aGUgcmFuZ2Vcblx0ICogYDBgIHRvIGBiYXNlIC0gMWAuIElmIGBmbGFnYCBpcyBub24temVybywgdGhlIHVwcGVyY2FzZSBmb3JtIGlzXG5cdCAqIHVzZWQ7IGVsc2UsIHRoZSBsb3dlcmNhc2UgZm9ybSBpcyB1c2VkLiBUaGUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkXG5cdCAqIGlmIGBmbGFnYCBpcyBub24temVybyBhbmQgYGRpZ2l0YCBoYXMgbm8gdXBwZXJjYXNlIGZvcm0uXG5cdCAqL1xuXHRmdW5jdGlvbiBkaWdpdFRvQmFzaWMoZGlnaXQsIGZsYWcpIHtcblx0XHQvLyAgMC4uMjUgbWFwIHRvIEFTQ0lJIGEuLnogb3IgQS4uWlxuXHRcdC8vIDI2Li4zNSBtYXAgdG8gQVNDSUkgMC4uOVxuXHRcdHJldHVybiBkaWdpdCArIDIyICsgNzUgKiAoZGlnaXQgPCAyNikgLSAoKGZsYWcgIT0gMCkgPDwgNSk7XG5cdH1cblxuXHQvKipcblx0ICogQmlhcyBhZGFwdGF0aW9uIGZ1bmN0aW9uIGFzIHBlciBzZWN0aW9uIDMuNCBvZiBSRkMgMzQ5Mi5cblx0ICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0OTIjc2VjdGlvbi0zLjRcblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIGFkYXB0KGRlbHRhLCBudW1Qb2ludHMsIGZpcnN0VGltZSkge1xuXHRcdHZhciBrID0gMDtcblx0XHRkZWx0YSA9IGZpcnN0VGltZSA/IGZsb29yKGRlbHRhIC8gZGFtcCkgOiBkZWx0YSA+PiAxO1xuXHRcdGRlbHRhICs9IGZsb29yKGRlbHRhIC8gbnVtUG9pbnRzKTtcblx0XHRmb3IgKC8qIG5vIGluaXRpYWxpemF0aW9uICovOyBkZWx0YSA+IGJhc2VNaW51c1RNaW4gKiB0TWF4ID4+IDE7IGsgKz0gYmFzZSkge1xuXHRcdFx0ZGVsdGEgPSBmbG9vcihkZWx0YSAvIGJhc2VNaW51c1RNaW4pO1xuXHRcdH1cblx0XHRyZXR1cm4gZmxvb3IoayArIChiYXNlTWludXNUTWluICsgMSkgKiBkZWx0YSAvIChkZWx0YSArIHNrZXcpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMgdG8gYSBzdHJpbmcgb2YgVW5pY29kZVxuXHQgKiBzeW1ib2xzLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBkZWNvZGUoaW5wdXQpIHtcblx0XHQvLyBEb24ndCB1c2UgVUNTLTJcblx0XHR2YXIgb3V0cHV0ID0gW10sXG5cdFx0ICAgIGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoLFxuXHRcdCAgICBvdXQsXG5cdFx0ICAgIGkgPSAwLFxuXHRcdCAgICBuID0gaW5pdGlhbE4sXG5cdFx0ICAgIGJpYXMgPSBpbml0aWFsQmlhcyxcblx0XHQgICAgYmFzaWMsXG5cdFx0ICAgIGosXG5cdFx0ICAgIGluZGV4LFxuXHRcdCAgICBvbGRpLFxuXHRcdCAgICB3LFxuXHRcdCAgICBrLFxuXHRcdCAgICBkaWdpdCxcblx0XHQgICAgdCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGJhc2VNaW51c1Q7XG5cblx0XHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzOiBsZXQgYGJhc2ljYCBiZSB0aGUgbnVtYmVyIG9mIGlucHV0IGNvZGVcblx0XHQvLyBwb2ludHMgYmVmb3JlIHRoZSBsYXN0IGRlbGltaXRlciwgb3IgYDBgIGlmIHRoZXJlIGlzIG5vbmUsIHRoZW4gY29weVxuXHRcdC8vIHRoZSBmaXJzdCBiYXNpYyBjb2RlIHBvaW50cyB0byB0aGUgb3V0cHV0LlxuXG5cdFx0YmFzaWMgPSBpbnB1dC5sYXN0SW5kZXhPZihkZWxpbWl0ZXIpO1xuXHRcdGlmIChiYXNpYyA8IDApIHtcblx0XHRcdGJhc2ljID0gMDtcblx0XHR9XG5cblx0XHRmb3IgKGogPSAwOyBqIDwgYmFzaWM7ICsraikge1xuXHRcdFx0Ly8gaWYgaXQncyBub3QgYSBiYXNpYyBjb2RlIHBvaW50XG5cdFx0XHRpZiAoaW5wdXQuY2hhckNvZGVBdChqKSA+PSAweDgwKSB7XG5cdFx0XHRcdGVycm9yKCdub3QtYmFzaWMnKTtcblx0XHRcdH1cblx0XHRcdG91dHB1dC5wdXNoKGlucHV0LmNoYXJDb2RlQXQoaikpO1xuXHRcdH1cblxuXHRcdC8vIE1haW4gZGVjb2RpbmcgbG9vcDogc3RhcnQganVzdCBhZnRlciB0aGUgbGFzdCBkZWxpbWl0ZXIgaWYgYW55IGJhc2ljIGNvZGVcblx0XHQvLyBwb2ludHMgd2VyZSBjb3BpZWQ7IHN0YXJ0IGF0IHRoZSBiZWdpbm5pbmcgb3RoZXJ3aXNlLlxuXG5cdFx0Zm9yIChpbmRleCA9IGJhc2ljID4gMCA/IGJhc2ljICsgMSA6IDA7IGluZGV4IDwgaW5wdXRMZW5ndGg7IC8qIG5vIGZpbmFsIGV4cHJlc3Npb24gKi8pIHtcblxuXHRcdFx0Ly8gYGluZGV4YCBpcyB0aGUgaW5kZXggb2YgdGhlIG5leHQgY2hhcmFjdGVyIHRvIGJlIGNvbnN1bWVkLlxuXHRcdFx0Ly8gRGVjb2RlIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXIgaW50byBgZGVsdGFgLFxuXHRcdFx0Ly8gd2hpY2ggZ2V0cyBhZGRlZCB0byBgaWAuIFRoZSBvdmVyZmxvdyBjaGVja2luZyBpcyBlYXNpZXJcblx0XHRcdC8vIGlmIHdlIGluY3JlYXNlIGBpYCBhcyB3ZSBnbywgdGhlbiBzdWJ0cmFjdCBvZmYgaXRzIHN0YXJ0aW5nXG5cdFx0XHQvLyB2YWx1ZSBhdCB0aGUgZW5kIHRvIG9idGFpbiBgZGVsdGFgLlxuXHRcdFx0Zm9yIChvbGRpID0gaSwgdyA9IDEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkge1xuXG5cdFx0XHRcdGlmIChpbmRleCA+PSBpbnB1dExlbmd0aCkge1xuXHRcdFx0XHRcdGVycm9yKCdpbnZhbGlkLWlucHV0Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkaWdpdCA9IGJhc2ljVG9EaWdpdChpbnB1dC5jaGFyQ29kZUF0KGluZGV4KyspKTtcblxuXHRcdFx0XHRpZiAoZGlnaXQgPj0gYmFzZSB8fCBkaWdpdCA+IGZsb29yKChtYXhJbnQgLSBpKSAvIHcpKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpICs9IGRpZ2l0ICogdztcblx0XHRcdFx0dCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0IDwgdCkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRpZiAodyA+IGZsb29yKG1heEludCAvIGJhc2VNaW51c1QpKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR3ICo9IGJhc2VNaW51c1Q7XG5cblx0XHRcdH1cblxuXHRcdFx0b3V0ID0gb3V0cHV0Lmxlbmd0aCArIDE7XG5cdFx0XHRiaWFzID0gYWRhcHQoaSAtIG9sZGksIG91dCwgb2xkaSA9PSAwKTtcblxuXHRcdFx0Ly8gYGlgIHdhcyBzdXBwb3NlZCB0byB3cmFwIGFyb3VuZCBmcm9tIGBvdXRgIHRvIGAwYCxcblx0XHRcdC8vIGluY3JlbWVudGluZyBgbmAgZWFjaCB0aW1lLCBzbyB3ZSdsbCBmaXggdGhhdCBub3c6XG5cdFx0XHRpZiAoZmxvb3IoaSAvIG91dCkgPiBtYXhJbnQgLSBuKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHRuICs9IGZsb29yKGkgLyBvdXQpO1xuXHRcdFx0aSAlPSBvdXQ7XG5cblx0XHRcdC8vIEluc2VydCBgbmAgYXQgcG9zaXRpb24gYGlgIG9mIHRoZSBvdXRwdXRcblx0XHRcdG91dHB1dC5zcGxpY2UoaSsrLCAwLCBuKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB1Y3MyZW5jb2RlKG91dHB1dCk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzIChlLmcuIGEgZG9tYWluIG5hbWUgbGFiZWwpIHRvIGFcblx0ICogUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZW5jb2RlKGlucHV0KSB7XG5cdFx0dmFyIG4sXG5cdFx0ICAgIGRlbHRhLFxuXHRcdCAgICBoYW5kbGVkQ1BDb3VudCxcblx0XHQgICAgYmFzaWNMZW5ndGgsXG5cdFx0ICAgIGJpYXMsXG5cdFx0ICAgIGosXG5cdFx0ICAgIG0sXG5cdFx0ICAgIHEsXG5cdFx0ICAgIGssXG5cdFx0ICAgIHQsXG5cdFx0ICAgIGN1cnJlbnRWYWx1ZSxcblx0XHQgICAgb3V0cHV0ID0gW10sXG5cdFx0ICAgIC8qKiBgaW5wdXRMZW5ndGhgIHdpbGwgaG9sZCB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIGluIGBpbnB1dGAuICovXG5cdFx0ICAgIGlucHV0TGVuZ3RoLFxuXHRcdCAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi9cblx0XHQgICAgaGFuZGxlZENQQ291bnRQbHVzT25lLFxuXHRcdCAgICBiYXNlTWludXNULFxuXHRcdCAgICBxTWludXNUO1xuXG5cdFx0Ly8gQ29udmVydCB0aGUgaW5wdXQgaW4gVUNTLTIgdG8gVW5pY29kZVxuXHRcdGlucHV0ID0gdWNzMmRlY29kZShpbnB1dCk7XG5cblx0XHQvLyBDYWNoZSB0aGUgbGVuZ3RoXG5cdFx0aW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGg7XG5cblx0XHQvLyBJbml0aWFsaXplIHRoZSBzdGF0ZVxuXHRcdG4gPSBpbml0aWFsTjtcblx0XHRkZWx0YSA9IDA7XG5cdFx0YmlhcyA9IGluaXRpYWxCaWFzO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50c1xuXHRcdGZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdGlmIChjdXJyZW50VmFsdWUgPCAweDgwKSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShjdXJyZW50VmFsdWUpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRoYW5kbGVkQ1BDb3VudCA9IGJhc2ljTGVuZ3RoID0gb3V0cHV0Lmxlbmd0aDtcblxuXHRcdC8vIGBoYW5kbGVkQ1BDb3VudGAgaXMgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyB0aGF0IGhhdmUgYmVlbiBoYW5kbGVkO1xuXHRcdC8vIGBiYXNpY0xlbmd0aGAgaXMgdGhlIG51bWJlciBvZiBiYXNpYyBjb2RlIHBvaW50cy5cblxuXHRcdC8vIEZpbmlzaCB0aGUgYmFzaWMgc3RyaW5nIC0gaWYgaXQgaXMgbm90IGVtcHR5IC0gd2l0aCBhIGRlbGltaXRlclxuXHRcdGlmIChiYXNpY0xlbmd0aCkge1xuXHRcdFx0b3V0cHV0LnB1c2goZGVsaW1pdGVyKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGVuY29kaW5nIGxvb3A6XG5cdFx0d2hpbGUgKGhhbmRsZWRDUENvdW50IDwgaW5wdXRMZW5ndGgpIHtcblxuXHRcdFx0Ly8gQWxsIG5vbi1iYXNpYyBjb2RlIHBvaW50cyA8IG4gaGF2ZSBiZWVuIGhhbmRsZWQgYWxyZWFkeS4gRmluZCB0aGUgbmV4dFxuXHRcdFx0Ly8gbGFyZ2VyIG9uZTpcblx0XHRcdGZvciAobSA9IG1heEludCwgaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID49IG4gJiYgY3VycmVudFZhbHVlIDwgbSkge1xuXHRcdFx0XHRcdG0gPSBjdXJyZW50VmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gSW5jcmVhc2UgYGRlbHRhYCBlbm91Z2ggdG8gYWR2YW5jZSB0aGUgZGVjb2RlcidzIDxuLGk+IHN0YXRlIHRvIDxtLDA+LFxuXHRcdFx0Ly8gYnV0IGd1YXJkIGFnYWluc3Qgb3ZlcmZsb3dcblx0XHRcdGhhbmRsZWRDUENvdW50UGx1c09uZSA9IGhhbmRsZWRDUENvdW50ICsgMTtcblx0XHRcdGlmIChtIC0gbiA+IGZsb29yKChtYXhJbnQgLSBkZWx0YSkgLyBoYW5kbGVkQ1BDb3VudFBsdXNPbmUpKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWx0YSArPSAobSAtIG4pICogaGFuZGxlZENQQ291bnRQbHVzT25lO1xuXHRcdFx0biA9IG07XG5cblx0XHRcdGZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPCBuICYmICsrZGVsdGEgPiBtYXhJbnQpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPT0gbikge1xuXHRcdFx0XHRcdC8vIFJlcHJlc2VudCBkZWx0YSBhcyBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyXG5cdFx0XHRcdFx0Zm9yIChxID0gZGVsdGEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkge1xuXHRcdFx0XHRcdFx0dCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7XG5cdFx0XHRcdFx0XHRpZiAocSA8IHQpIHtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRxTWludXNUID0gcSAtIHQ7XG5cdFx0XHRcdFx0XHRiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRcdFx0XHRvdXRwdXQucHVzaChcblx0XHRcdFx0XHRcdFx0c3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyh0ICsgcU1pbnVzVCAlIGJhc2VNaW51c1QsIDApKVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdHEgPSBmbG9vcihxTWludXNUIC8gYmFzZU1pbnVzVCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyhxLCAwKSkpO1xuXHRcdFx0XHRcdGJpYXMgPSBhZGFwdChkZWx0YSwgaGFuZGxlZENQQ291bnRQbHVzT25lLCBoYW5kbGVkQ1BDb3VudCA9PSBiYXNpY0xlbmd0aCk7XG5cdFx0XHRcdFx0ZGVsdGEgPSAwO1xuXHRcdFx0XHRcdCsraGFuZGxlZENQQ291bnQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0KytkZWx0YTtcblx0XHRcdCsrbjtcblxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0LmpvaW4oJycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3Ncblx0ICogdG8gVW5pY29kZS4gT25seSB0aGUgUHVueWNvZGVkIHBhcnRzIG9mIHRoZSBpbnB1dCB3aWxsIGJlIGNvbnZlcnRlZCwgaS5lLlxuXHQgKiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCBvbiBhIHN0cmluZyB0aGF0IGhhcyBhbHJlYWR5IGJlZW5cblx0ICogY29udmVydGVkIHRvIFVuaWNvZGUuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlZCBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIGNvbnZlcnQgdG8gVW5pY29kZS5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFVuaWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIFB1bnljb2RlXG5cdCAqIHN0cmluZy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvVW5pY29kZShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4UHVueWNvZGUudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gZGVjb2RlKHN0cmluZy5zbGljZSg0KS50b0xvd2VyQ2FzZSgpKVxuXHRcdFx0XHQ6IHN0cmluZztcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFVuaWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MgdG9cblx0ICogUHVueWNvZGUuIE9ubHkgdGhlIG5vbi1BU0NJSSBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgd2lsbCBiZSBjb252ZXJ0ZWQsXG5cdCAqIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0J3MgYWxyZWFkeSBpblxuXHQgKiBBU0NJSS5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0byBjb252ZXJ0LCBhcyBhXG5cdCAqIFVuaWNvZGUgc3RyaW5nLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgUHVueWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIGRvbWFpbiBuYW1lIG9yXG5cdCAqIGVtYWlsIGFkZHJlc3MuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b0FTQ0lJKGlucHV0KSB7XG5cdFx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gcmVnZXhOb25BU0NJSS50ZXN0KHN0cmluZylcblx0XHRcdFx0PyAneG4tLScgKyBlbmNvZGUoc3RyaW5nKVxuXHRcdFx0XHQ6IHN0cmluZztcblx0XHR9KTtcblx0fVxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKiBEZWZpbmUgdGhlIHB1YmxpYyBBUEkgKi9cblx0cHVueWNvZGUgPSB7XG5cdFx0LyoqXG5cdFx0ICogQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IFB1bnljb2RlLmpzIHZlcnNpb24gbnVtYmVyLlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIFN0cmluZ1xuXHRcdCAqL1xuXHRcdCd2ZXJzaW9uJzogJzEuNC4xJyxcblx0XHQvKipcblx0XHQgKiBBbiBvYmplY3Qgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGZyb20gSmF2YVNjcmlwdCdzIGludGVybmFsIGNoYXJhY3RlclxuXHRcdCAqIHJlcHJlc2VudGF0aW9uIChVQ1MtMikgdG8gVW5pY29kZSBjb2RlIHBvaW50cywgYW5kIGJhY2suXG5cdFx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdFx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdFx0ICogQHR5cGUgT2JqZWN0XG5cdFx0ICovXG5cdFx0J3VjczInOiB7XG5cdFx0XHQnZGVjb2RlJzogdWNzMmRlY29kZSxcblx0XHRcdCdlbmNvZGUnOiB1Y3MyZW5jb2RlXG5cdFx0fSxcblx0XHQnZGVjb2RlJzogZGVjb2RlLFxuXHRcdCdlbmNvZGUnOiBlbmNvZGUsXG5cdFx0J3RvQVNDSUknOiB0b0FTQ0lJLFxuXHRcdCd0b1VuaWNvZGUnOiB0b1VuaWNvZGVcblx0fTtcblxuXHQvKiogRXhwb3NlIGBwdW55Y29kZWAgKi9cblx0Ly8gU29tZSBBTUQgYnVpbGQgb3B0aW1pemVycywgbGlrZSByLmpzLCBjaGVjayBmb3Igc3BlY2lmaWMgY29uZGl0aW9uIHBhdHRlcm5zXG5cdC8vIGxpa2UgdGhlIGZvbGxvd2luZzpcblx0aWYgKFxuXHRcdHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJlxuXHRcdHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmXG5cdFx0ZGVmaW5lLmFtZFxuXHQpIHtcblx0XHRkZWZpbmUoJ3B1bnljb2RlJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gcHVueWNvZGU7XG5cdFx0fSk7XG5cdH0gZWxzZSBpZiAoZnJlZUV4cG9ydHMgJiYgZnJlZU1vZHVsZSkge1xuXHRcdGlmIChtb2R1bGUuZXhwb3J0cyA9PSBmcmVlRXhwb3J0cykge1xuXHRcdFx0Ly8gaW4gTm9kZS5qcywgaW8uanMsIG9yIFJpbmdvSlMgdjAuOC4wK1xuXHRcdFx0ZnJlZU1vZHVsZS5leHBvcnRzID0gcHVueWNvZGU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGluIE5hcndoYWwgb3IgUmluZ29KUyB2MC43LjAtXG5cdFx0XHRmb3IgKGtleSBpbiBwdW55Y29kZSkge1xuXHRcdFx0XHRwdW55Y29kZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIChmcmVlRXhwb3J0c1trZXldID0gcHVueWNvZGVba2V5XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdC8vIGluIFJoaW5vIG9yIGEgd2ViIGJyb3dzZXJcblx0XHRyb290LnB1bnljb2RlID0gcHVueWNvZGU7XG5cdH1cblxufSh0aGlzKSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc1N0cmluZzogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnc3RyaW5nJztcbiAgfSxcbiAgaXNPYmplY3Q6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YoYXJnKSA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xuICB9LFxuICBpc051bGw6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbE9yVW5kZWZpbmVkOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnID09IG51bGw7XG4gIH1cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuZGVjb2RlID0gZXhwb3J0cy5wYXJzZSA9IHJlcXVpcmUoJy4vZGVjb2RlJyk7XG5leHBvcnRzLmVuY29kZSA9IGV4cG9ydHMuc3RyaW5naWZ5ID0gcmVxdWlyZSgnLi9lbmNvZGUnKTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbi8vIElmIG9iai5oYXNPd25Qcm9wZXJ0eSBoYXMgYmVlbiBvdmVycmlkZGVuLCB0aGVuIGNhbGxpbmdcbi8vIG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSB3aWxsIGJyZWFrLlxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vam95ZW50L25vZGUvaXNzdWVzLzE3MDdcbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KG9iaiwgcHJvcCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ocXMsIHNlcCwgZXEsIG9wdGlvbnMpIHtcbiAgc2VwID0gc2VwIHx8ICcmJztcbiAgZXEgPSBlcSB8fCAnPSc7XG4gIHZhciBvYmogPSB7fTtcblxuICBpZiAodHlwZW9mIHFzICE9PSAnc3RyaW5nJyB8fCBxcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgdmFyIHJlZ2V4cCA9IC9cXCsvZztcbiAgcXMgPSBxcy5zcGxpdChzZXApO1xuXG4gIHZhciBtYXhLZXlzID0gMTAwMDtcbiAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMubWF4S2V5cyA9PT0gJ251bWJlcicpIHtcbiAgICBtYXhLZXlzID0gb3B0aW9ucy5tYXhLZXlzO1xuICB9XG5cbiAgdmFyIGxlbiA9IHFzLmxlbmd0aDtcbiAgLy8gbWF4S2V5cyA8PSAwIG1lYW5zIHRoYXQgd2Ugc2hvdWxkIG5vdCBsaW1pdCBrZXlzIGNvdW50XG4gIGlmIChtYXhLZXlzID4gMCAmJiBsZW4gPiBtYXhLZXlzKSB7XG4gICAgbGVuID0gbWF4S2V5cztcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICB2YXIgeCA9IHFzW2ldLnJlcGxhY2UocmVnZXhwLCAnJTIwJyksXG4gICAgICAgIGlkeCA9IHguaW5kZXhPZihlcSksXG4gICAgICAgIGtzdHIsIHZzdHIsIGssIHY7XG5cbiAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgIGtzdHIgPSB4LnN1YnN0cigwLCBpZHgpO1xuICAgICAgdnN0ciA9IHguc3Vic3RyKGlkeCArIDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrc3RyID0geDtcbiAgICAgIHZzdHIgPSAnJztcbiAgICB9XG5cbiAgICBrID0gZGVjb2RlVVJJQ29tcG9uZW50KGtzdHIpO1xuICAgIHYgPSBkZWNvZGVVUklDb21wb25lbnQodnN0cik7XG5cbiAgICBpZiAoIWhhc093blByb3BlcnR5KG9iaiwgaykpIHtcbiAgICAgIG9ialtrXSA9IHY7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KG9ialtrXSkpIHtcbiAgICAgIG9ialtrXS5wdXNoKHYpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpba10gPSBbb2JqW2tdLCB2XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufTtcblxudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uICh4cykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHhzKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgc3RyaW5naWZ5UHJpbWl0aXZlID0gZnVuY3Rpb24odikge1xuICBzd2l0Y2ggKHR5cGVvZiB2KSB7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIHJldHVybiB2O1xuXG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICByZXR1cm4gdiA/ICd0cnVlJyA6ICdmYWxzZSc7XG5cbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgcmV0dXJuIGlzRmluaXRlKHYpID8gdiA6ICcnO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAnJztcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvYmosIHNlcCwgZXEsIG5hbWUpIHtcbiAgc2VwID0gc2VwIHx8ICcmJztcbiAgZXEgPSBlcSB8fCAnPSc7XG4gIGlmIChvYmogPT09IG51bGwpIHtcbiAgICBvYmogPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gbWFwKG9iamVjdEtleXMob2JqKSwgZnVuY3Rpb24oaykge1xuICAgICAgdmFyIGtzID0gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShrKSkgKyBlcTtcbiAgICAgIGlmIChpc0FycmF5KG9ialtrXSkpIHtcbiAgICAgICAgcmV0dXJuIG1hcChvYmpba10sIGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKHYpKTtcbiAgICAgICAgfSkuam9pbihzZXApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmpba10pKTtcbiAgICAgIH1cbiAgICB9KS5qb2luKHNlcCk7XG5cbiAgfVxuXG4gIGlmICghbmFtZSkgcmV0dXJuICcnO1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShuYW1lKSkgKyBlcSArXG4gICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9iaikpO1xufTtcblxudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uICh4cykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHhzKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG5cbmZ1bmN0aW9uIG1hcCAoeHMsIGYpIHtcbiAgaWYgKHhzLm1hcCkgcmV0dXJuIHhzLm1hcChmKTtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7XG4gICAgcmVzLnB1c2goZih4c1tpXSwgaSkpO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5cbnZhciBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24gKG9iaikge1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgcmVzLnB1c2goa2V5KTtcbiAgfVxuICByZXR1cm4gcmVzO1xufTtcbiIsImltcG9ydCBSZXNvdXJjZUxvYWRlciBmcm9tICdyZXNvdXJjZS1sb2FkZXInO1xuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgYmxvYk1pZGRsZXdhcmVGYWN0b3J5IH0gZnJvbSAncmVzb3VyY2UtbG9hZGVyL2xpYi9taWRkbGV3YXJlcy9wYXJzaW5nL2Jsb2InO1xuaW1wb3J0IFRleHR1cmVMb2FkZXIgZnJvbSAnLi9UZXh0dXJlTG9hZGVyJztcblxuLyoqXG4gKiBUaGUgbmV3IGxvYWRlciwgZXh0ZW5kcyBSZXNvdXJjZSBMb2FkZXIgYnkgQ2hhZCBFbmdsZXI6IGh0dHBzOi8vZ2l0aHViLmNvbS9lbmdsZXJjai9yZXNvdXJjZS1sb2FkZXJcbiAqXG4gKiBgYGBqc1xuICogY29uc3QgbG9hZGVyID0gUElYSS5Mb2FkZXIuc2hhcmVkOyAvLyBQaXhpSlMgZXhwb3NlcyBhIHByZW1hZGUgaW5zdGFuY2UgZm9yIHlvdSB0byB1c2UuXG4gKiAvL29yXG4gKiBjb25zdCBsb2FkZXIgPSBuZXcgUElYSS5Mb2FkZXIoKTsgLy8geW91IGNhbiBhbHNvIGNyZWF0ZSB5b3VyIG93biBpZiB5b3Ugd2FudFxuICpcbiAqIGNvbnN0IHNwcml0ZXMgPSB7fTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYGFkZGAgdG8gZW5xdWV1ZSBhIHJlc291cmNlXG4gKiBsb2FkZXIuYWRkKCdidW5ueScsICdkYXRhL2J1bm55LnBuZycpXG4gKiAgICAgICAuYWRkKCdzcGFjZXNoaXAnLCAnYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb24nKTtcbiAqIGxvYWRlci5hZGQoJ3Njb3JlRm9udCcsICdhc3NldHMvc2NvcmUuZm50Jyk7XG4gKlxuICogLy8gQ2hhaW5hYmxlIGBwcmVgIHRvIGFkZCBhIG1pZGRsZXdhcmUgdGhhdCBydW5zIGZvciBlYWNoIHJlc291cmNlLCAqYmVmb3JlKiBsb2FkaW5nIHRoYXQgcmVzb3VyY2UuXG4gKiAvLyBUaGlzIGlzIHVzZWZ1bCB0byBpbXBsZW1lbnQgY3VzdG9tIGNhY2hpbmcgbW9kdWxlcyAodXNpbmcgZmlsZXN5c3RlbSwgaW5kZXhlZGRiLCBtZW1vcnksIGV0YykuXG4gKiBsb2FkZXIucHJlKGNhY2hpbmdNaWRkbGV3YXJlKTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYHVzZWAgdG8gYWRkIGEgbWlkZGxld2FyZSB0aGF0IHJ1bnMgZm9yIGVhY2ggcmVzb3VyY2UsICphZnRlciogbG9hZGluZyB0aGF0IHJlc291cmNlLlxuICogLy8gVGhpcyBpcyB1c2VmdWwgdG8gaW1wbGVtZW50IGN1c3RvbSBwYXJzaW5nIG1vZHVsZXMgKGxpa2Ugc3ByaXRlc2hlZXQgcGFyc2Vycywgc3BpbmUgcGFyc2VyLCBldGMpLlxuICogbG9hZGVyLnVzZShwYXJzaW5nTWlkZGxld2FyZSk7XG4gKlxuICogLy8gVGhlIGBsb2FkYCBtZXRob2QgbG9hZHMgdGhlIHF1ZXVlIG9mIHJlc291cmNlcywgYW5kIGNhbGxzIHRoZSBwYXNzZWQgaW4gY2FsbGJhY2sgY2FsbGVkIG9uY2UgYWxsXG4gKiAvLyByZXNvdXJjZXMgaGF2ZSBsb2FkZWQuXG4gKiBsb2FkZXIubG9hZCgobG9hZGVyLCByZXNvdXJjZXMpID0+IHtcbiAqICAgICAvLyByZXNvdXJjZXMgaXMgYW4gb2JqZWN0IHdoZXJlIHRoZSBrZXkgaXMgdGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIGxvYWRlZCBhbmQgdGhlIHZhbHVlIGlzIHRoZSByZXNvdXJjZSBvYmplY3QuXG4gKiAgICAgLy8gVGhleSBoYXZlIGEgY291cGxlIGRlZmF1bHQgcHJvcGVydGllczpcbiAqICAgICAvLyAtIGB1cmxgOiBUaGUgVVJMIHRoYXQgdGhlIHJlc291cmNlIHdhcyBsb2FkZWQgZnJvbVxuICogICAgIC8vIC0gYGVycm9yYDogVGhlIGVycm9yIHRoYXQgaGFwcGVuZWQgd2hlbiB0cnlpbmcgdG8gbG9hZCAoaWYgYW55KVxuICogICAgIC8vIC0gYGRhdGFgOiBUaGUgcmF3IGRhdGEgdGhhdCB3YXMgbG9hZGVkXG4gKiAgICAgLy8gYWxzbyBtYXkgY29udGFpbiBvdGhlciBwcm9wZXJ0aWVzIGJhc2VkIG9uIHRoZSBtaWRkbGV3YXJlIHRoYXQgcnVucy5cbiAqICAgICBzcHJpdGVzLmJ1bm55ID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5idW5ueS50ZXh0dXJlKTtcbiAqICAgICBzcHJpdGVzLnNwYWNlc2hpcCA9IG5ldyBQSVhJLlRpbGluZ1Nwcml0ZShyZXNvdXJjZXMuc3BhY2VzaGlwLnRleHR1cmUpO1xuICogICAgIHNwcml0ZXMuc2NvcmVGb250ID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5zY29yZUZvbnQudGV4dHVyZSk7XG4gKiB9KTtcbiAqXG4gKiAvLyB0aHJvdWdob3V0IHRoZSBwcm9jZXNzIG11bHRpcGxlIHNpZ25hbHMgY2FuIGJlIGRpc3BhdGNoZWQuXG4gKiBsb2FkZXIub25Qcm9ncmVzcy5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgbG9hZGVkL2Vycm9yZWQgZmlsZVxuICogbG9hZGVyLm9uRXJyb3IuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2UgcGVyIGVycm9yZWQgZmlsZVxuICogbG9hZGVyLm9uTG9hZC5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgbG9hZGVkIGZpbGVcbiAqIGxvYWRlci5vbkNvbXBsZXRlLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHdoZW4gdGhlIHF1ZXVlZCByZXNvdXJjZXMgYWxsIGxvYWQuXG4gKiBgYGBcbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmdsZXJjai9yZXNvdXJjZS1sb2FkZXJcbiAqXG4gKiBAY2xhc3MgTG9hZGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHBhcmFtIHtzdHJpbmd9IFtiYXNlVXJsPScnXSAtIFRoZSBiYXNlIHVybCBmb3IgYWxsIHJlc291cmNlcyBsb2FkZWQgYnkgdGhpcyBsb2FkZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbmN5PTEwXSAtIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2FkZXIgZXh0ZW5kcyBSZXNvdXJjZUxvYWRlclxue1xuICAgIGNvbnN0cnVjdG9yKGJhc2VVcmwsIGNvbmN1cnJlbmN5KVxuICAgIHtcbiAgICAgICAgc3VwZXIoYmFzZVVybCwgY29uY3VycmVuY3kpO1xuICAgICAgICBFdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IExvYWRlci5fcGx1Z2lucy5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcGx1Z2luID0gTG9hZGVyLl9wbHVnaW5zW2ldO1xuICAgICAgICAgICAgY29uc3QgeyBwcmUsIHVzZSB9ID0gcGx1Z2luO1xuXG4gICAgICAgICAgICBpZiAocHJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucHJlKHByZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh1c2UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51c2UodXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbXBhdCBsYXllciwgdHJhbnNsYXRlIHRoZSBuZXcgdjIgc2lnbmFscyBpbnRvIG9sZCB2MSBldmVudHMuXG4gICAgICAgIHRoaXMub25TdGFydC5hZGQoKGwpID0+IHRoaXMuZW1pdCgnc3RhcnQnLCBsKSk7XG4gICAgICAgIHRoaXMub25Qcm9ncmVzcy5hZGQoKGwsIHIpID0+IHRoaXMuZW1pdCgncHJvZ3Jlc3MnLCBsLCByKSk7XG4gICAgICAgIHRoaXMub25FcnJvci5hZGQoKGUsIGwsIHIpID0+IHRoaXMuZW1pdCgnZXJyb3InLCBlLCBsLCByKSk7XG4gICAgICAgIHRoaXMub25Mb2FkLmFkZCgobCwgcikgPT4gdGhpcy5lbWl0KCdsb2FkJywgbCwgcikpO1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUuYWRkKChsLCByKSA9PiB0aGlzLmVtaXQoJ2NvbXBsZXRlJywgbCwgcikpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGlzIGxvYWRlciBjYW5ub3QgYmUgZGVzdHJveWVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcHJvdGVjdGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSB0aGUgbG9hZGVyLCByZW1vdmVzIHJlZmVyZW5jZXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5fcHJvdGVjdGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBwcmVtYWRlIGluc3RhbmNlIG9mIHRoZSBsb2FkZXIgdGhhdCBjYW4gYmUgdXNlZCB0byBsb2FkIHJlc291cmNlcy5cbiAgICAgKiBAbmFtZSBzaGFyZWRcbiAgICAgKiBAdHlwZSB7UElYSS5Mb2FkZXJ9XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgc2hhcmVkKClcbiAgICB7XG4gICAgICAgIGxldCBzaGFyZWQgPSBMb2FkZXIuX3NoYXJlZDtcblxuICAgICAgICBpZiAoIXNoYXJlZClcbiAgICAgICAge1xuICAgICAgICAgICAgc2hhcmVkID0gbmV3IExvYWRlcigpO1xuICAgICAgICAgICAgc2hhcmVkLl9wcm90ZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgTG9hZGVyLl9zaGFyZWQgPSBzaGFyZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2hhcmVkO1xuICAgIH1cbn1cblxuLy8gQ29weSBFRTMgcHJvdG90eXBlIChtaXhpbilcbk9iamVjdC5hc3NpZ24oTG9hZGVyLnByb3RvdHlwZSwgRXZlbnRFbWl0dGVyLnByb3RvdHlwZSk7XG5cbi8qKlxuICogQ29sbGVjdGlvbiBvZiBhbGwgaW5zdGFsbGVkIGB1c2VgIG1pZGRsZXdhcmUgZm9yIExvYWRlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyIHtBcnJheTxQSVhJLklMb2FkZXJQbHVnaW4+fSBfcGx1Z2luc1xuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAcHJpdmF0ZVxuICovXG5Mb2FkZXIuX3BsdWdpbnMgPSBbXTtcblxuLyoqXG4gKiBBZGRzIGEgTG9hZGVyIHBsdWdpbiBmb3IgdGhlIGdsb2JhbCBzaGFyZWQgbG9hZGVyIGFuZCBhbGxcbiAqIG5ldyBMb2FkZXIgaW5zdGFuY2VzIGNyZWF0ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQG1ldGhvZCByZWdpc3RlclBsdWdpblxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAcGFyYW0ge1BJWEkuSUxvYWRlclBsdWdpbn0gcGx1Z2luIC0gVGhlIHBsdWdpbiB0byBhZGRcbiAqIEByZXR1cm4ge1BJWEkuTG9hZGVyfSBSZWZlcmVuY2UgdG8gUElYSS5Mb2FkZXIgZm9yIGNoYWluaW5nXG4gKi9cbkxvYWRlci5yZWdpc3RlclBsdWdpbiA9IGZ1bmN0aW9uIHJlZ2lzdGVyUGx1Z2luKHBsdWdpbilcbntcbiAgICBMb2FkZXIuX3BsdWdpbnMucHVzaChwbHVnaW4pO1xuXG4gICAgaWYgKHBsdWdpbi5hZGQpXG4gICAge1xuICAgICAgICBwbHVnaW4uYWRkKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvYWRlcjtcbn07XG5cbi8vIHBhcnNlIGFueSBibG9iIGludG8gbW9yZSB1c2FibGUgb2JqZWN0cyAoZS5nLiBJbWFnZSlcbkxvYWRlci5yZWdpc3RlclBsdWdpbih7IHVzZTogYmxvYk1pZGRsZXdhcmVGYWN0b3J5KCkgfSk7XG5cbi8vIHBhcnNlIGFueSBJbWFnZSBvYmplY3RzIGludG8gdGV4dHVyZXNcbkxvYWRlci5yZWdpc3RlclBsdWdpbihUZXh0dXJlTG9hZGVyKTtcblxuLyoqXG4gKiBQbHVnaW4gdG8gYmUgaW5zdGFsbGVkIGZvciBoYW5kbGluZyBzcGVjaWZpYyBMb2FkZXIgcmVzb3VyY2VzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiBJTG9hZGVyUGx1Z2luXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBbYWRkXSAtIEZ1bmN0aW9uIHRvIGNhbGwgaW1tZWRpYXRlIGFmdGVyIHJlZ2lzdGVyaW5nIHBsdWdpbi5cbiAqIEBwcm9wZXJ0eSB7UElYSS5Mb2FkZXIubG9hZGVyTWlkZGxld2FyZX0gW3ByZV0gLSBNaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJ1biBiZWZvcmUgbG9hZCwgdGhlXG4gKiAgICAgICAgICAgYXJndW1lbnRzIGZvciB0aGlzIGFyZSBgKHJlc291cmNlLCBuZXh0KWBcbiAqIEBwcm9wZXJ0eSB7UElYSS5Mb2FkZXIubG9hZGVyTWlkZGxld2FyZX0gW3VzZV0gLSBNaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJ1biBhZnRlciBsb2FkLCB0aGVcbiAqICAgICAgICAgICBhcmd1bWVudHMgZm9yIHRoaXMgYXJlIGAocmVzb3VyY2UsIG5leHQpYFxuICovXG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAY2FsbGJhY2sgbG9hZGVyTWlkZGxld2FyZVxuICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dFxuICovXG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyI1xuICogQG1lbWJlciB7b2JqZWN0fSBvblN0YXJ0XG4gKi9cblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXIjXG4gKiBAbWVtYmVyIHtvYmplY3R9IG9uUHJvZ3Jlc3NcbiAqL1xuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBtZW1iZXIge29iamVjdH0gb25FcnJvclxuICovXG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyI1xuICogQG1lbWJlciB7b2JqZWN0fSBvbkxvYWRcbiAqL1xuXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlciNcbiAqIEBtZW1iZXIge29iamVjdH0gb25Db21wbGV0ZVxuICovXG4iLCJjb25zdCBfa2V5U3RyID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89JztcblxuLyoqXG4gKiBFbmNvZGVzIGJpbmFyeSBpbnRvIGJhc2U2NC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaW5wdXQgVGhlIGlucHV0IGRhdGEgdG8gZW5jb2RlLlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGVuY29kZWQgYmFzZTY0IHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlQmluYXJ5KGlucHV0KSB7XG4gICAgbGV0IG91dHB1dCA9ICcnO1xuICAgIGxldCBpbnggPSAwO1xuXG4gICAgd2hpbGUgKGlueCA8IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAvLyBGaWxsIGJ5dGUgYnVmZmVyIGFycmF5XG4gICAgICAgIGNvbnN0IGJ5dGVidWZmZXIgPSBbMCwgMCwgMF07XG4gICAgICAgIGNvbnN0IGVuY29kZWRDaGFySW5kZXhlcyA9IFswLCAwLCAwLCAwXTtcblxuICAgICAgICBmb3IgKGxldCBqbnggPSAwOyBqbnggPCBieXRlYnVmZmVyLmxlbmd0aDsgKytqbngpIHtcbiAgICAgICAgICAgIGlmIChpbnggPCBpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyB0aHJvdyBhd2F5IGhpZ2gtb3JkZXIgYnl0ZSwgYXMgZG9jdW1lbnRlZCBhdDpcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9Fbi9Vc2luZ19YTUxIdHRwUmVxdWVzdCNIYW5kbGluZ19iaW5hcnlfZGF0YVxuICAgICAgICAgICAgICAgIGJ5dGVidWZmZXJbam54XSA9IGlucHV0LmNoYXJDb2RlQXQoaW54KyspICYgMHhmZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJ5dGVidWZmZXJbam54XSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgZWFjaCBlbmNvZGVkIGNoYXJhY3RlciwgNiBiaXRzIGF0IGEgdGltZVxuICAgICAgICAvLyBpbmRleCAxOiBmaXJzdCA2IGJpdHNcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzBdID0gYnl0ZWJ1ZmZlclswXSA+PiAyO1xuXG4gICAgICAgIC8vIGluZGV4IDI6IHNlY29uZCA2IGJpdHMgKDIgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMSArIDQgbW9zdCBzaWduaWZpY2FudCBiaXRzIGZyb20gYnl0ZSAyKVxuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMV0gPSAoKGJ5dGVidWZmZXJbMF0gJiAweDMpIDw8IDQpIHwgKGJ5dGVidWZmZXJbMV0gPj4gNCk7XG5cbiAgICAgICAgLy8gaW5kZXggMzogdGhpcmQgNiBiaXRzICg0IGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDIgKyAyIG1vc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGJ5dGUgMylcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzJdID0gKChieXRlYnVmZmVyWzFdICYgMHgwZikgPDwgMikgfCAoYnl0ZWJ1ZmZlclsyXSA+PiA2KTtcblxuICAgICAgICAvLyBpbmRleCAzOiBmb3J0aCA2IGJpdHMgKDYgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMylcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzNdID0gYnl0ZWJ1ZmZlclsyXSAmIDB4M2Y7XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgcGFkZGluZyBoYXBwZW5lZCwgYW5kIGFkanVzdCBhY2NvcmRpbmdseVxuICAgICAgICBjb25zdCBwYWRkaW5nQnl0ZXMgPSBpbnggLSAoaW5wdXQubGVuZ3RoIC0gMSk7XG5cbiAgICAgICAgc3dpdGNoIChwYWRkaW5nQnl0ZXMpIHtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAvLyBTZXQgbGFzdCAyIGNoYXJhY3RlcnMgdG8gcGFkZGluZyBjaGFyXG4gICAgICAgICAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzNdID0gNjQ7XG4gICAgICAgICAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzJdID0gNjQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAvLyBTZXQgbGFzdCBjaGFyYWN0ZXIgdG8gcGFkZGluZyBjaGFyXG4gICAgICAgICAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzNdID0gNjQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7IC8vIE5vIHBhZGRpbmcgLSBwcm9jZWVkXG4gICAgICAgIH1cblxuICAgICAgICAvLyBOb3cgd2Ugd2lsbCBncmFiIGVhY2ggYXBwcm9wcmlhdGUgY2hhcmFjdGVyIG91dCBvZiBvdXIga2V5c3RyaW5nXG4gICAgICAgIC8vIGJhc2VkIG9uIG91ciBpbmRleCBhcnJheSBhbmQgYXBwZW5kIGl0IHRvIHRoZSBvdXRwdXQgc3RyaW5nXG4gICAgICAgIGZvciAobGV0IGpueCA9IDA7IGpueCA8IGVuY29kZWRDaGFySW5kZXhlcy5sZW5ndGg7ICsram54KSB7XG4gICAgICAgICAgICBvdXRwdXQgKz0gX2tleVN0ci5jaGFyQXQoZW5jb2RlZENoYXJJbmRleGVzW2pueF0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dHB1dDtcbn1cblxuLy8gQmFja3dhcmRzIGNvbXBhdFxuaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IGVuY29kZUJpbmFyeTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxufVxuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL21haW4uY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9tYWluLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL21haW4uY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQsIHBhcmVudCkge1xuICBpZiAocGFyZW50KXtcbiAgICByZXR1cm4gcGFyZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbiAgfVxuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xufTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHRhcmdldCwgcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQsIHBhcmVudCk7XG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXHRcdFx0aWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuXHRcdH1cblx0XHRyZXR1cm4gbWVtb1t0YXJnZXRdXG5cdH07XG59KSgpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09IFwiYm9vbGVhblwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuICAgICAgICBpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlLCB0YXJnZXQpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXG5cdGlmKG9wdGlvbnMuYXR0cnMubm9uY2UgPT09IHVuZGVmaW5lZCkge1xuXHRcdHZhciBub25jZSA9IGdldE5vbmNlKCk7XG5cdFx0aWYgKG5vbmNlKSB7XG5cdFx0XHRvcHRpb25zLmF0dHJzLm5vbmNlID0gbm9uY2U7XG5cdFx0fVxuXHR9XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gZ2V0Tm9uY2UoKSB7XG5cdGlmICh0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRyZXR1cm4gX193ZWJwYWNrX25vbmNlX187XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gdHlwZW9mIG9wdGlvbnMudHJhbnNmb3JtID09PSAnZnVuY3Rpb24nXG5cdFx0ID8gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcykgXG5cdFx0IDogb3B0aW9ucy50cmFuc2Zvcm0uZGVmYXVsdChvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuIiwiaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbi8qKlxuICogRGVmYXVsdCBudW1iZXIgb2YgdXBsb2FkcyBwZXIgZnJhbWUgdXNpbmcgcHJlcGFyZSBwbHVnaW4uXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEBuYW1lIFVQTE9BRFNfUEVSX0ZSQU1FXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgNFxuICovXG5zZXR0aW5ncy5VUExPQURTX1BFUl9GUkFNRSA9IDQ7XG5cbmV4cG9ydCB7IHNldHRpbmdzIH07XG4iLCJpbXBvcnQgaXNNb2JpbGUgZnJvbSAnaXNtb2JpbGVqcyc7XG5cbi8qKlxuICogVGhlIG1heGltdW0gcmVjb21tZW5kZWQgdGV4dHVyZSB1bml0cyB0byB1c2UuXG4gKiBJbiB0aGVvcnkgdGhlIGJpZ2dlciB0aGUgYmV0dGVyLCBhbmQgZm9yIGRlc2t0b3Agd2UnbGwgdXNlIGFzIG1hbnkgYXMgd2UgY2FuLlxuICogQnV0IHNvbWUgbW9iaWxlIGRldmljZXMgc2xvdyBkb3duIGlmIHRoZXJlIGlzIHRvIG1hbnkgYnJhbmNoZXMgaW4gdGhlIHNoYWRlci5cbiAqIFNvIGluIHByYWN0aWNlIHRoZXJlIHNlZW1zIHRvIGJlIGEgc3dlZXQgc3BvdCBzaXplIHRoYXQgdmFyaWVzIGRlcGVuZGluZyBvbiB0aGUgZGV2aWNlLlxuICpcbiAqIEluIHY0LCBhbGwgbW9iaWxlIGRldmljZXMgd2VyZSBsaW1pdGVkIHRvIDQgdGV4dHVyZSB1bml0cyBiZWNhdXNlIGZvciB0aGlzLlxuICogSW4gdjUsIHdlIGFsbG93IGFsbCB0ZXh0dXJlIHVuaXRzIHRvIGJlIHVzZWQgb24gbW9kZXJuIEFwcGxlIG9yIEFuZHJvaWQgZGV2aWNlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG1heFxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWF4UmVjb21tZW5kZWRUZXh0dXJlcyhtYXgpXG57XG4gICAgbGV0IGFsbG93TWF4ID0gdHJ1ZTtcblxuICAgIGlmIChpc01vYmlsZS50YWJsZXQgfHwgaXNNb2JpbGUucGhvbmUpXG4gICAge1xuICAgICAgICBhbGxvd01heCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChpc01vYmlsZS5hcHBsZS5kZXZpY2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gKG5hdmlnYXRvci51c2VyQWdlbnQpLm1hdGNoKC9PUyAoXFxkKylfKFxcZCspPy8pO1xuXG4gICAgICAgICAgICBpZiAobWF0Y2gpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFqb3JWZXJzaW9uID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcblxuICAgICAgICAgICAgICAgIC8vIEFsbCB0ZXh0dXJlIHVuaXRzIGNhbiBiZSB1c2VkIG9uIGRldmljZXMgdGhhdCBzdXBwb3J0IGlvcyAxMSBvciBhYm92ZVxuICAgICAgICAgICAgICAgIGlmIChtYWpvclZlcnNpb24gPj0gMTEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhbGxvd01heCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc01vYmlsZS5hbmRyb2lkLmRldmljZSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSAobmF2aWdhdG9yLnVzZXJBZ2VudCkubWF0Y2goL0FuZHJvaWRcXHMoWzAtOS5dKikvKTtcblxuICAgICAgICAgICAgaWYgKG1hdGNoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ham9yVmVyc2lvbiA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7XG5cbiAgICAgICAgICAgICAgICAvLyBBbGwgdGV4dHVyZSB1bml0cyBjYW4gYmUgdXNlZCBvbiBkZXZpY2VzIHRoYXQgc3VwcG9ydCBBbmRyb2lkIDcgKE5vdWdhdCkgb3IgYWJvdmVcbiAgICAgICAgICAgICAgICBpZiAobWFqb3JWZXJzaW9uID49IDcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhbGxvd01heCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGFsbG93TWF4ID8gbWF4IDogNDtcbn1cbiIsImltcG9ydCBpc01vYmlsZSBmcm9tICdpc21vYmlsZWpzJztcblxuLyoqXG4gKiBVcGxvYWRpbmcgdGhlIHNhbWUgYnVmZmVyIG11bHRpcGxlIHRpbWVzIGluIGEgc2luZ2xlIGZyYW1lIGNhbiBjYXVzZSBwZXJmb3JtYW5jZSBpc3N1ZXMuXG4gKiBBcHBhcmVudCBvbiBpT1Mgc28gb25seSBjaGVjayBmb3IgdGhhdCBhdCB0aGUgbW9tZW50XG4gKiBUaGlzIGNoZWNrIG1heSBiZWNvbWUgbW9yZSBjb21wbGV4IGlmIHRoaXMgaXNzdWUgcG9wcyB1cCBlbHNld2hlcmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjYW5VcGxvYWRTYW1lQnVmZmVyKClcbntcbiAgICByZXR1cm4gIWlzTW9iaWxlLmFwcGxlLmRldmljZTtcbn1cbiIsImxldCBzYWlkSGVsbG8gPSBmYWxzZTtcbmNvbnN0IFZFUlNJT04gPSAnX19WRVJTSU9OX18nO1xuXG4vKipcbiAqIFNraXBzIHRoZSBoZWxsbyBtZXNzYWdlIG9mIHJlbmRlcmVycyB0aGF0IGFyZSBjcmVhdGVkIGFmdGVyIHRoaXMgaXMgcnVuLlxuICpcbiAqIEBmdW5jdGlvbiBza2lwSGVsbG9cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBza2lwSGVsbG8oKVxue1xuICAgIHNhaWRIZWxsbyA9IHRydWU7XG59XG5cbi8qKlxuICogTG9ncyBvdXQgdGhlIHZlcnNpb24gYW5kIHJlbmRlcmVyIGluZm9ybWF0aW9uIGZvciB0aGlzIHJ1bm5pbmcgaW5zdGFuY2Ugb2YgUElYSS5cbiAqIElmIHlvdSBkb24ndCB3YW50IHRvIHNlZSB0aGlzIG1lc3NhZ2UgeW91IGNhbiBydW4gYFBJWEkudXRpbHMuc2tpcEhlbGxvKClgIGJlZm9yZVxuICogY3JlYXRpbmcgeW91ciByZW5kZXJlci4gS2VlcCBpbiBtaW5kIHRoYXQgZG9pbmcgdGhhdCB3aWxsIGZvcmV2ZXIgbWFrZXMgeW91IGEgamVyayBmYWNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBmdW5jdGlvbiBzYXlIZWxsb1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIHN0cmluZyByZW5kZXJlciB0eXBlIHRvIGxvZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNheUhlbGxvKHR5cGUpXG57XG4gICAgaWYgKHNhaWRIZWxsbylcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2Nocm9tZScpID4gLTEpXG4gICAge1xuICAgICAgICBjb25zdCBhcmdzID0gW1xuICAgICAgICAgICAgYFxcbiAlYyAlYyAlYyBQaXhpSlMgJHtWRVJTSU9OfSAtIOKcsCAke3R5cGV9IOKcsCAgJWMgICVjICBodHRwOi8vd3d3LnBpeGlqcy5jb20vICAlYyAlYyDimaUlY+KZpSVj4pmlIFxcblxcbmAsXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmNjZhNTsgYmFja2dyb3VuZDogIzAzMDMwNzsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZjY2YTU7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kOiAjZmZjM2RjOyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2NvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnY29sb3I6ICNmZjI0MjQ7IGJhY2tncm91bmQ6ICNmZmY7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmMjQyNDsgYmFja2dyb3VuZDogI2ZmZjsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICBdO1xuXG4gICAgICAgIHdpbmRvdy5jb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBhcmdzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAod2luZG93LmNvbnNvbGUpXG4gICAge1xuICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coYFBpeGlKUyAke1ZFUlNJT059IC0gJHt0eXBlfSAtIGh0dHA6Ly93d3cucGl4aWpzLmNvbS9gKTtcbiAgICB9XG5cbiAgICBzYWlkSGVsbG8gPSB0cnVlO1xufVxuIiwibGV0IHN1cHBvcnRlZDtcblxuLyoqXG4gKiBIZWxwZXIgZm9yIGNoZWNraW5nIGZvciBXZWJHTCBzdXBwb3J0LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaXNXZWJHTFN1cHBvcnRlZFxuICogQHJldHVybiB7Ym9vbGVhbn0gSXMgV2ViR0wgc3VwcG9ydGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNXZWJHTFN1cHBvcnRlZCgpXG57XG4gICAgaWYgKHR5cGVvZiBzdXBwb3J0ZWQgPT09ICd1bmRlZmluZWQnKVxuICAgIHtcbiAgICAgICAgc3VwcG9ydGVkID0gKGZ1bmN0aW9uIHN1cHBvcnRlZCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHRPcHRpb25zID0geyBzdGVuY2lsOiB0cnVlLCBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiB0cnVlIH07XG5cbiAgICAgICAgICAgIHRyeVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghd2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgICAgICBsZXQgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBjb250ZXh0T3B0aW9ucylcbiAgICAgICAgICAgICAgICAgICAgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIGNvbnRleHRPcHRpb25zKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSAhIShnbCAmJiBnbC5nZXRDb250ZXh0QXR0cmlidXRlcygpLnN0ZW5jaWwpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGdsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9zZUNvbnRleHQgPSBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChsb3NlQ29udGV4dClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9zZUNvbnRleHQubG9zZUNvbnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGdsID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIHJldHVybiBzdWNjZXNzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuICAgIH1cblxuICAgIHJldHVybiBzdXBwb3J0ZWQ7XG59XG4iLCIvKipcbiAqIENvbnZlcnRzIGEgaGV4YWRlY2ltYWwgY29sb3IgbnVtYmVyIHRvIGFuIFtSLCBHLCBCXSBhcnJheSBvZiBub3JtYWxpemVkIGZsb2F0cyAobnVtYmVycyBmcm9tIDAuMCB0byAxLjApLlxuICpcbiAqIEBleGFtcGxlXG4gKiBQSVhJLnV0aWxzLmhleDJyZ2IoMHhmZmZmZmYpOyAvLyByZXR1cm5zIFsxLCAxLCAxXVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBoZXgycmdiXG4gKiBAcGFyYW0ge251bWJlcn0gaGV4IC0gVGhlIGhleGFkZWNpbWFsIG51bWJlciB0byBjb252ZXJ0XG4gKiBAcGFyYW0gIHtudW1iZXJbXX0gW291dD1bXV0gSWYgc3VwcGxpZWQsIHRoaXMgYXJyYXkgd2lsbCBiZSB1c2VkIHJhdGhlciB0aGFuIHJldHVybmluZyBhIG5ldyBvbmVcbiAqIEByZXR1cm4ge251bWJlcltdfSBBbiBhcnJheSByZXByZXNlbnRpbmcgdGhlIFtSLCBHLCBCXSBvZiB0aGUgY29sb3Igd2hlcmUgYWxsIHZhbHVlcyBhcmUgZmxvYXRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGV4MnJnYihoZXgsIG91dClcbntcbiAgICBvdXQgPSBvdXQgfHwgW107XG5cbiAgICBvdXRbMF0gPSAoKGhleCA+PiAxNikgJiAweEZGKSAvIDI1NTtcbiAgICBvdXRbMV0gPSAoKGhleCA+PiA4KSAmIDB4RkYpIC8gMjU1O1xuICAgIG91dFsyXSA9IChoZXggJiAweEZGKSAvIDI1NTtcblxuICAgIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBoZXhhZGVjaW1hbCBjb2xvciBudW1iZXIgdG8gYSBzdHJpbmcuXG4gKlxuICogQGV4YW1wbGVcbiAqIFBJWEkudXRpbHMuaGV4MnN0cmluZygweGZmZmZmZik7IC8vIHJldHVybnMgXCIjZmZmZmZmXCJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaGV4MnN0cmluZ1xuICogQHBhcmFtIHtudW1iZXJ9IGhleCAtIE51bWJlciBpbiBoZXggKGUuZy4sIGAweGZmZmZmZmApXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBzdHJpbmcgY29sb3IgKGUuZy4sIGBcIiNmZmZmZmZcImApLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGV4MnN0cmluZyhoZXgpXG57XG4gICAgaGV4ID0gaGV4LnRvU3RyaW5nKDE2KTtcbiAgICBoZXggPSAnMDAwMDAwJy5zdWJzdHIoMCwgNiAtIGhleC5sZW5ndGgpICsgaGV4O1xuXG4gICAgcmV0dXJuIGAjJHtoZXh9YDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleGFkZWNpbWFsIHN0cmluZyB0byBhIGhleGFkZWNpbWFsIGNvbG9yIG51bWJlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogUElYSS51dGlscy5zdHJpbmcyaGV4KFwiI2ZmZmZmZlwiKTsgLy8gcmV0dXJucyAweGZmZmZmZlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBzdHJpbmcyaGV4XG4gKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyBjb2xvciAoZS5nLiwgYFwiI2ZmZmZmZlwiYClcbiAqIEByZXR1cm4ge251bWJlcn0gTnVtYmVyIGluIGhleGFkZWNpbWFsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nMmhleChzdHJpbmcpXG57XG4gICAgaWYgKHR5cGVvZiBzdHJpbmcgPT09ICdzdHJpbmcnICYmIHN0cmluZ1swXSA9PT0gJyMnKVxuICAgIHtcbiAgICAgICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cigxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyc2VJbnQoc3RyaW5nLCAxNik7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBjb2xvciBhcyBhbiBbUiwgRywgQl0gYXJyYXkgb2Ygbm9ybWFsaXplZCBmbG9hdHMgdG8gYSBoZXhhZGVjaW1hbCBudW1iZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIFBJWEkudXRpbHMucmdiMmhleChbMSwgMSwgMV0pOyAvLyByZXR1cm5zIDB4ZmZmZmZmXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHJnYjJoZXhcbiAqIEBwYXJhbSB7bnVtYmVyW119IHJnYiAtIEFycmF5IG9mIG51bWJlcnMgd2hlcmUgYWxsIHZhbHVlcyBhcmUgbm9ybWFsaXplZCBmbG9hdHMgZnJvbSAwLjAgdG8gMS4wLlxuICogQHJldHVybiB7bnVtYmVyfSBOdW1iZXIgaW4gaGV4YWRlY2ltYWwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZ2IyaGV4KHJnYilcbntcbiAgICByZXR1cm4gKCgocmdiWzBdICogMjU1KSA8PCAxNikgKyAoKHJnYlsxXSAqIDI1NSkgPDwgOCkgKyAocmdiWzJdICogMjU1IHwgMCkpO1xufVxuIiwiaW1wb3J0IHsgQkxFTkRfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG4vKipcbiAqIENvcnJlY3RzIFBpeGlKUyBibGVuZCwgdGFrZXMgcHJlbXVsdGlwbGllZCBhbHBoYSBpbnRvIGFjY291bnRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheTxudW1iZXJbXT59IFthcnJheV0gLSBUaGUgYXJyYXkgdG8gb3V0cHV0IGludG8uXG4gKiBAcmV0dXJuIHtBcnJheTxudW1iZXJbXT59IE1hcHBlZCBtb2Rlcy5cbiAqL1xuZnVuY3Rpb24gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXMoKVxue1xuICAgIGNvbnN0IHBtID0gW107XG4gICAgY29uc3QgbnBtID0gW107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDMyOyBpKyspXG4gICAge1xuICAgICAgICBwbVtpXSA9IGk7XG4gICAgICAgIG5wbVtpXSA9IGk7XG4gICAgfVxuXG4gICAgcG1bQkxFTkRfTU9ERVMuTk9STUFMX05QTV0gPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgcG1bQkxFTkRfTU9ERVMuQUREX05QTV0gPSBCTEVORF9NT0RFUy5BREQ7XG4gICAgcG1bQkxFTkRfTU9ERVMuU0NSRUVOX05QTV0gPSBCTEVORF9NT0RFUy5TQ1JFRU47XG5cbiAgICBucG1bQkxFTkRfTU9ERVMuTk9STUFMXSA9IEJMRU5EX01PREVTLk5PUk1BTF9OUE07XG4gICAgbnBtW0JMRU5EX01PREVTLkFERF0gPSBCTEVORF9NT0RFUy5BRERfTlBNO1xuICAgIG5wbVtCTEVORF9NT0RFUy5TQ1JFRU5dID0gQkxFTkRfTU9ERVMuU0NSRUVOX05QTTtcblxuICAgIGNvbnN0IGFycmF5ID0gW107XG5cbiAgICBhcnJheS5wdXNoKG5wbSk7XG4gICAgYXJyYXkucHVzaChwbSk7XG5cbiAgICByZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogbWFwcyBwcmVtdWx0aXBseSBmbGFnIGFuZCBibGVuZE1vZGUgdG8gYWRqdXN0ZWQgYmxlbmRNb2RlXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGNvbnN0IHByZW11bHRpcGx5QmxlbmRNb2RlXG4gKiBAdHlwZSB7QXJyYXk8bnVtYmVyW10+fVxuICovXG5leHBvcnQgY29uc3QgcHJlbXVsdGlwbHlCbGVuZE1vZGUgPSBtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcygpO1xuXG4vKipcbiAqIGNoYW5nZXMgYmxlbmRNb2RlIGFjY29yZGluZyB0byB0ZXh0dXJlIGZvcm1hdFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gY29ycmVjdEJsZW5kTW9kZVxuICogQHBhcmFtIHtudW1iZXJ9IGJsZW5kTW9kZSBzdXBwb3NlZCBibGVuZCBtb2RlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHByZW11bHRpcGxpZWQgIHdoZXRoZXIgc291cmNlIGlzIHByZW11bHRpcGxpZWRcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRydWUgYmxlbmQgbW9kZSBmb3IgdGhpcyB0ZXh0dXJlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb3JyZWN0QmxlbmRNb2RlKGJsZW5kTW9kZSwgcHJlbXVsdGlwbGllZClcbntcbiAgICByZXR1cm4gcHJlbXVsdGlwbHlCbGVuZE1vZGVbcHJlbXVsdGlwbGllZCA/IDEgOiAwXVtibGVuZE1vZGVdO1xufVxuXG4vKipcbiAqIGNvbWJpbmVzIHJnYiBhbmQgYWxwaGEgdG8gb3V0IGFycmF5XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBwcmVtdWx0aXBseVJnYmFcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fG51bWJlcltdfSByZ2IgaW5wdXQgcmdiXG4gKiBAcGFyYW0ge251bWJlcn0gYWxwaGEgYWxwaGEgcGFyYW1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0XSBvdXRwdXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZW11bHRpcGx5PXRydWVdIGRvIHByZW11bHRpcGx5IGl0XG4gKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSB2ZWM0IHJnYmFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZW11bHRpcGx5UmdiYShyZ2IsIGFscGhhLCBvdXQsIHByZW11bHRpcGx5KVxue1xuICAgIG91dCA9IG91dCB8fCBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgIGlmIChwcmVtdWx0aXBseSB8fCBwcmVtdWx0aXBseSA9PT0gdW5kZWZpbmVkKVxuICAgIHtcbiAgICAgICAgb3V0WzBdID0gcmdiWzBdICogYWxwaGE7XG4gICAgICAgIG91dFsxXSA9IHJnYlsxXSAqIGFscGhhO1xuICAgICAgICBvdXRbMl0gPSByZ2JbMl0gKiBhbHBoYTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgb3V0WzBdID0gcmdiWzBdO1xuICAgICAgICBvdXRbMV0gPSByZ2JbMV07XG4gICAgICAgIG91dFsyXSA9IHJnYlsyXTtcbiAgICB9XG4gICAgb3V0WzNdID0gYWxwaGE7XG5cbiAgICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIHByZW11bHRpcGxpZXMgdGludFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50XG4gKiBAcGFyYW0ge251bWJlcn0gdGludCBpbnRlZ2VyIFJHQlxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIGZsb2F0aW5nIHBvaW50IGFscGhhICgwLjAtMS4wKVxuICogQHJldHVybnMge251bWJlcn0gdGludCBtdWx0aXBsaWVkIGJ5IGFscGhhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcmVtdWx0aXBseVRpbnQodGludCwgYWxwaGEpXG57XG4gICAgaWYgKGFscGhhID09PSAxLjApXG4gICAge1xuICAgICAgICByZXR1cm4gKGFscGhhICogMjU1IDw8IDI0KSArIHRpbnQ7XG4gICAgfVxuICAgIGlmIChhbHBoYSA9PT0gMC4wKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGxldCBSID0gKCh0aW50ID4+IDE2KSAmIDB4RkYpO1xuICAgIGxldCBHID0gKCh0aW50ID4+IDgpICYgMHhGRik7XG4gICAgbGV0IEIgPSAodGludCAmIDB4RkYpO1xuXG4gICAgUiA9ICgoUiAqIGFscGhhKSArIDAuNSkgfCAwO1xuICAgIEcgPSAoKEcgKiBhbHBoYSkgKyAwLjUpIHwgMDtcbiAgICBCID0gKChCICogYWxwaGEpICsgMC41KSB8IDA7XG5cbiAgICByZXR1cm4gKGFscGhhICogMjU1IDw8IDI0KSArIChSIDw8IDE2KSArIChHIDw8IDgpICsgQjtcbn1cblxuLyoqXG4gKiBjb252ZXJ0cyBpbnRlZ2VyIHRpbnQgYW5kIGZsb2F0IGFscGhhIHRvIHZlYzQgZm9ybSwgcHJlbXVsdGlwbGllcyBieSBkZWZhdWx0XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBwcmVtdWx0aXBseVRpbnRUb1JnYmFcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW50IGlucHV0IHRpbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbHBoYSBhbHBoYSBwYXJhbVxuICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFtvdXRdIG91dHB1dFxuICogQHBhcmFtIHtib29sZWFufSBbcHJlbXVsdGlwbHk9dHJ1ZV0gZG8gcHJlbXVsdGlwbHkgaXRcbiAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXl9IHZlYzQgcmdiYVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlbXVsdGlwbHlUaW50VG9SZ2JhKHRpbnQsIGFscGhhLCBvdXQsIHByZW11bHRpcGx5KVxue1xuICAgIG91dCA9IG91dCB8fCBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgIG91dFswXSA9ICgodGludCA+PiAxNikgJiAweEZGKSAvIDI1NS4wO1xuICAgIG91dFsxXSA9ICgodGludCA+PiA4KSAmIDB4RkYpIC8gMjU1LjA7XG4gICAgb3V0WzJdID0gKHRpbnQgJiAweEZGKSAvIDI1NS4wO1xuICAgIGlmIChwcmVtdWx0aXBseSB8fCBwcmVtdWx0aXBseSA9PT0gdW5kZWZpbmVkKVxuICAgIHtcbiAgICAgICAgb3V0WzBdICo9IGFscGhhO1xuICAgICAgICBvdXRbMV0gKj0gYWxwaGE7XG4gICAgICAgIG91dFsyXSAqPSBhbHBoYTtcbiAgICB9XG4gICAgb3V0WzNdID0gYWxwaGE7XG5cbiAgICByZXR1cm4gb3V0O1xufVxuIiwiLyoqXG4gKiBHZW5lcmljIE1hc2sgU3RhY2sgZGF0YSBzdHJ1Y3R1cmVcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIGNyZWF0ZUluZGljZXNGb3JRdWFkc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gTnVtYmVyIG9mIHF1YWRzXG4gKiBAcmV0dXJuIHtVaW50MTZBcnJheX0gaW5kaWNlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSW5kaWNlc0ZvclF1YWRzKHNpemUpXG57XG4gICAgLy8gdGhlIHRvdGFsIG51bWJlciBvZiBpbmRpY2VzIGluIG91ciBhcnJheSwgdGhlcmUgYXJlIDYgcG9pbnRzIHBlciBxdWFkLlxuXG4gICAgY29uc3QgdG90YWxJbmRpY2VzID0gc2l6ZSAqIDY7XG5cbiAgICBjb25zdCBpbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KHRvdGFsSW5kaWNlcyk7XG5cbiAgICAvLyBmaWxsIHRoZSBpbmRpY2VzIHdpdGggdGhlIHF1YWRzIHRvIGRyYXdcbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IDA7IGkgPCB0b3RhbEluZGljZXM7IGkgKz0gNiwgaiArPSA0KVxuICAgIHtcbiAgICAgICAgaW5kaWNlc1tpICsgMF0gPSBqICsgMDtcbiAgICAgICAgaW5kaWNlc1tpICsgMV0gPSBqICsgMTtcbiAgICAgICAgaW5kaWNlc1tpICsgMl0gPSBqICsgMjtcbiAgICAgICAgaW5kaWNlc1tpICsgM10gPSBqICsgMDtcbiAgICAgICAgaW5kaWNlc1tpICsgNF0gPSBqICsgMjtcbiAgICAgICAgaW5kaWNlc1tpICsgNV0gPSBqICsgMztcbiAgICB9XG5cbiAgICByZXR1cm4gaW5kaWNlcztcbn1cbiIsIi8qKlxuICogUmVtb3ZlIGl0ZW1zIGZyb20gYSBqYXZhc2NyaXB0IGFycmF5IHdpdGhvdXQgZ2VuZXJhdGluZyBnYXJiYWdlXG4gKlxuICogQGZ1bmN0aW9uIHJlbW92ZUl0ZW1zXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtBcnJheTxhbnk+fSBhcnIgQXJyYXkgdG8gcmVtb3ZlIGVsZW1lbnRzIGZyb21cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydElkeCBzdGFydGluZyBpbmRleFxuICogQHBhcmFtIHtudW1iZXJ9IHJlbW92ZUNvdW50IGhvdyBtYW55IHRvIHJlbW92ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlSXRlbXMoYXJyLCBzdGFydElkeCwgcmVtb3ZlQ291bnQpXG57XG4gICAgY29uc3QgbGVuZ3RoID0gYXJyLmxlbmd0aDtcbiAgICBsZXQgaTtcblxuICAgIGlmIChzdGFydElkeCA+PSBsZW5ndGggfHwgcmVtb3ZlQ291bnQgPT09IDApXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmVtb3ZlQ291bnQgPSAoc3RhcnRJZHggKyByZW1vdmVDb3VudCA+IGxlbmd0aCA/IGxlbmd0aCAtIHN0YXJ0SWR4IDogcmVtb3ZlQ291bnQpO1xuXG4gICAgY29uc3QgbGVuID0gbGVuZ3RoIC0gcmVtb3ZlQ291bnQ7XG5cbiAgICBmb3IgKGkgPSBzdGFydElkeDsgaSA8IGxlbjsgKytpKVxuICAgIHtcbiAgICAgICAgYXJyW2ldID0gYXJyW2kgKyByZW1vdmVDb3VudF07XG4gICAgfVxuXG4gICAgYXJyLmxlbmd0aCA9IGxlbjtcbn1cbiIsImxldCBuZXh0VWlkID0gMDtcblxuLyoqXG4gKiBHZXRzIHRoZSBuZXh0IHVuaXF1ZSBpZGVudGlmaWVyXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiB1aWRcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIG5leHQgdW5pcXVlIGlkZW50aWZpZXIgdG8gdXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdWlkKClcbntcbiAgICByZXR1cm4gKytuZXh0VWlkO1xufVxuIiwiLyoqXG4gKiBSZXR1cm5zIHNpZ24gb2YgbnVtYmVyXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBzaWduXG4gKiBAcGFyYW0ge251bWJlcn0gbiAtIHRoZSBudW1iZXIgdG8gY2hlY2sgdGhlIHNpZ24gb2ZcbiAqIEByZXR1cm5zIHtudW1iZXJ9IDAgaWYgYG5gIGlzIDAsIC0xIGlmIGBuYCBpcyBuZWdhdGl2ZSwgMSBpZiBgbmAgaXMgcG9zaXRpdmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpZ24obilcbntcbiAgICBpZiAobiA9PT0gMCkgcmV0dXJuIDA7XG5cbiAgICByZXR1cm4gbiA8IDAgPyAtMSA6IDE7XG59XG4iLCIvLyBUYWtlbiBmcm9tIHRoZSBiaXQtdHdpZGRsZSBwYWNrYWdlXG5cbi8qKlxuICogUm91bmRzIHRvIG5leHQgcG93ZXIgb2YgdHdvLlxuICpcbiAqIEBmdW5jdGlvbiBpc1BvdzJcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge251bWJlcn0gdiBpbnB1dCB2YWx1ZVxuICogQHJldHVybiB7bnVtYmVyfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbmV4dFBvdzIodilcbntcbiAgICB2ICs9IHYgPT09IDA7XG4gICAgLS12O1xuICAgIHYgfD0gdiA+Pj4gMTtcbiAgICB2IHw9IHYgPj4+IDI7XG4gICAgdiB8PSB2ID4+PiA0O1xuICAgIHYgfD0gdiA+Pj4gODtcbiAgICB2IHw9IHYgPj4+IDE2O1xuXG4gICAgcmV0dXJuIHYgKyAxO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIG51bWJlciBpcyBhIHBvd2VyIG9mIHR3by5cbiAqXG4gKiBAZnVuY3Rpb24gaXNQb3cyXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtudW1iZXJ9IHYgaW5wdXQgdmFsdWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB2YWx1ZSBpcyBwb3dlciBvZiB0d29cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUG93Mih2KVxue1xuICAgIHJldHVybiAhKHYgJiAodiAtIDEpKSAmJiAoISF2KTtcbn1cblxuLyoqXG4gKiBDb21wdXRlcyBjZWlsIG9mIGxvZyBiYXNlIDJcbiAqXG4gKiBAZnVuY3Rpb24gbG9nMlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwYXJhbSB7bnVtYmVyfSB2IGlucHV0IHZhbHVlXG4gKiBAcmV0dXJuIHtudW1iZXJ9IGxvZ2FyaXRobSBiYXNlIDJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvZzIodilcbntcbiAgICBsZXQgciA9ICh2ID4gMHhGRkZGKSA8PCA0O1xuXG4gICAgdiA+Pj49IHI7XG5cbiAgICBsZXQgc2hpZnQgPSAodiA+IDB4RkYpIDw8IDM7XG5cbiAgICB2ID4+Pj0gc2hpZnQ7IHIgfD0gc2hpZnQ7XG4gICAgc2hpZnQgPSAodiA+IDB4RikgPDwgMjtcbiAgICB2ID4+Pj0gc2hpZnQ7IHIgfD0gc2hpZnQ7XG4gICAgc2hpZnQgPSAodiA+IDB4MykgPDwgMTtcbiAgICB2ID4+Pj0gc2hpZnQ7IHIgfD0gc2hpZnQ7XG5cbiAgICByZXR1cm4gciB8ICh2ID4+IDEpO1xufVxuIiwiLyoqXG4gKiBAdG9kbyBEZXNjcmliZSBwcm9wZXJ0eSB1c2FnZVxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFByb2dyYW1DYWNoZVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmV4cG9ydCBjb25zdCBQcm9ncmFtQ2FjaGUgPSB7fTtcblxuLyoqXG4gKiBAdG9kbyBEZXNjcmliZSBwcm9wZXJ0eSB1c2FnZVxuICpcbiAqIEBzdGF0aWNcbiAqIEBuYW1lIFRleHR1cmVDYWNoZVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmV4cG9ydCBjb25zdCBUZXh0dXJlQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4vKipcbiAqIEB0b2RvIERlc2NyaWJlIHByb3BlcnR5IHVzYWdlXG4gKlxuICogQHN0YXRpY1xuICogQG5hbWUgQmFzZVRleHR1cmVDYWNoZVxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cblxuZXhwb3J0IGNvbnN0IEJhc2VUZXh0dXJlQ2FjaGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuLyoqXG4gKiBEZXN0cm95cyBhbGwgdGV4dHVyZSBpbiB0aGUgY2FjaGVcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGRlc3Ryb3lUZXh0dXJlQ2FjaGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lUZXh0dXJlQ2FjaGUoKVxue1xuICAgIGxldCBrZXk7XG5cbiAgICBmb3IgKGtleSBpbiBUZXh0dXJlQ2FjaGUpXG4gICAge1xuICAgICAgICBUZXh0dXJlQ2FjaGVba2V5XS5kZXN0cm95KCk7XG4gICAgfVxuICAgIGZvciAoa2V5IGluIEJhc2VUZXh0dXJlQ2FjaGUpXG4gICAge1xuICAgICAgICBCYXNlVGV4dHVyZUNhY2hlW2tleV0uZGVzdHJveSgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCB0ZXh0dXJlcyBmcm9tIGNhY2hlLCBidXQgZG9lcyBub3QgZGVzdHJveSB0aGVtXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBjbGVhclRleHR1cmVDYWNoZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJUZXh0dXJlQ2FjaGUoKVxue1xuICAgIGxldCBrZXk7XG5cbiAgICBmb3IgKGtleSBpbiBUZXh0dXJlQ2FjaGUpXG4gICAge1xuICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW2tleV07XG4gICAgfVxuICAgIGZvciAoa2V5IGluIEJhc2VUZXh0dXJlQ2FjaGUpXG4gICAge1xuICAgICAgICBkZWxldGUgQmFzZVRleHR1cmVDYWNoZVtrZXldO1xuICAgIH1cbn1cbiIsIi8qKlxuICogVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzIGZyb20gYSBjYW52YXNcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHRyaW1DYW52YXNcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IGNhbnZhcyAtIHRoZSBjYW52YXMgdG8gdHJpbVxuICogQHJldHVybnMge29iamVjdH0gVHJpbSBkYXRhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmltQ2FudmFzKGNhbnZhcylcbntcbiAgICAvLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9yZW15Lzc4NDUwOFxuXG4gICAgbGV0IHdpZHRoID0gY2FudmFzLndpZHRoO1xuICAgIGxldCBoZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xuXG4gICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGNvbnN0IGltYWdlRGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIGNvbnN0IHBpeGVscyA9IGltYWdlRGF0YS5kYXRhO1xuICAgIGNvbnN0IGxlbiA9IHBpeGVscy5sZW5ndGg7XG5cbiAgICBjb25zdCBib3VuZCA9IHtcbiAgICAgICAgdG9wOiBudWxsLFxuICAgICAgICBsZWZ0OiBudWxsLFxuICAgICAgICByaWdodDogbnVsbCxcbiAgICAgICAgYm90dG9tOiBudWxsLFxuICAgIH07XG4gICAgbGV0IGRhdGEgPSBudWxsO1xuICAgIGxldCBpO1xuICAgIGxldCB4O1xuICAgIGxldCB5O1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KVxuICAgIHtcbiAgICAgICAgaWYgKHBpeGVsc1tpICsgM10gIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHggPSAoaSAvIDQpICUgd2lkdGg7XG4gICAgICAgICAgICB5ID0gfn4oKGkgLyA0KSAvIHdpZHRoKTtcblxuICAgICAgICAgICAgaWYgKGJvdW5kLnRvcCA9PT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBib3VuZC50b3AgPSB5O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYm91bmQubGVmdCA9PT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBib3VuZC5sZWZ0ID0geDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHggPCBib3VuZC5sZWZ0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLmxlZnQgPSB4O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYm91bmQucmlnaHQgPT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYm91bmQucmlnaHQgPSB4ICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJvdW5kLnJpZ2h0IDwgeClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBib3VuZC5yaWdodCA9IHggKyAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYm91bmQuYm90dG9tID09PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLmJvdHRvbSA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChib3VuZC5ib3R0b20gPCB5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLmJvdHRvbSA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYm91bmQudG9wICE9PSBudWxsKVxuICAgIHtcbiAgICAgICAgd2lkdGggPSBib3VuZC5yaWdodCAtIGJvdW5kLmxlZnQ7XG4gICAgICAgIGhlaWdodCA9IGJvdW5kLmJvdHRvbSAtIGJvdW5kLnRvcCArIDE7XG4gICAgICAgIGRhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YShib3VuZC5sZWZ0LCBib3VuZC50b3AsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGhlaWdodCxcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGRhdGEsXG4gICAgfTtcbn1cbiIsImltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBDYW52YXMgZWxlbWVudCBvZiB0aGUgZ2l2ZW4gc2l6ZSB0byBiZSB1c2VkIGFzIGEgdGFyZ2V0IGZvciByZW5kZXJpbmcgdG8uXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXNSZW5kZXJUYXJnZXRcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggZm9yIHRoZSBuZXdseSBjcmVhdGVkIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgaGVpZ2h0IGZvciB0aGUgbmV3bHkgY3JlYXRlZCBjYW52YXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgY2FudmFzXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCwgcmVzb2x1dGlvbilcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgQ2FudmFzIG9iamVjdCB0aGF0IGJlbG9uZ3MgdG8gdGhpcyBDYW52YXNSZW5kZXJUYXJnZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgb2JqZWN0IHJlcHJlc2VudGluZyBhIHR3by1kaW1lbnNpb25hbCByZW5kZXJpbmcgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG5cbiAgICAgICAgdGhpcy5yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBjYW52YXMgdGhhdCB3YXMgY3JlYXRlZCBieSB0aGUgQ2FudmFzUmVuZGVyVGFyZ2V0IGNsYXNzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjbGVhcigpXG4gICAge1xuICAgICAgICB0aGlzLmNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIGNhbnZhcyB0byB0aGUgc3BlY2lmaWVkIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgbmV3IHdpZHRoIG9mIHRoZSBjYW52YXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIG5ldyBoZWlnaHQgb2YgdGhlIGNhbnZhc1xuICAgICAqL1xuICAgIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB3aWR0aCAqIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgY2FudmFzLlxuICAgICAqXG4gICAgICovXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBjYW52YXMgYnVmZmVyIGluIHBpeGVscy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgd2lkdGgoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLndpZHRoO1xuICAgIH1cblxuICAgIHNldCB3aWR0aCh2YWwpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB2YWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgY2FudmFzIGJ1ZmZlciBpbiBwaXhlbHMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGhlaWdodCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMuaGVpZ2h0O1xuICAgIH1cblxuICAgIHNldCBoZWlnaHQodmFsKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHZhbDtcbiAgICB9XG59XG4iLCIvKipcbiAqIENvbnN0YW50cyB0aGF0IGRlZmluZSB0aGUgdHlwZSBvZiBncmFkaWVudCBvbiB0ZXh0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgVEVYVF9HUkFESUVOVFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORUFSX1ZFUlRJQ0FMIFZlcnRpY2FsIGdyYWRpZW50XG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORUFSX0hPUklaT05UQUwgTGluZWFyIGdyYWRpZW50XG4gKi9cbmV4cG9ydCBjb25zdCBURVhUX0dSQURJRU5UID0ge1xuICAgIExJTkVBUl9WRVJUSUNBTDogMCxcbiAgICBMSU5FQVJfSE9SSVpPTlRBTDogMSxcbn07XG4iLCJpbXBvcnQgX3VybCBmcm9tICd1cmwnO1xuXG5sZXQgdGVtcEFuY2hvcjtcblxuLyoqXG4gKiBTZXRzIHRoZSBgY3Jvc3NPcmlnaW5gIHByb3BlcnR5IGZvciB0aGlzIHJlc291cmNlIGJhc2VkIG9uIGlmIHRoZSB1cmxcbiAqIGZvciB0aGlzIHJlc291cmNlIGlzIGNyb3NzLW9yaWdpbi4gSWYgY3Jvc3NPcmlnaW4gd2FzIG1hbnVhbGx5IHNldCwgdGhpc1xuICogZnVuY3Rpb24gZG9lcyBub3RoaW5nLlxuICogTmlwcGVkIGZyb20gdGhlIHJlc291cmNlIGxvYWRlciFcbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byB0ZXN0LlxuICogQHBhcmFtIHtvYmplY3R9IFtsb2M9d2luZG93LmxvY2F0aW9uXSAtIFRoZSBsb2NhdGlvbiBvYmplY3QgdG8gdGVzdCBhZ2FpbnN0LlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY3Jvc3NPcmlnaW4gdmFsdWUgdG8gdXNlIChvciBlbXB0eSBzdHJpbmcgZm9yIG5vbmUpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odXJsLCBsb2MgPSB3aW5kb3cubG9jYXRpb24pXG57XG4gICAgLy8gZGF0YTogYW5kIGphdmFzY3JpcHQ6IHVybHMgYXJlIGNvbnNpZGVyZWQgc2FtZS1vcmlnaW5cbiAgICBpZiAodXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApXG4gICAge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLy8gZGVmYXVsdCBpcyB3aW5kb3cubG9jYXRpb25cbiAgICBsb2MgPSBsb2MgfHwgd2luZG93LmxvY2F0aW9uO1xuXG4gICAgaWYgKCF0ZW1wQW5jaG9yKVxuICAgIHtcbiAgICAgICAgdGVtcEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB9XG5cbiAgICAvLyBsZXQgdGhlIGJyb3dzZXIgZGV0ZXJtaW5lIHRoZSBmdWxsIGhyZWYgZm9yIHRoZSB1cmwgb2YgdGhpcyByZXNvdXJjZSBhbmQgdGhlblxuICAgIC8vIHBhcnNlIHdpdGggdGhlIG5vZGUgdXJsIGxpYiwgd2UgY2FuJ3QgdXNlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBhbmNob3IgZWxlbWVudFxuICAgIC8vIGJlY2F1c2UgdGhleSBkb24ndCB3b3JrIGluIElFOSA6KFxuICAgIHRlbXBBbmNob3IuaHJlZiA9IHVybDtcbiAgICB1cmwgPSBfdXJsLnBhcnNlKHRlbXBBbmNob3IuaHJlZik7XG5cbiAgICBjb25zdCBzYW1lUG9ydCA9ICghdXJsLnBvcnQgJiYgbG9jLnBvcnQgPT09ICcnKSB8fCAodXJsLnBvcnQgPT09IGxvYy5wb3J0KTtcblxuICAgIC8vIGlmIGNyb3NzIG9yaWdpblxuICAgIGlmICh1cmwuaG9zdG5hbWUgIT09IGxvYy5ob3N0bmFtZSB8fCAhc2FtZVBvcnQgfHwgdXJsLnByb3RvY29sICE9PSBsb2MucHJvdG9jb2wpXG4gICAge1xuICAgICAgICByZXR1cm4gJ2Fub255bW91cyc7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xufVxuIiwiaW1wb3J0IHsgREFUQV9VUkkgfSBmcm9tICcuLi9jb25zdCc7XG5cbi8qKlxuICogVHlwZWRlZiBmb3IgZGVjb21wb3NlRGF0YVVyaSByZXR1cm4gb2JqZWN0LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBEZWNvbXBvc2VkRGF0YVVyaVxuICogQHByb3BlcnR5IHtzdHJpbmd9IG1lZGlhVHlwZSBNZWRpYSB0eXBlLCBlZy4gYGltYWdlYFxuICogQHByb3BlcnR5IHtzdHJpbmd9IHN1YlR5cGUgU3ViIHR5cGUsIGVnLiBgcG5nYFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGVuY29kaW5nIERhdGEgZW5jb2RpbmcsIGVnLiBgYmFzZTY0YFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGRhdGEgVGhlIGFjdHVhbCBkYXRhXG4gKi9cblxuLyoqXG4gKiBTcGxpdCBhIGRhdGEgVVJJIGludG8gY29tcG9uZW50cy4gUmV0dXJucyB1bmRlZmluZWQgaWZcbiAqIHBhcmFtZXRlciBgZGF0YVVyaWAgaXMgbm90IGEgdmFsaWQgZGF0YSBVUkkuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBkZWNvbXBvc2VEYXRhVXJpXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YVVyaSAtIHRoZSBkYXRhIFVSSSB0byBjaGVja1xuICogQHJldHVybiB7UElYSS51dGlscy5EZWNvbXBvc2VkRGF0YVVyaXx1bmRlZmluZWR9IFRoZSBkZWNvbXBvc2VkIGRhdGEgdXJpIG9yIHVuZGVmaW5lZFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVjb21wb3NlRGF0YVVyaShkYXRhVXJpKVxue1xuICAgIGNvbnN0IGRhdGFVcmlNYXRjaCA9IERBVEFfVVJJLmV4ZWMoZGF0YVVyaSk7XG5cbiAgICBpZiAoZGF0YVVyaU1hdGNoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lZGlhVHlwZTogZGF0YVVyaU1hdGNoWzFdID8gZGF0YVVyaU1hdGNoWzFdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzdWJUeXBlOiBkYXRhVXJpTWF0Y2hbMl0gPyBkYXRhVXJpTWF0Y2hbMl0udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNoYXJzZXQ6IGRhdGFVcmlNYXRjaFszXSA/IGRhdGFVcmlNYXRjaFszXS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZW5jb2Rpbmc6IGRhdGFVcmlNYXRjaFs0XSA/IGRhdGFVcmlNYXRjaFs0XS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGF0YTogZGF0YVVyaU1hdGNoWzVdLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG4iLCJpbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJy4uL3NldHRpbmdzJztcblxuLyoqXG4gKiBnZXQgdGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgYW4gYXNzZXQgYnkgbG9va2luZyBmb3IgdGhlIHByZWZpeFxuICogdXNlZCBieSBzcHJpdGVzaGVldHMgYW5kIGltYWdlIHVybHNcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGdldFJlc29sdXRpb25PZlVybFxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIHRoZSBpbWFnZSBwYXRoXG4gKiBAcGFyYW0ge251bWJlcn0gW2RlZmF1bHRWYWx1ZT0xXSAtIHRoZSBkZWZhdWx0VmFsdWUgaWYgbm8gZmlsZW5hbWUgcHJlZml4IGlzIHNldC5cbiAqIEByZXR1cm4ge251bWJlcn0gcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiBhbiBhc3NldFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVzb2x1dGlvbk9mVXJsKHVybCwgZGVmYXVsdFZhbHVlKVxue1xuICAgIGNvbnN0IHJlc29sdXRpb24gPSBzZXR0aW5ncy5SRVRJTkFfUFJFRklYLmV4ZWModXJsKTtcblxuICAgIGlmIChyZXNvbHV0aW9uKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQocmVzb2x1dGlvblsxXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogMTtcbn1cbiIsIi8vIEEgbWFwIG9mIHdhcm5pbmcgbWVzc2FnZXMgYWxyZWFkeSBmaXJlZFxuY29uc3Qgd2FybmluZ3MgPSB7fTtcblxuLyoqXG4gKiBIZWxwZXIgZm9yIHdhcm5pbmcgZGV2ZWxvcGVycyBhYm91dCBkZXByZWNhdGVkIGZlYXR1cmVzICYgc2V0dGluZ3MuXG4gKiBBIHN0YWNrIHRyYWNrIGZvciB3YXJuaW5ncyBpcyBnaXZlbjsgdXNlZnVsIGZvciB0cmFja2luZy1kb3duIHdoZXJlXG4gKiBkZXByZWNhdGVkIG1ldGhvZHMvcHJvcGVydGllcy9jbGFzc2VzIGFyZSBiZWluZyB1c2VkIHdpdGhpbiB0aGUgY29kZS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGRlcHJlY2F0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gdmVyc2lvbiAtIFRoZSB2ZXJzaW9uIHdoZXJlIHRoZSBmZWF0dXJlIGJlY2FtZSBkZXByZWNhdGVkXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIE1lc3NhZ2Ugc2hvdWxkIGluY2x1ZGUgd2hhdCBpcyBkZXByZWNhdGVkLCB3aGVyZSwgYW5kIHRoZSBuZXcgc29sdXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBbaWdub3JlRGVwdGg9M10gLSBUaGUgbnVtYmVyIG9mIHN0ZXBzIHRvIGlnbm9yZSBhdCB0aGUgdG9wIG9mIHRoZSBlcnJvciBzdGFja1xuICogICAgICAgIHRoaXMgaXMgbW9zdGx5IHRvIGlnbm9yZSBpbnRlcm5hbCBkZXByZWNhdGlvbiBjYWxscy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlcHJlY2F0aW9uKHZlcnNpb24sIG1lc3NhZ2UsIGlnbm9yZURlcHRoID0gMylcbntcbiAgICAvLyBJZ25vcmUgZHVwbGljYXRcbiAgICBpZiAod2FybmluZ3NbbWVzc2FnZV0pXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICAgIGxldCBzdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xuXG4gICAgLy8gSGFuZGxlIElFIDwgMTAgYW5kIFNhZmFyaSA8IDZcbiAgICBpZiAodHlwZW9mIHN0YWNrID09PSAndW5kZWZpbmVkJylcbiAgICB7XG4gICAgICAgIGNvbnNvbGUud2FybignUGl4aUpTIERlcHJlY2F0aW9uIFdhcm5pbmc6ICcsIGAke21lc3NhZ2V9XFxuRGVwcmVjYXRlZCBzaW5jZSB2JHt2ZXJzaW9ufWApO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICAvLyBjaG9wIG9mZiB0aGUgc3RhY2sgdHJhY2Ugd2hpY2ggaW5jbHVkZXMgUGl4aUpTIGludGVybmFsIGNhbGxzXG4gICAgICAgIHN0YWNrID0gc3RhY2suc3BsaXQoJ1xcbicpLnNwbGljZShpZ25vcmVEZXB0aCkuam9pbignXFxuJyk7XG5cbiAgICAgICAgaWYgKGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoXG4gICAgICAgICAgICAgICAgJyVjUGl4aUpTIERlcHJlY2F0aW9uIFdhcm5pbmc6ICVjJXMnLFxuICAgICAgICAgICAgICAgICdjb2xvcjojNjE0MTA4O2JhY2tncm91bmQ6I2ZmZmJlNicsXG4gICAgICAgICAgICAgICAgJ2ZvbnQtd2VpZ2h0Om5vcm1hbDtjb2xvcjojNjE0MTA4O2JhY2tncm91bmQ6I2ZmZmJlNicsXG4gICAgICAgICAgICAgICAgYCR7bWVzc2FnZX1cXG5EZXByZWNhdGVkIHNpbmNlIHYke3ZlcnNpb259YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihzdGFjayk7XG4gICAgICAgICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BpeGlKUyBEZXByZWNhdGlvbiBXYXJuaW5nOiAnLCBgJHttZXNzYWdlfVxcbkRlcHJlY2F0ZWQgc2luY2UgdiR7dmVyc2lvbn1gKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihzdGFjayk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG5cbiAgICB3YXJuaW5nc1ttZXNzYWdlXSA9IHRydWU7XG59XG4iLCIvKipcbiAqIFRoZSBQb2ludCBvYmplY3QgcmVwcmVzZW50cyBhIGxvY2F0aW9uIGluIGEgdHdvLWRpbWVuc2lvbmFsIGNvb3JkaW5hdGUgc3lzdGVtLCB3aGVyZSB4IHJlcHJlc2VudHNcbiAqIHRoZSBob3Jpem9udGFsIGF4aXMgYW5kIHkgcmVwcmVzZW50cyB0aGUgdmVydGljYWwgYXhpcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvaW50XG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB4IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IHg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0geTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBwb2ludFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gYSBjb3B5IG9mIHRoZSBwb2ludFxuICAgICAqL1xuICAgIGNsb25lKClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54LCB0aGlzLnkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyB4IGFuZCB5IGZyb20gdGhlIGdpdmVuIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNvcHkgZnJvbVxuICAgICAqIEByZXR1cm5zIHtQSVhJLklQb2ludH0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgY29weUZyb20ocClcbiAgICB7XG4gICAgICAgIHRoaXMuc2V0KHAueCwgcC55KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgeCBhbmQgeSBpbnRvIHRoZSBnaXZlbiBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjb3B5LlxuICAgICAqIEByZXR1cm5zIHtQSVhJLklQb2ludH0gR2l2ZW4gcG9pbnQgd2l0aCB2YWx1ZXMgdXBkYXRlZFxuICAgICAqL1xuICAgIGNvcHlUbyhwKVxuICAgIHtcbiAgICAgICAgcC5zZXQodGhpcy54LCB0aGlzLnkpO1xuXG4gICAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gcG9pbnQgaXMgZXF1YWwgdG8gdGhpcyBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjaGVja1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBnaXZlbiBwb2ludCBlcXVhbCB0byB0aGlzIHBvaW50XG4gICAgICovXG4gICAgZXF1YWxzKHApXG4gICAge1xuICAgICAgICByZXR1cm4gKHAueCA9PT0gdGhpcy54KSAmJiAocC55ID09PSB0aGlzLnkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvaW50IHRvIGEgbmV3IHggYW5kIHkgcG9zaXRpb24uXG4gICAgICogSWYgeSBpcyBvbWl0dGVkLCBib3RoIHggYW5kIHkgd2lsbCBiZSBzZXQgdG8geC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICAgKi9cbiAgICBzZXQoeCwgeSlcbiAgICB7XG4gICAgICAgIHRoaXMueCA9IHggfHwgMDtcbiAgICAgICAgdGhpcy55ID0geSB8fCAoKHkgIT09IDApID8gdGhpcy54IDogMCk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBUaGUgUG9pbnQgb2JqZWN0IHJlcHJlc2VudHMgYSBsb2NhdGlvbiBpbiBhIHR3by1kaW1lbnNpb25hbCBjb29yZGluYXRlIHN5c3RlbSwgd2hlcmUgeCByZXByZXNlbnRzXG4gKiB0aGUgaG9yaXpvbnRhbCBheGlzIGFuZCB5IHJlcHJlc2VudHMgdGhlIHZlcnRpY2FsIGF4aXMuXG4gKlxuICogQW4gT2JzZXJ2YWJsZVBvaW50IGlzIGEgcG9pbnQgdGhhdCB0cmlnZ2VycyBhIGNhbGxiYWNrIHdoZW4gdGhlIHBvaW50J3MgcG9zaXRpb24gaXMgY2hhbmdlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9ic2VydmFibGVQb2ludFxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiIC0gY2FsbGJhY2sgd2hlbiBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHNjb3BlIC0gb3duZXIgb2YgY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeSBheGlzXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY2IsIHNjb3BlLCB4ID0gMCwgeSA9IDApXG4gICAge1xuICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgICAgdGhpcy5feSA9IHk7XG5cbiAgICAgICAgdGhpcy5jYiA9IGNiO1xuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgcG9pbnQuXG4gICAgICogVGhlIGNhbGxiYWNrIGFuZCBzY29wZSBwYXJhbXMgY2FuIGJlIG92ZXJpZGRlbiBvdGhlcndpc2UgdGhleSB3aWxsIGRlZmF1bHRcbiAgICAgKiB0byB0aGUgY2xvbmUgb2JqZWN0J3MgdmFsdWVzLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NiPW51bGxdIC0gY2FsbGJhY2sgd2hlbiBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtzY29wZT1udWxsXSAtIG93bmVyIG9mIGNhbGxiYWNrXG4gICAgICogQHJldHVybiB7UElYSS5PYnNlcnZhYmxlUG9pbnR9IGEgY29weSBvZiB0aGUgcG9pbnRcbiAgICAgKi9cbiAgICBjbG9uZShjYiA9IG51bGwsIHNjb3BlID0gbnVsbClcbiAgICB7XG4gICAgICAgIGNvbnN0IF9jYiA9IGNiIHx8IHRoaXMuY2I7XG4gICAgICAgIGNvbnN0IF9zY29wZSA9IHNjb3BlIHx8IHRoaXMuc2NvcGU7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlUG9pbnQoX2NiLCBfc2NvcGUsIHRoaXMuX3gsIHRoaXMuX3kpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvaW50IHRvIGEgbmV3IHggYW5kIHkgcG9zaXRpb24uXG4gICAgICogSWYgeSBpcyBvbWl0dGVkLCBib3RoIHggYW5kIHkgd2lsbCBiZSBzZXQgdG8geC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAgICAgKi9cbiAgICBzZXQoeCwgeSlcbiAgICB7XG4gICAgICAgIGNvbnN0IF94ID0geCB8fCAwO1xuICAgICAgICBjb25zdCBfeSA9IHkgfHwgKCh5ICE9PSAwKSA/IF94IDogMCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3ggIT09IF94IHx8IHRoaXMuX3kgIT09IF95KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl94ID0gX3g7XG4gICAgICAgICAgICB0aGlzLl95ID0gX3k7XG4gICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgeCBhbmQgeSBmcm9tIHRoZSBnaXZlbiBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjb3B5IGZyb20uXG4gICAgICogQHJldHVybnMge1BJWEkuSVBvaW50fSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBjb3B5RnJvbShwKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3ggIT09IHAueCB8fCB0aGlzLl95ICE9PSBwLnkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3ggPSBwLng7XG4gICAgICAgICAgICB0aGlzLl95ID0gcC55O1xuICAgICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIHggYW5kIHkgaW50byB0aGUgZ2l2ZW4gcG9pbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5JUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY29weS5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5JUG9pbnR9IEdpdmVuIHBvaW50IHdpdGggdmFsdWVzIHVwZGF0ZWRcbiAgICAgKi9cbiAgICBjb3B5VG8ocClcbiAgICB7XG4gICAgICAgIHAuc2V0KHRoaXMuX3gsIHRoaXMuX3kpO1xuXG4gICAgICAgIHJldHVybiBwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gcG9pbnQgaXMgZXF1YWwgdG8gdGhpcyBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gcCAtIFRoZSBwb2ludCB0byBjaGVja1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSBnaXZlbiBwb2ludCBlcXVhbCB0byB0aGlzIHBvaW50XG4gICAgICovXG4gICAgZXF1YWxzKHApXG4gICAge1xuICAgICAgICByZXR1cm4gKHAueCA9PT0gdGhpcy5feCkgJiYgKHAueSA9PT0gdGhpcy5feSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB4IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHgoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3g7XG4gICAgfVxuXG4gICAgc2V0IHgodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3ggIT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl94ID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHggYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgeSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5feTtcbiAgICB9XG5cbiAgICBzZXQgeSh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5feSAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3kgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBBIG51bWJlciwgb3IgYSBzdHJpbmcgY29udGFpbmluZyBhIG51bWJlci5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7KFBJWEkuUG9pbnR8UElYSS5PYnNlcnZhYmxlUG9pbnQpfSBJUG9pbnRcbiAqL1xuIiwiaW1wb3J0IFBvaW50IGZyb20gJy4vUG9pbnQnO1xuaW1wb3J0IHsgUElfMiB9IGZyb20gJy4vY29uc3QnO1xuXG4vKipcbiAqIFRoZSBQaXhpSlMgTWF0cml4IGFzIGEgY2xhc3MgbWFrZXMgaXQgYSBsb3QgZmFzdGVyLlxuICpcbiAqIEhlcmUgaXMgYSByZXByZXNlbnRhdGlvbiBvZiBpdDpcbiAqIGBgYGpzXG4gKiB8IGEgfCBjIHwgdHh8XG4gKiB8IGIgfCBkIHwgdHl8XG4gKiB8IDAgfCAwIHwgMSB8XG4gKiBgYGBcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWF0cml4XG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthPTFdIC0geCBzY2FsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYj0wXSAtIHggc2tld1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYz0wXSAtIHkgc2tld1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZD0xXSAtIHkgc2NhbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3R4PTBdIC0geCB0cmFuc2xhdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdHk9MF0gLSB5IHRyYW5zbGF0aW9uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYSA9IDEsIGIgPSAwLCBjID0gMCwgZCA9IDEsIHR4ID0gMCwgdHkgPSAwKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hID0gYTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmIgPSBiO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYyA9IGM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kID0gZDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR4ID0gdHg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eSA9IHR5O1xuXG4gICAgICAgIHRoaXMuYXJyYXkgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBNYXRyaXggb2JqZWN0IGJhc2VkIG9uIHRoZSBnaXZlbiBhcnJheS4gVGhlIEVsZW1lbnQgdG8gTWF0cml4IG1hcHBpbmcgb3JkZXIgaXMgYXMgZm9sbG93czpcbiAgICAgKlxuICAgICAqIGEgPSBhcnJheVswXVxuICAgICAqIGIgPSBhcnJheVsxXVxuICAgICAqIGMgPSBhcnJheVszXVxuICAgICAqIGQgPSBhcnJheVs0XVxuICAgICAqIHR4ID0gYXJyYXlbMl1cbiAgICAgKiB0eSA9IGFycmF5WzVdXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSBhcnJheSB0aGF0IHRoZSBtYXRyaXggd2lsbCBiZSBwb3B1bGF0ZWQgZnJvbS5cbiAgICAgKi9cbiAgICBmcm9tQXJyYXkoYXJyYXkpXG4gICAge1xuICAgICAgICB0aGlzLmEgPSBhcnJheVswXTtcbiAgICAgICAgdGhpcy5iID0gYXJyYXlbMV07XG4gICAgICAgIHRoaXMuYyA9IGFycmF5WzNdO1xuICAgICAgICB0aGlzLmQgPSBhcnJheVs0XTtcbiAgICAgICAgdGhpcy50eCA9IGFycmF5WzJdO1xuICAgICAgICB0aGlzLnR5ID0gYXJyYXlbNV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogc2V0cyB0aGUgbWF0cml4IHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkIC0gTWF0cml4IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eCAtIE1hdHJpeCBjb21wb25lbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHkgLSBNYXRyaXggY29tcG9uZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBzZXQoYSwgYiwgYywgZCwgdHgsIHR5KVxuICAgIHtcbiAgICAgICAgdGhpcy5hID0gYTtcbiAgICAgICAgdGhpcy5iID0gYjtcbiAgICAgICAgdGhpcy5jID0gYztcbiAgICAgICAgdGhpcy5kID0gZDtcbiAgICAgICAgdGhpcy50eCA9IHR4O1xuICAgICAgICB0aGlzLnR5ID0gdHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBmcm9tIHRoZSBjdXJyZW50IE1hdHJpeCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHRyYW5zcG9zZSAtIFdoZXRoZXIgd2UgbmVlZCB0byB0cmFuc3Bvc2UgdGhlIG1hdHJpeCBvciBub3RcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dD1uZXcgRmxvYXQzMkFycmF5KDkpXSAtIElmIHByb3ZpZGVkIHRoZSBhcnJheSB3aWxsIGJlIGFzc2lnbmVkIHRvIG91dFxuICAgICAqIEByZXR1cm4ge251bWJlcltdfSB0aGUgbmV3bHkgY3JlYXRlZCBhcnJheSB3aGljaCBjb250YWlucyB0aGUgbWF0cml4XG4gICAgICovXG4gICAgdG9BcnJheSh0cmFuc3Bvc2UsIG91dClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5hcnJheSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5hcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoOSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhcnJheSA9IG91dCB8fCB0aGlzLmFycmF5O1xuXG4gICAgICAgIGlmICh0cmFuc3Bvc2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFycmF5WzBdID0gdGhpcy5hO1xuICAgICAgICAgICAgYXJyYXlbMV0gPSB0aGlzLmI7XG4gICAgICAgICAgICBhcnJheVsyXSA9IDA7XG4gICAgICAgICAgICBhcnJheVszXSA9IHRoaXMuYztcbiAgICAgICAgICAgIGFycmF5WzRdID0gdGhpcy5kO1xuICAgICAgICAgICAgYXJyYXlbNV0gPSAwO1xuICAgICAgICAgICAgYXJyYXlbNl0gPSB0aGlzLnR4O1xuICAgICAgICAgICAgYXJyYXlbN10gPSB0aGlzLnR5O1xuICAgICAgICAgICAgYXJyYXlbOF0gPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgYXJyYXlbMF0gPSB0aGlzLmE7XG4gICAgICAgICAgICBhcnJheVsxXSA9IHRoaXMuYztcbiAgICAgICAgICAgIGFycmF5WzJdID0gdGhpcy50eDtcbiAgICAgICAgICAgIGFycmF5WzNdID0gdGhpcy5iO1xuICAgICAgICAgICAgYXJyYXlbNF0gPSB0aGlzLmQ7XG4gICAgICAgICAgICBhcnJheVs1XSA9IHRoaXMudHk7XG4gICAgICAgICAgICBhcnJheVs2XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs3XSA9IDA7XG4gICAgICAgICAgICBhcnJheVs4XSA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGEgbmV3IHBvc2l0aW9uIHdpdGggdGhlIGN1cnJlbnQgdHJhbnNmb3JtYXRpb24gYXBwbGllZC5cbiAgICAgKiBDYW4gYmUgdXNlZCB0byBnbyBmcm9tIGEgY2hpbGQncyBjb29yZGluYXRlIHNwYWNlIHRvIHRoZSB3b3JsZCBjb29yZGluYXRlIHNwYWNlLiAoZS5nLiByZW5kZXJpbmcpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvcyAtIFRoZSBvcmlnaW5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtuZXdQb3NdIC0gVGhlIHBvaW50IHRoYXQgdGhlIG5ldyBwb3NpdGlvbiBpcyBhc3NpZ25lZCB0byAoYWxsb3dlZCB0byBiZSBzYW1lIGFzIGlucHV0KVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IFRoZSBuZXcgcG9pbnQsIHRyYW5zZm9ybWVkIHRocm91Z2ggdGhpcyBtYXRyaXhcbiAgICAgKi9cbiAgICBhcHBseShwb3MsIG5ld1BvcylcbiAgICB7XG4gICAgICAgIG5ld1BvcyA9IG5ld1BvcyB8fCBuZXcgUG9pbnQoKTtcblxuICAgICAgICBjb25zdCB4ID0gcG9zLng7XG4gICAgICAgIGNvbnN0IHkgPSBwb3MueTtcblxuICAgICAgICBuZXdQb3MueCA9ICh0aGlzLmEgKiB4KSArICh0aGlzLmMgKiB5KSArIHRoaXMudHg7XG4gICAgICAgIG5ld1Bvcy55ID0gKHRoaXMuYiAqIHgpICsgKHRoaXMuZCAqIHkpICsgdGhpcy50eTtcblxuICAgICAgICByZXR1cm4gbmV3UG9zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhIG5ldyBwb3NpdGlvbiB3aXRoIHRoZSBpbnZlcnNlIG9mIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIGFwcGxpZWQuXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gZ28gZnJvbSB0aGUgd29ybGQgY29vcmRpbmF0ZSBzcGFjZSB0byBhIGNoaWxkJ3MgY29vcmRpbmF0ZSBzcGFjZS4gKGUuZy4gaW5wdXQpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvcyAtIFRoZSBvcmlnaW5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtuZXdQb3NdIC0gVGhlIHBvaW50IHRoYXQgdGhlIG5ldyBwb3NpdGlvbiBpcyBhc3NpZ25lZCB0byAoYWxsb3dlZCB0byBiZSBzYW1lIGFzIGlucHV0KVxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IFRoZSBuZXcgcG9pbnQsIGludmVyc2UtdHJhbnNmb3JtZWQgdGhyb3VnaCB0aGlzIG1hdHJpeFxuICAgICAqL1xuICAgIGFwcGx5SW52ZXJzZShwb3MsIG5ld1BvcylcbiAgICB7XG4gICAgICAgIG5ld1BvcyA9IG5ld1BvcyB8fCBuZXcgUG9pbnQoKTtcblxuICAgICAgICBjb25zdCBpZCA9IDEgLyAoKHRoaXMuYSAqIHRoaXMuZCkgKyAodGhpcy5jICogLXRoaXMuYikpO1xuXG4gICAgICAgIGNvbnN0IHggPSBwb3MueDtcbiAgICAgICAgY29uc3QgeSA9IHBvcy55O1xuXG4gICAgICAgIG5ld1Bvcy54ID0gKHRoaXMuZCAqIGlkICogeCkgKyAoLXRoaXMuYyAqIGlkICogeSkgKyAoKCh0aGlzLnR5ICogdGhpcy5jKSAtICh0aGlzLnR4ICogdGhpcy5kKSkgKiBpZCk7XG4gICAgICAgIG5ld1Bvcy55ID0gKHRoaXMuYSAqIGlkICogeSkgKyAoLXRoaXMuYiAqIGlkICogeCkgKyAoKCgtdGhpcy50eSAqIHRoaXMuYSkgKyAodGhpcy50eCAqIHRoaXMuYikpICogaWQpO1xuXG4gICAgICAgIHJldHVybiBuZXdQb3M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyB0aGUgbWF0cml4IG9uIHRoZSB4IGFuZCB5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggSG93IG11Y2ggdG8gdHJhbnNsYXRlIHggYnlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSBIb3cgbXVjaCB0byB0cmFuc2xhdGUgeSBieVxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIHRyYW5zbGF0ZSh4LCB5KVxuICAgIHtcbiAgICAgICAgdGhpcy50eCArPSB4O1xuICAgICAgICB0aGlzLnR5ICs9IHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIHNjYWxlIHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCBUaGUgYW1vdW50IHRvIHNjYWxlIGhvcml6b250YWxseVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFRoZSBhbW91bnQgdG8gc2NhbGUgdmVydGljYWxseVxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIHNjYWxlKHgsIHkpXG4gICAge1xuICAgICAgICB0aGlzLmEgKj0geDtcbiAgICAgICAgdGhpcy5kICo9IHk7XG4gICAgICAgIHRoaXMuYyAqPSB4O1xuICAgICAgICB0aGlzLmIgKj0geTtcbiAgICAgICAgdGhpcy50eCAqPSB4O1xuICAgICAgICB0aGlzLnR5ICo9IHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIHJvdGF0aW9uIHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBtYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGUgLSBUaGUgYW5nbGUgaW4gcmFkaWFucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICByb3RhdGUoYW5nbGUpXG4gICAge1xuICAgICAgICBjb25zdCBjb3MgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgICAgIGNvbnN0IHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcblxuICAgICAgICBjb25zdCBhMSA9IHRoaXMuYTtcbiAgICAgICAgY29uc3QgYzEgPSB0aGlzLmM7XG4gICAgICAgIGNvbnN0IHR4MSA9IHRoaXMudHg7XG5cbiAgICAgICAgdGhpcy5hID0gKGExICogY29zKSAtICh0aGlzLmIgKiBzaW4pO1xuICAgICAgICB0aGlzLmIgPSAoYTEgKiBzaW4pICsgKHRoaXMuYiAqIGNvcyk7XG4gICAgICAgIHRoaXMuYyA9IChjMSAqIGNvcykgLSAodGhpcy5kICogc2luKTtcbiAgICAgICAgdGhpcy5kID0gKGMxICogc2luKSArICh0aGlzLmQgKiBjb3MpO1xuICAgICAgICB0aGlzLnR4ID0gKHR4MSAqIGNvcykgLSAodGhpcy50eSAqIHNpbik7XG4gICAgICAgIHRoaXMudHkgPSAodHgxICogc2luKSArICh0aGlzLnR5ICogY29zKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIHRoZSBnaXZlbiBNYXRyaXggdG8gdGhpcyBNYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIGFwcGVuZC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBhcHBlbmQobWF0cml4KVxuICAgIHtcbiAgICAgICAgY29uc3QgYTEgPSB0aGlzLmE7XG4gICAgICAgIGNvbnN0IGIxID0gdGhpcy5iO1xuICAgICAgICBjb25zdCBjMSA9IHRoaXMuYztcbiAgICAgICAgY29uc3QgZDEgPSB0aGlzLmQ7XG5cbiAgICAgICAgdGhpcy5hID0gKG1hdHJpeC5hICogYTEpICsgKG1hdHJpeC5iICogYzEpO1xuICAgICAgICB0aGlzLmIgPSAobWF0cml4LmEgKiBiMSkgKyAobWF0cml4LmIgKiBkMSk7XG4gICAgICAgIHRoaXMuYyA9IChtYXRyaXguYyAqIGExKSArIChtYXRyaXguZCAqIGMxKTtcbiAgICAgICAgdGhpcy5kID0gKG1hdHJpeC5jICogYjEpICsgKG1hdHJpeC5kICogZDEpO1xuXG4gICAgICAgIHRoaXMudHggPSAobWF0cml4LnR4ICogYTEpICsgKG1hdHJpeC50eSAqIGMxKSArIHRoaXMudHg7XG4gICAgICAgIHRoaXMudHkgPSAobWF0cml4LnR4ICogYjEpICsgKG1hdHJpeC50eSAqIGQxKSArIHRoaXMudHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbWF0cml4IGJhc2VkIG9uIGFsbCB0aGUgYXZhaWxhYmxlIHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gUG9zaXRpb24gb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gUG9zaXRpb24gb24gdGhlIHkgYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXZvdFggLSBQaXZvdCBvbiB0aGUgeCBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpdm90WSAtIFBpdm90IG9uIHRoZSB5IGF4aXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVYIC0gU2NhbGUgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVkgLSBTY2FsZSBvbiB0aGUgeSBheGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gUm90YXRpb24gaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBza2V3WCAtIFNrZXcgb24gdGhlIHggYXhpc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBza2V3WSAtIFNrZXcgb24gdGhlIHkgYXhpc1xuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqL1xuICAgIHNldFRyYW5zZm9ybSh4LCB5LCBwaXZvdFgsIHBpdm90WSwgc2NhbGVYLCBzY2FsZVksIHJvdGF0aW9uLCBza2V3WCwgc2tld1kpXG4gICAge1xuICAgICAgICB0aGlzLmEgPSBNYXRoLmNvcyhyb3RhdGlvbiArIHNrZXdZKSAqIHNjYWxlWDtcbiAgICAgICAgdGhpcy5iID0gTWF0aC5zaW4ocm90YXRpb24gKyBza2V3WSkgKiBzY2FsZVg7XG4gICAgICAgIHRoaXMuYyA9IC1NYXRoLnNpbihyb3RhdGlvbiAtIHNrZXdYKSAqIHNjYWxlWTtcbiAgICAgICAgdGhpcy5kID0gTWF0aC5jb3Mocm90YXRpb24gLSBza2V3WCkgKiBzY2FsZVk7XG5cbiAgICAgICAgdGhpcy50eCA9IHggLSAoKHBpdm90WCAqIHRoaXMuYSkgKyAocGl2b3RZICogdGhpcy5jKSk7XG4gICAgICAgIHRoaXMudHkgPSB5IC0gKChwaXZvdFggKiB0aGlzLmIpICsgKHBpdm90WSAqIHRoaXMuZCkpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByZXBlbmRzIHRoZSBnaXZlbiBNYXRyaXggdG8gdGhpcyBNYXRyaXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIHByZXBlbmRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBwcmVwZW5kKG1hdHJpeClcbiAgICB7XG4gICAgICAgIGNvbnN0IHR4MSA9IHRoaXMudHg7XG5cbiAgICAgICAgaWYgKG1hdHJpeC5hICE9PSAxIHx8IG1hdHJpeC5iICE9PSAwIHx8IG1hdHJpeC5jICE9PSAwIHx8IG1hdHJpeC5kICE9PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBhMSA9IHRoaXMuYTtcbiAgICAgICAgICAgIGNvbnN0IGMxID0gdGhpcy5jO1xuXG4gICAgICAgICAgICB0aGlzLmEgPSAoYTEgKiBtYXRyaXguYSkgKyAodGhpcy5iICogbWF0cml4LmMpO1xuICAgICAgICAgICAgdGhpcy5iID0gKGExICogbWF0cml4LmIpICsgKHRoaXMuYiAqIG1hdHJpeC5kKTtcbiAgICAgICAgICAgIHRoaXMuYyA9IChjMSAqIG1hdHJpeC5hKSArICh0aGlzLmQgKiBtYXRyaXguYyk7XG4gICAgICAgICAgICB0aGlzLmQgPSAoYzEgKiBtYXRyaXguYikgKyAodGhpcy5kICogbWF0cml4LmQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50eCA9ICh0eDEgKiBtYXRyaXguYSkgKyAodGhpcy50eSAqIG1hdHJpeC5jKSArIG1hdHJpeC50eDtcbiAgICAgICAgdGhpcy50eSA9ICh0eDEgKiBtYXRyaXguYikgKyAodGhpcy50eSAqIG1hdHJpeC5kKSArIG1hdHJpeC50eTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWNvbXBvc2VzIHRoZSBtYXRyaXggKHgsIHksIHNjYWxlWCwgc2NhbGVZLCBhbmQgcm90YXRpb24pIGFuZCBzZXRzIHRoZSBwcm9wZXJ0aWVzIG9uIHRvIGEgdHJhbnNmb3JtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gdHJhbnNmb3JtIC0gVGhlIHRyYW5zZm9ybSB0byBhcHBseSB0aGUgcHJvcGVydGllcyB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRyYW5zZm9ybX0gVGhlIHRyYW5zZm9ybSB3aXRoIHRoZSBuZXdseSBhcHBsaWVkIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBkZWNvbXBvc2UodHJhbnNmb3JtKVxuICAgIHtcbiAgICAgICAgLy8gc29ydCBvdXQgcm90YXRpb24gLyBza2V3Li5cbiAgICAgICAgY29uc3QgYSA9IHRoaXMuYTtcbiAgICAgICAgY29uc3QgYiA9IHRoaXMuYjtcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuYztcbiAgICAgICAgY29uc3QgZCA9IHRoaXMuZDtcblxuICAgICAgICBjb25zdCBza2V3WCA9IC1NYXRoLmF0YW4yKC1jLCBkKTtcbiAgICAgICAgY29uc3Qgc2tld1kgPSBNYXRoLmF0YW4yKGIsIGEpO1xuXG4gICAgICAgIGNvbnN0IGRlbHRhID0gTWF0aC5hYnMoc2tld1ggKyBza2V3WSk7XG5cbiAgICAgICAgaWYgKGRlbHRhIDwgMC4wMDAwMSB8fCBNYXRoLmFicyhQSV8yIC0gZGVsdGEpIDwgMC4wMDAwMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uID0gc2tld1k7XG4gICAgICAgICAgICB0cmFuc2Zvcm0uc2tldy54ID0gdHJhbnNmb3JtLnNrZXcueSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSAwO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueCA9IHNrZXdYO1xuICAgICAgICAgICAgdHJhbnNmb3JtLnNrZXcueSA9IHNrZXdZO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbmV4dCBzZXQgc2NhbGVcbiAgICAgICAgdHJhbnNmb3JtLnNjYWxlLnggPSBNYXRoLnNxcnQoKGEgKiBhKSArIChiICogYikpO1xuICAgICAgICB0cmFuc2Zvcm0uc2NhbGUueSA9IE1hdGguc3FydCgoYyAqIGMpICsgKGQgKiBkKSk7XG5cbiAgICAgICAgLy8gbmV4dCBzZXQgcG9zaXRpb25cbiAgICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uLnggPSB0aGlzLnR4O1xuICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24ueSA9IHRoaXMudHk7XG5cbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZlcnRzIHRoaXMgbWF0cml4XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBpbnZlcnQoKVxuICAgIHtcbiAgICAgICAgY29uc3QgYTEgPSB0aGlzLmE7XG4gICAgICAgIGNvbnN0IGIxID0gdGhpcy5iO1xuICAgICAgICBjb25zdCBjMSA9IHRoaXMuYztcbiAgICAgICAgY29uc3QgZDEgPSB0aGlzLmQ7XG4gICAgICAgIGNvbnN0IHR4MSA9IHRoaXMudHg7XG4gICAgICAgIGNvbnN0IG4gPSAoYTEgKiBkMSkgLSAoYjEgKiBjMSk7XG5cbiAgICAgICAgdGhpcy5hID0gZDEgLyBuO1xuICAgICAgICB0aGlzLmIgPSAtYjEgLyBuO1xuICAgICAgICB0aGlzLmMgPSAtYzEgLyBuO1xuICAgICAgICB0aGlzLmQgPSBhMSAvIG47XG4gICAgICAgIHRoaXMudHggPSAoKGMxICogdGhpcy50eSkgLSAoZDEgKiB0eDEpKSAvIG47XG4gICAgICAgIHRoaXMudHkgPSAtKChhMSAqIHRoaXMudHkpIC0gKGIxICogdHgxKSkgLyBuO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGlzIE1hdHJpeCB0byBhbiBpZGVudGl0eSAoZGVmYXVsdCkgbWF0cml4LlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgaWRlbnRpdHkoKVxuICAgIHtcbiAgICAgICAgdGhpcy5hID0gMTtcbiAgICAgICAgdGhpcy5iID0gMDtcbiAgICAgICAgdGhpcy5jID0gMDtcbiAgICAgICAgdGhpcy5kID0gMTtcbiAgICAgICAgdGhpcy50eCA9IDA7XG4gICAgICAgIHRoaXMudHkgPSAwO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgTWF0cml4IG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBBIGNvcHkgb2YgdGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi9cbiAgICBjbG9uZSgpXG4gICAge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBuZXcgTWF0cml4KCk7XG5cbiAgICAgICAgbWF0cml4LmEgPSB0aGlzLmE7XG4gICAgICAgIG1hdHJpeC5iID0gdGhpcy5iO1xuICAgICAgICBtYXRyaXguYyA9IHRoaXMuYztcbiAgICAgICAgbWF0cml4LmQgPSB0aGlzLmQ7XG4gICAgICAgIG1hdHJpeC50eCA9IHRoaXMudHg7XG4gICAgICAgIG1hdHJpeC50eSA9IHRoaXMudHk7XG5cbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSB2YWx1ZXMgb2YgdGhlIGdpdmVuIG1hdHJpeCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgb25lcyBpbiB0aGlzIG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBjb3B5IHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGUgbWF0cml4IGdpdmVuIGluIHBhcmFtZXRlciB3aXRoIGl0cyB2YWx1ZXMgdXBkYXRlZC5cbiAgICAgKi9cbiAgICBjb3B5VG8obWF0cml4KVxuICAgIHtcbiAgICAgICAgbWF0cml4LmEgPSB0aGlzLmE7XG4gICAgICAgIG1hdHJpeC5iID0gdGhpcy5iO1xuICAgICAgICBtYXRyaXguYyA9IHRoaXMuYztcbiAgICAgICAgbWF0cml4LmQgPSB0aGlzLmQ7XG4gICAgICAgIG1hdHJpeC50eCA9IHRoaXMudHg7XG4gICAgICAgIG1hdHJpeC50eSA9IHRoaXMudHk7XG5cbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSB2YWx1ZXMgb2YgdGhlIG1hdHJpeCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgb25lcyBpbiBnaXZlbiBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gY29weSBmcm9tLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSB0aGlzXG4gICAgICovXG4gICAgY29weUZyb20obWF0cml4KVxuICAgIHtcbiAgICAgICAgdGhpcy5hID0gbWF0cml4LmE7XG4gICAgICAgIHRoaXMuYiA9IG1hdHJpeC5iO1xuICAgICAgICB0aGlzLmMgPSBtYXRyaXguYztcbiAgICAgICAgdGhpcy5kID0gbWF0cml4LmQ7XG4gICAgICAgIHRoaXMudHggPSBtYXRyaXgudHg7XG4gICAgICAgIHRoaXMudHkgPSBtYXRyaXgudHk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBkZWZhdWx0IChpZGVudGl0eSkgbWF0cml4XG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0XG4gICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICovXG4gICAgc3RhdGljIGdldCBJREVOVElUWSgpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgdGVtcCBtYXRyaXhcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IFRFTVBfTUFUUklYKClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgTWF0cml4KCk7XG4gICAgfVxufVxuIiwiLy8gWW91ciBmcmllbmRseSBuZWlnaGJvdXIgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRGloZWRyYWxfZ3JvdXAgb2Ygb3JkZXIgMTZcbmltcG9ydCBNYXRyaXggZnJvbSAnLi9NYXRyaXgnO1xuXG5jb25zdCB1eCA9IFsxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxXTtcbmNvbnN0IHV5ID0gWzAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xLCAtMSwgLTFdO1xuY29uc3QgdnggPSBbMCwgLTEsIC0xLCAtMSwgMCwgMSwgMSwgMSwgMCwgMSwgMSwgMSwgMCwgLTEsIC0xLCAtMV07XG5jb25zdCB2eSA9IFsxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xXTtcbmNvbnN0IHRlbXBNYXRyaWNlcyA9IFtdO1xuXG5jb25zdCBtdWwgPSBbXTtcblxuZnVuY3Rpb24gc2lnbnVtKHgpXG57XG4gICAgaWYgKHggPCAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBpZiAoeCA+IDApXG4gICAge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gMDtcbn1cblxuZnVuY3Rpb24gaW5pdCgpXG57XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKVxuICAgIHtcbiAgICAgICAgY29uc3Qgcm93ID0gW107XG5cbiAgICAgICAgbXVsLnB1c2gocm93KTtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDE2OyBqKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IF91eCA9IHNpZ251bSgodXhbaV0gKiB1eFtqXSkgKyAodnhbaV0gKiB1eVtqXSkpO1xuICAgICAgICAgICAgY29uc3QgX3V5ID0gc2lnbnVtKCh1eVtpXSAqIHV4W2pdKSArICh2eVtpXSAqIHV5W2pdKSk7XG4gICAgICAgICAgICBjb25zdCBfdnggPSBzaWdudW0oKHV4W2ldICogdnhbal0pICsgKHZ4W2ldICogdnlbal0pKTtcbiAgICAgICAgICAgIGNvbnN0IF92eSA9IHNpZ251bSgodXlbaV0gKiB2eFtqXSkgKyAodnlbaV0gKiB2eVtqXSkpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IDE2OyBrKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHV4W2tdID09PSBfdXggJiYgdXlba10gPT09IF91eSAmJiB2eFtrXSA9PT0gX3Z4ICYmIHZ5W2tdID09PSBfdnkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByb3cucHVzaChrKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF0ID0gbmV3IE1hdHJpeCgpO1xuXG4gICAgICAgIG1hdC5zZXQodXhbaV0sIHV5W2ldLCB2eFtpXSwgdnlbaV0sIDAsIDApO1xuICAgICAgICB0ZW1wTWF0cmljZXMucHVzaChtYXQpO1xuICAgIH1cbn1cblxuaW5pdCgpO1xuXG4vKipcbiAqIEltcGxlbWVudHMgRGloZWRyYWwgR3JvdXAgRF84LCBzZWUgW2dyb3VwIEQ0XXtAbGluayBodHRwOi8vbWF0aHdvcmxkLndvbGZyYW0uY29tL0RpaGVkcmFsR3JvdXBENC5odG1sfSxcbiAqIEQ4IGlzIHRoZSBzYW1lIGJ1dCB3aXRoIGRpYWdvbmFscy4gVXNlZCBmb3IgdGV4dHVyZSByb3RhdGlvbnMuXG4gKlxuICogVmVjdG9yIHhYKGkpLCB4WShpKSBpcyBVLWF4aXMgb2Ygc3ByaXRlIHdpdGggcm90YXRpb24gaVxuICogVmVjdG9yIHlZKGkpLCB5WShpKSBpcyBWLWF4aXMgb2Ygc3ByaXRlIHdpdGggcm90YXRpb24gaVxuICogUm90YXRpb25zOiAwIGdyYWQgKDApLCA5MCBncmFkICgyKSwgMTgwIGdyYWQgKDQpLCAyNzAgZ3JhZCAoNilcbiAqIE1pcnJvcnM6IHZlcnRpY2FsICg4KSwgbWFpbiBkaWFnb25hbCAoMTApLCBob3Jpem9udGFsICgxMiksIHJldmVyc2UgZGlhZ29uYWwgKDE0KVxuICogVGhpcyBpcyB0aGUgc21hbGwgcGFydCBvZiBnYW1lb2Zib21icy5jb20gcG9ydGFsIHN5c3RlbS4gSXQgd29ya3MuXG4gKlxuICogQGF1dGhvciBJdmFuIEBpdmFucG9wZWx5c2hldlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5jb25zdCBHcm91cEQ4ID0ge1xuICAgIEU6IDAsXG4gICAgU0U6IDEsXG4gICAgUzogMixcbiAgICBTVzogMyxcbiAgICBXOiA0LFxuICAgIE5XOiA1LFxuICAgIE46IDYsXG4gICAgTkU6IDcsXG4gICAgTUlSUk9SX1ZFUlRJQ0FMOiA4LFxuICAgIE1JUlJPUl9IT1JJWk9OVEFMOiAxMixcbiAgICB1WDogKGluZCkgPT4gdXhbaW5kXSxcbiAgICB1WTogKGluZCkgPT4gdXlbaW5kXSxcbiAgICB2WDogKGluZCkgPT4gdnhbaW5kXSxcbiAgICB2WTogKGluZCkgPT4gdnlbaW5kXSxcbiAgICBpbnY6IChyb3RhdGlvbikgPT5cbiAgICB7XG4gICAgICAgIGlmIChyb3RhdGlvbiAmIDgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiByb3RhdGlvbiAmIDE1O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICgtcm90YXRpb24pICYgNztcbiAgICB9LFxuICAgIGFkZDogKHJvdGF0aW9uU2Vjb25kLCByb3RhdGlvbkZpcnN0KSA9PiBtdWxbcm90YXRpb25TZWNvbmRdW3JvdGF0aW9uRmlyc3RdLFxuICAgIHN1YjogKHJvdGF0aW9uU2Vjb25kLCByb3RhdGlvbkZpcnN0KSA9PiBtdWxbcm90YXRpb25TZWNvbmRdW0dyb3VwRDguaW52KHJvdGF0aW9uRmlyc3QpXSxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgMTgwIGRlZ3JlZXMgdG8gcm90YXRpb24uIENvbW11dGF0aXZlIG9wZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBUaGUgbnVtYmVyIHRvIHJvdGF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSByb3RhdGVkIG51bWJlclxuICAgICAqL1xuICAgIHJvdGF0ZTE4MDogKHJvdGF0aW9uKSA9PiByb3RhdGlvbiBeIDQsXG5cbiAgICAvKipcbiAgICAgKiBEaXJlY3Rpb24gb2YgbWFpbiB2ZWN0b3IgY2FuIGJlIGhvcml6b250YWwsIHZlcnRpY2FsIG9yIGRpYWdvbmFsLlxuICAgICAqIFNvbWUgb2JqZWN0cyB3b3JrIHdpdGggdmVydGljYWwgZGlyZWN0aW9ucyBkaWZmZXJlbnQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIGRpcmVjdGlvbiBpcyB2ZXJ0aWNhbFxuICAgICAqL1xuICAgIGlzVmVydGljYWw6IChyb3RhdGlvbikgPT4gKHJvdGF0aW9uICYgMykgPT09IDIsXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGR4IC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkeSAtIFRPRE9cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVE9ET1xuICAgICAqL1xuICAgIGJ5RGlyZWN0aW9uOiAoZHgsIGR5KSA9PlxuICAgIHtcbiAgICAgICAgaWYgKE1hdGguYWJzKGR4KSAqIDIgPD0gTWF0aC5hYnMoZHkpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZHkgPj0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5TO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5OO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKE1hdGguYWJzKGR5KSAqIDIgPD0gTWF0aC5hYnMoZHgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZHggPiAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBHcm91cEQ4LkU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBHcm91cEQ4Llc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHkgPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZHggPiAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBHcm91cEQ4LlNFO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5TVztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkeCA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBHcm91cEQ4Lk5FO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEdyb3VwRDguTlc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhlbHBzIHNwcml0ZSB0byBjb21wZW5zYXRlIHRleHR1cmUgcGFja2VyIHJvdGF0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFBJWEkuR3JvdXBEOFxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIHNwcml0ZSB3b3JsZCBtYXRyaXhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBUaGUgcm90YXRpb24gZmFjdG9yIHRvIHVzZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHggLSBzcHJpdGUgYW5jaG9yaW5nXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR5IC0gc3ByaXRlIGFuY2hvcmluZ1xuICAgICAqL1xuICAgIG1hdHJpeEFwcGVuZFJvdGF0aW9uSW52OiAobWF0cml4LCByb3RhdGlvbiwgdHggPSAwLCB0eSA9IDApID0+XG4gICAge1xuICAgICAgICAvLyBQYWNrZXIgdXNlZCBcInJvdGF0aW9uXCIsIHdlIHVzZSBcImludihyb3RhdGlvbilcIlxuICAgICAgICBjb25zdCBtYXQgPSB0ZW1wTWF0cmljZXNbR3JvdXBEOC5pbnYocm90YXRpb24pXTtcblxuICAgICAgICBtYXQudHggPSB0eDtcbiAgICAgICAgbWF0LnR5ID0gdHk7XG4gICAgICAgIG1hdHJpeC5hcHBlbmQobWF0KTtcbiAgICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgR3JvdXBEODtcbiIsImltcG9ydCBPYnNlcnZhYmxlUG9pbnQgZnJvbSAnLi9PYnNlcnZhYmxlUG9pbnQnO1xuaW1wb3J0IE1hdHJpeCBmcm9tICcuL01hdHJpeCc7XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoYXQgdGFrZXMgY2FyZSBhYm91dCBpdHMgdmVyc2lvbnNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyYW5zZm9ybVxue1xuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZ2xvYmFsIG1hdHJpeCB0cmFuc2Zvcm0uIEl0IGNhbiBiZSBzd2FwcGVkIHRlbXBvcmFyaWx5IGJ5IHNvbWUgZnVuY3Rpb25zIGxpa2UgZ2V0TG9jYWxCb3VuZHMoKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud29ybGRUcmFuc2Zvcm0gPSBuZXcgTWF0cml4KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsb2NhbCBtYXRyaXggdHJhbnNmb3JtXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sb2NhbFRyYW5zZm9ybSA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIG9iamVjdCByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAwLCAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNjYWxlIGZhY3RvciBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2NhbGUgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KHRoaXMub25DaGFuZ2UsIHRoaXMsIDEsIDEpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGl2b3QgcG9pbnQgb2YgdGhlIGRpc3BsYXlPYmplY3QgdGhhdCBpdCByb3RhdGVzIGFyb3VuZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBpdm90ID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAwLCAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNrZXcgYW1vdW50LCBvbiB0aGUgeCBhbmQgeSBheGlzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2tldyA9IG5ldyBPYnNlcnZhYmxlUG9pbnQodGhpcy51cGRhdGVTa2V3LCB0aGlzLCAwLCAwKTtcblxuICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IDA7XG5cbiAgICAgICAgdGhpcy5fY3ggPSAxOyAvLyBjb3Mgcm90YXRpb24gKyBza2V3WTtcbiAgICAgICAgdGhpcy5fc3ggPSAwOyAvLyBzaW4gcm90YXRpb24gKyBza2V3WTtcbiAgICAgICAgdGhpcy5fY3kgPSAwOyAvLyBjb3Mgcm90YXRpb24gKyBNYXRoLlBJLzIgLSBza2V3WDtcbiAgICAgICAgdGhpcy5fc3kgPSAxOyAvLyBzaW4gcm90YXRpb24gKyBNYXRoLlBJLzIgLSBza2V3WDtcblxuICAgICAgICB0aGlzLl9sb2NhbElEID0gMDtcbiAgICAgICAgdGhpcy5fY3VycmVudExvY2FsSUQgPSAwO1xuXG4gICAgICAgIHRoaXMuX3dvcmxkSUQgPSAwO1xuICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gYSB2YWx1ZSBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbkNoYW5nZSgpXG4gICAge1xuICAgICAgICB0aGlzLl9sb2NhbElEKys7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gc2tldyBvciByb3RhdGlvbiBjaGFuZ2VzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHVwZGF0ZVNrZXcoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fY3ggPSBNYXRoLmNvcyh0aGlzLl9yb3RhdGlvbiArIHRoaXMuc2tldy5feSk7XG4gICAgICAgIHRoaXMuX3N4ID0gTWF0aC5zaW4odGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcuX3kpO1xuICAgICAgICB0aGlzLl9jeSA9IC1NYXRoLnNpbih0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy5feCk7IC8vIGNvcywgYWRkZWQgUEkvMlxuICAgICAgICB0aGlzLl9zeSA9IE1hdGguY29zKHRoaXMuX3JvdGF0aW9uIC0gdGhpcy5za2V3Ll94KTsgLy8gc2luLCBhZGRlZCBQSS8yXG5cbiAgICAgICAgdGhpcy5fbG9jYWxJRCsrO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgb25seSBsb2NhbCBtYXRyaXhcbiAgICAgKi9cbiAgICB1cGRhdGVMb2NhbFRyYW5zZm9ybSgpXG4gICAge1xuICAgICAgICBjb25zdCBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG5cbiAgICAgICAgaWYgKHRoaXMuX2xvY2FsSUQgIT09IHRoaXMuX2N1cnJlbnRMb2NhbElEKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIG1hdHJpeCB2YWx1ZXMgb2YgdGhlIGRpc3BsYXlvYmplY3QgYmFzZWQgb24gaXRzIHRyYW5zZm9ybSBwcm9wZXJ0aWVzLi5cbiAgICAgICAgICAgIGx0LmEgPSB0aGlzLl9jeCAqIHRoaXMuc2NhbGUuX3g7XG4gICAgICAgICAgICBsdC5iID0gdGhpcy5fc3ggKiB0aGlzLnNjYWxlLl94O1xuICAgICAgICAgICAgbHQuYyA9IHRoaXMuX2N5ICogdGhpcy5zY2FsZS5feTtcbiAgICAgICAgICAgIGx0LmQgPSB0aGlzLl9zeSAqIHRoaXMuc2NhbGUuX3k7XG5cbiAgICAgICAgICAgIGx0LnR4ID0gdGhpcy5wb3NpdGlvbi5feCAtICgodGhpcy5waXZvdC5feCAqIGx0LmEpICsgKHRoaXMucGl2b3QuX3kgKiBsdC5jKSk7XG4gICAgICAgICAgICBsdC50eSA9IHRoaXMucG9zaXRpb24uX3kgLSAoKHRoaXMucGl2b3QuX3ggKiBsdC5iKSArICh0aGlzLnBpdm90Ll95ICogbHQuZCkpO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudExvY2FsSUQgPSB0aGlzLl9sb2NhbElEO1xuXG4gICAgICAgICAgICAvLyBmb3JjZSBhbiB1cGRhdGUuLlxuICAgICAgICAgICAgdGhpcy5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHZhbHVlcyBvZiB0aGUgb2JqZWN0IGFuZCBhcHBsaWVzIHRoZSBwYXJlbnQncyB0cmFuc2Zvcm0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSBwYXJlbnRUcmFuc2Zvcm0gLSBUaGUgdHJhbnNmb3JtIG9mIHRoZSBwYXJlbnQgb2YgdGhpcyBvYmplY3RcbiAgICAgKi9cbiAgICB1cGRhdGVUcmFuc2Zvcm0ocGFyZW50VHJhbnNmb3JtKVxuICAgIHtcbiAgICAgICAgY29uc3QgbHQgPSB0aGlzLmxvY2FsVHJhbnNmb3JtO1xuXG4gICAgICAgIGlmICh0aGlzLl9sb2NhbElEICE9PSB0aGlzLl9jdXJyZW50TG9jYWxJRClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZ2V0IHRoZSBtYXRyaXggdmFsdWVzIG9mIHRoZSBkaXNwbGF5b2JqZWN0IGJhc2VkIG9uIGl0cyB0cmFuc2Zvcm0gcHJvcGVydGllcy4uXG4gICAgICAgICAgICBsdC5hID0gdGhpcy5fY3ggKiB0aGlzLnNjYWxlLl94O1xuICAgICAgICAgICAgbHQuYiA9IHRoaXMuX3N4ICogdGhpcy5zY2FsZS5feDtcbiAgICAgICAgICAgIGx0LmMgPSB0aGlzLl9jeSAqIHRoaXMuc2NhbGUuX3k7XG4gICAgICAgICAgICBsdC5kID0gdGhpcy5fc3kgKiB0aGlzLnNjYWxlLl95O1xuXG4gICAgICAgICAgICBsdC50eCA9IHRoaXMucG9zaXRpb24uX3ggLSAoKHRoaXMucGl2b3QuX3ggKiBsdC5hKSArICh0aGlzLnBpdm90Ll95ICogbHQuYykpO1xuICAgICAgICAgICAgbHQudHkgPSB0aGlzLnBvc2l0aW9uLl95IC0gKCh0aGlzLnBpdm90Ll94ICogbHQuYikgKyAodGhpcy5waXZvdC5feSAqIGx0LmQpKTtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRMb2NhbElEID0gdGhpcy5fbG9jYWxJRDtcblxuICAgICAgICAgICAgLy8gZm9yY2UgYW4gdXBkYXRlLi5cbiAgICAgICAgICAgIHRoaXMuX3BhcmVudElEID0gLTE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fcGFyZW50SUQgIT09IHBhcmVudFRyYW5zZm9ybS5fd29ybGRJRClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gY29uY2F0IHRoZSBwYXJlbnQgbWF0cml4IHdpdGggdGhlIG9iamVjdHMgdHJhbnNmb3JtLlxuICAgICAgICAgICAgY29uc3QgcHQgPSBwYXJlbnRUcmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgICAgICBjb25zdCB3dCA9IHRoaXMud29ybGRUcmFuc2Zvcm07XG5cbiAgICAgICAgICAgIHd0LmEgPSAobHQuYSAqIHB0LmEpICsgKGx0LmIgKiBwdC5jKTtcbiAgICAgICAgICAgIHd0LmIgPSAobHQuYSAqIHB0LmIpICsgKGx0LmIgKiBwdC5kKTtcbiAgICAgICAgICAgIHd0LmMgPSAobHQuYyAqIHB0LmEpICsgKGx0LmQgKiBwdC5jKTtcbiAgICAgICAgICAgIHd0LmQgPSAobHQuYyAqIHB0LmIpICsgKGx0LmQgKiBwdC5kKTtcbiAgICAgICAgICAgIHd0LnR4ID0gKGx0LnR4ICogcHQuYSkgKyAobHQudHkgKiBwdC5jKSArIHB0LnR4O1xuICAgICAgICAgICAgd3QudHkgPSAobHQudHggKiBwdC5iKSArIChsdC50eSAqIHB0LmQpICsgcHQudHk7XG5cbiAgICAgICAgICAgIHRoaXMuX3BhcmVudElEID0gcGFyZW50VHJhbnNmb3JtLl93b3JsZElEO1xuXG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGlkIG9mIHRoZSB0cmFuc2Zvcm0uLlxuICAgICAgICAgICAgdGhpcy5fd29ybGRJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVjb21wb3NlcyBhIG1hdHJpeCBhbmQgc2V0cyB0aGUgdHJhbnNmb3JtcyBwcm9wZXJ0aWVzIGJhc2VkIG9uIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBkZWNvbXBvc2VcbiAgICAgKi9cbiAgICBzZXRGcm9tTWF0cml4KG1hdHJpeClcbiAgICB7XG4gICAgICAgIG1hdHJpeC5kZWNvbXBvc2UodGhpcyk7XG4gICAgICAgIHRoaXMuX2xvY2FsSUQrKztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcm90YXRpb24gb2YgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCByb3RhdGlvbigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcm90YXRpb247XG4gICAgfVxuXG4gICAgc2V0IHJvdGF0aW9uKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yb3RhdGlvbiAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JvdGF0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNrZXcoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuVHJhbnNmb3JtLklERU5USVRZID0gbmV3IFRyYW5zZm9ybSgpO1xuIiwiaW1wb3J0IHsgU0hBUEVTIH0gZnJvbSAnLi4vY29uc3QnO1xuXG4vKipcbiAqIFJlY3RhbmdsZSBvYmplY3QgaXMgYW4gYXJlYSBkZWZpbmVkIGJ5IGl0cyBwb3NpdGlvbiwgYXMgaW5kaWNhdGVkIGJ5IGl0cyB0b3AtbGVmdCBjb3JuZXJcbiAqIHBvaW50ICh4LCB5KSBhbmQgYnkgaXRzIHdpZHRoIGFuZCBpdHMgaGVpZ2h0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVjdGFuZ2xlXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgdXBwZXItbGVmdCBjb3JuZXIgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTBdIC0gVGhlIG92ZXJhbGwgd2lkdGggb2YgdGhpcyByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodD0wXSAtIFRoZSBvdmVyYWxsIGhlaWdodCBvZiB0aGlzIHJlY3RhbmdsZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54ID0gTnVtYmVyKHgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueSA9IE51bWJlcih5KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gTnVtYmVyKHdpZHRoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IE51bWJlcihoZWlnaHQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLlJFQ1RcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLlJFQ1Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgbGVmdCBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgbGVmdCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy54O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIHJpZ2h0IGVkZ2Ugb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCByaWdodCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy54ICsgdGhpcy53aWR0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSB0b3AgZWRnZSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHRvcCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy55O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIGJvdHRvbSBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgYm90dG9tKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnkgKyB0aGlzLmhlaWdodDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIGNvbnN0YW50IGVtcHR5IHJlY3RhbmdsZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IEVNUFRZKClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKDAsIDAsIDAsIDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IGEgY29weSBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICovXG4gICAgY2xvbmUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgYW5vdGhlciByZWN0YW5nbGUgdG8gdGhpcyBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGNvcHkgZnJvbS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgY29weUZyb20ocmVjdGFuZ2xlKVxuICAgIHtcbiAgICAgICAgdGhpcy54ID0gcmVjdGFuZ2xlLng7XG4gICAgICAgIHRoaXMueSA9IHJlY3RhbmdsZS55O1xuICAgICAgICB0aGlzLndpZHRoID0gcmVjdGFuZ2xlLndpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHJlY3RhbmdsZS5oZWlnaHQ7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIHRoaXMgcmVjdGFuZ2xlIHRvIGFub3RoZXIgb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBjb3B5IHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBSZXR1cm5zIGdpdmVuIHBhcmFtZXRlci5cbiAgICAgKi9cbiAgICBjb3B5VG8ocmVjdGFuZ2xlKVxuICAgIHtcbiAgICAgICAgcmVjdGFuZ2xlLnggPSB0aGlzLng7XG4gICAgICAgIHJlY3RhbmdsZS55ID0gdGhpcy55O1xuICAgICAgICByZWN0YW5nbGUud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICByZWN0YW5nbGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG5cbiAgICAgICAgcmV0dXJuIHJlY3RhbmdsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIFJlY3RhbmdsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBSZWN0YW5nbGVcbiAgICAgKi9cbiAgICBjb250YWlucyh4LCB5KVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoeCA+PSB0aGlzLnggJiYgeCA8IHRoaXMueCArIHRoaXMud2lkdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh5ID49IHRoaXMueSAmJiB5IDwgdGhpcy55ICsgdGhpcy5oZWlnaHQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFkcyB0aGUgcmVjdGFuZ2xlIG1ha2luZyBpdCBncm93IGluIGFsbCBkaXJlY3Rpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhZGRpbmdYIC0gVGhlIGhvcml6b250YWwgcGFkZGluZyBhbW91bnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhZGRpbmdZIC0gVGhlIHZlcnRpY2FsIHBhZGRpbmcgYW1vdW50LlxuICAgICAqL1xuICAgIHBhZChwYWRkaW5nWCwgcGFkZGluZ1kpXG4gICAge1xuICAgICAgICBwYWRkaW5nWCA9IHBhZGRpbmdYIHx8IDA7XG4gICAgICAgIHBhZGRpbmdZID0gcGFkZGluZ1kgfHwgKChwYWRkaW5nWSAhPT0gMCkgPyBwYWRkaW5nWCA6IDApO1xuXG4gICAgICAgIHRoaXMueCAtPSBwYWRkaW5nWDtcbiAgICAgICAgdGhpcy55IC09IHBhZGRpbmdZO1xuXG4gICAgICAgIHRoaXMud2lkdGggKz0gcGFkZGluZ1ggKiAyO1xuICAgICAgICB0aGlzLmhlaWdodCArPSBwYWRkaW5nWSAqIDI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRml0cyB0aGlzIHJlY3RhbmdsZSBhcm91bmQgdGhlIHBhc3NlZCBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGZpdC5cbiAgICAgKi9cbiAgICBmaXQocmVjdGFuZ2xlKVxuICAgIHtcbiAgICAgICAgY29uc3QgeDEgPSBNYXRoLm1heCh0aGlzLngsIHJlY3RhbmdsZS54KTtcbiAgICAgICAgY29uc3QgeDIgPSBNYXRoLm1pbih0aGlzLnggKyB0aGlzLndpZHRoLCByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCk7XG4gICAgICAgIGNvbnN0IHkxID0gTWF0aC5tYXgodGhpcy55LCByZWN0YW5nbGUueSk7XG4gICAgICAgIGNvbnN0IHkyID0gTWF0aC5taW4odGhpcy55ICsgdGhpcy5oZWlnaHQsIHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLmhlaWdodCk7XG5cbiAgICAgICAgdGhpcy54ID0geDE7XG4gICAgICAgIHRoaXMud2lkdGggPSBNYXRoLm1heCh4MiAtIHgxLCAwKTtcbiAgICAgICAgdGhpcy55ID0geTE7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5tYXgoeTIgLSB5MSwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5sYXJnZXMgcmVjdGFuZ2xlIHRoYXQgd2F5IGl0cyBjb3JuZXJzIGxpZSBvbiBncmlkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gcmVzb2x1dGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZXBzPTAuMDAxXSBwcmVjaXNpb25cbiAgICAgKi9cbiAgICBjZWlsKHJlc29sdXRpb24gPSAxLCBlcHMgPSAwLjAwMSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHgyID0gTWF0aC5jZWlsKCh0aGlzLnggKyB0aGlzLndpZHRoIC0gZXBzKSAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgY29uc3QgeTIgPSBNYXRoLmNlaWwoKHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gZXBzKSAqIHJlc29sdXRpb24pIC8gcmVzb2x1dGlvbjtcblxuICAgICAgICB0aGlzLnggPSBNYXRoLmZsb29yKCh0aGlzLnggKyBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLnkgPSBNYXRoLmZsb29yKCh0aGlzLnkgKyBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMud2lkdGggPSB4MiAtIHRoaXMueDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB5MiAtIHRoaXMueTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmxhcmdlcyB0aGlzIHJlY3RhbmdsZSB0byBpbmNsdWRlIHRoZSBwYXNzZWQgcmVjdGFuZ2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBpbmNsdWRlLlxuICAgICAqL1xuICAgIGVubGFyZ2UocmVjdGFuZ2xlKVxuICAgIHtcbiAgICAgICAgY29uc3QgeDEgPSBNYXRoLm1pbih0aGlzLngsIHJlY3RhbmdsZS54KTtcbiAgICAgICAgY29uc3QgeDIgPSBNYXRoLm1heCh0aGlzLnggKyB0aGlzLndpZHRoLCByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCk7XG4gICAgICAgIGNvbnN0IHkxID0gTWF0aC5taW4odGhpcy55LCByZWN0YW5nbGUueSk7XG4gICAgICAgIGNvbnN0IHkyID0gTWF0aC5tYXgodGhpcy55ICsgdGhpcy5oZWlnaHQsIHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLmhlaWdodCk7XG5cbiAgICAgICAgdGhpcy54ID0geDE7XG4gICAgICAgIHRoaXMud2lkdGggPSB4MiAtIHgxO1xuICAgICAgICB0aGlzLnkgPSB5MTtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB5MiAtIHkxO1xuICAgIH1cbn1cbiIsImltcG9ydCBSZWN0YW5nbGUgZnJvbSAnLi9SZWN0YW5nbGUnO1xuaW1wb3J0IHsgU0hBUEVTIH0gZnJvbSAnLi4vY29uc3QnO1xuXG4vKipcbiAqIFRoZSBDaXJjbGUgb2JqZWN0IGlzIHVzZWQgdG8gaGVscCBkcmF3IGdyYXBoaWNzIGFuZCBjYW4gYWxzbyBiZSB1c2VkIHRvIHNwZWNpZnkgYSBoaXQgYXJlYSBmb3IgZGlzcGxheU9iamVjdHMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaXJjbGVcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JhZGl1cz0wXSAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgcmFkaXVzID0gMClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IHg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0geTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5DSVJDXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFNIQVBFUy5DSVJDO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIENpcmNsZSBpbnN0YW5jZVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5DaXJjbGV9IGEgY29weSBvZiB0aGUgQ2lyY2xlXG4gICAgICovXG4gICAgY2xvbmUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDaXJjbGUodGhpcy54LCB0aGlzLnksIHRoaXMucmFkaXVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIGNpcmNsZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBDaXJjbGVcbiAgICAgKi9cbiAgICBjb250YWlucyh4LCB5KVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucmFkaXVzIDw9IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHIyID0gdGhpcy5yYWRpdXMgKiB0aGlzLnJhZGl1cztcbiAgICAgICAgbGV0IGR4ID0gKHRoaXMueCAtIHgpO1xuICAgICAgICBsZXQgZHkgPSAodGhpcy55IC0geSk7XG5cbiAgICAgICAgZHggKj0gZHg7XG4gICAgICAgIGR5ICo9IGR5O1xuXG4gICAgICAgIHJldHVybiAoZHggKyBkeSA8PSByMik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBSZXR1cm5zIHRoZSBmcmFtaW5nIHJlY3RhbmdsZSBvZiB0aGUgY2lyY2xlIGFzIGEgUmVjdGFuZ2xlIG9iamVjdFxuICAgICpcbiAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSB0aGUgZnJhbWluZyByZWN0YW5nbGVcbiAgICAqL1xuICAgIGdldEJvdW5kcygpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLnggLSB0aGlzLnJhZGl1cywgdGhpcy55IC0gdGhpcy5yYWRpdXMsIHRoaXMucmFkaXVzICogMiwgdGhpcy5yYWRpdXMgKiAyKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgUmVjdGFuZ2xlIGZyb20gJy4vUmVjdGFuZ2xlJztcbmltcG9ydCB7IFNIQVBFUyB9IGZyb20gJy4uL2NvbnN0JztcblxuLyoqXG4gKiBUaGUgRWxsaXBzZSBvYmplY3QgaXMgdXNlZCB0byBoZWxwIGRyYXcgZ3JhcGhpY3MgYW5kIGNhbiBhbHNvIGJlIHVzZWQgdG8gc3BlY2lmeSBhIGhpdCBhcmVhIGZvciBkaXNwbGF5T2JqZWN0cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVsbGlwc2VcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhpcyBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoaXMgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGFsZldpZHRoPTBdIC0gVGhlIGhhbGYgd2lkdGggb2YgdGhpcyBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoYWxmSGVpZ2h0PTBdIC0gVGhlIGhhbGYgaGVpZ2h0IG9mIHRoaXMgZWxsaXBzZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgaGFsZldpZHRoID0gMCwgaGFsZkhlaWdodCA9IDApXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnggPSB4O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueSA9IHk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IGhhbGZXaWR0aDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhhbGZIZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuRUxJUFxuICAgICAgICAgKiBAc2VlIFBJWEkuU0hBUEVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBTSEFQRVMuRUxJUDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBFbGxpcHNlIGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkVsbGlwc2V9IGEgY29weSBvZiB0aGUgZWxsaXBzZVxuICAgICAqL1xuICAgIGNsb25lKClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgRWxsaXBzZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSB4IGFuZCB5IGNvb3JkaW5hdGVzIGdpdmVuIGFyZSBjb250YWluZWQgd2l0aGluIHRoaXMgZWxsaXBzZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkcyBhcmUgd2l0aGluIHRoaXMgZWxsaXBzZVxuICAgICAqL1xuICAgIGNvbnRhaW5zKHgsIHkpXG4gICAge1xuICAgICAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vcm1hbGl6ZSB0aGUgY29vcmRzIHRvIGFuIGVsbGlwc2Ugd2l0aCBjZW50ZXIgMCwwXG4gICAgICAgIGxldCBub3JteCA9ICgoeCAtIHRoaXMueCkgLyB0aGlzLndpZHRoKTtcbiAgICAgICAgbGV0IG5vcm15ID0gKCh5IC0gdGhpcy55KSAvIHRoaXMuaGVpZ2h0KTtcblxuICAgICAgICBub3JteCAqPSBub3JteDtcbiAgICAgICAgbm9ybXkgKj0gbm9ybXk7XG5cbiAgICAgICAgcmV0dXJuIChub3JteCArIG5vcm15IDw9IDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGZyYW1pbmcgcmVjdGFuZ2xlIG9mIHRoZSBlbGxpcHNlIGFzIGEgUmVjdGFuZ2xlIG9iamVjdFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IHRoZSBmcmFtaW5nIHJlY3RhbmdsZVxuICAgICAqL1xuICAgIGdldEJvdW5kcygpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLnggLSB0aGlzLndpZHRoLCB0aGlzLnkgLSB0aGlzLmhlaWdodCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH1cbn1cbiIsImltcG9ydCBQb2ludCBmcm9tICcuLi9Qb2ludCc7XG5pbXBvcnQgeyBTSEFQRVMgfSBmcm9tICcuLi9jb25zdCc7XG5cbi8qKlxuICogQSBjbGFzcyB0byBkZWZpbmUgYSBzaGFwZSB2aWEgdXNlciBkZWZpbmVkIGNvLW9yaW5hdGVzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9seWdvblxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludFtdfG51bWJlcltdfSBwb2ludHMgLSBUaGlzIGNhbiBiZSBhbiBhcnJheSBvZiBQb2ludHNcbiAgICAgKiAgdGhhdCBmb3JtIHRoZSBwb2x5Z29uLCBhIGZsYXQgYXJyYXkgb2YgbnVtYmVycyB0aGF0IHdpbGwgYmUgaW50ZXJwcmV0ZWQgYXMgW3gseSwgeCx5LCAuLi5dLCBvclxuICAgICAqICB0aGUgYXJndW1lbnRzIHBhc3NlZCBjYW4gYmUgYWxsIHRoZSBwb2ludHMgb2YgdGhlIHBvbHlnb24gZS5nLlxuICAgICAqICBgbmV3IFBJWEkuUG9seWdvbihuZXcgUElYSS5Qb2ludCgpLCBuZXcgUElYSS5Qb2ludCgpLCAuLi4pYCwgb3IgdGhlIGFyZ3VtZW50cyBwYXNzZWQgY2FuIGJlIGZsYXRcbiAgICAgKiAgeCx5IHZhbHVlcyBlLmcuIGBuZXcgUG9seWdvbih4LHksIHgseSwgeCx5LCAuLi4pYCB3aGVyZSBgeGAgYW5kIGB5YCBhcmUgTnVtYmVycy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvciguLi5wb2ludHMpXG4gICAge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwb2ludHNbMF0pKVxuICAgICAgICB7XG4gICAgICAgICAgICBwb2ludHMgPSBwb2ludHNbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGlzIGlzIGFuIGFycmF5IG9mIHBvaW50cywgY29udmVydCBpdCB0byBhIGZsYXQgYXJyYXkgb2YgbnVtYmVyc1xuICAgICAgICBpZiAocG9pbnRzWzBdIGluc3RhbmNlb2YgUG9pbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSBbXTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlsID0gcG9pbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcC5wdXNoKHBvaW50c1tpXS54LCBwb2ludHNbaV0ueSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBvaW50cyA9IHA7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gYXJyYXkgb2YgdGhlIHBvaW50cyBvZiB0aGlzIHBvbHlnb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvaW50cyA9IHBvaW50cztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIG9iamVjdCwgbWFpbmx5IHVzZWQgdG8gYXZvaWQgYGluc3RhbmNlb2ZgIGNoZWNrc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5QT0xZXG4gICAgICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFNIQVBFUy5QT0xZO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgZmFsc2VgIGFmdGVyIG1vdmVUbywgYHRydWVgIGFmdGVyIGBjbG9zZVBhdGhgLiBJbiBhbGwgb3RoZXIgY2FzZXMgaXQgaXMgYHRydWVgLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsb3NlU3Ryb2tlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBwb2x5Z29uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvbHlnb259IGEgY29weSBvZiB0aGUgcG9seWdvblxuICAgICAqL1xuICAgIGNsb25lKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHBvbHlnb24gPSBuZXcgUG9seWdvbih0aGlzLnBvaW50cy5zbGljZSgpKTtcblxuICAgICAgICBwb2x5Z29uLmNsb3NlU3Ryb2tlID0gdGhpcy5jbG9zZVN0cm9rZTtcblxuICAgICAgICByZXR1cm4gcG9seWdvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBwYXNzZWQgdG8gdGhpcyBmdW5jdGlvbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIHBvbHlnb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZGluYXRlcyBhcmUgd2l0aGluIHRoaXMgcG9seWdvblxuICAgICAqL1xuICAgIGNvbnRhaW5zKHgsIHkpXG4gICAge1xuICAgICAgICBsZXQgaW5zaWRlID0gZmFsc2U7XG5cbiAgICAgICAgLy8gdXNlIHNvbWUgcmF5Y2FzdGluZyB0byB0ZXN0IGhpdHNcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3N1YnN0YWNrL3BvaW50LWluLXBvbHlnb24vYmxvYi9tYXN0ZXIvaW5kZXguanNcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gdGhpcy5wb2ludHMubGVuZ3RoIC8gMjtcblxuICAgICAgICBmb3IgKGxldCBpID0gMCwgaiA9IGxlbmd0aCAtIDE7IGkgPCBsZW5ndGg7IGogPSBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHhpID0gdGhpcy5wb2ludHNbaSAqIDJdO1xuICAgICAgICAgICAgY29uc3QgeWkgPSB0aGlzLnBvaW50c1soaSAqIDIpICsgMV07XG4gICAgICAgICAgICBjb25zdCB4aiA9IHRoaXMucG9pbnRzW2ogKiAyXTtcbiAgICAgICAgICAgIGNvbnN0IHlqID0gdGhpcy5wb2ludHNbKGogKiAyKSArIDFdO1xuICAgICAgICAgICAgY29uc3QgaW50ZXJzZWN0ID0gKCh5aSA+IHkpICE9PSAoeWogPiB5KSkgJiYgKHggPCAoKHhqIC0geGkpICogKCh5IC0geWkpIC8gKHlqIC0geWkpKSkgKyB4aSk7XG5cbiAgICAgICAgICAgIGlmIChpbnRlcnNlY3QpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5zaWRlID0gIWluc2lkZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnNpZGU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgU0hBUEVTIH0gZnJvbSAnLi4vY29uc3QnO1xuXG4vKipcbiAqIFRoZSBSb3VuZGVkIFJlY3RhbmdsZSBvYmplY3QgaXMgYW4gYXJlYSB0aGF0IGhhcyBuaWNlIHJvdW5kZWQgY29ybmVycywgYXMgaW5kaWNhdGVkIGJ5IGl0c1xuICogdG9wLWxlZnQgY29ybmVyIHBvaW50ICh4LCB5KSBhbmQgYnkgaXRzIHdpZHRoIGFuZCBpdHMgaGVpZ2h0IGFuZCBpdHMgcmFkaXVzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm91bmRlZFJlY3RhbmdsZVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHVwcGVyLWxlZnQgY29ybmVyIG9mIHRoZSByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSBUaGUgb3ZlcmFsbCB3aWR0aCBvZiB0aGlzIHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtoZWlnaHQ9MF0gLSBUaGUgb3ZlcmFsbCBoZWlnaHQgb2YgdGhpcyByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmFkaXVzPTIwXSAtIENvbnRyb2xzIHRoZSByYWRpdXMgb2YgdGhlIHJvdW5kZWQgY29ybmVyc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwLCByYWRpdXMgPSAyMClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueCA9IHg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55ID0geTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMjBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuU0hBUEVTLlJSRUNcbiAgICAgICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gU0hBUEVTLlJSRUM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgUm91bmRlZCBSZWN0YW5nbGVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUm91bmRlZFJlY3RhbmdsZX0gYSBjb3B5IG9mIHRoZSByb3VuZGVkIHJlY3RhbmdsZVxuICAgICAqL1xuICAgIGNsb25lKClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgUm91bmRlZFJlY3RhbmdsZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMucmFkaXVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gICAgICovXG4gICAgY29udGFpbnMoeCwgeSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLndpZHRoIDw9IDAgfHwgdGhpcy5oZWlnaHQgPD0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh4ID49IHRoaXMueCAmJiB4IDw9IHRoaXMueCArIHRoaXMud2lkdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh5ID49IHRoaXMueSAmJiB5IDw9IHRoaXMueSArIHRoaXMuaGVpZ2h0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICgoeSA+PSB0aGlzLnkgKyB0aGlzLnJhZGl1cyAmJiB5IDw9IHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gdGhpcy5yYWRpdXMpXG4gICAgICAgICAgICAgICAgfHwgKHggPj0gdGhpcy54ICsgdGhpcy5yYWRpdXMgJiYgeCA8PSB0aGlzLnggKyB0aGlzLndpZHRoIC0gdGhpcy5yYWRpdXMpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBkeCA9IHggLSAodGhpcy54ICsgdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIGxldCBkeSA9IHkgLSAodGhpcy55ICsgdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhZGl1czIgPSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzO1xuXG4gICAgICAgICAgICAgICAgaWYgKChkeCAqIGR4KSArIChkeSAqIGR5KSA8PSByYWRpdXMyKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLndpZHRoIC0gdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkeSA9IHkgLSAodGhpcy55ICsgdGhpcy5oZWlnaHQgLSB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgaWYgKChkeCAqIGR4KSArIChkeSAqIGR5KSA8PSByYWRpdXMyKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgaWYgKChkeCAqIGR4KSArIChkeSAqIGR5KSA8PSByYWRpdXMyKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKipcbiAqICdCdWlsZGVyJyBwYXR0ZXJuIGZvciBib3VuZHMgcmVjdGFuZ2xlcy5cbiAqXG4gKiBUaGlzIGNvdWxkIGJlIGNhbGxlZCBhbiBBeGlzLUFsaWduZWQgQm91bmRpbmcgQm94LlxuICogSXQgaXMgbm90IGFuIGFjdHVhbCBzaGFwZS4gSXQgaXMgYSBtdXRhYmxlIHRoaW5nOyBubyAnRU1QVFknIG9yIHRob3NlIGtpbmQgb2YgcHJvYmxlbXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCb3VuZHNcbntcbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1pblggPSBJbmZpbml0eTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1pblkgPSBJbmZpbml0eTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heFggPSAtSW5maW5pdHk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhZID0gLUluZmluaXR5O1xuXG4gICAgICAgIHRoaXMucmVjdCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGJvdW5kcyBhcmUgZW1wdHkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGVtcHR5LlxuICAgICAqL1xuICAgIGlzRW1wdHkoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluWCA+IHRoaXMubWF4WCB8fCB0aGlzLm1pblkgPiB0aGlzLm1heFk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBib3VuZHMgYW5kIHJlc2V0cy5cbiAgICAgKlxuICAgICAqL1xuICAgIGNsZWFyKClcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlSUQrKztcblxuICAgICAgICB0aGlzLm1pblggPSBJbmZpbml0eTtcbiAgICAgICAgdGhpcy5taW5ZID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWF4WCA9IC1JbmZpbml0eTtcbiAgICAgICAgdGhpcy5tYXhZID0gLUluZmluaXR5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbiByZXR1cm4gUmVjdGFuZ2xlLkVNUFRZIGNvbnN0YW50LCBlaXRoZXIgY29uc3RydWN0IG5ldyByZWN0YW5nbGUsIGVpdGhlciB1c2UgeW91ciByZWN0YW5nbGVcbiAgICAgKiBJdCBpcyBub3QgZ3VhcmFudGVlZCB0aGF0IGl0IHdpbGwgcmV0dXJuIHRlbXBSZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gdGVtcG9yYXJ5IG9iamVjdCB3aWxsIGJlIHVzZWQgaWYgQUFCQiBpcyBub3QgZW1wdHlcbiAgICAgKiBAcmV0dXJucyB7UElYSS5SZWN0YW5nbGV9IEEgcmVjdGFuZ2xlIG9mIHRoZSBib3VuZHNcbiAgICAgKi9cbiAgICBnZXRSZWN0YW5nbGUocmVjdClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLm1pblggPiB0aGlzLm1heFggfHwgdGhpcy5taW5ZID4gdGhpcy5tYXhZKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gUmVjdGFuZ2xlLkVNUFRZO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVjdCA9IHJlY3QgfHwgbmV3IFJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcblxuICAgICAgICByZWN0LnggPSB0aGlzLm1pblg7XG4gICAgICAgIHJlY3QueSA9IHRoaXMubWluWTtcbiAgICAgICAgcmVjdC53aWR0aCA9IHRoaXMubWF4WCAtIHRoaXMubWluWDtcbiAgICAgICAgcmVjdC5oZWlnaHQgPSB0aGlzLm1heFkgLSB0aGlzLm1pblk7XG5cbiAgICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgaW5saW5lZCB3aGVuIGl0cyBwb3NzaWJsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgLSBUaGUgcG9pbnQgdG8gYWRkLlxuICAgICAqL1xuICAgIGFkZFBvaW50KHBvaW50KVxuICAgIHtcbiAgICAgICAgdGhpcy5taW5YID0gTWF0aC5taW4odGhpcy5taW5YLCBwb2ludC54KTtcbiAgICAgICAgdGhpcy5tYXhYID0gTWF0aC5tYXgodGhpcy5tYXhYLCBwb2ludC54KTtcbiAgICAgICAgdGhpcy5taW5ZID0gTWF0aC5taW4odGhpcy5taW5ZLCBwb2ludC55KTtcbiAgICAgICAgdGhpcy5tYXhZID0gTWF0aC5tYXgodGhpcy5tYXhZLCBwb2ludC55KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcXVhZCwgbm90IHRyYW5zZm9ybWVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdmVydGljZXMgLSBUaGUgdmVydHMgdG8gYWRkLlxuICAgICAqL1xuICAgIGFkZFF1YWQodmVydGljZXMpXG4gICAge1xuICAgICAgICBsZXQgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgbGV0IG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIGxldCBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICBsZXQgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICBsZXQgeCA9IHZlcnRpY2VzWzBdO1xuICAgICAgICBsZXQgeSA9IHZlcnRpY2VzWzFdO1xuXG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgICAgIHggPSB2ZXJ0aWNlc1syXTtcbiAgICAgICAgeSA9IHZlcnRpY2VzWzNdO1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgICAgICB4ID0gdmVydGljZXNbNF07XG4gICAgICAgIHkgPSB2ZXJ0aWNlc1s1XTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgeCA9IHZlcnRpY2VzWzZdO1xuICAgICAgICB5ID0gdmVydGljZXNbN107XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IG1heFk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBzcHJpdGUgZnJhbWUsIHRyYW5zZm9ybWVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gdHJhbnNmb3JtIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MCAtIFRPRE9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTAgLSBUT0RPXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgxIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIFRPRE9cbiAgICAgKi9cbiAgICBhZGRGcmFtZSh0cmFuc2Zvcm0sIHgwLCB5MCwgeDEsIHkxKVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gdHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICBjb25zdCBhID0gbWF0cml4LmE7XG4gICAgICAgIGNvbnN0IGIgPSBtYXRyaXguYjtcbiAgICAgICAgY29uc3QgYyA9IG1hdHJpeC5jO1xuICAgICAgICBjb25zdCBkID0gbWF0cml4LmQ7XG4gICAgICAgIGNvbnN0IHR4ID0gbWF0cml4LnR4O1xuICAgICAgICBjb25zdCB0eSA9IG1hdHJpeC50eTtcblxuICAgICAgICBsZXQgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgbGV0IG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIGxldCBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICBsZXQgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICBsZXQgeCA9IChhICogeDApICsgKGMgKiB5MCkgKyB0eDtcbiAgICAgICAgbGV0IHkgPSAoYiAqIHgwKSArIChkICogeTApICsgdHk7XG5cbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgeCA9IChhICogeDEpICsgKGMgKiB5MCkgKyB0eDtcbiAgICAgICAgeSA9IChiICogeDEpICsgKGQgKiB5MCkgKyB0eTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgeCA9IChhICogeDApICsgKGMgKiB5MSkgKyB0eDtcbiAgICAgICAgeSA9IChiICogeDApICsgKGQgKiB5MSkgKyB0eTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgeCA9IChhICogeDEpICsgKGMgKiB5MSkgKyB0eDtcbiAgICAgICAgeSA9IChiICogeDEpICsgKGQgKiB5MSkgKyB0eTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICAgICAgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHNjcmVlbiB2ZXJ0aWNlcyBmcm9tIGFycmF5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdmVydGV4RGF0YSAtIGNhbGN1bGF0ZWQgdmVydGljZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYmVnaW5PZmZzZXQgLSBiZWdpbiBvZmZzZXRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kT2Zmc2V0IC0gZW5kIG9mZnNldCwgZXhjbHVkZWRcbiAgICAgKi9cbiAgICBhZGRWZXJ0ZXhEYXRhKHZlcnRleERhdGEsIGJlZ2luT2Zmc2V0LCBlbmRPZmZzZXQpXG4gICAge1xuICAgICAgICBsZXQgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgbGV0IG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIGxldCBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICBsZXQgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICBmb3IgKGxldCBpID0gYmVnaW5PZmZzZXQ7IGkgPCBlbmRPZmZzZXQ7IGkgKz0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgeCA9IHZlcnRleERhdGFbaV07XG4gICAgICAgICAgICBjb25zdCB5ID0gdmVydGV4RGF0YVtpICsgMV07XG5cbiAgICAgICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYW4gYXJyYXkgb2YgbWVzaCB2ZXJ0aWNlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gdHJhbnNmb3JtIC0gbWVzaCB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gdmVydGljZXMgLSBtZXNoIGNvb3JkaW5hdGVzIGluIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJlZ2luT2Zmc2V0IC0gYmVnaW4gb2Zmc2V0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZE9mZnNldCAtIGVuZCBvZmZzZXQsIGV4Y2x1ZGVkXG4gICAgICovXG4gICAgYWRkVmVydGljZXModHJhbnNmb3JtLCB2ZXJ0aWNlcywgYmVnaW5PZmZzZXQsIGVuZE9mZnNldClcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IHRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgY29uc3QgYSA9IG1hdHJpeC5hO1xuICAgICAgICBjb25zdCBiID0gbWF0cml4LmI7XG4gICAgICAgIGNvbnN0IGMgPSBtYXRyaXguYztcbiAgICAgICAgY29uc3QgZCA9IG1hdHJpeC5kO1xuICAgICAgICBjb25zdCB0eCA9IG1hdHJpeC50eDtcbiAgICAgICAgY29uc3QgdHkgPSBtYXRyaXgudHk7XG5cbiAgICAgICAgbGV0IG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIGxldCBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICBsZXQgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgbGV0IG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGJlZ2luT2Zmc2V0OyBpIDwgZW5kT2Zmc2V0OyBpICs9IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHJhd1ggPSB2ZXJ0aWNlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHJhd1kgPSB2ZXJ0aWNlc1tpICsgMV07XG4gICAgICAgICAgICBjb25zdCB4ID0gKGEgKiByYXdYKSArIChjICogcmF3WSkgKyB0eDtcbiAgICAgICAgICAgIGNvbnN0IHkgPSAoZCAqIHJhd1kpICsgKGIgKiByYXdYKSArIHR5O1xuXG4gICAgICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubWluWCA9IG1pblg7XG4gICAgICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IG1heFk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBvdGhlciBCb3VuZHNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Cb3VuZHN9IGJvdW5kcyAtIFRPRE9cbiAgICAgKi9cbiAgICBhZGRCb3VuZHMoYm91bmRzKVxuICAgIHtcbiAgICAgICAgY29uc3QgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgY29uc3QgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgY29uc3QgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgY29uc3QgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICB0aGlzLm1pblggPSBib3VuZHMubWluWCA8IG1pblggPyBib3VuZHMubWluWCA6IG1pblg7XG4gICAgICAgIHRoaXMubWluWSA9IGJvdW5kcy5taW5ZIDwgbWluWSA/IGJvdW5kcy5taW5ZIDogbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gYm91bmRzLm1heFggPiBtYXhYID8gYm91bmRzLm1heFggOiBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBib3VuZHMubWF4WSA+IG1heFkgPyBib3VuZHMubWF4WSA6IG1heFk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBvdGhlciBCb3VuZHMsIG1hc2tlZCB3aXRoIEJvdW5kc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJvdW5kc30gYm91bmRzIC0gVE9ET1xuICAgICAqIEBwYXJhbSB7UElYSS5Cb3VuZHN9IG1hc2sgLSBUT0RPXG4gICAgICovXG4gICAgYWRkQm91bmRzTWFzayhib3VuZHMsIG1hc2spXG4gICAge1xuICAgICAgICBjb25zdCBfbWluWCA9IGJvdW5kcy5taW5YID4gbWFzay5taW5YID8gYm91bmRzLm1pblggOiBtYXNrLm1pblg7XG4gICAgICAgIGNvbnN0IF9taW5ZID0gYm91bmRzLm1pblkgPiBtYXNrLm1pblkgPyBib3VuZHMubWluWSA6IG1hc2subWluWTtcbiAgICAgICAgY29uc3QgX21heFggPSBib3VuZHMubWF4WCA8IG1hc2subWF4WCA/IGJvdW5kcy5tYXhYIDogbWFzay5tYXhYO1xuICAgICAgICBjb25zdCBfbWF4WSA9IGJvdW5kcy5tYXhZIDwgbWFzay5tYXhZID8gYm91bmRzLm1heFkgOiBtYXNrLm1heFk7XG5cbiAgICAgICAgaWYgKF9taW5YIDw9IF9tYXhYICYmIF9taW5ZIDw9IF9tYXhZKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICAgICAgY29uc3QgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgICAgIGNvbnN0IG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgICAgICBjb25zdCBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgICAgICAgICB0aGlzLm1pblggPSBfbWluWCA8IG1pblggPyBfbWluWCA6IG1pblg7XG4gICAgICAgICAgICB0aGlzLm1pblkgPSBfbWluWSA8IG1pblkgPyBfbWluWSA6IG1pblk7XG4gICAgICAgICAgICB0aGlzLm1heFggPSBfbWF4WCA+IG1heFggPyBfbWF4WCA6IG1heFg7XG4gICAgICAgICAgICB0aGlzLm1heFkgPSBfbWF4WSA+IG1heFkgPyBfbWF4WSA6IG1heFk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG90aGVyIEJvdW5kcywgbWFza2VkIHdpdGggUmVjdGFuZ2xlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBUT0RPXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gYXJlYSAtIFRPRE9cbiAgICAgKi9cbiAgICBhZGRCb3VuZHNBcmVhKGJvdW5kcywgYXJlYSlcbiAgICB7XG4gICAgICAgIGNvbnN0IF9taW5YID0gYm91bmRzLm1pblggPiBhcmVhLnggPyBib3VuZHMubWluWCA6IGFyZWEueDtcbiAgICAgICAgY29uc3QgX21pblkgPSBib3VuZHMubWluWSA+IGFyZWEueSA/IGJvdW5kcy5taW5ZIDogYXJlYS55O1xuICAgICAgICBjb25zdCBfbWF4WCA9IGJvdW5kcy5tYXhYIDwgYXJlYS54ICsgYXJlYS53aWR0aCA/IGJvdW5kcy5tYXhYIDogKGFyZWEueCArIGFyZWEud2lkdGgpO1xuICAgICAgICBjb25zdCBfbWF4WSA9IGJvdW5kcy5tYXhZIDwgYXJlYS55ICsgYXJlYS5oZWlnaHQgPyBib3VuZHMubWF4WSA6IChhcmVhLnkgKyBhcmVhLmhlaWdodCk7XG5cbiAgICAgICAgaWYgKF9taW5YIDw9IF9tYXhYICYmIF9taW5ZIDw9IF9tYXhZKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICAgICAgY29uc3QgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgICAgIGNvbnN0IG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgICAgICBjb25zdCBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgICAgICAgICB0aGlzLm1pblggPSBfbWluWCA8IG1pblggPyBfbWluWCA6IG1pblg7XG4gICAgICAgICAgICB0aGlzLm1pblkgPSBfbWluWSA8IG1pblkgPyBfbWluWSA6IG1pblk7XG4gICAgICAgICAgICB0aGlzLm1heFggPSBfbWF4WCA+IG1heFggPyBfbWF4WCA6IG1heFg7XG4gICAgICAgICAgICB0aGlzLm1heFkgPSBfbWF4WSA+IG1heFkgPyBfbWF4WSA6IG1heFk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUsIFRyYW5zZm9ybSwgUkFEX1RPX0RFRywgREVHX1RPX1JBRCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IEJvdW5kcyBmcm9tICcuL0JvdW5kcyc7XG4vLyBfdGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBuZXcgRGlzcGxheU9iamVjdCgpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGNsYXNzIGZvciBhbGwgb2JqZWN0cyB0aGF0IGFyZSByZW5kZXJlZCBvbiB0aGUgc2NyZWVuLlxuICpcbiAqIFRoaXMgaXMgYW4gYWJzdHJhY3QgY2xhc3MgYW5kIHNob3VsZCBub3QgYmUgdXNlZCBvbiBpdHMgb3duOyByYXRoZXIgaXQgc2hvdWxkIGJlIGV4dGVuZGVkLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERpc3BsYXlPYmplY3QgZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbntcbiAgICAvKipcbiAgICAgKiBNaXhlcyBhbGwgZW51bWVyYWJsZSBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIGZyb20gYSBzb3VyY2Ugb2JqZWN0IHRvIERpc3BsYXlPYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2YgcHJvcGVydGllcyBhbmQgbWV0aG9kcyB0byBtaXggaW4uXG4gICAgICovXG4gICAgc3RhdGljIG1peGluKHNvdXJjZSlcbiAgICB7XG4gICAgICAgIC8vIGluIEVTOC9FUzIwMTcsIHRoaXMgd291bGQgYmUgcmVhbGx5IGVhc3k6XG4gICAgICAgIC8vIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7XG5cbiAgICAgICAgLy8gZ2V0IGFsbCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBrZXlzXG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuXG4gICAgICAgIC8vIGxvb3AgdGhyb3VnaCBwcm9wZXJ0aWVzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHlOYW1lID0ga2V5c1tpXTtcblxuICAgICAgICAgICAgLy8gU2V0IHRoZSBwcm9wZXJ0eSB1c2luZyB0aGUgcHJvcGVydHkgZGVzY3JpcHRvciAtIHRoaXMgd29ya3MgZm9yIGFjY2Vzc29ycyBhbmQgbm9ybWFsIHZhbHVlIHByb3BlcnRpZXNcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWUsXG4gICAgICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHByb3BlcnR5TmFtZSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBudWxsO1xuXG4gICAgICAgIC8vIFRPRE86IG5lZWQgdG8gY3JlYXRlIFRyYW5zZm9ybSBmcm9tIGZhY3RvcnlcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdvcmxkIHRyYW5zZm9ybSBhbmQgbG9jYWwgdHJhbnNmb3JtIG9mIHRoaXMgb2JqZWN0LlxuICAgICAgICAgKiBUaGlzIHdpbGwgYmVjb21lIHJlYWQtb25seSBsYXRlciwgcGxlYXNlIGRvIG5vdCBhc3NpZ24gYW55dGhpbmcgdGhlcmUgdW5sZXNzIHlvdSBrbm93IHdoYXQgYXJlIHlvdSBkb2luZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UcmFuc2Zvcm19XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9wYWNpdHkgb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbHBoYSA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2aXNpYmlsaXR5IG9mIHRoZSBvYmplY3QuIElmIGZhbHNlIHRoZSBvYmplY3Qgd2lsbCBub3QgYmUgZHJhd24sIGFuZFxuICAgICAgICAgKiB0aGUgdXBkYXRlVHJhbnNmb3JtIGZ1bmN0aW9uIHdpbGwgbm90IGJlIGNhbGxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogT25seSBhZmZlY3RzIHJlY3Vyc2l2ZSBjYWxscyBmcm9tIHBhcmVudC4gWW91IGNhbiBhc2sgZm9yIGJvdW5kcyBvciBjYWxsIHVwZGF0ZVRyYW5zZm9ybSBtYW51YWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbiB0aGlzIG9iamVjdCBiZSByZW5kZXJlZCwgaWYgZmFsc2UgdGhlIG9iamVjdCB3aWxsIG5vdCBiZSBkcmF3biBidXQgdGhlIHVwZGF0ZVRyYW5zZm9ybVxuICAgICAgICAgKiBtZXRob2RzIHdpbGwgc3RpbGwgYmUgY2FsbGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBPbmx5IGFmZmVjdHMgcmVjdXJzaXZlIGNhbGxzIGZyb20gcGFyZW50LiBZb3UgY2FuIGFzayBmb3IgYm91bmRzIG1hbnVhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJhYmxlID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRpc3BsYXkgb2JqZWN0IGNvbnRhaW5lciB0aGF0IGNvbnRhaW5zIHRoaXMgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ29udGFpbmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG11bHRpcGxpZWQgYWxwaGEgb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGljaCBpbmRleCBpbiB0aGUgY2hpbGRyZW4gYXJyYXkgdGhlIGRpc3BsYXkgY29tcG9uZW50IHdhcyBiZWZvcmUgdGhlIHByZXZpb3VzIHpJbmRleCBzb3J0LlxuICAgICAgICAgKiBVc2VkIGJ5IGNvbnRhaW5lcnMgdG8gaGVscCBzb3J0IG9iamVjdHMgd2l0aCB0aGUgc2FtZSB6SW5kZXgsIGJ5IHVzaW5nIHByZXZpb3VzIGFycmF5IGluZGV4IGFzIHRoZSBkZWNpZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xhc3RTb3J0ZWRJbmRleCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB6SW5kZXggb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICAgICAqIEEgaGlnaGVyIHZhbHVlIHdpbGwgbWVhbiBpdCB3aWxsIGJlIHJlbmRlcmVkIG9uIHRvcCBvZiBvdGhlciBkaXNwbGF5T2JqZWN0cyB3aXRoaW4gdGhlIHNhbWUgY29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3pJbmRleCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcmVhIHRoZSBmaWx0ZXIgaXMgYXBwbGllZCB0by4gVGhpcyBpcyB1c2VkIGFzIG1vcmUgb2YgYW4gb3B0aW1pemF0aW9uXG4gICAgICAgICAqIHJhdGhlciB0aGFuIGZpZ3VyaW5nIG91dCB0aGUgZGltZW5zaW9ucyBvZiB0aGUgZGlzcGxheU9iamVjdCBlYWNoIGZyYW1lIHlvdSBjYW4gc2V0IHRoaXMgcmVjdGFuZ2xlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBBbHNvIHdvcmtzIGFzIGFuIGludGVyYWN0aW9uIG1hc2suXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIgez9QSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGZpbHRlcnMgZm9yIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKiAqIElNUE9SVEFOVDogVGhpcyBpcyBhIFdlYkdMIG9ubHkgZmVhdHVyZSBhbmQgd2lsbCBiZSBpZ25vcmVkIGJ5IHRoZSBjYW52YXMgcmVuZGVyZXIuXG4gICAgICAgICAqIFRvIHJlbW92ZSBmaWx0ZXJzIHNpbXBseSBzZXQgdGhpcyBwcm9wZXJ0eSB0byBgJ251bGwnYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7P1BJWEkuRmlsdGVyW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpbHRlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBib3VuZHMgb2JqZWN0LCB0aGlzIGlzIHVzZWQgdG8gY2FsY3VsYXRlIGFuZCBzdG9yZSB0aGUgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJvdW5kc31cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRzID0gbmV3IEJvdW5kcygpO1xuICAgICAgICB0aGlzLl9ib3VuZHNJRCA9IDA7XG4gICAgICAgIHRoaXMuX2xhc3RCb3VuZHNJRCA9IC0xO1xuICAgICAgICB0aGlzLl9ib3VuZHNSZWN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9yaWdpbmFsLCBjYWNoZWQgbWFzayBvZiB0aGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzfFBJWEkuU3ByaXRlfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tYXNrID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGlzIERpc3BsYXlPYmplY3QgaXMgYWRkZWQgdG8gYSBDb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjYWRkZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciBhZGRlZCB0by5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhpcyBEaXNwbGF5T2JqZWN0IGlzIHJlbW92ZWQgZnJvbSBhIENvbnRhaW5lci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyZW1vdmVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgcmVtb3ZlZCBmcm9tLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIG9iamVjdCBoYXMgYmVlbiBkZXN0cm95ZWQgdmlhIGRlc3Ryb3koKS4gSWYgdHJ1ZSwgaXQgc2hvdWxkIG5vdCBiZSB1c2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdXNlZCB0byBmYXN0IGNoZWNrIGlmIGEgc3ByaXRlIGlzLi4gYSBzcHJpdGUhXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzU3ByaXRlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKi9cbiAgICBnZXQgX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID09PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbmV3IERpc3BsYXlPYmplY3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIFRPRE8gLSBPcHRpbWl6YXRpb24gcGFzcyFcbiAgICAgKi9cbiAgICB1cGRhdGVUcmFuc2Zvcm0oKVxuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIC8vIG11bHRpcGx5IHRoZSBhbHBoYXMuLlxuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSB0aGlzLmFscGhhICogdGhpcy5wYXJlbnQud29ybGRBbHBoYTtcblxuICAgICAgICB0aGlzLl9ib3VuZHMudXBkYXRlSUQrKztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSB1cGRhdGVzIHRyYW5zZm9ybSBvZiBhbGwgb2JqZWN0cyBmcm9tIHRoZSByb290IHRvIHRoaXMgb25lXG4gICAgICogaW50ZXJuYWwgZnVuY3Rpb24gZm9yIHRvTG9jYWwoKVxuICAgICAqL1xuICAgIF9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdCBhcyBhIHJlY3RhbmdsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlXSAtIFNldHRpbmcgdG8gYHRydWVgIHdpbGwgc3RvcCB0aGUgdHJhbnNmb3JtcyBvZiB0aGUgc2NlbmUgZ3JhcGggZnJvbVxuICAgICAqICBiZWluZyB1cGRhdGVkLiBUaGlzIG1lYW5zIHRoZSBjYWxjdWxhdGlvbiByZXR1cm5lZCBNQVkgYmUgb3V0IG9mIGRhdGUgQlVUIHdpbGwgZ2l2ZSB5b3UgYVxuICAgICAqICBuaWNlIHBlcmZvcm1hbmNlIGJvb3N0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWN0XSAtIE9wdGlvbmFsIHJlY3RhbmdsZSB0byBzdG9yZSB0aGUgcmVzdWx0IG9mIHRoZSBib3VuZHMgY2FsY3VsYXRpb24uXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhLlxuICAgICAqL1xuICAgIGdldEJvdW5kcyhza2lwVXBkYXRlLCByZWN0KVxuICAgIHtcbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYm91bmRzSUQgIT09IHRoaXMuX2xhc3RCb3VuZHNJRClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcmVjdClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9ib3VuZHNSZWN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kc1JlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9ib3VuZHNSZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5nZXRSZWN0YW5nbGUocmVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QgYXMgYSByZWN0YW5nbGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlY3RdIC0gT3B0aW9uYWwgcmVjdGFuZ2xlIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGJvdW5kcyBjYWxjdWxhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWEuXG4gICAgICovXG4gICAgZ2V0TG9jYWxCb3VuZHMocmVjdClcbiAgICB7XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybVJlZiA9IHRoaXMudHJhbnNmb3JtO1xuICAgICAgICBjb25zdCBwYXJlbnRSZWYgPSB0aGlzLnBhcmVudDtcblxuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQudHJhbnNmb3JtO1xuXG4gICAgICAgIGlmICghcmVjdClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kc1JlY3QpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYm91bmRzID0gdGhpcy5nZXRCb3VuZHMoZmFsc2UsIHJlY3QpO1xuXG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50UmVmO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVJlZjtcblxuICAgICAgICByZXR1cm4gYm91bmRzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGdsb2JhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwb3NpdGlvbiAtIFRoZSB3b3JsZCBvcmlnaW4gdG8gY2FsY3VsYXRlIGZyb20uXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIGNyZWF0ZSBhIG5ldyBQb2ludCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLklQb2ludH0gQSBwb2ludCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBwb3NpdGlvbiBvZiB0aGlzIG9iamVjdC5cbiAgICAgKi9cbiAgICB0b0dsb2JhbChwb3NpdGlvbiwgcG9pbnQsIHNraXBVcGRhdGUgPSBmYWxzZSlcbiAgICB7XG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuXG4gICAgICAgICAgICAvLyB0aGlzIHBhcmVudCBjaGVjayBpcyBmb3IganVzdCBpbiBjYXNlIHRoZSBpdGVtIGlzIGEgcm9vdCBvYmplY3QuXG4gICAgICAgICAgICAvLyBJZiBpdCBpcyB3ZSBuZWVkIHRvIGdpdmUgaXQgYSB0ZW1wb3JhcnkgcGFyZW50IHNvIHRoYXQgZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSB3b3JrcyBjb3JyZWN0bHlcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbWFpbmx5IHRvIGF2b2lkIGEgcGFyZW50IGNoZWNrIGluIHRoZSBtYWluIGxvb3AuIEV2ZXJ5IGxpdHRsZSBoZWxwcyBmb3IgcGVyZm9ybWFuY2UgOilcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkb24ndCBuZWVkIHRvIHVwZGF0ZSB0aGUgbG90XG4gICAgICAgIHJldHVybiB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5KHBvc2l0aW9uLCBwb2ludCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgbG9jYWwgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHJlbGF0aXZlIHRvIGFub3RoZXIgcG9pbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuSVBvaW50fSBwb3NpdGlvbiAtIFRoZSB3b3JsZCBvcmlnaW4gdG8gY2FsY3VsYXRlIGZyb20uXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IFtmcm9tXSAtIFRoZSBEaXNwbGF5T2JqZWN0IHRvIGNhbGN1bGF0ZSB0aGUgZ2xvYmFsIHBvc2l0aW9uIGZyb20uXG4gICAgICogQHBhcmFtIHtQSVhJLklQb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIGNyZWF0ZSBhIG5ldyBQb2ludCkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybVxuICAgICAqIEByZXR1cm4ge1BJWEkuSVBvaW50fSBBIHBvaW50IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoaXMgb2JqZWN0XG4gICAgICovXG4gICAgdG9Mb2NhbChwb3NpdGlvbiwgZnJvbSwgcG9pbnQsIHNraXBVcGRhdGUpXG4gICAge1xuICAgICAgICBpZiAoZnJvbSlcbiAgICAgICAge1xuICAgICAgICAgICAgcG9zaXRpb24gPSBmcm9tLnRvR2xvYmFsKHBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNraXBVcGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcblxuICAgICAgICAgICAgLy8gdGhpcyBwYXJlbnQgY2hlY2sgaXMgZm9yIGp1c3QgaW4gY2FzZSB0aGUgaXRlbSBpcyBhIHJvb3Qgb2JqZWN0LlxuICAgICAgICAgICAgLy8gSWYgaXQgaXMgd2UgbmVlZCB0byBnaXZlIGl0IGEgdGVtcG9yYXJ5IHBhcmVudCBzbyB0aGF0IGRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0gd29ya3MgY29ycmVjdGx5XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG1haW5seSB0byBhdm9pZCBhIHBhcmVudCBjaGVjayBpbiB0aGUgbWFpbiBsb29wLiBFdmVyeSBsaXR0bGUgaGVscHMgZm9yIHBlcmZvcm1hbmNlIDopXG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2ltcGx5IGFwcGx5IHRoZSBtYXRyaXguLlxuICAgICAgICByZXR1cm4gdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9zaXRpb24sIHBvaW50KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlci5cbiAgICAgKi9cbiAgICByZW5kZXIocmVuZGVyZXIpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB7XG4gICAgICAgIC8vIE9WRVJXUklURTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHBhcmVudCBDb250YWluZXIgb2YgdGhpcyBEaXNwbGF5T2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIENvbnRhaW5lciB0byBhZGQgdGhpcyBEaXNwbGF5T2JqZWN0IHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQ29udGFpbmVyfSBUaGUgQ29udGFpbmVyIHRoYXQgdGhpcyBEaXNwbGF5T2JqZWN0IHdhcyBhZGRlZCB0by5cbiAgICAgKi9cbiAgICBzZXRQYXJlbnQoY29udGFpbmVyKVxuICAgIHtcbiAgICAgICAgaWYgKCFjb250YWluZXIgfHwgIWNvbnRhaW5lci5hZGRDaGlsZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZXRQYXJlbnQ6IEFyZ3VtZW50IG11c3QgYmUgYSBDb250YWluZXInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZCh0aGlzKTtcblxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIGZ1bmN0aW9uIHRvIHNldCB0aGUgcG9zaXRpb24sIHNjYWxlLCBza2V3IGFuZCBwaXZvdCBhdCBvbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt4PTBdIC0gVGhlIFggcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBUaGUgWSBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVYPTFdIC0gVGhlIFggc2NhbGUgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlWT0xXSAtIFRoZSBZIHNjYWxlIHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyb3RhdGlvbj0wXSAtIFRoZSByb3RhdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2tld1g9MF0gLSBUaGUgWCBza2V3IHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtza2V3WT0wXSAtIFRoZSBZIHNrZXcgdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bpdm90WD0wXSAtIFRoZSBYIHBpdm90IHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwaXZvdFk9MF0gLSBUaGUgWSBwaXZvdCB2YWx1ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIERpc3BsYXlPYmplY3QgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBzZXRUcmFuc2Zvcm0oeCA9IDAsIHkgPSAwLCBzY2FsZVggPSAxLCBzY2FsZVkgPSAxLCByb3RhdGlvbiA9IDAsIHNrZXdYID0gMCwgc2tld1kgPSAwLCBwaXZvdFggPSAwLCBwaXZvdFkgPSAwKVxuICAgIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi54ID0geDtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0geTtcbiAgICAgICAgdGhpcy5zY2FsZS54ID0gIXNjYWxlWCA/IDEgOiBzY2FsZVg7XG4gICAgICAgIHRoaXMuc2NhbGUueSA9ICFzY2FsZVkgPyAxIDogc2NhbGVZO1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gcm90YXRpb247XG4gICAgICAgIHRoaXMuc2tldy54ID0gc2tld1g7XG4gICAgICAgIHRoaXMuc2tldy55ID0gc2tld1k7XG4gICAgICAgIHRoaXMucGl2b3QueCA9IHBpdm90WDtcbiAgICAgICAgdGhpcy5waXZvdC55ID0gcGl2b3RZO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJhc2UgZGVzdHJveSBtZXRob2QgZm9yIGdlbmVyaWMgZGlzcGxheSBvYmplY3RzLiBUaGlzIHdpbGwgYXV0b21hdGljYWxseVxuICAgICAqIHJlbW92ZSB0aGUgZGlzcGxheSBvYmplY3QgZnJvbSBpdHMgcGFyZW50IENvbnRhaW5lciBhcyB3ZWxsIGFzIHJlbW92ZVxuICAgICAqIGFsbCBjdXJyZW50IGV2ZW50IGxpc3RlbmVycyBhbmQgaW50ZXJuYWwgcmVmZXJlbmNlcy4gRG8gbm90IHVzZSBhIERpc3BsYXlPYmplY3RcbiAgICAgKiBhZnRlciBjYWxsaW5nIGBkZXN0cm95KClgLlxuICAgICAqXG4gICAgICovXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gbnVsbDtcblxuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY3VycmVudEJvdW5kcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX21hc2sgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeCBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAqIEFuIGFsaWFzIHRvIHBvc2l0aW9uLnhcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgeCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi54O1xuICAgIH1cblxuICAgIHNldCB4KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnggPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHkgYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgKiBBbiBhbGlhcyB0byBwb3NpdGlvbi55XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHkoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueTtcbiAgICB9XG5cbiAgICBzZXQgeSh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi55ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCB0cmFuc2Zvcm0gb2YgdGhlIG9iamVjdCBiYXNlZCBvbiB3b3JsZCAocGFyZW50KSBmYWN0b3JzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IHdvcmxkVHJhbnNmb3JtKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IHRyYW5zZm9ybSBvZiB0aGUgb2JqZWN0IGJhc2VkIG9uIGxvY2FsIGZhY3RvcnM6IHBvc2l0aW9uLCBzY2FsZSwgb3RoZXIgc3R1ZmYuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgbG9jYWxUcmFuc2Zvcm0oKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBjb29yZGluYXRlIG9mIHRoZSBvYmplY3QgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5JUG9pbnR9XG4gICAgICovXG4gICAgZ2V0IHBvc2l0aW9uKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICB9XG5cbiAgICBzZXQgcG9zaXRpb24odmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uY29weUZyb20odmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBzY2FsZSBmYWN0b3Igb2YgdGhlIG9iamVjdC5cbiAgICAgKiBBc3NpZ25tZW50IGJ5IHZhbHVlIHNpbmNlIHBpeGktdjQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLklQb2ludH1cbiAgICAgKi9cbiAgICBnZXQgc2NhbGUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnNjYWxlO1xuICAgIH1cblxuICAgIHNldCBzY2FsZSh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5zY2FsZS5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHBpdm90IHBvaW50IG9mIHRoZSBkaXNwbGF5T2JqZWN0IHRoYXQgaXQgcm90YXRlcyBhcm91bmQuXG4gICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5JUG9pbnR9XG4gICAgICovXG4gICAgZ2V0IHBpdm90KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5waXZvdDtcbiAgICB9XG5cbiAgICBzZXQgcGl2b3QodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucGl2b3QuY29weUZyb20odmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBza2V3IGZhY3RvciBmb3IgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAqL1xuICAgIGdldCBza2V3KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5za2V3O1xuICAgIH1cblxuICAgIHNldCBza2V3KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnNrZXcuY29weUZyb20odmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSByb3RhdGlvbiBvZiB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICogJ3JvdGF0aW9uJyBhbmQgJ2FuZ2xlJyBoYXZlIHRoZSBzYW1lIGVmZmVjdCBvbiBhIGRpc3BsYXkgb2JqZWN0OyByb3RhdGlvbiBpcyBpbiByYWRpYW5zLCBhbmdsZSBpcyBpbiBkZWdyZWVzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCByb3RhdGlvbigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ucm90YXRpb247XG4gICAgfVxuXG4gICAgc2V0IHJvdGF0aW9uKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGFuZ2xlIG9mIHRoZSBvYmplY3QgaW4gZGVncmVlcy5cbiAgICAgKiAncm90YXRpb24nIGFuZCAnYW5nbGUnIGhhdmUgdGhlIHNhbWUgZWZmZWN0IG9uIGEgZGlzcGxheSBvYmplY3Q7IHJvdGF0aW9uIGlzIGluIHJhZGlhbnMsIGFuZ2xlIGlzIGluIGRlZ3JlZXMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGFuZ2xlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiAqIFJBRF9UT19ERUc7XG4gICAgfVxuXG4gICAgc2V0IGFuZ2xlKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uID0gdmFsdWUgKiBERUdfVE9fUkFEO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB6SW5kZXggb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICogSWYgYSBjb250YWluZXIgaGFzIHRoZSBzb3J0YWJsZUNoaWxkcmVuIHByb3BlcnR5IHNldCB0byB0cnVlLCBjaGlsZHJlbiB3aWxsIGJlIGF1dG9tYXRpY2FsbHlcbiAgICAgKiBzb3J0ZWQgYnkgekluZGV4IHZhbHVlOyBhIGhpZ2hlciB2YWx1ZSB3aWxsIG1lYW4gaXQgd2lsbCBiZSBtb3ZlZCB0b3dhcmRzIHRoZSBlbmQgb2YgdGhlIGFycmF5LFxuICAgICAqIGFuZCB0aHVzIHJlbmRlcmVkIG9uIHRvcCBvZiBvdGhlciBkaXNwbGF5T2JqZWN0cyB3aXRoaW4gdGhlIHNhbWUgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCB6SW5kZXgoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3pJbmRleDtcbiAgICB9XG5cbiAgICBzZXQgekluZGV4KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3pJbmRleCA9IHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LnNvcnREaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIG9iamVjdCBpcyBnbG9iYWxseSB2aXNpYmxlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgd29ybGRWaXNpYmxlKClcbiAgICB7XG4gICAgICAgIGxldCBpdGVtID0gdGhpcztcblxuICAgICAgICBkb1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWl0ZW0udmlzaWJsZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGl0ZW0gPSBpdGVtLnBhcmVudDtcbiAgICAgICAgfSB3aGlsZSAoaXRlbSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBhIG1hc2sgZm9yIHRoZSBkaXNwbGF5T2JqZWN0LiBBIG1hc2sgaXMgYW4gb2JqZWN0IHRoYXQgbGltaXRzIHRoZSB2aXNpYmlsaXR5IG9mIGFuXG4gICAgICogb2JqZWN0IHRvIHRoZSBzaGFwZSBvZiB0aGUgbWFzayBhcHBsaWVkIHRvIGl0LiBJbiBQaXhpSlMgYSByZWd1bGFyIG1hc2sgbXVzdCBiZSBhXG4gICAgICoge0BsaW5rIFBJWEkuR3JhcGhpY3N9IG9yIGEge0BsaW5rIFBJWEkuU3ByaXRlfSBvYmplY3QuIFRoaXMgYWxsb3dzIGZvciBtdWNoIGZhc3RlciBtYXNraW5nIGluIGNhbnZhcyBhcyBpdFxuICAgICAqIHV0aWxpdGllcyBzaGFwZSBjbGlwcGluZy4gVG8gcmVtb3ZlIGEgbWFzaywgc2V0IHRoaXMgcHJvcGVydHkgdG8gYG51bGxgLlxuICAgICAqXG4gICAgICogRm9yIHNwcml0ZSBtYXNrIGJvdGggYWxwaGEgYW5kIHJlZCBjaGFubmVsIGFyZSB1c2VkLiBCbGFjayBtYXNrIGlzIHRoZSBzYW1lIGFzIHRyYW5zcGFyZW50IG1hc2suXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBncmFwaGljcyA9IG5ldyBQSVhJLkdyYXBoaWNzKCk7XG4gICAgICogZ3JhcGhpY3MuYmVnaW5GaWxsKDB4RkYzMzAwKTtcbiAgICAgKiBncmFwaGljcy5kcmF3UmVjdCg1MCwgMjUwLCAxMDAsIDEwMCk7XG4gICAgICogZ3JhcGhpY3MuZW5kRmlsbCgpO1xuICAgICAqXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5tYXNrID0gZ3JhcGhpY3M7XG4gICAgICogQHRvZG8gQXQgdGhlIG1vbWVudCwgUElYSS5DYW52YXNSZW5kZXJlciBkb2Vzbid0IHN1cHBvcnQgUElYSS5TcHJpdGUgYXMgbWFzay5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3N8UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgZ2V0IG1hc2soKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hc2s7XG4gICAgfVxuXG4gICAgc2V0IG1hc2sodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX21hc2spXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX21hc2sucmVuZGVyYWJsZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9tYXNrLmlzTWFzayA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbWFzayA9IHZhbHVlO1xuXG4gICAgICAgIGlmICh0aGlzLl9tYXNrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9tYXNrLnJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX21hc2suaXNNYXNrID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gcGVyZm9ybWFuY2UgaW5jcmVhc2UgdG8gYXZvaWQgdXNpbmcgY2FsbC4uICgxMHggZmFzdGVyKVxuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSA9IERpc3BsYXlPYmplY3QucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybTtcbiIsImltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgcmVtb3ZlSXRlbXMgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgRGlzcGxheU9iamVjdCBmcm9tICcuL0Rpc3BsYXlPYmplY3QnO1xuXG5mdW5jdGlvbiBzb3J0Q2hpbGRyZW4oYSwgYilcbntcbiAgICBpZiAoYS56SW5kZXggPT09IGIuekluZGV4KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGEuX2xhc3RTb3J0ZWRJbmRleCAtIGIuX2xhc3RTb3J0ZWRJbmRleDtcbiAgICB9XG5cbiAgICByZXR1cm4gYS56SW5kZXggLSBiLnpJbmRleDtcbn1cblxuLyoqXG4gKiBBIENvbnRhaW5lciByZXByZXNlbnRzIGEgY29sbGVjdGlvbiBvZiBkaXNwbGF5IG9iamVjdHMuXG4gKlxuICogSXQgaXMgdGhlIGJhc2UgY2xhc3Mgb2YgYWxsIGRpc3BsYXkgb2JqZWN0cyB0aGF0IGFjdCBhcyBhIGNvbnRhaW5lciBmb3Igb3RoZXIgb2JqZWN0cyAobGlrZSBTcHJpdGVzKS5cbiAqXG4gKmBgYGpzXG4gKiBsZXQgY29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gKiBjb250YWluZXIuYWRkQ2hpbGQoc3ByaXRlKTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5EaXNwbGF5T2JqZWN0XG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb250YWluZXIgZXh0ZW5kcyBEaXNwbGF5T2JqZWN0XG57XG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFycmF5IG9mIGNoaWxkcmVuIG9mIHRoaXMgY29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3RbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHNldCB0byB0cnVlLCB0aGUgY29udGFpbmVyIHdpbGwgc29ydCBpdHMgY2hpbGRyZW4gYnkgekluZGV4IHZhbHVlXG4gICAgICAgICAqIHdoZW4gdXBkYXRlVHJhbnNmb3JtKCkgaXMgY2FsbGVkLCBvciBtYW51YWxseSBpZiBzb3J0Q2hpbGRyZW4oKSBpcyBjYWxsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgYWN0dWFsbHkgY2hhbmdlcyB0aGUgb3JkZXIgb2YgZWxlbWVudHMgaW4gdGhlIGFycmF5LCBzbyBzaG91bGQgYmUgdHJlYXRlZFxuICAgICAgICAgKiBhcyBhIGJhc2ljIHNvbHV0aW9uIHRoYXQgaXMgbm90IHBlcmZvcm1hbnQgY29tcGFyZWQgdG8gb3RoZXIgc29sdXRpb25zLFxuICAgICAgICAgKiBzdWNoIGFzIEBsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS1kaXNwbGF5XG4gICAgICAgICAqXG4gICAgICAgICAqIEFsc28gYmUgYXdhcmUgb2YgdGhhdCB0aGlzIG1heSBub3Qgd29yayBuaWNlbHkgd2l0aCB0aGUgYWRkQ2hpbGRBdCgpIGZ1bmN0aW9uLFxuICAgICAgICAgKiBhcyB0aGUgekluZGV4IHNvcnRpbmcgbWF5IGNhdXNlIHRoZSBjaGlsZCB0byBhdXRvbWF0aWNhbGx5IHNvcnRlZCB0byBhbm90aGVyIHBvc2l0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuU09SVEFCTEVfQ0hJTERSRU5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc29ydGFibGVDaGlsZHJlbiA9IHNldHRpbmdzLlNPUlRBQkxFX0NISUxEUkVOO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG91bGQgY2hpbGRyZW4gYmUgc29ydGVkIGJ5IHpJbmRleCBhdCB0aGUgbmV4dCB1cGRhdGVUcmFuc2Zvcm0gY2FsbC5cbiAgICAgICAgICogV2lsbCBnZXQgYXV0b21hdGljYWxseSBzZXQgdG8gdHJ1ZSBpZiBhIG5ldyBjaGlsZCBpcyBhZGRlZCwgb3IgaWYgYSBjaGlsZCdzIHpJbmRleCBjaGFuZ2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zb3J0RGlydHkgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIERpc3BsYXlPYmplY3QgaXMgYWRkZWQgdG8gdGhpcyBDb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkNvbnRhaW5lciNjaGlsZEFkZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCBhZGRlZCB0byB0aGUgQ29udGFpbmVyLlxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRoYXQgYWRkZWQgdGhlIGNoaWxkLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgY2hpbGRyZW4ncyBpbmRleCBvZiB0aGUgYWRkZWQgY2hpbGQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgRGlzcGxheU9iamVjdCBpcyByZW1vdmVkIGZyb20gdGhpcyBDb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmVtb3ZlZEZyb21cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIGNoaWxkIHJlbW92ZWQgZnJvbSB0aGUgQ29udGFpbmVyLlxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRoYXQgcmVtb3ZlZCByZW1vdmVkIHRoZSBjaGlsZC5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGZvcm1lciBjaGlsZHJlbidzIGluZGV4IG9mIHRoZSByZW1vdmVkIGNoaWxkXG4gICAgICAgICAqL1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRhYmxlIG1ldGhvZCB0aGF0IGNhbiBiZSB1c2VkIGJ5IENvbnRhaW5lciBzdWJjbGFzc2VzIHdoZW5ldmVyIHRoZSBjaGlsZHJlbiBhcnJheSBpcyBtb2RpZmllZFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIG9uQ2hpbGRyZW5DaGFuZ2UoKVxuICAgIHtcbiAgICAgICAgLyogZW1wdHkgKi9cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG9uZSBvciBtb3JlIGNoaWxkcmVuIHRvIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBNdWx0aXBsZSBpdGVtcyBjYW4gYmUgYWRkZWQgbGlrZSBzbzogYG15Q29udGFpbmVyLmFkZENoaWxkKHRoaW5nT25lLCB0aGluZ1R3bywgdGhpbmdUaHJlZSlgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gey4uLlBJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgRGlzcGxheU9iamVjdChzKSB0byBhZGQgdG8gdGhlIGNvbnRhaW5lclxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGZpcnN0IGNoaWxkIHRoYXQgd2FzIGFkZGVkLlxuICAgICAqL1xuICAgIGFkZENoaWxkKGNoaWxkKVxuICAgIHtcbiAgICAgICAgY29uc3QgYXJndW1lbnRzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhcmd1bWVudCB3ZSBjYW4gYnlwYXNzIGxvb3BpbmcgdGhyb3VnaCB0aGUgdGhlbVxuICAgICAgICBpZiAoYXJndW1lbnRzTGVuZ3RoID4gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhcmd1bWVudHMgcHJvcGVydHkgYW5kIGFkZCBhbGwgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIHVzZSBpdCB0aGUgcmlnaHQgd2F5ICgubGVuZ3RoIGFuZCBbaV0pIHNvIHRoYXQgdGhpcyBmdW5jdGlvbiBjYW4gc3RpbGwgYmUgb3B0aW1pemVkIGJ5IEpTIHJ1bnRpbWVzXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50c0xlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoYXJndW1lbnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSBjaGlsZCBoYXMgYSBwYXJlbnQgdGhlbiBsZXRzIHJlbW92ZSBpdCBhcyBQaXhpSlMgb2JqZWN0cyBjYW4gb25seSBleGlzdCBpbiBvbmUgcGxhY2VcbiAgICAgICAgICAgIGlmIChjaGlsZC5wYXJlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMuc29ydERpcnR5ID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuXG4gICAgICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UodGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hpbGRBZGRlZCcsIGNoaWxkLCB0aGlzLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgY2hpbGQuZW1pdCgnYWRkZWQnLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgY2hpbGQgdG8gdGhlIGNvbnRhaW5lciBhdCBhIHNwZWNpZmllZCBpbmRleC4gSWYgdGhlIGluZGV4IGlzIG91dCBvZiBib3VuZHMgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCB0byBhZGRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gcGxhY2UgdGhlIGNoaWxkIGluXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgdGhhdCB3YXMgYWRkZWQuXG4gICAgICovXG4gICAgYWRkQ2hpbGRBdChjaGlsZCwgaW5kZXgpXG4gICAge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gdGhpcy5jaGlsZHJlbi5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtjaGlsZH1hZGRDaGlsZEF0OiBUaGUgaW5kZXggJHtpbmRleH0gc3VwcGxpZWQgaXMgb3V0IG9mIGJvdW5kcyAke3RoaXMuY2hpbGRyZW4ubGVuZ3RofWApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoaWxkLnBhcmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XG4gICAgICAgIHRoaXMuc29ydERpcnR5ID0gdHJ1ZTtcblxuICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcblxuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgY2hpbGQpO1xuXG4gICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcblxuICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICAgIGNoaWxkLmVtaXQoJ2FkZGVkJywgdGhpcyk7XG4gICAgICAgIHRoaXMuZW1pdCgnY2hpbGRBZGRlZCcsIGNoaWxkLCB0aGlzLCBpbmRleCk7XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN3YXBzIHRoZSBwb3NpdGlvbiBvZiAyIERpc3BsYXkgT2JqZWN0cyB3aXRoaW4gdGhpcyBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBGaXJzdCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkMiAtIFNlY29uZCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICovXG4gICAgc3dhcENoaWxkcmVuKGNoaWxkLCBjaGlsZDIpXG4gICAge1xuICAgICAgICBpZiAoY2hpbGQgPT09IGNoaWxkMilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW5kZXgxID0gdGhpcy5nZXRDaGlsZEluZGV4KGNoaWxkKTtcbiAgICAgICAgY29uc3QgaW5kZXgyID0gdGhpcy5nZXRDaGlsZEluZGV4KGNoaWxkMik7XG5cbiAgICAgICAgdGhpcy5jaGlsZHJlbltpbmRleDFdID0gY2hpbGQyO1xuICAgICAgICB0aGlzLmNoaWxkcmVuW2luZGV4Ml0gPSBjaGlsZDtcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4MSA8IGluZGV4MiA/IGluZGV4MSA6IGluZGV4Mik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaW5kZXggcG9zaXRpb24gb2YgYSBjaGlsZCBEaXNwbGF5T2JqZWN0IGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgRGlzcGxheU9iamVjdCBpbnN0YW5jZSB0byBpZGVudGlmeVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IHBvc2l0aW9uIG9mIHRoZSBjaGlsZCBkaXNwbGF5IG9iamVjdCB0byBpZGVudGlmeVxuICAgICAqL1xuICAgIGdldENoaWxkSW5kZXgoY2hpbGQpXG4gICAge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCk7XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc3VwcGxpZWQgRGlzcGxheU9iamVjdCBtdXN0IGJlIGEgY2hpbGQgb2YgdGhlIGNhbGxlcicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHBvc2l0aW9uIG9mIGFuIGV4aXN0aW5nIGNoaWxkIGluIHRoZSBkaXNwbGF5IG9iamVjdCBjb250YWluZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCBEaXNwbGF5T2JqZWN0IGluc3RhbmNlIGZvciB3aGljaCB5b3Ugd2FudCB0byBjaGFuZ2UgdGhlIGluZGV4IG51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSByZXN1bHRpbmcgaW5kZXggbnVtYmVyIGZvciB0aGUgY2hpbGQgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBzZXRDaGlsZEluZGV4KGNoaWxkLCBpbmRleClcbiAgICB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5jaGlsZHJlbi5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIGluZGV4ICR7aW5kZXh9IHN1cHBsaWVkIGlzIG91dCBvZiBib3VuZHMgJHt0aGlzLmNoaWxkcmVuLmxlbmd0aH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG5cbiAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgY3VycmVudEluZGV4LCAxKTsgLy8gcmVtb3ZlIGZyb20gb2xkIHBvc2l0aW9uXG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7IC8vIGFkZCBhdCBuZXcgcG9zaXRpb25cblxuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNoaWxkIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBpbmRleCB0byBnZXQgdGhlIGNoaWxkIGF0XG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgYXQgdGhlIGdpdmVuIGluZGV4LCBpZiBhbnkuXG4gICAgICovXG4gICAgZ2V0Q2hpbGRBdChpbmRleClcbiAgICB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5jaGlsZHJlbi5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgZ2V0Q2hpbGRBdDogSW5kZXggKCR7aW5kZXh9KSBkb2VzIG5vdCBleGlzdC5gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2luZGV4XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIG9uZSBvciBtb3JlIGNoaWxkcmVuIGZyb20gdGhlIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Li4uUElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBEaXNwbGF5T2JqZWN0KHMpIHRvIHJlbW92ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGZpcnN0IGNoaWxkIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG4gICAgcmVtb3ZlQ2hpbGQoY2hpbGQpXG4gICAge1xuICAgICAgICBjb25zdCBhcmd1bWVudHNMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIG9ubHkgb25lIGFyZ3VtZW50IHdlIGNhbiBieXBhc3MgbG9vcGluZyB0aHJvdWdoIHRoZSB0aGVtXG4gICAgICAgIGlmIChhcmd1bWVudHNMZW5ndGggPiAxKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBsb29wIHRocm91Z2ggdGhlIGFyZ3VtZW50cyBwcm9wZXJ0eSBhbmQgYWRkIGFsbCBjaGlsZHJlblxuICAgICAgICAgICAgLy8gdXNlIGl0IHRoZSByaWdodCB3YXkgKC5sZW5ndGggYW5kIFtpXSkgc28gdGhhdCB0aGlzIGZ1bmN0aW9uIGNhbiBzdGlsbCBiZSBvcHRpbWl6ZWQgYnkgSlMgcnVudGltZXNcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJndW1lbnRzTGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChhcmd1bWVudHNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpO1xuXG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm4gbnVsbDtcblxuICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGluZGV4LCAxKTtcblxuICAgICAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcblxuICAgICAgICAgICAgLy8gVE9ETyAtIGxldHMgZWl0aGVyIGRvIGFsbCBjYWxsYmFja3Mgb3IgYWxsIGV2ZW50cy4uIG5vdCBib3RoIVxuICAgICAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgICAgIGNoaWxkLmVtaXQoJ3JlbW92ZWQnLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hpbGRSZW1vdmVkJywgY2hpbGQsIHRoaXMsIGluZGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgY2hpbGQgZnJvbSB0aGUgc3BlY2lmaWVkIGluZGV4IHBvc2l0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIGdldCB0aGUgY2hpbGQgZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG4gICAgcmVtb3ZlQ2hpbGRBdChpbmRleClcbiAgICB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5nZXRDaGlsZEF0KGluZGV4KTtcblxuICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkLi5cbiAgICAgICAgY2hpbGQucGFyZW50ID0gbnVsbDtcbiAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICByZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpbmRleCwgMSk7XG5cbiAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgY2hpbGQuZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICB0aGlzLmVtaXQoJ2NoaWxkUmVtb3ZlZCcsIGNoaWxkLCB0aGlzLCBpbmRleCk7XG5cbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGNoaWxkcmVuIGZyb20gdGhpcyBjb250YWluZXIgdGhhdCBhcmUgd2l0aGluIHRoZSBiZWdpbiBhbmQgZW5kIGluZGV4ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2JlZ2luSW5kZXg9MF0gLSBUaGUgYmVnaW5uaW5nIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kSW5kZXg9dGhpcy5jaGlsZHJlbi5sZW5ndGhdIC0gVGhlIGVuZGluZyBwb3NpdGlvbi4gRGVmYXVsdCB2YWx1ZSBpcyBzaXplIG9mIHRoZSBjb250YWluZXIuXG4gICAgICogQHJldHVybnMge1BJWEkuRGlzcGxheU9iamVjdFtdfSBMaXN0IG9mIHJlbW92ZWQgY2hpbGRyZW5cbiAgICAgKi9cbiAgICByZW1vdmVDaGlsZHJlbihiZWdpbkluZGV4ID0gMCwgZW5kSW5kZXgpXG4gICAge1xuICAgICAgICBjb25zdCBiZWdpbiA9IGJlZ2luSW5kZXg7XG4gICAgICAgIGNvbnN0IGVuZCA9IHR5cGVvZiBlbmRJbmRleCA9PT0gJ251bWJlcicgPyBlbmRJbmRleCA6IHRoaXMuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICBjb25zdCByYW5nZSA9IGVuZCAtIGJlZ2luO1xuICAgICAgICBsZXQgcmVtb3ZlZDtcblxuICAgICAgICBpZiAocmFuZ2UgPiAwICYmIHJhbmdlIDw9IGVuZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmVtb3ZlZCA9IHRoaXMuY2hpbGRyZW4uc3BsaWNlKGJlZ2luLCByYW5nZSk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVtb3ZlZC5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZW1vdmVkW2ldLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHJlbW92ZWRbaV0udHJhbnNmb3JtKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZFtpXS50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoYmVnaW5JbmRleCk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVtb3ZlZC5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZW1vdmVkW2ldLmVtaXQoJ3JlbW92ZWQnLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2NoaWxkUmVtb3ZlZCcsIHJlbW92ZWRbaV0sIHRoaXMsIGkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVtb3ZlZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyYW5nZSA9PT0gMCAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3JlbW92ZUNoaWxkcmVuOiBudW1lcmljIHZhbHVlcyBhcmUgb3V0c2lkZSB0aGUgYWNjZXB0YWJsZSByYW5nZS4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTb3J0cyBjaGlsZHJlbiBieSB6SW5kZXguIFByZXZpb3VzIG9yZGVyIGlzIG1hbnRhaW5lZCBmb3IgMiBjaGlsZHJlbiB3aXRoIHRoZSBzYW1lIHpJbmRleC5cbiAgICAgKi9cbiAgICBzb3J0Q2hpbGRyZW4oKVxuICAgIHtcbiAgICAgICAgbGV0IHNvcnRSZXF1aXJlZCA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgY2hpbGQuX2xhc3RTb3J0ZWRJbmRleCA9IGk7XG5cbiAgICAgICAgICAgIGlmICghc29ydFJlcXVpcmVkICYmIGNoaWxkLnpJbmRleCAhPT0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3J0UmVxdWlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNvcnRSZXF1aXJlZCAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA+IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uc29ydChzb3J0Q2hpbGRyZW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zb3J0RGlydHkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB0cmFuc2Zvcm0gb24gYWxsIGNoaWxkcmVuIG9mIHRoaXMgY29udGFpbmVyIGZvciByZW5kZXJpbmdcbiAgICAgKi9cbiAgICB1cGRhdGVUcmFuc2Zvcm0oKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuc29ydGFibGVDaGlsZHJlbiAmJiB0aGlzLnNvcnREaXJ0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zb3J0Q2hpbGRyZW4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG5cbiAgICAgICAgLy8gVE9ETzogY2hlY2sgcmVuZGVyIGZsYWdzLCBob3cgdG8gcHJvY2VzcyBzdHVmZiBoZXJlXG4gICAgICAgIHRoaXMud29ybGRBbHBoYSA9IHRoaXMuYWxwaGEgKiB0aGlzLnBhcmVudC53b3JsZEFscGhhO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgaWYgKGNoaWxkLnZpc2libGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWNhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgY29udGFpbmVyLlxuICAgICAqXG4gICAgICovXG4gICAgY2FsY3VsYXRlQm91bmRzKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2JvdW5kcy5jbGVhcigpO1xuXG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kcygpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICBpZiAoIWNoaWxkLnZpc2libGUgfHwgIWNoaWxkLnJlbmRlcmFibGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoaWxkLmNhbGN1bGF0ZUJvdW5kcygpO1xuXG4gICAgICAgICAgICAvLyBUT0RPOiBmaWx0ZXIrbWFzaywgbmVlZCB0byBtYXNrIGJvdGggc29tZWhvd1xuICAgICAgICAgICAgaWYgKGNoaWxkLl9tYXNrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNoaWxkLl9tYXNrLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRCb3VuZHNNYXNrKGNoaWxkLl9ib3VuZHMsIGNoaWxkLl9tYXNrLl9ib3VuZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hpbGQuZmlsdGVyQXJlYSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzQXJlYShjaGlsZC5fYm91bmRzLCBjaGlsZC5maWx0ZXJBcmVhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzKGNoaWxkLl9ib3VuZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbGFzdEJvdW5kc0lEID0gdGhpcy5fYm91bmRzSUQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIG9iamVjdC4gT3ZlcnJpZGUgdGhpcyB0b1xuICAgICAqIGNhbGN1bGF0ZSB0aGUgYm91bmRzIG9mIHRoZSBzcGVjaWZpYyBvYmplY3QgKG5vdCBpbmNsdWRpbmcgY2hpbGRyZW4pLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9jYWxjdWxhdGVCb3VuZHMoKVxuICAgIHtcbiAgICAgICAgLy8gRklMTCBJTi8vXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIHJlbmRlcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIC8vIGlmIHRoZSBvYmplY3QgaXMgbm90IHZpc2libGUgb3IgdGhlIGFscGhhIGlzIDAgdGhlbiBubyBuZWVkIHRvIHJlbmRlciB0aGlzIGVsZW1lbnRcbiAgICAgICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZG8gYSBxdWljayBjaGVjayB0byBzZWUgaWYgdGhpcyBlbGVtZW50IGhhcyBhIG1hc2sgb3IgYSBmaWx0ZXIuXG4gICAgICAgIGlmICh0aGlzLl9tYXNrIHx8IHRoaXMuZmlsdGVycylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJBZHZhbmNlZChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXIocmVuZGVyZXIpO1xuXG4gICAgICAgICAgICAvLyBzaW1wbGUgcmVuZGVyIGNoaWxkcmVuIVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldLnJlbmRlcihyZW5kZXJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXIgYW5kIGFkdmFuY2VkIGZlYXR1cmVzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICByZW5kZXJBZHZhbmNlZChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG5cbiAgICAgICAgY29uc3QgZmlsdGVycyA9IHRoaXMuZmlsdGVycztcbiAgICAgICAgY29uc3QgbWFzayA9IHRoaXMuX21hc2s7XG5cbiAgICAgICAgLy8gcHVzaCBmaWx0ZXIgZmlyc3QgYXMgd2UgbmVlZCB0byBlbnN1cmUgdGhlIHN0ZW5jaWwgYnVmZmVyIGlzIGNvcnJlY3QgZm9yIGFueSBtYXNraW5nXG4gICAgICAgIGlmIChmaWx0ZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2VuYWJsZWRGaWx0ZXJzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzID0gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyc1tpXS5lbmFibGVkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMucHVzaChmaWx0ZXJzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9lbmFibGVkRmlsdGVycy5sZW5ndGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuZmlsdGVyLnB1c2godGhpcywgdGhpcy5fZW5hYmxlZEZpbHRlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1hc2spXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLm1hc2sucHVzaCh0aGlzLCB0aGlzLl9tYXNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCB0aGlzIG9iamVjdCB0byB0aGUgYmF0Y2gsIG9ubHkgcmVuZGVyZWQgaWYgaXQgaGFzIGEgdGV4dHVyZS5cbiAgICAgICAgdGhpcy5fcmVuZGVyKHJlbmRlcmVyKTtcblxuICAgICAgICAvLyBub3cgbG9vcCB0aHJvdWdoIHRoZSBjaGlsZHJlbiBhbmQgbWFrZSBzdXJlIHRoZXkgZ2V0IHJlbmRlcmVkXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0ucmVuZGVyKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG5cbiAgICAgICAgaWYgKG1hc2spXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLm1hc2sucG9wKHRoaXMsIHRoaXMuX21hc2spO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJlci5maWx0ZXIucG9wKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUbyBiZSBvdmVycmlkZGVuIGJ5IHRoZSBzdWJjbGFzc2VzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBfcmVuZGVyKHJlbmRlcmVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge1xuICAgICAgICAvLyB0aGlzIGlzIHdoZXJlIGNvbnRlbnQgaXRzZWxmIGdldHMgcmVuZGVyZWQuLi5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBpbnRlcm5hbCByZWZlcmVuY2VzIGFuZCBsaXN0ZW5lcnMgYXMgd2VsbCBhcyByZW1vdmVzIGNoaWxkcmVuIGZyb20gdGhlIGRpc3BsYXkgbGlzdC5cbiAgICAgKiBEbyBub3QgdXNlIGEgQ29udGFpbmVyIGFmdGVyIGNhbGxpbmcgYGRlc3Ryb3lgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cbiAgICBkZXN0cm95KG9wdGlvbnMpXG4gICAge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG5cbiAgICAgICAgdGhpcy5zb3J0RGlydHkgPSBmYWxzZTtcblxuICAgICAgICBjb25zdCBkZXN0cm95Q2hpbGRyZW4gPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy5jaGlsZHJlbjtcblxuICAgICAgICBjb25zdCBvbGRDaGlsZHJlbiA9IHRoaXMucmVtb3ZlQ2hpbGRyZW4oMCwgdGhpcy5jaGlsZHJlbi5sZW5ndGgpO1xuXG4gICAgICAgIGlmIChkZXN0cm95Q2hpbGRyZW4pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2xkQ2hpbGRyZW4ubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgb2xkQ2hpbGRyZW5baV0uZGVzdHJveShvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgQ29udGFpbmVyLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCB3aWR0aCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS54ICogdGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRoO1xuICAgIH1cblxuICAgIHNldCB3aWR0aCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS53aWR0aDtcblxuICAgICAgICBpZiAod2lkdGggIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IHZhbHVlIC8gd2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBDb250YWluZXIsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGhlaWdodCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS55ICogdGhpcy5nZXRMb2NhbEJvdW5kcygpLmhlaWdodDtcbiAgICB9XG5cbiAgICBzZXQgaGVpZ2h0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKGhlaWdodCAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gdmFsdWUgLyBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgfVxufVxuXG4vLyBwZXJmb3JtYW5jZSBpbmNyZWFzZSB0byBhdm9pZCB1c2luZyBjYWxsLi4gKDEweCBmYXN0ZXIpXG5Db250YWluZXIucHJvdG90eXBlLmNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSA9IENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtO1xuIiwiLyoqXG4gKiBEZWZhdWx0IHByb3BlcnR5IHZhbHVlcyBvZiBhY2Nlc3NpYmxlIG9iamVjdHNcbiAqIHVzZWQgYnkge0BsaW5rIFBJWEkuYWNjZXNzaWJpbGl0eS5BY2Nlc3NpYmlsaXR5TWFuYWdlcn0uXG4gKlxuICogQHByaXZhdGVcbiAqIEBmdW5jdGlvbiBhY2Nlc3NpYmxlVGFyZ2V0XG4gKiBAbWVtYmVyb2YgUElYSS5hY2Nlc3NpYmlsaXR5XG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQGV4YW1wbGVcbiAqICAgICAgZnVuY3Rpb24gTXlPYmplY3QoKSB7fVxuICpcbiAqICAgICAgT2JqZWN0LmFzc2lnbihcbiAqICAgICAgICAgIE15T2JqZWN0LnByb3RvdHlwZSxcbiAqICAgICAgICAgIFBJWEkuYWNjZXNzaWJpbGl0eS5hY2Nlc3NpYmxlVGFyZ2V0XG4gKiAgICAgICk7XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKipcbiAgICAgKiAgRmxhZyBmb3IgaWYgdGhlIG9iamVjdCBpcyBhY2Nlc3NpYmxlLiBJZiB0cnVlIEFjY2Vzc2liaWxpdHlNYW5hZ2VyIHdpbGwgb3ZlcmxheSBhXG4gICAgICogICBzaGFkb3cgZGl2IHdpdGggYXR0cmlidXRlcyBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBhY2Nlc3NpYmxlOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRpdGxlIGF0dHJpYnV0ZSBvZiB0aGUgc2hhZG93IGRpdlxuICAgICAqIElmIGFjY2Vzc2libGVUaXRsZSBBTkQgYWNjZXNzaWJsZUhpbnQgaGFzIG5vdCBiZWVuIHRoaXMgd2lsbCBkZWZhdWx0IHRvICdkaXNwbGF5T2JqZWN0IFt0YWJJbmRleF0nXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHs/c3RyaW5nfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgYWNjZXNzaWJsZVRpdGxlOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYXJpYS1sYWJlbCBhdHRyaWJ1dGUgb2YgdGhlIHNoYWRvdyBkaXZcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGFjY2Vzc2libGVIaW50OiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdG9kbyBOZWVkcyBkb2NzLlxuICAgICAqL1xuICAgIHRhYkluZGV4OiAwLFxuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqIEB0b2RvIE5lZWRzIGRvY3MuXG4gICAgICovXG4gICAgX2FjY2Vzc2libGVBY3RpdmU6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqIEB0b2RvIE5lZWRzIGRvY3MuXG4gICAgICovXG4gICAgX2FjY2Vzc2libGVEaXY6IGZhbHNlLFxufTtcbiIsImltcG9ydCBhY2Nlc3NpYmxlVGFyZ2V0IGZyb20gJy4vYWNjZXNzaWJsZVRhcmdldCc7XG5pbXBvcnQgeyByZW1vdmVJdGVtcywgaXNNb2JpbGUgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5cbi8vIGFkZCBzb21lIGV4dHJhIHZhcmlhYmxlcyB0byB0aGUgY29udGFpbmVyLi5cbkRpc3BsYXlPYmplY3QubWl4aW4oYWNjZXNzaWJsZVRhcmdldCk7XG5cbmNvbnN0IEtFWV9DT0RFX1RBQiA9IDk7XG5cbmNvbnN0IERJVl9UT1VDSF9TSVpFID0gMTAwO1xuY29uc3QgRElWX1RPVUNIX1BPU19YID0gMDtcbmNvbnN0IERJVl9UT1VDSF9QT1NfWSA9IDA7XG5jb25zdCBESVZfVE9VQ0hfWklOREVYID0gMjtcblxuY29uc3QgRElWX0hPT0tfU0laRSA9IDE7XG5jb25zdCBESVZfSE9PS19QT1NfWCA9IC0xMDAwO1xuY29uc3QgRElWX0hPT0tfUE9TX1kgPSAtMTAwMDtcbmNvbnN0IERJVl9IT09LX1pJTkRFWCA9IDI7XG5cbi8qKlxuICogVGhlIEFjY2Vzc2liaWxpdHkgbWFuYWdlciByZWNyZWF0ZXMgdGhlIGFiaWxpdHkgdG8gdGFiIGFuZCBoYXZlIGNvbnRlbnQgcmVhZCBieSBzY3JlZW4gcmVhZGVycy5cbiAqIFRoaXMgaXMgdmVyeSBpbXBvcnRhbnQgYXMgaXQgY2FuIHBvc3NpYmx5IGhlbHAgcGVvcGxlIHdpdGggZGlzYWJpbGl0aWVzIGFjY2VzcyBQaXhpSlMgY29udGVudC5cbiAqXG4gKiBBIERpc3BsYXlPYmplY3QgY2FuIGJlIG1hZGUgYWNjZXNzaWJsZSBqdXN0IGxpa2UgaXQgY2FuIGJlIG1hZGUgaW50ZXJhY3RpdmUuIFRoaXMgbWFuYWdlciB3aWxsIG1hcCB0aGVcbiAqIGV2ZW50cyBhcyBpZiB0aGUgbW91c2Ugd2FzIGJlaW5nIHVzZWQsIG1pbmltaXppbmcgdGhlIGVmZm9ydCByZXF1aXJlZCB0byBpbXBsZW1lbnQuXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCBgcmVuZGVyZXIucGx1Z2lucy5hY2Nlc3NpYmlsaXR5YFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuYWNjZXNzaWJpbGl0eVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBY2Nlc3NpYmlsaXR5TWFuYWdlclxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcnxQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUgez9IVE1MRWxlbWVudH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hvb2tEaXYgPSBudWxsO1xuICAgICAgICBpZiAoaXNNb2JpbGUudGFibGV0IHx8IGlzTW9iaWxlLnBob25lKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVRvdWNoSG9vaygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmlyc3Qgd2UgY3JlYXRlIGEgZGl2IHRoYXQgd2lsbCBzaXQgb3ZlciB0aGUgUGl4aUpTIGVsZW1lbnQuIFRoaXMgaXMgd2hlcmUgdGhlIGRpdiBvdmVybGF5cyB3aWxsIGdvLlxuICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBgJHtESVZfVE9VQ0hfU0laRX1weGA7XG4gICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBgJHtESVZfVE9VQ0hfU0laRX1weGA7XG4gICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGRpdi5zdHlsZS50b3AgPSBgJHtESVZfVE9VQ0hfUE9TX1h9cHhgO1xuICAgICAgICBkaXYuc3R5bGUubGVmdCA9IGAke0RJVl9UT1VDSF9QT1NfWX1weGA7XG4gICAgICAgIGRpdi5zdHlsZS56SW5kZXggPSBESVZfVE9VQ0hfWklOREVYO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBkb20gZWxlbWVudCB0aGF0IHdpbGwgc2l0IG92ZXIgdGhlIFBpeGlKUyBlbGVtZW50LiBUaGlzIGlzIHdoZXJlIHRoZSBkaXYgb3ZlcmxheXMgd2lsbCBnby5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0hUTUxFbGVtZW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXYgPSBkaXY7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgc2ltcGxlIHBvb2wgZm9yIHN0b3JpbmcgZGl2cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUgeyp9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvb2wgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyBhIHRpY2sgdXNlZCB0byBjaGVjayBpZiBhbiBvYmplY3QgaXMgbm8gbG9uZ2VyIGJlaW5nIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJJZCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHRpbmcgdGhpcyB0byB0cnVlIHdpbGwgdmlzdWFsbHkgc2hvdyB0aGUgZGl2cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlYnVnID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZW5kZXJlciB0aGlzIGFjY2Vzc2liaWxpdHkgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQWJzdHJhY3RSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFycmF5IG9mIGN1cnJlbnRseSBhY3RpdmUgYWNjZXNzaWJsZSBpdGVtcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8Kj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHByZS1iaW5kIHRoZSBmdW5jdGlvbnNcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb25LZXlEb3duID0gdGhpcy5fb25LZXlEb3duLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHByZS1iaW5kIHRoZSBmdW5jdGlvbnNcbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fb25Nb3VzZU1vdmUgPSB0aGlzLl9vbk1vdXNlTW92ZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGZsYWdcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGZsYWdcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc01vYmlsZUFjY2Vzc2liaWxpdHkgPSBmYWxzZTtcblxuICAgICAgICAvLyBsZXQgbGlzdGVuIGZvciB0YWIuLiBvbmNlIHByZXNzZWQgd2UgY2FuIGZpcmUgdXAgYW5kIHNob3cgdGhlIGFjY2Vzc2liaWxpdHkgbGF5ZXJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSB0b3VjaCBob29rcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY3JlYXRlVG91Y2hIb29rKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGhvb2tEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblxuICAgICAgICBob29rRGl2LnN0eWxlLndpZHRoID0gYCR7RElWX0hPT0tfU0laRX1weGA7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUuaGVpZ2h0ID0gYCR7RElWX0hPT0tfU0laRX1weGA7XG4gICAgICAgIGhvb2tEaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBob29rRGl2LnN0eWxlLnRvcCA9IGAke0RJVl9IT09LX1BPU19YfXB4YDtcbiAgICAgICAgaG9va0Rpdi5zdHlsZS5sZWZ0ID0gYCR7RElWX0hPT0tfUE9TX1l9cHhgO1xuICAgICAgICBob29rRGl2LnN0eWxlLnpJbmRleCA9IERJVl9IT09LX1pJTkRFWDtcbiAgICAgICAgaG9va0Rpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI0ZGMDAwMCc7XG4gICAgICAgIGhvb2tEaXYudGl0bGUgPSAnSE9PSyBESVYnO1xuXG4gICAgICAgIGhvb2tEaXYuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmlzTW9iaWxlQWNjZXNzaWJpbGl0eSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmFjdGl2YXRlKCk7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lUb3VjaEhvb2soKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChob29rRGl2KTtcbiAgICAgICAgdGhpcy5faG9va0RpdiA9IGhvb2tEaXY7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIHRvdWNoIGhvb2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBkZXN0cm95VG91Y2hIb29rKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5faG9va0RpdilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5faG9va0Rpdik7XG4gICAgICAgIHRoaXMuX2hvb2tEaXYgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFjdGl2YXRpbmcgd2lsbCBjYXVzZSB0aGUgQWNjZXNzaWJpbGl0eSBsYXllciB0byBiZSBzaG93bi5cbiAgICAgKiBUaGlzIGlzIGNhbGxlZCB3aGVuIGEgdXNlciBwcmVzc2VzIHRoZSB0YWIga2V5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBhY3RpdmF0ZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pc0FjdGl2ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IHRydWU7XG5cbiAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCB0cnVlKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLm9uKCdwb3N0cmVuZGVyJywgdGhpcy51cGRhdGUsIHRoaXMpO1xuXG4gICAgICAgIGlmICh0aGlzLnJlbmRlcmVyLnZpZXcucGFyZW50Tm9kZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci52aWV3LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVhY3RpdmF0aW5nIHdpbGwgY2F1c2UgdGhlIEFjY2Vzc2liaWxpdHkgbGF5ZXIgdG8gYmUgaGlkZGVuLlxuICAgICAqIFRoaXMgaXMgY2FsbGVkIHdoZW4gYSB1c2VyIG1vdmVzIHRoZSBtb3VzZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZGVhY3RpdmF0ZSgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuaXNBY3RpdmUgfHwgdGhpcy5pc01vYmlsZUFjY2Vzc2liaWxpdHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcblxuICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIHRydWUpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIub2ZmKCdwb3N0cmVuZGVyJywgdGhpcy51cGRhdGUpO1xuXG4gICAgICAgIGlmICh0aGlzLmRpdi5wYXJlbnROb2RlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZGl2KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgcmVjdXJzaXZlIGZ1bmN0aW9uIHdpbGwgcnVuIHRocm91Z2ggdGhlIHNjZW5lIGdyYXBoIGFuZCBhZGQgYW55IG5ldyBhY2Nlc3NpYmxlIG9iamVjdHMgdG8gdGhlIERPTSBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gZGlzcGxheU9iamVjdCAtIFRoZSBEaXNwbGF5T2JqZWN0IHRvIGNoZWNrLlxuICAgICAqL1xuICAgIHVwZGF0ZUFjY2Vzc2libGVPYmplY3RzKGRpc3BsYXlPYmplY3QpXG4gICAge1xuICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QudmlzaWJsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZSAmJiBkaXNwbGF5T2JqZWN0LmludGVyYWN0aXZlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVBY3RpdmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChkaXNwbGF5T2JqZWN0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5yZW5kZXJJZCA9IHRoaXMucmVuZGVySWQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW47XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyhjaGlsZHJlbltpXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCZWZvcmUgZWFjaCByZW5kZXIgdGhpcyBmdW5jdGlvbiB3aWxsIGVuc3VyZSB0aGF0IGFsbCBkaXZzIGFyZSBtYXBwZWQgY29ycmVjdGx5IHRvIHRoZWlyIERpc3BsYXlPYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB1cGRhdGUoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnJlbmRlcmVyLnJlbmRlcmluZ1RvU2NyZWVuKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgY2hpbGRyZW4uLi5cbiAgICAgICAgdGhpcy51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyh0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQpO1xuXG4gICAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLnJlbmRlcmVyLnZpZXcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IHN4ID0gcmVjdC53aWR0aCAvIHRoaXMucmVuZGVyZXIud2lkdGg7XG4gICAgICAgIGNvbnN0IHN5ID0gcmVjdC5oZWlnaHQgLyB0aGlzLnJlbmRlcmVyLmhlaWdodDtcblxuICAgICAgICBsZXQgZGl2ID0gdGhpcy5kaXY7XG5cbiAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSBgJHtyZWN0LmxlZnR9cHhgO1xuICAgICAgICBkaXYuc3R5bGUudG9wID0gYCR7cmVjdC50b3B9cHhgO1xuICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBgJHt0aGlzLnJlbmRlcmVyLndpZHRofXB4YDtcbiAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IGAke3RoaXMucmVuZGVyZXIuaGVpZ2h0fXB4YDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgaWYgKGNoaWxkLnJlbmRlcklkICE9PSB0aGlzLnJlbmRlcklkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNoaWxkLl9hY2Nlc3NpYmxlQWN0aXZlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICByZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpLCAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpdi5yZW1vdmVDaGlsZChjaGlsZC5fYWNjZXNzaWJsZURpdik7XG4gICAgICAgICAgICAgICAgdGhpcy5wb29sLnB1c2goY2hpbGQuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICAgICAgICAgIGNoaWxkLl9hY2Nlc3NpYmxlRGl2ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGktLTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVhY3RpdmF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBtYXAgZGl2IHRvIGRpc3BsYXkuLlxuICAgICAgICAgICAgICAgIGRpdiA9IGNoaWxkLl9hY2Nlc3NpYmxlRGl2O1xuICAgICAgICAgICAgICAgIGxldCBoaXRBcmVhID0gY2hpbGQuaGl0QXJlYTtcbiAgICAgICAgICAgICAgICBjb25zdCB3dCA9IGNoaWxkLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLmhpdEFyZWEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUubGVmdCA9IGAkeyh3dC50eCArIChoaXRBcmVhLnggKiB3dC5hKSkgKiBzeH1weGA7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS50b3AgPSBgJHsod3QudHkgKyAoaGl0QXJlYS55ICogd3QuZCkpICogc3l9cHhgO1xuXG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IGAke2hpdEFyZWEud2lkdGggKiB3dC5hICogc3h9cHhgO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gYCR7aGl0QXJlYS5oZWlnaHQgKiB3dC5kICogc3l9cHhgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBoaXRBcmVhID0gY2hpbGQuZ2V0Qm91bmRzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXBIaXRBcmVhKGhpdEFyZWEpO1xuXG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gYCR7aGl0QXJlYS54ICogc3h9cHhgO1xuICAgICAgICAgICAgICAgICAgICBkaXYuc3R5bGUudG9wID0gYCR7aGl0QXJlYS55ICogc3l9cHhgO1xuXG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS53aWR0aCA9IGAke2hpdEFyZWEud2lkdGggKiBzeH1weGA7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5oZWlnaHQgPSBgJHtoaXRBcmVhLmhlaWdodCAqIHN5fXB4YDtcblxuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgYnV0dG9uIHRpdGxlcyBhbmQgaGludHMgaWYgdGhleSBleGlzdCBhbmQgdGhleSd2ZSBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXYudGl0bGUgIT09IGNoaWxkLmFjY2Vzc2libGVUaXRsZSAmJiBjaGlsZC5hY2Nlc3NpYmxlVGl0bGUgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi50aXRsZSA9IGNoaWxkLmFjY2Vzc2libGVUaXRsZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGl2LmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpICE9PSBjaGlsZC5hY2Nlc3NpYmxlSGludFxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgY2hpbGQuYWNjZXNzaWJsZUhpbnQgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBjaGlsZC5hY2Nlc3NpYmxlSGludCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbmNyZW1lbnQgdGhlIHJlbmRlciBpZC4uXG4gICAgICAgIHRoaXMucmVuZGVySWQrKztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGp1c3QgdGhlIGhpdCBhcmVhIGJhc2VkIG9uIHRoZSBib3VuZHMgb2YgYSBkaXNwbGF5IG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gaGl0QXJlYSAtIEJvdW5kcyBvZiB0aGUgY2hpbGRcbiAgICAgKi9cbiAgICBjYXBIaXRBcmVhKGhpdEFyZWEpXG4gICAge1xuICAgICAgICBpZiAoaGl0QXJlYS54IDwgMClcbiAgICAgICAge1xuICAgICAgICAgICAgaGl0QXJlYS53aWR0aCArPSBoaXRBcmVhLng7XG4gICAgICAgICAgICBoaXRBcmVhLnggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhpdEFyZWEueSA8IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhpdEFyZWEuaGVpZ2h0ICs9IGhpdEFyZWEueTtcbiAgICAgICAgICAgIGhpdEFyZWEueSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGl0QXJlYS54ICsgaGl0QXJlYS53aWR0aCA+IHRoaXMucmVuZGVyZXIud2lkdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhpdEFyZWEud2lkdGggPSB0aGlzLnJlbmRlcmVyLndpZHRoIC0gaGl0QXJlYS54O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhpdEFyZWEueSArIGhpdEFyZWEuaGVpZ2h0ID4gdGhpcy5yZW5kZXJlci5oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhpdEFyZWEuaGVpZ2h0ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQgLSBoaXRBcmVhLnk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgRGlzcGxheU9iamVjdCB0byB0aGUgYWNjZXNzaWJpbGl0eSBtYW5hZ2VyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIGNoaWxkIHRvIG1ha2UgYWNjZXNzaWJsZS5cbiAgICAgKi9cbiAgICBhZGRDaGlsZChkaXNwbGF5T2JqZWN0KVxuICAgIHtcbiAgICAgICAgLy8gICAgdGhpcy5hY3RpdmF0ZSgpO1xuXG4gICAgICAgIGxldCBkaXYgPSB0aGlzLnBvb2wucG9wKCk7XG5cbiAgICAgICAgaWYgKCFkaXYpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG4gICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBgJHtESVZfVE9VQ0hfU0laRX1weGA7XG4gICAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gYCR7RElWX1RPVUNIX1NJWkV9cHhgO1xuICAgICAgICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHRoaXMuZGVidWcgPyAncmdiYSgyNTUsMCwwLDAuNSknIDogJ3RyYW5zcGFyZW50JztcbiAgICAgICAgICAgIGRpdi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgICAgICBkaXYuc3R5bGUuekluZGV4ID0gRElWX1RPVUNIX1pJTkRFWDtcbiAgICAgICAgICAgIGRpdi5zdHlsZS5ib3JkZXJTdHlsZSA9ICdub25lJztcblxuICAgICAgICAgICAgLy8gQVJJQSBhdHRyaWJ1dGVzIGVuc3VyZSB0aGF0IGJ1dHRvbiB0aXRsZSBhbmQgaGludCB1cGRhdGVzIGFyZSBhbm5vdW5jZWQgcHJvcGVybHlcbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY2hyb21lJykgPiAtMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBDaHJvbWUgZG9lc24ndCBuZWVkIGFyaWEtbGl2ZSB0byB3b3JrIGFzIGludGVuZGVkOyBpbiBmYWN0IGl0IGp1c3QgZ2V0cyBtb3JlIGNvbmZ1c2VkLlxuICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdvZmYnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAncG9saXRlJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9ydjouKkdlY2tvXFwvLykpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gRmlyZUZveCBuZWVkcyB0aGlzIHRvIGFubm91bmNlIG9ubHkgdGhlIG5ldyBidXR0b24gbmFtZVxuICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtcmVsZXZhbnQnLCAnYWRkaXRpb25zJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gcmVxdWlyZWQgYnkgSUUsIG90aGVyIGJyb3dzZXJzIGRvbid0IG11Y2ggY2FyZVxuICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtcmVsZXZhbnQnLCAndGV4dCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9vbkNsaWNrLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5fb25Gb2N1cy5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRoaXMuX29uRm9jdXNPdXQuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGUgJiYgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGUgIT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRpdi50aXRsZSA9IGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVRpdGxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50XG4gICAgICAgICAgICAgICAgIHx8IGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQgPT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRpdi50aXRsZSA9IGBkaXNwbGF5T2JqZWN0ICR7ZGlzcGxheU9iamVjdC50YWJJbmRleH1gO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnRcbiAgICAgICAgICAgICYmIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQgIT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vXG5cbiAgICAgICAgZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZUFjdGl2ZSA9IHRydWU7XG4gICAgICAgIGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYgPSBkaXY7XG4gICAgICAgIGRpdi5kaXNwbGF5T2JqZWN0ID0gZGlzcGxheU9iamVjdDtcblxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goZGlzcGxheU9iamVjdCk7XG4gICAgICAgIHRoaXMuZGl2LmFwcGVuZENoaWxkKGRpc3BsYXlPYmplY3QuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlRGl2LnRhYkluZGV4ID0gZGlzcGxheU9iamVjdC50YWJJbmRleDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYXBzIHRoZSBkaXYgYnV0dG9uIHByZXNzIHRvIHBpeGkncyBJbnRlcmFjdGlvbk1hbmFnZXIgKGNsaWNrKVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGUgLSBUaGUgY2xpY2sgZXZlbnQuXG4gICAgICovXG4gICAgX29uQ2xpY2soZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbjtcblxuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAnY2xpY2snLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYXBzIHRoZSBkaXYgZm9jdXMgZXZlbnRzIHRvIHBpeGkncyBJbnRlcmFjdGlvbk1hbmFnZXIgKG1vdXNlb3ZlcilcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGb2N1c0V2ZW50fSBlIC0gVGhlIGZvY3VzIGV2ZW50LlxuICAgICAqL1xuICAgIF9vbkZvY3VzKGUpXG4gICAge1xuICAgICAgICBpZiAoIWUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ29mZicpKVxuICAgICAgICB7XG4gICAgICAgICAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdhc3NlcnRpdmUnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbnRlcmFjdGlvbk1hbmFnZXIgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb247XG5cbiAgICAgICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZS50YXJnZXQuZGlzcGxheU9iamVjdCwgJ21vdXNlb3ZlcicsIGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hcHMgdGhlIGRpdiBmb2N1cyBldmVudHMgdG8gcGl4aSdzIEludGVyYWN0aW9uTWFuYWdlciAobW91c2VvdXQpXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Rm9jdXNFdmVudH0gZSAtIFRoZSBmb2N1c291dCBldmVudC5cbiAgICAgKi9cbiAgICBfb25Gb2N1c091dChlKVxuICAgIHtcbiAgICAgICAgaWYgKCFlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdvZmYnKSlcbiAgICAgICAge1xuICAgICAgICAgICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAncG9saXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uO1xuXG4gICAgICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICdtb3VzZW91dCcsIGludGVyYWN0aW9uTWFuYWdlci5ldmVudERhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIGEga2V5IGlzIHByZXNzZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBlIC0gVGhlIGtleWRvd24gZXZlbnQuXG4gICAgICovXG4gICAgX29uS2V5RG93bihlKVxuICAgIHtcbiAgICAgICAgaWYgKGUua2V5Q29kZSAhPT0gS0VZX0NPREVfVEFCKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFjdGl2YXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIG1vdXNlIG1vdmVzIGFjcm9zcyB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGUgLSBUaGUgbW91c2UgZXZlbnQuXG4gICAgICovXG4gICAgX29uTW91c2VNb3ZlKGUpXG4gICAge1xuICAgICAgICBpZiAoZS5tb3ZlbWVudFggPT09IDAgJiYgZS5tb3ZlbWVudFkgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGVhY3RpdmF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBhY2Nlc3NpYmlsaXR5IG1hbmFnZXJcbiAgICAgKlxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgdGhpcy5kZXN0cm95VG91Y2hIb29rKCk7XG4gICAgICAgIHRoaXMuZGl2ID0gbnVsbDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0uZGl2ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duKTtcblxuICAgICAgICB0aGlzLnBvb2wgPSBudWxsO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBBIFJ1bm5lciBpcyBhIGhpZ2hseSBwZXJmb3JtYW50IGFuZCBzaW1wbGUgYWx0ZXJuYXRpdmUgdG8gc2lnbmFscy4gQmVzdCB1c2VkIGluIHNpdHVhdGlvbnNcbiAqIHdoZXJlIGV2ZW50cyBhcmUgZGlzcGF0Y2hlZCB0byBtYW55IG9iamVjdHMgYXQgaGlnaCBmcmVxdWVuY3kgKHNheSBldmVyeSBmcmFtZSEpXG4gKlxuICpcbiAqIGxpa2UgYSBzaWduYWwuLlxuICogYGBgXG4gKiBjb25zdCBteU9iamVjdCA9IHtcbiAqICAgICBsb2FkZWQ6IG5ldyBQSVhJLlJ1bm5lcignbG9hZGVkJylcbiAqIH1cbiAqXG4gKiBjb25zdCBsaXN0ZW5lciA9IHtcbiAqICAgICBsb2FkZWQ6IGZ1bmN0aW9uKCl7XG4gKiAgICAgICAgIC8vIHRoaW5cbiAqICAgICB9XG4gKiB9XG4gKlxuICogbXlPYmplY3QudXBkYXRlLmFkZChsaXN0ZW5lcik7XG4gKlxuICogbXlPYmplY3QubG9hZGVkLmVtaXQoKTtcbiAqIGBgYFxuICpcbiAqIE9yIGZvciBoYW5kbGluZyBjYWxsaW5nIHRoZSBzYW1lIGZ1bmN0aW9uIG9uIG1hbnkgaXRlbXNcbiAqIGBgYFxuICogY29uc3QgbXlHYW1lID0ge1xuICogICAgIHVwZGF0ZTogbmV3IFBJWEkuUnVubmVyKCd1cGRhdGUnKVxuICogfVxuICpcbiAqIGNvbnN0IGdhbWVPYmplY3QgPSB7XG4gKiAgICAgdXBkYXRlOiBmdW5jdGlvbih0aW1lKXtcbiAqICAgICAgICAgLy8gdXBkYXRlIG15IGdhbWV5IHN0YXRlXG4gKiAgICAgfVxuICogfVxuICpcbiAqIG15R2FtZS51cGRhdGUuYWRkKGdhbWVPYmplY3QxKTtcbiAqXG4gKiBteUdhbWUudXBkYXRlLmVtaXQodGltZSk7XG4gKiBgYGBcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUnVubmVyXG57XG4gICAgLyoqXG4gICAgICogIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHRoZSBmdW5jdGlvbiBuYW1lIHRoYXQgd2lsbCBiZSBleGVjdXRlZCBvbiB0aGUgbGlzdGVuZXJzIGFkZGVkIHRvIHRoaXMgUnVubmVyLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG5hbWUpXG4gICAge1xuICAgICAgICB0aGlzLml0ZW1zID0gW107XG4gICAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc3BhdGNoL0Jyb2FkY2FzdCBSdW5uZXIgdG8gYWxsIGxpc3RlbmVycyBhZGRlZCB0byB0aGUgcXVldWUuXG4gICAgICogQHBhcmFtIHsuLi5hbnl9IHBhcmFtcyAtIG9wdGlvbmFsIHBhcmFtZXRlcnMgdG8gcGFzcyB0byBlYWNoIGxpc3RlbmVyXG4gICAgICovXG4gICAgZW1pdChhMCwgYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcpXG4gICAge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbWF4IGFyZ3VtZW50cyByZWFjaGVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IG5hbWUsIGl0ZW1zIH0gPSB0aGlzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBpdGVtcy5sZW5ndGg7IGkgPCBsZW47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaXRlbXNbaV1bbmFtZV0oYTAsIGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIGxpc3RlbmVyIHRvIHRoZSBSdW5uZXJcbiAgICAgKlxuICAgICAqIFJ1bm5lcnMgZG8gbm90IG5lZWQgdG8gaGF2ZSBzY29wZSBvciBmdW5jdGlvbnMgcGFzc2VkIHRvIHRoZW0uXG4gICAgICogQWxsIHRoYXQgaXMgcmVxdWlyZWQgaXMgdG8gcGFzcyB0aGUgbGlzdGVuaW5nIG9iamVjdCBhbmQgZW5zdXJlIHRoYXQgaXQgaGFzIGNvbnRhaW5zIGEgZnVuY3Rpb24gdGhhdCBoYXMgdGhlIHNhbWUgbmFtZVxuICAgICAqIGFzIHRoZSBuYW1lIHByb3ZpZGVkIHRvIHRoZSBSdW5uZXIgd2hlbiBpdCB3YXMgY3JlYXRlZC5cbiAgICAgKlxuICAgICAqIEVnIEEgbGlzdGVuZXIgcGFzc2VkIHRvIHRoaXMgUnVubmVyIHdpbGwgcmVxdWlyZSBhICdjb21wbGV0ZScgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBjb25zdCBjb21wbGV0ZSA9IG5ldyBQSVhJLlJ1bm5lcignY29tcGxldGUnKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFRoZSBzY29wZSB1c2VkIHdpbGwgYmUgdGhlIG9iamVjdCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2FueX0gaXRlbSAtIFRoZSBvYmplY3QgdGhhdCB3aWxsIGJlIGxpc3RlbmluZy5cbiAgICAgKi9cbiAgICBhZGQoaXRlbSlcbiAgICB7XG4gICAgICAgIGlmIChpdGVtW3RoaXMuX25hbWVdKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZShpdGVtKTtcbiAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIHNpbmdsZSBsaXN0ZW5lciBmcm9tIHRoZSBkaXNwYXRjaCBxdWV1ZS5cbiAgICAgKiBAcGFyYW0ge2FueX0gaXRlbSAtIFRoZSBsaXN0ZW5yIHRoYXQgeW91IHdvdWxkIGxpa2UgdG8gcmVtb3ZlLlxuICAgICAqL1xuICAgIHJlbW92ZShpdGVtKVxuICAgIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLml0ZW1zLmluZGV4T2YoaXRlbSk7XG5cbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pdGVtcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgdG8gc2VlIGlmIHRoZSBsaXN0ZW5lciBpcyBhbHJlYWR5IGluIHRoZSBSdW5uZXJcbiAgICAgKiBAcGFyYW0ge2FueX0gaXRlbSAtIFRoZSBsaXN0ZW5lciB0aGF0IHlvdSB3b3VsZCBsaWtlIHRvIGNoZWNrLlxuICAgICAqL1xuICAgIGNvbnRhaW5zKGl0ZW0pXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVtcy5pbmRleE9mKGl0ZW0pICE9PSAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIGxpc3RlbmVycyBmcm9tIHRoZSBSdW5uZXJcbiAgICAgKi9cbiAgICByZW1vdmVBbGwoKVxuICAgIHtcbiAgICAgICAgdGhpcy5pdGVtcy5sZW5ndGggPSAwO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgcmVmZXJlbmNlcywgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICovXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICB0aGlzLnJlbW92ZUFsbCgpO1xuICAgICAgICB0aGlzLml0ZW1zID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbmFtZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogYHRydWVgIGlmIHRoZXJlIGFyZSBubyB0aGlzIFJ1bm5lciBjb250YWlucyBubyBsaXN0ZW5lcnNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IGVtcHR5KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zLmxlbmd0aCA9PT0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgcnVubmVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCBuYW1lKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBbGlhcyBmb3IgYGVtaXRgXG4gKiBAbWVtYmVyb2YgUElYSS5SdW5uZXIjXG4gKiBAbWV0aG9kIGRpc3BhdGNoXG4gKiBAc2VlIFBJWEkuUnVubmVyI2VtaXRcbiAqL1xuUnVubmVyLnByb3RvdHlwZS5kaXNwYXRjaCA9IFJ1bm5lci5wcm90b3R5cGUuZW1pdDtcblxuLyoqXG4gKiBBbGlhcyBmb3IgYGVtaXRgXG4gKiBAbWVtYmVyb2YgUElYSS5SdW5uZXIjXG4gKiBAbWV0aG9kIHJ1blxuICogQHNlZSBQSVhJLlJ1bm5lciNlbWl0XG4gKi9cblJ1bm5lci5wcm90b3R5cGUucnVuID0gUnVubmVyLnByb3RvdHlwZS5lbWl0O1xuIiwiLyoqXG4gKiBJbnRlcm5hbCBjbGFzcyBmb3IgaGFuZGxpbmcgdGhlIHByaW9yaXR5IHNvcnRpbmcgb2YgdGlja2VyIGhhbmRsZXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpY2tlckxpc3RlbmVyXG57XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIHsqfSBbY29udGV4dD1udWxsXSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT0wXSAtIFRoZSBwcmlvcml0eSBmb3IgZW1pdHRpbmdcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvbmNlPWZhbHNlXSAtIElmIHRoZSBoYW5kbGVyIHNob3VsZCBmaXJlIG9uY2VcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihmbiwgY29udGV4dCA9IG51bGwsIHByaW9yaXR5ID0gMCwgb25jZSA9IGZhbHNlKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoYW5kbGVyIGZ1bmN0aW9uIHRvIGV4ZWN1dGUuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mbiA9IGZuO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FsbGluZyB0byBleGVjdXRlLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHsqfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGN1cnJlbnQgcHJpb3JpdHkuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhpcyBzaG91bGQgb25seSBleGVjdXRlIG9uY2UuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uY2UgPSBvbmNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmV4dCBpdGVtIGluIGNoYWluLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtUaWNrZXJMaXN0ZW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwcmV2aW91cyBpdGVtIGluIGNoYWluLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtUaWNrZXJMaXN0ZW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgdGhpcyBsaXN0ZW5lciBoYXMgYmVlbiBkZXN0cm95ZWQgYWxyZWFkeS5cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNpbXBsZSBjb21wYXJlIGZ1bmN0aW9uIHRvIGZpZ3VyZSBvdXQgaWYgYSBmdW5jdGlvbiBhbmQgY29udGV4dCBtYXRjaC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29udGV4dCAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBsaXN0ZW5lciBtYXRjaCB0aGUgYXJndW1lbnRzXG4gICAgICovXG4gICAgbWF0Y2goZm4sIGNvbnRleHQpXG4gICAge1xuICAgICAgICBjb250ZXh0ID0gY29udGV4dCB8fCBudWxsO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmZuID09PSBmbiAmJiB0aGlzLmNvbnRleHQgPT09IGNvbnRleHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW1pdCBieSBjYWxsaW5nIHRoZSBjdXJyZW50IGZ1bmN0aW9uLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAtIHRpbWUgc2luY2UgdGhlIGxhc3QgZW1pdC5cbiAgICAgKiBAcmV0dXJuIHtUaWNrZXJMaXN0ZW5lcn0gTmV4dCB0aWNrZXJcbiAgICAgKi9cbiAgICBlbWl0KGRlbHRhVGltZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmZuKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZXh0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZm4uY2FsbCh0aGlzLmNvbnRleHQsIGRlbHRhVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5mbihkZWx0YVRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVkaXJlY3QgPSB0aGlzLm5leHQ7XG5cbiAgICAgICAgaWYgKHRoaXMub25jZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU29mdC1kZXN0cm95aW5nIHNob3VsZCByZW1vdmVcbiAgICAgICAgLy8gdGhlIG5leHQgcmVmZXJlbmNlXG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVkaXJlY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29ubmVjdCB0byB0aGUgbGlzdC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7VGlja2VyTGlzdGVuZXJ9IHByZXZpb3VzIC0gSW5wdXQgbm9kZSwgcHJldmlvdXMgbGlzdGVuZXJcbiAgICAgKi9cbiAgICBjb25uZWN0KHByZXZpb3VzKVxuICAgIHtcbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IHByZXZpb3VzO1xuICAgICAgICBpZiAocHJldmlvdXMubmV4dClcbiAgICAgICAge1xuICAgICAgICAgICAgcHJldmlvdXMubmV4dC5wcmV2aW91cyA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uZXh0ID0gcHJldmlvdXMubmV4dDtcbiAgICAgICAgcHJldmlvdXMubmV4dCA9IHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoYXJkID0gZmFsc2VdIGB0cnVlYCB0byByZW1vdmUgdGhlIGBuZXh0YCByZWZlcmVuY2UsIHRoaXNcbiAgICAgKiAgICAgICAgaXMgY29uc2lkZXJlZCBhIGhhcmQgZGVzdHJveS4gU29mdCBkZXN0cm95IG1haW50YWlucyB0aGUgbmV4dCByZWZlcmVuY2UuXG4gICAgICogQHJldHVybiB7VGlja2VyTGlzdGVuZXJ9IFRoZSBsaXN0ZW5lciB0byByZWRpcmVjdCB3aGlsZSBlbWl0dGluZyBvciByZW1vdmluZy5cbiAgICAgKi9cbiAgICBkZXN0cm95KGhhcmQgPSBmYWxzZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZm4gPSBudWxsO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuXG4gICAgICAgIC8vIERpc2Nvbm5lY3QsIGhvb2sgdXAgbmV4dCBhbmQgcHJldmlvdXNcbiAgICAgICAgaWYgKHRoaXMucHJldmlvdXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXMubmV4dCA9IHRoaXMubmV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm5leHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubmV4dC5wcmV2aW91cyA9IHRoaXMucHJldmlvdXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZWRpcmVjdCB0byB0aGUgbmV4dCBpdGVtXG4gICAgICAgIGNvbnN0IHJlZGlyZWN0ID0gdGhpcy5uZXh0O1xuXG4gICAgICAgIC8vIFJlbW92ZSByZWZlcmVuY2VzXG4gICAgICAgIHRoaXMubmV4dCA9IGhhcmQgPyBudWxsIDogcmVkaXJlY3Q7XG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBudWxsO1xuXG4gICAgICAgIHJldHVybiByZWRpcmVjdDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJy4vc2V0dGluZ3MnO1xuaW1wb3J0IHsgVVBEQVRFX1BSSU9SSVRZIH0gZnJvbSAnLi9jb25zdCc7XG5pbXBvcnQgVGlja2VyTGlzdGVuZXIgZnJvbSAnLi9UaWNrZXJMaXN0ZW5lcic7XG5cbi8qKlxuICogQSBUaWNrZXIgY2xhc3MgdGhhdCBydW5zIGFuIHVwZGF0ZSBsb29wIHRoYXQgb3RoZXIgb2JqZWN0cyBsaXN0ZW4gdG8uXG4gKlxuICogVGhpcyBjbGFzcyBpcyBjb21wb3NlZCBhcm91bmQgbGlzdGVuZXJzIG1lYW50IGZvciBleGVjdXRpb24gb24gdGhlIG5leHQgcmVxdWVzdGVkIGFuaW1hdGlvbiBmcmFtZS5cbiAqIEFuaW1hdGlvbiBmcmFtZXMgYXJlIHJlcXVlc3RlZCBvbmx5IHdoZW4gbmVjZXNzYXJ5LCBlLmcuIFdoZW4gdGhlIHRpY2tlciBpcyBzdGFydGVkIGFuZCB0aGUgZW1pdHRlciBoYXMgbGlzdGVuZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlja2VyXG57XG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmaXJzdCBsaXN0ZW5lci4gQWxsIG5ldyBsaXN0ZW5lcnMgYWRkZWQgYXJlIGNoYWluZWQgb24gdGhpcy5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge1RpY2tlckxpc3RlbmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faGVhZCA9IG5ldyBUaWNrZXJMaXN0ZW5lcihudWxsLCBudWxsLCBJbmZpbml0eSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGN1cnJlbnQgZnJhbWUgcmVxdWVzdCBJRFxuICAgICAgICAgKiBAdHlwZSB7P251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHZhbHVlIG1hbmFnZWQgYnkgbWluRlBTIHByb3BlcnR5IHNldHRlciBhbmQgZ2V0dGVyLlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBtYXhpbXVtIGFsbG93ZWQgbWlsbGlzZWNvbmRzIGJldHdlZW4gdXBkYXRlcy5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21heEVsYXBzZWRNUyA9IDEwMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgdmFsdWUgbWFuYWdlZCBieSBtYXhGUFMgcHJvcGVydHkgc2V0dGVyIGFuZCBnZXR0ZXIuXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIG1pbmltdW0gYWxsb3dlZCBtaWxsaXNlY29uZHMgYmV0d2VlbiB1cGRhdGVzLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWluRWxhcHNlZE1TID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhpcyB0aWNrZXIgc2hvdWxkIGludm9rZSB0aGUgbWV0aG9kXG4gICAgICAgICAqIHtAbGluayBQSVhJLlRpY2tlciNzdGFydH0gYXV0b21hdGljYWxseVxuICAgICAgICAgKiB3aGVuIGEgbGlzdGVuZXIgaXMgYWRkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9TdGFydCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FsYXIgdGltZSB2YWx1ZSBmcm9tIGxhc3QgZnJhbWUgdG8gdGhpcyBmcmFtZS5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyBjYXBwZWQgYnkgc2V0dGluZyB7QGxpbmsgUElYSS5UaWNrZXIjbWluRlBTfVxuICAgICAgICAgKiBhbmQgaXMgc2NhbGVkIHdpdGgge0BsaW5rIFBJWEkuVGlja2VyI3NwZWVkfS5cbiAgICAgICAgICogKipOb3RlOioqIFRoZSBjYXAgbWF5IGJlIGV4Y2VlZGVkIGJ5IHNjYWxpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FsZXIgdGltZSBlbGFwc2VkIGluIG1pbGxpc2Vjb25kcyBmcm9tIGxhc3QgZnJhbWUgdG8gdGhpcyBmcmFtZS5cbiAgICAgICAgICogVGhpcyB2YWx1ZSBpcyBjYXBwZWQgYnkgc2V0dGluZyB7QGxpbmsgUElYSS5UaWNrZXIjbWluRlBTfVxuICAgICAgICAgKiBhbmQgaXMgc2NhbGVkIHdpdGgge0BsaW5rIFBJWEkuVGlja2VyI3NwZWVkfS5cbiAgICAgICAgICogKipOb3RlOioqIFRoZSBjYXAgbWF5IGJlIGV4Y2VlZGVkIGJ5IHNjYWxpbmcuXG4gICAgICAgICAqIElmIHRoZSBwbGF0Zm9ybSBzdXBwb3J0cyBET01IaWdoUmVzVGltZVN0YW1wLFxuICAgICAgICAgKiB0aGlzIHZhbHVlIHdpbGwgaGF2ZSBhIHByZWNpc2lvbiBvZiAxIMK1cy5cbiAgICAgICAgICogRGVmYXVsdHMgdG8gdGFyZ2V0IGZyYW1lIHRpbWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxNi42NlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWx0YU1TID0gMSAvIHNldHRpbmdzLlRBUkdFVF9GUE1TO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaW1lIGVsYXBzZWQgaW4gbWlsbGlzZWNvbmRzIGZyb20gbGFzdCBmcmFtZSB0byB0aGlzIGZyYW1lLlxuICAgICAgICAgKiBPcHBvc2VkIHRvIHdoYXQgdGhlIHNjYWxhciB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfVxuICAgICAgICAgKiBpcyBiYXNlZCwgdGhpcyB2YWx1ZSBpcyBuZWl0aGVyIGNhcHBlZCBub3Igc2NhbGVkLlxuICAgICAgICAgKiBJZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgRE9NSGlnaFJlc1RpbWVTdGFtcCxcbiAgICAgICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICAgICAqIERlZmF1bHRzIHRvIHRhcmdldCBmcmFtZSB0aW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMTYuNjZcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZWxhcHNlZE1TID0gMSAvIHNldHRpbmdzLlRBUkdFVF9GUE1TO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGFzdCB0aW1lIHtAbGluayBQSVhJLlRpY2tlciN1cGRhdGV9IHdhcyBpbnZva2VkLlxuICAgICAgICAgKiBUaGlzIHZhbHVlIGlzIGFsc28gcmVzZXQgaW50ZXJuYWxseSBvdXRzaWRlIG9mIGludm9raW5nXG4gICAgICAgICAqIHVwZGF0ZSwgYnV0IG9ubHkgd2hlbiBhIG5ldyBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkLlxuICAgICAgICAgKiBJZiB0aGUgcGxhdGZvcm0gc3VwcG9ydHMgRE9NSGlnaFJlc1RpbWVTdGFtcCxcbiAgICAgICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgLTFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmFjdG9yIG9mIGN1cnJlbnQge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX0uXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIC8vIFNjYWxlcyB0aWNrZXIuZGVsdGFUaW1lIHRvIHdoYXQgd291bGQgYmVcbiAgICAgICAgICogLy8gdGhlIGVxdWl2YWxlbnQgb2YgYXBwcm94aW1hdGVseSAxMjAgRlBTXG4gICAgICAgICAqIHRpY2tlci5zcGVlZCA9IDI7XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zcGVlZCA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoaXMgdGlja2VyIGhhcyBiZWVuIHN0YXJ0ZWQuXG4gICAgICAgICAqIGB0cnVlYCBpZiB7QGxpbmsgUElYSS5UaWNrZXIjc3RhcnR9IGhhcyBiZWVuIGNhbGxlZC5cbiAgICAgICAgICogYGZhbHNlYCBpZiB7QGxpbmsgUElYSS5UaWNrZXIjc3RvcH0gaGFzIGJlZW4gY2FsbGVkLlxuICAgICAgICAgKiBXaGlsZSBgZmFsc2VgLCB0aGlzIHZhbHVlIG1heSBjaGFuZ2UgdG8gYHRydWVgIGluIHRoZVxuICAgICAgICAgKiBldmVudCBvZiB7QGxpbmsgUElYSS5UaWNrZXIjYXV0b1N0YXJ0fSBiZWluZyBgdHJ1ZWBcbiAgICAgICAgICogYW5kIGEgbGlzdGVuZXIgaXMgYWRkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZW5hYmxlZCwgZGVsZXRpbmcgaXMgZGlzYWJsZWQuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wcm90ZWN0ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgdGljayBtZXRob2QgYm91bmQgdG8gdGlja2VyIGluc3RhbmNlLlxuICAgICAgICAgKiBUaGlzIGlzIGJlY2F1c2UgaW4gZWFybHkgMjAxNSwgRnVuY3Rpb24uYmluZFxuICAgICAgICAgKiBpcyBzdGlsbCA2MCUgc2xvd2VyIGluIGhpZ2ggcGVyZm9ybWFuY2Ugc2NlbmFyaW9zLlxuICAgICAgICAgKiBBbHNvIHNlcGFyYXRpbmcgZnJhbWUgcmVxdWVzdHMgZnJvbSB1cGRhdGUgbWV0aG9kXG4gICAgICAgICAqIHNvIGxpc3RlbmVycyBtYXkgYmUgY2FsbGVkIGF0IGFueSB0aW1lIGFuZCB3aXRoXG4gICAgICAgICAqIGFueSBhbmltYXRpb24gQVBJLCBqdXN0IGludm9rZSB0aWNrZXIudXBkYXRlKHRpbWUpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZSAtIFRpbWUgc2luY2UgbGFzdCB0aWNrLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGljayA9ICh0aW1lKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWQgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5zdGFydGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIEludm9rZSBsaXN0ZW5lcnMgbm93XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUodGltZSk7XG4gICAgICAgICAgICAgICAgLy8gTGlzdGVuZXIgc2lkZSBlZmZlY3RzIG1heSBoYXZlIG1vZGlmaWVkIHRpY2tlciBzdGF0ZS5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGFydGVkICYmIHRoaXMuX3JlcXVlc3RJZCA9PT0gbnVsbCAmJiB0aGlzLl9oZWFkLm5leHQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fdGljayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbmRpdGlvbmFsbHkgcmVxdWVzdHMgYSBuZXcgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqIElmIGEgZnJhbWUgaGFzIG5vdCBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkLCBhbmQgaWYgdGhlIGludGVybmFsXG4gICAgICogZW1pdHRlciBoYXMgbGlzdGVuZXJzLCBhIG5ldyBmcmFtZSBpcyByZXF1ZXN0ZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZXF1ZXN0SWZOZWVkZWQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RJZCA9PT0gbnVsbCAmJiB0aGlzLl9oZWFkLm5leHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGVuc3VyZSBjYWxsYmFja3MgZ2V0IGNvcnJlY3QgZGVsdGFcbiAgICAgICAgICAgIHRoaXMubGFzdFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl90aWNrKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbmRpdGlvbmFsbHkgY2FuY2VscyBhIHBlbmRpbmcgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY2FuY2VsSWZOZWVkZWQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RJZCAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fcmVxdWVzdElkKTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25kaXRpb25hbGx5IHJlcXVlc3RzIGEgbmV3IGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKiBJZiB0aGUgdGlja2VyIGhhcyBiZWVuIHN0YXJ0ZWQgaXQgY2hlY2tzIGlmIGEgZnJhbWUgaGFzIG5vdCBhbHJlYWR5XG4gICAgICogYmVlbiByZXF1ZXN0ZWQsIGFuZCBpZiB0aGUgaW50ZXJuYWwgZW1pdHRlciBoYXMgbGlzdGVuZXJzLiBJZiB0aGVzZVxuICAgICAqIGNvbmRpdGlvbnMgYXJlIG1ldCwgYSBuZXcgZnJhbWUgaXMgcmVxdWVzdGVkLiBJZiB0aGUgdGlja2VyIGhhcyBub3RcbiAgICAgKiBiZWVuIHN0YXJ0ZWQsIGJ1dCBhdXRvU3RhcnQgaXMgYHRydWVgLCB0aGVuIHRoZSB0aWNrZXIgc3RhcnRzIG5vdyxcbiAgICAgKiBhbmQgY29udGludWVzIHdpdGggdGhlIHByZXZpb3VzIGNvbmRpdGlvbnMgdG8gcmVxdWVzdCBhIG5ldyBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3N0YXJ0SWZQb3NzaWJsZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5zdGFydGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SWZOZWVkZWQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmF1dG9TdGFydClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBoYW5kbGVyIGZvciB0aWNrIGV2ZW50cy4gQ2FsbHMgY29udGludW91c2x5IHVubGVzc1xuICAgICAqIGl0IGlzIHJlbW92ZWQgb3IgdGhlIHRpY2tlciBpcyBzdG9wcGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIHVwZGF0ZXNcbiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT1QSVhJLlVQREFURV9QUklPUklUWS5OT1JNQUxdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICAgICAqIEByZXR1cm5zIHtQSVhJLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuICAgIGFkZChmbiwgY29udGV4dCwgcHJpb3JpdHkgPSBVUERBVEVfUFJJT1JJVFkuTk9STUFMKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZExpc3RlbmVyKG5ldyBUaWNrZXJMaXN0ZW5lcihmbiwgY29udGV4dCwgcHJpb3JpdHkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBoYW5kbGVyIGZvciB0aGUgdGljayBldmVudCB3aGljaCBpcyBvbmx5IGV4ZWN1dGUgb25jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gICAgICogQHBhcmFtIHsqfSBbY29udGV4dF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJpb3JpdHk9UElYSS5VUERBVEVfUFJJT1JJVFkuTk9STUFMXSAtIFRoZSBwcmlvcml0eSBmb3IgZW1pdHRpbmdcbiAgICAgKiBAcmV0dXJucyB7UElYSS5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cbiAgICBhZGRPbmNlKGZuLCBjb250ZXh0LCBwcmlvcml0eSA9IFVQREFURV9QUklPUklUWS5OT1JNQUwpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkTGlzdGVuZXIobmV3IFRpY2tlckxpc3RlbmVyKGZuLCBjb250ZXh0LCBwcmlvcml0eSwgdHJ1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludGVybmFsbHkgYWRkcyB0aGUgZXZlbnQgaGFuZGxlciBzbyB0aGF0IGl0IGNhbiBiZSBzb3J0ZWQgYnkgcHJpb3JpdHkuXG4gICAgICogUHJpb3JpdHkgYWxsb3dzIGNlcnRhaW4gaGFuZGxlciAodXNlciwgQW5pbWF0ZWRTcHJpdGUsIEludGVyYWN0aW9uKSB0byBiZSBydW5cbiAgICAgKiBiZWZvcmUgdGhlIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtUaWNrZXJMaXN0ZW5lcn0gbGlzdGVuZXIgLSBDdXJyZW50IGxpc3RlbmVyIGJlaW5nIGFkZGVkLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLlRpY2tlcn0gVGhpcyBpbnN0YW5jZSBvZiBhIHRpY2tlclxuICAgICAqL1xuICAgIF9hZGRMaXN0ZW5lcihsaXN0ZW5lcilcbiAgICB7XG4gICAgICAgIC8vIEZvciBhdHRhY2hpbmcgdG8gaGVhZFxuICAgICAgICBsZXQgY3VycmVudCA9IHRoaXMuX2hlYWQubmV4dDtcbiAgICAgICAgbGV0IHByZXZpb3VzID0gdGhpcy5faGVhZDtcblxuICAgICAgICAvLyBBZGQgdGhlIGZpcnN0IGl0ZW1cbiAgICAgICAgaWYgKCFjdXJyZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICBsaXN0ZW5lci5jb25uZWN0KHByZXZpb3VzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEdvIGZyb20gaGlnaGVzdCB0byBsb3dlc3QgcHJpb3JpdHlcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lci5wcmlvcml0eSA+IGN1cnJlbnQucHJpb3JpdHkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5jb25uZWN0KHByZXZpb3VzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByZXZpb3VzID0gY3VycmVudDtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBOb3QgeWV0IGNvbm5lY3RlZFxuICAgICAgICAgICAgaWYgKCFsaXN0ZW5lci5wcmV2aW91cylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5jb25uZWN0KHByZXZpb3VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3N0YXJ0SWZQb3NzaWJsZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW55IGhhbmRsZXJzIG1hdGNoaW5nIHRoZSBmdW5jdGlvbiBhbmQgY29udGV4dCBwYXJhbWV0ZXJzLlxuICAgICAqIElmIG5vIGhhbmRsZXJzIGFyZSBsZWZ0IGFmdGVyIHJlbW92aW5nLCB0aGVuIGl0IGNhbmNlbHMgdGhlIGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIHJlbW92ZWRcbiAgICAgKiBAcGFyYW0geyp9IFtjb250ZXh0XSAtIFRoZSBsaXN0ZW5lciBjb250ZXh0IHRvIGJlIHJlbW92ZWRcbiAgICAgKiBAcmV0dXJucyB7UElYSS5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAgICAgKi9cbiAgICByZW1vdmUoZm4sIGNvbnRleHQpXG4gICAge1xuICAgICAgICBsZXQgbGlzdGVuZXIgPSB0aGlzLl9oZWFkLm5leHQ7XG5cbiAgICAgICAgd2hpbGUgKGxpc3RlbmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBXZSBmb3VuZCBhIG1hdGNoLCBsZXRzIHJlbW92ZSBpdFxuICAgICAgICAgICAgLy8gbm8gYnJlYWsgdG8gZGVsZXRlIGFsbCBwb3NzaWJsZSBtYXRjaGVzXG4gICAgICAgICAgICAvLyBpbmNhc2UgYSBsaXN0ZW5lciB3YXMgYWRkZWQgMisgdGltZXNcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5tYXRjaChmbiwgY29udGV4dCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5uZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9oZWFkLm5leHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbmNlbElmTmVlZGVkKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdGFydHMgdGhlIHRpY2tlci4gSWYgdGhlIHRpY2tlciBoYXMgbGlzdGVuZXJzXG4gICAgICogYSBuZXcgYW5pbWF0aW9uIGZyYW1lIGlzIHJlcXVlc3RlZCBhdCB0aGlzIHBvaW50LlxuICAgICAqL1xuICAgIHN0YXJ0KClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5zdGFydGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdElmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgdGlja2VyLiBJZiB0aGUgdGlja2VyIGhhcyByZXF1ZXN0ZWRcbiAgICAgKiBhbiBhbmltYXRpb24gZnJhbWUgaXQgaXMgY2FuY2VsZWQgYXQgdGhpcyBwb2ludC5cbiAgICAgKi9cbiAgICBzdG9wKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhlIHRpY2tlciBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuIENhbGxpbmdcbiAgICAgKiB0aGlzIG1ldGhvZCByZW1vdmVzIGFsbCByZWZlcmVuY2VzIHRvIGludGVybmFsIGV2ZW50cy5cbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5fcHJvdGVjdGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnN0b3AoKTtcblxuICAgICAgICAgICAgbGV0IGxpc3RlbmVyID0gdGhpcy5faGVhZC5uZXh0O1xuXG4gICAgICAgICAgICB3aGlsZSAobGlzdGVuZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9oZWFkLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX2hlYWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgYW4gdXBkYXRlLiBBbiB1cGRhdGUgZW50YWlscyBzZXR0aW5nIHRoZVxuICAgICAqIGN1cnJlbnQge0BsaW5rIFBJWEkuVGlja2VyI2VsYXBzZWRNU30sXG4gICAgICogdGhlIGN1cnJlbnQge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX0sXG4gICAgICogaW52b2tpbmcgYWxsIGxpc3RlbmVycyB3aXRoIGN1cnJlbnQgZGVsdGFUaW1lLFxuICAgICAqIGFuZCB0aGVuIGZpbmFsbHkgc2V0dGluZyB7QGxpbmsgUElYSS5UaWNrZXIjbGFzdFRpbWV9XG4gICAgICogd2l0aCB0aGUgdmFsdWUgb2YgY3VycmVudFRpbWUgdGhhdCB3YXMgcHJvdmlkZWQuXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgYXV0b21hdGljYWxseSBieSBhbmltYXRpb25cbiAgICAgKiBmcmFtZSBjYWxsYmFja3MgaWYgdGhlIHRpY2tlciBpbnN0YW5jZSBoYXMgYmVlbiBzdGFydGVkXG4gICAgICogYW5kIGxpc3RlbmVycyBhcmUgYWRkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2N1cnJlbnRUaW1lPXBlcmZvcm1hbmNlLm5vdygpXSAtIHRoZSBjdXJyZW50IHRpbWUgb2YgZXhlY3V0aW9uXG4gICAgICovXG4gICAgdXBkYXRlKGN1cnJlbnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCkpXG4gICAge1xuICAgICAgICBsZXQgZWxhcHNlZE1TO1xuXG4gICAgICAgIC8vIElmIHRoZSBkaWZmZXJlbmNlIGluIHRpbWUgaXMgemVybyBvciBuZWdhdGl2ZSwgd2UgaWdub3JlIG1vc3Qgb2YgdGhlIHdvcmsgZG9uZSBoZXJlLlxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyB2YWxpZCBkaWZmZXJlbmNlLCB0aGVuIHNob3VsZCBiZSBubyByZWFzb24gdG8gbGV0IGFueW9uZSBrbm93IGFib3V0IGl0LlxuICAgICAgICAvLyBBIHplcm8gZGVsdGEsIGlzIGV4YWN0bHkgdGhhdCwgbm90aGluZyBzaG91bGQgdXBkYXRlLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgZGlmZmVyZW5jZSBpbiB0aW1lIGNhbiBiZSBuZWdhdGl2ZSwgYW5kIG5vIHRoaXMgZG9lcyBub3QgbWVhbiB0aW1lIHRyYXZlbGluZy5cbiAgICAgICAgLy8gVGhpcyBjYW4gYmUgdGhlIHJlc3VsdCBvZiBhIHJhY2UgY29uZGl0aW9uIGJldHdlZW4gd2hlbiBhbiBhbmltYXRpb24gZnJhbWUgaXMgcmVxdWVzdGVkXG4gICAgICAgIC8vIG9uIHRoZSBjdXJyZW50IEphdmFTY3JpcHQgZW5naW5lIGV2ZW50IGxvb3AsIGFuZCB3aGVuIHRoZSB0aWNrZXIncyBzdGFydCBtZXRob2QgaXMgaW52b2tlZFxuICAgICAgICAvLyAod2hpY2ggaW52b2tlcyB0aGUgaW50ZXJuYWwgX3JlcXVlc3RJZk5lZWRlZCBtZXRob2QpLiBJZiBhIGZyYW1lIGlzIHJlcXVlc3RlZCBiZWZvcmVcbiAgICAgICAgLy8gX3JlcXVlc3RJZk5lZWRlZCBpcyBpbnZva2VkLCB0aGVuIHRoZSBjYWxsYmFjayBmb3IgdGhlIGFuaW1hdGlvbiBmcmFtZSB0aGUgdGlja2VyIHJlcXVlc3RzLFxuICAgICAgICAvLyBjYW4gcmVjZWl2ZSBhIHRpbWUgYXJndW1lbnQgdGhhdCBjYW4gYmUgbGVzcyB0aGFuIHRoZSBsYXN0VGltZSB2YWx1ZSB0aGF0IHdhcyBzZXQgd2l0aGluXG4gICAgICAgIC8vIF9yZXF1ZXN0SWZOZWVkZWQuIFRoaXMgZGlmZmVyZW5jZSBpcyBpbiBtaWNyb3NlY29uZHMsIGJ1dCB0aGlzIGlzIGVub3VnaCB0byBjYXVzZSBwcm9ibGVtcy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBjaGVjayBjb3ZlcnMgdGhpcyBicm93c2VyIGVuZ2luZSB0aW1pbmcgaXNzdWUsIGFzIHdlbGwgYXMgaWYgY29uc3VtZXJzIHBhc3MgYW4gaW52YWxpZFxuICAgICAgICAvLyBjdXJyZW50VGltZSB2YWx1ZS4gVGhpcyBtYXkgaGFwcGVuIGlmIGNvbnN1bWVycyBvcHQtb3V0IG9mIHRoZSBhdXRvU3RhcnQsIGFuZCB1cGRhdGUgdGhlbXNlbHZlcy5cblxuICAgICAgICBpZiAoY3VycmVudFRpbWUgPiB0aGlzLmxhc3RUaW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBTYXZlIHVuY2FwcGVkIGVsYXBzZWRNUyBmb3IgbWVhc3VyZW1lbnRcbiAgICAgICAgICAgIGVsYXBzZWRNUyA9IHRoaXMuZWxhcHNlZE1TID0gY3VycmVudFRpbWUgLSB0aGlzLmxhc3RUaW1lO1xuXG4gICAgICAgICAgICAvLyBjYXAgdGhlIG1pbGxpc2Vjb25kcyBlbGFwc2VkIHVzZWQgZm9yIGRlbHRhVGltZVxuICAgICAgICAgICAgaWYgKGVsYXBzZWRNUyA+IHRoaXMuX21heEVsYXBzZWRNUylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBlbGFwc2VkTVMgPSB0aGlzLl9tYXhFbGFwc2VkTVM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsYXBzZWRNUyAqPSB0aGlzLnNwZWVkO1xuXG4gICAgICAgICAgICAvLyBpZiBub3QgZW5vdWdoIHRpbWUgaGFzIHBhc3NlZCwgZXhpdCB0aGUgZnVuY3Rpb24uXG4gICAgICAgICAgICAvLyBXZSBnaXZlIGFuIGV4dHJhIG1zIHRvIGVsYXBzZWRNUyBmb3IgdGhpcyBjaGVjaywgYmVjYXVzZSB0aGUgbmF0dXJlIG9mXG4gICAgICAgICAgICAvLyByZXF1ZXN0IGFuaW1hdGlvbiBmcmFtZSBtZWFucyB0aGF0IG5vdCBhbGwgYnJvd3NlcnMgd2lsbCByZXR1cm4gcHJlY2lzZSB2YWx1ZXMuXG4gICAgICAgICAgICAvLyBIb3dldmVyLCBiZWNhdXNlIHJBRiB3b3JrcyBiYXNlZCBvbiB2LXN5bmMsIGl0J3Mgd29uJ3QgY2hhbmdlIHRoZSBlZmZlY3RpdmUgRlBTLlxuICAgICAgICAgICAgaWYgKHRoaXMuX21pbkVsYXBzZWRNUyAmJiBlbGFwc2VkTVMgKyAxIDwgdGhpcy5fbWluRWxhcHNlZE1TKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5kZWx0YU1TID0gZWxhcHNlZE1TO1xuICAgICAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSB0aGlzLmRlbHRhTVMgKiBzZXR0aW5ncy5UQVJHRVRfRlBNUztcblxuICAgICAgICAgICAgLy8gQ2FjaGUgYSBsb2NhbCByZWZlcmVuY2UsIGluLWNhc2UgdGlja2VyIGlzIGRlc3Ryb3llZFxuICAgICAgICAgICAgLy8gZHVyaW5nIHRoZSBlbWl0LCB3ZSBjYW4gc3RpbGwgY2hlY2sgZm9yIGhlYWQubmV4dFxuICAgICAgICAgICAgY29uc3QgaGVhZCA9IHRoaXMuX2hlYWQ7XG5cbiAgICAgICAgICAgIC8vIEludm9rZSBsaXN0ZW5lcnMgYWRkZWQgdG8gaW50ZXJuYWwgZW1pdHRlclxuICAgICAgICAgICAgbGV0IGxpc3RlbmVyID0gaGVhZC5uZXh0O1xuXG4gICAgICAgICAgICB3aGlsZSAobGlzdGVuZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5lbWl0KHRoaXMuZGVsdGFUaW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFoZWFkLm5leHQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGVsdGFUaW1lID0gdGhpcy5kZWx0YU1TID0gdGhpcy5lbGFwc2VkTVMgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IGN1cnJlbnRUaW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBmcmFtZXMgcGVyIHNlY29uZCBhdCB3aGljaCB0aGlzIHRpY2tlciBpcyBydW5uaW5nLlxuICAgICAqIFRoZSBkZWZhdWx0IGlzIGFwcHJveGltYXRlbHkgNjAgaW4gbW9zdCBtb2Rlcm4gYnJvd3NlcnMuXG4gICAgICogKipOb3RlOioqIFRoaXMgZG9lcyBub3QgZmFjdG9yIGluIHRoZSB2YWx1ZSBvZlxuICAgICAqIHtAbGluayBQSVhJLlRpY2tlciNzcGVlZH0sIHdoaWNoIGlzIHNwZWNpZmljXG4gICAgICogdG8gc2NhbGluZyB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgRlBTKClcbiAgICB7XG4gICAgICAgIHJldHVybiAxMDAwIC8gdGhpcy5lbGFwc2VkTVM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFuYWdlcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgbWlsbGlzZWNvbmRzIGFsbG93ZWQgdG9cbiAgICAgKiBlbGFwc2UgYmV0d2VlbiBpbnZva2luZyB7QGxpbmsgUElYSS5UaWNrZXIjdXBkYXRlfS5cbiAgICAgKiBUaGlzIHZhbHVlIGlzIHVzZWQgdG8gY2FwIHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9LFxuICAgICAqIGJ1dCBkb2VzIG5vdCBlZmZlY3QgdGhlIG1lYXN1cmVkIHZhbHVlIG9mIHtAbGluayBQSVhJLlRpY2tlciNGUFN9LlxuICAgICAqIFdoZW4gc2V0dGluZyB0aGlzIHByb3BlcnR5IGl0IGlzIGNsYW1wZWQgdG8gYSB2YWx1ZSBiZXR3ZWVuXG4gICAgICogYDBgIGFuZCBgUElYSS5zZXR0aW5ncy5UQVJHRVRfRlBNUyAqIDEwMDBgLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDEwXG4gICAgICovXG4gICAgZ2V0IG1pbkZQUygpXG4gICAge1xuICAgICAgICByZXR1cm4gMTAwMCAvIHRoaXMuX21heEVsYXBzZWRNUztcbiAgICB9XG5cbiAgICBzZXQgbWluRlBTKGZwcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICAvLyBNaW5pbXVtIG11c3QgYmUgYmVsb3cgdGhlIG1heEZQU1xuICAgICAgICBjb25zdCBtaW5GUFMgPSBNYXRoLm1pbih0aGlzLm1heEZQUywgZnBzKTtcblxuICAgICAgICAvLyBNdXN0IGJlIGF0IGxlYXN0IDAsIGJ1dCBiZWxvdyAxIC8gc2V0dGluZ3MuVEFSR0VUX0ZQTVNcbiAgICAgICAgY29uc3QgbWluRlBNUyA9IE1hdGgubWluKE1hdGgubWF4KDAsIG1pbkZQUykgLyAxMDAwLCBzZXR0aW5ncy5UQVJHRVRfRlBNUyk7XG5cbiAgICAgICAgdGhpcy5fbWF4RWxhcHNlZE1TID0gMSAvIG1pbkZQTVM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFuYWdlcyB0aGUgbWluaW11bSBhbW91bnQgb2YgbWlsbGlzZWNvbmRzIGFsbG93ZWQgdG9cbiAgICAgKiBlbGFwc2UgYmV0d2VlbiBpbnZva2luZyB7QGxpbmsgUElYSS5UaWNrZXIjdXBkYXRlfS5cbiAgICAgKiBUaGlzIHdpbGwgZWZmZWN0IHRoZSBtZWFzdXJlZCB2YWx1ZSBvZiB7QGxpbmsgUElYSS5UaWNrZXIjRlBTfS5cbiAgICAgKiBXaGVuIHNldHRpbmcgdGhpcyBwcm9wZXJ0eSBpdCBpcyBjbGFtcGVkIHRvIGEgdmFsdWUgYmV0d2VlblxuICAgICAqIGAxYCBhbmQgYFRBUkdFVF9GUE1TICogMTAwMGAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgNjBcbiAgICAgKi9cbiAgICBnZXQgbWF4RlBTKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9taW5FbGFwc2VkTVMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAxMDAwIC8gdGhpcy5fbWluRWxhcHNlZE1TO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNldHRpbmdzLlRBUkdFVF9GUE1TICogMTAwMDtcbiAgICB9XG5cbiAgICBzZXQgbWF4RlBTKGZwcylcbiAgICB7XG4gICAgICAgIGlmIChmcHMgLyAxMDAwID49IHNldHRpbmdzLlRBUkdFVF9GUE1TKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9taW5FbGFwc2VkTVMgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gTWF4IG11c3QgYmUgYXQgbGVhc3QgdGhlIG1pbkZQU1xuICAgICAgICAgICAgY29uc3QgbWF4RlBTID0gTWF0aC5tYXgodGhpcy5taW5GUFMsIGZwcyk7XG5cbiAgICAgICAgICAgIC8vIE11c3QgYmUgYXQgbGVhc3QgMSwgYnV0IGJlbG93IDEgLyBzZXR0aW5ncy5UQVJHRVRfRlBNU1xuICAgICAgICAgICAgY29uc3QgbWF4RlBNUyA9IE1hdGgubWluKE1hdGgubWF4KDEsIG1heEZQUykgLyAxMDAwLCBzZXR0aW5ncy5UQVJHRVRfRlBNUyk7XG5cbiAgICAgICAgICAgIHRoaXMuX21pbkVsYXBzZWRNUyA9IDEgLyBtYXhGUE1TO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHNoYXJlZCB0aWNrZXIgaW5zdGFuY2UgdXNlZCBieSB7QGxpbmsgUElYSS5BbmltYXRlZFNwcml0ZX0gYW5kIGJ5XG4gICAgICoge0BsaW5rIFBJWEkuVmlkZW9SZXNvdXJjZX0gdG8gdXBkYXRlIGFuaW1hdGlvbiBmcmFtZXMgLyB2aWRlbyB0ZXh0dXJlcy5cbiAgICAgKlxuICAgICAqIEl0IG1heSBhbHNvIGJlIHVzZWQgYnkge0BsaW5rIFBJWEkuQXBwbGljYXRpb259IGlmIGNyZWF0ZWQgd2l0aCB0aGUgYHNoYXJlZFRpY2tlcmAgb3B0aW9uIHByb3BlcnR5IHNldCB0byB0cnVlLlxuICAgICAqXG4gICAgICogVGhlIHByb3BlcnR5IHtAbGluayBQSVhJLlRpY2tlciNhdXRvU3RhcnR9IGlzIHNldCB0byBgdHJ1ZWAgZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAgICogUGxlYXNlIGZvbGxvdyB0aGUgZXhhbXBsZXMgZm9yIHVzYWdlLCBpbmNsdWRpbmcgaG93IHRvIG9wdC1vdXQgb2YgYXV0by1zdGFydGluZyB0aGUgc2hhcmVkIHRpY2tlci5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogbGV0IHRpY2tlciA9IFBJWEkuVGlja2VyLnNoYXJlZDtcbiAgICAgKiAvLyBTZXQgdGhpcyB0byBwcmV2ZW50IHN0YXJ0aW5nIHRoaXMgdGlja2VyIHdoZW4gbGlzdGVuZXJzIGFyZSBhZGRlZC5cbiAgICAgKiAvLyBCeSBkZWZhdWx0IHRoaXMgaXMgdHJ1ZSBvbmx5IGZvciB0aGUgUElYSS5UaWNrZXIuc2hhcmVkIGluc3RhbmNlLlxuICAgICAqIHRpY2tlci5hdXRvU3RhcnQgPSBmYWxzZTtcbiAgICAgKiAvLyBGWUksIGNhbGwgdGhpcyB0byBlbnN1cmUgdGhlIHRpY2tlciBpcyBzdG9wcGVkLiBJdCBzaG91bGQgYmUgc3RvcHBlZFxuICAgICAqIC8vIGlmIHlvdSBoYXZlIG5vdCBhdHRlbXB0ZWQgdG8gcmVuZGVyIGFueXRoaW5nIHlldC5cbiAgICAgKiB0aWNrZXIuc3RvcCgpO1xuICAgICAqIC8vIENhbGwgdGhpcyB3aGVuIHlvdSBhcmUgcmVhZHkgZm9yIGEgcnVubmluZyBzaGFyZWQgdGlja2VyLlxuICAgICAqIHRpY2tlci5zdGFydCgpO1xuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBZb3UgbWF5IHVzZSB0aGUgc2hhcmVkIHRpY2tlciB0byByZW5kZXIuLi5cbiAgICAgKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigpO1xuICAgICAqIGxldCBzdGFnZSA9IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICAgICAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocmVuZGVyZXIudmlldyk7XG4gICAgICogdGlja2VyLmFkZChmdW5jdGlvbiAodGltZSkge1xuICAgICAqICAgICByZW5kZXJlci5yZW5kZXIoc3RhZ2UpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBPciB5b3UgY2FuIGp1c3QgdXBkYXRlIGl0IG1hbnVhbGx5LlxuICAgICAqIHRpY2tlci5hdXRvU3RhcnQgPSBmYWxzZTtcbiAgICAgKiB0aWNrZXIuc3RvcCgpO1xuICAgICAqIGZ1bmN0aW9uIGFuaW1hdGUodGltZSkge1xuICAgICAqICAgICB0aWNrZXIudXBkYXRlKHRpbWUpO1xuICAgICAqICAgICByZW5kZXJlci5yZW5kZXIoc3RhZ2UpO1xuICAgICAqICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG4gICAgICogfVxuICAgICAqIGFuaW1hdGUocGVyZm9ybWFuY2Uubm93KCkpO1xuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UaWNrZXJ9XG4gICAgICogQHN0YXRpY1xuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgc2hhcmVkKClcbiAgICB7XG4gICAgICAgIGlmICghVGlja2VyLl9zaGFyZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYXJlZCA9IFRpY2tlci5fc2hhcmVkID0gbmV3IFRpY2tlcigpO1xuXG4gICAgICAgICAgICBzaGFyZWQuYXV0b1N0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHNoYXJlZC5fcHJvdGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBUaWNrZXIuX3NoYXJlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3lzdGVtIHRpY2tlciBpbnN0YW5jZSB1c2VkIGJ5IHtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcn0gYW5kIGJ5XG4gICAgICoge0BsaW5rIFBJWEkuQmFzZVByZXBhcmV9IGZvciBjb3JlIHRpbWluZyBmdW5jdGlvbmFsaXR5IHRoYXQgc2hvdWxkbid0IHVzdWFsbHkgbmVlZCB0byBiZSBwYXVzZWQsXG4gICAgICogdW5saWtlIHRoZSBgc2hhcmVkYCB0aWNrZXIgd2hpY2ggZHJpdmVzIHZpc3VhbCBhbmltYXRpb25zIGFuZCByZW5kZXJpbmcgd2hpY2ggbWF5IHdhbnQgdG8gYmUgcGF1c2VkLlxuICAgICAqXG4gICAgICogVGhlIHByb3BlcnR5IHtAbGluayBQSVhJLlRpY2tlciNhdXRvU3RhcnR9IGlzIHNldCB0byBgdHJ1ZWAgZm9yIHRoaXMgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRpY2tlcn1cbiAgICAgKiBAc3RhdGljXG4gICAgICovXG4gICAgc3RhdGljIGdldCBzeXN0ZW0oKVxuICAgIHtcbiAgICAgICAgaWYgKCFUaWNrZXIuX3N5c3RlbSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgc3lzdGVtID0gVGlja2VyLl9zeXN0ZW0gPSBuZXcgVGlja2VyKCk7XG5cbiAgICAgICAgICAgIHN5c3RlbS5hdXRvU3RhcnQgPSB0cnVlO1xuICAgICAgICAgICAgc3lzdGVtLl9wcm90ZWN0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFRpY2tlci5fc3lzdGVtO1xuICAgIH1cbn1cbiIsImltcG9ydCBUaWNrZXIgZnJvbSAnLi9UaWNrZXInO1xuaW1wb3J0IHsgVVBEQVRFX1BSSU9SSVRZIH0gZnJvbSAnLi9jb25zdCc7XG5cbi8qKlxuICogTWlkZGxld2FyZSBmb3IgZm9yIEFwcGxpY2F0aW9uIFRpY2tlci5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHtUaWNrZXJQbHVnaW59IGZyb20gJ0BwaXhpL3RpY2tlcic7XG4gKiBpbXBvcnQge0FwcGxpY2F0aW9ufSBmcm9tICdAcGl4aS9hcHAnO1xuICogQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oVGlja2VyUGx1Z2luKTtcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpY2tlclBsdWdpblxue1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIHBsdWdpbiB3aXRoIHNjb3BlIG9mIGFwcGxpY2F0aW9uIGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gU2VlIGFwcGxpY2F0aW9uIG9wdGlvbnNcbiAgICAgKi9cbiAgICBzdGF0aWMgaW5pdChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgLy8gU2V0IGRlZmF1bHRcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgYXV0b1N0YXJ0OiB0cnVlLFxuICAgICAgICAgICAgc2hhcmVkVGlja2VyOiBmYWxzZSxcbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIHRpY2tlciBzZXR0ZXJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICd0aWNrZXInLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldCh0aWNrZXIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fdGlja2VyKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90aWNrZXIucmVtb3ZlKHRoaXMucmVuZGVyLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aWNrZXIgPSB0aWNrZXI7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aWNrZXIpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpY2tlci5hZGQodGhpcy5yZW5kZXIsIHRoaXMsIFVQREFURV9QUklPUklUWS5MT1cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpY2tlcjtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3Igc3RvcHBpbmcgdGhlIHJlbmRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkFwcGxpY2F0aW9uI3N0b3BcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RvcCA9ICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RpY2tlci5zdG9wKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3Igc3RhcnRpbmcgdGhlIHJlbmRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkFwcGxpY2F0aW9uI3N0YXJ0XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0ID0gKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdGlja2VyLnN0YXJ0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHJlZmVyZW5jZSB0byB0aGUgdGlja2VyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBuYW1lIF90aWNrZXJcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aWNrZXIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaWNrZXIgZm9yIGRvaW5nIHJlbmRlciB1cGRhdGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBuYW1lIHRpY2tlclxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvbiNcbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5UaWNrZXIuc2hhcmVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRpY2tlciA9IG9wdGlvbnMuc2hhcmVkVGlja2VyID8gVGlja2VyLnNoYXJlZCA6IG5ldyBUaWNrZXIoKTtcblxuICAgICAgICAvLyBTdGFydCB0aGUgcmVuZGVyaW5nXG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9TdGFydClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAgdGhlIHRpY2tlciwgc2NvcGVkIHRvIGFwcGxpY2F0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgc3RhdGljIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3RpY2tlcilcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgb2xkVGlja2VyID0gdGhpcy5fdGlja2VyO1xuXG4gICAgICAgICAgICB0aGlzLnRpY2tlciA9IG51bGw7XG4gICAgICAgICAgICBvbGRUaWNrZXIuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUnVubmVyIH0gZnJvbSAnQHBpeGkvcnVubmVyJztcblxuLyoqXG4gKiBCYXNlIHJlc291cmNlIGNsYXNzIGZvciB0ZXh0dXJlcyB0aGF0IG1hbmFnZXMgdmFsaWRhdGlvbiBhbmQgdXBsb2FkaW5nLCBkZXBlbmRpbmcgb24gaXRzIHR5cGUuXG4gKlxuICogVXBsb2FkaW5nIG9mIGEgYmFzZSB0ZXh0dXJlIHRvIHRoZSBHUFUgaXMgcmVxdWlyZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzb3VyY2VcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTBdIFdpZHRoIG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTBdIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCA9IDAsIGhlaWdodCA9IDApXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgd2lkdGggb2YgdGhlIHJlc291cmNlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgaGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgcmVzb3VyY2UgaGFzIGJlZW4gZGVzdHJveWVkXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHJlc291cmNlIGlzIGNyZWF0ZWQgYnkgQmFzZVRleHR1cmVcbiAgICAgICAgICogdXNlZnVsIGZvciBkb2luZyBjbGVhbnVwIHdpdGggQmFzZVRleHR1cmUgZGVzdHJveVxuICAgICAgICAgKiBhbmQgbm90IGNsZWFuaW5nIHVwIHJlc291cmNlcyB0aGF0IHdlcmUgY3JlYXRlZFxuICAgICAgICAgKiBleHRlcm5hbGx5LlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmludGVybmFsID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pbmktcnVubmVyIGZvciBoYW5kbGluZyByZXNpemUgZXZlbnRzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1J1bm5lcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25SZXNpemUgPSBuZXcgUnVubmVyKCdzZXRSZWFsU2l6ZScsIDIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNaW5pLXJ1bm5lciBmb3IgaGFuZGxpbmcgdXBkYXRlIGV2ZW50c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSdW5uZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uVXBkYXRlID0gbmV3IFJ1bm5lcigndXBkYXRlJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQmluZCB0byBhIHBhcmVudCBCYXNlVGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFBhcmVudCB0ZXh0dXJlXG4gICAgICovXG4gICAgYmluZChiYXNlVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHRoaXMub25SZXNpemUuYWRkKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5vblVwZGF0ZS5hZGQoYmFzZVRleHR1cmUpO1xuXG4gICAgICAgIC8vIENhbGwgYSByZXNpemUgaW1tZWRpYXRlIGlmIHdlIGFscmVhZHlcbiAgICAgICAgLy8gaGF2ZSB0aGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgICAgaWYgKHRoaXMuX3dpZHRoIHx8IHRoaXMuX2hlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5vblJlc2l6ZS5ydW4odGhpcy5fd2lkdGgsIHRoaXMuX2hlaWdodCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVbmJpbmQgdG8gYSBwYXJlbnQgQmFzZVRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBQYXJlbnQgdGV4dHVyZVxuICAgICAqL1xuICAgIHVuYmluZChiYXNlVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHRoaXMub25SZXNpemUucmVtb3ZlKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5vblVwZGF0ZS5yZW1vdmUoYmFzZVRleHR1cmUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgYSByZXNpemUgZXZlbnRcbiAgICAgKi9cbiAgICByZXNpemUod2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIGlmICh3aWR0aCAhPT0gdGhpcy5fd2lkdGggfHwgaGVpZ2h0ICE9PSB0aGlzLl9oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplLnJ1bih3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhcyBiZWVuIHZhbGlkYXRlZFxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IHZhbGlkKClcbiAgICB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX3dpZHRoICYmICEhdGhpcy5faGVpZ2h0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhcyBiZWVuIHVwZGF0ZWQgdHJpZ2dlciBldmVudFxuICAgICAqL1xuICAgIHVwZGF0ZSgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuZGVzdHJveWVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm9uVXBkYXRlLnJ1bigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBjYW4gYmUgb3ZlcnJpZGRlbiB0byBzdGFydCBwcmVsb2FkaW5nIGEgcmVzb3VyY2VcbiAgICAgKiBvciBkbyBhbnkgb3RoZXIgcHJlcGFyZSBzdGVwLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPHZvaWQ+fSBIYW5kbGUgdGhlIHZhbGlkYXRlIGV2ZW50XG4gICAgICovXG4gICAgbG9hZCgpXG4gICAge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgd2lkdGgoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCBoZWlnaHQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB0ZXh0dXJlIG9yIHJldHVybnMgZmFsc2UgaWYgaXQgY2FudCBmb3Igc29tZSByZWFzb24uIE92ZXJyaWRlIHRoaXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0geWVhaCwgcmVuZGVyZXIhXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIC0gdGV4dHVyZSBpbnN0YW5jZSBmb3IgdGhpcyB3ZWJnbCBjb250ZXh0XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIHVwbG9hZChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc3R5bGUsIG9wdGlvbmFsIHRvIG92ZXJyaWRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0geWVhaCwgcmVuZGVyZXIhXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIC0gdGV4dHVyZSBpbnN0YW5jZSBmb3IgdGhpcyB3ZWJnbCBjb250ZXh0XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgc3R5bGUocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cCBhbnl0aGluZywgdGhpcyBoYXBwZW5zIHdoZW4gZGVzdHJveWluZyBpcyByZWFkeS5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBkaXNwb3NlKClcbiAgICB7XG4gICAgICAgIC8vIG92ZXJyaWRlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbCB3aGVuIGRlc3Ryb3lpbmcgcmVzb3VyY2UsIHVuYmluZCBhbnkgQmFzZVRleHR1cmUgb2JqZWN0XG4gICAgICogYmVmb3JlIGNhbGxpbmcgdGhpcyBtZXRob2QsIGFzIHJlZmVyZW5jZSBjb3VudHMgYXJlIG1haW50YWluZWRcbiAgICAgKiBpbnRlcm5hbGx5LlxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmRlc3Ryb3llZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5vblJlc2l6ZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgICAgIHRoaXMub25SZXNpemUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vblVwZGF0ZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgICAgIHRoaXMub25VcGRhdGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgUmVzb3VyY2UgZnJvbSAnLi9SZXNvdXJjZSc7XG5pbXBvcnQgeyBkZXRlcm1pbmVDcm9zc09yaWdpbiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyoqXG4gKiBCYXNlIGZvciBhbGwgdGhlIGltYWdlL2NhbnZhcyByZXNvdXJjZXNcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlSW1hZ2VSZXNvdXJjZSBleHRlbmRzIFJlc291cmNlXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8U1ZHRWxlbWVudH0gc291cmNlXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc291cmNlKVxuICAgIHtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBzb3VyY2UubmF0dXJhbFdpZHRoIHx8IHNvdXJjZS52aWRlb1dpZHRoIHx8IHNvdXJjZS53aWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gc291cmNlLm5hdHVyYWxIZWlnaHQgfHwgc291cmNlLnZpZGVvSGVpZ2h0IHx8IHNvdXJjZS5oZWlnaHQ7XG5cbiAgICAgICAgc3VwZXIod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzb3VyY2UgZWxlbWVudFxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8U1ZHRWxlbWVudH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgY3Jvc3Mgb3JpZ2luIGJhc2VkIGRldGVjdGluZyB0aGUgdXJsIGFuZCB0aGUgY3Jvc3NvcmlnaW5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gYXBwbHkgY3Jvc3NPcmlnaW5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVVJMIHRvIGNoZWNrXG4gICAgICogQHBhcmFtIHtib29sZWFufHN0cmluZ30gW2Nyb3Nzb3JpZ2luPXRydWVdIC0gQ3Jvc3Mgb3JpZ2luIHZhbHVlIHRvIHVzZVxuICAgICAqL1xuICAgIHN0YXRpYyBjcm9zc09yaWdpbihlbGVtZW50LCB1cmwsIGNyb3Nzb3JpZ2luKVxuICAgIHtcbiAgICAgICAgaWYgKGNyb3Nzb3JpZ2luID09PSB1bmRlZmluZWQgJiYgdXJsLmluZGV4T2YoJ2RhdGE6JykgIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY3Jvc3NPcmlnaW4gPSBkZXRlcm1pbmVDcm9zc09yaWdpbih1cmwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNyb3Nzb3JpZ2luICE9PSBmYWxzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgZWxlbWVudC5jcm9zc09yaWdpbiA9IHR5cGVvZiBjcm9zc29yaWdpbiA9PT0gJ3N0cmluZycgPyBjcm9zc29yaWdpbiA6ICdhbm9ueW1vdXMnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSB0ZXh0dXJlIHRvIHRoZSBHUFUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciBVcGxvYWQgdG8gdGhlIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSBSZWZlcmVuY2UgdG8gcGFyZW50IHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmVcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxTVkdFbGVtZW50fSBbc291cmNlXSAob3B0aW9uYWwpXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIHVwbG9hZChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSwgc291cmNlKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2wgPSByZW5kZXJlci5nbDtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBiYXNlVGV4dHVyZS5yZWFsV2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGJhc2VUZXh0dXJlLnJlYWxIZWlnaHQ7XG5cbiAgICAgICAgc291cmNlID0gc291cmNlIHx8IHRoaXMuc291cmNlO1xuXG4gICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgYmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSk7XG5cbiAgICAgICAgaWYgKGJhc2VUZXh0dXJlLnRhcmdldCA9PT0gZ2wuVEVYVFVSRV8yRCAmJiBnbFRleHR1cmUud2lkdGggPT09IHdpZHRoICYmIGdsVGV4dHVyZS5oZWlnaHQgPT09IGhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCAwLCAwLCBiYXNlVGV4dHVyZS5mb3JtYXQsIGJhc2VUZXh0dXJlLnR5cGUsIHNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBnbFRleHR1cmUud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoYmFzZVRleHR1cmUudGFyZ2V0LCAwLCBiYXNlVGV4dHVyZS5mb3JtYXQsIGJhc2VUZXh0dXJlLmZvcm1hdCwgYmFzZVRleHR1cmUudHlwZSwgc291cmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBzb3VyY2Ugd2lkdGgvaGVpZ2h0IHdhcyBjaGFuZ2VkLCByZXNpemUgY2FuIGNhdXNlIGV4dHJhIGJhc2VUZXh0dXJlIHVwZGF0ZS5cbiAgICAgKiBUcmlnZ2VycyBvbmUgdXBkYXRlIGluIGFueSBjYXNlLlxuICAgICAqL1xuICAgIHVwZGF0ZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5zb3VyY2UubmF0dXJhbFdpZHRoIHx8IHRoaXMuc291cmNlLnZpZGVvV2lkdGggfHwgdGhpcy5zb3VyY2Uud2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuc291cmNlLm5hdHVyYWxIZWlnaHQgfHwgdGhpcy5zb3VyY2UudmlkZW9IZWlnaHQgfHwgdGhpcy5zb3VyY2UuaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIHN1cGVyLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhpcyBCYXNlSW1hZ2VSZXNvdXJjZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gW2Zyb21UZXh0dXJlXSBPcHRpb25hbCBiYXNlIHRleHR1cmVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBEZXN0cm95IHdhcyBzdWNjZXNzZnVsXG4gICAgICovXG4gICAgZGlzcG9zZSgpXG4gICAge1xuICAgICAgICB0aGlzLnNvdXJjZSA9IG51bGw7XG4gICAgfVxufVxuIiwiaW1wb3J0IEJhc2VJbWFnZVJlc291cmNlIGZyb20gJy4vQmFzZUltYWdlUmVzb3VyY2UnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgSFRNTEltYWdlRWxlbWVudC5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbWFnZVJlc291cmNlIGV4dGVuZHMgQmFzZUltYWdlUmVzb3VyY2VcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8c3RyaW5nfSBzb3VyY2UgLSBpbWFnZSBzb3VyY2Ugb3IgVVJMXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvTG9hZD10cnVlXSBzdGFydCBsb2FkaW5nIHByb2Nlc3NcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyZWF0ZUJpdG1hcD1QSVhJLnNldHRpbmdzLkNSRUFURV9JTUFHRV9CSVRNQVBdIHdoZXRoZXIgaXRzIHJlcXVpcmVkIHRvIGNyZWF0ZVxuICAgICAqICAgICAgICBhIGJpdG1hcCBiZWZvcmUgdXBsb2FkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jcm9zc29yaWdpbj10cnVlXSAtIExvYWQgaW1hZ2UgdXNpbmcgY3Jvc3Mgb3JpZ2luXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVtdWx0aXBseUFscGhhPXRydWVdIC0gUHJlbXVsdGlwbHkgaW1hZ2UgYWxwaGEgaW4gYml0bWFwXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc291cmNlLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgaWYgKCEoc291cmNlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGltYWdlRWxlbWVudCA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZS5jcm9zc09yaWdpbihpbWFnZUVsZW1lbnQsIHNvdXJjZSwgb3B0aW9ucy5jcm9zc29yaWdpbik7XG5cbiAgICAgICAgICAgIGltYWdlRWxlbWVudC5zcmMgPSBzb3VyY2U7XG4gICAgICAgICAgICBzb3VyY2UgPSBpbWFnZUVsZW1lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlcihzb3VyY2UpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVUkwgb2YgdGhlIGltYWdlIHNvdXJjZVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVybCA9IHNvdXJjZS5zcmM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gcHJvY2VzcyBpcyBjb21wbGV0ZWRcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZTx2b2lkPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Byb2Nlc3MgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgaW1hZ2Ugc2hvdWxkIGJlIGRpc3Bvc2VkIGFmdGVyIHVwbG9hZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmVzZXJ2ZUJpdG1hcCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBjYXBhYmxlLCBjb252ZXJ0IHRoZSBpbWFnZSB1c2luZyBjcmVhdGVJbWFnZUJpdG1hcCBBUElcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5DUkVBVEVfSU1BR0VfQklUTUFQXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNyZWF0ZUJpdG1hcCA9IChvcHRpb25zLmNyZWF0ZUJpdG1hcCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IG9wdGlvbnMuY3JlYXRlQml0bWFwIDogc2V0dGluZ3MuQ1JFQVRFX0lNQUdFX0JJVE1BUCkgJiYgISF3aW5kb3cuY3JlYXRlSW1hZ2VCaXRtYXA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnRyb2xzIHRleHR1cmUgcHJlbXVsdGlwbHlBbHBoYSBmaWVsZFxuICAgICAgICAgKiBDb3BpZXMgZnJvbSBvcHRpb25zXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW58bnVsbH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZW11bHRpcGx5QWxwaGEgPSBvcHRpb25zLnByZW11bHRpcGx5QWxwaGEgIT09IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgSW1hZ2VCaXRtYXAgZWxlbWVudCBjcmVhdGVkIGZvciBIVE1MSW1hZ2VFbGVtZW50XG4gICAgICAgICAqIEBtZW1iZXIge0ltYWdlQml0bWFwfVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJpdG1hcCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb21pc2Ugd2hlbiBsb2FkaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2U8dm9pZD59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9Mb2FkICE9PSBmYWxzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIGEgcHJvbWlzZSB3aGVuIGltYWdlIHdpbGwgYmUgbG9hZGVkIGFuZCBwcm9jZXNzZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NyZWF0ZUJpdG1hcD10cnVlXSB3aGV0aGVyIHByb2Nlc3MgaW1hZ2UgaW50byBiaXRtYXBcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cbiAgICBsb2FkKGNyZWF0ZUJpdG1hcClcbiAgICB7XG4gICAgICAgIGlmIChjcmVhdGVCaXRtYXAgIT09IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVCaXRtYXAgPSBjcmVhdGVCaXRtYXA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fbG9hZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb2FkID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXJsID0gdGhpcy5zb3VyY2Uuc3JjO1xuICAgICAgICAgICAgY29uc3QgeyBzb3VyY2UgfSA9IHRoaXM7XG5cbiAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRlZCA9ICgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzb3VyY2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzb3VyY2Uub25lcnJvciA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZShzb3VyY2Uud2lkdGgsIHNvdXJjZS5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3JlYXRlQml0bWFwKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnByb2Nlc3MoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHNvdXJjZS5jb21wbGV0ZSAmJiBzb3VyY2Uuc3JjKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmxvYWQgPSBjb21wbGV0ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHdlIG5lZWQgdG8gY29udmVydCBpbWFnZSBpbnRvIEJpdG1hcEltYWdlLlxuICAgICAqIENhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIHJlYWwgcHJvbWlzZSBpcyBjYWNoZWQgaW5zaWRlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IGNhY2hlZCBwcm9taXNlIHRvIGZpbGwgdGhhdCBiaXRtYXBcbiAgICAgKi9cbiAgICBwcm9jZXNzKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9wcm9jZXNzICE9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvY2VzcztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5iaXRtYXAgIT09IG51bGwgfHwgIXdpbmRvdy5jcmVhdGVJbWFnZUJpdG1hcClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Byb2Nlc3MgPSB3aW5kb3cuY3JlYXRlSW1hZ2VCaXRtYXAodGhpcy5zb3VyY2UsXG4gICAgICAgICAgICAwLCAwLCB0aGlzLnNvdXJjZS53aWR0aCwgdGhpcy5zb3VyY2UuaGVpZ2h0LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHByZW11bHRpcGx5QWxwaGE6IHRoaXMucHJlbXVsdGlwbHlBbHBoYSA/ICdwcmVtdWx0aXBseScgOiAnbm9uZScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKGJpdG1hcCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZXN0cm95ZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5iaXRtYXAgPSBiaXRtYXA7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9jZXNzID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fcHJvY2VzcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIGltYWdlIHJlc291cmNlIHRvIEdQVS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBSZW5kZXJlciB0byB1cGxvYWQgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gQmFzZVRleHR1cmUgZm9yIHRoaXMgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmUgLSBHTFRleHR1cmUgdG8gdXNlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIHVwbG9hZChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGJhc2VUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEgPSB0aGlzLnByZW11bHRpcGx5QWxwaGE7XG5cbiAgICAgICAgaWYgKCF0aGlzLmNyZWF0ZUJpdG1hcClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLnVwbG9hZChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmJpdG1hcClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8geWVhaCwgaWdub3JlIHRoZSBvdXRwdXRcbiAgICAgICAgICAgIHRoaXMucHJvY2VzcygpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmJpdG1hcClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci51cGxvYWQocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUsIHRoaXMuYml0bWFwKTtcblxuICAgICAgICBpZiAoIXRoaXMucHJlc2VydmVCaXRtYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGNoZWNrcyBpZiB0aGVyZSBhcmUgb3RoZXIgcmVuZGVyZXJzIHRoYXQgcG9zc2libHkgbmVlZCB0aGlzIGJpdG1hcFxuXG4gICAgICAgICAgICBsZXQgZmxhZyA9IHRydWU7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGJhc2VUZXh0dXJlLl9nbFRleHR1cmVzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IG90aGVyVGV4ID0gYmFzZVRleHR1cmUuX2dsVGV4dHVyZXNba2V5XTtcblxuICAgICAgICAgICAgICAgIGlmIChvdGhlclRleCAhPT0gZ2xUZXh0dXJlICYmIG90aGVyVGV4LmRpcnR5SWQgIT09IGJhc2VUZXh0dXJlLmRpcnR5SWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmbGFnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZsYWcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYml0bWFwLmNsb3NlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iaXRtYXAuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmJpdG1hcCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBkaXNwb3NlKClcbiAgICB7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcblxuICAgICAgICBpZiAodGhpcy5iaXRtYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYml0bWFwLmNsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLmJpdG1hcCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcHJvY2VzcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuICAgIH1cbn1cbiIsImltcG9ydCBJbWFnZVJlc291cmNlIGZyb20gJy4vSW1hZ2VSZXNvdXJjZSc7XG5cbi8qKlxuICogQ29sbGVjdGlvbiBvZiBpbnN0YWxsZWQgcmVzb3VyY2UgdHlwZXMsIGNsYXNzIG11c3QgZXh0ZW5kIHtAbGluayBQSVhJLnJlc291cmNlcy5SZXNvdXJjZX0uXG4gKiBAZXhhbXBsZVxuICogY2xhc3MgQ3VzdG9tUmVzb3VyY2UgZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5SZXNvdXJjZSB7XG4gKiAgIC8vIE1VU1QgaGF2ZSBzb3VyY2UsIG9wdGlvbnMgY29uc3RydWN0b3Igc2lnbmF0dXJlXG4gKiAgIC8vIGZvciBhdXRvLWRldGVjdGVkIHJlc291cmNlcyB0byBiZSBjcmVhdGVkLlxuICogICBjb25zdHJ1Y3Rvcihzb3VyY2UsIG9wdGlvbnMpIHtcbiAqICAgICBzdXBlcigpO1xuICogICB9XG4gKiAgIHVwbG9hZChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSkge1xuICogICAgIC8vIHVwbG9hZCB3aXRoIEdMXG4gKiAgICAgcmV0dXJuIHRydWU7XG4gKiAgIH1cbiAqICAgLy8gdXNlZCB0byBhdXRvLWRldGVjdCByZXNvdXJjZVxuICogICBzdGF0aWMgdGVzdChzb3VyY2UsIGV4dGVuc2lvbikge1xuICogICAgIHJldHVybiBleHRlbnNpb24gPT09ICd4eXonfHwgc291cmNlIGluc3RhbmNlb2YgU29tZUNsYXNzO1xuICogICB9XG4gKiB9XG4gKiAvLyBJbnN0YWxsIHRoZSBuZXcgcmVzb3VyY2UgdHlwZVxuICogUElYSS5yZXNvdXJjZXMuSU5TVEFMTEVELnB1c2goQ3VzdG9tUmVzb3VyY2UpO1xuICpcbiAqIEBuYW1lIFBJWEkucmVzb3VyY2VzLklOU1RBTExFRFxuICogQHR5cGUge0FycmF5PCo+fVxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKi9cbmV4cG9ydCBjb25zdCBJTlNUQUxMRUQgPSBbXTtcblxuLyoqXG4gKiBDcmVhdGUgYSByZXNvdXJjZSBlbGVtZW50IGZyb20gYSBzaW5nbGUgc291cmNlIGVsZW1lbnQuIFRoaXNcbiAqIGF1dG8tZGV0ZWN0cyB3aGljaCB0eXBlIG9mIHJlc291cmNlIHRvIGNyZWF0ZS4gQWxsIHJlc291cmNlcyB0aGF0XG4gKiBhcmUgYXV0by1kZXRlY3RhYmxlIG11c3QgaGF2ZSBhIHN0YXRpYyBgdGVzdGAgbWV0aG9kIGFuZCBhIGNvbnN0cnVjdG9yXG4gKiB3aXRoIHRoZSBhcmd1bWVudHMgYChzb3VyY2UsIG9wdGlvbnM/KWAuIEN1cnJlbnRseSwgdGhlIHN1cHBvcnRlZFxuICogcmVzb3VyY2VzIGZvciBhdXRvLWRldGVjdGlvbiBpbmNsdWRlOlxuICogIC0ge0BsaW5rIFBJWEkucmVzb3VyY2VzLkltYWdlUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuQ2FudmFzUmVzb3VyY2V9XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuVmlkZW9SZXNvdXJjZX1cbiAqICAtIHtAbGluayBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZX1cbiAqICAtIHtAbGluayBQSVhJLnJlc291cmNlcy5CdWZmZXJSZXNvdXJjZX1cbiAqIEBzdGF0aWNcbiAqIEBmdW5jdGlvbiBQSVhJLnJlc291cmNlcy5hdXRvRGV0ZWN0UmVzb3VyY2VcbiAqIEBwYXJhbSB7c3RyaW5nfCp9IHNvdXJjZSAtIFJlc291cmNlIHNvdXJjZSwgdGhpcyBjYW4gYmUgdGhlIFVSTCB0byB0aGUgcmVzb3VyY2UsXG4gKiAgICAgICAgYSB0eXBlZC1hcnJheSAoZm9yIEJ1ZmZlclJlc291cmNlKSwgSFRNTFZpZGVvRWxlbWVudCwgU1ZHIGRhdGEtdXJpXG4gKiAgICAgICAgb3IgYW55IG90aGVyIHJlc291cmNlIHRoYXQgY2FuIGJlIGF1dG8tZGV0ZWN0ZWQuIElmIG5vdCByZXNvdXJjZSBpc1xuICogICAgICAgIGRldGVjdGVkLCBpdCdzIGFzc3VtZWQgdG8gYmUgYW4gSW1hZ2VSZXNvdXJjZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBQYXNzLXRocm91Z2ggb3B0aW9ucyB0byB1c2UgZm9yIFJlc291cmNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gQnVmZmVyUmVzb3VyY2UncyB3aWR0aFxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gLSBCdWZmZXJSZXNvdXJjZSdzIGhlaWdodFxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvTG9hZD10cnVlXSAtIEltYWdlLCBTVkcgYW5kIFZpZGVvIGZsYWcgdG8gc3RhcnQgbG9hZGluZ1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjYWxlPTFdIC0gU1ZHIHNvdXJjZSBzY2FsZVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jcmVhdGVCaXRtYXA9UElYSS5zZXR0aW5ncy5DUkVBVEVfSU1BR0VfQklUTUFQXSAtIEltYWdlIG9wdGlvbiB0byBjcmVhdGUgQml0bWFwIG9iamVjdFxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jcm9zc29yaWdpbj10cnVlXSAtIEltYWdlIGFuZCBWaWRlbyBvcHRpb24gdG8gc2V0IGNyb3NzT3JpZ2luXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9QbGF5PXRydWVdIC0gVmlkZW8gb3B0aW9uIHRvIHN0YXJ0IHBsYXlpbmcgdmlkZW8gaW1tZWRpYXRlbHlcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy51cGRhdGVGUFM9MF0gLSBWaWRlbyBvcHRpb24gdG8gdXBkYXRlIGhvdyBtYW55IHRpbWVzIGEgc2Vjb25kIHRoZVxuICogICAgICAgIHRleHR1cmUgc2hvdWxkIGJlIHVwZGF0ZWQgZnJvbSB0aGUgdmlkZW8uIExlYXZlIGF0IDAgdG8gdXBkYXRlIGF0IGV2ZXJ5IHJlbmRlclxuICogQHJldHVybiB7UElYSS5yZXNvdXJjZXMuUmVzb3VyY2V9IFRoZSBjcmVhdGVkIHJlc291cmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXV0b0RldGVjdFJlc291cmNlKHNvdXJjZSwgb3B0aW9ucylcbntcbiAgICBpZiAoIXNvdXJjZSlcbiAgICB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGxldCBleHRlbnNpb24gPSAnJztcblxuICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJylcbiAgICB7XG4gICAgICAgIC8vIHNlYXJjaCBmb3IgZmlsZSBleHRlbnNpb246IHBlcmlvZCwgMy00IGNoYXJzLCB0aGVuID8sICMgb3IgRU9MXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9ICgvXFwuKFxcd3szLDR9KSg/OiR8XFw/fCMpL2kpLmV4ZWMoc291cmNlKTtcblxuICAgICAgICBpZiAocmVzdWx0KVxuICAgICAgICB7XG4gICAgICAgICAgICBleHRlbnNpb24gPSByZXN1bHRbMV0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSBJTlNUQUxMRUQubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpXG4gICAge1xuICAgICAgICBjb25zdCBSZXNvdXJjZVBsdWdpbiA9IElOU1RBTExFRFtpXTtcblxuICAgICAgICBpZiAoUmVzb3VyY2VQbHVnaW4udGVzdCAmJiBSZXNvdXJjZVBsdWdpbi50ZXN0KHNvdXJjZSwgZXh0ZW5zaW9uKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNvdXJjZVBsdWdpbihzb3VyY2UsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gV2hlbiBpbiBkb3VidDogcHJvYmFibHkgYW4gaW1hZ2VcbiAgICAvLyBtaWdodCBiZSBhcHByb3ByaWF0ZSB0byB0aHJvdyBhbiBlcnJvciBvciByZXR1cm4gbnVsbFxuICAgIHJldHVybiBuZXcgSW1hZ2VSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpO1xufVxuIiwiaW1wb3J0IFJlc291cmNlIGZyb20gJy4vUmVzb3VyY2UnO1xuXG4vKipcbiAqIEBpbnRlcmZhY2UgU2hhcmVkQXJyYXlCdWZmZXJcbiAqL1xuXG4vKipcbiAqIEJ1ZmZlciByZXNvdXJjZSB3aXRoIGRhdGEgb2YgdHlwZWQgYXJyYXkuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLlJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVmZmVyUmVzb3VyY2UgZXh0ZW5kcyBSZXNvdXJjZVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fFVpbnQ4QXJyYXl8VWludDMyQXJyYXl9IHNvdXJjZSAtIFNvdXJjZSBidWZmZXJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIE9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy53aWR0aCAtIFdpZHRoIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMuaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSB0ZXh0dXJlXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc291cmNlLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIGlmICghd2lkdGggfHwgIWhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCdWZmZXJSZXNvdXJjZSB3aWR0aCBvciBoZWlnaHQgaW52YWxpZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNvdXJjZSBhcnJheVxuICAgICAgICAgKiBDYW5ub3QgYmUgQ2xhbXBlZFVpbnQ4QXJyYXkgYmVjYXVzZSBpdCBjYW50IGJlIHVwbG9hZGVkIHRvIFdlYkdMXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheXxVaW50OEFycmF5fFVpbnQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kYXRhID0gc291cmNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgdGV4dHVyZSB0byB0aGUgR1BVLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgVXBsb2FkIHRvIHRoZSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgUmVmZXJlbmNlIHRvIHBhcmVudCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlIGdsVGV4dHVyZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlzIHN1Y2Nlc3NcbiAgICAgKi9cbiAgICB1cGxvYWQocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpXG4gICAge1xuICAgICAgICBjb25zdCBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgYmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSk7XG5cbiAgICAgICAgaWYgKGdsVGV4dHVyZS53aWR0aCA9PT0gYmFzZVRleHR1cmUud2lkdGggJiYgZ2xUZXh0dXJlLmhlaWdodCA9PT0gYmFzZVRleHR1cmUuaGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRhcmdldCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS53aWR0aCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuZm9ybWF0LFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnR5cGUsXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndpZHRoID0gYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gYmFzZVRleHR1cmUuaGVpZ2h0O1xuXG4gICAgICAgICAgICBsZXQgaW50ZXJuYWxGb3JtYXQgPSBiYXNlVGV4dHVyZS5mb3JtYXQ7XG5cbiAgICAgICAgICAgIC8vIGd1ZXNzIHNpemVkIGZvcm1hdCBieSB0eXBlIGFuZCBmb3JtYXRcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJHTFJlbmRlcmluZ0NvbnRleHQvdGV4SW1hZ2UyRFxuICAgICAgICAgICAgaWYgKHJlbmRlcmVyLmNvbnRleHQud2ViR0xWZXJzaW9uID09PSAyXG4gICAgICAgICAgICAgICAgJiYgYmFzZVRleHR1cmUudHlwZSA9PT0gcmVuZGVyZXIuZ2wuRkxPQVRcbiAgICAgICAgICAgICAgICAmJiBiYXNlVGV4dHVyZS5mb3JtYXQgPT09IHJlbmRlcmVyLmdsLlJHQkEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW50ZXJuYWxGb3JtYXQgPSByZW5kZXJlci5nbC5SR0JBMzJGO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRhcmdldCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIGludGVybmFsRm9ybWF0LFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLndpZHRoLFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLmhlaWdodCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50eXBlLFxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZGlzcG9zZSgpXG4gICAge1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYXV0by1kZXRlY3QgdGhlIHR5cGUgb2YgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHsqfSBzb3VyY2UgLSBUaGUgc291cmNlIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiA8Y2FudmFzPlxuICAgICAqL1xuICAgIHN0YXRpYyB0ZXN0KHNvdXJjZSlcbiAgICB7XG4gICAgICAgIHJldHVybiBzb3VyY2UgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXlcbiAgICAgICAgICAgIHx8IHNvdXJjZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXlcbiAgICAgICAgICAgIHx8IHNvdXJjZSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEJhc2VUZXh0dXJlQ2FjaGUsIEV2ZW50RW1pdHRlciwgaXNQb3cyLCBUZXh0dXJlQ2FjaGUsIHVpZCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IEZPUk1BVFMsIFNDQUxFX01PREVTLCBUQVJHRVRTLCBUWVBFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbmltcG9ydCBSZXNvdXJjZSBmcm9tICcuL3Jlc291cmNlcy9SZXNvdXJjZSc7XG5pbXBvcnQgQnVmZmVyUmVzb3VyY2UgZnJvbSAnLi9yZXNvdXJjZXMvQnVmZmVyUmVzb3VyY2UnO1xuaW1wb3J0IHsgYXV0b0RldGVjdFJlc291cmNlIH0gZnJvbSAnLi9yZXNvdXJjZXMvYXV0b0RldGVjdFJlc291cmNlJztcblxuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbmNvbnN0IGRlZmF1bHRCdWZmZXJPcHRpb25zID0ge1xuICAgIHNjYWxlTW9kZTogU0NBTEVfTU9ERVMuTkVBUkVTVCxcbiAgICBmb3JtYXQ6IEZPUk1BVFMuUkdCQSxcbiAgICBwcmVtdWx0aXBseUFscGhhOiBmYWxzZSxcbn07XG5cbi8qKlxuICogQSBUZXh0dXJlIHN0b3JlcyB0aGUgaW5mb3JtYXRpb24gdGhhdCByZXByZXNlbnRzIGFuIGltYWdlLlxuICogQWxsIHRleHR1cmVzIGhhdmUgYSBiYXNlIHRleHR1cmUsIHdoaWNoIGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBzb3VyY2UuXG4gKiBUaGVyZWZvcmUgeW91IGNhbiBoYXZlIG1hbnkgdGV4dHVyZXMgYWxsIHVzaW5nIGEgc2luZ2xlIEJhc2VUZXh0dXJlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBwYXJhbSB7UElYSS5yZXNvdXJjZXMuUmVzb3VyY2V8c3RyaW5nfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gW3Jlc291cmNlPW51bGxdXG4gKiAgICAgICAgVGhlIGN1cnJlbnQgcmVzb3VyY2UgdG8gdXNlLCBmb3IgdGhpbmdzIHRoYXQgYXJlbid0IFJlc291cmNlIG9iamVjdHMsIHdpbGwgYmUgY29udmVydGVkXG4gKiAgICAgICAgaW50byBhIFJlc291cmNlLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIENvbGxlY3Rpb24gb2Ygb3B0aW9uc1xuICogQHBhcmFtIHtQSVhJLk1JUE1BUF9NT0RFU30gW29wdGlvbnMubWlwbWFwPVBJWEkuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTXSAtIElmIG1pcG1hcHBpbmcgaXMgZW5hYmxlZCBmb3IgdGV4dHVyZVxuICogQHBhcmFtIHtQSVhJLldSQVBfTU9ERVN9IFtvcHRpb25zLndyYXBNb2RlPVBJWEkuc2V0dGluZ3MuV1JBUF9NT0RFXSAtIFdyYXAgbW9kZSBmb3IgdGV4dHVyZXNcbiAqIEBwYXJhbSB7UElYSS5TQ0FMRV9NT0RFU30gW29wdGlvbnMuc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBEZWZhdWx0IHNjYWxlIG1vZGUsIGxpbmVhciwgbmVhcmVzdFxuICogQHBhcmFtIHtQSVhJLkZPUk1BVFN9IFtvcHRpb25zLmZvcm1hdD1QSVhJLkZPUk1BVFMuUkdCQV0gLSBHTCBmb3JtYXQgdHlwZVxuICogQHBhcmFtIHtQSVhJLlRZUEVTfSBbb3B0aW9ucy50eXBlPVBJWEkuVFlQRVMuVU5TSUdORURfQllURV0gLSBHTCBkYXRhIHR5cGVcbiAqIEBwYXJhbSB7UElYSS5UQVJHRVRTfSBbb3B0aW9ucy50YXJnZXQ9UElYSS5UQVJHRVRTLlRFWFRVUkVfMkRdIC0gR0wgdGV4dHVyZSB0YXJnZXRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlbXVsdGlwbHlBbHBoYT10cnVlXSAtIFByZSBtdWx0aXBseSB0aGUgaW1hZ2UgYWxwaGFcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD0wXSAtIFdpZHRoIG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTBdIC0gSGVpZ2h0IG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMucmVzb3VyY2VPcHRpb25zXSAtIE9wdGlvbmFsIHJlc291cmNlIG9wdGlvbnMsXG4gKiAgICAgICAgc2VlIHtAbGluayBQSVhJLnJlc291cmNlcy5hdXRvRGV0ZWN0UmVzb3VyY2UgYXV0b0RldGVjdFJlc291cmNlfVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlVGV4dHVyZSBleHRlbmRzIEV2ZW50RW1pdHRlclxue1xuICAgIGNvbnN0cnVjdG9yKHJlc291cmNlID0gbnVsbCwgb3B0aW9ucyA9IG51bGwpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIGNvbnN0IHsgcHJlbXVsdGlwbHlBbHBoYSwgbWlwbWFwLCBzY2FsZU1vZGUsIHdpZHRoLCBoZWlnaHQsXG4gICAgICAgICAgICB3cmFwTW9kZSwgZm9ybWF0LCB0eXBlLCB0YXJnZXQsIHJlc29sdXRpb24sIHJlc291cmNlT3B0aW9ucyB9ID0gb3B0aW9ucztcblxuICAgICAgICAvLyBDb252ZXJ0IHRoZSByZXNvdXJjZSB0byBhIFJlc291cmNlIG9iamVjdFxuICAgICAgICBpZiAocmVzb3VyY2UgJiYgIShyZXNvdXJjZSBpbnN0YW5jZW9mIFJlc291cmNlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzb3VyY2UgPSBhdXRvRGV0ZWN0UmVzb3VyY2UocmVzb3VyY2UsIHJlc291cmNlT3B0aW9ucyk7XG4gICAgICAgICAgICByZXNvdXJjZS5pbnRlcm5hbCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBiYXNlIHRleHR1cmUgc2V0IHdoZW4gdGhlIGltYWdlIGhhcyBsb2FkZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aCB8fCAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBiYXNlIHRleHR1cmUgc2V0IHdoZW4gdGhlIGltYWdlIGhhcyBsb2FkZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0IHx8IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1pcG1hcCBtb2RlIG9mIHRoZSB0ZXh0dXJlLCBhZmZlY3RzIGRvd25zY2FsZWQgaW1hZ2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTUlQTUFQX01PREVTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLk1JUE1BUF9URVhUVVJFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taXBtYXAgPSBtaXBtYXAgIT09IHVuZGVmaW5lZCA/IG1pcG1hcCA6IHNldHRpbmdzLk1JUE1BUF9URVhUVVJFUztcblxuICAgICAgICAvKipcbiAgICAgICAgICogSG93IHRoZSB0ZXh0dXJlIHdyYXBzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud3JhcE1vZGUgPSB3cmFwTW9kZSB8fCBzZXR0aW5ncy5XUkFQX01PREU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2FsZSBtb2RlIHRvIGFwcGx5IHdoZW4gc2NhbGluZyB0aGlzIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TQ0FMRV9NT0RFU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjYWxlTW9kZSA9IHNjYWxlTW9kZSAhPT0gdW5kZWZpbmVkID8gc2NhbGVNb2RlIDogc2V0dGluZ3MuU0NBTEVfTU9ERTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBpeGVsIGZvcm1hdCBvZiB0aGUgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZPUk1BVFN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuRk9STUFUUy5SR0JBXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZvcm1hdCA9IGZvcm1hdCB8fCBGT1JNQVRTLlJHQkE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHJlc291cmNlIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UWVBFU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5UWVBFUy5VTlNJR05FRF9CWVRFXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlIHx8IFRZUEVTLlVOU0lHTkVEX0JZVEU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0YXJnZXQgdHlwZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRBUkdFVFN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuVEFSR0VUUy5URVhUVVJFXzJEXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldCB8fCBUQVJHRVRTLlRFWFRVUkVfMkQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0byB0cnVlIHRvIGVuYWJsZSBwcmUtbXVsdGlwbGllZCBhbHBoYVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZW11bHRpcGx5QWxwaGEgPSBwcmVtdWx0aXBseUFscGhhICE9PSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogR2xvYmFsIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIEJhc2VUZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51aWQgPSB1aWQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBieSBhdXRvbWF0aWMgdGV4dHVyZSBHYXJiYWdlIENvbGxlY3Rpb24sIHN0b3JlcyBsYXN0IEdDIHRpY2sgd2hlbiBpdCB3YXMgYm91bmRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRvdWNoZWQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgdGV4dHVyZSBpcyBhIHBvd2VyIG9mIHR3bywgdHJ5IHRvIHVzZSBwb3dlciBvZiB0d28gdGV4dHVyZXMgYXMgbXVjaFxuICAgICAgICAgKiBhcyB5b3UgY2FuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc1Bvd2VyT2ZUd28gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWFwIG9mIHJlbmRlciBjb250ZXh0IHRleHR1cmVzIHdoZXJlIHRoaXMgaXMgYm91bmRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZ2xUZXh0dXJlcyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGJ5IFRleHR1cmVTeXN0ZW0gdG8gb25seSB1cGRhdGUgdGV4dHVyZSB0byB0aGUgR1BVIHdoZW4gbmVlZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlJZCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgYnkgVGV4dHVyZVN5c3RlbSB0byBvbmx5IHVwZGF0ZSB0ZXh0dXJlIHN0eWxlIHdoZW4gbmVlZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlTdHlsZUlkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudGx5IGRlZmF1bHQgY2FjaGUgSUQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FjaGVJZCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdlbmVyYWxseSBzcGVha2luZyBtZWFucyB3aGVuIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZhbGlkID0gd2lkdGggPiAwICYmIGhlaWdodCA+IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIGFsdGVybmF0aXZlIGNhY2hlIGlkcywgc2luY2Ugc29tZSBCYXNlVGV4dHVyZXNcbiAgICAgICAgICogY2FuIGhhdmUgbW9yZSB0aGFuIG9uZSBJRCwgc2hvcnQgbmFtZSBhbmQgbG9uZ2VyIGZ1bGwgVVJMXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PHN0cmluZz59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmxhZyBpZiBCYXNlVGV4dHVyZSBoYXMgYmVlbiBkZXN0cm95ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc291cmNlIHVzZWQgYnkgdGhpcyBCYXNlVGV4dHVyZSwgdGhlcmUgY2FuIG9ubHlcbiAgICAgICAgICogYmUgb25lIHJlc291cmNlIHBlciBCYXNlVGV4dHVyZSwgYnV0IHRleHR1cmVzIGNhbiBzaGFyZVxuICAgICAgICAgKiByZXNvdXJjZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkucmVzb3VyY2VzLlJlc291cmNlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb3VyY2UgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOdW1iZXIgb2YgdGhlIHRleHR1cmUgYmF0Y2gsIHVzZWQgYnkgbXVsdGktdGV4dHVyZSByZW5kZXJlcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmF0Y2hFbmFibGVkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIG5vdC1pbW1lZGlhdGVseS1hdmFpbGFibGUgc291cmNlIGZpbmlzaGVzIGxvYWRpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjbG9hZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBsb2FkZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgbm90LWltbWVkaWF0ZWx5LWF2YWlsYWJsZSBzb3VyY2UgZmFpbHMgdG8gbG9hZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNlcnJvclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVzb3VyY2UgZXJyb3JlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gQmFzZVRleHR1cmUgaXMgdXBkYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNsb2FkZWRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlc291cmNlIGxvYWRlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gQmFzZVRleHR1cmUgaXMgZGVzdHJveWVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2Vycm9yXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBlcnJvcmVkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBCYXNlVGV4dHVyZSBpcyB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI3VwZGF0ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gSW5zdGFuY2Ugb2YgdGV4dHVyZSBiZWluZyB1cGRhdGVkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBCYXNlVGV4dHVyZSBpcyBkZXN0cm95ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjZGlzcG9zZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gSW5zdGFuY2Ugb2YgdGV4dHVyZSBiZWluZyBkZXN0cm95ZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8vIFNldCB0aGUgcmVzb3VyY2VcbiAgICAgICAgdGhpcy5zZXRSZXNvdXJjZShyZXNvdXJjZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGl4ZWwgd2lkdGggb2YgdGhlIHNvdXJjZSBvZiB0aGlzIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgcmVhbFdpZHRoKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoICogdGhpcy5yZXNvbHV0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBpeGVsIGhlaWdodCBvZiB0aGUgc291cmNlIG9mIHRoaXMgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCByZWFsSGVpZ2h0KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmhlaWdodCAqIHRoaXMucmVzb2x1dGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHN0eWxlIG9wdGlvbnMgb2YgQmFzZVRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TQ0FMRV9NT0RFU30gW3NjYWxlTW9kZV0gLSBQaXhpIHNjYWxlbW9kZVxuICAgICAqIEBwYXJhbSB7UElYSS5NSVBNQVBfTU9ERVN9IFttaXBtYXBdIC0gZW5hYmxlIG1pcG1hcHNcbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIHNldFN0eWxlKHNjYWxlTW9kZSwgbWlwbWFwKVxuICAgIHtcbiAgICAgICAgbGV0IGRpcnR5O1xuXG4gICAgICAgIGlmIChzY2FsZU1vZGUgIT09IHVuZGVmaW5lZCAmJiBzY2FsZU1vZGUgIT09IHRoaXMuc2NhbGVNb2RlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlTW9kZSA9IHNjYWxlTW9kZTtcbiAgICAgICAgICAgIGRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtaXBtYXAgIT09IHVuZGVmaW5lZCAmJiBtaXBtYXAgIT09IHRoaXMubWlwbWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1pcG1hcCA9IG1pcG1hcDtcbiAgICAgICAgICAgIGRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaXJ0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eVN0eWxlSWQrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdy9oL3Jlc29sdXRpb24uIFRleHR1cmUgYmVjb21lcyB2YWxpZCBpZiB3aWR0aCBhbmQgaGVpZ2h0IGFyZSBncmVhdGVyIHRoYW4gemVyby5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBWaXN1YWwgd2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IFZpc3VhbCBoZWlnaHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25dIE9wdGlvbmFsbHkgc2V0IHJlc29sdXRpb25cbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIHNldFNpemUod2lkdGgsIGhlaWdodCwgcmVzb2x1dGlvbilcbiAgICB7XG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLl9yZWZyZXNoUE9UKCk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyByZWFsIHNpemUgb2YgYmFzZVRleHR1cmUsIHByZXNlcnZlcyBjdXJyZW50IHJlc29sdXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVhbFdpZHRoIEZ1bGwgcmVuZGVyZWQgd2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVhbEhlaWdodCBGdWxsIHJlbmRlcmVkIGhlaWdodFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbl0gT3B0aW9uYWxseSBzZXQgcmVzb2x1dGlvblxuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSB0aGlzXG4gICAgICovXG4gICAgc2V0UmVhbFNpemUocmVhbFdpZHRoLCByZWFsSGVpZ2h0LCByZXNvbHV0aW9uKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbiB8fCB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMud2lkdGggPSByZWFsV2lkdGggLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gcmVhbEhlaWdodCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZnJlc2ggY2hlY2sgZm9yIGlzUG93ZXJPZlR3byB0ZXh0dXJlIGJhc2VkIG9uIHNpemVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlZnJlc2hQT1QoKVxuICAgIHtcbiAgICAgICAgdGhpcy5pc1Bvd2VyT2ZUd28gPSBpc1BvdzIodGhpcy5yZWFsV2lkdGgpICYmIGlzUG93Mih0aGlzLnJlYWxIZWlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgcmVzb2x1dGlvblxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uXSByZXNcbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIHNldFJlc29sdXRpb24ocmVzb2x1dGlvbilcbiAgICB7XG4gICAgICAgIGNvbnN0IG9sZFJlc29sdXRpb24gPSB0aGlzLnJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKG9sZFJlc29sdXRpb24gPT09IHJlc29sdXRpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAodGhpcy52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMud2lkdGggKiBvbGRSZXNvbHV0aW9uIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKiBvbGRSZXNvbHV0aW9uIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZWZyZXNoUE9UKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcmVzb3VyY2UgaWYgaXQgd2Fzbid0IHNldC4gVGhyb3dzIGVycm9yIGlmIHJlc291cmNlIGFscmVhZHkgcHJlc2VudFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnJlc291cmNlcy5SZXNvdXJjZX0gcmVzb3VyY2UgLSB0aGF0IGlzIG1hbmFnaW5nIHRoaXMgQmFzZVRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7UElYSS5CYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIHNldFJlc291cmNlKHJlc291cmNlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UgPT09IHJlc291cmNlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jlc291cmNlIGNhbiBiZSBzZXQgb25seSBvbmNlJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXNvdXJjZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMucmVzb3VyY2UgPSByZXNvdXJjZTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZhbGlkYXRlcyB0aGUgb2JqZWN0LiBUZXh0dXJlIGJlY29tZXMgdmFsaWQgaWYgd2lkdGggYW5kIGhlaWdodCBhcmUgZ3JlYXRlciB0aGFuIHplcm8uXG4gICAgICovXG4gICAgdXBkYXRlKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMud2lkdGggPiAwICYmIHRoaXMuaGVpZ2h0ID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ2xvYWRlZCcsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgICAgIHRoaXMuZGlydHlTdHlsZUlkKys7XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBiYXNlIHRleHR1cmUuXG4gICAgICogVGhlIG1ldGhvZCBzdG9wcyBpZiByZXNvdXJjZSBkb2Vzbid0IHdhbnQgdGhpcyB0ZXh0dXJlIHRvIGJlIGRlc3Ryb3llZC5cbiAgICAgKiBSZW1vdmVzIHRleHR1cmUgZnJvbSBhbGwgY2FjaGVzLlxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgLy8gcmVtb3ZlIGFuZCBkZXN0cm95IHRoZSByZXNvdXJjZVxuICAgICAgICBpZiAodGhpcy5yZXNvdXJjZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZXNvdXJjZS51bmJpbmQodGhpcyk7XG4gICAgICAgICAgICAvLyBvbmx5IGRlc3Ryb3kgcmVzb3VyY2VkIGNyZWF0ZWQgaW50ZXJuYWxseVxuICAgICAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UuaW50ZXJuYWwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvdXJjZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlc291cmNlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNhY2hlSWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW3RoaXMuY2FjaGVJZF07XG4gICAgICAgICAgICBkZWxldGUgVGV4dHVyZUNhY2hlW3RoaXMuY2FjaGVJZF07XG5cbiAgICAgICAgICAgIHRoaXMuY2FjaGVJZCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaW5hbGx5IGxldCB0aGUgV2ViR0wgcmVuZGVyZXIga25vdy4uXG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuXG4gICAgICAgIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzKTtcbiAgICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGcmVlcyB0aGUgdGV4dHVyZSBmcm9tIFdlYkdMIG1lbW9yeSB3aXRob3V0IGRlc3Ryb3lpbmcgdGhpcyB0ZXh0dXJlIG9iamVjdC5cbiAgICAgKiBUaGlzIG1lYW5zIHlvdSBjYW4gc3RpbGwgdXNlIHRoZSB0ZXh0dXJlIGxhdGVyIHdoaWNoIHdpbGwgdXBsb2FkIGl0IHRvIEdQVVxuICAgICAqIG1lbW9yeSBhZ2Fpbi5cbiAgICAgKlxuICAgICAqIEBmaXJlcyBQSVhJLkJhc2VUZXh0dXJlI2Rpc3Bvc2VcbiAgICAgKi9cbiAgICBkaXNwb3NlKClcbiAgICB7XG4gICAgICAgIHRoaXMuZW1pdCgnZGlzcG9zZScsIHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBiYXNlIHRleHR1cmUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGltYWdlIHVybCwgaW1hZ2UgZWxlbWVudCwgY2FudmFzIGVsZW1lbnQuIElmIHRoZVxuICAgICAqIHNvdXJjZSBpcyBhbiBpbWFnZSB1cmwgb3IgYW4gaW1hZ2UgZWxlbWVudCBhbmQgbm90IGluIHRoZSBiYXNlIHRleHR1cmVcbiAgICAgKiBjYWNoZSwgaXQgd2lsbCBiZSBjcmVhdGVkIGFuZCBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxTVkdFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSAtIFRoZVxuICAgICAqICAgICAgICBzb3VyY2UgdG8gY3JlYXRlIGJhc2UgdGV4dHVyZSBmcm9tLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkJhc2VUZXh0dXJlfSBUaGUgbmV3IGJhc2UgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbShzb3VyY2UsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBsZXQgY2FjaGVJZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFzb3VyY2UuX3BpeGlJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UuX3BpeGlJZCA9IGBwaXhpaWRfJHt1aWQoKX1gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlLl9waXhpSWQ7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYmFzZVRleHR1cmUgPSBCYXNlVGV4dHVyZUNhY2hlW2NhY2hlSWRdO1xuXG4gICAgICAgIGlmICghYmFzZVRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKHNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5jYWNoZUlkID0gY2FjaGVJZDtcbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUoYmFzZVRleHR1cmUsIGNhY2hlSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJhc2VUZXh0dXJlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBCYXNlVGV4dHVyZSB3aXRoIGEgQnVmZmVyUmVzb3VyY2UgZnJvbSBhIEZsb2F0MzJBcnJheS5cbiAgICAgKiBSR0JBIHZhbHVlcyBhcmUgZmxvYXRzIGZyb20gMCB0byAxLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxVaW50OEFycmF5fSBidWZmZXIgVGhlIG9wdGlvbmFsIGFycmF5IHRvIHVzZSwgaWYgbm8gZGF0YVxuICAgICAqICAgICAgICBpcyBwcm92aWRlZCwgYSBuZXcgRmxvYXQzMkFycmF5IGlzIGNyZWF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VUZXh0dXJlfSBUaGUgcmVzdWx0aW5nIG5ldyBCYXNlVGV4dHVyZVxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tQnVmZmVyKGJ1ZmZlciwgd2lkdGgsIGhlaWdodCwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIGJ1ZmZlciA9IGJ1ZmZlciB8fCBuZXcgRmxvYXQzMkFycmF5KHdpZHRoICogaGVpZ2h0ICogNCk7XG5cbiAgICAgICAgY29uc3QgcmVzb3VyY2UgPSBuZXcgQnVmZmVyUmVzb3VyY2UoYnVmZmVyLCB7IHdpZHRoLCBoZWlnaHQgfSk7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBidWZmZXIgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkgPyBUWVBFUy5GTE9BVCA6IFRZUEVTLlVOU0lHTkVEX0JZVEU7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBCYXNlVGV4dHVyZShyZXNvdXJjZSwgT2JqZWN0LmFzc2lnbihkZWZhdWx0QnVmZmVyT3B0aW9ucywgb3B0aW9ucyB8fCB7IHdpZHRoLCBoZWlnaHQsIHR5cGUgfSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBCYXNlVGV4dHVyZSB0byB0aGUgZ2xvYmFsIEJhc2VUZXh0dXJlQ2FjaGUuIFRoaXMgY2FjaGUgaXMgc2hhcmVkIGFjcm9zcyB0aGUgd2hvbGUgUElYSSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFRoZSBCYXNlVGV4dHVyZSB0byBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCB0aGF0IHRoZSBCYXNlVGV4dHVyZSB3aWxsIGJlIHN0b3JlZCBhZ2FpbnN0LlxuICAgICAqL1xuICAgIHN0YXRpYyBhZGRUb0NhY2hlKGJhc2VUZXh0dXJlLCBpZClcbiAgICB7XG4gICAgICAgIGlmIChpZClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKGlkKSA9PT0gLTEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLnB1c2goaWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoQmFzZVRleHR1cmVDYWNoZVtpZF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYEJhc2VUZXh0dXJlIGFkZGVkIHRvIHRoZSBjYWNoZSB3aXRoIGFuIGlkIFske2lkfV0gdGhhdCBhbHJlYWR5IGhhZCBhbiBlbnRyeWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBCYXNlVGV4dHVyZUNhY2hlW2lkXSA9IGJhc2VUZXh0dXJlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgQmFzZVRleHR1cmUgZnJvbSB0aGUgZ2xvYmFsIEJhc2VUZXh0dXJlQ2FjaGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd8UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBpZCBvZiBhIEJhc2VUZXh0dXJlIHRvIGJlIHJlbW92ZWQsIG9yIGEgQmFzZVRleHR1cmUgaW5zdGFuY2UgaXRzZWxmLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVRleHR1cmV8bnVsbH0gVGhlIEJhc2VUZXh0dXJlIHRoYXQgd2FzIHJlbW92ZWQuXG4gICAgICovXG4gICAgc3RhdGljIHJlbW92ZUZyb21DYWNoZShiYXNlVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2YgYmFzZVRleHR1cmUgPT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBiYXNlVGV4dHVyZUZyb21DYWNoZSA9IEJhc2VUZXh0dXJlQ2FjaGVbYmFzZVRleHR1cmVdO1xuXG4gICAgICAgICAgICBpZiAoYmFzZVRleHR1cmVGcm9tQ2FjaGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBiYXNlVGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBiYXNlVGV4dHVyZUZyb21DYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiYXNlVGV4dHVyZSAmJiBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbi8qKlxuICogR2xvYmFsIG51bWJlciBvZiB0aGUgdGV4dHVyZSBiYXRjaCwgdXNlZCBieSBtdWx0aS10ZXh0dXJlIHJlbmRlcmVyc1xuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xuQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoID0gMDtcbiIsImltcG9ydCBSZXNvdXJjZSBmcm9tICcuL1Jlc291cmNlJztcbmltcG9ydCBCYXNlVGV4dHVyZSBmcm9tICcuLi9CYXNlVGV4dHVyZSc7XG5pbXBvcnQgeyBUQVJHRVRTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IGF1dG9EZXRlY3RSZXNvdXJjZSB9IGZyb20gJy4vYXV0b0RldGVjdFJlc291cmNlJztcblxuLyoqXG4gKiBBIHJlc291cmNlIHRoYXQgY29udGFpbnMgYSBudW1iZXIgb2Ygc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLlJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7bnVtYmVyfEFycmF5PCo+fSBzb3VyY2UgLSBOdW1iZXIgb2YgaXRlbXMgaW4gYXJyYXkgb3IgdGhlIGNvbGxlY3Rpb25cbiAqICAgICAgICBvZiBpbWFnZSBVUkxzIHRvIHVzZS4gQ2FuIGFsc28gYmUgcmVzb3VyY2VzLCBpbWFnZSBlbGVtZW50cywgY2FudmFzLCBldGMuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgdG8gYXBwbHkgdG8ge0BsaW5rIFBJWEkucmVzb3VyY2VzLmF1dG9EZXRlY3RSZXNvdXJjZX1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIC0gSGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcnJheVJlc291cmNlIGV4dGVuZHMgUmVzb3VyY2VcbntcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2UsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICBsZXQgdXJscztcbiAgICAgICAgbGV0IGxlbmd0aCA9IHNvdXJjZTtcblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2UpKVxuICAgICAgICB7XG4gICAgICAgICAgICB1cmxzID0gc291cmNlO1xuICAgICAgICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyKG9wdGlvbnMud2lkdGgsIG9wdGlvbnMuaGVpZ2h0KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiByZXNvdXJjZXMuXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PFBJWEkuQmFzZVRleHR1cmU+fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXRlbXMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlydHkgSURzIGZvciBlYWNoIHBhcnRcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8bnVtYmVyPn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLml0ZW1EaXJ0eUlkcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaChwYXJ0VGV4dHVyZSk7XG4gICAgICAgICAgICB0aGlzLml0ZW1EaXJ0eUlkcy5wdXNoKC0xKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOdW1iZXIgb2YgZWxlbWVudHMgaW4gYXJyYXlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9taXNlIHdoZW4gbG9hZGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtQcm9taXNlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sb2FkID0gbnVsbDtcblxuICAgICAgICBpZiAodXJscylcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFJlc291cmNlQXQoYXV0b0RldGVjdFJlc291cmNlKHVybHNbaV0sIG9wdGlvbnMpLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhpcyBCYXNlSW1hZ2VSZXNvdXJjZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGRpc3Bvc2UoKVxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXRlbXMgPSBudWxsO1xuICAgICAgICB0aGlzLml0ZW1EaXJ0eUlkcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBhIHJlc291cmNlIGJ5IElEXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkucmVzb3VyY2VzLlJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFplcm8tYmFzZWQgaW5kZXggb2YgcmVzb3VyY2UgdG8gc2V0XG4gICAgICogQHJldHVybiB7UElYSS5yZXNvdXJjZXMuQXJyYXlSZXNvdXJjZX0gSW5zdGFuY2UgZm9yIGNoYWluaW5nXG4gICAgICovXG4gICAgYWRkUmVzb3VyY2VBdChyZXNvdXJjZSwgaW5kZXgpXG4gICAge1xuICAgICAgICBjb25zdCBiYXNlVGV4dHVyZSA9IHRoaXMuaXRlbXNbaW5kZXhdO1xuXG4gICAgICAgIGlmICghYmFzZVRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5kZXggJHtpbmRleH0gaXMgb3V0IG9mIGJvdW5kc2ApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5oZXJpdCB0aGUgZmlyc3QgcmVzb3VyY2UgZGltZW5zaW9uc1xuICAgICAgICBpZiAocmVzb3VyY2UudmFsaWQgJiYgIXRoaXMudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVzaXplKHJlc291cmNlLndpZHRoLCByZXNvdXJjZS5oZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pdGVtc1tpbmRleF0uc2V0UmVzb3VyY2UocmVzb3VyY2UpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcGFyZW50IGJhc2UgdGV4dHVyZVxuICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgYmluZChiYXNlVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHN1cGVyLmJpbmQoYmFzZVRleHR1cmUpO1xuXG4gICAgICAgIGJhc2VUZXh0dXJlLnRhcmdldCA9IFRBUkdFVFMuVEVYVFVSRV8yRF9BUlJBWTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0ub24oJ3VwZGF0ZScsIGJhc2VUZXh0dXJlLnVwZGF0ZSwgYmFzZVRleHR1cmUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVW5zZXQgdGhlIHBhcmVudCBiYXNlIHRleHR1cmVcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHVuYmluZChiYXNlVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHN1cGVyLnVuYmluZChiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLm9mZigndXBkYXRlJywgYmFzZVRleHR1cmUudXBkYXRlLCBiYXNlVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkIGFsbCB0aGUgcmVzb3VyY2VzIHNpbXVsdGFuZW91c2x5XG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybiB7UHJvbWlzZTx2b2lkPn0gV2hlbiBsb2FkIGlzIHJlc29sdmVkXG4gICAgICovXG4gICAgbG9hZCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbG9hZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXNvdXJjZXMgPSB0aGlzLml0ZW1zLm1hcCgoaXRlbSkgPT4gaXRlbS5yZXNvdXJjZSk7XG5cbiAgICAgICAgLy8gVE9ETzogYWxzbyBpbXBsZW1lbnQgbG9hZCBwYXJ0LWJ5LXBhcnQgc3RyYXRlZ3lcbiAgICAgICAgY29uc3QgcHJvbWlzZXMgPSByZXNvdXJjZXMubWFwKChpdGVtKSA9PiBpdGVtLmxvYWQoKSk7XG5cbiAgICAgICAgdGhpcy5fbG9hZCA9IFByb21pc2UuYWxsKHByb21pc2VzKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHJlc291cmNlc1swXTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSByZXNvdXJjZXMgdG8gdGhlIEdQVS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkdMVGV4dHVyZX0gZ2xUZXh0dXJlXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHdoZXRoZXIgdGV4dHVyZSB3YXMgdXBsb2FkZWRcbiAgICAgKi9cbiAgICB1cGxvYWQocmVuZGVyZXIsIHRleHR1cmUsIGdsVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgbGVuZ3RoLCBpdGVtRGlydHlJZHMsIGl0ZW1zIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IGdsIH0gPSByZW5kZXJlcjtcblxuICAgICAgICBpZiAoZ2xUZXh0dXJlLmRpcnR5SWQgPCAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTNEKFxuICAgICAgICAgICAgICAgIGdsLlRFWFRVUkVfMkRfQVJSQVksXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICB0aGlzLl93aWR0aCxcbiAgICAgICAgICAgICAgICB0aGlzLl9oZWlnaHQsXG4gICAgICAgICAgICAgICAgbGVuZ3RoLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgdGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgdGV4dHVyZS50eXBlLFxuICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gaXRlbXNbaV07XG5cbiAgICAgICAgICAgIGlmIChpdGVtRGlydHlJZHNbaV0gPCBpdGVtLmRpcnR5SWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaXRlbURpcnR5SWRzW2ldID0gaXRlbS5kaXJ0eUlkO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnZhbGlkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wudGV4U3ViSW1hZ2UzRChcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLlRFWFRVUkVfMkRfQVJSQVksXG4gICAgICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgMCwgLy8geG9mZnNldFxuICAgICAgICAgICAgICAgICAgICAgICAgMCwgLy8geW9mZnNldFxuICAgICAgICAgICAgICAgICAgICAgICAgaSwgLy8gem9mZnNldFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5yZXNvdXJjZS53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucmVzb3VyY2UuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUuZm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5yZXNvdXJjZS5zb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQmFzZUltYWdlUmVzb3VyY2UgZnJvbSAnLi9CYXNlSW1hZ2VSZXNvdXJjZSc7XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgSFRNTENhbnZhc0VsZW1lbnQuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLkJhc2VJbWFnZVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IHNvdXJjZSAtIENhbnZhcyBlbGVtZW50IHRvIHVzZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXNSZXNvdXJjZSBleHRlbmRzIEJhc2VJbWFnZVJlc291cmNlXG57XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0geyp9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIDxjYW52YXM+XG4gICAgICovXG4gICAgc3RhdGljIHRlc3Qoc291cmNlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIChzb3VyY2UgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IEFycmF5UmVzb3VyY2UgZnJvbSAnLi9BcnJheVJlc291cmNlJztcbmltcG9ydCB7IFRBUkdFVFMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG4vKipcbiAqIFJlc291cmNlIGZvciBhIEN1YmVUZXh0dXJlIHdoaWNoIGNvbnRhaW5zIHNpeCByZXNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5BcnJheVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nfFBJWEkucmVzb3VyY2VzLlJlc291cmNlPn0gW3NvdXJjZV0gQ29sbGVjdGlvbiBvZiBVUkxzIG9yIHJlc291cmNlc1xuICogICAgICAgIHRvIHVzZSBhcyB0aGUgc2lkZXMgb2YgdGhlIGN1YmUuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gSW1hZ2VSZXNvdXJjZSBvcHRpb25zXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gV2lkdGggb2YgcmVzb3VyY2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIC0gSGVpZ2h0IG9mIHJlc291cmNlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN1YmVSZXNvdXJjZSBleHRlbmRzIEFycmF5UmVzb3VyY2VcbntcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2UsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICBzdXBlcihzb3VyY2UsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCAhPT0gQ3ViZVJlc291cmNlLlNJREVTKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbGVuZ3RoLiBHb3QgJHt0aGlzLmxlbmd0aH0sIGV4cGVjdGVkIDZgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgQ3ViZVJlc291cmNlLlNJREVTOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0udGFyZ2V0ID0gVEFSR0VUUy5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ggKyBpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b0xvYWQgIT09IGZhbHNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBiaW5kaW5nXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gcGFyZW50IGJhc2UgdGV4dHVyZVxuICAgICAqL1xuICAgIGJpbmQoYmFzZVRleHR1cmUpXG4gICAge1xuICAgICAgICBzdXBlci5iaW5kKGJhc2VUZXh0dXJlKTtcblxuICAgICAgICBiYXNlVGV4dHVyZS50YXJnZXQgPSBUQVJHRVRTLlRFWFRVUkVfQ1VCRV9NQVA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSByZXNvdXJjZVxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaXMgc3VjY2Vzc1xuICAgICAqL1xuICAgIHVwbG9hZChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGRpcnR5ID0gdGhpcy5pdGVtRGlydHlJZHM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBDdWJlUmVzb3VyY2UuU0lERVM7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgc2lkZSA9IHRoaXMuaXRlbXNbaV07XG5cbiAgICAgICAgICAgIGlmIChkaXJ0eVtpXSA8IHNpZGUuZGlydHlJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaXJ0eVtpXSA9IHNpZGUuZGlydHlJZDtcbiAgICAgICAgICAgICAgICBpZiAoc2lkZS52YWxpZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNpZGUucmVzb3VyY2UudXBsb2FkKHJlbmRlcmVyLCBzaWRlLCBnbFRleHR1cmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiB1cGxvYWQgemVybyBidWZmZXJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5cbi8qKlxuICogTnVtYmVyIG9mIHRleHR1cmUgc2lkZXMgdG8gc3RvcmUgZm9yIEN1YmVSZXNvdXJjZXNcbiAqXG4gKiBAbmFtZSBQSVhJLnJlc291cmNlcy5DdWJlUmVzb3VyY2UuU0lERVNcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqIEBkZWZhdWx0IDZcbiAqL1xuQ3ViZVJlc291cmNlLlNJREVTID0gNjtcbiIsImltcG9ydCB7IGRlY29tcG9zZURhdGFVcmksIHVpZCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCBCYXNlSW1hZ2VSZXNvdXJjZSBmcm9tICcuL0Jhc2VJbWFnZVJlc291cmNlJztcblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBTVkcgZWxlbWVudHMgYW5kIGdyYXBoaWNzLlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5CYXNlSW1hZ2VSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIC0gQmFzZTY0IGVuY29kZWQgU1ZHIGVsZW1lbnQgb3IgVVJMIGZvciBTVkcgZmlsZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zIHRvIHVzZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjYWxlPTFdIFNjYWxlIHRvIGFwcGx5IHRvIFNWRy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0xvYWQ9dHJ1ZV0gU3RhcnQgbG9hZGluZyByaWdodCBhd2F5LlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTVkdSZXNvdXJjZSBleHRlbmRzIEJhc2VJbWFnZVJlc291cmNlXG57XG4gICAgY29uc3RydWN0b3Ioc291cmNlLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgc3VwZXIoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCYXNlNjQgZW5jb2RlZCBTVkcgZWxlbWVudCBvciBVUkwgZm9yIFNWRyBmaWxlXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN2ZyA9IHNvdXJjZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNvdXJjZSBzY2FsZSB0byBhcHBseSB0byByZW5kZXJcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2NhbGUgPSBvcHRpb25zLnNjYWxlIHx8IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGwgd2hlbiBjb21wbGV0ZWx5IGxvYWRlZFxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Jlc29sdmUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9taXNlIHdoZW4gbG9hZGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtQcm9taXNlPHZvaWQ+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sb2FkID0gbnVsbDtcblxuICAgICAgICBpZiAob3B0aW9ucy5hdXRvTG9hZCAhPT0gZmFsc2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubG9hZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbG9hZCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbG9hZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb2FkID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFNhdmUgdGhpcyB1bnRpbCBhZnRlciBsb2FkIGlzIGZpbmlzaGVkXG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlID0gKCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZSh0aGlzLnNvdXJjZS53aWR0aCwgdGhpcy5zb3VyY2UuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gQ29udmVydCBTVkcgaW5saW5lIHN0cmluZyB0byBkYXRhLXVyaVxuICAgICAgICAgICAgaWYgKCgvXlxcPHN2Zy8pLnRlc3QodGhpcy5zdmcudHJpbSgpKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN2ZyA9IGBkYXRhOmltYWdlL3N2Zyt4bWw7dXRmOCwke3RoaXMuc3ZnfWA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrcyBpZiBgc291cmNlYCBpcyBhbiBTVkcgaW1hZ2UgYW5kIHdoZXRoZXIgaXQnc1xuICAgICAgICAgICAgLy8gbG9hZGVkIHZpYSBhIFVSTCBvciBhIGRhdGEgVVJJLiBUaGVuIGNhbGxzXG4gICAgICAgICAgICAvLyBgX2xvYWREYXRhVXJpYCBvciBgX2xvYWRYaHJgLlxuICAgICAgICAgICAgY29uc3QgZGF0YVVyaSA9IGRlY29tcG9zZURhdGFVcmkodGhpcy5zdmcpO1xuXG4gICAgICAgICAgICBpZiAoZGF0YVVyaSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkRGF0YVVyaShkYXRhVXJpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBnb3QgYW4gVVJMLCBzbyB3ZSBuZWVkIHRvIGRvIGFuIFhIUiB0byBjaGVjayB0aGUgc3ZnIHNpemVcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkWGhyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlYWRzIGFuIFNWRyBzdHJpbmcgZnJvbSBkYXRhIFVSSSBhbmQgdGhlbiBjYWxscyBgX2xvYWRTdHJpbmdgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGFVcmkgLSBUaGUgZGF0YSB1cmkgdG8gbG9hZCBmcm9tLlxuICAgICAqL1xuICAgIF9sb2FkRGF0YVVyaShkYXRhVXJpKVxuICAgIHtcbiAgICAgICAgbGV0IHN2Z1N0cmluZztcblxuICAgICAgICBpZiAoZGF0YVVyaS5lbmNvZGluZyA9PT0gJ2Jhc2U2NCcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghYXRvYilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdXIgYnJvd3NlciBkb2VzblxcJ3Qgc3VwcG9ydCBiYXNlNjQgY29udmVyc2lvbnMuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdmdTdHJpbmcgPSBhdG9iKGRhdGFVcmkuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBzdmdTdHJpbmcgPSBkYXRhVXJpLmRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb2FkU3RyaW5nKHN2Z1N0cmluZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZHMgYW4gU1ZHIHN0cmluZyBmcm9tIGBpbWFnZVVybGAgdXNpbmcgWEhSIGFuZCB0aGVuIGNhbGxzIGBfbG9hZFN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9sb2FkWGhyKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHN2Z1hociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICAgIC8vIFRoaXMgdGhyb3dzIGVycm9yIG9uIElFLCBzbyBTVkcgRG9jdW1lbnQgY2FuJ3QgYmUgdXNlZFxuICAgICAgICAvLyBzdmdYaHIucmVzcG9uc2VUeXBlID0gJ2RvY3VtZW50JztcblxuICAgICAgICAvLyBUaGlzIGlzIG5vdCBuZWVkZWQgc2luY2Ugd2UgbG9hZCB0aGUgc3ZnIGFzIHN0cmluZyAoYnJlYWtzIElFIHRvbylcbiAgICAgICAgLy8gYnV0IG92ZXJyaWRlTWltZVR5cGUoKSBjYW4gYmUgdXNlZCB0byBmb3JjZSB0aGUgcmVzcG9uc2UgdG8gYmUgcGFyc2VkIGFzIFhNTFxuICAgICAgICAvLyBzdmdYaHIub3ZlcnJpZGVNaW1lVHlwZSgnaW1hZ2Uvc3ZnK3htbCcpO1xuXG4gICAgICAgIHN2Z1hoci5vbmxvYWQgPSAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoc3ZnWGhyLnJlYWR5U3RhdGUgIT09IHN2Z1hoci5ET05FIHx8IHN2Z1hoci5zdGF0dXMgIT09IDIwMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBsb2FkIFNWRyB1c2luZyBYSFIuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2xvYWRTdHJpbmcoc3ZnWGhyLnJlc3BvbnNlKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBzdmdYaHIub25lcnJvciA9ICgpID0+IHRoaXMuZW1pdCgnZXJyb3InLCB0aGlzKTtcblxuICAgICAgICBzdmdYaHIub3BlbignR0VUJywgdGhpcy5zdmcsIHRydWUpO1xuICAgICAgICBzdmdYaHIuc2VuZCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRleHR1cmUgdXNpbmcgYW4gU1ZHIHN0cmluZy4gVGhlIG9yaWdpbmFsIFNWRyBJbWFnZSBpcyBzdG9yZWQgYXMgYG9yaWdTb3VyY2VgIGFuZCB0aGVcbiAgICAgKiBjcmVhdGVkIGNhbnZhcyBpcyB0aGUgbmV3IGBzb3VyY2VgLiBUaGUgU1ZHIGlzIHNjYWxlZCB1c2luZyBgc291cmNlU2NhbGVgLiBDYWxsZWQgYnlcbiAgICAgKiBgX2xvYWRYaHJgIG9yIGBfbG9hZERhdGFVcmlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IHN2Z1N0cmluZyBTVkcgc291cmNlIGFzIHN0cmluZ1xuICAgICAqXG4gICAgICogQGZpcmVzIGxvYWRlZFxuICAgICAqL1xuICAgIF9sb2FkU3RyaW5nKHN2Z1N0cmluZylcbiAgICB7XG4gICAgICAgIGNvbnN0IHN2Z1NpemUgPSBTVkdSZXNvdXJjZS5nZXRTaXplKHN2Z1N0cmluZyk7XG5cbiAgICAgICAgY29uc3QgdGVtcEltYWdlID0gbmV3IEltYWdlKCk7XG5cbiAgICAgICAgdGVtcEltYWdlLnNyYyA9IGBkYXRhOmltYWdlL3N2Zyt4bWwsJHtzdmdTdHJpbmd9YDtcblxuICAgICAgICB0ZW1wSW1hZ2Uub25lcnJvciA9ICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGxvYWQgaW1hZ2UgZnJvbTogJHt0ZW1wSW1hZ2Uuc3JjfWApO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRlbXBJbWFnZS5vbmxvYWQgPSAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBzdmdXaWR0aCA9IHN2Z1NpemUud2lkdGg7XG4gICAgICAgICAgICBjb25zdCBzdmdIZWlnaHQgPSBzdmdTaXplLmhlaWdodDtcblxuICAgICAgICAgICAgaWYgKCFzdmdXaWR0aCB8fCAhc3ZnSGVpZ2h0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIFNWRyBpbWFnZSBtdXN0IGhhdmUgd2lkdGggYW5kIGhlaWdodCBkZWZpbmVkIChpbiBwaXhlbHMpLCBjYW52YXMgQVBJIG5lZWRzIHRoZW0uJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNjYWxlIHJlYWxXaWR0aCBhbmQgcmVhbEhlaWdodFxuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBNYXRoLnJvdW5kKHN2Z1dpZHRoICogdGhpcy5zY2FsZSk7XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBNYXRoLnJvdW5kKHN2Z0hlaWdodCAqIHRoaXMuc2NhbGUpO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBjYW52YXMgZWxlbWVudFxuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5zb3VyY2U7XG5cbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgICAgIGNhbnZhcy5fcGl4aUlkID0gYGNhbnZhc18ke3VpZCgpfWA7XG5cbiAgICAgICAgICAgIC8vIERyYXcgdGhlIFN2ZyB0byB0aGUgY2FudmFzXG4gICAgICAgICAgICBjYW52YXNcbiAgICAgICAgICAgICAgICAuZ2V0Q29udGV4dCgnMmQnKVxuICAgICAgICAgICAgICAgIC5kcmF3SW1hZ2UodGVtcEltYWdlLCAwLCAwLCBzdmdXaWR0aCwgc3ZnSGVpZ2h0LCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSgpO1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHlwZWRlZiBmb3IgU2l6ZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2VcbiAgICAgKiBAdHlwZWRlZiB7b2JqZWN0fSBTaXplXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggY29tcG9uZW50XG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGhlaWdodCAtIEhlaWdodCBjb21wb25lbnRcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCBzaXplIGZyb20gYW4gc3ZnIHN0cmluZyB1c2luZyByZWdleHAuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN2Z1N0cmluZyAtIGEgc2VyaWFsaXplZCBzdmcgZWxlbWVudFxuICAgICAqIEByZXR1cm4ge1BJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlLlNpemV9IGltYWdlIGV4dGVuc2lvblxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRTaXplKHN2Z1N0cmluZylcbiAgICB7XG4gICAgICAgIGNvbnN0IHNpemVNYXRjaCA9IFNWR1Jlc291cmNlLlNWR19TSVpFLmV4ZWMoc3ZnU3RyaW5nKTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHt9O1xuXG4gICAgICAgIGlmIChzaXplTWF0Y2gpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNpemVbc2l6ZU1hdGNoWzFdXSA9IE1hdGgucm91bmQocGFyc2VGbG9hdChzaXplTWF0Y2hbM10pKTtcbiAgICAgICAgICAgIHNpemVbc2l6ZU1hdGNoWzVdXSA9IE1hdGgucm91bmQocGFyc2VGbG9hdChzaXplTWF0Y2hbN10pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaXplO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGRpc3Bvc2UoKVxuICAgIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7Kn0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uIC0gVGhlIGV4dGVuc2lvbiBvZiBzb3VyY2UsIGlmIHNldFxuICAgICAqL1xuICAgIHN0YXRpYyB0ZXN0KHNvdXJjZSwgZXh0ZW5zaW9uKVxuICAgIHtcbiAgICAgICAgLy8gdXJsIGZpbGUgZXh0ZW5zaW9uIGlzIFNWR1xuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uID09PSAnc3ZnJ1xuICAgICAgICAgICAgLy8gc291cmNlIGlzIFNWRyBkYXRhLXVyaVxuICAgICAgICAgICAgfHwgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnICYmIHNvdXJjZS5pbmRleE9mKCdkYXRhOmltYWdlL3N2Zyt4bWwnKSA9PT0gMCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFJlZ0V4cCBmb3IgU1ZHIHNpemUuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50IHtSZWdFeHB8c3RyaW5nfSBTVkdfU0laRVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlXG4gKiBAZXhhbXBsZSAmbHQ7c3ZnIHdpZHRoPVwiMTAwXCIgaGVpZ2h0PVwiMTAwXCImZ3Q7Jmx0Oy9zdmcmZ3Q7XG4gKi9cblNWR1Jlc291cmNlLlNWR19TSVpFID0gLzxzdmdbXj5dKig/Olxccyh3aWR0aHxoZWlnaHQpPSgnfFwiKShcXGQqKD86XFwuXFxkKyk/KSg/OnB4KT8oJ3xcIikpW14+XSooPzpcXHMod2lkdGh8aGVpZ2h0KT0oJ3xcIikoXFxkKig/OlxcLlxcZCspPykoPzpweCk/KCd8XCIpKVtePl0qPi9pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG1heC1sZW5cbiIsImltcG9ydCBCYXNlSW1hZ2VSZXNvdXJjZSBmcm9tICcuL0Jhc2VJbWFnZVJlc291cmNlJztcbmltcG9ydCB7IFRpY2tlciB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5cbi8qKlxuICogUmVzb3VyY2UgdHlwZSBmb3IgSFRNTFZpZGVvRWxlbWVudC5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICogQHBhcmFtIHtIVE1MVmlkZW9FbGVtZW50fG9iamVjdHxzdHJpbmd8QXJyYXk8c3RyaW5nfG9iamVjdD59IHNvdXJjZSAtIFZpZGVvIGVsZW1lbnQgdG8gdXNlLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnMgdG8gdXNlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gU3RhcnQgbG9hZGluZyB0aGUgdmlkZW8gaW1tZWRpYXRlbHlcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1BsYXk9dHJ1ZV0gLSBTdGFydCBwbGF5aW5nIHZpZGVvIGltbWVkaWF0ZWx5XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudXBkYXRlRlBTPTBdIC0gSG93IG1hbnkgdGltZXMgYSBzZWNvbmQgdG8gdXBkYXRlIHRoZSB0ZXh0dXJlIGZyb20gdGhlIHZpZGVvLlxuICogTGVhdmUgYXQgMCB0byB1cGRhdGUgYXQgZXZlcnkgcmVuZGVyLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jcm9zc29yaWdpbj10cnVlXSAtIExvYWQgaW1hZ2UgdXNpbmcgY3Jvc3Mgb3JpZ2luXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZpZGVvUmVzb3VyY2UgZXh0ZW5kcyBCYXNlSW1hZ2VSZXNvdXJjZVxue1xuICAgIGNvbnN0cnVjdG9yKHNvdXJjZSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIGlmICghKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB2aWRlb0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpO1xuXG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQuc2V0QXR0cmlidXRlKCd3ZWJraXQtcGxheXNpbmxpbmUnLCAnJyk7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQuc2V0QXR0cmlidXRlKCdwbGF5c2lubGluZScsICcnKTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNvdXJjZSA9IFtzb3VyY2VdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZS5jcm9zc09yaWdpbih2aWRlb0VsZW1lbnQsIChzb3VyY2VbMF0uc3JjIHx8IHNvdXJjZVswXSksIG9wdGlvbnMuY3Jvc3NvcmlnaW4pO1xuXG4gICAgICAgICAgICAvLyBhcnJheSBvZiBvYmplY3RzIG9yIHN0cmluZ3NcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKTtcblxuICAgICAgICAgICAgICAgIGxldCB7IHNyYywgbWltZSB9ID0gc291cmNlW2ldO1xuXG4gICAgICAgICAgICAgICAgc3JjID0gc3JjIHx8IHNvdXJjZVtpXTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VTcmMgPSBzcmMuc3BsaXQoJz8nKS5zaGlmdCgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZXh0ID0gYmFzZVNyYy5zdWJzdHIoYmFzZVNyYy5sYXN0SW5kZXhPZignLicpICsgMSk7XG5cbiAgICAgICAgICAgICAgICBtaW1lID0gbWltZSB8fCBgdmlkZW8vJHtleHR9YDtcblxuICAgICAgICAgICAgICAgIHNvdXJjZUVsZW1lbnQuc3JjID0gc3JjO1xuICAgICAgICAgICAgICAgIHNvdXJjZUVsZW1lbnQudHlwZSA9IG1pbWU7XG5cbiAgICAgICAgICAgICAgICB2aWRlb0VsZW1lbnQuYXBwZW5kQ2hpbGQoc291cmNlRWxlbWVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE92ZXJyaWRlIHRoZSBzb3VyY2VcbiAgICAgICAgICAgIHNvdXJjZSA9IHZpZGVvRWxlbWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyKHNvdXJjZSk7XG5cbiAgICAgICAgdGhpcy5fYXV0b1VwZGF0ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX2lzQXV0b1VwZGF0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUZQUyA9IG9wdGlvbnMudXBkYXRlRlBTIHx8IDA7XG4gICAgICAgIHRoaXMuX21zVG9OZXh0VXBkYXRlID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBzZXQgdG8gdHJ1ZSB3aWxsIGF1dG9tYXRpY2FsbHkgcGxheSB2aWRlb3MgdXNlZCBieSB0aGlzIHRleHR1cmUgb25jZVxuICAgICAgICAgKiB0aGV5IGFyZSBsb2FkZWQuIElmIGZhbHNlLCBpdCB3aWxsIG5vdCBtb2RpZnkgdGhlIHBsYXlpbmcgc3RhdGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b1BsYXkgPSBvcHRpb25zLmF1dG9QbGF5ICE9PSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZSB3aGVuIGxvYWRpbmdcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZTx2b2lkPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxiYWNrIHdoZW4gY29tcGxldGVkIHdpdGggbG9hZC5cbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yZXNvbHZlID0gbnVsbDtcblxuICAgICAgICAvLyBCaW5kIGZvciBsaXN0ZW5lcnNcbiAgICAgICAgdGhpcy5fb25DYW5QbGF5ID0gdGhpcy5fb25DYW5QbGF5LmJpbmQodGhpcyk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b0xvYWQgIT09IGZhbHNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmxvYWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgdXBkYXRpbmcgb2YgdGhlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVsdGFUaW1lPTBdIC0gdGltZSBkZWx0YSBzaW5jZSBsYXN0IHRpY2tcbiAgICAgKi9cbiAgICB1cGRhdGUoZGVsdGFUaW1lID0gMClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5kZXN0cm95ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGFjY291bnQgZm9yIGlmIHZpZGVvIGhhcyBoYWQgaXRzIHBsYXliYWNrUmF0ZSBjaGFuZ2VkXG4gICAgICAgICAgICBjb25zdCBlbGFwc2VkTVMgPSBUaWNrZXIuc2hhcmVkLmVsYXBzZWRNUyAqIHRoaXMuc291cmNlLnBsYXliYWNrUmF0ZTtcblxuICAgICAgICAgICAgdGhpcy5fbXNUb05leHRVcGRhdGUgPSBNYXRoLmZsb29yKHRoaXMuX21zVG9OZXh0VXBkYXRlIC0gZWxhcHNlZE1TKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5fdXBkYXRlRlBTIHx8IHRoaXMuX21zVG9OZXh0VXBkYXRlIDw9IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3VwZXIudXBkYXRlKGRlbHRhVGltZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbXNUb05leHRVcGRhdGUgPSB0aGlzLl91cGRhdGVGUFMgPyBNYXRoLmZsb29yKDEwMDAgLyB0aGlzLl91cGRhdGVGUFMpIDogMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0YXJ0IHByZWxvYWRpbmcgdGhlIHZpZGVvIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59IEhhbmRsZSB0aGUgdmFsaWRhdGUgZXZlbnRcbiAgICAgKi9cbiAgICBsb2FkKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9sb2FkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuc291cmNlO1xuXG4gICAgICAgIGlmICgoc291cmNlLnJlYWR5U3RhdGUgPT09IHNvdXJjZS5IQVZFX0VOT1VHSF9EQVRBIHx8IHNvdXJjZS5yZWFkeVN0YXRlID09PSBzb3VyY2UuSEFWRV9GVVRVUkVfREFUQSlcbiAgICAgICAgICAgICYmIHNvdXJjZS53aWR0aCAmJiBzb3VyY2UuaGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICBzb3VyY2UuY29tcGxldGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXknLCB0aGlzLl9vblBsYXlTdGFydC5iaW5kKHRoaXMpKTtcbiAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ3BhdXNlJywgdGhpcy5fb25QbGF5U3RvcC5iaW5kKHRoaXMpKTtcblxuICAgICAgICBpZiAoIXRoaXMuX2lzU291cmNlUmVhZHkoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCB0aGlzLl9vbkNhblBsYXkpO1xuICAgICAgICAgICAgc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fb25DYW5QbGF5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ2FuUGxheSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9hZCA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy52YWxpZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUgPSByZXNvbHZlO1xuXG4gICAgICAgICAgICAgICAgc291cmNlLmxvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB1bmRlcmx5aW5nIHNvdXJjZSBpcyBwbGF5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHBsYXlpbmcuXG4gICAgICovXG4gICAgX2lzU291cmNlUGxheWluZygpXG4gICAge1xuICAgICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcblxuICAgICAgICByZXR1cm4gKHNvdXJjZS5jdXJyZW50VGltZSA+IDAgJiYgc291cmNlLnBhdXNlZCA9PT0gZmFsc2UgJiYgc291cmNlLmVuZGVkID09PSBmYWxzZSAmJiBzb3VyY2UucmVhZHlTdGF0ZSA+IDIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdW5kZXJseWluZyBzb3VyY2UgaXMgcmVhZHkgZm9yIHBsYXlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcmVhZHkuXG4gICAgICovXG4gICAgX2lzU291cmNlUmVhZHkoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLnJlYWR5U3RhdGUgPT09IDMgfHwgdGhpcy5zb3VyY2UucmVhZHlTdGF0ZSA9PT0gNDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSdW5zIHRoZSB1cGRhdGUgbG9vcCB3aGVuIHRoZSB2aWRlbyBpcyByZWFkeSB0byBwbGF5XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vblBsYXlTdGFydCgpXG4gICAge1xuICAgICAgICAvLyBKdXN0IGluIGNhc2UgdGhlIHZpZGVvIGhhcyBub3QgcmVjZWl2ZWQgaXRzIGNhbiBwbGF5IGV2ZW4geWV0Li5cbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9vbkNhblBsYXkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5faXNBdXRvVXBkYXRpbmcgJiYgdGhpcy5hdXRvVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9pc0F1dG9VcGRhdGluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGEgcGF1c2UgZXZlbnQgaXMgdHJpZ2dlcmVkLCBzdG9wcyB0aGUgdXBkYXRlIGxvb3BcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uUGxheVN0b3AoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzQXV0b1VwZGF0aW5nKVxuICAgICAgICB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9pc0F1dG9VcGRhdGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB0aGUgdmlkZW8gaXMgbG9hZGVkIGFuZCByZWFkeSB0byBwbGF5XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbkNhblBsYXkoKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyBzb3VyY2UgfSA9IHRoaXM7XG5cbiAgICAgICAgc291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCB0aGlzLl9vbkNhblBsYXkpO1xuICAgICAgICBzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9vbkNhblBsYXkpO1xuXG4gICAgICAgIGNvbnN0IHZhbGlkID0gdGhpcy52YWxpZDtcblxuICAgICAgICB0aGlzLnJlc2l6ZShzb3VyY2UudmlkZW9XaWR0aCwgc291cmNlLnZpZGVvSGVpZ2h0KTtcblxuICAgICAgICAvLyBwcmV2ZW50IG11bHRpcGxlIGxvYWRlZCBkaXNwYXRjaGVzLi5cbiAgICAgICAgaWYgKCF2YWxpZCAmJiB0aGlzLl9yZXNvbHZlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faXNTb3VyY2VQbGF5aW5nKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX29uUGxheVN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hdXRvUGxheSlcbiAgICAgICAge1xuICAgICAgICAgICAgc291cmNlLnBsYXkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGRpc3Bvc2UoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzQXV0b1VwZGF0aW5nKVxuICAgICAgICB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zb3VyY2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc291cmNlLnBhdXNlKCk7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5zcmMgPSAnJztcbiAgICAgICAgICAgIHRoaXMuc291cmNlLmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvdWxkIHRoZSBiYXNlIHRleHR1cmUgYXV0b21hdGljYWxseSB1cGRhdGUgaXRzZWxmLCBzZXQgdG8gdHJ1ZSBieSBkZWZhdWx0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBhdXRvVXBkYXRlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hdXRvVXBkYXRlO1xuICAgIH1cblxuICAgIHNldCBhdXRvVXBkYXRlKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fYXV0b1VwZGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYXV0b1VwZGF0ZSA9IHZhbHVlO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2F1dG9VcGRhdGUgJiYgdGhpcy5faXNBdXRvVXBkYXRpbmcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2lzQXV0b1VwZGF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9hdXRvVXBkYXRlICYmICF0aGlzLl9pc0F1dG9VcGRhdGluZylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSG93IG1hbnkgdGltZXMgYSBzZWNvbmQgdG8gdXBkYXRlIHRoZSB0ZXh0dXJlIGZyb20gdGhlIHZpZGVvLiBMZWF2ZSBhdCAwIHRvIHVwZGF0ZSBhdCBldmVyeSByZW5kZXIuXG4gICAgICogQSBsb3dlciBmcHMgY2FuIGhlbHAgcGVyZm9ybWFuY2UsIGFzIHVwZGF0aW5nIHRoZSB0ZXh0dXJlIGF0IDYwZnBzIG9uIGEgMzBwcyB2aWRlbyBtYXkgbm90IGJlIGVmZmljaWVudC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgdXBkYXRlRlBTKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl91cGRhdGVGUFM7XG4gICAgfVxuXG4gICAgc2V0IHVwZGF0ZUZQUyh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX3VwZGF0ZUZQUylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlRlBTID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7Kn0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uIC0gVGhlIGV4dGVuc2lvbiBvZiBzb3VyY2UsIGlmIHNldFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB2aWRlbyBzb3VyY2VcbiAgICAgKi9cbiAgICBzdGF0aWMgdGVzdChzb3VyY2UsIGV4dGVuc2lvbilcbiAgICB7XG4gICAgICAgIHJldHVybiAoc291cmNlIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudClcbiAgICAgICAgICAgIHx8IFZpZGVvUmVzb3VyY2UuVFlQRVMuaW5kZXhPZihleHRlbnNpb24pID4gLTE7XG4gICAgfVxufVxuXG4vKipcbiAqIExpc3Qgb2YgY29tbW9uIHZpZGVvIGZpbGUgZXh0ZW5zaW9ucyBzdXBwb3J0ZWQgYnkgVmlkZW9SZXNvdXJjZS5cbiAqIEBjb25zdGFudFxuICogQG1lbWJlciB7QXJyYXk8c3RyaW5nPn1cbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICovXG5WaWRlb1Jlc291cmNlLlRZUEVTID0gWydtcDQnLCAnbTR2JywgJ3dlYm0nLCAnb2dnJywgJ29ndicsICdoMjY0JywgJ2F2aScsICdtb3YnXTtcbiIsImltcG9ydCB7IElOU1RBTExFRCwgYXV0b0RldGVjdFJlc291cmNlIH0gZnJvbSAnLi9hdXRvRGV0ZWN0UmVzb3VyY2UnO1xuaW1wb3J0IEFycmF5UmVzb3VyY2UgZnJvbSAnLi9BcnJheVJlc291cmNlJztcbmltcG9ydCBCdWZmZXJSZXNvdXJjZSBmcm9tICcuL0J1ZmZlclJlc291cmNlJztcbmltcG9ydCBDYW52YXNSZXNvdXJjZSBmcm9tICcuL0NhbnZhc1Jlc291cmNlJztcbmltcG9ydCBDdWJlUmVzb3VyY2UgZnJvbSAnLi9DdWJlUmVzb3VyY2UnO1xuaW1wb3J0IEltYWdlUmVzb3VyY2UgZnJvbSAnLi9JbWFnZVJlc291cmNlJztcbmltcG9ydCBTVkdSZXNvdXJjZSBmcm9tICcuL1NWR1Jlc291cmNlJztcbmltcG9ydCBWaWRlb1Jlc291cmNlIGZyb20gJy4vVmlkZW9SZXNvdXJjZSc7XG5cbi8qKlxuICogQ29sbGVjdGlvbiBvZiBiYXNlIHJlc291cmNlIHR5cGVzIHN1cHBvcnRlZCBieSBQaXhpSlMuXG4gKlxuICogUmVzb3VyY2VzIGFyZSB1c2VkIGJ5IHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSB0byBoYW5kbGUgZGlmZmVyZW50IG1lZGlhIHR5cGVzXG4gKiBzdWNoIGFzIGltYWdlcywgdmlkZW8sIFNWRyBncmFwaGljcywgZXRjLiBJbiBtb3N0IHVzZS1jYXNlcywgeW91IHNob3VsZCBub3RcbiAqIGluc3RhbnRpYXRlIHRoZSByZXNvdXJjZXMgZGlyZWN0bHkuIFRoZSBlYXN5IHRoaW5nIGlzIHRvIHVzZVxuICoge0BsaW5rIFBJWEkuQmFzZVRleHR1cmUuZnJvbX0uXG4gKiBAZXhhbXBsZVxuICogY29uc3QgYmFzZVRleHR1cmUgPSBQSVhJLkJhc2VUZXh0dXJlLmZyb20oJ3BhdGgvdG8vaW1hZ2UuanBnJyk7XG4gKiBAbmFtZXNwYWNlIFBJWEkucmVzb3VyY2VzXG4gKi9cbmV4cG9ydCB7IGRlZmF1bHQgYXMgUmVzb3VyY2UgfSBmcm9tICcuL1Jlc291cmNlJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQmFzZUltYWdlUmVzb3VyY2UgfSBmcm9tICcuL0Jhc2VJbWFnZVJlc291cmNlJztcblxuSU5TVEFMTEVELnB1c2goXG4gICAgSW1hZ2VSZXNvdXJjZSxcbiAgICBDYW52YXNSZXNvdXJjZSxcbiAgICBWaWRlb1Jlc291cmNlLFxuICAgIFNWR1Jlc291cmNlLFxuICAgIEJ1ZmZlclJlc291cmNlLFxuICAgIEN1YmVSZXNvdXJjZSxcbiAgICBBcnJheVJlc291cmNlXG4pO1xuXG5leHBvcnQge1xuICAgIElOU1RBTExFRCxcbiAgICBhdXRvRGV0ZWN0UmVzb3VyY2UsXG4gICAgQXJyYXlSZXNvdXJjZSxcbiAgICBCdWZmZXJSZXNvdXJjZSxcbiAgICBDYW52YXNSZXNvdXJjZSxcbiAgICBDdWJlUmVzb3VyY2UsXG4gICAgSW1hZ2VSZXNvdXJjZSxcbiAgICBTVkdSZXNvdXJjZSxcbiAgICBWaWRlb1Jlc291cmNlIH07XG4iLCIvKipcbiAqIFN5c3RlbSBpcyBhIGJhc2UgY2xhc3MgdXNlZCBmb3IgZXh0ZW5kaW5nIHN5c3RlbXMgdXNlZCBieSB0aGUge0BsaW5rIFBJWEkuUmVuZGVyZXJ9XG4gKlxuICogQHNlZSBQSVhJLlJlbmRlcmVyI2FkZFN5c3RlbVxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTeXN0ZW1cbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlbmRlcmVyIHRoaXMgbWFuYWdlciB3b3JrcyBmb3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5ydW5uZXJzLmNvbnRleHRDaGFuZ2UuYWRkKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyaWMgbWV0aG9kIGNhbGxlZCB3aGVuIHRoZXJlIGlzIGEgV2ViR0wgY29udGV4dCBjaGFuZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgbmV3IHdlYmdsIGNvbnRleHRcbiAgICAgKi9cbiAgICBjb250ZXh0Q2hhbmdlKGdsKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge1xuICAgICAgICAvLyBkbyBzb21lIGNvZGVzIGluaXQhXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJpYyBkZXN0cm95IG1ldGhvZHMgdG8gYmUgb3ZlcnJpZGRlbiBieSB0aGUgc3ViY2xhc3NcbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucnVubmVycy5jb250ZXh0Q2hhbmdlLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgfVxufVxuIiwiaW1wb3J0IEJ1ZmZlclJlc291cmNlIGZyb20gJy4vQnVmZmVyUmVzb3VyY2UnO1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIERlcHRoVGV4dHVyZS5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuQnVmZmVyUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZXB0aFJlc291cmNlIGV4dGVuZHMgQnVmZmVyUmVzb3VyY2VcbntcbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHRleHR1cmUgdG8gdGhlIEdQVS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIFVwbG9hZCB0byB0aGUgcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIFJlZmVyZW5jZSB0byBwYXJlbnQgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5HTFRleHR1cmV9IGdsVGV4dHVyZSBnbFRleHR1cmVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gICAgICovXG4gICAgdXBsb2FkKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICBnbC5waXhlbFN0b3JlaShnbC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsIGJhc2VUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEpO1xuXG4gICAgICAgIGlmIChnbFRleHR1cmUud2lkdGggPT09IGJhc2VUZXh0dXJlLndpZHRoICYmIGdsVGV4dHVyZS5oZWlnaHQgPT09IGJhc2VUZXh0dXJlLmhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRChcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50YXJnZXQsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUud2lkdGgsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50eXBlLFxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53aWR0aCA9IGJhc2VUZXh0dXJlLndpZHRoO1xuICAgICAgICAgICAgZ2xUZXh0dXJlLmhlaWdodCA9IGJhc2VUZXh0dXJlLmhlaWdodDtcblxuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50YXJnZXQsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBnbC5ERVBUSF9DT01QT05FTlQxNiwgLy8gTmVlZGVkIGZvciBkZXB0aCB0byByZW5kZXIgcHJvcGVybHkgaW4gd2ViZ2wyLjBcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS53aWR0aCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudHlwZSxcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSdW5uZXIgfSBmcm9tICdAcGl4aS9ydW5uZXInO1xuaW1wb3J0IFRleHR1cmUgZnJvbSAnLi4vdGV4dHVyZXMvQmFzZVRleHR1cmUnO1xuaW1wb3J0IERlcHRoUmVzb3VyY2UgZnJvbSAnLi4vdGV4dHVyZXMvcmVzb3VyY2VzL0RlcHRoUmVzb3VyY2UnO1xuaW1wb3J0IHsgRk9STUFUUywgVFlQRVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG4vKipcbiAqIEZyYW1lIGJ1ZmZlciB1c2VkIGJ5IHRoZSBCYXNlUmVuZGVyVGV4dHVyZVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRnJhbWVidWZmZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIEhlaWdodCBvZiB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIHRoaXMud2lkdGggPSBNYXRoLmNlaWwod2lkdGggfHwgMTAwKTtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0IHx8IDEwMCk7XG5cbiAgICAgICAgdGhpcy5zdGVuY2lsID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGVwdGggPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmRpcnR5SWQgPSAwO1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0ID0gMDtcbiAgICAgICAgdGhpcy5kaXJ0eVNpemUgPSAwO1xuXG4gICAgICAgIHRoaXMuZGVwdGhUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb2xvclRleHR1cmVzID0gW107XG5cbiAgICAgICAgdGhpcy5nbEZyYW1lYnVmZmVycyA9IHt9O1xuXG4gICAgICAgIHRoaXMuZGlzcG9zZVJ1bm5lciA9IG5ldyBSdW5uZXIoJ2Rpc3Bvc2VGcmFtZWJ1ZmZlcicsIDIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZmVyZW5jZSB0byB0aGUgY29sb3JUZXh0dXJlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlW119XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IGNvbG9yVGV4dHVyZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xvclRleHR1cmVzWzBdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCB0ZXh0dXJlIHRvIHRoZSBjb2xvclRleHR1cmUgYXJyYXlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaW5kZXg9MF0gLSBJbmRleCBvZiB0aGUgYXJyYXkgdG8gYWRkIHRoZSB0ZXh0dXJlIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IFt0ZXh0dXJlXSAtIFRleHR1cmUgdG8gYWRkIHRvIHRoZSBhcnJheVxuICAgICAqL1xuICAgIGFkZENvbG9yVGV4dHVyZShpbmRleCA9IDAsIHRleHR1cmUpXG4gICAge1xuICAgICAgICAvLyBUT0RPIGFkZCBzb21lIHZhbGlkYXRpb24gdG8gdGhlIHRleHR1cmUgLSBzYW1lIHdpZHRoIC8gaGVpZ2h0IGV0Yz9cbiAgICAgICAgdGhpcy5jb2xvclRleHR1cmVzW2luZGV4XSA9IHRleHR1cmUgfHwgbmV3IFRleHR1cmUobnVsbCwgeyBzY2FsZU1vZGU6IDAsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiAxLFxuICAgICAgICAgICAgbWlwbWFwOiBmYWxzZSxcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCB9KTsvLyB8fCBuZXcgVGV4dHVyZSgpO1xuXG4gICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgZGVwdGggdGV4dHVyZSB0byB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gW3RleHR1cmVdIC0gVGV4dHVyZSB0byBhZGRcbiAgICAgKi9cbiAgICBhZGREZXB0aFRleHR1cmUodGV4dHVyZSlcbiAgICB7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgdGhpcy5kZXB0aFRleHR1cmUgPSB0ZXh0dXJlIHx8IG5ldyBUZXh0dXJlKG5ldyBEZXB0aFJlc291cmNlKG51bGwsIHsgd2lkdGg6IHRoaXMud2lkdGgsIGhlaWdodDogdGhpcy5oZWlnaHQgfSksIHsgc2NhbGVNb2RlOiAwLFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcbiAgICAgICAgICAgIG1pcG1hcDogZmFsc2UsXG4gICAgICAgICAgICBmb3JtYXQ6IEZPUk1BVFMuREVQVEhfQ09NUE9ORU5ULFxuICAgICAgICAgICAgdHlwZTogVFlQRVMuVU5TSUdORURfU0hPUlQgfSk7Ly8gVU5TSUdORURfU0hPUlQ7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgIHRoaXMuZGlydHlGb3JtYXQrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgZGVwdGggb24gdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqL1xuICAgIGVuYWJsZURlcHRoKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGVwdGggPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgICAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlIHN0ZW5jaWwgb24gdGhlIGZyYW1lIGJ1ZmZlclxuICAgICAqL1xuICAgIGVuYWJsZVN0ZW5jaWwoKVxuICAgIHtcbiAgICAgICAgdGhpcy5zdGVuY2lsID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmRpcnR5SWQrKztcbiAgICAgICAgdGhpcy5kaXJ0eUZvcm1hdCsrO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZSB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB0aGUgZnJhbWUgYnVmZmVyIHRvIHJlc2l6ZSB0b1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2YgdGhlIGZyYW1lIGJ1ZmZlciB0byByZXNpemUgdG9cbiAgICAgKi9cbiAgICByZXNpemUod2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIHdpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICAgICAgaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCk7XG5cbiAgICAgICAgaWYgKHdpZHRoID09PSB0aGlzLndpZHRoICYmIGhlaWdodCA9PT0gdGhpcy5oZWlnaHQpIHJldHVybjtcblxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgICAgICB0aGlzLmRpcnR5U2l6ZSsrO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb2xvclRleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy5jb2xvclRleHR1cmVzW2ldO1xuICAgICAgICAgICAgY29uc3QgcmVzb2x1dGlvbiA9IHRleHR1cmUucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgLy8gdGFrZSBpbnRvIGFjb3VudCB0aGUgZmFjdCB0aGUgdGV4dHVyZSBtYXkgaGF2ZSBhIGRpZmZlcmVudCByZXNvbHV0aW9uLi5cbiAgICAgICAgICAgIHRleHR1cmUuc2V0U2l6ZSh3aWR0aCAvIHJlc29sdXRpb24sIGhlaWdodCAvIHJlc29sdXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZGVwdGhUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCByZXNvbHV0aW9uID0gdGhpcy5kZXB0aFRleHR1cmUucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgdGhpcy5kZXB0aFRleHR1cmUuc2V0U2l6ZSh3aWR0aCAvIHJlc29sdXRpb24sIGhlaWdodCAvIHJlc29sdXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZGlzcG9zZXMgV2ViR0wgcmVzb3VyY2VzIHRoYXQgYXJlIGNvbm5lY3RlZCB0byB0aGlzIGdlb21ldHJ5XG4gICAgICovXG4gICAgZGlzcG9zZSgpXG4gICAge1xuICAgICAgICB0aGlzLmRpc3Bvc2VSdW5uZXIucnVuKHRoaXMsIGZhbHNlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQmFzZVRleHR1cmUgZnJvbSAnLi4vdGV4dHVyZXMvQmFzZVRleHR1cmUnO1xuaW1wb3J0IEZyYW1lYnVmZmVyIGZyb20gJy4uL2ZyYW1lYnVmZmVyL0ZyYW1lYnVmZmVyJztcblxuLyoqXG4gKiBBIEJhc2VSZW5kZXJUZXh0dXJlIGlzIGEgc3BlY2lhbCB0ZXh0dXJlIHRoYXQgYWxsb3dzIGFueSBQaXhpSlMgZGlzcGxheSBvYmplY3QgdG8gYmUgcmVuZGVyZWQgdG8gaXQuXG4gKlxuICogX19IaW50X186IEFsbCBEaXNwbGF5T2JqZWN0cyAoaS5lLiBTcHJpdGVzKSB0aGF0IHJlbmRlciB0byBhIEJhc2VSZW5kZXJUZXh0dXJlIHNob3VsZCBiZSBwcmVsb2FkZWRcbiAqIG90aGVyd2lzZSBibGFjayByZWN0YW5nbGVzIHdpbGwgYmUgZHJhd24gaW5zdGVhZC5cbiAqXG4gKiBBIEJhc2VSZW5kZXJUZXh0dXJlIHRha2VzIGEgc25hcHNob3Qgb2YgYW55IERpc3BsYXkgT2JqZWN0IGdpdmVuIHRvIGl0cyByZW5kZXIgbWV0aG9kLiBUaGUgcG9zaXRpb25cbiAqIGFuZCByb3RhdGlvbiBvZiB0aGUgZ2l2ZW4gRGlzcGxheSBPYmplY3RzIGlzIGlnbm9yZWQuIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgcmVuZGVyZXIgPSBQSVhJLmF1dG9EZXRlY3RSZW5kZXJlcigpO1xuICogbGV0IGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuQmFzZVJlbmRlclRleHR1cmUoeyB3aWR0aDogODAwLCBoZWlnaHQ6IDYwMCB9KTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuUmVuZGVyVGV4dHVyZShiYXNlUmVuZGVyVGV4dHVyZSk7XG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbShcInNwaW5PYmpfMDEucG5nXCIpO1xuICpcbiAqIHNwcml0ZS5wb3NpdGlvbi54ID0gODAwLzI7XG4gKiBzcHJpdGUucG9zaXRpb24ueSA9IDYwMC8yO1xuICogc3ByaXRlLmFuY2hvci54ID0gMC41O1xuICogc3ByaXRlLmFuY2hvci55ID0gMC41O1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpO1xuICogYGBgXG4gKlxuICogVGhlIFNwcml0ZSBpbiB0aGlzIGNhc2Ugd2lsbCBiZSByZW5kZXJlZCB1c2luZyBpdHMgbG9jYWwgdHJhbnNmb3JtLiBUbyByZW5kZXIgdGhpcyBzcHJpdGUgYXQgMCwwXG4gKiB5b3UgY2FuIGNsZWFyIHRoZSB0cmFuc2Zvcm1cbiAqXG4gKiBgYGBqc1xuICpcbiAqIHNwcml0ZS5zZXRUcmFuc2Zvcm0oKVxuICpcbiAqIGxldCBiYXNlUmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLkJhc2VSZW5kZXJUZXh0dXJlKHsgd2lkdGg6IDEwMCwgaGVpZ2h0OiAxMDAgfSk7XG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLlJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpOyAgLy8gUmVuZGVycyB0byBjZW50ZXIgb2YgUmVuZGVyVGV4dHVyZVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhc2VUZXh0dXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlUmVuZGVyVGV4dHVyZSBleHRlbmRzIEJhc2VUZXh0dXJlXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD0xMDBdIC0gVGhlIHdpZHRoIG9mIHRoZSBiYXNlIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9MTAwXSAtIFRoZSBoZWlnaHQgb2YgdGhlIGJhc2UgcmVuZGVyIHRleHR1cmUuXG4gICAgICogQHBhcmFtIHtQSVhJLlNDQUxFX01PREVTfSBbb3B0aW9ucy5zY2FsZU1vZGVdIC0gU2VlIHtAbGluayBQSVhJLlNDQUxFX01PREVTfSBmb3IgcG9zc2libGUgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmUgYmVpbmcgZ2VuZXJhdGVkLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKVxuICAgICAgICB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMgKi9cbiAgICAgICAgICAgIC8vIEJhY2t3YXJkIGNvbXBhdGliaWxpdHkgb2Ygc2lnbmF0dXJlXG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlTW9kZSA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdXRpb24gPSBhcmd1bWVudHNbM107XG5cbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IHdpZHRoLCBoZWlnaHQsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbiB9O1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMgKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyKG51bGwsIG9wdGlvbnMpO1xuXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICAvLyBTZXQgZGVmYXVsdHNcbiAgICAgICAgdGhpcy5taXBtYXAgPSBmYWxzZTtcbiAgICAgICAgdGhpcy53aWR0aCA9IE1hdGguY2VpbCh3aWR0aCkgfHwgMTAwO1xuICAgICAgICB0aGlzLmhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpIHx8IDEwMDtcbiAgICAgICAgdGhpcy52YWxpZCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVmZXJlbmNlIHRvIHRoZSBjYW52YXMgcmVuZGVyIHRhcmdldCAod2Ugb25seSBuZWVkIG9uZSBhcyB0aGlzIGNhbiBiZSBzaGFyZWQgYWNyb3NzIHJlbmRlcmVycylcbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jYW52YXNSZW5kZXJUYXJnZXQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuY2xlYXJDb2xvciA9IFswLCAwLCAwLCAwXTtcblxuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyID0gbmV3IEZyYW1lYnVmZmVyKHRoaXMud2lkdGggKiB0aGlzLnJlc29sdXRpb24sIHRoaXMuaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uKVxuICAgICAgICAgICAgLmFkZENvbG9yVGV4dHVyZSgwLCB0aGlzKVxuICAgICAgICAgICAgLmVuYWJsZVN0ZW5jaWwoKTtcblxuICAgICAgICAvLyBUT0RPIC0gY291bGQgdGhpcyBiZSBhZGRlZCB0aGUgc3lzdGVtcz9cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRhdGEgc3RydWN0dXJlIGZvciB0aGUgc3RlbmNpbCBtYXNrcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc1tdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGVuY2lsTWFza1N0YWNrID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIHN0cnVjdHVyZSBmb3IgdGhlIGZpbHRlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsdGVyU3RhY2sgPSBbe31dO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIEJhc2VSZW5kZXJUZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCB0byByZXNpemUgdG8uXG4gICAgICovXG4gICAgcmVzaXplKHdpZHRoLCBoZWlnaHQpXG4gICAge1xuICAgICAgICB3aWR0aCA9IE1hdGguY2VpbCh3aWR0aCk7XG4gICAgICAgIGhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpO1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyLnJlc2l6ZSh3aWR0aCAqIHRoaXMucmVzb2x1dGlvbiwgaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGcmVlcyB0aGUgdGV4dHVyZSBhbmQgZnJhbWVidWZmZXIgZnJvbSBXZWJHTCBtZW1vcnkgd2l0aG91dCBkZXN0cm95aW5nIHRoaXMgdGV4dHVyZSBvYmplY3QuXG4gICAgICogVGhpcyBtZWFucyB5b3UgY2FuIHN0aWxsIHVzZSB0aGUgdGV4dHVyZSBsYXRlciB3aGljaCB3aWxsIHVwbG9hZCBpdCB0byBHUFVcbiAgICAgKiBtZW1vcnkgYWdhaW4uXG4gICAgICpcbiAgICAgKiBAZmlyZXMgUElYSS5CYXNlVGV4dHVyZSNkaXNwb3NlXG4gICAgICovXG4gICAgZGlzcG9zZSgpXG4gICAge1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyLmRpc3Bvc2UoKTtcblxuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlLlxuICAgICAqXG4gICAgICovXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICBzdXBlci5kZXN0cm95KHRydWUpO1xuXG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEdyb3VwRDggfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyoqXG4gKiBBIHN0YW5kYXJkIG9iamVjdCB0byBzdG9yZSB0aGUgVXZzIG9mIGEgdGV4dHVyZVxuICpcbiAqIEBjbGFzc1xuICogQHByb3RlY3RlZFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dHVyZVV2c1xue1xuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHRoaXMueDAgPSAwO1xuICAgICAgICB0aGlzLnkwID0gMDtcblxuICAgICAgICB0aGlzLngxID0gMTtcbiAgICAgICAgdGhpcy55MSA9IDA7XG5cbiAgICAgICAgdGhpcy54MiA9IDE7XG4gICAgICAgIHRoaXMueTIgPSAxO1xuXG4gICAgICAgIHRoaXMueDMgPSAwO1xuICAgICAgICB0aGlzLnkzID0gMTtcblxuICAgICAgICB0aGlzLnV2c0Zsb2F0MzIgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRleHR1cmUgVXZzIGJhc2VkIG9uIHRoZSBnaXZlbiBmcmFtZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBmcmFtZSAtIFRoZSBmcmFtZSBvZiB0aGUgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGJhc2VGcmFtZSAtIFRoZSBiYXNlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0ZSAtIFJvdGF0aW9uIG9mIGZyYW1lLCBzZWUge0BsaW5rIFBJWEkuR3JvdXBEOH1cbiAgICAgKi9cbiAgICBzZXQoZnJhbWUsIGJhc2VGcmFtZSwgcm90YXRlKVxuICAgIHtcbiAgICAgICAgY29uc3QgdHcgPSBiYXNlRnJhbWUud2lkdGg7XG4gICAgICAgIGNvbnN0IHRoID0gYmFzZUZyYW1lLmhlaWdodDtcblxuICAgICAgICBpZiAocm90YXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB3aWR0aCBhbmQgaGVpZ2h0IGRpdiAyIGRpdiBiYXNlRnJhbWUgc2l6ZVxuICAgICAgICAgICAgY29uc3QgdzIgPSBmcmFtZS53aWR0aCAvIDIgLyB0dztcbiAgICAgICAgICAgIGNvbnN0IGgyID0gZnJhbWUuaGVpZ2h0IC8gMiAvIHRoO1xuXG4gICAgICAgICAgICAvLyBjb29yZGluYXRlcyBvZiBjZW50ZXJcbiAgICAgICAgICAgIGNvbnN0IGNYID0gKGZyYW1lLnggLyB0dykgKyB3MjtcbiAgICAgICAgICAgIGNvbnN0IGNZID0gKGZyYW1lLnkgLyB0aCkgKyBoMjtcblxuICAgICAgICAgICAgcm90YXRlID0gR3JvdXBEOC5hZGQocm90YXRlLCBHcm91cEQ4Lk5XKTsgLy8gTlcgaXMgdG9wLWxlZnQgY29ybmVyXG4gICAgICAgICAgICB0aGlzLngwID0gY1ggKyAodzIgKiBHcm91cEQ4LnVYKHJvdGF0ZSkpO1xuICAgICAgICAgICAgdGhpcy55MCA9IGNZICsgKGgyICogR3JvdXBEOC51WShyb3RhdGUpKTtcblxuICAgICAgICAgICAgcm90YXRlID0gR3JvdXBEOC5hZGQocm90YXRlLCAyKTsgLy8gcm90YXRlIDkwIGRlZ3JlZXMgY2xvY2t3aXNlXG4gICAgICAgICAgICB0aGlzLngxID0gY1ggKyAodzIgKiBHcm91cEQ4LnVYKHJvdGF0ZSkpO1xuICAgICAgICAgICAgdGhpcy55MSA9IGNZICsgKGgyICogR3JvdXBEOC51WShyb3RhdGUpKTtcblxuICAgICAgICAgICAgcm90YXRlID0gR3JvdXBEOC5hZGQocm90YXRlLCAyKTtcbiAgICAgICAgICAgIHRoaXMueDIgPSBjWCArICh3MiAqIEdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgICAgICB0aGlzLnkyID0gY1kgKyAoaDIgKiBHcm91cEQ4LnVZKHJvdGF0ZSkpO1xuXG4gICAgICAgICAgICByb3RhdGUgPSBHcm91cEQ4LmFkZChyb3RhdGUsIDIpO1xuICAgICAgICAgICAgdGhpcy54MyA9IGNYICsgKHcyICogR3JvdXBEOC51WChyb3RhdGUpKTtcbiAgICAgICAgICAgIHRoaXMueTMgPSBjWSArIChoMiAqIEdyb3VwRDgudVkocm90YXRlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLngwID0gZnJhbWUueCAvIHR3O1xuICAgICAgICAgICAgdGhpcy55MCA9IGZyYW1lLnkgLyB0aDtcblxuICAgICAgICAgICAgdGhpcy54MSA9IChmcmFtZS54ICsgZnJhbWUud2lkdGgpIC8gdHc7XG4gICAgICAgICAgICB0aGlzLnkxID0gZnJhbWUueSAvIHRoO1xuXG4gICAgICAgICAgICB0aGlzLngyID0gKGZyYW1lLnggKyBmcmFtZS53aWR0aCkgLyB0dztcbiAgICAgICAgICAgIHRoaXMueTIgPSAoZnJhbWUueSArIGZyYW1lLmhlaWdodCkgLyB0aDtcblxuICAgICAgICAgICAgdGhpcy54MyA9IGZyYW1lLnggLyB0dztcbiAgICAgICAgICAgIHRoaXMueTMgPSAoZnJhbWUueSArIGZyYW1lLmhlaWdodCkgLyB0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXZzRmxvYXQzMlswXSA9IHRoaXMueDA7XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMlsxXSA9IHRoaXMueTA7XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMlsyXSA9IHRoaXMueDE7XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMlszXSA9IHRoaXMueTE7XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMls0XSA9IHRoaXMueDI7XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMls1XSA9IHRoaXMueTI7XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMls2XSA9IHRoaXMueDM7XG4gICAgICAgIHRoaXMudXZzRmxvYXQzMls3XSA9IHRoaXMueTM7XG4gICAgfVxufVxuIiwiaW1wb3J0IEJhc2VUZXh0dXJlIGZyb20gJy4vQmFzZVRleHR1cmUnO1xuaW1wb3J0IEltYWdlUmVzb3VyY2UgZnJvbSAnLi9yZXNvdXJjZXMvSW1hZ2VSZXNvdXJjZSc7XG5pbXBvcnQgQ2FudmFzUmVzb3VyY2UgZnJvbSAnLi9yZXNvdXJjZXMvQ2FudmFzUmVzb3VyY2UnO1xuaW1wb3J0IFRleHR1cmVVdnMgZnJvbSAnLi9UZXh0dXJlVXZzJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlLCBQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgdWlkLCBUZXh0dXJlQ2FjaGUsIGdldFJlc29sdXRpb25PZlVybCwgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG5jb25zdCBERUZBVUxUX1VWUyA9IG5ldyBUZXh0dXJlVXZzKCk7XG5cbi8qKlxuICogQSB0ZXh0dXJlIHN0b3JlcyB0aGUgaW5mb3JtYXRpb24gdGhhdCByZXByZXNlbnRzIGFuIGltYWdlIG9yIHBhcnQgb2YgYW4gaW1hZ2UuXG4gKlxuICogSXQgY2Fubm90IGJlIGFkZGVkIHRvIHRoZSBkaXNwbGF5IGxpc3QgZGlyZWN0bHk7IGluc3RlYWQgdXNlIGl0IGFzIHRoZSB0ZXh0dXJlIGZvciBhIFNwcml0ZS5cbiAqIElmIG5vIGZyYW1lIGlzIHByb3ZpZGVkIGZvciBhIHRleHR1cmUsIHRoZW4gdGhlIHdob2xlIGltYWdlIGlzIHVzZWQuXG4gKlxuICogWW91IGNhbiBkaXJlY3RseSBjcmVhdGUgYSB0ZXh0dXJlIGZyb20gYW4gaW1hZ2UgYW5kIHRoZW4gcmV1c2UgaXQgbXVsdGlwbGUgdGltZXMgbGlrZSB0aGlzIDpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbSgnYXNzZXRzL2ltYWdlLnBuZycpO1xuICogbGV0IHNwcml0ZTEgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiBsZXQgc3ByaXRlMiA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAqIGBgYFxuICpcbiAqIElmIHlvdSBkaWRudCBwYXNzIHRoZSB0ZXh0dXJlIGZyYW1lIHRvIGNvbnN0cnVjdG9yLCBpdCBlbmFibGVzIGBub0ZyYW1lYCBtb2RlOlxuICogaXQgc3Vic2NyaWJlcyBvbiBiYXNlVGV4dHVyZSBldmVudHMsIGl0IGF1dG9tYXRpY2FsbHkgcmVzaXplcyBhdCB0aGUgc2FtZSB0aW1lIGFzIGJhc2VUZXh0dXJlLlxuICpcbiAqIFRleHR1cmVzIG1hZGUgZnJvbSBTVkdzLCBsb2FkZWQgb3Igbm90LCBjYW5ub3QgYmUgdXNlZCBiZWZvcmUgdGhlIGZpbGUgZmluaXNoZXMgcHJvY2Vzc2luZy5cbiAqIFlvdSBjYW4gY2hlY2sgZm9yIHRoaXMgYnkgY2hlY2tpbmcgdGhlIHNwcml0ZSdzIF90ZXh0dXJlSUQgcHJvcGVydHkuXG4gKiBgYGBqc1xuICogdmFyIHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbSgnYXNzZXRzL2ltYWdlLnN2ZycpO1xuICogdmFyIHNwcml0ZTEgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiAvL3Nwcml0ZTEuX3RleHR1cmVJRCBzaG91bGQgbm90IGJlIHVuZGVmaW5lZCBpZiB0aGUgdGV4dHVyZSBoYXMgZmluaXNoZWQgcHJvY2Vzc2luZyB0aGUgU1ZHIGZpbGVcbiAqIGBgYFxuICogWW91IGNhbiB1c2UgYSB0aWNrZXIgb3IgckFGIHRvIGVuc3VyZSB5b3VyIHNwcml0ZXMgbG9hZCB0aGUgZmluaXNoZWQgdGV4dHVyZXMgYWZ0ZXIgcHJvY2Vzc2luZy4gU2VlIGlzc3VlICMzMDY4LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHR1cmUgZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gVGhlIGJhc2UgdGV4dHVyZSBzb3VyY2UgdG8gY3JlYXRlIHRoZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZnJhbWVdIC0gVGhlIHJlY3RhbmdsZSBmcmFtZSBvZiB0aGUgdGV4dHVyZSB0byBzaG93XG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW29yaWddIC0gVGhlIGFyZWEgb2Ygb3JpZ2luYWwgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFt0cmltXSAtIFRyaW1tZWQgcmVjdGFuZ2xlIG9mIG9yaWdpbmFsIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0ZV0gLSBpbmRpY2F0ZXMgaG93IHRoZSB0ZXh0dXJlIHdhcyByb3RhdGVkIGJ5IHRleHR1cmUgcGFja2VyLiBTZWUge0BsaW5rIFBJWEkuR3JvdXBEOH1cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFthbmNob3JdIC0gRGVmYXVsdCBhbmNob3IgcG9pbnQgdXNlZCBmb3Igc3ByaXRlIHBsYWNlbWVudCAvIHJvdGF0aW9uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYmFzZVRleHR1cmUsIGZyYW1lLCBvcmlnLCB0cmltLCByb3RhdGUsIGFuY2hvcilcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvZXMgdGhpcyBUZXh0dXJlIGhhdmUgYW55IGZyYW1lIGRhdGEgYXNzaWduZWQgdG8gaXQ/XG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgbW9kZSBpcyBlbmFibGVkIGF1dG9tYXRpY2FsbHkgaWYgbm8gZnJhbWUgd2FzIHBhc3NlZCBpbnNpZGUgY29uc3RydWN0b3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEluIHRoaXMgbW9kZSB0ZXh0dXJlIGlzIHN1YnNjcmliZWQgdG8gYmFzZVRleHR1cmUgZXZlbnRzLCBhbmQgZmlyZXMgYHVwZGF0ZWAgb24gYW55IGNoYW5nZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQmV3YXJlLCBhZnRlciBsb2FkaW5nIG9yIHJlc2l6ZSBvZiBiYXNlVGV4dHVyZSBldmVudCBjYW4gZmlyZWQgdHdvIHRpbWVzIVxuICAgICAgICAgKiBJZiB5b3Ugd2FudCBtb3JlIGNvbnRyb2wsIHN1YnNjcmliZSBvbiBiYXNlVGV4dHVyZSBpdHNlbGYuXG4gICAgICAgICAqXG4gICAgICAgICAqIGBgYGpzXG4gICAgICAgICAqIHRleHR1cmUub24oJ3VwZGF0ZScsICgpID0+IHt9KTtcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqXG4gICAgICAgICAqIEFueSBhc3NpZ25tZW50IG9mIGBmcmFtZWAgc3dpdGNoZXMgb2ZmIGBub0ZyYW1lYCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ub0ZyYW1lID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFmcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ub0ZyYW1lID0gdHJ1ZTtcbiAgICAgICAgICAgIGZyYW1lID0gbmV3IFJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiYXNlVGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gYmFzZVRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhc2UgdGV4dHVyZSB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IGJhc2VUZXh0dXJlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBhcmVhIG9mIHRoZSBCYXNlVGV4dHVyZSBpbWFnZSB0byBhY3R1YWxseSBjb3B5IHRvIHRoZSBDYW52YXMgLyBXZWJHTCB3aGVuIHJlbmRlcmluZyxcbiAgICAgICAgICogaXJyZXNwZWN0aXZlIG9mIHRoZSBhY3R1YWwgZnJhbWUgc2l6ZSBvciBwbGFjZW1lbnQgKHdoaWNoIGNhbiBiZSBpbmZsdWVuY2VkIGJ5IHRyaW1tZWQgdGV4dHVyZSBhdGxhc2VzKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZyYW1lID0gZnJhbWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIHRyaW1tZWQgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlLCBiZWZvcmUgaXQgd2FzIHB1dCBpbiBhdGxhc1xuICAgICAgICAgKiBQbGVhc2UgY2FsbCBgdXBkYXRlVXZzKClgIGFmdGVyIHlvdSBjaGFuZ2UgY29vcmRpbmF0ZXMgb2YgYHRyaW1gIG1hbnVhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJpbSA9IHRyaW07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgd2lsbCBsZXQgdGhlIHJlbmRlcmVyIGtub3cgaWYgdGhlIHRleHR1cmUgaXMgdmFsaWQuIElmIGl0J3Mgbm90IHRoZW4gaXQgY2Fubm90IGJlIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52YWxpZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IGEgcmVuZGVyZXIga25vdyB0aGF0IGEgdGV4dHVyZSBoYXMgYmVlbiB1cGRhdGVkICh1c2VkIG1haW5seSBmb3IgV2ViR0wgdXYgdXBkYXRlcylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVxdWlyZXNVcGRhdGUgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIFVWIGRhdGEgY2FjaGUuIENhbiBiZSB1c2VkIGFzIHF1YWQgVVZcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlVXZzfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl91dnMgPSBERUZBVUxUX1VWUztcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmYXVsdCBUZXh0dXJlTWF0cml4IGluc3RhbmNlIGZvciB0aGlzIHRleHR1cmVcbiAgICAgICAgICogQnkgZGVmYXVsdCB0aGF0IG9iamVjdCBpcyBub3QgY3JlYXRlZCBiZWNhdXNlIGl0cyBoZWF2eVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2TWF0cml4ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlLCBiZWZvcmUgaXQgd2FzIHB1dCBpbiBhdGxhc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3JpZyA9IG9yaWcgfHwgZnJhbWU7Ly8gbmV3IFJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcblxuICAgICAgICB0aGlzLl9yb3RhdGUgPSBOdW1iZXIocm90YXRlIHx8IDApO1xuXG4gICAgICAgIGlmIChyb3RhdGUgPT09IHRydWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgb2xkIHRleHR1cmVwYWNrZXIgbGVnYWN5LCBzb21lIGdhbWVzL2xpYnJhcmllcyBhcmUgcGFzc2luZyBcInRydWVcIiBmb3Igcm90YXRlZCB0ZXh0dXJlc1xuICAgICAgICAgICAgdGhpcy5fcm90YXRlID0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9yb3RhdGUgJSAyICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2F0dGVtcHQgdG8gdXNlIGRpYW1vbmQtc2hhcGVkIFVWcy4gSWYgeW91IGFyZSBzdXJlLCBzZXQgcm90YXRpb24gbWFudWFsbHknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbmNob3IgcG9pbnQgdGhhdCBpcyB1c2VkIGFzIGRlZmF1bHQgaWYgc3ByaXRlIGlzIGNyZWF0ZWQgd2l0aCB0aGlzIHRleHR1cmUuXG4gICAgICAgICAqIENoYW5naW5nIHRoZSBgZGVmYXVsdEFuY2hvcmAgYXQgYSBsYXRlciBwb2ludCBvZiB0aW1lIHdpbGwgbm90IHVwZGF0ZSBTcHJpdGUncyBhbmNob3IgcG9pbnQuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnR9XG4gICAgICAgICAqIEBkZWZhdWx0IHswLDB9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRBbmNob3IgPSBhbmNob3IgPyBuZXcgUG9pbnQoYW5jaG9yLngsIGFuY2hvci55KSA6IG5ldyBQb2ludCgwLCAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIElEIGlzIG9ic2VydmVkIGJ5IHNwcml0ZXMgYW5kIFRleHR1cmVNYXRyaXggaW5zdGFuY2VzLlxuICAgICAgICAgKiBDYWxsIHVwZGF0ZVV2cygpIHRvIGluY3JlbWVudCBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGlkcyB1bmRlciB3aGljaCB0aGlzIFRleHR1cmUgaGFzIGJlZW4gYWRkZWQgdG8gdGhlIHRleHR1cmUgY2FjaGUuIFRoaXMgaXNcbiAgICAgICAgICogYXV0b21hdGljYWxseSBzZXQgYXMgbG9uZyBhcyBUZXh0dXJlLmFkZFRvQ2FjaGUgaXMgdXNlZCwgYnV0IG1heSBub3QgYmUgc2V0IGlmIGFcbiAgICAgICAgICogVGV4dHVyZSBpcyBhZGRlZCBkaXJlY3RseSB0byB0aGUgVGV4dHVyZUNhY2hlIGFycmF5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gW107XG5cbiAgICAgICAgaWYgKCFiYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUub25jZSgnbG9hZGVkJywgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5ub0ZyYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBmcmFtZSB3ZSBzaG91bGQgbW9uaXRvciBmb3IgYW55IGJhc2UgdGV4dHVyZSBjaGFuZ2VzLi5cbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSBmcmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm5vRnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLm9uKCd1cGRhdGUnLCB0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhpcyB0ZXh0dXJlIG9uIHRoZSBncHUuXG4gICAgICpcbiAgICAgKiBDYWxscyB0aGUgVGV4dHVyZVJlc291cmNlIHVwZGF0ZS5cbiAgICAgKlxuICAgICAqIElmIHlvdSBhZGp1c3RlZCBgZnJhbWVgIG1hbnVhbGx5LCBwbGVhc2UgY2FsbCBgdXBkYXRlVXZzKClgIGluc3RlYWQuXG4gICAgICpcbiAgICAgKi9cbiAgICB1cGRhdGUoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYmFzZVRleHR1cmUucmVzb3VyY2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUucmVzb3VyY2UudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgYmFzZSB0ZXh0dXJlIGlzIHVwZGF0ZWRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gVGhlIGJhc2UgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBvbkJhc2VUZXh0dXJlVXBkYXRlZChiYXNlVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLm5vRnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5iYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2ZyYW1lLndpZHRoID0gYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgICAgICB0aGlzLl9mcmFtZS5oZWlnaHQgPSBiYXNlVGV4dHVyZS5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLnZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBUT0RPIHRoaXMgY29kZSBsb29rcyBjb25mdXNpbmcuLiBib28gdG8gYWJ1c2luZyBnZXR0ZXJzIGFuZCBzZXR0ZXJzIVxuICAgICAgICAgICAgLy8gaWYgdXNlciBnYXZlIHVzIGZyYW1lIHRoYXQgaGFzIGJpZ2dlciBzaXplIHRoYW4gcmVzaXplZCB0ZXh0dXJlIGl0IGNhbiBiZSBhIHByb2JsZW1cbiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSB0aGlzLl9mcmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZW1pdCgndXBkYXRlJywgdGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZXN0cm95QmFzZT1mYWxzZV0gV2hldGhlciB0byBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgYXMgd2VsbFxuICAgICAqL1xuICAgIGRlc3Ryb3koZGVzdHJveUJhc2UpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5iYXNlVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGRlc3Ryb3lCYXNlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgcmVzb3VyY2UgfSA9IHRoaXMuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgICAgICAvLyBkZWxldGUgdGhlIHRleHR1cmUgaWYgaXQgZXhpc3RzIGluIHRoZSB0ZXh0dXJlIGNhY2hlLi5cbiAgICAgICAgICAgICAgICAvLyB0aGlzIG9ubHkgbmVlZHMgdG8gYmUgcmVtb3ZlZCBpZiB0aGUgYmFzZSB0ZXh0dXJlIGlzIGFjdHVhbGx5IGRlc3Ryb3llZCB0b28uLlxuICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZSAmJiBUZXh0dXJlQ2FjaGVbcmVzb3VyY2UudXJsXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHJlc291cmNlLnVybCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCB0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9mcmFtZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3V2cyA9IG51bGw7XG4gICAgICAgIHRoaXMudHJpbSA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy52YWxpZCA9IGZhbHNlO1xuXG4gICAgICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMpO1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkcyA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB0ZXh0dXJlIG9iamVjdCB0aGF0IGFjdHMgdGhlIHNhbWUgYXMgdGhpcyBvbmUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXcgdGV4dHVyZVxuICAgICAqL1xuICAgIGNsb25lKClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dHVyZSh0aGlzLmJhc2VUZXh0dXJlLCB0aGlzLmZyYW1lLCB0aGlzLm9yaWcsIHRoaXMudHJpbSwgdGhpcy5yb3RhdGUsIHRoaXMuZGVmYXVsdEFuY2hvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgaW50ZXJuYWwgV2ViR0wgVVYgY2FjaGUuIFVzZSBpdCBhZnRlciB5b3UgY2hhbmdlIGBmcmFtZWAgb3IgYHRyaW1gIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqIENhbGwgaXQgYWZ0ZXIgY2hhbmdpbmcgdGhlIGZyYW1lXG4gICAgICovXG4gICAgdXBkYXRlVXZzKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl91dnMgPT09IERFRkFVTFRfVVZTKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl91dnMgPSBuZXcgVGV4dHVyZVV2cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdXZzLnNldCh0aGlzLl9mcmFtZSwgdGhpcy5iYXNlVGV4dHVyZSwgdGhpcy5yb3RhdGUpO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEKys7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyBUZXh0dXJlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBmcmFtZSBpZCwgaW1hZ2UgdXJsLCB2aWRlbyB1cmwsIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCBiYXNlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd8SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFBJWEkuQmFzZVRleHR1cmV9IHNvdXJjZVxuICAgICAqICAgICAgICBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tKHNvdXJjZSwgb3B0aW9ucyA9IHt9KVxuICAgIHtcbiAgICAgICAgbGV0IGNhY2hlSWQgPSBudWxsO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJylcbiAgICAgICAge1xuICAgICAgICAgICAgY2FjaGVJZCA9IHNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghc291cmNlLl9waXhpSWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc291cmNlLl9waXhpSWQgPSBgcGl4aWlkXyR7dWlkKCl9YDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FjaGVJZCA9IHNvdXJjZS5fcGl4aUlkO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRleHR1cmUgPSBUZXh0dXJlQ2FjaGVbY2FjaGVJZF07XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMucmVzb2x1dGlvbilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnJlc29sdXRpb24gPSBnZXRSZXNvbHV0aW9uT2ZVcmwoc291cmNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKG5ldyBCYXNlVGV4dHVyZShzb3VyY2UsIG9wdGlvbnMpKTtcbiAgICAgICAgICAgIHRleHR1cmUuYmFzZVRleHR1cmUuY2FjaGVJZCA9IGNhY2hlSWQ7XG5cbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXRzIGFzc3VtZSBpdHMgYSBiYXNlIHRleHR1cmUhXG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBUZXh0dXJlIHdpdGggYSBCdWZmZXJSZXNvdXJjZSBmcm9tIGEgRmxvYXQzMkFycmF5LlxuICAgICAqIFJHQkEgdmFsdWVzIGFyZSBmbG9hdHMgZnJvbSAwIHRvIDEuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fFVpbnQ4QXJyYXl9IGJ1ZmZlciBUaGUgb3B0aW9uYWwgYXJyYXkgdG8gdXNlLCBpZiBubyBkYXRhXG4gICAgICogICAgICAgIGlzIHByb3ZpZGVkLCBhIG5ldyBGbG9hdDMyQXJyYXkgaXMgY3JlYXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIHJlc3VsdGluZyBuZXcgQmFzZVRleHR1cmVcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbUJ1ZmZlcihidWZmZXIsIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFRleHR1cmUoQmFzZVRleHR1cmUuZnJvbUJ1ZmZlcihidWZmZXIsIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0ZXh0dXJlIGZyb20gYSBzb3VyY2UgYW5kIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fSBzb3VyY2UgLSBUaGUgaW5wdXQgc291cmNlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpbWFnZVVybCAtIEZpbGUgbmFtZSBvZiB0ZXh0dXJlLCBmb3IgY2FjaGUgYW5kIHJlc29sdmluZyByZXNvbHV0aW9uLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbbmFtZV0gLSBIdW1hbiByZWFkYWJsZSBuYW1lIGZvciB0aGUgdGV4dHVyZSBjYWNoZS4gSWYgbm8gbmFtZSBpc1xuICAgICAqICAgICAgICBzcGVjaWZpZWQsIG9ubHkgYGltYWdlVXJsYCB3aWxsIGJlIHVzZWQgYXMgdGhlIGNhY2hlIElELlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gT3V0cHV0IHRleHR1cmVcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbUxvYWRlcihzb3VyY2UsIGltYWdlVXJsLCBuYW1lKVxuICAgIHtcbiAgICAgICAgY29uc3QgcmVzb3VyY2UgPSBuZXcgSW1hZ2VSZXNvdXJjZShzb3VyY2UpO1xuXG4gICAgICAgIHJlc291cmNlLnVybCA9IGltYWdlVXJsO1xuXG4gICAgICAgIGNvbnN0IGJhc2VUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKHJlc291cmNlLCB7XG4gICAgICAgICAgICBzY2FsZU1vZGU6IHNldHRpbmdzLlNDQUxFX01PREUsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiBnZXRSZXNvbHV0aW9uT2ZVcmwoaW1hZ2VVcmwpLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB0ZXh0dXJlID0gbmV3IFRleHR1cmUoYmFzZVRleHR1cmUpO1xuXG4gICAgICAgIC8vIE5vIG5hbWUsIHVzZSBpbWFnZVVybCBpbnN0ZWFkXG4gICAgICAgIGlmICghbmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZSA9IGltYWdlVXJsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGV0cyBhbHNvIGFkZCB0aGUgZnJhbWUgdG8gcGl4aSdzIGdsb2JhbCBjYWNoZSBmb3IgJ2Zyb21Mb2FkZXInIGZ1bmN0aW9uXG4gICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgbmFtZSk7XG4gICAgICAgIFRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLCBuYW1lKTtcblxuICAgICAgICAvLyBhbHNvIGFkZCByZWZlcmVuY2VzIGJ5IHVybCBpZiB0aGV5IGFyZSBkaWZmZXJlbnQuXG4gICAgICAgIGlmIChuYW1lICE9PSBpbWFnZVVybClcbiAgICAgICAge1xuICAgICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZSh0ZXh0dXJlLmJhc2VUZXh0dXJlLCBpbWFnZVVybCk7XG4gICAgICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgaW1hZ2VVcmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIFRleHR1cmUgdG8gdGhlIGdsb2JhbCBUZXh0dXJlQ2FjaGUuIFRoaXMgY2FjaGUgaXMgc2hhcmVkIGFjcm9zcyB0aGUgd2hvbGUgUElYSSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgVGV4dHVyZSB0byBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCB0aGF0IHRoZSBUZXh0dXJlIHdpbGwgYmUgc3RvcmVkIGFnYWluc3QuXG4gICAgICovXG4gICAgc3RhdGljIGFkZFRvQ2FjaGUodGV4dHVyZSwgaWQpXG4gICAge1xuICAgICAgICBpZiAoaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKGlkKSA9PT0gLTEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMucHVzaChpZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChUZXh0dXJlQ2FjaGVbaWRdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBUZXh0dXJlIGFkZGVkIHRvIHRoZSBjYWNoZSB3aXRoIGFuIGlkIFske2lkfV0gdGhhdCBhbHJlYWR5IGhhZCBhbiBlbnRyeWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBUZXh0dXJlQ2FjaGVbaWRdID0gdGV4dHVyZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIFRleHR1cmUgZnJvbSB0aGUgZ2xvYmFsIFRleHR1cmVDYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBpZCBvZiBhIFRleHR1cmUgdG8gYmUgcmVtb3ZlZCwgb3IgYSBUZXh0dXJlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZXxudWxsfSBUaGUgVGV4dHVyZSB0aGF0IHdhcyByZW1vdmVkXG4gICAgICovXG4gICAgc3RhdGljIHJlbW92ZUZyb21DYWNoZSh0ZXh0dXJlKVxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0ZXh0dXJlID09PSAnc3RyaW5nJylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdGV4dHVyZUZyb21DYWNoZSA9IFRleHR1cmVDYWNoZVt0ZXh0dXJlXTtcblxuICAgICAgICAgICAgaWYgKHRleHR1cmVGcm9tQ2FjaGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0ZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKHRleHR1cmUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVbdGV4dHVyZV07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dHVyZUZyb21DYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0ZXh0dXJlICYmIHRleHR1cmUudGV4dHVyZUNhY2hlSWRzKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgdGV4dHVyZSBtYXRjaGVzIHRoZSBvbmUgYmVpbmcgcGFzc2VkIGluIGJlZm9yZSBkZWxldGluZyBpdCBmcm9tIHRoZSBjYWNoZS5cbiAgICAgICAgICAgICAgICBpZiAoVGV4dHVyZUNhY2hlW3RleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXSA9PT0gdGV4dHVyZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVbdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbaV1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnJhbWUgc3BlY2lmaWVzIHRoZSByZWdpb24gb2YgdGhlIGJhc2UgdGV4dHVyZSB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzLlxuICAgICAqIFBsZWFzZSBjYWxsIGB1cGRhdGVVdnMoKWAgYWZ0ZXIgeW91IGNoYW5nZSBjb29yZGluYXRlcyBvZiBgZnJhbWVgIG1hbnVhbGx5LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICovXG4gICAgZ2V0IGZyYW1lKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mcmFtZTtcbiAgICB9XG5cbiAgICBzZXQgZnJhbWUoZnJhbWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fZnJhbWUgPSBmcmFtZTtcblxuICAgICAgICB0aGlzLm5vRnJhbWUgPSBmYWxzZTtcblxuICAgICAgICBjb25zdCB7IHgsIHksIHdpZHRoLCBoZWlnaHQgfSA9IGZyYW1lO1xuICAgICAgICBjb25zdCB4Tm90Rml0ID0geCArIHdpZHRoID4gdGhpcy5iYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgY29uc3QgeU5vdEZpdCA9IHkgKyBoZWlnaHQgPiB0aGlzLmJhc2VUZXh0dXJlLmhlaWdodDtcblxuICAgICAgICBpZiAoeE5vdEZpdCB8fCB5Tm90Rml0KVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCByZWxhdGlvbnNoaXAgPSB4Tm90Rml0ICYmIHlOb3RGaXQgPyAnYW5kJyA6ICdvcic7XG4gICAgICAgICAgICBjb25zdCBlcnJvclggPSBgWDogJHt4fSArICR7d2lkdGh9ID0gJHt4ICsgd2lkdGh9ID4gJHt0aGlzLmJhc2VUZXh0dXJlLndpZHRofWA7XG4gICAgICAgICAgICBjb25zdCBlcnJvclkgPSBgWTogJHt5fSArICR7aGVpZ2h0fSA9ICR7eSArIGhlaWdodH0gPiAke3RoaXMuYmFzZVRleHR1cmUuaGVpZ2h0fWA7XG5cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGV4dHVyZSBFcnJvcjogZnJhbWUgZG9lcyBub3QgZml0IGluc2lkZSB0aGUgYmFzZSBUZXh0dXJlIGRpbWVuc2lvbnM6ICdcbiAgICAgICAgICAgICAgICArIGAke2Vycm9yWH0gJHtyZWxhdGlvbnNoaXB9ICR7ZXJyb3JZfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52YWxpZCA9IHdpZHRoICYmIGhlaWdodCAmJiB0aGlzLmJhc2VUZXh0dXJlLnZhbGlkO1xuXG4gICAgICAgIGlmICghdGhpcy50cmltICYmICF0aGlzLnJvdGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5vcmlnID0gZnJhbWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSB0ZXh0dXJlIGlzIHJvdGF0ZWQgaW5zaWRlIHRoZSBhdGxhc1xuICAgICAqIHNldCB0byAyIHRvIGNvbXBlbnNhdGUgZm9yIHRleHR1cmUgcGFja2VyIHJvdGF0aW9uXG4gICAgICogc2V0IHRvIDYgdG8gY29tcGVuc2F0ZSBmb3Igc3BpbmUgcGFja2VyIHJvdGF0aW9uXG4gICAgICogY2FuIGJlIHVzZWQgdG8gcm90YXRlIG9yIG1pcnJvciBzcHJpdGVzXG4gICAgICogU2VlIHtAbGluayBQSVhJLkdyb3VwRDh9IGZvciBleHBsYW5hdGlvblxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCByb3RhdGUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0ZTtcbiAgICB9XG5cbiAgICBzZXQgcm90YXRlKHJvdGF0ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9yb3RhdGUgPSByb3RhdGU7XG4gICAgICAgIGlmICh0aGlzLnZhbGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVV2cygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBUZXh0dXJlIGluIHBpeGVscy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgd2lkdGgoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZy53aWR0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBUZXh0dXJlIGluIHBpeGVscy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgaGVpZ2h0KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWcuaGVpZ2h0O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlV2hpdGVUZXh0dXJlKClcbntcbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgIGNhbnZhcy53aWR0aCA9IDE2O1xuICAgIGNhbnZhcy5oZWlnaHQgPSAxNjtcblxuICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ3doaXRlJztcbiAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIDE2LCAxNik7XG5cbiAgICByZXR1cm4gbmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKG5ldyBDYW52YXNSZXNvdXJjZShjYW52YXMpKSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUFsbEhhbmRsZXJzKHRleClcbntcbiAgICB0ZXguZGVzdHJveSA9IGZ1bmN0aW9uIF9lbXB0eURlc3Ryb3koKSB7IC8qIGVtcHR5ICovIH07XG4gICAgdGV4Lm9uID0gZnVuY3Rpb24gX2VtcHR5T24oKSB7IC8qIGVtcHR5ICovIH07XG4gICAgdGV4Lm9uY2UgPSBmdW5jdGlvbiBfZW1wdHlPbmNlKCkgeyAvKiBlbXB0eSAqLyB9O1xuICAgIHRleC5lbWl0ID0gZnVuY3Rpb24gX2VtcHR5RW1pdCgpIHsgLyogZW1wdHkgKi8gfTtcbn1cblxuLyoqXG4gKiBBbiBlbXB0eSB0ZXh0dXJlLCB1c2VkIG9mdGVuIHRvIG5vdCBoYXZlIHRvIGNyZWF0ZSBtdWx0aXBsZSBlbXB0eSB0ZXh0dXJlcy5cbiAqIENhbiBub3QgYmUgZGVzdHJveWVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICovXG5UZXh0dXJlLkVNUFRZID0gbmV3IFRleHR1cmUobmV3IEJhc2VUZXh0dXJlKCkpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5FTVBUWSk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLkVNUFRZLmJhc2VUZXh0dXJlKTtcblxuLyoqXG4gKiBBIHdoaXRlIHRleHR1cmUgb2YgMTB4MTAgc2l6ZSwgdXNlZCBmb3IgZ3JhcGhpY3MgYW5kIG90aGVyIHRoaW5nc1xuICogQ2FuIG5vdCBiZSBkZXN0cm95ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gKi9cblRleHR1cmUuV0hJVEUgPSBjcmVhdGVXaGl0ZVRleHR1cmUoKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuV0hJVEUpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5XSElURS5iYXNlVGV4dHVyZSk7XG4iLCJpbXBvcnQgQmFzZVJlbmRlclRleHR1cmUgZnJvbSAnLi9CYXNlUmVuZGVyVGV4dHVyZSc7XG5pbXBvcnQgVGV4dHVyZSBmcm9tICcuLi90ZXh0dXJlcy9UZXh0dXJlJztcblxuLyoqXG4gKiBBIFJlbmRlclRleHR1cmUgaXMgYSBzcGVjaWFsIHRleHR1cmUgdGhhdCBhbGxvd3MgYW55IFBpeGlKUyBkaXNwbGF5IG9iamVjdCB0byBiZSByZW5kZXJlZCB0byBpdC5cbiAqXG4gKiBfX0hpbnRfXzogQWxsIERpc3BsYXlPYmplY3RzIChpLmUuIFNwcml0ZXMpIHRoYXQgcmVuZGVyIHRvIGEgUmVuZGVyVGV4dHVyZSBzaG91bGQgYmUgcHJlbG9hZGVkXG4gKiBvdGhlcndpc2UgYmxhY2sgcmVjdGFuZ2xlcyB3aWxsIGJlIGRyYXduIGluc3RlYWQuXG4gKlxuICogQSBSZW5kZXJUZXh0dXJlIHRha2VzIGEgc25hcHNob3Qgb2YgYW55IERpc3BsYXkgT2JqZWN0IGdpdmVuIHRvIGl0cyByZW5kZXIgbWV0aG9kLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoKTtcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSg4MDAsIDYwMCk7XG4gKiBsZXQgc3ByaXRlID0gUElYSS5TcHJpdGUuZnJvbShcInNwaW5PYmpfMDEucG5nXCIpO1xuICpcbiAqIHNwcml0ZS5wb3NpdGlvbi54ID0gODAwLzI7XG4gKiBzcHJpdGUucG9zaXRpb24ueSA9IDYwMC8yO1xuICogc3ByaXRlLmFuY2hvci54ID0gMC41O1xuICogc3ByaXRlLmFuY2hvci55ID0gMC41O1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpO1xuICogYGBgXG4gKlxuICogVGhlIFNwcml0ZSBpbiB0aGlzIGNhc2Ugd2lsbCBiZSByZW5kZXJlZCB1c2luZyBpdHMgbG9jYWwgdHJhbnNmb3JtLiBUbyByZW5kZXIgdGhpcyBzcHJpdGUgYXQgMCwwXG4gKiB5b3UgY2FuIGNsZWFyIHRoZSB0cmFuc2Zvcm1cbiAqXG4gKiBgYGBqc1xuICpcbiAqIHNwcml0ZS5zZXRUcmFuc2Zvcm0oKVxuICpcbiAqIGxldCByZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuUmVuZGVyVGV4dHVyZS5jcmVhdGUoMTAwLCAxMDApO1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpOyAgLy8gUmVuZGVycyB0byBjZW50ZXIgb2YgUmVuZGVyVGV4dHVyZVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlRleHR1cmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlbmRlclRleHR1cmUgZXh0ZW5kcyBUZXh0dXJlXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VSZW5kZXJUZXh0dXJlfSBiYXNlUmVuZGVyVGV4dHVyZSAtIFRoZSBiYXNlIHRleHR1cmUgb2JqZWN0IHRoYXQgdGhpcyB0ZXh0dXJlIHVzZXNcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZnJhbWVdIC0gVGhlIHJlY3RhbmdsZSBmcmFtZSBvZiB0aGUgdGV4dHVyZSB0byBzaG93XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYmFzZVJlbmRlclRleHR1cmUsIGZyYW1lKVxuICAgIHtcbiAgICAgICAgLy8gc3VwcG9ydCBmb3IgbGVnYWN5Li5cbiAgICAgICAgbGV0IF9sZWdhY3lSZW5kZXJlciA9IG51bGw7XG5cbiAgICAgICAgaWYgKCEoYmFzZVJlbmRlclRleHR1cmUgaW5zdGFuY2VvZiBCYXNlUmVuZGVyVGV4dHVyZSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIHByZWZlci1yZXN0LXBhcmFtcywgbm8tY29uc29sZSAqL1xuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSBhcmd1bWVudHNbMl07XG4gICAgICAgICAgICBjb25zdCBzY2FsZU1vZGUgPSBhcmd1bWVudHNbM107XG4gICAgICAgICAgICBjb25zdCByZXNvbHV0aW9uID0gYXJndW1lbnRzWzRdO1xuXG4gICAgICAgICAgICAvLyB3ZSBoYXZlIGFuIG9sZCByZW5kZXIgdGV4dHVyZS4uXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFBsZWFzZSB1c2UgUmVuZGVyVGV4dHVyZS5jcmVhdGUoJHt3aWR0aH0sICR7aGVpZ2h0fSkgaW5zdGVhZCBvZiB0aGUgY3RvciBkaXJlY3RseS5gKTtcbiAgICAgICAgICAgIF9sZWdhY3lSZW5kZXJlciA9IGFyZ3VtZW50c1swXTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zLCBuby1jb25zb2xlICovXG5cbiAgICAgICAgICAgIGZyYW1lID0gbnVsbDtcbiAgICAgICAgICAgIGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IEJhc2VSZW5kZXJUZXh0dXJlKHtcbiAgICAgICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICAgICAgc2NhbGVNb2RlLFxuICAgICAgICAgICAgICAgIHJlc29sdXRpb24sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFzZSB0ZXh0dXJlIG9iamVjdCB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICBzdXBlcihiYXNlUmVuZGVyVGV4dHVyZSwgZnJhbWUpO1xuXG4gICAgICAgIHRoaXMubGVnYWN5UmVuZGVyZXIgPSBfbGVnYWN5UmVuZGVyZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgd2lsbCBsZXQgdGhlIHJlbmRlcmVyIGtub3cgaWYgdGhlIHRleHR1cmUgaXMgdmFsaWQuIElmIGl0J3Mgbm90IHRoZW4gaXQgY2Fubm90IGJlIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52YWxpZCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpbHRlclN5c3RlbSB0ZW1wb3Jhcnkgc3RvcmFnZVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5maWx0ZXJGcmFtZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBrZXkgZm9yIHBvb2xlZCB0ZXh0dXJlIG9mIEZpbHRlclN5c3RlbVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsdGVyUG9vbEtleSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBSZW5kZXJUZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCB0byByZXNpemUgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVzaXplQmFzZVRleHR1cmU9dHJ1ZV0gLSBTaG91bGQgdGhlIGJhc2VUZXh0dXJlLndpZHRoIGFuZCBoZWlnaHQgdmFsdWVzIGJlIHJlc2l6ZWQgYXMgd2VsbD9cbiAgICAgKi9cbiAgICByZXNpemUod2lkdGgsIGhlaWdodCwgcmVzaXplQmFzZVRleHR1cmUgPSB0cnVlKVxuICAgIHtcbiAgICAgICAgd2lkdGggPSBNYXRoLmNlaWwod2lkdGgpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcblxuICAgICAgICAvLyBUT0RPIC0gY291bGQgYmUgbm90IHJlcXVpcmVkLi5cbiAgICAgICAgdGhpcy52YWxpZCA9ICh3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMCk7XG5cbiAgICAgICAgdGhpcy5fZnJhbWUud2lkdGggPSB0aGlzLm9yaWcud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5fZnJhbWUuaGVpZ2h0ID0gdGhpcy5vcmlnLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICBpZiAocmVzaXplQmFzZVRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSByZXNvbHV0aW9uIG9mIGJhc2VUZXh0dXJlLCBidXQgZG9lcyBub3QgY2hhbmdlIGZyYW1lYnVmZmVyIHNpemUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSBuZXcgcmVzb2x1dGlvbiB0byBhcHBseSB0byBSZW5kZXJUZXh0dXJlXG4gICAgICovXG4gICAgc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyBiYXNlVGV4dHVyZSB9ID0gdGhpcztcblxuICAgICAgICBpZiAoYmFzZVRleHR1cmUucmVzb2x1dGlvbiA9PT0gcmVzb2x1dGlvbilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYmFzZVRleHR1cmUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICAgICAgdGhpcy5yZXNpemUoYmFzZVRleHR1cmUud2lkdGgsIGJhc2VUZXh0dXJlLmhlaWdodCwgZmFsc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCB3YXkgb2YgY3JlYXRpbmcgYSByZW5kZXIgdGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTEwMF0gLSBUaGUgd2lkdGggb2YgdGhlIHJlbmRlciB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD0xMDBdIC0gVGhlIGhlaWdodCBvZiB0aGUgcmVuZGVyIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NhbGVNb2RlPVBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERV0gLSBTZWUge0BsaW5rIFBJWEkuU0NBTEVfTU9ERVN9IGZvciBwb3NzaWJsZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlIGJlaW5nIGdlbmVyYXRlZFxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyVGV4dHVyZX0gVGhlIG5ldyByZW5kZXIgdGV4dHVyZVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUob3B0aW9ucylcbiAgICB7XG4gICAgICAgIC8vIGZhbGxiYWNrLCBvbGQtc3R5bGU6IGNyZWF0ZSh3aWR0aCwgaGVpZ2h0LCBzY2FsZU1vZGUsIHJlc29sdXRpb24pXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogb3B0aW9ucyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGFyZ3VtZW50c1sxXSxcbiAgICAgICAgICAgICAgICBzY2FsZU1vZGU6IGFyZ3VtZW50c1syXSxcbiAgICAgICAgICAgICAgICByZXNvbHV0aW9uOiBhcmd1bWVudHNbM10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMgKi9cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUmVuZGVyVGV4dHVyZShuZXcgQmFzZVJlbmRlclRleHR1cmUob3B0aW9ucykpO1xuICAgIH1cbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxuLyoqXG4gKiBIb2xkcyB0aGUgaW5mb3JtYXRpb24gZm9yIGEgc2luZ2xlIGF0dHJpYnV0ZSBzdHJ1Y3R1cmUgcmVxdWlyZWQgdG8gcmVuZGVyIGdlb21ldHJ5LlxuICpcbiAqIFRoaXMgZG9lcyBub3QgY29udGFpbiB0aGUgYWN0dWFsIGRhdGEsIGJ1dCBpbnN0ZWFkIGhhcyBhIGJ1ZmZlciBpZCB0aGF0IG1hcHMgdG8gYSB7QGxpbmsgUElYSS5CdWZmZXJ9XG4gKiBUaGlzIGNhbiBpbmNsdWRlIGFueXRoaW5nIGZyb20gcG9zaXRpb25zLCB1dnMsIG5vcm1hbHMsIGNvbG9ycyBldGMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBdHRyaWJ1dGVcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYnVmZmVyICB0aGUgaWQgb2YgdGhlIGJ1ZmZlciB0aGF0IHRoaXMgYXR0cmlidXRlIHdpbGwgbG9vayBmb3JcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NpemU9MF0gdGhlIHNpemUgb2YgdGhlIGF0dHJpYnV0ZS4gSWYgeW91IGhhdmUgMiBmbG9hdHMgcGVyIHZlcnRleCAoZWcgcG9zaXRpb24geCBhbmQgeSkgdGhpcyB3b3VsZCBiZSAyLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW25vcm1hbGl6ZWQ9ZmFsc2VdIHNob3VsZCB0aGUgZGF0YSBiZSBub3JtYWxpemVkLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbdHlwZT1QSVhJLlRZUEVTLkZMT0FUXSB3aGF0IHR5cGUgb2YgbnVtYmVyIGlzIHRoZSBhdHRyaWJ1dGUuIENoZWNrIHtQSVhJLlRZUEVTfSB0byBzZWUgdGhlIG9uZXMgYXZhaWxhYmxlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdHJpZGU9MF0gSG93IGZhciBhcGFydCAoaW4gZmxvYXRzKSB0aGUgc3RhcnQgb2YgZWFjaCB2YWx1ZSBpcy4gKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnQ9MF0gSG93IGZhciBpbnRvIHRoZSBhcnJheSB0byBzdGFydCByZWFkaW5nIHZhbHVlcyAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYnVmZmVyLCBzaXplLCBub3JtYWxpemVkID0gZmFsc2UsIHR5cGUgPSA1MTI2LCBzdHJpZGUsIHN0YXJ0LCBpbnN0YW5jZSlcbiAgICB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgICAgICB0aGlzLm5vcm1hbGl6ZWQgPSBub3JtYWxpemVkO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnN0cmlkZSA9IHN0cmlkZTtcbiAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xuICAgICAgICB0aGlzLmluc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIEF0dHJpYnV0ZS5cbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGFuIEF0dHJpYnV0ZSBiYXNlZCBvbiB0aGUgaW5mb3JtYXRpb24gcHJvdmlkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYnVmZmVyICB0aGUgaWQgb2YgdGhlIGJ1ZmZlciB0aGF0IHRoaXMgYXR0cmlidXRlIHdpbGwgbG9vayBmb3JcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NpemU9Ml0gdGhlIHNpemUgb2YgdGhlIGF0dHJpYnV0ZS4gSWYgeW91IGhhdmUgMiBmbG9hdHMgcGVyIHZlcnRleCAoZWcgcG9zaXRpb24geCBhbmQgeSkgdGhpcyB3b3VsZCBiZSAyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdHJpZGU9MF0gSG93IGZhciBhcGFydCAoaW4gZmxvYXRzKSB0aGUgc3RhcnQgb2YgZWFjaCB2YWx1ZSBpcy4gKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnQ9MF0gSG93IGZhciBpbnRvIHRoZSBhcnJheSB0byBzdGFydCByZWFkaW5nIHZhbHVlcyAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbbm9ybWFsaXplZD1mYWxzZV0gc2hvdWxkIHRoZSBkYXRhIGJlIG5vcm1hbGl6ZWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UElYSS5BdHRyaWJ1dGV9IEEgbmV3IHtAbGluayBQSVhJLkF0dHJpYnV0ZX0gYmFzZWQgb24gdGhlIGluZm9ybWF0aW9uIHByb3ZpZGVkXG4gICAgICovXG4gICAgc3RhdGljIGZyb20oYnVmZmVyLCBzaXplLCBub3JtYWxpemVkLCB0eXBlLCBzdHJpZGUpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IEF0dHJpYnV0ZShidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUnVubmVyIH0gZnJvbSAnQHBpeGkvcnVubmVyJztcblxubGV0IFVJRCA9IDA7XG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5cbi8qKlxuICogQSB3cmFwcGVyIGZvciBkYXRhIHNvIHRoYXQgaXQgY2FuIGJlIHVzZWQgYW5kIHVwbG9hZGVkIGJ5IFdlYkdMXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdWZmZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfCBTaGFyZWRBcnJheUJ1ZmZlcnxBcnJheUJ1ZmZlclZpZXd9IGRhdGEgdGhlIGRhdGEgdG8gc3RvcmUgaW4gdGhlIGJ1ZmZlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtfc3RhdGljPXRydWVdIGB0cnVlYCBmb3Igc3RhdGljIGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luZGV4PWZhbHNlXSBgdHJ1ZWAgZm9yIGluZGV4IGJ1ZmZlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGRhdGEsIF9zdGF0aWMgPSB0cnVlLCBpbmRleCA9IGZhbHNlKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIGluIHRoZSBidWZmZXIsIGFzIGEgdHlwZWQgYXJyYXlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXlCdWZmZXJ8IFNoYXJlZEFycmF5QnVmZmVyfEFycmF5QnVmZmVyVmlld31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGEgfHwgbmV3IEZsb2F0MzJBcnJheSgxKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBtYXAgb2YgcmVuZGVyZXIgSURzIHRvIHdlYmdsIGJ1ZmZlclxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3Q8bnVtYmVyLCBHTEJ1ZmZlcj59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9nbEJ1ZmZlcnMgPSB7fTtcblxuICAgICAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG5cbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuXG4gICAgICAgIHRoaXMuc3RhdGljID0gX3N0YXRpYztcblxuICAgICAgICB0aGlzLmlkID0gVUlEKys7XG5cbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyID0gbmV3IFJ1bm5lcignZGlzcG9zZUJ1ZmZlcicsIDIpO1xuICAgIH1cblxuICAgIC8vIFRPRE8gY291bGQgZXhwbG9yZSBmbGFnZ2luZyBvbmx5IGEgcGFydGlhbCB1cGxvYWQ/XG4gICAgLyoqXG4gICAgICogZmxhZ3MgdGhpcyBidWZmZXIgYXMgcmVxdWlyaW5nIGFuIHVwbG9hZCB0byB0aGUgR1BVXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcnxTaGFyZWRBcnJheUJ1ZmZlcnxBcnJheUJ1ZmZlclZpZXd9IFtkYXRhXSB0aGUgZGF0YSB0byB1cGRhdGUgaW4gdGhlIGJ1ZmZlci5cbiAgICAgKi9cbiAgICB1cGRhdGUoZGF0YSlcbiAgICB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGEgfHwgdGhpcy5kYXRhO1xuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRpc3Bvc2VzIFdlYkdMIHJlc291cmNlcyB0aGF0IGFyZSBjb25uZWN0ZWQgdG8gdGhpcyBnZW9tZXRyeVxuICAgICAqL1xuICAgIGRpc3Bvc2UoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyLnJ1bih0aGlzLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGJ1ZmZlclxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG5cbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgYnVmZmVyIGJhc2VkIG9uIGFuIGFycmF5IG9yIFR5cGVkQXJyYXlcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyVmlldyB8IG51bWJlcltdfSBkYXRhIHRoZSBUeXBlZEFycmF5IHRoYXQgdGhlIGJ1ZmZlciB3aWxsIHN0b3JlLiBJZiB0aGlzIGlzIGEgcmVndWxhciBBcnJheSBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIEZsb2F0MzJBcnJheS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJ1ZmZlcn0gQSBuZXcgQnVmZmVyIGJhc2VkIG9uIHRoZSBkYXRhIHByb3ZpZGVkLlxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tKGRhdGEpXG4gICAge1xuICAgICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICBkYXRhID0gbmV3IEZsb2F0MzJBcnJheShkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgQnVmZmVyKGRhdGEpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEJ1ZmZlclR5cGUoYXJyYXkpXG57XG4gICAgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSA0KVxuICAgIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gJ0Zsb2F0MzJBcnJheSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXJyYXkgaW5zdGFuY2VvZiBVaW50MzJBcnJheSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuICdVaW50MzJBcnJheSc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJ0ludDMyQXJyYXknO1xuICAgIH1cbiAgICBlbHNlIGlmIChhcnJheS5CWVRFU19QRVJfRUxFTUVOVCA9PT0gMilcbiAgICB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gJ1VpbnQxNkFycmF5JztcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChhcnJheS5CWVRFU19QRVJfRUxFTUVOVCA9PT0gMSlcbiAgICB7XG4gICAgICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDhBcnJheSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUT0RPIG1hcCBvdXQgdGhlIHJlc3Qgb2YgdGhlIGFycmF5IGVsZW1lbnRzIVxuICAgIHJldHVybiBudWxsO1xufVxuIiwiaW1wb3J0IGdldEJ1ZmZlclR5cGUgZnJvbSAnLi9nZXRCdWZmZXJUeXBlJztcblxuLyogZXNsaW50LWRpc2FibGUgb2JqZWN0LXNob3J0aGFuZCAqL1xuY29uc3QgbWFwID0ge1xuICAgIEZsb2F0MzJBcnJheTogRmxvYXQzMkFycmF5LFxuICAgIFVpbnQzMkFycmF5OiBVaW50MzJBcnJheSxcbiAgICBJbnQzMkFycmF5OiBJbnQzMkFycmF5LFxuICAgIFVpbnQ4QXJyYXk6IFVpbnQ4QXJyYXksXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbnRlcmxlYXZlVHlwZWRBcnJheXMoYXJyYXlzLCBzaXplcylcbntcbiAgICBsZXQgb3V0U2l6ZSA9IDA7XG4gICAgbGV0IHN0cmlkZSA9IDA7XG4gICAgY29uc3Qgdmlld3MgPSB7fTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXlzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgc3RyaWRlICs9IHNpemVzW2ldO1xuICAgICAgICBvdXRTaXplICs9IGFycmF5c1tpXS5sZW5ndGg7XG4gICAgfVxuXG4gICAgY29uc3QgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKG91dFNpemUgKiA0KTtcblxuICAgIGxldCBvdXQgPSBudWxsO1xuICAgIGxldCBsaXR0bGVPZmZzZXQgPSAwO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICBjb25zdCBzaXplID0gc2l6ZXNbaV07XG4gICAgICAgIGNvbnN0IGFycmF5ID0gYXJyYXlzW2ldO1xuXG4gICAgICAgIGNvbnN0IHR5cGUgPSBnZXRCdWZmZXJUeXBlKGFycmF5KTtcblxuICAgICAgICBpZiAoIXZpZXdzW3R5cGVdKVxuICAgICAgICB7XG4gICAgICAgICAgICB2aWV3c1t0eXBlXSA9IG5ldyBtYXBbdHlwZV0oYnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG91dCA9IHZpZXdzW3R5cGVdO1xuXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYXJyYXkubGVuZ3RoOyBqKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4U3RhcnQgPSAoKGogLyBzaXplIHwgMCkgKiBzdHJpZGUpICsgbGl0dGxlT2Zmc2V0O1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBqICUgc2l6ZTtcblxuICAgICAgICAgICAgb3V0W2luZGV4U3RhcnQgKyBpbmRleF0gPSBhcnJheVtqXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxpdHRsZU9mZnNldCArPSBzaXplO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcik7XG59XG4iLCJpbXBvcnQgQXR0cmlidXRlIGZyb20gJy4vQXR0cmlidXRlJztcbmltcG9ydCBCdWZmZXIgZnJvbSAnLi9CdWZmZXInO1xuaW1wb3J0IGludGVybGVhdmVUeXBlZEFycmF5cyBmcm9tICcuL3V0aWxzL2ludGVybGVhdmVUeXBlZEFycmF5cyc7XG5pbXBvcnQgZ2V0QnVmZmVyVHlwZSBmcm9tICcuL3V0aWxzL2dldEJ1ZmZlclR5cGUnO1xuaW1wb3J0IHsgUnVubmVyIH0gZnJvbSAnQHBpeGkvcnVubmVyJztcblxuY29uc3QgYnl0ZVNpemVNYXAgPSB7IDUxMjY6IDQsIDUxMjM6IDIsIDUxMjE6IDEgfTtcbmxldCBVSUQgPSAwO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBvYmplY3Qtc2hvcnRoYW5kICovXG5jb25zdCBtYXAgPSB7XG4gICAgRmxvYXQzMkFycmF5OiBGbG9hdDMyQXJyYXksXG4gICAgVWludDMyQXJyYXk6IFVpbnQzMkFycmF5LFxuICAgIEludDMyQXJyYXk6IEludDMyQXJyYXksXG4gICAgVWludDhBcnJheTogVWludDhBcnJheSxcbiAgICBVaW50MTZBcnJheTogVWludDE2QXJyYXksXG59O1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5cbi8qKlxuICogVGhlIEdlb21ldHJ5IHJlcHJlc2VudHMgYSBtb2RlbC4gSXQgY29uc2lzdHMgb2YgdHdvIGNvbXBvbmVudHM6XG4gKiAtIEdlb21ldHJ5U3R5bGUgLSBUaGUgc3RydWN0dXJlIG9mIHRoZSBtb2RlbCBzdWNoIGFzIHRoZSBhdHRyaWJ1dGVzIGxheW91dFxuICogLSBHZW9tZXRyeURhdGEgLSB0aGUgZGF0YSBvZiB0aGUgbW9kZWwgLSB0aGlzIGNvbnNpc3RzIG9mIGJ1ZmZlcnMuXG4gKiBUaGlzIGNhbiBpbmNsdWRlIGFueXRoaW5nIGZyb20gcG9zaXRpb25zLCB1dnMsIG5vcm1hbHMsIGNvbG9ycyBldGMuXG4gKlxuICogR2VvbWV0cnkgY2FuIGJlIGRlZmluZWQgd2l0aG91dCBwYXNzaW5nIGluIGEgc3R5bGUgb3IgZGF0YSBpZiByZXF1aXJlZCAodGhhdHMgaG93IEkgcHJlZmVyISlcbiAqXG4gKiBgYGBqc1xuICogbGV0IGdlb21ldHJ5ID0gbmV3IFBJWEkuR2VvbWV0cnkoKTtcbiAqXG4gKiBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3Bvc2l0aW9ucycsIFswLCAwLCAxMDAsIDAsIDEwMCwgMTAwLCAwLCAxMDBdLCAyKTtcbiAqIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgndXZzJywgWzAsMCwxLDAsMSwxLDAsMV0sMilcbiAqIGdlb21ldHJ5LmFkZEluZGV4KFswLDEsMiwxLDMsMl0pXG4gKlxuICogYGBgXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdlb21ldHJ5XG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkJ1ZmZlcltdfSBbYnVmZmVyc10gIGFuIGFycmF5IG9mIGJ1ZmZlcnMuIG9wdGlvbmFsLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbYXR0cmlidXRlc10gb2YgdGhlIGdlb21ldHJ5LCBvcHRpb25hbCBzdHJ1Y3R1cmUgb2YgdGhlIGF0dHJpYnV0ZXMgbGF5b3V0XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYnVmZmVycyA9IFtdLCBhdHRyaWJ1dGVzID0ge30pXG4gICAge1xuICAgICAgICB0aGlzLmJ1ZmZlcnMgPSBidWZmZXJzO1xuXG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIG9mIHJlbmRlcmVyIElEcyB0byB3ZWJnbCBWQU9zXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2xWZXJ0ZXhBcnJheU9iamVjdHMgPSB7fTtcblxuICAgICAgICB0aGlzLmlkID0gVUlEKys7XG5cbiAgICAgICAgdGhpcy5pbnN0YW5jZWQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmluc3RhbmNlQ291bnQgPSAxO1xuXG4gICAgICAgIHRoaXMuX3NpemUgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZGlzcG9zZVJ1bm5lciA9IG5ldyBSdW5uZXIoJ2Rpc3Bvc2VHZW9tZXRyeScsIDIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb3VudCBvZiBleGlzdGluZyAobm90IGRlc3Ryb3llZCkgbWVzaGVzIHRoYXQgcmVmZXJlbmNlIHRoaXMgZ2VvbWV0cnlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVmQ291bnQgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICpcbiAgICAqIEFkZHMgYW4gYXR0cmlidXRlIHRvIHRoZSBnZW9tZXRyeVxuICAgICpcbiAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAtIHRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgKG1hdGNoaW5nIHVwIHRvIGEgc2hhZGVyKVxuICAgICogQHBhcmFtIHtQSVhJLkJ1ZmZlcn0gW2J1ZmZlcl0gdGhlIGJ1ZmZlciB0aGF0IGhvbGRzIHRoZSBkYXRhIG9mIHRoZSBhdHRyaWJ1dGUgLiBZb3UgY2FuIGFsc28gcHJvdmlkZSBhbiBBcnJheSBhbmQgYSBidWZmZXIgd2lsbCBiZSBjcmVhdGVkIGZyb20gaXQuXG4gICAgKiBAcGFyYW0ge051bWJlcn0gW3NpemU9MF0gdGhlIHNpemUgb2YgdGhlIGF0dHJpYnV0ZS4gSWYgeW91IGhhdmUgMiBmbG9hdHMgcGVyIHZlcnRleCAoZWcgcG9zaXRpb24geCBhbmQgeSkgdGhpcyB3b3VsZCBiZSAyXG4gICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtub3JtYWxpemVkPWZhbHNlXSBzaG91bGQgdGhlIGRhdGEgYmUgbm9ybWFsaXplZC5cbiAgICAqIEBwYXJhbSB7TnVtYmVyfSBbdHlwZT1QSVhJLlRZUEVTLkZMT0FUXSB3aGF0IHR5cGUgb2YgbnVtYmVyIGlzIHRoZSBhdHRyaWJ1dGUuIENoZWNrIHtQSVhJLlRZUEVTfSB0byBzZWUgdGhlIG9uZXMgYXZhaWxhYmxlXG4gICAgKiBAcGFyYW0ge051bWJlcn0gW3N0cmlkZT0wXSBIb3cgZmFyIGFwYXJ0IChpbiBmbG9hdHMpIHRoZSBzdGFydCBvZiBlYWNoIHZhbHVlIGlzLiAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gICAgKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0PTBdIEhvdyBmYXIgaW50byB0aGUgYXJyYXkgdG8gc3RhcnQgcmVhZGluZyB2YWx1ZXMgKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICAgICpcbiAgICAqIEByZXR1cm4ge1BJWEkuR2VvbWV0cnl9IHJldHVybnMgc2VsZiwgdXNlZnVsIGZvciBjaGFpbmluZy5cbiAgICAqL1xuICAgIGFkZEF0dHJpYnV0ZShpZCwgYnVmZmVyLCBzaXplLCBub3JtYWxpemVkID0gZmFsc2UsIHR5cGUsIHN0cmlkZSwgc3RhcnQsIGluc3RhbmNlID0gZmFsc2UpXG4gICAge1xuICAgICAgICBpZiAoIWJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbXVzdCBwYXNzIGEgYnVmZmVyIHdoZW4gY3JlYXRpbmcgYW4gYXR0cmlidXRlJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjaGVjayBpZiB0aGlzIGlzIGEgYnVmZmVyIVxuICAgICAgICBpZiAoIWJ1ZmZlci5kYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpdHMgYW4gYXJyYXkhXG4gICAgICAgICAgICBpZiAoYnVmZmVyIGluc3RhbmNlb2YgQXJyYXkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYnVmZmVyID0gbmV3IEZsb2F0MzJBcnJheShidWZmZXIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBidWZmZXIgPSBuZXcgQnVmZmVyKGJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpZHMgPSBpZC5zcGxpdCgnfCcpO1xuXG4gICAgICAgIGlmIChpZHMubGVuZ3RoID4gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpZHMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGUoaWRzW2ldLCBidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBidWZmZXJJbmRleCA9IHRoaXMuYnVmZmVycy5pbmRleE9mKGJ1ZmZlcik7XG5cbiAgICAgICAgaWYgKGJ1ZmZlckluZGV4ID09PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5idWZmZXJzLnB1c2goYnVmZmVyKTtcbiAgICAgICAgICAgIGJ1ZmZlckluZGV4ID0gdGhpcy5idWZmZXJzLmxlbmd0aCAtIDE7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmF0dHJpYnV0ZXNbaWRdID0gbmV3IEF0dHJpYnV0ZShidWZmZXJJbmRleCwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlLCBzdGFydCwgaW5zdGFuY2UpO1xuXG4gICAgICAgIC8vIGFzc3VtaW5nIHRoYXQgaWYgdGhlcmUgaXMgaW5zdGFuY2VkIGRhdGEgdGhlbiB0aGlzIHdpbGwgYmUgZHJhd24gd2l0aCBpbnN0YW5jaW5nIVxuICAgICAgICB0aGlzLmluc3RhbmNlZCA9IHRoaXMuaW5zdGFuY2VkIHx8IGluc3RhbmNlO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgdGhlIHJlcXVlc3RlZCBhdHRyaWJ1dGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCAgdGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSByZXF1aXJlZFxuICAgICAqIEByZXR1cm4ge1BJWEkuQXR0cmlidXRlfSB0aGUgYXR0cmlidXRlIHJlcXVlc3RlZC5cbiAgICAgKi9cbiAgICBnZXRBdHRyaWJ1dGUoaWQpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVzW2lkXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSByZXF1ZXN0ZWQgYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgIHRoZSBuYW1lIG9mIHRoZSBidWZmZXIgcmVxdWlyZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJ1ZmZlcn0gdGhlIGJ1ZmZlciByZXF1ZXN0ZWQuXG4gICAgICovXG4gICAgZ2V0QnVmZmVyKGlkKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyc1t0aGlzLmdldEF0dHJpYnV0ZShpZCkuYnVmZmVyXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqXG4gICAgKiBBZGRzIGFuIGluZGV4IGJ1ZmZlciB0byB0aGUgZ2VvbWV0cnlcbiAgICAqIFRoZSBpbmRleCBidWZmZXIgY29udGFpbnMgaW50ZWdlcnMsIHRocmVlIGZvciBlYWNoIHRyaWFuZ2xlIGluIHRoZSBnZW9tZXRyeSwgd2hpY2ggcmVmZXJlbmNlIHRoZSB2YXJpb3VzIGF0dHJpYnV0ZSBidWZmZXJzIChwb3NpdGlvbiwgY29sb3VyLCBVViBjb29yZGluYXRlcywgb3RoZXIgVVYgY29vcmRpbmF0ZXMsIG5vcm1hbCwg4oCmKS4gVGhlcmUgaXMgb25seSBPTkUgaW5kZXggYnVmZmVyLlxuICAgICpcbiAgICAqIEBwYXJhbSB7UElYSS5CdWZmZXJ9IFtidWZmZXJdIHRoZSBidWZmZXIgdGhhdCBob2xkcyB0aGUgZGF0YSBvZiB0aGUgaW5kZXggYnVmZmVyLiBZb3UgY2FuIGFsc28gcHJvdmlkZSBhbiBBcnJheSBhbmQgYSBidWZmZXIgd2lsbCBiZSBjcmVhdGVkIGZyb20gaXQuXG4gICAgKiBAcmV0dXJuIHtQSVhJLkdlb21ldHJ5fSByZXR1cm5zIHNlbGYsIHVzZWZ1bCBmb3IgY2hhaW5pbmcuXG4gICAgKi9cbiAgICBhZGRJbmRleChidWZmZXIpXG4gICAge1xuICAgICAgICBpZiAoIWJ1ZmZlci5kYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpdHMgYW4gYXJyYXkhXG4gICAgICAgICAgICBpZiAoYnVmZmVyIGluc3RhbmNlb2YgQXJyYXkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYnVmZmVyID0gbmV3IFVpbnQxNkFycmF5KGJ1ZmZlcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJ1ZmZlciA9IG5ldyBCdWZmZXIoYnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJ1ZmZlci5pbmRleCA9IHRydWU7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBidWZmZXI7XG5cbiAgICAgICAgaWYgKHRoaXMuYnVmZmVycy5pbmRleE9mKGJ1ZmZlcikgPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlcnMucHVzaChidWZmZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgaW5kZXggYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJ1ZmZlcn0gdGhlIGluZGV4IGJ1ZmZlci5cbiAgICAgKi9cbiAgICBnZXRJbmRleCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5pbmRleEJ1ZmZlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB0aGlzIGZ1bmN0aW9uIG1vZGlmaWVzIHRoZSBzdHJ1Y3R1cmUgc28gdGhhdCBhbGwgY3VycmVudCBhdHRyaWJ1dGVzIGJlY29tZSBpbnRlcmxlYXZlZCBpbnRvIGEgc2luZ2xlIGJ1ZmZlclxuICAgICAqIFRoaXMgY2FuIGJlIHVzZWZ1bCBpZiB5b3VyIG1vZGVsIHJlbWFpbnMgc3RhdGljIGFzIGl0IG9mZmVycyBhIGxpdHRsZSBwZXJmb3JtYW5jZSBib29zdFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HZW9tZXRyeX0gcmV0dXJucyBzZWxmLCB1c2VmdWwgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGludGVybGVhdmUoKVxuICAgIHtcbiAgICAgICAgLy8gYSBzaW1wbGUgY2hlY2sgdG8gc2VlIGlmIGJ1ZmZlcnMgYXJlIGFscmVhZHkgaW50ZXJsZWF2ZWQuLlxuICAgICAgICBpZiAodGhpcy5idWZmZXJzLmxlbmd0aCA9PT0gMSB8fCAodGhpcy5idWZmZXJzLmxlbmd0aCA9PT0gMiAmJiB0aGlzLmluZGV4QnVmZmVyKSkgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgLy8gYXNzdW1lIGFscmVhZHkgdGhhdCBubyBidWZmZXJzIGFyZSBpbnRlcmxlYXZlZFxuICAgICAgICBjb25zdCBhcnJheXMgPSBbXTtcbiAgICAgICAgY29uc3Qgc2l6ZXMgPSBbXTtcbiAgICAgICAgY29uc3QgaW50ZXJsZWF2ZWRCdWZmZXIgPSBuZXcgQnVmZmVyKCk7XG4gICAgICAgIGxldCBpO1xuXG4gICAgICAgIGZvciAoaSBpbiB0aGlzLmF0dHJpYnV0ZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IHRoaXMuYXR0cmlidXRlc1tpXTtcblxuICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gdGhpcy5idWZmZXJzW2F0dHJpYnV0ZS5idWZmZXJdO1xuXG4gICAgICAgICAgICBhcnJheXMucHVzaChidWZmZXIuZGF0YSk7XG5cbiAgICAgICAgICAgIHNpemVzLnB1c2goKGF0dHJpYnV0ZS5zaXplICogYnl0ZVNpemVNYXBbYXR0cmlidXRlLnR5cGVdKSAvIDQpO1xuXG4gICAgICAgICAgICBhdHRyaWJ1dGUuYnVmZmVyID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGludGVybGVhdmVkQnVmZmVyLmRhdGEgPSBpbnRlcmxlYXZlVHlwZWRBcnJheXMoYXJyYXlzLCBzaXplcyk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuYnVmZmVycy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuYnVmZmVyc1tpXSAhPT0gdGhpcy5pbmRleEJ1ZmZlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcnNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5idWZmZXJzID0gW2ludGVybGVhdmVkQnVmZmVyXTtcblxuICAgICAgICBpZiAodGhpcy5pbmRleEJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5idWZmZXJzLnB1c2godGhpcy5pbmRleEJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBnZXRTaXplKClcbiAgICB7XG4gICAgICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLmF0dHJpYnV0ZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IHRoaXMuYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuYnVmZmVyc1thdHRyaWJ1dGUuYnVmZmVyXTtcblxuICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlci5kYXRhLmxlbmd0aCAvICgoYXR0cmlidXRlLnN0cmlkZSAvIDQpIHx8IGF0dHJpYnV0ZS5zaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRpc3Bvc2VzIFdlYkdMIHJlc291cmNlcyB0aGF0IGFyZSBjb25uZWN0ZWQgdG8gdGhpcyBnZW9tZXRyeVxuICAgICAqL1xuICAgIGRpc3Bvc2UoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlUnVubmVyLnJ1bih0aGlzLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG5cbiAgICAgICAgdGhpcy5idWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCk7XG5cbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIGEgY2xvbmUgb2YgdGhlIGdlb21ldHJ5XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UElYSS5HZW9tZXRyeX0gYSBuZXcgY2xvbmUgb2YgdGhpcyBnZW9tZXRyeVxuICAgICAqL1xuICAgIGNsb25lKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gbmV3IEdlb21ldHJ5KCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJ1ZmZlcnMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdlb21ldHJ5LmJ1ZmZlcnNbaV0gPSBuZXcgQnVmZmVyKHRoaXMuYnVmZmVyc1tpXS5kYXRhLnNsaWNlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBpIGluIHRoaXMuYXR0cmlidXRlcylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgYXR0cmliID0gdGhpcy5hdHRyaWJ1dGVzW2ldO1xuXG4gICAgICAgICAgICBnZW9tZXRyeS5hdHRyaWJ1dGVzW2ldID0gbmV3IEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICBhdHRyaWIuYnVmZmVyLFxuICAgICAgICAgICAgICAgIGF0dHJpYi5zaXplLFxuICAgICAgICAgICAgICAgIGF0dHJpYi5ub3JtYWxpemVkLFxuICAgICAgICAgICAgICAgIGF0dHJpYi50eXBlLFxuICAgICAgICAgICAgICAgIGF0dHJpYi5zdHJpZGUsXG4gICAgICAgICAgICAgICAgYXR0cmliLnN0YXJ0LFxuICAgICAgICAgICAgICAgIGF0dHJpYi5pbnN0YW5jZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmluZGV4QnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICBnZW9tZXRyeS5pbmRleEJ1ZmZlciA9IGdlb21ldHJ5LmJ1ZmZlcnNbdGhpcy5idWZmZXJzLmluZGV4T2YodGhpcy5pbmRleEJ1ZmZlcildO1xuICAgICAgICAgICAgZ2VvbWV0cnkuaW5kZXhCdWZmZXIuaW5kZXggPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdlb21ldHJ5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIG1lcmdlcyBhbiBhcnJheSBvZiBnZW9tZXRyaWVzIGludG8gYSBuZXcgc2luZ2xlIG9uZVxuICAgICAqIGdlb21ldHJ5IGF0dHJpYnV0ZSBzdHlsZXMgbXVzdCBtYXRjaCBmb3IgdGhpcyBvcGVyYXRpb24gdG8gd29ya1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5W119IGdlb21ldHJpZXMgYXJyYXkgb2YgZ2VvbWV0cmllcyB0byBtZXJnZVxuICAgICAqIEByZXR1cm5zIHtQSVhJLkdlb21ldHJ5fSBzaGlueSBuZXcgZ2VvbWV0cnkhXG4gICAgICovXG4gICAgc3RhdGljIG1lcmdlKGdlb21ldHJpZXMpXG4gICAge1xuICAgICAgICAvLyB0b2RvIGFkZCBhIGdlb21ldHJ5IGNoZWNrIVxuICAgICAgICAvLyBhbHNvIGEgc2l6ZSBjaGVjay4uIGNhbnQgYmUgdG9vIGJpZyFdXG5cbiAgICAgICAgY29uc3QgZ2VvbWV0cnlPdXQgPSBuZXcgR2VvbWV0cnkoKTtcblxuICAgICAgICBjb25zdCBhcnJheXMgPSBbXTtcbiAgICAgICAgY29uc3Qgc2l6ZXMgPSBbXTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0cyA9IFtdO1xuXG4gICAgICAgIGxldCBnZW9tZXRyeTtcblxuICAgICAgICAvLyBwYXNzIG9uZS4uIGdldCBzaXplcy4uXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgZ2VvbWV0cnkgPSBnZW9tZXRyaWVzW2ldO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2l6ZXNbal0gPSBzaXplc1tqXSB8fCAwO1xuICAgICAgICAgICAgICAgIHNpemVzW2pdICs9IGdlb21ldHJ5LmJ1ZmZlcnNbal0uZGF0YS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgb2Zmc2V0c1tqXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBidWlsZCB0aGUgY29ycmVjdCBzaXplIGFycmF5cy4uXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVE9ETyB0eXBlcyFcbiAgICAgICAgICAgIGFycmF5c1tpXSA9IG5ldyBtYXBbZ2V0QnVmZmVyVHlwZShnZW9tZXRyeS5idWZmZXJzW2ldLmRhdGEpXShzaXplc1tpXSk7XG4gICAgICAgICAgICBnZW9tZXRyeU91dC5idWZmZXJzW2ldID0gbmV3IEJ1ZmZlcihhcnJheXNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcGFzcyB0byBzZXQgZGF0YS4uXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgZ2VvbWV0cnkgPSBnZW9tZXRyaWVzW2ldO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXJyYXlzW2pdLnNldChnZW9tZXRyeS5idWZmZXJzW2pdLmRhdGEsIG9mZnNldHNbal0pO1xuICAgICAgICAgICAgICAgIG9mZnNldHNbal0gKz0gZ2VvbWV0cnkuYnVmZmVyc1tqXS5kYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGdlb21ldHJ5T3V0LmF0dHJpYnV0ZXMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuXG4gICAgICAgIGlmIChnZW9tZXRyeS5pbmRleEJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgZ2VvbWV0cnlPdXQuaW5kZXhCdWZmZXIgPSBnZW9tZXRyeU91dC5idWZmZXJzW2dlb21ldHJ5LmJ1ZmZlcnMuaW5kZXhPZihnZW9tZXRyeS5pbmRleEJ1ZmZlcildO1xuICAgICAgICAgICAgZ2VvbWV0cnlPdXQuaW5kZXhCdWZmZXIuaW5kZXggPSB0cnVlO1xuXG4gICAgICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIGxldCBzdHJpZGUgPSAwO1xuICAgICAgICAgICAgbGV0IG9mZnNldDIgPSAwO1xuICAgICAgICAgICAgbGV0IGJ1ZmZlckluZGV4VG9Db3VudCA9IDA7XG5cbiAgICAgICAgICAgIC8vIGdldCBhIGJ1ZmZlclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChnZW9tZXRyeS5idWZmZXJzW2ldICE9PSBnZW9tZXRyeS5pbmRleEJ1ZmZlcilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlckluZGV4VG9Db3VudCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZmlndXJlIG91dCB0aGUgc3RyaWRlIG9mIG9uZSBidWZmZXIuLlxuICAgICAgICAgICAgZm9yIChjb25zdCBpIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlID0gZ2VvbWV0cnkuYXR0cmlidXRlc1tpXTtcblxuICAgICAgICAgICAgICAgIGlmICgoYXR0cmlidXRlLmJ1ZmZlciB8IDApID09PSBidWZmZXJJbmRleFRvQ291bnQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzdHJpZGUgKz0gKChhdHRyaWJ1dGUuc2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZS50eXBlXSkgLyA0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHRpbWUgdG8gb2ZmIHNldCBhbGwgaW5kZXhlcy4uXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdlb21ldHJpZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXhCdWZmZXJEYXRhID0gZ2VvbWV0cmllc1tpXS5pbmRleEJ1ZmZlci5kYXRhO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpbmRleEJ1ZmZlckRhdGEubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBnZW9tZXRyeU91dC5pbmRleEJ1ZmZlci5kYXRhW2ogKyBvZmZzZXQyXSArPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGdlb21ldHJ5LmJ1ZmZlcnNbYnVmZmVySW5kZXhUb0NvdW50XS5kYXRhLmxlbmd0aCAvIChzdHJpZGUpO1xuICAgICAgICAgICAgICAgIG9mZnNldDIgKz0gaW5kZXhCdWZmZXJEYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnZW9tZXRyeU91dDtcbiAgICB9XG59XG4iLCJpbXBvcnQgR2VvbWV0cnkgZnJvbSAnLi4vZ2VvbWV0cnkvR2VvbWV0cnknO1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBxdWFkXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBRdWFkIGV4dGVuZHMgR2VvbWV0cnlcbntcbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCBbXG4gICAgICAgICAgICAwLCAwLFxuICAgICAgICAgICAgMSwgMCxcbiAgICAgICAgICAgIDEsIDEsXG4gICAgICAgICAgICAwLCAxLFxuICAgICAgICBdKVxuICAgICAgICAgICAgLmFkZEluZGV4KFswLCAxLCAzLCAyXSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IEdlb21ldHJ5IGZyb20gJy4uL2dlb21ldHJ5L0dlb21ldHJ5JztcbmltcG9ydCBCdWZmZXIgZnJvbSAnLi4vZ2VvbWV0cnkvQnVmZmVyJztcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgcXVhZCB3aXRoIHV2cyBsaWtlIGluIHY0XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBRdWFkVXYgZXh0ZW5kcyBHZW9tZXRyeVxue1xuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHZlcnRpY2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIC0xLCAtMSxcbiAgICAgICAgICAgIDEsIC0xLFxuICAgICAgICAgICAgMSwgMSxcbiAgICAgICAgICAgIC0xLCAxLFxuICAgICAgICBdKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFV2cyBvZiB0aGUgcXVhZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2cyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgMCwgMCxcbiAgICAgICAgICAgIDEsIDAsXG4gICAgICAgICAgICAxLCAxLFxuICAgICAgICAgICAgMCwgMSxcbiAgICAgICAgXSk7XG5cbiAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXIgPSBuZXcgQnVmZmVyKHRoaXMudmVydGljZXMpO1xuICAgICAgICB0aGlzLnV2QnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLnV2cyk7XG5cbiAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicsIHRoaXMudmVydGV4QnVmZmVyKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVDb29yZCcsIHRoaXMudXZCdWZmZXIpXG4gICAgICAgICAgICAuYWRkSW5kZXgoWzAsIDEsIDIsIDAsIDIsIDNdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYXBzIHR3byBSZWN0YW5nbGUgdG8gdGhlIHF1YWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSB0YXJnZXRUZXh0dXJlRnJhbWUgLSB0aGUgZmlyc3QgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIHRoZSBzZWNvbmQgcmVjdGFuZ2xlXG4gICAgICogQHJldHVybiB7UElYSS5RdWFkfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBtYXAodGFyZ2V0VGV4dHVyZUZyYW1lLCBkZXN0aW5hdGlvbkZyYW1lKVxuICAgIHtcbiAgICAgICAgbGV0IHggPSAwOyAvLyBkZXN0aW5hdGlvbkZyYW1lLnggLyB0YXJnZXRUZXh0dXJlRnJhbWUud2lkdGg7XG4gICAgICAgIGxldCB5ID0gMDsgLy8gZGVzdGluYXRpb25GcmFtZS55IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLmhlaWdodDtcblxuICAgICAgICB0aGlzLnV2c1swXSA9IHg7XG4gICAgICAgIHRoaXMudXZzWzFdID0geTtcblxuICAgICAgICB0aGlzLnV2c1syXSA9IHggKyAoZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aCk7XG4gICAgICAgIHRoaXMudXZzWzNdID0geTtcblxuICAgICAgICB0aGlzLnV2c1s0XSA9IHggKyAoZGVzdGluYXRpb25GcmFtZS53aWR0aCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aCk7XG4gICAgICAgIHRoaXMudXZzWzVdID0geSArIChkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAvIHRhcmdldFRleHR1cmVGcmFtZS5oZWlnaHQpO1xuXG4gICAgICAgIHRoaXMudXZzWzZdID0geDtcbiAgICAgICAgdGhpcy51dnNbN10gPSB5ICsgKGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLmhlaWdodCk7XG5cbiAgICAgICAgeCA9IGRlc3RpbmF0aW9uRnJhbWUueDtcbiAgICAgICAgeSA9IGRlc3RpbmF0aW9uRnJhbWUueTtcblxuICAgICAgICB0aGlzLnZlcnRpY2VzWzBdID0geDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1sxXSA9IHk7XG5cbiAgICAgICAgdGhpcy52ZXJ0aWNlc1syXSA9IHggKyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzNdID0geTtcblxuICAgICAgICB0aGlzLnZlcnRpY2VzWzRdID0geCArIGRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgICAgIHRoaXMudmVydGljZXNbNV0gPSB5ICsgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG5cbiAgICAgICAgdGhpcy52ZXJ0aWNlc1s2XSA9IHg7XG4gICAgICAgIHRoaXMudmVydGljZXNbN10gPSB5ICsgZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogbGVnYWN5IHVwbG9hZCBtZXRob2QsIGp1c3QgbWFya3MgYnVmZmVycyBkaXJ0eVxuICAgICAqIEByZXR1cm5zIHtQSVhJLlF1YWRVdn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgaW52YWxpZGF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlci5fdXBkYXRlSUQrKztcbiAgICAgICAgdGhpcy51dkJ1ZmZlci5fdXBkYXRlSUQrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4iLCJsZXQgVUlEID0gMDtcblxuLyoqXG4gKiBVbmlmb3JtIGdyb3VwIGhvbGRzIHVuaWZvcm0gbWFwIGFuZCBzb21lIElEJ3MgZm9yIHdvcmtcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmNsYXNzIFVuaWZvcm1Hcm91cFxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbdW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW19zdGF0aWNdIC0gVW5pZm9ybXMgd29udCBiZSBjaGFuZ2VkIGFmdGVyIGNyZWF0aW9uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodW5pZm9ybXMsIF9zdGF0aWMpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogdW5pZm9ybSB2YWx1ZXNcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW5pZm9ybXMgPSB1bmlmb3JtcztcblxuICAgICAgICAvKipcbiAgICAgICAgICogSXRzIGEgZ3JvdXAgYW5kIG5vdCBhIHNpbmdsZSB1bmlmb3Jtc1xuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ncm91cCA9IHRydWU7XG5cbiAgICAgICAgLy8gbGV0cyBnZW5lcmF0ZSB0aGlzIHdoZW4gdGhlIHNoYWRlciA/XG4gICAgICAgIHRoaXMuc3luY1VuaWZvcm1zID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRpcnR5IHZlcnNpb25cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5SWQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1bmlxdWUgaWRcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlkID0gVUlEKys7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVuaWZvcm1zIHdvbnQgYmUgY2hhbmdlZCBhZnRlciBjcmVhdGlvblxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0aWMgPSAhIV9zdGF0aWM7XG4gICAgfVxuXG4gICAgdXBkYXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGlydHlJZCsrO1xuICAgIH1cblxuICAgIGFkZChuYW1lLCB1bmlmb3JtcywgX3N0YXRpYylcbiAgICB7XG4gICAgICAgIHRoaXMudW5pZm9ybXNbbmFtZV0gPSBuZXcgVW5pZm9ybUdyb3VwKHVuaWZvcm1zLCBfc3RhdGljKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbSh1bmlmb3JtcywgX3N0YXRpYylcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgVW5pZm9ybUdyb3VwKHVuaWZvcm1zLCBfc3RhdGljKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFVuaWZvcm1Hcm91cDtcbiIsImltcG9ydCBTeXN0ZW0gZnJvbSAnLi4vU3lzdGVtJztcblxuaW1wb3J0IFJlbmRlclRleHR1cmUgZnJvbSAnLi4vcmVuZGVyVGV4dHVyZS9SZW5kZXJUZXh0dXJlJztcbmltcG9ydCBRdWFkIGZyb20gJy4uL3V0aWxzL1F1YWQnO1xuaW1wb3J0IFF1YWRVdiBmcm9tICcuLi91dGlscy9RdWFkVXYnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlLCBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IG5leHRQb3cyIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IFVuaWZvcm1Hcm91cCBmcm9tICcuLi9zaGFkZXIvVW5pZm9ybUdyb3VwJztcbmltcG9ydCB7IERSQVdfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBmaWx0ZXIgc3RhdGVzLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgRmlsdGVyU3RhdGVcbntcbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUYXJnZXQgb2YgdGhlIGZpbHRlcnNcbiAgICAgICAgICogV2Ugc3RvcmUgZm9yIGNhc2Ugd2hlbiBjdXN0b20gZmlsdGVyIHdhbnRzIHRvIGtub3cgdGhlIGVsZW1lbnQgaXQgd2FzIGFwcGxpZWQgb25cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb21wYXRpYmlsaXR5IHdpdGggUGl4aUpTIHY0IGZpbHRlcnNcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGVnYWN5ID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlc29sdXRpb24gb2YgZmlsdGVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IDE7XG5cbiAgICAgICAgLy8gbmV4dCB0aHJlZSBmaWVsZHMgYXJlIGNyZWF0ZWQgb25seSBmb3Igcm9vdFxuICAgICAgICAvLyByZS1hc3NpZ25lZCBmb3IgZXZlcnl0aGluZyBlbHNlXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNvdXJjZSBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3RpbmF0aW9uIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gbmV3IFJlY3RhbmdsZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGZpbHRlcnNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWx0ZXJbXX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsdGVycyA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNsZWFycyB0aGUgc3RhdGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNsZWFyKClcbiAgICB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5maWx0ZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJUZXh0dXJlID0gbnVsbDtcbiAgICB9XG59XG5cbmNvbnN0IHNjcmVlbktleSA9ICdzY3JlZW4nO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0aGUgZmlsdGVycy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZpbHRlclN5c3RlbSBleHRlbmRzIFN5c3RlbVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaXN0IG9mIGZpbHRlcnMgZm9yIHRoZSBGaWx0ZXJTeXN0ZW1cbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0W119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2sgPSBbe31dO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzdG9yZXMgYSBidW5jaCBvZiBQTzIgdGV4dHVyZXMgdXNlZCBmb3IgZmlsdGVyaW5nXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogYSBwb29sIGZvciBzdG9yaW5nIGZpbHRlciBzdGF0ZXMsIHNhdmUgdXMgY3JlYXRpbmcgbmV3IG9uZXMgZWFjaCB0aWNrXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0ZVBvb2wgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSB2ZXJ5IHNpbXBsZSBnZW9tZXRyeSB1c2VkIHdoZW4gZHJhd2luZyBhIGZpbHRlciBlZmZlY3QgdG8gdGhlIHNjcmVlblxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlF1YWR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnF1YWQgPSBuZXcgUXVhZCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBRdWFkIFVWc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlF1YWRVdn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucXVhZFV2ID0gbmV3IFF1YWRVdigpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZW1wb3JhcnkgcmVjdCBmb3IgbWF0aHNcbiAgICAgICAgICogQHR5cGUge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZW1wUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQWN0aXZlIHN0YXRlXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWN0aXZlU3RhdGUgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB1bmlmb3JtIGdyb3VwIGlzIGF0dGFjaGVkIHRvIGZpbHRlciB1bmlmb3JtcyB3aGVuIHVzZWRcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Vbmlmb3JtR3JvdXB9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SZWN0YW5nbGV9IG91dHB1dEZyYW1lXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7RmxvYXQzMkFycmF5fSBpbnB1dFNpemVcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGlucHV0UGl4ZWxcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGlucHV0Q2xhbXBcbiAgICAgICAgICogQHByb3BlcnR5IHtOdW1iZXJ9IHJlc29sdXRpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGZpbHRlckFyZWFcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hZDMyQXJyYXl9IGZpbHRlckNsYW1wXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsb2JhbFVuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICAgICAgICBvdXRwdXRGcmFtZTogdGhpcy50ZW1wUmVjdCxcbiAgICAgICAgICAgIGlucHV0U2l6ZTogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgICAgIGlucHV0UGl4ZWw6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgICAgICBpbnB1dENsYW1wOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogMSxcblxuICAgICAgICAgICAgLy8gbGVnYWN5IHZhcmlhYmxlc1xuICAgICAgICAgICAgZmlsdGVyQXJlYTogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgICAgIGZpbHRlckNsYW1wOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICB0aGlzLl9waXhlbHNXaWR0aCA9IHJlbmRlcmVyLnZpZXcud2lkdGg7XG4gICAgICAgIHRoaXMuX3BpeGVsc0hlaWdodCA9IHJlbmRlcmVyLnZpZXcuaGVpZ2h0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBuZXcgZmlsdGVyIHRvIHRoZSBTeXN0ZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gdGFyZ2V0IC0gVGhlIHRhcmdldCBvZiB0aGUgZmlsdGVyIHRvIHJlbmRlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyW119IGZpbHRlcnMgLSBUaGUgZmlsdGVycyB0byBhcHBseS5cbiAgICAgKi9cbiAgICBwdXNoKHRhcmdldCwgZmlsdGVycylcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgY29uc3QgZmlsdGVyU3RhY2sgPSB0aGlzLmRlZmF1bHRGaWx0ZXJTdGFjaztcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnN0YXRlUG9vbC5wb3AoKSB8fCBuZXcgRmlsdGVyU3RhdGUoKTtcblxuICAgICAgICBsZXQgcmVzb2x1dGlvbiA9IGZpbHRlcnNbMF0ucmVzb2x1dGlvbjtcbiAgICAgICAgbGV0IHBhZGRpbmcgPSBmaWx0ZXJzWzBdLnBhZGRpbmc7XG4gICAgICAgIGxldCBhdXRvRml0ID0gZmlsdGVyc1swXS5hdXRvRml0O1xuICAgICAgICBsZXQgbGVnYWN5ID0gZmlsdGVyc1swXS5sZWdhY3k7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBmaWx0ZXJzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXIgPSAgZmlsdGVyc1tpXTtcblxuICAgICAgICAgICAgLy8gbGV0cyB1c2UgdGhlIGxvd2VzdCByZXNvbHV0aW9uLi5cbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBNYXRoLm1pbihyZXNvbHV0aW9uLCBmaWx0ZXIucmVzb2x1dGlvbik7XG4gICAgICAgICAgICAvLyBhbmQgdGhlIGxhcmdlc3QgYW1vdW50IG9mIHBhZGRpbmchXG4gICAgICAgICAgICBwYWRkaW5nID0gTWF0aC5tYXgocGFkZGluZywgZmlsdGVyLnBhZGRpbmcpO1xuICAgICAgICAgICAgLy8gb25seSBhdXRvIGZpdCBpZiBhbGwgZmlsdGVycyBhcmUgYXV0b2ZpdFxuICAgICAgICAgICAgYXV0b0ZpdCA9IGF1dG9GaXQgfHwgZmlsdGVyLmF1dG9GaXQ7XG5cbiAgICAgICAgICAgIGxlZ2FjeSA9IGxlZ2FjeSB8fCBmaWx0ZXIubGVnYWN5O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbHRlclN0YWNrLmxlbmd0aCA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0RmlsdGVyU3RhY2tbMF0ucmVuZGVyVGV4dHVyZSA9IHJlbmRlcmVyLnJlbmRlclRleHR1cmUuY3VycmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZpbHRlclN0YWNrLnB1c2goc3RhdGUpO1xuXG4gICAgICAgIHN0YXRlLnJlc29sdXRpb24gPSByZXNvbHV0aW9uO1xuXG4gICAgICAgIHN0YXRlLmxlZ2FjeSA9IGxlZ2FjeTtcblxuICAgICAgICBzdGF0ZS50YXJnZXQgPSB0YXJnZXQ7XG5cbiAgICAgICAgc3RhdGUuc291cmNlRnJhbWUuY29weUZyb20odGFyZ2V0LmZpbHRlckFyZWEgfHwgdGFyZ2V0LmdldEJvdW5kcyh0cnVlKSk7XG5cbiAgICAgICAgc3RhdGUuc291cmNlRnJhbWUucGFkKHBhZGRpbmcpO1xuICAgICAgICBpZiAoYXV0b0ZpdClcbiAgICAgICAge1xuICAgICAgICAgICAgc3RhdGUuc291cmNlRnJhbWUuZml0KHRoaXMucmVuZGVyZXIucmVuZGVyVGV4dHVyZS5zb3VyY2VGcmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByb3VuZCB0byB3aG9sZSBudW1iZXIgYmFzZWQgb24gcmVzb2x1dGlvblxuICAgICAgICBzdGF0ZS5zb3VyY2VGcmFtZS5jZWlsKHJlc29sdXRpb24pO1xuXG4gICAgICAgIHN0YXRlLnJlbmRlclRleHR1cmUgPSB0aGlzLmdldE9wdGltYWxGaWx0ZXJUZXh0dXJlKHN0YXRlLnNvdXJjZUZyYW1lLndpZHRoLCBzdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQsIHJlc29sdXRpb24pO1xuICAgICAgICBzdGF0ZS5maWx0ZXJzID0gZmlsdGVycztcblxuICAgICAgICBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLndpZHRoID0gc3RhdGUucmVuZGVyVGV4dHVyZS53aWR0aDtcbiAgICAgICAgc3RhdGUuZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgPSBzdGF0ZS5yZW5kZXJUZXh0dXJlLmhlaWdodDtcblxuICAgICAgICBzdGF0ZS5yZW5kZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gc3RhdGUuc291cmNlRnJhbWU7XG5cbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKHN0YXRlLnJlbmRlclRleHR1cmUsIHN0YXRlLnNvdXJjZUZyYW1lKTsvLyAvLCBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lKTtcbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jbGVhcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBvcHMgb2ZmIHRoZSBmaWx0ZXIgYW5kIGFwcGxpZXMgaXQuXG4gICAgICpcbiAgICAgKi9cbiAgICBwb3AoKVxuICAgIHtcbiAgICAgICAgY29uc3QgZmlsdGVyU3RhY2sgPSB0aGlzLmRlZmF1bHRGaWx0ZXJTdGFjaztcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBmaWx0ZXJTdGFjay5wb3AoKTtcbiAgICAgICAgY29uc3QgZmlsdGVycyA9IHN0YXRlLmZpbHRlcnM7XG5cbiAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZSA9IHN0YXRlO1xuXG4gICAgICAgIGNvbnN0IGdsb2JhbFVuaWZvcm1zID0gdGhpcy5nbG9iYWxVbmlmb3Jtcy51bmlmb3JtcztcblxuICAgICAgICBnbG9iYWxVbmlmb3Jtcy5vdXRwdXRGcmFtZSA9IHN0YXRlLnNvdXJjZUZyYW1lO1xuICAgICAgICBnbG9iYWxVbmlmb3Jtcy5yZXNvbHV0aW9uID0gc3RhdGUucmVzb2x1dGlvbjtcblxuICAgICAgICBjb25zdCBpbnB1dFNpemUgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dFNpemU7XG4gICAgICAgIGNvbnN0IGlucHV0UGl4ZWwgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dFBpeGVsO1xuICAgICAgICBjb25zdCBpbnB1dENsYW1wID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRDbGFtcDtcblxuICAgICAgICBpbnB1dFNpemVbMF0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLndpZHRoO1xuICAgICAgICBpbnB1dFNpemVbMV0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcbiAgICAgICAgaW5wdXRTaXplWzJdID0gMS4wIC8gaW5wdXRTaXplWzBdO1xuICAgICAgICBpbnB1dFNpemVbM10gPSAxLjAgLyBpbnB1dFNpemVbMV07XG5cbiAgICAgICAgaW5wdXRQaXhlbFswXSA9IGlucHV0U2l6ZVswXSAqIHN0YXRlLnJlc29sdXRpb247XG4gICAgICAgIGlucHV0UGl4ZWxbMV0gPSBpbnB1dFNpemVbMV0gKiBzdGF0ZS5yZXNvbHV0aW9uO1xuICAgICAgICBpbnB1dFBpeGVsWzJdID0gMS4wIC8gaW5wdXRQaXhlbFswXTtcbiAgICAgICAgaW5wdXRQaXhlbFszXSA9IDEuMCAvIGlucHV0UGl4ZWxbMV07XG5cbiAgICAgICAgaW5wdXRDbGFtcFswXSA9IDAuNSAqIGlucHV0UGl4ZWxbMl07XG4gICAgICAgIGlucHV0Q2xhbXBbMV0gPSAwLjUgKiBpbnB1dFBpeGVsWzNdO1xuICAgICAgICBpbnB1dENsYW1wWzJdID0gKHN0YXRlLnNvdXJjZUZyYW1lLndpZHRoICogaW5wdXRTaXplWzJdKSAtICgwLjUgKiBpbnB1dFBpeGVsWzJdKTtcbiAgICAgICAgaW5wdXRDbGFtcFszXSA9IChzdGF0ZS5zb3VyY2VGcmFtZS5oZWlnaHQgKiBpbnB1dFNpemVbM10pIC0gKDAuNSAqIGlucHV0UGl4ZWxbM10pO1xuXG4gICAgICAgIC8vIG9ubHkgdXBkYXRlIHRoZSByZWN0IGlmIGl0cyBsZWdhY3kuLlxuICAgICAgICBpZiAoc3RhdGUubGVnYWN5KVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJBcmVhID0gZ2xvYmFsVW5pZm9ybXMuZmlsdGVyQXJlYTtcblxuICAgICAgICAgICAgZmlsdGVyQXJlYVswXSA9IHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzFdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzJdID0gc3RhdGUuc291cmNlRnJhbWUueDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbM10gPSBzdGF0ZS5zb3VyY2VGcmFtZS55O1xuXG4gICAgICAgICAgICBnbG9iYWxVbmlmb3Jtcy5maWx0ZXJDbGFtcCA9IGdsb2JhbFVuaWZvcm1zLmlucHV0Q2xhbXA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdsb2JhbFVuaWZvcm1zLnVwZGF0ZSgpO1xuXG4gICAgICAgIGNvbnN0IGxhc3RTdGF0ZSA9IGZpbHRlclN0YWNrW2ZpbHRlclN0YWNrLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGlmIChmaWx0ZXJzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgZmlsdGVyc1swXS5hcHBseSh0aGlzLCBzdGF0ZS5yZW5kZXJUZXh0dXJlLCBsYXN0U3RhdGUucmVuZGVyVGV4dHVyZSwgZmFsc2UsIHN0YXRlKTtcblxuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKHN0YXRlLnJlbmRlclRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGZsaXAgPSBzdGF0ZS5yZW5kZXJUZXh0dXJlO1xuICAgICAgICAgICAgbGV0IGZsb3AgPSB0aGlzLmdldE9wdGltYWxGaWx0ZXJUZXh0dXJlKFxuICAgICAgICAgICAgICAgIGZsaXAud2lkdGgsXG4gICAgICAgICAgICAgICAgZmxpcC5oZWlnaHQsXG4gICAgICAgICAgICAgICAgc3RhdGUucmVzb2x1dGlvblxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZmxvcC5maWx0ZXJGcmFtZSA9IGZsaXAuZmlsdGVyRnJhbWU7XG5cbiAgICAgICAgICAgIGxldCBpID0gMDtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoIC0gMTsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbHRlcnNbaV0uYXBwbHkodGhpcywgZmxpcCwgZmxvcCwgdHJ1ZSwgc3RhdGUpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IGZsaXA7XG5cbiAgICAgICAgICAgICAgICBmbGlwID0gZmxvcDtcbiAgICAgICAgICAgICAgICBmbG9wID0gdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZmlsdGVyc1tpXS5hcHBseSh0aGlzLCBmbGlwLCBsYXN0U3RhdGUucmVuZGVyVGV4dHVyZSwgZmFsc2UsIHN0YXRlKTtcblxuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKGZsaXApO1xuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKGZsb3ApO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZVBvb2wucHVzaChzdGF0ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyfSBmaWx0ZXIgLSBUaGUgZmlsdGVyIHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IGlucHV0IC0gVGhlIGlucHV0IHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IG91dHB1dCAtIFRoZSB0YXJnZXQgdG8gb3V0cHV0IHRvLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXIgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmcgdG8gaXRcbiAgICAgKi9cbiAgICBhcHBseUZpbHRlcihmaWx0ZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKVxuICAgIHtcbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChvdXRwdXQsIG91dHB1dCA/IG91dHB1dC5maWx0ZXJGcmFtZSA6IG51bGwpO1xuXG4gICAgICAgIGlmIChjbGVhcilcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZ2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5jbGVhcigpO1xuICAgICAgICAgICAgLy8gZ2wuZW5hYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgdGhlIHVuaWZvcm1zLi5cbiAgICAgICAgZmlsdGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gaW5wdXQ7XG4gICAgICAgIGZpbHRlci51bmlmb3Jtcy5maWx0ZXJHbG9iYWxzID0gdGhpcy5nbG9iYWxVbmlmb3JtcztcblxuICAgICAgICAvLyBUT0RPIG1ha2UgaXQgc28gdGhhdCB0aGUgb3JkZXIgb2YgdGhpcyBkb2VzIG5vdCBtYXR0ZXIuLlxuICAgICAgICAvLyBiZWNhdXNlIGl0IGRvZXMgYXQgdGhlIG1vbWVudCBjb3Mgb2YgZ2xvYmFsIHVuaWZvcm1zLlxuICAgICAgICAvLyB0aGV5IG5lZWQgdG8gZ2V0IHJlc3luY2VkXG5cbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0U3RhdGUoZmlsdGVyLnN0YXRlKTtcbiAgICAgICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQoZmlsdGVyKTtcblxuICAgICAgICBpZiAoZmlsdGVyLmxlZ2FjeSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5xdWFkVXYubWFwKGlucHV0Ll9mcmFtZSwgaW5wdXQuZmlsdGVyRnJhbWUpO1xuXG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMucXVhZFV2KTtcbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcoRFJBV19NT0RFUy5UUklBTkdMRVMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZCh0aGlzLnF1YWQpO1xuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyhEUkFXX01PREVTLlRSSUFOR0xFX1NUUklQKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IF9pbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGVzXyB0byB0aGlzIG1hdHJpeCB0byBnZXQgX3Nwcml0ZSB0ZXh0dXJlIG5vcm1hbGl6ZWQgY29vcmRpbmF0ZXNfLlxuICAgICAqXG4gICAgICogVXNlIGBvdXRwdXRNYXRyaXggKiB2VGV4dHVyZUNvb3JkYCBpbiB0aGUgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gb3V0cHV0TWF0cml4IC0gVGhlIG1hdHJpeCB0byBvdXRwdXQgdG8uXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZX0gc3ByaXRlIC0gVGhlIHNwcml0ZSB0byBtYXAgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAqL1xuICAgIGNhbGN1bGF0ZVNwcml0ZU1hdHJpeChvdXRwdXRNYXRyaXgsIHNwcml0ZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUgfSA9IHRoaXMuYWN0aXZlU3RhdGU7XG4gICAgICAgIGNvbnN0IHsgb3JpZyB9ID0gc3ByaXRlLl90ZXh0dXJlO1xuICAgICAgICBjb25zdCBtYXBwZWRNYXRyaXggPSBvdXRwdXRNYXRyaXguc2V0KGRlc3RpbmF0aW9uRnJhbWUud2lkdGgsIDAsIDAsXG4gICAgICAgICAgICBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCwgc291cmNlRnJhbWUueCwgc291cmNlRnJhbWUueSk7XG4gICAgICAgIGNvbnN0IHdvcmxkVHJhbnNmb3JtID0gc3ByaXRlLndvcmxkVHJhbnNmb3JtLmNvcHlUbyhNYXRyaXguVEVNUF9NQVRSSVgpO1xuXG4gICAgICAgIHdvcmxkVHJhbnNmb3JtLmludmVydCgpO1xuICAgICAgICBtYXBwZWRNYXRyaXgucHJlcGVuZCh3b3JsZFRyYW5zZm9ybSk7XG4gICAgICAgIG1hcHBlZE1hdHJpeC5zY2FsZSgxLjAgLyBvcmlnLndpZHRoLCAxLjAgLyBvcmlnLmhlaWdodCk7XG4gICAgICAgIG1hcHBlZE1hdHJpeC50cmFuc2xhdGUoc3ByaXRlLmFuY2hvci54LCBzcHJpdGUuYW5jaG9yLnkpO1xuXG4gICAgICAgIHJldHVybiBtYXBwZWRNYXRyaXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBGaWx0ZXIgU3lzdGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIGNvbnRleHQgd2FzIGxvc3QsIGRvIG5vdCBmcmVlIHNoYWRlcnNcbiAgICAgKlxuICAgICAqL1xuICAgIGRlc3Ryb3koY29udGV4dExvc3QgPSBmYWxzZSlcbiAgICB7XG4gICAgICAgIGlmICghY29udGV4dExvc3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZW1wdHlQb29sKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRleHR1cmVQb29sID0ge307XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgUG93ZXItb2YtVHdvIHJlbmRlciB0ZXh0dXJlIG9yIGZ1bGxTY3JlZW4gdGV4dHVyZVxuICAgICAqXG4gICAgICogVE9ETyBtb3ZlIHRvIGEgc2VwYXJhdGUgY2xhc3MgY291bGQgYmUgb24gcmVuZGVyZXI/XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pbldpZHRoIC0gVGhlIG1pbmltdW0gd2lkdGggb2YgdGhlIHJlbmRlciB0ZXh0dXJlIGluIHJlYWwgcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5IZWlnaHQgLSBUaGUgbWluaW11bSBoZWlnaHQgb2YgdGhlIHJlbmRlciB0ZXh0dXJlIGluIHJlYWwgcGl4ZWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXIgdGV4dHVyZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlclRleHR1cmV9IFRoZSBuZXcgcmVuZGVyIHRleHR1cmUuXG4gICAgICovXG4gICAgZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUobWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbiA9IDEpXG4gICAge1xuICAgICAgICBsZXQga2V5ID0gc2NyZWVuS2V5O1xuXG4gICAgICAgIG1pbldpZHRoICo9IHJlc29sdXRpb247XG4gICAgICAgIG1pbkhlaWdodCAqPSByZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChtaW5XaWR0aCAhPT0gdGhpcy5fcGl4ZWxzV2lkdGggfHwgbWluSGVpZ2h0ICE9PSB0aGlzLl9waXhlbHNIZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1pbldpZHRoID0gbmV4dFBvdzIobWluV2lkdGgpO1xuICAgICAgICAgICAgbWluSGVpZ2h0ID0gbmV4dFBvdzIobWluSGVpZ2h0KTtcbiAgICAgICAgICAgIGtleSA9ICgobWluV2lkdGggJiAweEZGRkYpIDw8IDE2KSB8IChtaW5IZWlnaHQgJiAweEZGRkYpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnRleHR1cmVQb29sW2tleV0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZVBvb2xba2V5XSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlbmRlclRleHR1cmUgPSB0aGlzLnRleHR1cmVQb29sW2tleV0ucG9wKCk7XG5cbiAgICAgICAgaWYgKCFyZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB0ZW1wb3JhcnkgYnlwYXNzIGNhY2hlLi5cbiAgICAgICAgICAgIC8vIGludGVybmFsbHkgLSB0aGlzIHdpbGwgY2F1c2UgYSB0ZXh0dXJlIHRvIGJlIGJvdW5kLi5cbiAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSBSZW5kZXJUZXh0dXJlLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgd2lkdGg6IG1pbldpZHRoIC8gcmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IG1pbkhlaWdodCAvIHJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyVGV4dHVyZS5maWx0ZXJQb29sS2V5ID0ga2V5O1xuICAgICAgICByZW5kZXJUZXh0dXJlLnNldFJlc29sdXRpb24ocmVzb2x1dGlvbik7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlclRleHR1cmU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBleHRyYSByZW5kZXIgdGV4dHVyZSB0byB1c2UgaW5zaWRlIGN1cnJlbnQgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJUZXh0dXJlXG4gICAgICogQHJldHVybnMge1BJWEkuUmVuZGVyVGV4dHVyZX1cbiAgICAgKi9cbiAgICBnZXRGaWx0ZXJUZXh0dXJlKHJlc29sdXRpb24pXG4gICAge1xuICAgICAgICBjb25zdCBydCA9IHRoaXMuYWN0aXZlU3RhdGUucmVuZGVyVGV4dHVyZTtcblxuICAgICAgICBjb25zdCBmaWx0ZXJUZXh0dXJlID0gdGhpcy5nZXRPcHRpbWFsRmlsdGVyVGV4dHVyZShydC53aWR0aCwgcnQuaGVpZ2h0LCByZXNvbHV0aW9uIHx8IHJ0LmJhc2VUZXh0dXJlLnJlc29sdXRpb24pO1xuXG4gICAgICAgIGZpbHRlclRleHR1cmUuZmlsdGVyRnJhbWUgPSBydC5maWx0ZXJGcmFtZTtcblxuICAgICAgICByZXR1cm4gZmlsdGVyVGV4dHVyZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGcmVlcyBhIHJlbmRlciB0ZXh0dXJlIGJhY2sgaW50byB0aGUgcG9vbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlclRhcmdldCB0byBmcmVlXG4gICAgICovXG4gICAgcmV0dXJuRmlsdGVyVGV4dHVyZShyZW5kZXJUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgY29uc3Qga2V5ID0gcmVuZGVyVGV4dHVyZS5maWx0ZXJQb29sS2V5O1xuXG4gICAgICAgIHJlbmRlclRleHR1cmUuZmlsdGVyRnJhbWUgPSBudWxsO1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sW2tleV0ucHVzaChyZW5kZXJUZXh0dXJlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbXB0aWVzIHRoZSB0ZXh0dXJlIHBvb2wuXG4gICAgICpcbiAgICAgKi9cbiAgICBlbXB0eVBvb2woKVxuICAgIHtcbiAgICAgICAgZm9yIChjb25zdCBpIGluIHRoaXMudGV4dHVyZVBvb2wpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHR1cmVzID0gdGhpcy50ZXh0dXJlUG9vbFtpXTtcblxuICAgICAgICAgICAgaWYgKHRleHR1cmVzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGV4dHVyZXMubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlc1tqXS5kZXN0cm95KHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGV4dHVyZVBvb2wgPSB7fTtcbiAgICB9XG5cbiAgICByZXNpemUoKVxuICAgIHtcbiAgICAgICAgY29uc3QgdGV4dHVyZXMgPSB0aGlzLnRleHR1cmVQb29sW3NjcmVlbktleV07XG5cbiAgICAgICAgaWYgKHRleHR1cmVzKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRleHR1cmVzLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRleHR1cmVzW2pdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbFtzY3JlZW5LZXldID0gW107XG5cbiAgICAgICAgdGhpcy5fcGl4ZWxzV2lkdGggPSB0aGlzLnJlbmRlcmVyLnZpZXcud2lkdGg7XG4gICAgICAgIHRoaXMuX3BpeGVsc0hlaWdodCA9IHRoaXMucmVuZGVyZXIudmlldy5oZWlnaHQ7XG4gICAgfVxufVxuIiwiaW1wb3J0IFN5c3RlbSBmcm9tICcuLi9TeXN0ZW0nO1xuXG4vKipcbiAqIEJhc2UgZm9yIGEgY29tbW9uIG9iamVjdCByZW5kZXJlciB0aGF0IGNhbiBiZSB1c2VkIGFzIGEgc3lzdGVtIHJlbmRlcmVyIHBsdWdpbi5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPYmplY3RSZW5kZXJlciBleHRlbmRzIFN5c3RlbVxue1xuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0aGUgcmVuZGVyZXIgYW5kIHNldHMgdGhlIHNoYWRlclxuICAgICAqXG4gICAgICovXG4gICAgc3RhcnQoKVxuICAgIHtcbiAgICAgICAgLy8gc2V0IHRoZSBzaGFkZXIuLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSByZW5kZXJlclxuICAgICAqXG4gICAgICovXG4gICAgc3RvcCgpXG4gICAge1xuICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3R1YiBtZXRob2QgZm9yIHJlbmRlcmluZyBjb250ZW50IGFuZCBlbXB0eWluZyB0aGUgY3VycmVudCBiYXRjaC5cbiAgICAgKlxuICAgICAqL1xuICAgIGZsdXNoKClcbiAgICB7XG4gICAgICAgIC8vIGZsdXNoIVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgYW4gb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gb2JqZWN0IC0gVGhlIG9iamVjdCB0byByZW5kZXIuXG4gICAgICovXG4gICAgcmVuZGVyKG9iamVjdCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHtcbiAgICAgICAgLy8gcmVuZGVyIHRoZSBvYmplY3RcbiAgICB9XG59XG4iLCJpbXBvcnQgU3lzdGVtIGZyb20gJy4uL1N5c3RlbSc7XG5pbXBvcnQgT2JqZWN0UmVuZGVyZXIgZnJvbSAnLi9PYmplY3RSZW5kZXJlcic7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIGJhdGNoaW5nLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmF0Y2hTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW1cbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gZW1wdHkgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JqZWN0UmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVtcHR5UmVuZGVyZXIgPSBuZXcgT2JqZWN0UmVuZGVyZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBPYmplY3RSZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYmplY3RSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyID0gdGhpcy5lbXB0eVJlbmRlcmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIGN1cnJlbnQgcmVuZGVyZXIgdG8gdGhlIG9uZSBnaXZlbiBpbiBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5PYmplY3RSZW5kZXJlcn0gb2JqZWN0UmVuZGVyZXIgLSBUaGUgb2JqZWN0IHJlbmRlcmVyIHRvIHVzZS5cbiAgICAgKi9cbiAgICBzZXRPYmplY3RSZW5kZXJlcihvYmplY3RSZW5kZXJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRSZW5kZXJlciA9PT0gb2JqZWN0UmVuZGVyZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyLnN0b3AoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIgPSBvYmplY3RSZW5kZXJlcjtcblxuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlci5zdGFydCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBpZiB5b3Ugd2lzaCB0byBkbyBzb21lIGN1c3RvbSByZW5kZXJpbmdcbiAgICAgKiBJdCB3aWxsIGJhc2ljYWxseSByZW5kZXIgYW55dGhpbmcgdGhhdCBtYXkgYmUgYmF0Y2hlZCB1cCBzdWNoIGFzIHNwcml0ZXNcbiAgICAgKi9cbiAgICBmbHVzaCgpXG4gICAge1xuICAgICAgICB0aGlzLnNldE9iamVjdFJlbmRlcmVyKHRoaXMuZW1wdHlSZW5kZXJlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIHN5c3RlbSB0byBhbiBlbXB0eSByZW5kZXJlclxuICAgICAqL1xuICAgIHJlc2V0KClcbiAgICB7XG4gICAgICAgIHRoaXMuc2V0T2JqZWN0UmVuZGVyZXIodGhpcy5lbXB0eVJlbmRlcmVyKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgU3lzdGVtIGZyb20gJy4uL1N5c3RlbSc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJy4uL3NldHRpbmdzJztcbmltcG9ydCB7IEVOViB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbmxldCBDT05URVhUX1VJRCA9IDA7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRoZSBjb250ZXh0LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udGV4dFN5c3RlbSBleHRlbmRzIFN5c3RlbVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFaXRoZXIgMSBvciAyIHRvIHJlZmxlY3QgdGhlIFdlYkdMIHZlcnNpb24gYmVpbmcgdXNlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeHRlbnNpb25zIGJlaW5nIHVzZWRcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQHByb3BlcnR5IHtXRUJHTF9kcmF3X2J1ZmZlcnN9IGRyYXdCdWZmZXJzIC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7V0VCR0xfZGVwdGhfdGV4dHVyZX0gZGVwdGhUZXh0dXJlIC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7T0VTX3RleHR1cmVfZmxvYXR9IGZsb2F0VGV4dHVyZSAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKiBAcHJvcGVydHkge1dFQkdMX2xvc2VfY29udGV4dH0gbG9zZUNvbnRleHQgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtPRVNfdmVydGV4X2FycmF5X29iamVjdH0gdmVydGV4QXJyYXlPYmplY3QgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXh0ZW5zaW9ucyA9IHt9O1xuXG4gICAgICAgIC8vIEJpbmQgZnVuY3Rpb25zXG4gICAgICAgIHRoaXMuaGFuZGxlQ29udGV4dExvc3QgPSB0aGlzLmhhbmRsZUNvbnRleHRMb3N0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkID0gdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQuYmluZCh0aGlzKTtcblxuICAgICAgICByZW5kZXJlci52aWV3LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLmhhbmRsZUNvbnRleHRMb3N0LCBmYWxzZSk7XG4gICAgICAgIHJlbmRlcmVyLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0cmVzdG9yZWQnLCB0aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZCwgZmFsc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGB0cnVlYCBpZiB0aGUgY29udGV4dCBpcyBsb3N0XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgaXNMb3N0KClcbiAgICB7XG4gICAgICAgIHJldHVybiAoIXRoaXMuZ2wgfHwgdGhpcy5nbC5pc0NvbnRleHRMb3N0KCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aGUgY29udGV4dCBjaGFuZ2UgZXZlbnRcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgbmV3IHdlYmdsIGNvbnRleHRcbiAgICAgKi9cbiAgICBjb250ZXh0Q2hhbmdlKGdsKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgICAgIC8vIHJlc3RvcmUgYSBjb250ZXh0IGlmIGl0IHdhcyBwcmV2aW91c2x5IGxvc3RcbiAgICAgICAgaWYgKGdsLmlzQ29udGV4dExvc3QoKSAmJiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpLnJlc3RvcmVDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gV2ViR0wgY29udGV4dFxuICAgICAqL1xuICAgIGluaXRGcm9tQ29udGV4dChnbClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy52YWxpZGF0ZUNvbnRleHQoZ2wpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmdsID0gZ2w7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQgPSBDT05URVhUX1VJRCsrO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnJ1bm5lcnMuY29udGV4dENoYW5nZS5ydW4oZ2wpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgZnJvbSBjb250ZXh0IG9wdGlvbnNcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MQ2FudmFzRWxlbWVudC9nZXRDb250ZXh0XG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBjb250ZXh0IGF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICBpbml0RnJvbU9wdGlvbnMob3B0aW9ucylcbiAgICB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5jcmVhdGVDb250ZXh0KHRoaXMucmVuZGVyZXIudmlldywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5pbml0RnJvbUNvbnRleHQoZ2wpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBXZWJHTCBDb250ZXh0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2FudmFzIHtIVE1MQ2FudmFzRWxlbWVudH0gdGhlIGNhbnZhcyBlbGVtZW50IHRoYXQgd2Ugd2lsbCBnZXQgdGhlIGNvbnRleHQgZnJvbVxuICAgICAqIEBwYXJhbSBvcHRpb25zIHtvYmplY3R9IEFuIG9wdGlvbnMgb2JqZWN0IHRoYXQgZ2V0cyBwYXNzZWQgaW4gdG8gdGhlIGNhbnZhcyBlbGVtZW50IGNvbnRhaW5pbmcgdGhlIGNvbnRleHQgYXR0cmlidXRlc1xuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvQVBJL0hUTUxDYW52YXNFbGVtZW50L2dldENvbnRleHRcbiAgICAgKiBAcmV0dXJuIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IHRoZSBXZWJHTCBjb250ZXh0XG4gICAgICovXG4gICAgY3JlYXRlQ29udGV4dChjYW52YXMsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBsZXQgZ2w7XG5cbiAgICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPj0gRU5WLldFQkdMMilcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wyJywgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2wpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMud2ViR0xWZXJzaW9uID0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMud2ViR0xWZXJzaW9uID0gMTtcblxuICAgICAgICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBvcHRpb25zKVxuICAgICAgICAgICAgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICBpZiAoIWdsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGZhaWwsIG5vdCBhYmxlIHRvIGdldCBhIGNvbnRleHRcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IFdlYkdMLiBUcnkgdXNpbmcgdGhlIGNhbnZhcyByZW5kZXJlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgICAgIHRoaXMuZ2V0RXh0ZW5zaW9ucygpO1xuXG4gICAgICAgIHJldHVybiBnbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdXRvLXBvcHVsYXRlIHRoZSBleHRlbnNpb25zXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgZ2V0RXh0ZW5zaW9ucygpXG4gICAge1xuICAgICAgICAvLyB0aW1lIHRvIHNldCB1cCBkZWZhdWx0IGV4dGVuc2lvbnMgdGhhdCBQaXhpIHVzZXMuXG4gICAgICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMud2ViR0xWZXJzaW9uID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuZXh0ZW5zaW9ucywge1xuICAgICAgICAgICAgICAgIGRyYXdCdWZmZXJzOiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2RyYXdfYnVmZmVycycpLFxuICAgICAgICAgICAgICAgIGRlcHRoVGV4dHVyZTogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJLSVRfV0VCR0xfZGVwdGhfdGV4dHVyZScpLFxuICAgICAgICAgICAgICAgIGZsb2F0VGV4dHVyZTogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdGV4dHVyZV9mbG9hdCcpLFxuICAgICAgICAgICAgICAgIGxvc2VDb250ZXh0OiBnbC5nZXRFeHRlbnNpb24oJ1dFQkdMX2xvc2VfY29udGV4dCcpLFxuICAgICAgICAgICAgICAgIHZlcnRleEFycmF5T2JqZWN0OiBnbC5nZXRFeHRlbnNpb24oJ09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JylcbiAgICAgICAgICAgICAgICAgICAgfHwgZ2wuZ2V0RXh0ZW5zaW9uKCdNT1pfT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKVxuICAgICAgICAgICAgICAgICAgICB8fCBnbC5nZXRFeHRlbnNpb24oJ1dFQktJVF9PRVNfdmVydGV4X2FycmF5X29iamVjdCcpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3ZSBkb24ndCB1c2UgYW55IHNwZWNpZmljIFdlYkdMIDIgb25lcyB5ZXQhXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIGxvc3Qgd2ViZ2wgY29udGV4dFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7V2ViR0xDb250ZXh0RXZlbnR9IGV2ZW50IC0gVGhlIGNvbnRleHQgbG9zdCBldmVudC5cbiAgICAgKi9cbiAgICBoYW5kbGVDb250ZXh0TG9zdChldmVudClcbiAgICB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIHJlc3RvcmVkIHdlYmdsIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBoYW5kbGVDb250ZXh0UmVzdG9yZWQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5ydW5uZXJzLmNvbnRleHRDaGFuZ2UucnVuKHRoaXMuZ2wpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgY29uc3QgdmlldyA9IHRoaXMucmVuZGVyZXIudmlldztcblxuICAgICAgICAvLyByZW1vdmUgbGlzdGVuZXJzXG4gICAgICAgIHZpZXcucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsIHRoaXMuaGFuZGxlQ29udGV4dExvc3QpO1xuICAgICAgICB2aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dHJlc3RvcmVkJywgdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQpO1xuXG4gICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbShudWxsKTtcblxuICAgICAgICBpZiAodGhpcy5leHRlbnNpb25zLmxvc2VDb250ZXh0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmV4dGVuc2lvbnMubG9zZUNvbnRleHQubG9zZUNvbnRleHQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aGUgcG9zdC1yZW5kZXIgcnVubmVyIGV2ZW50XG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcG9zdHJlbmRlcigpXG4gICAge1xuICAgICAgICB0aGlzLmdsLmZsdXNoKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgY29udGV4dFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFJlbmRlciBjb250ZXh0XG4gICAgICovXG4gICAgdmFsaWRhdGVDb250ZXh0KGdsKVxuICAgIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IGdsLmdldENvbnRleHRBdHRyaWJ1dGVzKCk7XG5cbiAgICAgICAgLy8gdGhpcyBpcyBnb2luZyB0byBiZSBmYWlybHkgc2ltcGxlIGZvciBub3cuLiBidXQgYXQgbGVhc3Qgd2UgaGF2ZSByb29tIHRvIGdyb3chXG4gICAgICAgIGlmICghYXR0cmlidXRlcy5zdGVuY2lsKVxuICAgICAgICB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5cbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUHJvdmlkZWQgV2ViR0wgY29udGV4dCBkb2VzIG5vdCBoYXZlIGEgc3RlbmNpbCBidWZmZXIsIG1hc2tzIG1heSBub3QgcmVuZGVyIGNvcnJlY3RseScpO1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG5cbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IFN5c3RlbSBmcm9tICcuLi9TeXN0ZW0nO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBFTlYgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICcuLi9zZXR0aW5ncyc7XG5pbXBvcnQgRnJhbWVidWZmZXIgZnJvbSAnLi9GcmFtZWJ1ZmZlcic7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIGZyYW1lYnVmZmVycy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZyYW1lYnVmZmVyU3lzdGVtIGV4dGVuZHMgU3lzdGVtXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiBtYW5hZ2VkIGZyYW1lYnVmZmVyc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZyYW1lYnVmZmVyW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYW5hZ2VkRnJhbWVidWZmZXJzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZyYW1lYnVmZmVyIHZhbHVlIHRoYXQgc2hvd3MgdGhhdCB3ZSBkb24ndCBrbm93IHdoYXQgaXMgYm91bmRcbiAgICAgICAgICogQG1lbWJlciB7RnJhbWVidWZmZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51bmtub3duRnJhbWVidWZmZXIgPSBuZXcgRnJhbWVidWZmZXIoMTAsIDEwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKi9cbiAgICBjb250ZXh0Q2hhbmdlKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMudW5rbm93bkZyYW1lYnVmZmVyO1xuICAgICAgICB0aGlzLnZpZXdwb3J0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICB0aGlzLmhhc01SVCA9IHRydWU7XG4gICAgICAgIHRoaXMud3JpdGVEZXB0aFRleHR1cmUgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuZGlzcG9zZUFsbCh0cnVlKTtcblxuICAgICAgICAvLyB3ZWJnbDJcbiAgICAgICAgaWYgKHRoaXMucmVuZGVyZXIuY29udGV4dC53ZWJHTFZlcnNpb24gPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHdlYmdsIDEhXG4gICAgICAgICAgICBsZXQgbmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb24gPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQuZXh0ZW5zaW9ucy5kcmF3QnVmZmVycztcbiAgICAgICAgICAgIGxldCBuYXRpdmVEZXB0aFRleHR1cmVFeHRlbnNpb24gPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQuZXh0ZW5zaW9ucy5kZXB0aFRleHR1cmU7XG5cbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID09PSBFTlYuV0VCR0xfTEVHQUNZKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICBuYXRpdmVEZXB0aFRleHR1cmVFeHRlbnNpb24gPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobmF0aXZlRHJhd0J1ZmZlcnNFeHRlbnNpb24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2wuZHJhd0J1ZmZlcnMgPSAoYWN0aXZlVGV4dHVyZXMpID0+XG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZURyYXdCdWZmZXJzRXh0ZW5zaW9uLmRyYXdCdWZmZXJzV0VCR0woYWN0aXZlVGV4dHVyZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzTVJUID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZ2wuZHJhd0J1ZmZlcnMgPSAoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIW5hdGl2ZURlcHRoVGV4dHVyZUV4dGVuc2lvbilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLndyaXRlRGVwdGhUZXh0dXJlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCaW5kIGEgZnJhbWVidWZmZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbZnJhbWVdIGZyYW1lLCBkZWZhdWx0IGlzIGZyYW1lYnVmZmVyIHNpemVcbiAgICAgKi9cbiAgICBiaW5kKGZyYW1lYnVmZmVyLCBmcmFtZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKGZyYW1lYnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBUT0RPIGNhY2hpbmcgbGF5ZXIhXG5cbiAgICAgICAgICAgIGNvbnN0IGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdIHx8IHRoaXMuaW5pdEZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudCAhPT0gZnJhbWVidWZmZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gZnJhbWVidWZmZXI7XG4gICAgICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmYm8uZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGFsbCB0ZXh0dXJlcyBhcmUgdW5ib3VuZC4uXG5cbiAgICAgICAgICAgIC8vIG5vdyBjaGVjayBmb3IgdXBkYXRlcy4uLlxuICAgICAgICAgICAgaWYgKGZiby5kaXJ0eUlkICE9PSBmcmFtZWJ1ZmZlci5kaXJ0eUlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZiby5kaXJ0eUlkID0gZnJhbWVidWZmZXIuZGlydHlJZDtcblxuICAgICAgICAgICAgICAgIGlmIChmYm8uZGlydHlGb3JtYXQgIT09IGZyYW1lYnVmZmVyLmRpcnR5Rm9ybWF0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZmJvLmRpcnR5Rm9ybWF0ID0gZnJhbWVidWZmZXIuZGlydHlGb3JtYXQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRnJhbWVidWZmZXIoZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChmYm8uZGlydHlTaXplICE9PSBmcmFtZWJ1ZmZlci5kaXJ0eVNpemUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmYm8uZGlydHlTaXplID0gZnJhbWVidWZmZXIuZGlydHlTaXplO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlc1tpXS50ZXh0dXJlUGFydClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS51bmJpbmQoZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlc1tpXS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLnVuYmluZChmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLnVuYmluZChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZnJhbWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaWV3cG9ydChmcmFtZS54LCBmcmFtZS55LCBmcmFtZS53aWR0aCwgZnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdwb3J0KDAsIDAsIGZyYW1lYnVmZmVyLndpZHRoLCBmcmFtZWJ1ZmZlci5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmcmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdwb3J0KGZyYW1lLngsIGZyYW1lLnksIGZyYW1lLndpZHRoLCBmcmFtZS5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoMCwgMCwgdGhpcy5yZW5kZXJlci53aWR0aCwgdGhpcy5yZW5kZXJlci5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBXZWJHTFJlbmRlcmluZ0NvbnRleHQncyB2aWV3cG9ydC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IC0gWCBwb3NpdGlvbiBvZiB2aWV3cG9ydFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5IC0gWSBwb3NpdGlvbiBvZiB2aWV3cG9ydFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aCAtIFdpZHRoIG9mIHZpZXdwb3J0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGhlaWdodCAtIEhlaWdodCBvZiB2aWV3cG9ydFxuICAgICAqL1xuICAgIHNldFZpZXdwb3J0KHgsIHksIHdpZHRoLCBoZWlnaHQpXG4gICAge1xuICAgICAgICBjb25zdCB2ID0gdGhpcy52aWV3cG9ydDtcblxuICAgICAgICBpZiAodi53aWR0aCAhPT0gd2lkdGggfHwgdi5oZWlnaHQgIT09IGhlaWdodCB8fCB2LnggIT09IHggfHwgdi55ICE9PSB5KVxuICAgICAgICB7XG4gICAgICAgICAgICB2LnggPSB4O1xuICAgICAgICAgICAgdi55ID0geTtcbiAgICAgICAgICAgIHYud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIHYuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgICAgICB0aGlzLmdsLnZpZXdwb3J0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBzaXplIG9mIHRoZSBjdXJyZW50IHdpZHRoIGFuZCBoZWlnaHQuIFJldHVybnMgb2JqZWN0IHdpdGggYHdpZHRoYCBhbmQgYGhlaWdodGAgdmFsdWVzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCBzaXplKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE8gc3RvcmUgdGVtcFxuICAgICAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCwgd2lkdGg6IHRoaXMuY3VycmVudC53aWR0aCwgaGVpZ2h0OiB0aGlzLmN1cnJlbnQuaGVpZ2h0IH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyB4OiAwLCB5OiAwLCB3aWR0aDogdGhpcy5yZW5kZXJlci53aWR0aCwgaGVpZ2h0OiB0aGlzLnJlbmRlcmVyLmhlaWdodCB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSBjb2xvciBvZiB0aGUgY29udGV4dFxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHIgLSBSZWQgdmFsdWUgZnJvbSAwIHRvIDFcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZyAtIEdyZWVuIHZhbHVlIGZyb20gMCB0byAxXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGIgLSBCbHVlIHZhbHVlIGZyb20gMCB0byAxXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGEgLSBBbHBoYSB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAqL1xuICAgIGNsZWFyKHIsIGcsIGIsIGEpXG4gICAge1xuICAgICAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuXG4gICAgICAgIC8vIFRPRE8gY2xlYXIgY29sb3IgY2FuIGJlIHNldCBvbmx5IG9uZSByaWdodD9cbiAgICAgICAgZ2wuY2xlYXJDb2xvcihyLCBnLCBiLCBhKTtcbiAgICAgICAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCB8IGdsLkRFUFRIX0JVRkZFUl9CSVQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgZnJhbWVidWZmZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyXG4gICAgICovXG4gICAgaW5pdEZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyBnbCB9ID0gdGhpcztcblxuICAgICAgICAvLyBUT0RPIC0gbWFrZSB0aGlzIGEgY2xhc3M/XG4gICAgICAgIGNvbnN0IGZibyA9IHtcbiAgICAgICAgICAgIGZyYW1lYnVmZmVyOiBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpLFxuICAgICAgICAgICAgc3RlbmNpbDogbnVsbCxcbiAgICAgICAgICAgIGRpcnR5SWQ6IDAsXG4gICAgICAgICAgICBkaXJ0eUZvcm1hdDogMCxcbiAgICAgICAgICAgIGRpcnR5U2l6ZTogMCxcbiAgICAgICAgfTtcblxuICAgICAgICBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXSA9IGZibztcblxuICAgICAgICB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMucHVzaChmcmFtZWJ1ZmZlcik7XG4gICAgICAgIGZyYW1lYnVmZmVyLmRpc3Bvc2VSdW5uZXIuYWRkKHRoaXMpO1xuXG4gICAgICAgIHJldHVybiBmYm87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzaXplIHRoZSBmcmFtZWJ1ZmZlclxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcbiAgICAgKi9cbiAgICByZXNpemVGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlcilcbiAgICB7XG4gICAgICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXM7XG5cbiAgICAgICAgY29uc3QgZmJvID0gZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgaWYgKGZiby5zdGVuY2lsKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgZmJvLnN0ZW5jaWwpO1xuICAgICAgICAgICAgZ2wucmVuZGVyYnVmZmVyU3RvcmFnZShnbC5SRU5ERVJCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUwsIGZyYW1lYnVmZmVyLndpZHRoLCBmcmFtZWJ1ZmZlci5oZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY29sb3JUZXh0dXJlcyA9IGZyYW1lYnVmZmVyLmNvbG9yVGV4dHVyZXM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2xvclRleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZChjb2xvclRleHR1cmVzW2ldLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS5iaW5kKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGZyYW1lYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkZyYW1lYnVmZmVyfSBmcmFtZWJ1ZmZlclxuICAgICAqL1xuICAgIHVwZGF0ZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyBnbCB9ID0gdGhpcztcblxuICAgICAgICBjb25zdCBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICAvLyBiaW5kIHRoZSBjb2xvciB0ZXh0dXJlXG4gICAgICAgIGNvbnN0IGNvbG9yVGV4dHVyZXMgPSBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzO1xuXG4gICAgICAgIGxldCBjb3VudCA9IGNvbG9yVGV4dHVyZXMubGVuZ3RoO1xuXG4gICAgICAgIGlmICghZ2wuZHJhd0J1ZmZlcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvdW50ID0gTWF0aC5taW4oY291bnQsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYWN0aXZlVGV4dHVyZXMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHR1cmUgPSBmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzW2ldO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZS50ZXh0dXJlUGFydClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnRleHR1cmUuYmluZCh0ZXh0dXJlLnRleHR1cmUsIDApO1xuXG4gICAgICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsXG4gICAgICAgICAgICAgICAgICAgIGdsLkNPTE9SX0FUVEFDSE1FTlQwICsgaSxcbiAgICAgICAgICAgICAgICAgICAgZ2wuVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YICsgdGV4dHVyZS5zaWRlLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLnRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0udGV4dHVyZSxcbiAgICAgICAgICAgICAgICAgICAgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQodGV4dHVyZSwgMCk7XG5cbiAgICAgICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUixcbiAgICAgICAgICAgICAgICAgICAgZ2wuQ09MT1JfQVRUQUNITUVOVDAgKyBpLFxuICAgICAgICAgICAgICAgICAgICBnbC5URVhUVVJFXzJELFxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgICAgIDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhY3RpdmVUZXh0dXJlcy5wdXNoKGdsLkNPTE9SX0FUVEFDSE1FTlQwICsgaSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWN0aXZlVGV4dHVyZXMubGVuZ3RoID4gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuZHJhd0J1ZmZlcnMoYWN0aXZlVGV4dHVyZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgd3JpdGVEZXB0aFRleHR1cmUgPSB0aGlzLndyaXRlRGVwdGhUZXh0dXJlO1xuXG4gICAgICAgICAgICBpZiAod3JpdGVEZXB0aFRleHR1cmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVwdGhUZXh0dXJlID0gZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci50ZXh0dXJlLmJpbmQoZGVwdGhUZXh0dXJlLCAwKTtcblxuICAgICAgICAgICAgICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLFxuICAgICAgICAgICAgICAgICAgICBnbC5ERVBUSF9BVFRBQ0hNRU5ULFxuICAgICAgICAgICAgICAgICAgICBnbC5URVhUVVJFXzJELFxuICAgICAgICAgICAgICAgICAgICBkZXB0aFRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0udGV4dHVyZSxcbiAgICAgICAgICAgICAgICAgICAgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWZiby5zdGVuY2lsICYmIChmcmFtZWJ1ZmZlci5zdGVuY2lsIHx8IGZyYW1lYnVmZmVyLmRlcHRoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgZmJvLnN0ZW5jaWwgPSBnbC5jcmVhdGVSZW5kZXJidWZmZXIoKTtcblxuICAgICAgICAgICAgZ2wuYmluZFJlbmRlcmJ1ZmZlcihnbC5SRU5ERVJCVUZGRVIsIGZiby5zdGVuY2lsKTtcblxuICAgICAgICAgICAgLy8gVE9ETy4uIHRoaXMgaXMgZGVwdGggQU5EIHN0ZW5jaWw/XG4gICAgICAgICAgICBpZiAoIWZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZSlcbiAgICAgICAgICAgIHsgLy8geW91IGNhbid0IGhhdmUgYm90aCwgc28gb25lIHNob3VsZCB0YWtlIHByaW9yaXR5IGlmIGVuYWJsZWRcbiAgICAgICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5ULCBnbC5SRU5ERVJCVUZGRVIsIGZiby5zdGVuY2lsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMLCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgICAgICAgIC8vIGZiby5lbmFibGVTdGVuY2lsKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlcyBmcmFtZWJ1ZmZlclxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXIgZnJhbWVidWZmZXIgdGhhdCBoYXMgdG8gYmUgZGlzcG9zZWQgb2ZcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgYWxsIGRlbGV0ZSBmdW5jdGlvbiBjYWxsc1xuICAgICAqL1xuICAgIGRpc3Bvc2VGcmFtZWJ1ZmZlcihmcmFtZWJ1ZmZlciwgY29udGV4dExvc3QpXG4gICAge1xuICAgICAgICBjb25zdCBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuXG4gICAgICAgIGlmICghZmJvKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBkZWxldGUgZnJhbWVidWZmZXIuZ2xGcmFtZWJ1ZmZlcnNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMuaW5kZXhPZihmcmFtZWJ1ZmZlcik7XG5cbiAgICAgICAgaWYgKGluZGV4ID49IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnJhbWVidWZmZXIuZGlzcG9zZVJ1bm5lci5yZW1vdmUodGhpcyk7XG5cbiAgICAgICAgaWYgKCFjb250ZXh0TG9zdClcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wuZGVsZXRlRnJhbWVidWZmZXIoZmJvLmZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgIGlmIChmYm8uc3RlbmNpbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbC5kZWxldGVSZW5kZXJidWZmZXIoZmJvLnN0ZW5jaWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgYWxsIGZyYW1lYnVmZmVycywgYnV0IG5vdCB0ZXh0dXJlcyBib3VuZCB0byB0aGVtXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY29udGV4dExvc3Q9ZmFsc2VdIElmIGNvbnRleHQgd2FzIGxvc3QsIHdlIHN1cHByZXNzIGFsbCBkZWxldGUgZnVuY3Rpb24gY2FsbHNcbiAgICAgKi9cbiAgICBkaXNwb3NlQWxsKGNvbnRleHRMb3N0KVxuICAgIHtcbiAgICAgICAgY29uc3QgbGlzdCA9IHRoaXMubWFuYWdlZEZyYW1lYnVmZmVycztcblxuICAgICAgICB0aGlzLm1hbmFnZWRGcmFtZWJ1ZmZlcnMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QuY291bnQ7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlRnJhbWVidWZmZXIobGlzdFtpXSwgY29udGV4dExvc3QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmVzZXRzIGZyYW1lYnVmZmVyIHN0b3JlZCBzdGF0ZSwgYmluZHMgc2NyZWVuIGZyYW1lYnVmZmVyXG4gICAgICpcbiAgICAgKiBzaG91bGQgYmUgY2FsbGVkIGJlZm9yZSByZW5kZXJUZXh0dXJlIHJlc2V0KClcbiAgICAgKi9cbiAgICByZXNldCgpXG4gICAge1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLnVua25vd25GcmFtZWJ1ZmZlcjtcbiAgICAgICAgdGhpcy52aWV3cG9ydCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBHTEJ1ZmZlclxue1xuICAgIGNvbnN0cnVjdG9yKGJ1ZmZlcilcbiAgICB7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuICAgICAgICB0aGlzLnVwZGF0ZUlEID0gLTE7XG4gICAgICAgIHRoaXMuYnl0ZUxlbmd0aCA9IC0xO1xuICAgICAgICB0aGlzLnJlZkNvdW50ID0gMDtcbiAgICB9XG59XG4iLCJpbXBvcnQgU3lzdGVtIGZyb20gJy4uL1N5c3RlbSc7XG5pbXBvcnQgR0xCdWZmZXIgZnJvbSAnLi9HTEJ1ZmZlcic7XG5pbXBvcnQgeyBFTlYgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICcuLi9zZXR0aW5ncyc7XG5cbmNvbnN0IGJ5dGVTaXplTWFwID0geyA1MTI2OiA0LCA1MTIzOiAyLCA1MTIxOiAxIH07XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIGdlb21ldHJ5LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2VvbWV0cnlTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW1cbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICB0aGlzLl9hY3RpdmVHZW9tZXRyeSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVZhbyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiB3ZSBoYXMgYCpfdmVydGV4X2FycmF5X29iamVjdGAgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oYXNWYW8gPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdHJ1ZWAgaWYgaGFzIGBBTkdMRV9pbnN0YW5jZWRfYXJyYXlzYCBleHRlbnNpb25cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhhc0luc3RhbmNlID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBjYWNoZSBvZiBjdXJyZW50bHkgYm91bmQgYnVmZmVyLFxuICAgICAgICAgKiBjb250YWlucyBvbmx5IHR3byBtZW1iZXJzIHdpdGgga2V5cyBBUlJBWV9CVUZGRVIgYW5kIEVMRU1FTlRfQVJSQVlfQlVGRkVSXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdC48bnVtYmVyLCBQSVhJLkJ1ZmZlcj59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ib3VuZEJ1ZmZlcnMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGUgZm9yIGFsbCBnZW9tZXRyaWVzIGJ5IGlkLCB1c2VkIGluIGNhc2UgcmVuZGVyZXIgZ2V0cyBkZXN0cm95ZWQgb3IgZm9yIHByb2ZpbGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYW5hZ2VkR2VvbWV0cmllcyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZSBmb3IgYWxsIGJ1ZmZlcnMgYnkgaWQsIHVzZWQgaW4gY2FzZSByZW5kZXJlciBnZXRzIGRlc3Ryb3llZCBvciBmb3IgcHJvZmlsaW5nXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hbmFnZWRCdWZmZXJzID0ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgcmVuZGVyZXIgY29udGV4dCBhbmQgbmVjZXNzYXJ5IGJ1ZmZlcnMuXG4gICAgICovXG4gICAgY29udGV4dENoYW5nZSgpXG4gICAge1xuICAgICAgICB0aGlzLmRpc3Bvc2VBbGwodHJ1ZSk7XG5cbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICB0aGlzLkNPTlRFWFRfVUlEID0gdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRDtcblxuICAgICAgICAvLyB3ZWJnbDJcbiAgICAgICAgaWYgKCFnbC5jcmVhdGVWZXJ0ZXhBcnJheSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gd2ViZ2wgMSFcbiAgICAgICAgICAgIGxldCBuYXRpdmVWYW9FeHRlbnNpb24gPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQuZXh0ZW5zaW9ucy52ZXJ0ZXhBcnJheU9iamVjdDtcblxuICAgICAgICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPT09IEVOVi5XRUJHTF9MRUdBQ1kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmF0aXZlVmFvRXh0ZW5zaW9uID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5hdGl2ZVZhb0V4dGVuc2lvbilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbC5jcmVhdGVWZXJ0ZXhBcnJheSA9ICgpID0+XG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZVZhb0V4dGVuc2lvbi5jcmVhdGVWZXJ0ZXhBcnJheU9FUygpO1xuXG4gICAgICAgICAgICAgICAgZ2wuYmluZFZlcnRleEFycmF5ID0gKHZhbykgPT5cbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlVmFvRXh0ZW5zaW9uLmJpbmRWZXJ0ZXhBcnJheU9FUyh2YW8pO1xuXG4gICAgICAgICAgICAgICAgZ2wuZGVsZXRlVmVydGV4QXJyYXkgPSAodmFvKSA9PlxuICAgICAgICAgICAgICAgICAgICBuYXRpdmVWYW9FeHRlbnNpb24uZGVsZXRlVmVydGV4QXJyYXlPRVModmFvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc1ZhbyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGdsLmNyZWF0ZVZlcnRleEFycmF5ID0gKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVtcHR5XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSA9ICgpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBnbC5kZWxldGVWZXJ0ZXhBcnJheSA9ICgpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWdsLnZlcnRleEF0dHJpYkRpdmlzb3IpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlRXh0ID0gZ2wuZ2V0RXh0ZW5zaW9uKCdBTkdMRV9pbnN0YW5jZWRfYXJyYXlzJyk7XG5cbiAgICAgICAgICAgIGlmIChpbnN0YW5jZUV4dClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJEaXZpc29yID0gKGEsIGIpID0+XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlRXh0LnZlcnRleEF0dHJpYkRpdmlzb3JBTkdMRShhLCBiKTtcblxuICAgICAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50c0luc3RhbmNlZCA9IChhLCBiLCBjLCBkLCBlKSA9PlxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZUV4dC5kcmF3RWxlbWVudHNJbnN0YW5jZWRBTkdMRShhLCBiLCBjLCBkLCBlKTtcblxuICAgICAgICAgICAgICAgIGdsLmRyYXdBcnJheXNJbnN0YW5jZWQgPSAoYSwgYiwgYywgZCkgPT5cbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VFeHQuZHJhd0FycmF5c0luc3RhbmNlZEFOR0xFKGEsIGIsIGMsIGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzSW5zdGFuY2UgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJpbmRzIGdlb21ldHJ5IHNvIHRoYXQgaXMgY2FuIGJlIGRyYXduLiBDcmVhdGluZyBhIFZhbyBpZiByZXF1aXJlZFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IGluc3RhbmNlIG9mIGdlb21ldHJ5IHRvIGJpbmRcbiAgICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBzaGFkZXIgaW5zdGFuY2Ugb2Ygc2hhZGVyIHRvIGJpbmRcbiAgICAgKi9cbiAgICBiaW5kKGdlb21ldHJ5LCBzaGFkZXIpXG4gICAge1xuICAgICAgICBzaGFkZXIgPSBzaGFkZXIgfHwgdGhpcy5yZW5kZXJlci5zaGFkZXIuc2hhZGVyO1xuXG4gICAgICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXM7XG5cbiAgICAgICAgLy8gbm90IHN1cmUgdGhlIGJlc3Qgd2F5IHRvIGFkZHJlc3MgdGhpcy4uXG4gICAgICAgIC8vIGN1cnJlbnRseSBkaWZmZXJlbnQgc2hhZGVycyByZXF1aXJlIGRpZmZlcmVudCBWQU9zIGZvciB0aGUgc2FtZSBnZW9tZXRyeVxuICAgICAgICAvLyBTdGlsbCBtdWxsaW5nIG92ZXIgdGhlIGJlc3Qgd2F5IHRvIHNvbHZlIHRoaXMgb25lLi5cbiAgICAgICAgLy8gd2lsbCBsaWtlbHkgbmVlZCB0byBtb2RpZnkgdGhlIHNoYWRlciBhdHRyaWJ1dGUgbG9jYXRpb25zIGF0IHJ1biB0aW1lIVxuICAgICAgICBsZXQgdmFvcyA9IGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmICghdmFvcylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VkR2VvbWV0cmllc1tnZW9tZXRyeS5pZF0gPSBnZW9tZXRyeTtcbiAgICAgICAgICAgIGdlb21ldHJ5LmRpc3Bvc2VSdW5uZXIuYWRkKHRoaXMpO1xuICAgICAgICAgICAgZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF0gPSB2YW9zID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2YW8gPSB2YW9zW3NoYWRlci5wcm9ncmFtLmlkXSB8fCB0aGlzLmluaXRHZW9tZXRyeVZhbyhnZW9tZXRyeSwgc2hhZGVyLnByb2dyYW0pO1xuXG4gICAgICAgIHRoaXMuX2FjdGl2ZUdlb21ldHJ5ID0gZ2VvbWV0cnk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVZhbyAhPT0gdmFvKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSB2YW87XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmhhc1ZhbylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbC5iaW5kVmVydGV4QXJyYXkodmFvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2YXRlVmFvKGdlb21ldHJ5LCBzaGFkZXIucHJvZ3JhbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPIC0gb3B0aW1pc2UgbGF0ZXIhXG4gICAgICAgIC8vIGRvbid0IG5lZWQgdG8gbG9vcCB0aHJvdWdoIGlmIG5vdGhpbmcgY2hhbmdlZCFcbiAgICAgICAgLy8gbWF5YmUgbG9vayB0byBhZGQgYW4gJ2F1dG91cGRhdGUnIHRvIGdlb21ldHJ5P1xuICAgICAgICB0aGlzLnVwZGF0ZUJ1ZmZlcnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldCBhbmQgdW5iaW5kIGFueSBhY3RpdmUgVkFPIGFuZCBnZW9tZXRyeVxuICAgICAqL1xuICAgIHJlc2V0KClcbiAgICB7XG4gICAgICAgIHRoaXMudW5iaW5kKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIGJ1ZmZlcnNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgdXBkYXRlQnVmZmVycygpXG4gICAge1xuICAgICAgICBjb25zdCBnZW9tZXRyeSA9IHRoaXMuX2FjdGl2ZUdlb21ldHJ5O1xuICAgICAgICBjb25zdCB7IGdsIH0gPSB0aGlzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gZ2VvbWV0cnkuYnVmZmVyc1tpXTtcblxuICAgICAgICAgICAgY29uc3QgZ2xCdWZmZXIgPSBidWZmZXIuX2dsQnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICAgICAgaWYgKGJ1ZmZlci5fdXBkYXRlSUQgIT09IGdsQnVmZmVyLnVwZGF0ZUlEKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsQnVmZmVyLnVwZGF0ZUlEID0gYnVmZmVyLl91cGRhdGVJRDtcblxuICAgICAgICAgICAgICAgIC8vIFRPRE8gY2FuIGNhY2hlIHRoaXMgb24gYnVmZmVyISBtYXliZSBhZGRlZCBhIGdldHRlciAvIHNldHRlcj9cbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gYnVmZmVyLmluZGV4ID8gZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIgOiBnbC5BUlJBWV9CVUZGRVI7XG5cbiAgICAgICAgICAgICAgICAvLyBUT0RPIHRoaXMgY291bGQgY2hhbmdlIGlmIHRoZSBWQU8gY2hhbmdlcy4uLlxuICAgICAgICAgICAgICAgIC8vIG5lZWQgdG8gY29tZSB1cCB3aXRoIGEgYmV0dGVyIHdheSB0byBjYWNoZS4uXG4gICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMuYm91bmRCdWZmZXJzW3R5cGVdICE9PSBnbEJ1ZmZlcilcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5ib3VuZEJ1ZmZlcnNbdHlwZV0gPSBnbEJ1ZmZlcjtcbiAgICAgICAgICAgICAgICBnbC5iaW5kQnVmZmVyKHR5cGUsIGdsQnVmZmVyLmJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRCdWZmZXIgPSBnbEJ1ZmZlcjtcblxuICAgICAgICAgICAgICAgIGlmIChnbEJ1ZmZlci5ieXRlTGVuZ3RoID49IGJ1ZmZlci5kYXRhLmJ5dGVMZW5ndGgpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBvZmZzZXQgaXMgYWx3YXlzIHplcm8gZm9yIG5vdyFcbiAgICAgICAgICAgICAgICAgICAgZ2wuYnVmZmVyU3ViRGF0YSh0eXBlLCAwLCBidWZmZXIuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRyYXdUeXBlID0gYnVmZmVyLnN0YXRpYyA/IGdsLlNUQVRJQ19EUkFXIDogZ2wuRFlOQU1JQ19EUkFXO1xuXG4gICAgICAgICAgICAgICAgICAgIGdsQnVmZmVyLmJ5dGVMZW5ndGggPSBidWZmZXIuZGF0YS5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJEYXRhKHR5cGUsIGJ1ZmZlci5kYXRhLCBkcmF3VHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgY29tcGFiaWxpdHkgYmV0d2VlbiBhIGdlb21ldHJ5IGFuZCBhIHByb2dyYW1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIEdlb21ldHJ5IGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IHByb2dyYW0gLSBQcm9ncmFtIGluc3RhbmNlXG4gICAgICovXG4gICAgY2hlY2tDb21wYXRpYmlsaXR5KGdlb21ldHJ5LCBwcm9ncmFtKVxuICAgIHtcbiAgICAgICAgLy8gZ2VvbWV0cnkgbXVzdCBoYXZlIGF0IGxlYXN0IGFsbCB0aGUgYXR0cmlidXRlcyB0aGF0IHRoZSBzaGFkZXIgcmVxdWlyZXMuXG4gICAgICAgIGNvbnN0IGdlb21ldHJ5QXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgICAgIGNvbnN0IHNoYWRlckF0dHJpYnV0ZXMgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGE7XG5cbiAgICAgICAgZm9yIChjb25zdCBqIGluIHNoYWRlckF0dHJpYnV0ZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghZ2VvbWV0cnlBdHRyaWJ1dGVzW2pdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgc2hhZGVyIGFuZCBnZW9tZXRyeSBpbmNvbXBhdGlibGUsIGdlb21ldHJ5IG1pc3NpbmcgdGhlIFwiJHtqfVwiIGF0dHJpYnV0ZWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGFrZXMgYSBnZW9tZXRyeSBhbmQgcHJvZ3JhbSBhbmQgZ2VuZXJhdGVzIGEgdW5pcXVlIHNpZ25hdHVyZSBmb3IgdGhlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgdG8gZ2V0IHNpZ25hdHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IHByb2dyYW0gdG8gdGVzdCBnZW9tZXRyeSBhZ2FpbnN0XG4gICAgICogQHJldHVybnMge1N0cmluZ30gVW5pcXVlIHNpZ25hdHVyZSBvZiB0aGUgZ2VvbWV0cnkgYW5kIHByb2dyYW1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgZ2V0U2lnbmF0dXJlKGdlb21ldHJ5LCBwcm9ncmFtKVxuICAgIHtcbiAgICAgICAgY29uc3QgYXR0cmlicyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG4gICAgICAgIGNvbnN0IHNoYWRlckF0dHJpYnV0ZXMgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGE7XG5cbiAgICAgICAgY29uc3Qgc3RyaW5ncyA9IFsnZycsIGdlb21ldHJ5LmlkXTtcblxuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gYXR0cmlicylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHNoYWRlckF0dHJpYnV0ZXNbaV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RyaW5ncy5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0cmluZ3Muam9pbignLScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb3IgZ2V0cyBWYW8gd2l0aCB0aGUgc2FtZSBzdHJ1Y3R1cmUgYXMgdGhlIGdlb21ldHJ5IGFuZCBzdG9yZXMgaXQgb24gdGhlIGdlb21ldHJ5LlxuICAgICAqIElmIHZhbyBpcyBjcmVhdGVkLCBpdCBpcyBib3VuZCBhdXRvbWF0aWNhbGx5LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgLSBJbnN0YW5jZSBvZiBnZW9tZXRyeSB0byB0byBnZW5lcmF0ZSBWYW8gZm9yXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IHByb2dyYW0gLSBJbnN0YW5jZSBvZiBwcm9ncmFtXG4gICAgICovXG4gICAgaW5pdEdlb21ldHJ5VmFvKGdlb21ldHJ5LCBwcm9ncmFtKVxuICAgIHtcbiAgICAgICAgdGhpcy5jaGVja0NvbXBhdGliaWxpdHkoZ2VvbWV0cnksIHByb2dyYW0pO1xuXG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcbiAgICAgICAgY29uc3QgQ09OVEVYVF9VSUQgPSB0aGlzLkNPTlRFWFRfVUlEO1xuXG4gICAgICAgIGNvbnN0IHNpZ25hdHVyZSA9IHRoaXMuZ2V0U2lnbmF0dXJlKGdlb21ldHJ5LCBwcm9ncmFtKTtcblxuICAgICAgICBjb25zdCB2YW9PYmplY3RIYXNoID0gZ2VvbWV0cnkuZ2xWZXJ0ZXhBcnJheU9iamVjdHNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgbGV0IHZhbyA9IHZhb09iamVjdEhhc2hbc2lnbmF0dXJlXTtcblxuICAgICAgICBpZiAodmFvKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB0aGlzIHdpbGwgZ2l2ZSB1cyBlYXN5IGFjY2VzcyB0byB0aGUgdmFvXG4gICAgICAgICAgICB2YW9PYmplY3RIYXNoW3Byb2dyYW0uaWRdID0gdmFvO1xuXG4gICAgICAgICAgICByZXR1cm4gdmFvO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYnVmZmVycyA9IGdlb21ldHJ5LmJ1ZmZlcnM7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuICAgICAgICBjb25zdCB0ZW1wU3RyaWRlID0ge307XG4gICAgICAgIGNvbnN0IHRlbXBTdGFydCA9IHt9O1xuXG4gICAgICAgIGZvciAoY29uc3QgaiBpbiBidWZmZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZW1wU3RyaWRlW2pdID0gMDtcbiAgICAgICAgICAgIHRlbXBTdGFydFtqXSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IGogaW4gYXR0cmlidXRlcylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFhdHRyaWJ1dGVzW2pdLnNpemUgJiYgcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2pdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNbal0uc2l6ZSA9IHByb2dyYW0uYXR0cmlidXRlRGF0YVtqXS5zaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWF0dHJpYnV0ZXNbal0uc2l6ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFBJWEkgR2VvbWV0cnkgYXR0cmlidXRlICcke2p9JyBzaXplIGNhbm5vdCBiZSBkZXRlcm1pbmVkIChsaWtlbHkgdGhlIGJvdW5kIHNoYWRlciBkb2VzIG5vdCBoYXZlIHRoZSBhdHRyaWJ1dGUpYCk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRlbXBTdHJpZGVbYXR0cmlidXRlc1tqXS5idWZmZXJdICs9IGF0dHJpYnV0ZXNbal0uc2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZXNbal0udHlwZV07XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IGogaW4gYXR0cmlidXRlcylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlID0gYXR0cmlidXRlc1tqXTtcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYlNpemUgPSBhdHRyaWJ1dGUuc2l6ZTtcblxuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5zdHJpZGUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGVtcFN0cmlkZVthdHRyaWJ1dGUuYnVmZmVyXSA9PT0gYXR0cmliU2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZS50eXBlXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdHJpZGUgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc3RyaWRlID0gdGVtcFN0cmlkZVthdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUuc3RhcnQgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc3RhcnQgPSB0ZW1wU3RhcnRbYXR0cmlidXRlLmJ1ZmZlcl07XG5cbiAgICAgICAgICAgICAgICB0ZW1wU3RhcnRbYXR0cmlidXRlLmJ1ZmZlcl0gKz0gYXR0cmliU2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZS50eXBlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhbyA9IGdsLmNyZWF0ZVZlcnRleEFycmF5KCk7XG5cbiAgICAgICAgZ2wuYmluZFZlcnRleEFycmF5KHZhbyk7XG5cbiAgICAgICAgLy8gZmlyc3QgdXBkYXRlIC0gYW5kIGNyZWF0ZSB0aGUgYnVmZmVycyFcbiAgICAgICAgLy8gb25seSBjcmVhdGUgYSBnbCBidWZmZXIgaWYgaXQgYWN0dWFsbHkgZ2V0c1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ1ZmZlcnMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IGJ1ZmZlcnNbaV07XG5cbiAgICAgICAgICAgIGlmICghYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXSA9IG5ldyBHTEJ1ZmZlcihnbC5jcmVhdGVCdWZmZXIoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VkQnVmZmVyc1tidWZmZXIuaWRdID0gYnVmZmVyO1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5kaXNwb3NlUnVubmVyLmFkZCh0aGlzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdLnJlZkNvdW50Kys7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPIC0gbWF5YmUgbWFrZSB0aGlzIGEgZGF0YSBvYmplY3Q/XG4gICAgICAgIC8vIGxldHMgd2FpdCB0byBzZWUgaWYgd2UgbmVlZCB0byBmaXJzdCFcblxuICAgICAgICB0aGlzLmFjdGl2YXRlVmFvKGdlb21ldHJ5LCBwcm9ncmFtKTtcblxuICAgICAgICB0aGlzLl9hY3RpdmVWYW8gPSB2YW87XG5cbiAgICAgICAgLy8gYWRkIGl0IHRvIHRoZSBjYWNoZSFcbiAgICAgICAgdmFvT2JqZWN0SGFzaFtwcm9ncmFtLmlkXSA9IHZhbztcbiAgICAgICAgdmFvT2JqZWN0SGFzaFtzaWduYXR1cmVdID0gdmFvO1xuXG4gICAgICAgIHJldHVybiB2YW87XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgYnVmZmVyXG4gICAgICogQHBhcmFtIHtQSVhJLkJ1ZmZlcn0gYnVmZmVyIGJ1ZmZlciB3aXRoIGRhdGFcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgZGVsZXRlVmVydGV4QXJyYXlcbiAgICAgKi9cbiAgICBkaXNwb3NlQnVmZmVyKGJ1ZmZlciwgY29udGV4dExvc3QpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMubWFuYWdlZEJ1ZmZlcnNbYnVmZmVyLmlkXSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIHRoaXMubWFuYWdlZEJ1ZmZlcnNbYnVmZmVyLmlkXTtcblxuICAgICAgICBjb25zdCBnbEJ1ZmZlciA9IGJ1ZmZlci5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgYnVmZmVyLmRpc3Bvc2VSdW5uZXIucmVtb3ZlKHRoaXMpO1xuXG4gICAgICAgIGlmICghZ2xCdWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY29udGV4dExvc3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcihnbEJ1ZmZlci5idWZmZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIGJ1ZmZlci5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc3Bvc2VzIGdlb21ldHJ5XG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSBHZW9tZXRyeSB3aXRoIGJ1ZmZlcnMuIE9ubHkgVkFPIHdpbGwgYmUgZGlzcG9zZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjb250ZXh0TG9zdD1mYWxzZV0gSWYgY29udGV4dCB3YXMgbG9zdCwgd2Ugc3VwcHJlc3MgZGVsZXRlVmVydGV4QXJyYXlcbiAgICAgKi9cbiAgICBkaXNwb3NlR2VvbWV0cnkoZ2VvbWV0cnksIGNvbnRleHRMb3N0KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLm1hbmFnZWRHZW9tZXRyaWVzW2dlb21ldHJ5LmlkXSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIHRoaXMubWFuYWdlZEdlb21ldHJpZXNbZ2VvbWV0cnkuaWRdO1xuXG4gICAgICAgIGNvbnN0IHZhb3MgPSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsO1xuICAgICAgICBjb25zdCBidWZmZXJzID0gZ2VvbWV0cnkuYnVmZmVycztcblxuICAgICAgICBnZW9tZXRyeS5kaXNwb3NlUnVubmVyLnJlbW92ZSh0aGlzKTtcblxuICAgICAgICBpZiAoIXZhb3MpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVycy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgYnVmID0gYnVmZmVyc1tpXS5fZ2xCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgICAgICBidWYucmVmQ291bnQtLTtcbiAgICAgICAgICAgIGlmIChidWYucmVmQ291bnQgPT09IDAgJiYgIWNvbnRleHRMb3N0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcG9zZUJ1ZmZlcihidWZmZXJzW2ldLCBjb250ZXh0TG9zdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWNvbnRleHRMb3N0KVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHZhb0lkIGluIHZhb3MpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZGVsZXRlIG9ubHkgc2lnbmF0dXJlcywgZXZlcnl0aGluZyBlbHNlIGFyZSBjb3BpZXNcbiAgICAgICAgICAgICAgICBpZiAodmFvSWRbMF0gPT09ICdnJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbyA9IHZhb3NbdmFvSWRdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hY3RpdmVWYW8gPT09IHZhbylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51bmJpbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBnbC5kZWxldGVWZXJ0ZXhBcnJheSh2YW8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBkaXNwb3NlIGFsbCBXZWJHTCByZXNvdXJjZXMgb2YgYWxsIG1hbmFnZWQgZ2VvbWV0cmllcyBhbmQgYnVmZmVyc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSBJZiBjb250ZXh0IHdhcyBsb3N0LCB3ZSBzdXBwcmVzcyBgZ2wuZGVsZXRlYCBjYWxsc1xuICAgICAqL1xuICAgIGRpc3Bvc2VBbGwoY29udGV4dExvc3QpXG4gICAge1xuICAgICAgICBsZXQgYWxsID0gT2JqZWN0LmtleXModGhpcy5tYW5hZ2VkR2VvbWV0cmllcyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGwubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZUdlb21ldHJ5KHRoaXMubWFuYWdlZEdlb21ldHJpZXNbYWxsW2ldXSwgY29udGV4dExvc3QpO1xuICAgICAgICB9XG4gICAgICAgIGFsbCA9IE9iamVjdC5rZXlzKHRoaXMubWFuYWdlZEJ1ZmZlcnMpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbC5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlQnVmZmVyKHRoaXMubWFuYWdlZEJ1ZmZlcnNbYWxsW2ldXSwgY29udGV4dExvc3QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWN0aXZhdGUgdmVydGV4IGFycmF5IG9iamVjdFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgLSBHZW9tZXRyeSBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7UElYSS5Qcm9ncmFtfSBwcm9ncmFtIC0gU2hhZGVyIHByb2dyYW0gaW5zdGFuY2VcbiAgICAgKi9cbiAgICBhY3RpdmF0ZVZhbyhnZW9tZXRyeSwgcHJvZ3JhbSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcbiAgICAgICAgY29uc3QgQ09OVEVYVF9VSUQgPSB0aGlzLkNPTlRFWFRfVUlEO1xuICAgICAgICBjb25zdCBidWZmZXJzID0gZ2VvbWV0cnkuYnVmZmVycztcbiAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG5cbiAgICAgICAgaWYgKGdlb21ldHJ5LmluZGV4QnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBmaXJzdCB1cGRhdGUgdGhlIGluZGV4IGJ1ZmZlciBpZiB3ZSBoYXZlIG9uZS4uXG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBnZW9tZXRyeS5pbmRleEJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXS5idWZmZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxhc3RCdWZmZXIgPSBudWxsO1xuXG4gICAgICAgIC8vIGFkZCBhIG5ldyBvbmUhXG4gICAgICAgIGZvciAoY29uc3QgaiBpbiBhdHRyaWJ1dGVzKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2pdO1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gYnVmZmVyc1thdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgIGNvbnN0IGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdO1xuXG4gICAgICAgICAgICBpZiAocHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2pdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChsYXN0QnVmZmVyICE9PSBnbEJ1ZmZlcilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBnbEJ1ZmZlci5idWZmZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGxhc3RCdWZmZXIgPSBnbEJ1ZmZlcjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhdGlvbiA9IHByb2dyYW0uYXR0cmlidXRlRGF0YVtqXS5sb2NhdGlvbjtcblxuICAgICAgICAgICAgICAgIC8vIFRPRE8gaW50cm9kdWNlIHN0YXRlIGFnYWluXG4gICAgICAgICAgICAgICAgLy8gd2UgY2FuIG9wdGltaXNlIHRoaXMgZm9yIG9sZGVyIGRldmljZXMgdGhhdCBoYXZlIG5vIFZBT3NcbiAgICAgICAgICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShsb2NhdGlvbik7XG5cbiAgICAgICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGxvY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnR5cGUgfHwgZ2wuRkxPQVQsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5ub3JtYWxpemVkLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc3RyaWRlLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc3RhcnQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZS5pbnN0YW5jZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gY2FsY3VsYXRlIGluc3RhbmNlIGNvdW50IGJhc2VkIG9mIHRoaXMuLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzSW5zdGFuY2UpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYkRpdmlzb3IobG9jYXRpb24sIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdnZW9tZXRyeSBlcnJvciwgR1BVIEluc3RhbmNpbmcgaXMgbm90IHN1cHBvcnRlZCBvbiB0aGlzIGRldmljZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRHJhdyB0aGUgZ2VvbWV0cnlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIC0gdGhlIHR5cGUgcHJpbWl0aXZlIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc2l6ZV0gLSB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGJlIHJlbmRlcmVkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzdGFydF0gLSBTdGFydGluZyBpbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbaW5zdGFuY2VDb3VudF0gLSB0aGUgbnVtYmVyIG9mIGluc3RhbmNlcyBvZiB0aGUgc2V0IG9mIGVsZW1lbnRzIHRvIGV4ZWN1dGVcbiAgICAgKi9cbiAgICBkcmF3KHR5cGUsIHNpemUsIHN0YXJ0LCBpbnN0YW5jZUNvdW50KVxuICAgIHtcbiAgICAgICAgY29uc3QgeyBnbCB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLl9hY3RpdmVHZW9tZXRyeTtcblxuICAgICAgICAvLyBUT0RPLi4gdGhpcyBzaG91bGQgbm90IGNoYW5nZSBzbyBtYXliZSBjYWNoZSB0aGUgZnVuY3Rpb24/XG5cbiAgICAgICAgaWYgKGdlb21ldHJ5LmluZGV4QnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZ2VvbWV0cnkuaW5zdGFuY2VkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgICAgICBnbC5kcmF3RWxlbWVudHNJbnN0YW5jZWQodHlwZSwgc2l6ZSB8fCBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhLmxlbmd0aCwgZ2wuVU5TSUdORURfU0hPUlQsIChzdGFydCB8fCAwKSAqIDIsIGluc3RhbmNlQ291bnQgfHwgMSk7XG4gICAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKHR5cGUsIHNpemUgfHwgZ2VvbWV0cnkuaW5kZXhCdWZmZXIuZGF0YS5sZW5ndGgsIGdsLlVOU0lHTkVEX1NIT1JULCAoc3RhcnQgfHwgMCkgKiAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChnZW9tZXRyeS5pbnN0YW5jZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE8gbmVlZCBhIGJldHRlciB3YXkgdG8gY2FsY3VsYXRlIHNpemUuLlxuICAgICAgICAgICAgZ2wuZHJhd0FycmF5c0luc3RhbmNlZCh0eXBlLCBzdGFydCwgc2l6ZSB8fCBnZW9tZXRyeS5nZXRTaXplKCksIGluc3RhbmNlQ291bnQgfHwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzKHR5cGUsIHN0YXJ0LCBzaXplIHx8IGdlb21ldHJ5LmdldFNpemUoKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVbmJpbmQvcmVzZXQgZXZlcnl0aGluZ1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICB1bmJpbmQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbC5iaW5kVmVydGV4QXJyYXkobnVsbCk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVZhbyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FjdGl2ZUdlb21ldHJ5ID0gbnVsbDtcbiAgICB9XG59XG4iLCIvKipcbiAqIEBtZXRob2QgY29tcGlsZVByb2dyYW1cbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgY29udGV4dCB7V2ViR0xQcm9ncmFtfVxuICogQHBhcmFtIHZlcnRleFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEBwYXJhbSBmcmFnbWVudFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHBhcmFtIGF0dHJpYnV0ZUxvY2F0aW9ucyB7T2JqZWN0fSBBbiBhdHRyaWJ1dGUgbG9jYXRpb24gbWFwIHRoYXQgbGV0cyB5b3UgbWFudWFsbHkgc2V0IHRoZSBhdHRyaWJ1dGUgbG9jYXRpb25zXG4gKiBAcmV0dXJuIHtXZWJHTFByb2dyYW19IHRoZSBzaGFkZXIgcHJvZ3JhbVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb21waWxlUHJvZ3JhbShnbCwgdmVydGV4U3JjLCBmcmFnbWVudFNyYywgYXR0cmlidXRlTG9jYXRpb25zKVxue1xuICAgIGNvbnN0IGdsVmVydFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHZlcnRleFNyYyk7XG4gICAgY29uc3QgZ2xGcmFnU2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBmcmFnbWVudFNyYyk7XG5cbiAgICBsZXQgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcblxuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBnbFZlcnRTaGFkZXIpO1xuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBnbEZyYWdTaGFkZXIpO1xuXG4gICAgLy8gb3B0aW9uYWxseSwgc2V0IHRoZSBhdHRyaWJ1dGVzIG1hbnVhbGx5IGZvciB0aGUgcHJvZ3JhbSByYXRoZXIgdGhhbiBsZXR0aW5nIFdlYkdMIGRlY2lkZS4uXG4gICAgaWYgKGF0dHJpYnV0ZUxvY2F0aW9ucylcbiAgICB7XG4gICAgICAgIGZvciAoY29uc3QgaSBpbiBhdHRyaWJ1dGVMb2NhdGlvbnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmJpbmRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCBhdHRyaWJ1dGVMb2NhdGlvbnNbaV0sIGkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XG5cbiAgICAvLyBpZiBsaW5raW5nIGZhaWxzLCB0aGVuIGxvZyBhbmQgY2xlYW51cFxuICAgIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykpXG4gICAge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdQaXhpLmpzIEVycm9yOiBDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaGFkZXIuJyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2dsLlZBTElEQVRFX1NUQVRVUycsIGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuVkFMSURBVEVfU1RBVFVTKSk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2dsLmdldEVycm9yKCknLCBnbC5nZXRFcnJvcigpKTtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhIHByb2dyYW0gaW5mbyBsb2csIGxvZyBpdFxuICAgICAgICBpZiAoZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkgIT09ICcnKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BpeGkuanMgV2FybmluZzogZ2wuZ2V0UHJvZ3JhbUluZm9Mb2coKScsIGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIHByb2dyYW0gPSBudWxsO1xuICAgIH1cblxuICAgIC8vIGNsZWFuIHVwIHNvbWUgc2hhZGVyc1xuICAgIGdsLmRlbGV0ZVNoYWRlcihnbFZlcnRTaGFkZXIpO1xuICAgIGdsLmRlbGV0ZVNoYWRlcihnbEZyYWdTaGFkZXIpO1xuXG4gICAgcmV0dXJuIHByb2dyYW07XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0IHtXZWJHTFByb2dyYW19XG4gKiBAcGFyYW0gdHlwZSB7TnVtYmVyfSB0aGUgdHlwZSwgY2FuIGJlIGVpdGhlciBWRVJURVhfU0hBREVSIG9yIEZSQUdNRU5UX1NIQURFUlxuICogQHBhcmFtIHZlcnRleFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEByZXR1cm4ge1dlYkdMU2hhZGVyfSB0aGUgc2hhZGVyXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVTaGFkZXIoZ2wsIHR5cGUsIHNyYylcbntcbiAgICBjb25zdCBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIodHlwZSk7XG5cbiAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzcmMpO1xuICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcblxuICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKVxuICAgIHtcbiAgICAgICAgY29uc29sZS53YXJuKHNyYyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpKTtcblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gc2hhZGVyO1xufVxuIiwiLyoqXG4gKiBAbWV0aG9kIGRlZmF1bHRWYWx1ZVxuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIHR5cGUge1N0cmluZ30gVHlwZSBvZiB2YWx1ZVxuICogQHBhcmFtIHNpemUge051bWJlcn1cbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlZmF1bHRWYWx1ZSh0eXBlLCBzaXplKVxue1xuICAgIHN3aXRjaCAodHlwZSlcbiAgICB7XG4gICAgICAgIGNhc2UgJ2Zsb2F0JzpcbiAgICAgICAgICAgIHJldHVybiAwO1xuXG4gICAgICAgIGNhc2UgJ3ZlYzInOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoMiAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ3ZlYzMnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoMyAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ3ZlYzQnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoNCAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2ludCc6XG4gICAgICAgIGNhc2UgJ3NhbXBsZXIyRCc6XG4gICAgICAgIGNhc2UgJ3NhbXBsZXIyREFycmF5JzpcbiAgICAgICAgICAgIHJldHVybiAwO1xuXG4gICAgICAgIGNhc2UgJ2l2ZWMyJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSgyICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnaXZlYzMnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KDMgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdpdmVjNCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoNCAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2Jvb2wnOlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIGNhc2UgJ2J2ZWMyJzpcblxuICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW5BcnJheSgyICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnYnZlYzMnOlxuICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW5BcnJheSgzICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnYnZlYzQnOlxuICAgICAgICAgICAgcmV0dXJuIGJvb2xlYW5BcnJheSg0ICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnbWF0Mic6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCxcbiAgICAgICAgICAgICAgICAwLCAxXSk7XG5cbiAgICAgICAgY2FzZSAnbWF0Myc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAxLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDFdKTtcblxuICAgICAgICBjYXNlICdtYXQ0JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDEsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMSwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAwLCAxXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGJvb2xlYW5BcnJheShzaXplKVxue1xuICAgIGNvbnN0IGFycmF5ID0gbmV3IEFycmF5KHNpemUpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIGFycmF5W2ldID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuIiwiaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICcuLi8uLi9zZXR0aW5ncyc7XG5pbXBvcnQgeyBFTlYgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5sZXQgY29udGV4dCA9IG51bGw7XG5cbi8qKlxuICogcmV0dXJucyBhIGxpdHRsZSBXZWJHTCBjb250ZXh0IHRvIHVzZSBmb3IgcHJvZ3JhbSBpbnNwZWN0aW9uLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7d2ViR0wtY29udGV4dH0gYSBnbCBjb250ZXh0IHRvIHRlc3Qgd2l0aFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRUZXN0Q29udGV4dCgpXG57XG4gICAgaWYgKCFjb250ZXh0KVxuICAgIHtcbiAgICAgICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAgICAgbGV0IGdsO1xuXG4gICAgICAgIGlmIChzZXR0aW5ncy5QUkVGRVJfRU5WID49IEVOVi5XRUJHTDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsMicsIHt9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZ2wpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJywge30pXG4gICAgICAgICAgICB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywge30pO1xuXG4gICAgICAgICAgICBpZiAoIWdsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGZhaWwsIG5vdCBhYmxlIHRvIGdldCBhIGNvbnRleHRcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IFdlYkdMLiBUcnkgdXNpbmcgdGhlIGNhbnZhcyByZW5kZXJlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGZvciBzaGFkZXIgdGVzdGluZy4uXG4gICAgICAgICAgICAgICAgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kcmF3X2J1ZmZlcnMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQgPSBnbDtcblxuICAgICAgICByZXR1cm4gZ2w7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbnRleHQ7XG59XG4iLCJpbXBvcnQgZ2V0VGVzdENvbnRleHQgZnJvbSAnLi9nZXRUZXN0Q29udGV4dCc7XG5pbXBvcnQgeyBQUkVDSVNJT04gfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5sZXQgbWF4RnJhZ21lbnRQcmVjaXNpb247XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldE1heEZyYWdtZW50UHJlY2lzaW9uKClcbntcbiAgICBpZiAoIW1heEZyYWdtZW50UHJlY2lzaW9uKVxuICAgIHtcbiAgICAgICAgbWF4RnJhZ21lbnRQcmVjaXNpb24gPSBQUkVDSVNJT04uTUVESVVNO1xuICAgICAgICBjb25zdCBnbCA9IGdldFRlc3RDb250ZXh0KCk7XG5cbiAgICAgICAgaWYgKGdsKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNoYWRlckZyYWdtZW50ID0gZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KGdsLkZSQUdNRU5UX1NIQURFUiwgZ2wuSElHSF9GTE9BVCk7XG5cbiAgICAgICAgICAgICAgICBtYXhGcmFnbWVudFByZWNpc2lvbiA9IHNoYWRlckZyYWdtZW50LnByZWNpc2lvbiA/IFBSRUNJU0lPTi5ISUdIIDogUFJFQ0lTSU9OLk1FRElVTTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtYXhGcmFnbWVudFByZWNpc2lvbjtcbn1cbiIsImltcG9ydCB7IFBSRUNJU0lPTiB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbi8qKlxuICogU2V0cyB0aGUgZmxvYXQgcHJlY2lzaW9uIG9uIHRoZSBzaGFkZXIsIGVuc3VyaW5nIHRoZSBkZXZpY2Ugc3VwcG9ydHMgdGhlIHJlcXVlc3QgcHJlY2lzaW9uLlxuICogSWYgdGhlIHByZWNpc2lvbiBpcyBhbHJlYWR5IHByZXNlbnQsIGl0IGp1c3QgZW5zdXJlcyB0aGF0IHRoZSBkZXZpY2UgaXMgYWJsZSB0byBoYW5kbGUgaXQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgLSBUaGUgc2hhZGVyIHNvdXJjZVxuICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3RlZFByZWNpc2lvbiAtIFRoZSByZXF1ZXN0IGZsb2F0IHByZWNpc2lvbiBvZiB0aGUgc2hhZGVyLiBPcHRpb25zIGFyZSAnbG93cCcsICdtZWRpdW1wJyBvciAnaGlnaHAnLlxuICogQHBhcmFtIHtzdHJpbmd9IG1heFN1cHBvcnRlZFByZWNpc2lvbiAtIFRoZSBtYXhpbXVtIHByZWNpc2lvbiB0aGUgc2hhZGVyIHN1cHBvcnRzLlxuICpcbiAqIEByZXR1cm4ge3N0cmluZ30gbW9kaWZpZWQgc2hhZGVyIHNvdXJjZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXRQcmVjaXNpb24oc3JjLCByZXF1ZXN0ZWRQcmVjaXNpb24sIG1heFN1cHBvcnRlZFByZWNpc2lvbilcbntcbiAgICBpZiAoc3JjLnN1YnN0cmluZygwLCA5KSAhPT0gJ3ByZWNpc2lvbicpXG4gICAge1xuICAgICAgICAvLyBubyBwcmVjaXNpb24gc3VwcGxpZWQsIHNvIFBpeGlKUyB3aWxsIGFkZCB0aGUgcmVxdWVzdGVkIGxldmVsLlxuICAgICAgICBsZXQgcHJlY2lzaW9uID0gcmVxdWVzdGVkUHJlY2lzaW9uO1xuXG4gICAgICAgIC8vIElmIGhpZ2hwIGlzIHJlcXVlc3RlZCBidXQgbm90IHN1cHBvcnRlZCwgZG93bmdyYWRlIHByZWNpc2lvbiB0byBhIGxldmVsIGFsbCBkZXZpY2VzIHN1cHBvcnQuXG4gICAgICAgIGlmIChyZXF1ZXN0ZWRQcmVjaXNpb24gPT09IFBSRUNJU0lPTi5ISUdIICYmIG1heFN1cHBvcnRlZFByZWNpc2lvbiAhPT0gUFJFQ0lTSU9OLkhJR0gpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHByZWNpc2lvbiA9IFBSRUNJU0lPTi5NRURJVU07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYHByZWNpc2lvbiAke3ByZWNpc2lvbn0gZmxvYXQ7XFxuJHtzcmN9YDtcbiAgICB9XG4gICAgZWxzZSBpZiAobWF4U3VwcG9ydGVkUHJlY2lzaW9uICE9PSBQUkVDSVNJT04uSElHSCAmJiBzcmMuc3Vic3RyaW5nKDAsIDE1KSA9PT0gJ3ByZWNpc2lvbiBoaWdocCcpXG4gICAge1xuICAgICAgICAvLyBwcmVjaXNpb24gd2FzIHN1cHBsaWVkLCBidXQgYXQgYSBsZXZlbCB0aGlzIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0LCBzbyBkb3duZ3JhZGluZyB0byBtZWRpdW1wLlxuICAgICAgICByZXR1cm4gc3JjLnJlcGxhY2UoJ3ByZWNpc2lvbiBoaWdocCcsICdwcmVjaXNpb24gbWVkaXVtcCcpO1xuICAgIH1cblxuICAgIHJldHVybiBzcmM7XG59XG4iLCJjb25zdCBHTFNMX1RPX1NJWkUgPSB7XG4gICAgZmxvYXQ6ICAgIDEsXG4gICAgdmVjMjogICAgIDIsXG4gICAgdmVjMzogICAgIDMsXG4gICAgdmVjNDogICAgIDQsXG5cbiAgICBpbnQ6ICAgICAgMSxcbiAgICBpdmVjMjogICAgMixcbiAgICBpdmVjMzogICAgMyxcbiAgICBpdmVjNDogICAgNCxcblxuICAgIGJvb2w6ICAgICAxLFxuICAgIGJ2ZWMyOiAgICAyLFxuICAgIGJ2ZWMzOiAgICAzLFxuICAgIGJ2ZWM0OiAgICA0LFxuXG4gICAgbWF0MjogICAgIDQsXG4gICAgbWF0MzogICAgIDksXG4gICAgbWF0NDogICAgIDE2LFxuXG4gICAgc2FtcGxlcjJEOiAgMSxcbn07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBtZXRob2QgbWFwU2l6ZVxuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIHR5cGUge1N0cmluZ31cbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWFwU2l6ZSh0eXBlKVxue1xuICAgIHJldHVybiBHTFNMX1RPX1NJWkVbdHlwZV07XG59XG4iLCJsZXQgR0xfVEFCTEUgPSBudWxsO1xuXG5jb25zdCBHTF9UT19HTFNMX1RZUEVTID0ge1xuICAgIEZMT0FUOiAgICAgICAnZmxvYXQnLFxuICAgIEZMT0FUX1ZFQzI6ICAndmVjMicsXG4gICAgRkxPQVRfVkVDMzogICd2ZWMzJyxcbiAgICBGTE9BVF9WRUM0OiAgJ3ZlYzQnLFxuXG4gICAgSU5UOiAgICAgICAgICdpbnQnLFxuICAgIElOVF9WRUMyOiAgICAnaXZlYzInLFxuICAgIElOVF9WRUMzOiAgICAnaXZlYzMnLFxuICAgIElOVF9WRUM0OiAgICAnaXZlYzQnLFxuXG4gICAgQk9PTDogICAgICAgICdib29sJyxcbiAgICBCT09MX1ZFQzI6ICAgJ2J2ZWMyJyxcbiAgICBCT09MX1ZFQzM6ICAgJ2J2ZWMzJyxcbiAgICBCT09MX1ZFQzQ6ICAgJ2J2ZWM0JyxcblxuICAgIEZMT0FUX01BVDI6ICAnbWF0MicsXG4gICAgRkxPQVRfTUFUMzogICdtYXQzJyxcbiAgICBGTE9BVF9NQVQ0OiAgJ21hdDQnLFxuXG4gICAgU0FNUExFUl8yRDogICdzYW1wbGVyMkQnLFxuICAgIFNBTVBMRVJfQ1VCRTogICdzYW1wbGVyQ3ViZScsXG4gICAgU0FNUExFUl8yRF9BUlJBWTogICdzYW1wbGVyMkRBcnJheScsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYXBUeXBlKGdsLCB0eXBlKVxue1xuICAgIGlmICghR0xfVEFCTEUpXG4gICAge1xuICAgICAgICBjb25zdCB0eXBlTmFtZXMgPSBPYmplY3Qua2V5cyhHTF9UT19HTFNMX1RZUEVTKTtcblxuICAgICAgICBHTF9UQUJMRSA9IHt9O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHlwZU5hbWVzLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0biA9IHR5cGVOYW1lc1tpXTtcblxuICAgICAgICAgICAgR0xfVEFCTEVbZ2xbdG5dXSA9IEdMX1RPX0dMU0xfVFlQRVNbdG5dO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIEdMX1RBQkxFW3R5cGVdO1xufVxuIiwiLy8gY3YgPSBDYWNoZWRWYWx1ZVxuLy8gdiA9IHZhbHVlXG4vLyB1ZCA9IHVuaWZvcm1EYXRhXG4vLyB1diA9IHVuaWZvcm1WYWx1ZVxuLy8gbCA9IGxvY2F0aW9uXG5jb25zdCBHTFNMX1RPX1NJTkdMRV9TRVRURVJTX0NBQ0hFRCA9IHtcblxuICAgIGZsb2F0OiBgXG4gICAgaWYoY3YgIT09IHYpXG4gICAge1xuICAgICAgICBjdi52ID0gdjtcbiAgICAgICAgZ2wudW5pZm9ybTFmKGxvY2F0aW9uLCB2KVxuICAgIH1gLFxuXG4gICAgdmVjMjogYFxuICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdKVxuICAgIHtcbiAgICAgICAgY3ZbMF0gPSB2WzBdO1xuICAgICAgICBjdlsxXSA9IHZbMV07XG4gICAgICAgIGdsLnVuaWZvcm0yZihsb2NhdGlvbiwgdlswXSwgdlsxXSlcbiAgICB9YCxcblxuICAgIHZlYzM6IGBcbiAgICBpZihjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSB8fCBjdlsyXSAhPT0gdlsyXSlcbiAgICB7XG4gICAgICAgIGN2WzBdID0gdlswXTtcbiAgICAgICAgY3ZbMV0gPSB2WzFdO1xuICAgICAgICBjdlsyXSA9IHZbMl07XG5cbiAgICAgICAgZ2wudW5pZm9ybTNmKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdKVxuICAgIH1gLFxuXG4gICAgdmVjNDogICAgICdnbC51bmlmb3JtNGYobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pJyxcblxuICAgIGludDogICAgICAnZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KScsXG4gICAgaXZlYzI6ICAgICdnbC51bmlmb3JtMmkobG9jYXRpb24sIHZbMF0sIHZbMV0pJyxcbiAgICBpdmVjMzogICAgJ2dsLnVuaWZvcm0zaShsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSknLFxuICAgIGl2ZWM0OiAgICAnZ2wudW5pZm9ybTRpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKScsXG5cbiAgICBib29sOiAgICAgJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxuICAgIGJ2ZWMyOiAgICAnZ2wudW5pZm9ybTJpKGxvY2F0aW9uLCB2WzBdLCB2WzFdKScsXG4gICAgYnZlYzM6ICAgICdnbC51bmlmb3JtM2kobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0pJyxcbiAgICBidmVjNDogICAgJ2dsLnVuaWZvcm00aShsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSknLFxuXG4gICAgbWF0MjogICAgICdnbC51bmlmb3JtTWF0cml4MmZ2KGxvY2F0aW9uLCBmYWxzZSwgdiknLFxuICAgIG1hdDM6ICAgICAnZ2wudW5pZm9ybU1hdHJpeDNmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQ0OiAgICAgJ2dsLnVuaWZvcm1NYXRyaXg0ZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG5cbiAgICBzYW1wbGVyMkQ6ICAgICAgJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxuICAgIHNhbXBsZXJDdWJlOiAgICAnZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KScsXG4gICAgc2FtcGxlcjJEQXJyYXk6ICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbn07XG5cbmNvbnN0IEdMU0xfVE9fQVJSQVlfU0VUVEVSUyA9IHtcblxuICAgIGZsb2F0OiAgICBgZ2wudW5pZm9ybTFmdihsb2NhdGlvbiwgdilgLFxuXG4gICAgdmVjMjogICAgIGBnbC51bmlmb3JtMmZ2KGxvY2F0aW9uLCB2KWAsXG4gICAgdmVjMzogICAgIGBnbC51bmlmb3JtM2Z2KGxvY2F0aW9uLCB2KWAsXG4gICAgdmVjNDogICAgICdnbC51bmlmb3JtNGZ2KGxvY2F0aW9uLCB2KScsXG5cbiAgICBtYXQ0OiAgICAgJ2dsLnVuaWZvcm1NYXRyaXg0ZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgbWF0MzogICAgICdnbC51bmlmb3JtTWF0cml4M2Z2KGxvY2F0aW9uLCBmYWxzZSwgdiknLFxuICAgIG1hdDI6ICAgICAnZ2wudW5pZm9ybU1hdHJpeDJmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcblxuICAgIGludDogICAgICAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxuICAgIGl2ZWMyOiAgICAnZ2wudW5pZm9ybTJpdihsb2NhdGlvbiwgdiknLFxuICAgIGl2ZWMzOiAgICAnZ2wudW5pZm9ybTNpdihsb2NhdGlvbiwgdiknLFxuICAgIGl2ZWM0OiAgICAnZ2wudW5pZm9ybTRpdihsb2NhdGlvbiwgdiknLFxuXG4gICAgYm9vbDogICAgICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgYnZlYzI6ICAgICdnbC51bmlmb3JtMml2KGxvY2F0aW9uLCB2KScsXG4gICAgYnZlYzM6ICAgICdnbC51bmlmb3JtM2l2KGxvY2F0aW9uLCB2KScsXG4gICAgYnZlYzQ6ICAgICdnbC51bmlmb3JtNGl2KGxvY2F0aW9uLCB2KScsXG5cbiAgICBzYW1wbGVyMkQ6ICAgICAgJ2dsLnVuaWZvcm0xaXYobG9jYXRpb24sIHYpJyxcbiAgICBzYW1wbGVyQ3ViZTogICAgJ2dsLnVuaWZvcm0xaXYobG9jYXRpb24sIHYpJyxcbiAgICBzYW1wbGVyMkRBcnJheTogJ2dsLnVuaWZvcm0xaXYobG9jYXRpb24sIHYpJyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdlbmVyYXRlVW5pZm9ybXNTeW5jKGdyb3VwLCB1bmlmb3JtRGF0YSlcbntcbiAgICBsZXQgdGV4dHVyZUNvdW50ID0gMDtcbiAgICBsZXQgZnVuYyA9IGB2YXIgdiA9IG51bGw7XG4gICAgdmFyIGN2ID0gbnVsbFxuICAgIHZhciBnbCA9IHJlbmRlcmVyLmdsYDtcblxuICAgIGZvciAoY29uc3QgaSBpbiBncm91cC51bmlmb3JtcylcbiAgICB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB1bmlmb3JtRGF0YVtpXTtcblxuICAgICAgICBpZiAoIWRhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChncm91cC51bmlmb3Jtc1tpXS5ncm91cClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmdW5jICs9IGBcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIuc2hhZGVyLnN5bmNVbmlmb3JtR3JvdXAodXYuJHtpfSk7XG4gICAgICAgICAgICAgICAgYDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPICYmIHVuaWZvcm1EYXRhW2ldLnZhbHVlICE9PSAwIDwtLSBkbyB3ZSBzdGlsbCBuZWVkIHRoaXM/XG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdmbG9hdCcgJiYgZGF0YS5zaXplID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBmdW5jICs9IGBcbiAgICAgICAgICAgIGlmKHV2LiR7aX0gIT09IHVkLiR7aX0udmFsdWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdWQuJHtpfS52YWx1ZSA9IHV2LiR7aX1cbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMWYodWQuJHtpfS5sb2NhdGlvbiwgdXYuJHtpfSlcbiAgICAgICAgICAgIH1cXG5gO1xuICAgICAgICB9XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgZWxzZSBpZiAoKGRhdGEudHlwZSA9PT0gJ3NhbXBsZXIyRCcgfHwgZGF0YS50eXBlID09PSAnc2FtcGxlckN1YmUnIHx8IGRhdGEudHlwZSA9PT0gJ3NhbXBsZXIyREFycmF5JykgJiYgZGF0YS5zaXplID09PSAxICYmICFkYXRhLmlzQXJyYXkpXG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAge1xuICAgICAgICAgICAgZnVuYyArPSBgXG4gICAgICAgICAgICByZW5kZXJlci50ZXh0dXJlLmJpbmQodXYuJHtpfSwgJHt0ZXh0dXJlQ291bnR9KTtcblxuICAgICAgICAgICAgaWYodWQuJHtpfS52YWx1ZSAhPT0gJHt0ZXh0dXJlQ291bnR9KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHVkLiR7aX0udmFsdWUgPSAke3RleHR1cmVDb3VudH07XG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVkLiR7aX0ubG9jYXRpb24sICR7dGV4dHVyZUNvdW50fSk7XFxuOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG1heC1sZW5cbiAgICAgICAgICAgIH1cXG5gO1xuXG4gICAgICAgICAgICB0ZXh0dXJlQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdtYXQzJyAmJiBkYXRhLnNpemUgPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChncm91cC51bmlmb3Jtc1tpXS5hICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyBhbmQgc29tZSBzbWFydCBjYWNoaW5nIGRpcnR5IGlkcyBoZXJlIVxuICAgICAgICAgICAgICAgIGZ1bmMgKz0gYFxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXgzZnYodWQuJHtpfS5sb2NhdGlvbiwgZmFsc2UsIHV2LiR7aX0udG9BcnJheSh0cnVlKSk7XG4gICAgICAgICAgICAgICAgXFxuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmdW5jICs9IGBcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4M2Z2KHVkLiR7aX0ubG9jYXRpb24sIGZhbHNlLCB1di4ke2l9KTtcbiAgICAgICAgICAgICAgICBcXG5gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ3ZlYzInICYmIGRhdGEuc2l6ZSA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVE9ETyAtIGRvIHdlIG5lZWQgYm90aCBoZXJlP1xuICAgICAgICAgICAgLy8gbWF5YmUgd2UgY2FuIGdldCBhd2F5IHdpdGggb25seSB1c2luZyBwb2ludHM/XG4gICAgICAgICAgICBpZiAoZ3JvdXAudW5pZm9ybXNbaV0ueCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZ1bmMgKz0gYFxuICAgICAgICAgICAgICAgIGN2ID0gdWQuJHtpfS52YWx1ZTtcbiAgICAgICAgICAgICAgICB2ID0gdXYuJHtpfTtcblxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2LnggfHwgY3ZbMV0gIT09IHYueSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdi54O1xuICAgICAgICAgICAgICAgICAgICBjdlsxXSA9IHYueTtcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTJmKHVkLiR7aX0ubG9jYXRpb24sIHYueCwgdi55KTtcbiAgICAgICAgICAgICAgICB9XFxuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmdW5jICs9IGBcbiAgICAgICAgICAgICAgICBjdiA9IHVkLiR7aX0udmFsdWU7XG4gICAgICAgICAgICAgICAgdiA9IHV2LiR7aX07XG5cbiAgICAgICAgICAgICAgICBpZihjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdlswXTtcbiAgICAgICAgICAgICAgICAgICAgY3ZbMV0gPSB2WzFdO1xuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMmYodWQuJHtpfS5sb2NhdGlvbiwgdlswXSwgdlsxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxcbmA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YS50eXBlID09PSAndmVjNCcgJiYgZGF0YS5zaXplID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBUT0RPIC0gZG8gd2UgbmVlZCBib3RoIGhlcmU/XG4gICAgICAgICAgICAvLyBtYXliZSB3ZSBjYW4gZ2V0IGF3YXkgd2l0aCBvbmx5IHVzaW5nIHBvaW50cz9cbiAgICAgICAgICAgIGlmIChncm91cC51bmlmb3Jtc1tpXS53aWR0aCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZ1bmMgKz0gYFxuICAgICAgICAgICAgICAgIGN2ID0gdWQuJHtpfS52YWx1ZTtcbiAgICAgICAgICAgICAgICB2ID0gdXYuJHtpfTtcblxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2LnggfHwgY3ZbMV0gIT09IHYueSB8fCBjdlsyXSAhPT0gdi53aWR0aCB8fCBjdlszXSAhPT0gdi5oZWlnaHQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHYueDtcbiAgICAgICAgICAgICAgICAgICAgY3ZbMV0gPSB2Lnk7XG4gICAgICAgICAgICAgICAgICAgIGN2WzJdID0gdi53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgY3ZbM10gPSB2LmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTRmKHVkLiR7aX0ubG9jYXRpb24sIHYueCwgdi55LCB2LndpZHRoLCB2LmhlaWdodClcbiAgICAgICAgICAgICAgICB9XFxuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmdW5jICs9IGBcbiAgICAgICAgICAgICAgICBjdiA9IHVkLiR7aX0udmFsdWU7XG4gICAgICAgICAgICAgICAgdiA9IHV2LiR7aX07XG5cbiAgICAgICAgICAgICAgICBpZihjdlswXSAhPT0gdlswXSB8fCBjdlsxXSAhPT0gdlsxXSB8fCBjdlsyXSAhPT0gdlsyXSB8fCBjdlszXSAhPT0gdlszXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdlswXTtcbiAgICAgICAgICAgICAgICAgICAgY3ZbMV0gPSB2WzFdO1xuICAgICAgICAgICAgICAgICAgICBjdlsyXSA9IHZbMl07XG4gICAgICAgICAgICAgICAgICAgIGN2WzNdID0gdlszXTtcblxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGYodWQuJHtpfS5sb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXFxuYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlVHlwZSA9IChkYXRhLnNpemUgPT09IDEpID8gR0xTTF9UT19TSU5HTEVfU0VUVEVSU19DQUNIRUQgOiBHTFNMX1RPX0FSUkFZX1NFVFRFUlM7XG5cbiAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlID0gIHRlbXBsYXRlVHlwZVtkYXRhLnR5cGVdLnJlcGxhY2UoJ2xvY2F0aW9uJywgYHVkLiR7aX0ubG9jYXRpb25gKTtcblxuICAgICAgICAgICAgZnVuYyArPSBgXG4gICAgICAgICAgICBjdiA9IHVkLiR7aX0udmFsdWU7XG4gICAgICAgICAgICB2ID0gdXYuJHtpfTtcbiAgICAgICAgICAgICR7dGVtcGxhdGV9O1xcbmA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKCd1ZCcsICd1dicsICdyZW5kZXJlcicsIGZ1bmMpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldy1mdW5jXG59XG4iLCJjb25zdCBmcmFnVGVtcGxhdGUgPSBbXG4gICAgJ3ByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OycsXG4gICAgJ3ZvaWQgbWFpbih2b2lkKXsnLFxuICAgICdmbG9hdCB0ZXN0ID0gMC4xOycsXG4gICAgJyVmb3Jsb29wJScsXG4gICAgJ2dsX0ZyYWdDb2xvciA9IHZlYzQoMC4wKTsnLFxuICAgICd9Jyxcbl0uam9pbignXFxuJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXIobWF4SWZzLCBnbClcbntcbiAgICBpZiAobWF4SWZzID09PSAwKVxuICAgIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHZhbHVlIG9mIGAwYCBwYXNzZWQgdG8gYGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXJgJyk7XG4gICAgfVxuXG4gICAgY29uc3Qgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUik7XG5cbiAgICB3aGlsZSAodHJ1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zdGFudC1jb25kaXRpb25cbiAgICB7XG4gICAgICAgIGNvbnN0IGZyYWdtZW50U3JjID0gZnJhZ1RlbXBsYXRlLnJlcGxhY2UoLyVmb3Jsb29wJS9naSwgZ2VuZXJhdGVJZlRlc3RTcmMobWF4SWZzKSk7XG5cbiAgICAgICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgZnJhZ21lbnRTcmMpO1xuICAgICAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG5cbiAgICAgICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1heElmcyA9IChtYXhJZnMgLyAyKSB8IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB2YWxpZCFcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1heElmcztcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVJZlRlc3RTcmMobWF4SWZzKVxue1xuICAgIGxldCBzcmMgPSAnJztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4SWZzOyArK2kpXG4gICAge1xuICAgICAgICBpZiAoaSA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNyYyArPSAnXFxuZWxzZSAnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGkgPCBtYXhJZnMgLSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBzcmMgKz0gYGlmKHRlc3QgPT0gJHtpfS4wKXt9YDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzcmM7XG59XG4iLCIvLyBDYWNoZSB0aGUgcmVzdWx0IHRvIHByZXZlbnQgcnVubmluZyB0aGlzIG92ZXIgYW5kIG92ZXJcbmxldCB1bnNhZmVFdmFsO1xuXG4vKipcbiAqIE5vdCBhbGwgcGxhdGZvcm1zIGFsbG93IHRvIGdlbmVyYXRlIGZ1bmN0aW9uIGNvZGUgKGUuZy4sIGBuZXcgRnVuY3Rpb25gKS5cbiAqIHRoaXMgcHJvdmlkZXMgdGhlIHBsYXRmb3JtLWxldmVsIGRldGVjdGlvbi5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVuc2FmZUV2YWxTdXBwb3J0ZWQoKVxue1xuICAgIGlmICh0eXBlb2YgdW5zYWZlRXZhbCA9PT0gJ2Jvb2xlYW4nKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHVuc2FmZUV2YWw7XG4gICAgfVxuXG4gICAgdHJ5XG4gICAge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1uZXctZnVuYyAqL1xuICAgICAgICBjb25zdCBmdW5jID0gbmV3IEZ1bmN0aW9uKCdwYXJhbTEnLCAncGFyYW0yJywgJ3BhcmFtMycsICdyZXR1cm4gcGFyYW0xW3BhcmFtMl0gPT09IHBhcmFtMzsnKTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1uZXctZnVuYyAqL1xuXG4gICAgICAgIHVuc2FmZUV2YWwgPSBmdW5jKHsgYTogJ2InIH0sICdhJywgJ2InKSA9PT0gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpXG4gICAge1xuICAgICAgICB1bnNhZmVFdmFsID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuc2FmZUV2YWw7XG59XG4iLCIvLyBpbXBvcnQgKiBhcyBmcm9tICcuLi9zeXN0ZW1zL3NoYWRlci9zaGFkZXInO1xuaW1wb3J0IHsgc2V0UHJlY2lzaW9uLFxuICAgIGRlZmF1bHRWYWx1ZSxcbiAgICBjb21waWxlUHJvZ3JhbSxcbiAgICBtYXBTaXplLFxuICAgIG1hcFR5cGUsXG4gICAgZ2V0VGVzdENvbnRleHQsXG4gICAgZ2V0TWF4RnJhZ21lbnRQcmVjaXNpb24gfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7IFByb2dyYW1DYWNoZSB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCBkZWZhdWx0RnJhZ21lbnQgZnJvbSAnLi9kZWZhdWx0UHJvZ3JhbS5mcmFnJztcbmltcG9ydCBkZWZhdWx0VmVydGV4IGZyb20gJy4vZGVmYXVsdFByb2dyYW0udmVydCc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IFBSRUNJU0lPTiB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbmxldCBVSUQgPSAwO1xuXG5jb25zdCBuYW1lQ2FjaGUgPSB7fTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgc2hhZGVyIHByb2dyYW0uXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9ncmFtXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW25hbWVdIC0gTmFtZSBmb3Igc2hhZGVyXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodmVydGV4U3JjLCBmcmFnbWVudFNyYywgbmFtZSA9ICdwaXhpLXNoYWRlcicpXG4gICAge1xuICAgICAgICB0aGlzLmlkID0gVUlEKys7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleFNyYyA9IHZlcnRleFNyYyB8fCBQcm9ncmFtLmRlZmF1bHRWZXJ0ZXhTcmM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSBmcmFnbWVudFNyYyB8fCBQcm9ncmFtLmRlZmF1bHRGcmFnbWVudFNyYztcblxuICAgICAgICB0aGlzLnZlcnRleFNyYyA9IHRoaXMudmVydGV4U3JjLnRyaW0oKTtcbiAgICAgICAgdGhpcy5mcmFnbWVudFNyYyA9IHRoaXMuZnJhZ21lbnRTcmMudHJpbSgpO1xuXG4gICAgICAgIGlmICh0aGlzLnZlcnRleFNyYy5zdWJzdHJpbmcoMCwgOCkgIT09ICcjdmVyc2lvbicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1xccysvZywgJy0nKTtcblxuICAgICAgICAgICAgaWYgKG5hbWVDYWNoZVtuYW1lXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lQ2FjaGVbbmFtZV0rKztcbiAgICAgICAgICAgICAgICBuYW1lICs9IGAtJHtuYW1lQ2FjaGVbbmFtZV19YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lQ2FjaGVbbmFtZV0gPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnZlcnRleFNyYyA9IGAjZGVmaW5lIFNIQURFUl9OQU1FICR7bmFtZX1cXG4ke3RoaXMudmVydGV4U3JjfWA7XG4gICAgICAgICAgICB0aGlzLmZyYWdtZW50U3JjID0gYCNkZWZpbmUgU0hBREVSX05BTUUgJHtuYW1lfVxcbiR7dGhpcy5mcmFnbWVudFNyY31gO1xuXG4gICAgICAgICAgICB0aGlzLnZlcnRleFNyYyA9IHNldFByZWNpc2lvbih0aGlzLnZlcnRleFNyYywgc2V0dGluZ3MuUFJFQ0lTSU9OX1ZFUlRFWCwgUFJFQ0lTSU9OLkhJR0gpO1xuICAgICAgICAgICAgdGhpcy5mcmFnbWVudFNyYyA9IHNldFByZWNpc2lvbih0aGlzLmZyYWdtZW50U3JjLCBzZXR0aW5ncy5QUkVDSVNJT05fRlJBR01FTlQsIGdldE1heEZyYWdtZW50UHJlY2lzaW9uKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY3VycmVudGx5IHRoaXMgZG9lcyBub3QgZXh0cmFjdCBzdHJ1Y3RzIG9ubHkgZGVmYXVsdCB0eXBlc1xuICAgICAgICB0aGlzLmV4dHJhY3REYXRhKHRoaXMudmVydGV4U3JjLCB0aGlzLmZyYWdtZW50U3JjKTtcblxuICAgICAgICAvLyB0aGlzIGlzIHdoZXJlIHdlIHN0b3JlIHNoYWRlciByZWZlcmVuY2VzLi5cbiAgICAgICAgdGhpcy5nbFByb2dyYW1zID0ge307XG5cbiAgICAgICAgdGhpcy5zeW5jVW5pZm9ybXMgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHRoZSBkYXRhIGZvciBhIGJ1eSBjcmVhdGluZyBhIHNtYWxsIHRlc3QgcHJvZ3JhbVxuICAgICAqIG9yIHJlYWRpbmcgdGhlIHNyYyBkaXJlY3RseS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZlcnRleFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqL1xuICAgIGV4dHJhY3REYXRhKHZlcnRleFNyYywgZnJhZ21lbnRTcmMpXG4gICAge1xuICAgICAgICBjb25zdCBnbCA9IGdldFRlc3RDb250ZXh0KCk7XG5cbiAgICAgICAgaWYgKGdsKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwcm9ncmFtID0gY29tcGlsZVByb2dyYW0oZ2wsIHZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuXG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZURhdGEgPSB0aGlzLmdldEF0dHJpYnV0ZURhdGEocHJvZ3JhbSwgZ2wpO1xuICAgICAgICAgICAgdGhpcy51bmlmb3JtRGF0YSA9IHRoaXMuZ2V0VW5pZm9ybURhdGEocHJvZ3JhbSwgZ2wpO1xuXG4gICAgICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3JtRGF0YSA9IHt9O1xuICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVEYXRhID0ge307XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRoZSBhdHRyaWJ1dGUgZGF0YSBmcm9tIHRoZSBwcm9ncmFtXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xQcm9ncmFtfSBbcHJvZ3JhbV0gLSB0aGUgV2ViR0wgcHJvZ3JhbVxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBbZ2xdIC0gdGhlIFdlYkdMIGNvbnRleHRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IHRoZSBhdHRyaWJ1dGUgZGF0YSBmb3IgdGhpcyBwcm9ncmFtXG4gICAgICovXG4gICAgZ2V0QXR0cmlidXRlRGF0YShwcm9ncmFtLCBnbClcbiAgICB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlc0FycmF5ID0gW107XG5cbiAgICAgICAgY29uc3QgdG90YWxBdHRyaWJ1dGVzID0gZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5BQ1RJVkVfQVRUUklCVVRFUyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbEF0dHJpYnV0ZXM7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgYXR0cmliRGF0YSA9IGdsLmdldEFjdGl2ZUF0dHJpYihwcm9ncmFtLCBpKTtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBtYXBUeXBlKGdsLCBhdHRyaWJEYXRhLnR5cGUpO1xuXG4gICAgICAgICAgICAvKmVzbGludC1kaXNhYmxlICovXG4gICAgICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgbmFtZTogYXR0cmliRGF0YS5uYW1lLFxuICAgICAgICAgICAgICAgIHNpemU6IG1hcFNpemUodHlwZSksXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IDAsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSAqL1xuXG4gICAgICAgICAgICBhdHRyaWJ1dGVzW2F0dHJpYkRhdGEubmFtZV0gPSBkYXRhO1xuICAgICAgICAgICAgYXR0cmlidXRlc0FycmF5LnB1c2goZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBhdHRyaWJ1dGVzQXJyYXkuc29ydCgoYSwgYikgPT4gKGEubmFtZSA+IGIubmFtZSkgPyAxIDogLTEpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbmZ1c2luZy1hcnJvd1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cmlidXRlc0FycmF5Lmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzQXJyYXlbaV0ubG9jYXRpb24gPSBpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgdW5pZm9ybSBkYXRhIGZyb20gdGhlIHByb2dyYW1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHt3ZWJHTC1wcm9ncmFtfSBbcHJvZ3JhbV0gLSB0aGUgd2ViZ2wgcHJvZ3JhbVxuICAgICAqIEBwYXJhbSB7Y29udGV4dH0gW2dsXSAtIHRoZSBXZWJHTCBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSB0aGUgdW5pZm9ybSBkYXRhIGZvciB0aGlzIHByb2dyYW1cbiAgICAgKi9cbiAgICBnZXRVbmlmb3JtRGF0YShwcm9ncmFtLCBnbClcbiAgICB7XG4gICAgICAgIGNvbnN0IHVuaWZvcm1zID0ge307XG5cbiAgICAgICAgY29uc3QgdG90YWxVbmlmb3JtcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuQUNUSVZFX1VOSUZPUk1TKTtcblxuICAgICAgICAvLyBUT0RPIGV4cG9zZSB0aGlzIGFzIGEgcHJvcD9cbiAgICAgICAgLy8gY29uc3QgbWFza1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXihwcm9qZWN0aW9uTWF0cml4fHVTYW1wbGVyfHRyYW5zbGF0aW9uTWF0cml4KSQnKTtcbiAgICAgICAgLy8gY29uc3QgbWFza1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXihwcm9qZWN0aW9uTWF0cml4fHVTYW1wbGVyfHRyYW5zbGF0aW9uTWF0cml4KSQnKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsVW5pZm9ybXM7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdW5pZm9ybURhdGEgPSBnbC5nZXRBY3RpdmVVbmlmb3JtKHByb2dyYW0sIGkpO1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHVuaWZvcm1EYXRhLm5hbWUucmVwbGFjZSgvXFxbLio/XFxdLywgJycpO1xuXG4gICAgICAgICAgICBjb25zdCBpc0FycmF5ID0gdW5pZm9ybURhdGEubmFtZS5tYXRjaCgvXFxbLio/XFxdLywgJycpO1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IG1hcFR5cGUoZ2wsIHVuaWZvcm1EYXRhLnR5cGUpO1xuXG4gICAgICAgICAgICAvKmVzbGludC1kaXNhYmxlICovXG4gICAgICAgICAgICB1bmlmb3Jtc1tuYW1lXSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIHNpemU6IHVuaWZvcm1EYXRhLnNpemUsXG4gICAgICAgICAgICAgICAgaXNBcnJheTppc0FycmF5LFxuICAgICAgICAgICAgICAgIHZhbHVlOiBkZWZhdWx0VmFsdWUodHlwZSwgdW5pZm9ybURhdGEuc2l6ZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSAqL1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVuaWZvcm1zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHZlcnRleCBzaGFkZXIgc291cmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0YW50XG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgZGVmYXVsdFZlcnRleFNyYygpXG4gICAge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZlcnRleDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBmcmFnbWVudCBzaGFkZXIgc291cmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0YW50XG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgZGVmYXVsdEZyYWdtZW50U3JjKClcbiAgICB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0RnJhZ21lbnQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIHByb2dyYW0gYmFzZWQgb2YgYSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlclxuICAgICAqIHRoaXMgbWV0aG9kIHdpbGwgYWxzbyBjaGVjayB0byBzZWUgaWYgdGhlcmUgaXMgYSBjYWNoZWQgcHJvZ3JhbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmcmFnbWVudFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt1bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMgdG8gdXNlIHRvIGF1Z21lbnQgdGhlIGJ1aWx0LWluIG9uZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UElYSS5Qcm9ncmFtfSBhbiBzaGlueSBuZXcgUGl4aSBzaGFkZXIhXG4gICAgICovXG4gICAgc3RhdGljIGZyb20odmVydGV4U3JjLCBmcmFnbWVudFNyYywgbmFtZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGtleSA9IHZlcnRleFNyYyArIGZyYWdtZW50U3JjO1xuXG4gICAgICAgIGxldCBwcm9ncmFtID0gUHJvZ3JhbUNhY2hlW2tleV07XG5cbiAgICAgICAgaWYgKCFwcm9ncmFtKVxuICAgICAgICB7XG4gICAgICAgICAgICBQcm9ncmFtQ2FjaGVba2V5XSA9IHByb2dyYW0gPSBuZXcgUHJvZ3JhbSh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjLCBuYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwcm9ncmFtO1xuICAgIH1cbn1cbiIsImltcG9ydCBQcm9ncmFtIGZyb20gJy4vUHJvZ3JhbSc7XG5pbXBvcnQgVW5pZm9ybUdyb3VwIGZyb20gJy4vVW5pZm9ybUdyb3VwJztcblxuLyoqXG4gKiBBIGhlbHBlciBjbGFzcyBmb3Igc2hhZGVyc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuY2xhc3MgU2hhZGVyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlByb2dyYW19IFtwcm9ncmFtXSAtIFRoZSBwcm9ncmFtIHRoZSBzaGFkZXIgd2lsbCB1c2UuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt1bmlmb3Jtc10gLSBDdXN0b20gdW5pZm9ybXMgdG8gdXNlIHRvIGF1Z21lbnQgdGhlIGJ1aWx0LWluIG9uZXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocHJvZ3JhbSwgdW5pZm9ybXMpXG4gICAge1xuICAgICAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtO1xuXG4gICAgICAgIC8vIGxldHMgc2VlIHdoYXRzIGJlZW4gcGFzc2VkIGluXG4gICAgICAgIC8vIHVuaWZvcm1zIHNob3VsZCBiZSBjb252ZXJ0ZWQgdG8gYSB1bmlmb3JtIGdyb3VwXG4gICAgICAgIGlmICh1bmlmb3JtcylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHVuaWZvcm1zIGluc3RhbmNlb2YgVW5pZm9ybUdyb3VwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gdW5pZm9ybXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3JtR3JvdXAgPSBuZXcgVW5pZm9ybUdyb3VwKHVuaWZvcm1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gbmV3IFVuaWZvcm1Hcm91cCh7fSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aW1lIHRvIGJ1aWxkIHNvbWUgZ2V0dGVycyBhbmQgc2V0dGVycyFcbiAgICAgICAgLy8gSSBndWVzcyBkb3duIHRoZSBsaW5lIHRoaXMgY291bGQgc29ydCBvZiBnZW5lcmF0ZSBhbiBpbnN0cnVjdGlvbiBsaXN0IHJhdGhlciB0aGFuIHVzZSBkaXJ0eSBpZHM/XG4gICAgICAgIC8vIGRvZXMgdGhlIHRyaWNrIGZvciBub3cgdGhvdWdoIVxuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gcHJvZ3JhbS51bmlmb3JtRGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zW2ldIGluc3RhbmNlb2YgQXJyYXkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3JtR3JvdXAudW5pZm9ybXNbaV0gPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRPRE8gbW92ZSB0byBzaGFkZXIgc3lzdGVtLi5cbiAgICBjaGVja1VuaWZvcm1FeGlzdHMobmFtZSwgZ3JvdXApXG4gICAge1xuICAgICAgICBpZiAoZ3JvdXAudW5pZm9ybXNbbmFtZV0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChjb25zdCBpIGluIGdyb3VwLnVuaWZvcm1zKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB1bmlmb3JtID0gZ3JvdXAudW5pZm9ybXNbaV07XG5cbiAgICAgICAgICAgIGlmICh1bmlmb3JtLmdyb3VwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrVW5pZm9ybUV4aXN0cyhuYW1lLCB1bmlmb3JtKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIC8vIHVzYWdlIGNvdW50IG9uIHByb2dyYW1zP1xuICAgICAgICAvLyByZW1vdmUgaWYgbm90IHVzZWQhXG4gICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaGFkZXIgdW5pZm9ybSB2YWx1ZXMsIHNob3J0Y3V0IGZvciBgdW5pZm9ybUdyb3VwLnVuaWZvcm1zYFxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgKi9cbiAgICBnZXQgdW5pZm9ybXMoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybUdyb3VwLnVuaWZvcm1zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCBmdW5jdGlvbiB0byBjcmVhdGUgYSBzaGFkZXIgYmFzZWQgb2YgYSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt2ZXJ0ZXhTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgdmVydGV4IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3VuaWZvcm1zXSAtIEN1c3RvbSB1bmlmb3JtcyB0byB1c2UgdG8gYXVnbWVudCB0aGUgYnVpbHQtaW4gb25lcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQSVhJLlNoYWRlcn0gYW4gc2hpbnkgbmV3IFBpeGkgc2hhZGVyIVxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIHVuaWZvcm1zKVxuICAgIHtcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IFByb2dyYW0uZnJvbSh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKTtcblxuICAgICAgICByZXR1cm4gbmV3IFNoYWRlcihwcm9ncmFtLCB1bmlmb3Jtcyk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTaGFkZXI7XG4iLCJpbXBvcnQgeyBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxuY29uc3QgQkxFTkQgPSAwO1xuY29uc3QgT0ZGU0VUID0gMTtcbmNvbnN0IENVTExJTkcgPSAyO1xuY29uc3QgREVQVEhfVEVTVCA9IDM7XG5jb25zdCBXSU5ESU5HID0gNDtcblxuLyoqXG4gKiBUaGlzIGlzIGEgV2ViR0wgc3RhdGUsIGFuZCBpcyBpcyBwYXNzZWQgVGhlIFdlYkdMIFN0YXRlTWFuYWdlci5cbiAqXG4gKiBFYWNoIG1lc2ggcmVuZGVyZWQgbWF5IHJlcXVpcmUgV2ViR0wgdG8gYmUgaW4gYSBkaWZmZXJlbnQgc3RhdGUuXG4gKiBGb3IgZXhhbXBsZSB5b3UgbWF5IHdhbnQgZGlmZmVyZW50IGJsZW5kIG1vZGUgb3IgdG8gZW5hYmxlIHBvbHlnb24gb2Zmc2V0c1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhdGVcbntcbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICB0aGlzLmRhdGEgPSAwO1xuXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgICAgICB0aGlzLnBvbHlnb25PZmZzZXQgPSAwO1xuXG4gICAgICAgIHRoaXMuYmxlbmQgPSB0cnVlO1xuICAgICAgICAvLyAgdGhpcy5kZXB0aFRlc3QgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFjdGl2YXRlcyBibGVuZGluZyBvZiB0aGUgY29tcHV0ZWQgZnJhZ21lbnQgY29sb3IgdmFsdWVzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBibGVuZCgpXG4gICAge1xuICAgICAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgQkxFTkQpKTtcbiAgICB9XG5cbiAgICBzZXQgYmxlbmQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IEJMRU5EKSkgIT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgXj0gKDEgPDwgQkxFTkQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWN0aXZhdGVzIGFkZGluZyBhbiBvZmZzZXQgdG8gZGVwdGggdmFsdWVzIG9mIHBvbHlnb24ncyBmcmFnbWVudHNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBnZXQgb2Zmc2V0cygpXG4gICAge1xuICAgICAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgT0ZGU0VUKSk7XG4gICAgfVxuXG4gICAgc2V0IG9mZnNldHModmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IE9GRlNFVCkpICE9PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IE9GRlNFVCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBY3RpdmF0ZXMgY3VsbGluZyBvZiBwb2x5Z29ucy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBnZXQgY3VsbGluZygpXG4gICAge1xuICAgICAgICByZXR1cm4gISEodGhpcy5kYXRhICYgKDEgPDwgQ1VMTElORykpO1xuICAgIH1cblxuICAgIHNldCBjdWxsaW5nKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBDVUxMSU5HKSkgIT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgXj0gKDEgPDwgQ1VMTElORyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBY3RpdmF0ZXMgZGVwdGggY29tcGFyaXNvbnMgYW5kIHVwZGF0ZXMgdG8gdGhlIGRlcHRoIGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBnZXQgZGVwdGhUZXN0KClcbiAgICB7XG4gICAgICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBERVBUSF9URVNUKSk7XG4gICAgfVxuXG4gICAgc2V0IGRlcHRoVGVzdCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgREVQVEhfVEVTVCkpICE9PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IERFUFRIX1RFU1QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IGZyb250IG9yIGJhY2stZmFjaW5nIHBvbHlnb25zIGNhbiBiZSBjdWxsZWQuXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIGdldCBjbG9ja3dpc2VGcm9udEZhY2UoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmICgxIDw8IFdJTkRJTkcpKTtcbiAgICB9XG5cbiAgICBzZXQgY2xvY2t3aXNlRnJvbnRGYWNlKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBXSU5ESU5HKSkgIT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgXj0gKDEgPDwgV0lORElORyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHdoZW4gdGhpcyBzdGF0ZSBpcyBzZXQuIEFwcGx5IGEgdmFsdWUgb2YgYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgKiBTZXR0aW5nIHRoaXMgbW9kZSB0byBhbnl0aGluZyBvdGhlciB0aGFuIE5PX0JMRU5EIHdpbGwgYXV0b21hdGljYWxseSBzd2l0Y2ggYmxlbmRpbmcgb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICovXG4gICAgZ2V0IGJsZW5kTW9kZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYmxlbmRNb2RlO1xuICAgIH1cblxuICAgIHNldCBibGVuZE1vZGUodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5ibGVuZCA9ICh2YWx1ZSAhPT0gQkxFTkRfTU9ERVMuTk9ORSk7XG4gICAgICAgIHRoaXMuX2JsZW5kTW9kZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBwb2x5Z29uIG9mZnNldC4gU2V0dGluZyB0aGlzIHByb3BlcnR5IHRvIGFueXRoaW5nIG90aGVyIHRoYW4gMCB3aWxsIGF1dG9tYXRpY2FsbHkgZW5hYmxlIHBvbHlnb24gb2Zmc2V0IGZpbGwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIGdldCBwb2x5Z29uT2Zmc2V0KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb2x5Z29uT2Zmc2V0O1xuICAgIH1cblxuICAgIHNldCBwb2x5Z29uT2Zmc2V0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMub2Zmc2V0cyA9ICEhdmFsdWU7XG4gICAgICAgIHRoaXMuX3BvbHlnb25PZmZzZXQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZm9yMmQoKVxuICAgIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBuZXcgU3RhdGUoKTtcblxuICAgICAgICBzdGF0ZS5kZXB0aFRlc3QgPSBmYWxzZTtcbiAgICAgICAgc3RhdGUuYmxlbmQgPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG59XG5cbiIsImltcG9ydCBTaGFkZXIgZnJvbSAnLi4vc2hhZGVyL1NoYWRlcic7XG5pbXBvcnQgUHJvZ3JhbSBmcm9tICcuLi9zaGFkZXIvUHJvZ3JhbSc7XG5pbXBvcnQgU3RhdGUgZnJvbSAnLi4vc3RhdGUvU3RhdGUnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgZGVmYXVsdFZlcnRleCBmcm9tICcuL2RlZmF1bHRGaWx0ZXIudmVydCc7XG5pbXBvcnQgZGVmYXVsdEZyYWdtZW50IGZyb20gJy4vZGVmYXVsdEZpbHRlci5mcmFnJztcblxuLyoqXG4gKiBGaWx0ZXIgaXMgYSBzcGVjaWFsIHR5cGUgb2YgV2ViR0wgc2hhZGVyIHRoYXQgaXMgYXBwbGllZCB0byB0aGUgc2NyZWVuLlxuICpcbiAqIHtAbGluayBodHRwOi8vcGl4aWpzLmlvL2V4YW1wbGVzLyMvZmlsdGVycy9ibHVyLWZpbHRlci5qcyBFeGFtcGxlfSBvZiB0aGVcbiAqIHtAbGluayBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlciBCbHVyRmlsdGVyfS5cbiAqXG4gKiAjIyMgVXNhZ2VcbiAqIEZpbHRlcnMgY2FuIGJlIGFwcGxpZWQgdG8gYW55IERpc3BsYXlPYmplY3Qgb3IgQ29udGFpbmVyLlxuICogUGl4aUpTJyBgRmlsdGVyU3lzdGVtYCByZW5kZXJzIHRoZSBjb250YWluZXIgaW50byB0ZW1wb3JhcnkgRnJhbWVidWZmZXIsXG4gKiB0aGVuIGZpbHRlciByZW5kZXJzIGl0IHRvIHRoZSBzY3JlZW4uXG4gKiBNdWx0aXBsZSBmaWx0ZXJzIGNhbiBiZSBhZGRlZCB0byB0aGUgYGZpbHRlcnNgIGFycmF5IHByb3BlcnR5IGFuZCBzdGFja2VkIG9uIGVhY2ggb3RoZXIuXG4gKlxuICogYGBgXG4gKiBjb25zdCBmaWx0ZXIgPSBuZXcgUElYSS5GaWx0ZXIobXlTaGFkZXJWZXJ0LCBteVNoYWRlckZyYWcsIHsgbXlVbmlmb3JtOiAwLjUgfSk7XG4gKiBjb25zdCBjb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAqIGNvbnRhaW5lci5maWx0ZXJzID0gW2ZpbHRlcl07XG4gKiBgYGBcbiAqXG4gKiAjIyMgUHJldmlvdXMgVmVyc2lvbiBEaWZmZXJlbmNlc1xuICpcbiAqIEluIFBpeGlKUyAqKnYzKiosIGEgZmlsdGVyIHdhcyBhbHdheXMgYXBwbGllZCB0byBfd2hvbGUgc2NyZWVuXy5cbiAqXG4gKiBJbiBQaXhpSlMgKip2NCoqLCBhIGZpbHRlciBjYW4gYmUgYXBwbGllZCBfb25seSBwYXJ0IG9mIHRoZSBzY3JlZW5fLlxuICogRGV2ZWxvcGVycyBoYWQgdG8gY3JlYXRlIGEgc2V0IG9mIHVuaWZvcm1zIHRvIGRlYWwgd2l0aCBjb29yZGluYXRlcy5cbiAqXG4gKiBJbiBQaXhpSlMgKip2NSoqIGNvbWJpbmVzIF9ib3RoIGFwcHJvYWNoZXNfLlxuICogRGV2ZWxvcGVycyBjYW4gdXNlIG5vcm1hbCBjb29yZGluYXRlcyBvZiB2MyBhbmQgdGhlbiBhbGxvdyBmaWx0ZXIgdG8gdXNlIHBhcnRpYWwgRnJhbWVidWZmZXJzLFxuICogYnJpbmdpbmcgdGhvc2UgZXh0cmEgdW5pZm9ybXMgaW50byBhY2NvdW50LlxuICpcbiAqIEFsc28gYmUgYXdhcmUgdGhhdCB3ZSBoYXZlIGNoYW5nZWQgZGVmYXVsdCB2ZXJ0ZXggc2hhZGVyLCBwbGVhc2UgY29uc3VsdFxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy93aWtpL3Y1LUNyZWF0aW5nLWZpbHRlcnMgV2lraX0uXG4gKlxuICogIyMjIEJ1aWx0LWluIFVuaWZvcm1zXG4gKlxuICogUGl4aUpTIHZpZXdwb3J0IHVzZXMgc2NyZWVuIChDU1MpIGNvb3JkaW5hdGVzLCBgKDAsIDAsIHJlbmRlcmVyLnNjcmVlbi53aWR0aCwgcmVuZGVyZXIuc2NyZWVuLmhlaWdodClgLFxuICogYW5kIGBwcm9qZWN0aW9uTWF0cml4YCB1bmlmb3JtIG1hcHMgaXQgdG8gdGhlIGdsIHZpZXdwb3J0LlxuICpcbiAqICoqdVNhbXBsZXIqKlxuICpcbiAqIFRoZSBtb3N0IGltcG9ydGFudCB1bmlmb3JtIGlzIHRoZSBpbnB1dCB0ZXh0dXJlIHRoYXQgY29udGFpbmVyIHdhcyByZW5kZXJlZCBpbnRvLlxuICogX0ltcG9ydGFudCBub3RlOiBhcyB3aXRoIGFsbCBGcmFtZWJ1ZmZlcnMgaW4gUGl4aUpTLCBib3RoIGlucHV0IGFuZCBvdXRwdXQgYXJlXG4gKiBwcmVtdWx0aXBsaWVkIGJ5IGFscGhhLl9cbiAqXG4gKiBCeSBkZWZhdWx0LCBpbnB1dCBub3JtYWxpemVkIGNvb3JkaW5hdGVzIGFyZSBwYXNzZWQgdG8gZnJhZ21lbnQgc2hhZGVyIHdpdGggYHZUZXh0dXJlQ29vcmRgLlxuICogVXNlIGl0IHRvIHNhbXBsZSB0aGUgaW5wdXQuXG4gKlxuICogYGBgXG4gKiBjb25zdCBmcmFnbWVudCA9IGBcbiAqIHZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xuICogdW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XG4gKiB2b2lkIG1haW4odm9pZClcbiAqIHtcbiAqICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XG4gKiB9XG4gKiBgO1xuICpcbiAqIGNvbnN0IG15RmlsdGVyID0gbmV3IFBJWEkuRmlsdGVyKG51bGwsIGZyYWdtZW50KTtcbiAqIGBgYFxuICpcbiAqIFRoaXMgZmlsdGVyIGlzIGp1c3Qgb25lIHVuaWZvcm0gbGVzcyB0aGFuIHtAbGluayBQSVhJLmZpbHRlcnMuQWxwaGFGaWx0ZXIgQWxwaGFGaWx0ZXJ9LlxuICpcbiAqICoqb3V0cHV0RnJhbWUqKlxuICpcbiAqIFRoZSBgb3V0cHV0RnJhbWVgIGhvbGRzIHRoZSByZWN0YW5nbGUgd2hlcmUgZmlsdGVyIGlzIGFwcGxpZWQgaW4gc2NyZWVuIChDU1MpIGNvb3JkaW5hdGVzLlxuICogSXQncyB0aGUgc2FtZSBhcyBgcmVuZGVyZXIuc2NyZWVuYCBmb3IgYSBmdWxsc2NyZWVuIGZpbHRlci5cbiAqIE9ubHkgYSBwYXJ0IG9mICBgb3V0cHV0RnJhbWUuendgIHNpemUgb2YgdGVtcG9yYXJ5IEZyYW1lYnVmZmVyIGlzIHVzZWQsXG4gKiBgKDAsIDAsIG91dHB1dEZyYW1lLndpZHRoLCBvdXRwdXRGcmFtZS5oZWlnaHQpYCxcbiAqXG4gKiBGaWx0ZXJzIHVzZXMgdGhpcyBxdWFkIHRvIG5vcm1hbGl6ZWQgKDAtMSkgc3BhY2UsIGl0cyBwYXNzZWQgaW50byBgYVZlcnRleFBvc2l0aW9uYCBhdHRyaWJ1dGUuXG4gKiBUbyBjYWxjdWxhdGUgdmVydGV4IHBvc2l0aW9uIGluIHNjcmVlbiBzcGFjZSB1c2luZyBub3JtYWxpemVkICgwLTEpIHNwYWNlOlxuICpcbiAqIGBgYFxuICogdmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXG4gKiB7XG4gKiAgICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XG4gKiAgICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xuICogfVxuICogYGBgXG4gKlxuICogKippbnB1dFNpemUqKlxuICpcbiAqIFRlbXBvcmFyeSBmcmFtZWJ1ZmZlciBpcyBkaWZmZXJlbnQsIGl0IGNhbiBiZSBlaXRoZXIgdGhlIHNpemUgb2Ygc2NyZWVuLCBlaXRoZXIgcG93ZXItb2YtdHdvLlxuICogVGhlIGBpbnB1dFNpemUueHlgIGFyZSBzaXplIG9mIHRlbXBvcmFyeSBmcmFtZWJ1ZmZlciB0aGF0IGhvbGRzIGlucHV0LlxuICogVGhlIGBpbnB1dFNpemUuendgIGlzIGludmVydGVkLCBpdCdzIGEgc2hvcnRjdXQgdG8gZXZhZGUgZGl2aXNpb24gaW5zaWRlIHRoZSBzaGFkZXIuXG4gKlxuICogU2V0IGBpbnB1dFNpemUueHkgPSBvdXRwdXRGcmFtZS56d2AgZm9yIGEgZnVsbHNjcmVlbiBmaWx0ZXIuXG4gKlxuICogVG8gY2FsY3VsYXRlIGlucHV0IG5vcm1hbGl6ZWQgY29vcmRpbmF0ZSwgeW91IGhhdmUgdG8gbWFwIGl0IHRvIGZpbHRlciBub3JtYWxpemVkIHNwYWNlLlxuICogTXVsdGlwbHkgYnkgYG91dHB1dEZyYW1lLnp3YCB0byBnZXQgaW5wdXQgY29vcmRpbmF0ZS5cbiAqIERpdmlkZSBieSBgaW5wdXRTaXplLnh5YCB0byBnZXQgaW5wdXQgbm9ybWFsaXplZCBjb29yZGluYXRlLlxuICpcbiAqIGBgYFxuICogdmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxuICoge1xuICogICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpOyAvLyBzYW1lIGFzIC9pbnB1dFNpemUueHlcbiAqIH1cbiAqIGBgYFxuICogKipyZXNvbHV0aW9uKipcbiAqXG4gKiBUaGUgYHJlc29sdXRpb25gIGlzIHRoZSByYXRpbyBvZiBzY3JlZW4gKENTUykgcGl4ZWxzIHRvIHJlYWwgcGl4ZWxzLlxuICpcbiAqICoqaW5wdXRQaXhlbCoqXG4gKlxuICogYGlucHV0UGl4ZWwueHlgIGlzIHRoZSBzaXplIG9mIGZyYW1lYnVmZmVyIGluIHJlYWwgcGl4ZWxzLCBzYW1lIGFzIGBpbnB1dFNpemUueHkgKiByZXNvbHV0aW9uYFxuICogYGlucHV0UGl4ZWwuendgIGlzIGludmVydGVkIGBpbnB1dFBpeGVsLnh5YC5cbiAqXG4gKiBJdCdzIGhhbmR5IGZvciBmaWx0ZXJzIHRoYXQgdXNlIG5laWdoYm91ciBwaXhlbHMsIGxpa2Uge0BsaW5rIFBJWEkuZmlsdGVycy5GWEFBRmlsdGVyIEZYQUFGaWx0ZXJ9LlxuICpcbiAqICoqaW5wdXRDbGFtcCoqXG4gKlxuICogSWYgeW91IHRyeSB0byBnZXQgaW5mbyBmcm9tIG91dHNpZGUgb2YgdXNlZCBwYXJ0IG9mIEZyYW1lYnVmZmVyIC0geW91J2xsIGdldCB1bmRlZmluZWQgYmVoYXZpb3VyLlxuICogRm9yIGRpc3BsYWNlbWVudHMsIGNvb3JkaW5hdGVzIGhhcyB0byBiZSBjbGFtcGVkLlxuICpcbiAqIFRoZSBgaW5wdXRDbGFtcC54eWAgaXMgbGVmdC10b3AgcGl4ZWwgY2VudGVyLCB5b3UgbWF5IGlnbm9yZSBpdCwgYmVjYXVzZSB3ZSB1c2UgbGVmdC10b3AgcGFydCBvZiBGcmFtZWJ1ZmZlclxuICogYGlucHV0Q2xhbXAuendgIGlzIGJvdHRvbS1yaWdodCBwaXhlbCBjZW50ZXIuXG4gKlxuICogYGBgXG4gKiB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjbGFtcChtb2RpZmlnZWRUZXh0dXJlQ29vcmQsIGlucHV0Q2xhbXAueHksIGlucHV0Q2xhbXAuencpKVxuICogYGBgXG4gKiBPUlxuICogYGBgXG4gKiB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBtaW4obW9kaWZpZ2VkVGV4dHVyZUNvb3JkLCBpbnB1dENsYW1wLnp3KSlcbiAqIGBgYFxuICpcbiAqICMjIyBBZGRpdGlvbmFsIEluZm9ybWF0aW9uXG4gKlxuICogQ29tcGxldGUgZG9jdW1lbnRhdGlvbiBvbiBGaWx0ZXIgdXNhZ2UgaXMgbG9jYXRlZCBpbiB0aGVcbiAqIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvd2lraS92NS1DcmVhdGluZy1maWx0ZXJzIFdpa2l9LlxuICpcbiAqIFNpbmNlIFBpeGlKUyBvbmx5IGhhZCBhIGhhbmRmdWwgb2YgYnVpbHQtaW4gZmlsdGVycywgYWRkaXRpb25hbCBmaWx0ZXJzIGNhbiBiZSBkb3dubG9hZGVkXG4gKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLWZpbHRlcnMgaGVyZX0gZnJvbSB0aGUgUGl4aUpTIEZpbHRlcnMgcmVwb3NpdG9yeS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlNoYWRlclxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGaWx0ZXIgZXh0ZW5kcyBTaGFkZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ZlcnRleFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZnJhZ21lbnRTcmNdIC0gVGhlIHNvdXJjZSBvZiB0aGUgZnJhZ21lbnQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbdW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIHVuaWZvcm1zKVxuICAgIHtcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IFByb2dyYW0uZnJvbSh2ZXJ0ZXhTcmMgfHwgRmlsdGVyLmRlZmF1bHRWZXJ0ZXhTcmMsXG4gICAgICAgICAgICBmcmFnbWVudFNyYyB8fCBGaWx0ZXIuZGVmYXVsdEZyYWdtZW50U3JjKTtcblxuICAgICAgICBzdXBlcihwcm9ncmFtLCB1bmlmb3Jtcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwYWRkaW5nIG9mIHRoZSBmaWx0ZXIuIFNvbWUgZmlsdGVycyByZXF1aXJlIGV4dHJhIHNwYWNlIHRvIGJyZWF0aCBzdWNoIGFzIGEgYmx1ci5cbiAgICAgICAgICogSW5jcmVhc2luZyB0aGlzIHdpbGwgYWRkIGV4dHJhIHdpZHRoIGFuZCBoZWlnaHQgdG8gdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0IHRoYXQgdGhlXG4gICAgICAgICAqIGZpbHRlciBpcyBhcHBsaWVkIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBhZGRpbmcgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgZmlsdGVyLiBTZXR0aW5nIHRoaXMgdG8gYmUgbG93ZXIgd2lsbCBsb3dlciB0aGUgcXVhbGl0eSBidXRcbiAgICAgICAgICogaW5jcmVhc2UgdGhlIHBlcmZvcm1hbmNlIG9mIHRoZSBmaWx0ZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHNldHRpbmdzLkZJTFRFUl9SRVNPTFVUSU9OO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBlbmFibGVkIGlzIHRydWUgdGhlIGZpbHRlciBpcyBhcHBsaWVkLCBpZiBmYWxzZSBpdCB3aWxsIG5vdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGVuYWJsZWQsIFBpeGlKUyB3aWxsIGZpdCB0aGUgZmlsdGVyIGFyZWEgaW50byBib3VuZGFyaWVzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuXG4gICAgICAgICAqIFN3aXRjaCBpdCBvZmYgaWYgaXQgZG9lcyBub3Qgd29yayBmb3Igc3BlY2lmaWMgc2hhZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvRml0ID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTGVnYWN5IGZpbHRlcnMgdXNlIHBvc2l0aW9uIGFuZCB1dnMgZnJvbSBhdHRyaWJ1dGVzXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sZWdhY3kgPSAhIXRoaXMucHJvZ3JhbS5hdHRyaWJ1dGVEYXRhLmFUZXh0dXJlQ29vcmQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBXZWJHTCBzdGF0ZSB0aGUgZmlsdGVyIHJlcXVpcmVzIHRvIHJlbmRlclxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0ZSA9IG5ldyBTdGF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIHJlbmRlcmVyIHRvIHJldHJpZXZlIHRoZSBmaWx0ZXIgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0XG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtjdXJyZW50U3RhdGVdIC0gSXQncyBjdXJyZW50IHN0YXRlIG9mIGZpbHRlci5cbiAgICAgKiAgICAgICAgVGhlcmUgYXJlIHNvbWUgdXNlZnVsIHByb3BlcnRpZXMgaW4gdGhlIGN1cnJlbnRTdGF0ZSA6XG4gICAgICogICAgICAgIHRhcmdldCwgZmlsdGVycywgc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUsIHJlbmRlclRhcmdldCwgcmVzb2x1dGlvblxuICAgICAqL1xuICAgIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyLCBjdXJyZW50U3RhdGUpXG4gICAge1xuICAgICAgICAvLyBkbyBhcyB5b3UgcGxlYXNlIVxuXG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXIsIGN1cnJlbnRTdGF0ZSk7XG5cbiAgICAgICAgLy8gb3IganVzdCBkbyBhIHJlZ3VsYXIgcmVuZGVyLi5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBibGVuZG1vZGUgb2YgdGhlIGZpbHRlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICovXG4gICAgZ2V0IGJsZW5kTW9kZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5ibGVuZE1vZGU7XG4gICAgfVxuXG4gICAgc2V0IGJsZW5kTW9kZSh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHZlcnRleCBzaGFkZXIgc291cmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGRlZmF1bHRWZXJ0ZXhTcmMoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWZXJ0ZXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogQGNvbnN0YW50XG4gICAgICovXG4gICAgc3RhdGljIGdldCBkZWZhdWx0RnJhZ21lbnRTcmMoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRGcmFnbWVudDtcbiAgICB9XG59XG5cbi8qKlxuICogVXNlZCBmb3IgY2FjaGluZyBzaGFkZXIgSURzXG4gKlxuICogQHN0YXRpY1xuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm90ZWN0ZWRcbiAqL1xuRmlsdGVyLlNPVVJDRV9LRVlfTUFQID0ge307XG5cbiIsImltcG9ydCB7IE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG5jb25zdCB0ZW1wTWF0ID0gbmV3IE1hdHJpeCgpO1xuXG4vKipcbiAqIENsYXNzIGNvbnRyb2xzIHV2IG1hcHBpbmcgZnJvbSBUZXh0dXJlIG5vcm1hbCBzcGFjZSB0byBCYXNlVGV4dHVyZSBub3JtYWwgc3BhY2UuXG4gKlxuICogVGFrZXMgYHRyaW1gIGFuZCBgcm90YXRlYCBpbnRvIGFjY291bnQuIE1heSBjb250YWluIGNsYW1wIHNldHRpbmdzIGZvciBNZXNoZXMgYW5kIFRpbGluZ1Nwcml0ZS5cbiAqXG4gKiBDYW4gYmUgdXNlZCBpbiBUZXh0dXJlIGB1dk1hdHJpeGAgZmllbGQsIG9yIHNlcGFyYXRlbHksIHlvdSBjYW4gdXNlIGRpZmZlcmVudCBjbGFtcCBzZXR0aW5ncyBvbiB0aGUgc2FtZSB0ZXh0dXJlLlxuICogSWYgeW91IHdhbnQgdG8gYWRkIHN1cHBvcnQgZm9yIHRleHR1cmUgcmVnaW9uIG9mIGNlcnRhaW4gZmVhdHVyZSBvciBmaWx0ZXIsIHRoYXQncyB3aGF0IHlvdSdyZSBsb29raW5nIGZvci5cbiAqXG4gKiBUYWtlcyB0cmFjayBvZiBUZXh0dXJlIGNoYW5nZXMgdGhyb3VnaCBgX2xhc3RUZXh0dXJlSURgIHByaXZhdGUgZmllbGQuXG4gKiBVc2UgYHVwZGF0ZSgpYCBtZXRob2QgY2FsbCB0byB0cmFjayBpdCBmcm9tIG91dHNpZGUuXG4gKlxuICogQHNlZSBQSVhJLlRleHR1cmVcbiAqIEBzZWUgUElYSS5NZXNoXG4gKiBAc2VlIFBJWEkuVGlsaW5nU3ByaXRlXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHR1cmVNYXRyaXhcbntcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIG9ic2VydmVkIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NsYW1wTWFyZ2luXSBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nLCAwLjUgYnkgZGVmYXVsdC4gVXNlIC0wLjUgZm9yIGV4dHJhIGJvcmRlci5cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0ZXh0dXJlLCBjbGFtcE1hcmdpbilcbiAgICB7XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB0ZXh0dXJlO1xuXG4gICAgICAgIHRoaXMubWFwQ29vcmQgPSBuZXcgTWF0cml4KCk7XG5cbiAgICAgICAgdGhpcy51Q2xhbXBGcmFtZSA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG5cbiAgICAgICAgdGhpcy51Q2xhbXBPZmZzZXQgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFja3MgVGV4dHVyZSBmcmFtZSBjaGFuZ2VzXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdXBkYXRlSUQgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZ1xuICAgICAgICAgKiBXb3JrcyB3aXRoIFRpbGluZ1Nwcml0ZSBhbmQgTWVzaFxuICAgICAgICAgKiBDaGFuZ2UgdG8gMS41IGlmIHlvdSB0ZXh0dXJlIGhhcyByZXBlYXRlZCByaWdodCBhbmQgYm90dG9tIGxpbmVzLCB0aGF0IGxlYWRzIHRvIHNtb290aGVyIGJvcmRlcnNcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsYW1wT2Zmc2V0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZ1xuICAgICAgICAgKiBXb3JrcyB3aXRoIFRpbGluZ1Nwcml0ZSBhbmQgTWVzaFxuICAgICAgICAgKiBDaGFuZ2UgdG8gLTAuNSB0byBhZGQgYSBwaXhlbCB0byB0aGUgZWRnZSwgcmVjb21tZW5kZWQgZm9yIHRyYW5zcGFyZW50IHRyaW1tZWQgdGV4dHVyZXMgaW4gYXRsYXNcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlZmF1bHQgMC41XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xhbXBNYXJnaW4gPSAodHlwZW9mIGNsYW1wTWFyZ2luID09PSAndW5kZWZpbmVkJykgPyAwLjUgOiBjbGFtcE1hcmdpbjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGV4dHVyZSBzaXplIGlzIHRoZSBzYW1lIGFzIGJhc2VUZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc1NpbXBsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHRleHR1cmUgcHJvcGVydHlcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgZ2V0IHRleHR1cmUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHR1cmU7XG4gICAgfVxuXG4gICAgc2V0IHRleHR1cmUodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl91cGRhdGVJRCA9IC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdXZzIGFycmF5IHRvIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB1dnMgbWVzaCB1dnNcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dD11dnNdIG91dHB1dFxuICAgICAqIEByZXR1cm5zIHtGbG9hdDMyQXJyYXl9IG91dHB1dFxuICAgICAqL1xuICAgIG11bHRpcGx5VXZzKHV2cywgb3V0KVxuICAgIHtcbiAgICAgICAgaWYgKG91dCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBvdXQgPSB1dnM7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtYXQgPSB0aGlzLm1hcENvb3JkO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXZzLmxlbmd0aDsgaSArPSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB4ID0gdXZzW2ldO1xuICAgICAgICAgICAgY29uc3QgeSA9IHV2c1tpICsgMV07XG5cbiAgICAgICAgICAgIG91dFtpXSA9ICh4ICogbWF0LmEpICsgKHkgKiBtYXQuYykgKyBtYXQudHg7XG4gICAgICAgICAgICBvdXRbaSArIDFdID0gKHggKiBtYXQuYikgKyAoeSAqIG1hdC5kKSArIG1hdC50eTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdXBkYXRlcyBtYXRyaWNlcyBpZiB0ZXh0dXJlIHdhcyBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZm9yY2VVcGRhdGU9ZmFsc2VdIGlmIHRydWUsIG1hdHJpY2VzIHdpbGwgYmUgdXBkYXRlZCBhbnkgY2FzZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB3aGV0aGVyIG9yIG5vdCBpdCB3YXMgdXBkYXRlZFxuICAgICAqL1xuICAgIHVwZGF0ZShmb3JjZVVwZGF0ZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHRleCA9IHRoaXMuX3RleHR1cmU7XG5cbiAgICAgICAgaWYgKCF0ZXggfHwgIXRleC52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFmb3JjZVVwZGF0ZVxuICAgICAgICAgICAgJiYgdGhpcy5fdXBkYXRlSUQgPT09IHRleC5fdXBkYXRlSUQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gdGV4Ll91cGRhdGVJRDtcblxuICAgICAgICBjb25zdCB1dnMgPSB0ZXguX3V2cztcblxuICAgICAgICB0aGlzLm1hcENvb3JkLnNldCh1dnMueDEgLSB1dnMueDAsIHV2cy55MSAtIHV2cy55MCwgdXZzLngzIC0gdXZzLngwLCB1dnMueTMgLSB1dnMueTAsIHV2cy54MCwgdXZzLnkwKTtcblxuICAgICAgICBjb25zdCBvcmlnID0gdGV4Lm9yaWc7XG4gICAgICAgIGNvbnN0IHRyaW0gPSB0ZXgudHJpbTtcblxuICAgICAgICBpZiAodHJpbSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGVtcE1hdC5zZXQob3JpZy53aWR0aCAvIHRyaW0ud2lkdGgsIDAsIDAsIG9yaWcuaGVpZ2h0IC8gdHJpbS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgLXRyaW0ueCAvIHRyaW0ud2lkdGgsIC10cmltLnkgLyB0cmltLmhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLm1hcENvb3JkLmFwcGVuZCh0ZW1wTWF0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRleEJhc2UgPSB0ZXguYmFzZVRleHR1cmU7XG4gICAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy51Q2xhbXBGcmFtZTtcbiAgICAgICAgY29uc3QgbWFyZ2luID0gdGhpcy5jbGFtcE1hcmdpbiAvIHRleEJhc2UucmVzb2x1dGlvbjtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5jbGFtcE9mZnNldDtcblxuICAgICAgICBmcmFtZVswXSA9ICh0ZXguX2ZyYW1lLnggKyBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS53aWR0aDtcbiAgICAgICAgZnJhbWVbMV0gPSAodGV4Ll9mcmFtZS55ICsgbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2UuaGVpZ2h0O1xuICAgICAgICBmcmFtZVsyXSA9ICh0ZXguX2ZyYW1lLnggKyB0ZXguX2ZyYW1lLndpZHRoIC0gbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2Uud2lkdGg7XG4gICAgICAgIGZyYW1lWzNdID0gKHRleC5fZnJhbWUueSArIHRleC5fZnJhbWUuaGVpZ2h0IC0gbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2UuaGVpZ2h0O1xuICAgICAgICB0aGlzLnVDbGFtcE9mZnNldFswXSA9IG9mZnNldCAvIHRleEJhc2UucmVhbFdpZHRoO1xuICAgICAgICB0aGlzLnVDbGFtcE9mZnNldFsxXSA9IG9mZnNldCAvIHRleEJhc2UucmVhbEhlaWdodDtcblxuICAgICAgICB0aGlzLmlzU2ltcGxlID0gdGV4Ll9mcmFtZS53aWR0aCA9PT0gdGV4QmFzZS53aWR0aFxuICAgICAgICAgICAgJiYgdGV4Ll9mcmFtZS5oZWlnaHQgPT09IHRleEJhc2UuaGVpZ2h0XG4gICAgICAgICAgICAmJiB0ZXgucm90YXRlID09PSAwO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbiIsImltcG9ydCBGaWx0ZXIgZnJvbSAnLi4vRmlsdGVyJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHZlcnRleCBmcm9tICcuL3Nwcml0ZU1hc2tGaWx0ZXIudmVydCc7XG5pbXBvcnQgZnJhZ21lbnQgZnJvbSAnLi9zcHJpdGVNYXNrRmlsdGVyLmZyYWcnO1xuaW1wb3J0IHsgZGVmYXVsdCBhcyBUZXh0dXJlTWF0cml4IH0gZnJvbSAnLi4vLi4vdGV4dHVyZXMvVGV4dHVyZU1hdHJpeCc7XG5cbi8qKlxuICogVGhpcyBoYW5kbGVzIGEgU3ByaXRlIGFjdGluZyBhcyBhIG1hc2ssIGFzIG9wcG9zZWQgdG8gYSBHcmFwaGljLlxuICpcbiAqIFdlYkdMIG9ubHkuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3ByaXRlTWFza0ZpbHRlciBleHRlbmRzIEZpbHRlclxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IHNwcml0ZSAtIHRoZSB0YXJnZXQgc3ByaXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc3ByaXRlKVxuICAgIHtcbiAgICAgICAgY29uc3QgbWFza01hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICBzdXBlcih2ZXJ0ZXgsIGZyYWdtZW50KTtcblxuICAgICAgICBzcHJpdGUucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcHJpdGUgbWFza1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFza1Nwcml0ZSA9IHNwcml0ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWFzayBtYXRyaXhcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hc2tNYXRyaXggPSBtYXNrTWF0cml4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIHJlbmRlcmVyIHRvIHJldHJpZXZlIHRoZSBmaWx0ZXIgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNsZWFyIC0gU2hvdWxkIHRoZSBvdXRwdXQgYmUgY2xlYXJlZCBiZWZvcmUgcmVuZGVyaW5nIHRvIGl0LlxuICAgICAqL1xuICAgIGFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKVxuICAgIHtcbiAgICAgICAgY29uc3QgbWFza1Nwcml0ZSA9IHRoaXMubWFza1Nwcml0ZTtcbiAgICAgICAgY29uc3QgdGV4ID0gdGhpcy5tYXNrU3ByaXRlLnRleHR1cmU7XG5cbiAgICAgICAgaWYgKCF0ZXgudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRleC50cmFuc2Zvcm0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIG1hcmdpbiA9IDAuMCwgbGV0IGl0IGJsZWVkIGEgYml0LCBzaGFkZXIgY29kZSBiZWNvbWVzIGVhc2llclxuICAgICAgICAgICAgLy8gYXNzdW1pbmcgdGhhdCBhdGxhcyB0ZXh0dXJlcyB3ZXJlIG1hZGUgd2l0aCAxLXBpeGVsIHBhZGRpbmdcbiAgICAgICAgICAgIHRleC50cmFuc2Zvcm0gPSBuZXcgVGV4dHVyZU1hdHJpeCh0ZXgsIDAuMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGV4LnRyYW5zZm9ybS51cGRhdGUoKTtcblxuICAgICAgICB0aGlzLnVuaWZvcm1zLm5wbUFscGhhID0gdGV4LmJhc2VUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEgPyAwLjAgOiAxLjA7XG4gICAgICAgIHRoaXMudW5pZm9ybXMubWFzayA9IHRleDtcbiAgICAgICAgLy8gZ2V0IF9ub3JtYWxpemVkIHNwcml0ZSB0ZXh0dXJlIGNvb3Jkc18gYW5kIGNvbnZlcnQgdGhlbSB0byBfbm9ybWFsaXplZCBhdGxhcyB0ZXh0dXJlIGNvb3Jkc18gd2l0aCBgcHJlcGVuZGBcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5vdGhlck1hdHJpeCA9IGZpbHRlck1hbmFnZXIuY2FsY3VsYXRlU3ByaXRlTWF0cml4KHRoaXMubWFza01hdHJpeCwgbWFza1Nwcml0ZSlcbiAgICAgICAgICAgIC5wcmVwZW5kKHRleC50cmFuc2Zvcm0ubWFwQ29vcmQpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLmFscGhhID0gbWFza1Nwcml0ZS53b3JsZEFscGhhO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLm1hc2tDbGFtcCA9IHRleC50cmFuc2Zvcm0udUNsYW1wRnJhbWU7XG5cbiAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhcik7XG4gICAgfVxufVxuIiwiaW1wb3J0IFN5c3RlbSBmcm9tICcuLi9TeXN0ZW0nO1xuaW1wb3J0IFNwcml0ZU1hc2tGaWx0ZXIgZnJvbSAnLi4vZmlsdGVycy9zcHJpdGVNYXNrL1Nwcml0ZU1hc2tGaWx0ZXInO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBtYXNrcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hc2tTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW1cbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICAvLyBUT0RPIC0gd2UgZG9uJ3QgbmVlZCBib3RoIVxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIGN1cnJlbnQgcHVzaGVkIG1hc2tlZCBpcyBzY2lzc29yXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2lzc29yID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hc2sgZGF0YVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2Npc3NvckRhdGEgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUYXJnZXQgdG8gbWFza1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2lzc29yUmVuZGVyVGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRW5hYmxlIHNjaXNzb3JcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVuYWJsZVNjaXNzb3IgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiB1c2VkIHNwcml0ZSBtYXNrIGZpbHRlcnNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TcHJpdGVNYXNrRmlsdGVyW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbHBoYU1hc2tQb29sID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgaW5kZXggb2YgYWxwaGEgbWFzayBwb29sXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWxwaGFNYXNrSW5kZXggPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgZmlsdGVyIHN0YWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHB1c2ggdGhlIG1hc2sgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfFBJWEkuR3JhcGhpY3N9IG1hc2tEYXRhIC0gVGhlIG1hc2tpbmcgZGF0YS5cbiAgICAgKi9cbiAgICBwdXNoKHRhcmdldCwgbWFza0RhdGEpXG4gICAge1xuICAgICAgICAvLyBUT0RPIHRoZSByb290IGNoZWNrIG1lYW5zIHNjaXNzb3IgcmVjdCB3aWxsIG5vdFxuICAgICAgICAvLyBiZSB1c2VkIG9uIHJlbmRlciB0ZXh0dXJlcyBtb3JlIGluZm8gaGVyZTpcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL3B1bGwvMzU0NVxuXG4gICAgICAgIGlmIChtYXNrRGF0YS5pc1Nwcml0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wdXNoU3ByaXRlTWFzayh0YXJnZXQsIG1hc2tEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmVuYWJsZVNjaXNzb3JcbiAgICAgICAgICAgICYmICF0aGlzLnNjaXNzb3JcbiAgICAgICAgICAgICYmIHRoaXMucmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldC5yb290XG4gICAgICAgICAgICAmJiAhdGhpcy5yZW5kZXJlci5zdGVuY2lsLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoXG4gICAgICAgICAgICAmJiBtYXNrRGF0YS5pc0Zhc3RSZWN0KCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdHJpeCA9IG1hc2tEYXRhLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgICAgICBsZXQgcm90ID0gTWF0aC5hdGFuMihtYXRyaXguYiwgbWF0cml4LmEpO1xuXG4gICAgICAgICAgICAvLyB1c2UgdGhlIG5lYXJlc3QgZGVncmVlIVxuICAgICAgICAgICAgcm90ID0gTWF0aC5yb3VuZChyb3QgKiAoMTgwIC8gTWF0aC5QSSkpO1xuXG4gICAgICAgICAgICBpZiAocm90ICUgOTApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoU3RlbmNpbE1hc2sobWFza0RhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucHVzaFNjaXNzb3JNYXNrKHRhcmdldCwgbWFza0RhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wdXNoU3RlbmNpbE1hc2sobWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGFzdCBtYXNrIGZyb20gdGhlIG1hc2sgc3RhY2sgYW5kIGRvZXNuJ3QgcmV0dXJuIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHBvcCB0aGUgbWFzayBmcm9tXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZXxQSVhJLkdyYXBoaWNzfSBtYXNrRGF0YSAtIFRoZSBtYXNraW5nIGRhdGEuXG4gICAgICovXG4gICAgcG9wKHRhcmdldCwgbWFza0RhdGEpXG4gICAge1xuICAgICAgICBpZiAobWFza0RhdGEuaXNTcHJpdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucG9wU3ByaXRlTWFzayh0YXJnZXQsIG1hc2tEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmVuYWJsZVNjaXNzb3IgJiYgIXRoaXMucmVuZGVyZXIuc3RlbmNpbC5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wb3BTY2lzc29yTWFzayh0YXJnZXQsIG1hc2tEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucG9wU3RlbmNpbE1hc2sodGFyZ2V0LCBtYXNrRGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwdXNoIHRoZSBzcHJpdGUgbWFzayB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IG1hc2tEYXRhIC0gU3ByaXRlIHRvIGJlIHVzZWQgYXMgdGhlIG1hc2tcbiAgICAgKi9cbiAgICBwdXNoU3ByaXRlTWFzayh0YXJnZXQsIG1hc2tEYXRhKVxuICAgIHtcbiAgICAgICAgbGV0IGFscGhhTWFza0ZpbHRlciA9IHRoaXMuYWxwaGFNYXNrUG9vbFt0aGlzLmFscGhhTWFza0luZGV4XTtcblxuICAgICAgICBpZiAoIWFscGhhTWFza0ZpbHRlcilcbiAgICAgICAge1xuICAgICAgICAgICAgYWxwaGFNYXNrRmlsdGVyID0gdGhpcy5hbHBoYU1hc2tQb29sW3RoaXMuYWxwaGFNYXNrSW5kZXhdID0gW25ldyBTcHJpdGVNYXNrRmlsdGVyKG1hc2tEYXRhKV07XG4gICAgICAgIH1cblxuICAgICAgICBhbHBoYU1hc2tGaWx0ZXJbMF0ucmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgYWxwaGFNYXNrRmlsdGVyWzBdLm1hc2tTcHJpdGUgPSBtYXNrRGF0YTtcblxuICAgICAgICBjb25zdCBzdGFzaEZpbHRlckFyZWEgPSB0YXJnZXQuZmlsdGVyQXJlYTtcblxuICAgICAgICB0YXJnZXQuZmlsdGVyQXJlYSA9IG1hc2tEYXRhLmdldEJvdW5kcyh0cnVlKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5maWx0ZXIucHVzaCh0YXJnZXQsIGFscGhhTWFza0ZpbHRlcik7XG4gICAgICAgIHRhcmdldC5maWx0ZXJBcmVhID0gc3Rhc2hGaWx0ZXJBcmVhO1xuXG4gICAgICAgIHRoaXMuYWxwaGFNYXNrSW5kZXgrKztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBsYXN0IGZpbHRlciBmcm9tIHRoZSBmaWx0ZXIgc3RhY2sgYW5kIGRvZXNuJ3QgcmV0dXJuIGl0LlxuICAgICAqXG4gICAgICovXG4gICAgcG9wU3ByaXRlTWFzaygpXG4gICAge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmZpbHRlci5wb3AoKTtcbiAgICAgICAgdGhpcy5hbHBoYU1hc2tJbmRleC0tO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgZmlsdGVyIHN0YWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZXxQSVhJLkdyYXBoaWNzfSBtYXNrRGF0YSAtIFRoZSBtYXNraW5nIGRhdGEuXG4gICAgICovXG4gICAgcHVzaFN0ZW5jaWxNYXNrKG1hc2tEYXRhKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWwucHVzaFN0ZW5jaWwobWFza0RhdGEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgZmlsdGVyIGZyb20gdGhlIGZpbHRlciBzdGFjayBhbmQgZG9lc24ndCByZXR1cm4gaXQuXG4gICAgICpcbiAgICAgKi9cbiAgICBwb3BTdGVuY2lsTWFzaygpXG4gICAge1xuICAgICAgICAvLyB0aGlzLnJlbmRlcmVyLmN1cnJlbnRSZW5kZXJlci5zdG9wKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbC5wb3BTdGVuY2lsKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gdGFyZ2V0IC0gRGlzcGxheSBPYmplY3QgdG8gcHVzaCB0aGUgbWFzayB0b1xuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc30gbWFza0RhdGEgLSBUaGUgbWFza2luZyBkYXRhLlxuICAgICAqL1xuICAgIHB1c2hTY2lzc29yTWFzayh0YXJnZXQsIG1hc2tEYXRhKVxuICAgIHtcbiAgICAgICAgbWFza0RhdGEucmVuZGVyYWJsZSA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgcmVuZGVyVGFyZ2V0ID0gdGhpcy5yZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IG1hc2tEYXRhLmdldEJvdW5kcygpO1xuXG4gICAgICAgIGJvdW5kcy5maXQocmVuZGVyVGFyZ2V0LnNpemUpO1xuICAgICAgICBtYXNrRGF0YS5yZW5kZXJhYmxlID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5nbC5lbmFibGUodGhpcy5yZW5kZXJlci5nbC5TQ0lTU09SX1RFU1QpO1xuXG4gICAgICAgIGNvbnN0IHJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5nbC5zY2lzc29yKFxuICAgICAgICAgICAgYm91bmRzLnggKiByZXNvbHV0aW9uLFxuICAgICAgICAgICAgKHJlbmRlclRhcmdldC5yb290ID8gcmVuZGVyVGFyZ2V0LnNpemUuaGVpZ2h0IC0gYm91bmRzLnkgLSBib3VuZHMuaGVpZ2h0IDogYm91bmRzLnkpICogcmVzb2x1dGlvbixcbiAgICAgICAgICAgIGJvdW5kcy53aWR0aCAqIHJlc29sdXRpb24sXG4gICAgICAgICAgICBib3VuZHMuaGVpZ2h0ICogcmVzb2x1dGlvblxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuc2Npc3NvclJlbmRlclRhcmdldCA9IHJlbmRlclRhcmdldDtcbiAgICAgICAgdGhpcy5zY2lzc29yRGF0YSA9IG1hc2tEYXRhO1xuICAgICAgICB0aGlzLnNjaXNzb3IgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBvcCBzY2lzc29yIG1hc2tcbiAgICAgKlxuICAgICAqL1xuICAgIHBvcFNjaXNzb3JNYXNrKClcbiAgICB7XG4gICAgICAgIHRoaXMuc2Npc3NvclJlbmRlclRhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMuc2Npc3NvckRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnNjaXNzb3IgPSBmYWxzZTtcblxuICAgICAgICAvLyBtdXN0IGJlIHNjaXNzb3IhXG4gICAgICAgIGNvbnN0IHsgZ2wgfSA9IHRoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgZ2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgIH1cbn1cbiIsImltcG9ydCBTeXN0ZW0gZnJvbSAnLi4vU3lzdGVtJztcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2Ugc3RlbmNpbHMgKHVzZWQgZm9yIG1hc2tzKS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0ZW5jaWxTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW1cbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hc2sgc3RhY2tcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc1tdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGVuY2lsTWFza1N0YWNrID0gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgbWFzayBzdGFjayB0aGF0IGlzIHVzZWQgYnkgdGhpcyBTeXN0ZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NbXX0gc3RlbmNpbE1hc2tTdGFjayAtIFRoZSBtYXNrIHN0YWNrXG4gICAgICovXG4gICAgc2V0TWFza1N0YWNrKHN0ZW5jaWxNYXNrU3RhY2spXG4gICAge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgaWYgKHN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoICE9PSB0aGlzLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoc3RlbmNpbE1hc2tTdGFjay5sZW5ndGggPT09IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsLmVuYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGVuY2lsTWFza1N0YWNrID0gc3RlbmNpbE1hc2tTdGFjaztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IHN0ZW5jaWwgc3RhY2suIEBhbHZpblxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzfSBncmFwaGljcyAtIFRoZSBtYXNrXG4gICAgICovXG4gICAgcHVzaFN0ZW5jaWwoZ3JhcGhpY3MpXG4gICAge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIGNvbnN0IHByZXZNYXNrQ291bnQgPSB0aGlzLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoO1xuXG4gICAgICAgIGlmIChwcmV2TWFza0NvdW50ID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5lbmFibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RlbmNpbE1hc2tTdGFjay5wdXNoKGdyYXBoaWNzKTtcblxuICAgICAgICAvLyBJbmNyZW1lbnQgdGhlIHJlZmVyZW5jZSBzdGVuY2lsIHZhbHVlIHdoZXJlIHRoZSBuZXcgbWFzayBvdmVybGFwcyB3aXRoIHRoZSBvbGQgb25lcy5cbiAgICAgICAgZ2wuY29sb3JNYXNrKGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgZ2wuc3RlbmNpbEZ1bmMoZ2wuRVFVQUwsIHByZXZNYXNrQ291bnQsIHRoaXMuX2dldEJpdHdpc2VNYXNrKCkpO1xuICAgICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuSU5DUik7XG5cbiAgICAgICAgZ3JhcGhpY3MucmVuZGVyYWJsZSA9IHRydWU7XG4gICAgICAgIGdyYXBoaWNzLnJlbmRlcih0aGlzLnJlbmRlcmVyKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICBncmFwaGljcy5yZW5kZXJhYmxlID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgbWFzayBmcm9tIHRoZSBzdGVuY2lsIHN0YWNrLiBAYWx2aW5cbiAgICAgKi9cbiAgICBwb3BTdGVuY2lsKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgY29uc3QgZ3JhcGhpY3MgPSB0aGlzLnN0ZW5jaWxNYXNrU3RhY2sucG9wKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGggPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHRoZSBzdGFjayBpcyBlbXB0eSFcbiAgICAgICAgICAgIGdsLmRpc2FibGUoZ2wuU1RFTkNJTF9URVNUKTtcbiAgICAgICAgICAgIGdsLmNsZWFyKGdsLlNURU5DSUxfQlVGRkVSX0JJVCk7XG4gICAgICAgICAgICBnbC5jbGVhclN0ZW5jaWwoMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBEZWNyZW1lbnQgdGhlIHJlZmVyZW5jZSBzdGVuY2lsIHZhbHVlIHdoZXJlIHRoZSBwb3BwZWQgbWFzayBvdmVybGFwcyB3aXRoIHRoZSBvdGhlciBvbmVzXG4gICAgICAgICAgICBnbC5jb2xvck1hc2soZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLkRFQ1IpO1xuXG4gICAgICAgICAgICBncmFwaGljcy5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIGdyYXBoaWNzLnJlbmRlcih0aGlzLnJlbmRlcmVyKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgICAgIGdyYXBoaWNzLnJlbmRlcmFibGUgPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dXAgcmVuZGVyZXIgdG8gdXNlIHRoZSBjdXJyZW50IHN0ZW5jaWwgZGF0YS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF91c2VDdXJyZW50KClcbiAgICB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICBnbC5jb2xvck1hc2sodHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIGdsLnN0ZW5jaWxGdW5jKGdsLkVRVUFMLCB0aGlzLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoLCB0aGlzLl9nZXRCaXR3aXNlTWFzaygpKTtcbiAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLktFRVApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbGwgMXMgZXF1YWwgdG8gdGhlIG51bWJlciBvZiBhY2l0dmUgc3RlbmNpbCBtYXNrcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGJpdHdpc2UgbWFzay5cbiAgICAgKi9cbiAgICBfZ2V0Qml0d2lzZU1hc2soKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICgxIDw8IHRoaXMuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGgpIC0gMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgbWFzayBzdGFjay5cbiAgICAgKlxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveSh0aGlzKTtcblxuICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrU3RhY2sgPSBudWxsO1xuICAgIH1cbn1cbiIsImltcG9ydCBTeXN0ZW0gZnJvbSAnLi4vU3lzdGVtJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSB0aGUgcHJvamVjdGlvbiBtYXRyaXguXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2plY3Rpb25TeXN0ZW0gZXh0ZW5kcyBTeXN0ZW1cbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVzdGluYXRpb24gZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU291cmNlIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IGRlc3RpbmF0aW9uIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVmYXVsdEZyYW1lID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvamVjdCBtYXRyaXhcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHRyYW5zZm9ybSB0aGF0IHdpbGwgYmUgYXBwZW5kZWQgdG8gdGhlIHByb2plY3Rpb24gbWF0cml4XG4gICAgICAgICAqIGlmIG51bGwsIG5vdGhpbmcgd2lsbCBiZSBhcHBsaWVkXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHByb2plY3Rpb24gbWF0cml4IGJhc2VkIG9uIGEgcHJvamVjdGlvbiBmcmFtZSAod2hpY2ggaXMgYSByZWN0YW5nbGUpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBkZXN0aW5hdGlvbkZyYW1lIC0gVGhlIGRlc3RpbmF0aW9uIGZyYW1lLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHNvdXJjZUZyYW1lIC0gVGhlIHNvdXJjZSBmcmFtZS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcmVzb2x1dGlvbiAtIFJlc29sdXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJvb3QgLSBJZiBpcyByb290XG4gICAgICovXG4gICAgdXBkYXRlKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCByb290KVxuICAgIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lID0gZGVzdGluYXRpb25GcmFtZSB8fCB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgfHwgdGhpcy5kZWZhdWx0RnJhbWU7XG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUgPSBzb3VyY2VGcmFtZSB8fCB0aGlzLnNvdXJjZUZyYW1lIHx8IGRlc3RpbmF0aW9uRnJhbWU7XG5cbiAgICAgICAgdGhpcy5jYWxjdWxhdGVQcm9qZWN0aW9uKHRoaXMuZGVzdGluYXRpb25GcmFtZSwgdGhpcy5zb3VyY2VGcmFtZSwgcmVzb2x1dGlvbiwgcm9vdCk7XG5cbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnByb2plY3Rpb25NYXRyaXguYXBwZW5kKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlbmRlcmVyID0gIHRoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMudW5pZm9ybXMucHJvamVjdGlvbk1hdHJpeCA9IHRoaXMucHJvamVjdGlvbk1hdHJpeDtcbiAgICAgICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMudXBkYXRlKCk7XG5cbiAgICAgICAgLy8gdGhpcyB3aWxsIHdvcmsgZm9yIG5vd1xuICAgICAgICAvLyBidXQgd291bGQgYmUgc3dlZXQgdG8gc3RpY2sgYW5kIGV2ZW4gb24gdGhlIGdsb2JhbCB1bmlmb3Jtcy4uXG4gICAgICAgIGlmIChyZW5kZXJlci5zaGFkZXIuc2hhZGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJlci5zaGFkZXIuc3luY1VuaWZvcm1Hcm91cChyZW5kZXJlci5zaGFkZXIuc2hhZGVyLnVuaWZvcm1zLmdsb2JhbHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgcHJvamVjdGlvbiBtYXRyaXggYmFzZWQgb24gYSBwcm9qZWN0aW9uIGZyYW1lICh3aGljaCBpcyBhIHJlY3RhbmdsZSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGRlc3RpbmF0aW9uRnJhbWUgLSBUaGUgZGVzdGluYXRpb24gZnJhbWUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gc291cmNlRnJhbWUgLSBUaGUgc291cmNlIGZyYW1lLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByZXNvbHV0aW9uIC0gUmVzb2x1dGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcm9vdCAtIElmIGlzIHJvb3RcbiAgICAgKi9cbiAgICBjYWxjdWxhdGVQcm9qZWN0aW9uKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCByb290KVxuICAgIHtcbiAgICAgICAgY29uc3QgcG0gPSB0aGlzLnByb2plY3Rpb25NYXRyaXg7XG5cbiAgICAgICAgLy8gSSBkb24ndCB0aGluayB3ZSB3aWxsIG5lZWQgdGhpcyBsaW5lLi5cbiAgICAgICAgLy8gcG0uaWRlbnRpdHkoKTtcblxuICAgICAgICBpZiAoIXJvb3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBtLmEgPSAoMSAvIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggKiAyKSAqIHJlc29sdXRpb247XG4gICAgICAgICAgICBwbS5kID0gKDEgLyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCAqIDIpICogcmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgcG0udHggPSAtMSAtIChzb3VyY2VGcmFtZS54ICogcG0uYSk7XG4gICAgICAgICAgICBwbS50eSA9IC0xIC0gKHNvdXJjZUZyYW1lLnkgKiBwbS5kKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBtLmEgPSAoMSAvIGRlc3RpbmF0aW9uRnJhbWUud2lkdGggKiAyKSAqIHJlc29sdXRpb247XG4gICAgICAgICAgICBwbS5kID0gKC0xIC8gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgKiAyKSAqIHJlc29sdXRpb247XG5cbiAgICAgICAgICAgIHBtLnR4ID0gLTEgLSAoc291cmNlRnJhbWUueCAqIHBtLmEpO1xuICAgICAgICAgICAgcG0udHkgPSAxIC0gKHNvdXJjZUZyYW1lLnkgKiBwbS5kKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHRyYW5zZm9ybSBvZiB0aGUgYWN0aXZlIHJlbmRlciB0YXJnZXQgdG8gdGhlIGdpdmVuIG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgICAqL1xuICAgIHNldFRyYW5zZm9ybSgpLy8gbWF0cml4KVxuICAgIHtcbiAgICAgICAgLy8gdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0LnRyYW5zZm9ybSA9IG1hdHJpeDtcbiAgICB9XG59XG4iLCJpbXBvcnQgU3lzdGVtIGZyb20gJy4uL1N5c3RlbSc7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcblxuY29uc3QgdGVtcFJlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHJlbmRlciB0ZXh0dXJlcy5cbiAqXG4gKiBTaG91bGQgYmUgYWRkZWQgYWZ0ZXIgRnJhbWVidWZmZXJTeXN0ZW1cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVuZGVyVGV4dHVyZVN5c3RlbSBleHRlbmRzIFN5c3RlbVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2xlYXIgYmFja2dyb3VuZCBjb2xvciBhcyByZ2JhXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGVhckNvbG9yID0gcmVuZGVyZXIuX2JhY2tncm91bmRDb2xvclJnYmE7XG5cbiAgICAgICAgLy8gVE9ETyBtb3ZlIHRoaXMgcHJvcGVydHkgc29tZXdoZXJlIGVsc2UhXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaXN0IG9mIG1hc2tzIGZvciB0aGUgU3RlbmNpbFN5c3RlbVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0TWFza1N0YWNrID0gW107XG5cbiAgICAgICAgLy8gZW1wdHkgcmVuZGVyIHRleHR1cmU/XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXIgdGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlbmRlclRleHR1cmV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU291cmNlIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3RpbmF0aW9uIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCaW5kIHRoZSBjdXJyZW50IHJlbmRlciB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IHJlbmRlclRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBzb3VyY2VGcmFtZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGRlc3RpbmF0aW9uRnJhbWVcbiAgICAgKi9cbiAgICBiaW5kKHJlbmRlclRleHR1cmUgPSBudWxsLCBzb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSlcbiAgICB7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IHJlbmRlclRleHR1cmU7XG5cbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIGxldCByZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBiYXNlVGV4dHVyZSA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgIHJlc29sdXRpb24gPSBiYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICBpZiAoIWRlc3RpbmF0aW9uRnJhbWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3Qud2lkdGggPSBiYXNlVGV4dHVyZS5yZWFsV2lkdGg7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3QuaGVpZ2h0ID0gYmFzZVRleHR1cmUucmVhbEhlaWdodDtcblxuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUgPSB0ZW1wUmVjdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFzb3VyY2VGcmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VGcmFtZSA9IGRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuYmluZChiYXNlVGV4dHVyZS5mcmFtZWJ1ZmZlciwgZGVzdGluYXRpb25GcmFtZSk7XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucHJvamVjdGlvbi51cGRhdGUoZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUsIHJlc29sdXRpb24sIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbC5zZXRNYXNrU3RhY2soYmFzZVRleHR1cmUuc3RlbmNpbE1hc2tTdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICAvLyBUT0RPIHRoZXNlIHZhbGlkYXRpb24gY2hlY2tzIGhhcHBlbiBkZWVwZXIgZG93bi4uXG4gICAgICAgICAgICAvLyB0aGluZyB0aGV5IGNhbiBiZSBhdm9pZGVkLi5cbiAgICAgICAgICAgIGlmICghZGVzdGluYXRpb25GcmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdC53aWR0aCA9IHJlbmRlcmVyLndpZHRoO1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0LmhlaWdodCA9IHJlbmRlcmVyLmhlaWdodDtcblxuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uRnJhbWUgPSB0ZW1wUmVjdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFzb3VyY2VGcmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VGcmFtZSA9IGRlc3RpbmF0aW9uRnJhbWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlbmRlcmVyLmZyYW1lYnVmZmVyLmJpbmQobnVsbCwgZGVzdGluYXRpb25GcmFtZSk7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gc3RvcmUgdGhpcy4uXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnByb2plY3Rpb24udXBkYXRlKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbC5zZXRNYXNrU3RhY2sodGhpcy5kZWZhdWx0TWFza1N0YWNrKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc291cmNlRnJhbWUuY29weUZyb20oc291cmNlRnJhbWUpO1xuXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZS54ID0gZGVzdGluYXRpb25GcmFtZS54IC8gcmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLnkgPSBkZXN0aW5hdGlvbkZyYW1lLnkgLyByZXNvbHV0aW9uO1xuXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZS53aWR0aCA9IGRlc3RpbmF0aW9uRnJhbWUud2lkdGggLyByZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ID0gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyByZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChzb3VyY2VGcmFtZSA9PT0gZGVzdGluYXRpb25GcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VGcmFtZS5jb3B5RnJvbSh0aGlzLmRlc3RpbmF0aW9uRnJhbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXJhc2VzIHRoZSByZW5kZXIgdGV4dHVyZSBhbmQgZmlsbHMgdGhlIGRyYXdpbmcgYXJlYSB3aXRoIGEgY29sb3VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBbY2xlYXJDb2xvcl0gLSBUaGUgY29sb3IgYXMgcmdiYSwgZGVmYXVsdCB0byB1c2UgdGhlIHJlbmRlcmVyIGJhY2tncm91bmRDb2xvclxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIGNsZWFyKGNsZWFyQ29sb3IpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICBjbGVhckNvbG9yID0gY2xlYXJDb2xvciB8fCB0aGlzLmN1cnJlbnQuYmFzZVRleHR1cmUuY2xlYXJDb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNsZWFyQ29sb3IgPSBjbGVhckNvbG9yIHx8IHRoaXMuY2xlYXJDb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuY2xlYXIoY2xlYXJDb2xvclswXSwgY2xlYXJDb2xvclsxXSwgY2xlYXJDb2xvclsyXSwgY2xlYXJDb2xvclszXSk7XG4gICAgfVxuXG4gICAgcmVzaXplKCkvLyBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KVxuICAgIHtcbiAgICAgICAgLy8gcmVzaXplIHRoZSByb290IG9ubHkhXG4gICAgICAgIHRoaXMuYmluZChudWxsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgcmVuZGVyVGV4dHVyZSBzdGF0ZVxuICAgICAqL1xuICAgIHJlc2V0KClcbiAgICB7XG4gICAgICAgIHRoaXMuYmluZChudWxsKTtcbiAgICB9XG59XG4iLCIvKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBXZWJHTCBQcm9ncmFtXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHTFByb2dyYW1cbntcbiAgICAvKipcbiAgICAgKiBNYWtlcyBhIG5ldyBQaXhpIHByb2dyYW1cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwcm9ncmFtIHtXZWJHTFByb2dyYW19IHdlYmdsIHByb2dyYW1cbiAgICAgKiBAcGFyYW0gdW5pZm9ybURhdGEge09iamVjdH0gdW5pZm9ybXNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcm9ncmFtLCB1bmlmb3JtRGF0YSlcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2hhZGVyIHByb2dyYW1cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xQcm9ncmFtfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogaG9sZHMgdGhlIHVuaWZvcm0gZGF0YSB3aGljaCBjb250YWlucyB1bmlmb3JtIGxvY2F0aW9uc1xuICAgICAgICAgKiBhbmQgY3VycmVudCB1bmlmb3JtIHZhbHVlcyB1c2VkIGZvciBjYWNoaW5nIGFuZCBwcmV2ZW50aW5nIHVubmVlZGVkIEdQVSBjb21tYW5kc1xuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVuaWZvcm1EYXRhID0gdW5pZm9ybURhdGE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHVuaWZvcm1Hcm91cHMgaG9sZHMgdGhlIHZhcmlvdXMgdXBsb2FkIGZ1bmN0aW9ucyBmb3IgdGhlIHNoYWRlci4gRWFjaCB1bmlmb3JtIGdyb3VwXG4gICAgICAgICAqIGFuZCBwcm9ncmFtIGhhdmUgYSB1bmlxdWUgdXBsb2FkIGZ1bmN0aW9uIGdlbmVyYXRlZC5cbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51bmlmb3JtR3JvdXBzID0ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBwcm9ncmFtXG4gICAgICovXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1EYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy51bmlmb3JtR3JvdXBzID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gbnVsbDtcbiAgICB9XG59XG4iLCJpbXBvcnQgU3lzdGVtIGZyb20gJy4uL1N5c3RlbSc7XG5pbXBvcnQgR0xQcm9ncmFtIGZyb20gJy4vR0xQcm9ncmFtJztcbmltcG9ydCB7IGdlbmVyYXRlVW5pZm9ybXNTeW5jLFxuICAgIHVuc2FmZUV2YWxTdXBwb3J0ZWQsXG4gICAgZGVmYXVsdFZhbHVlLFxuICAgIGNvbXBpbGVQcm9ncmFtIH0gZnJvbSAnLi91dGlscyc7XG5cbmxldCBVSUQgPSAwO1xuXG4vKipcbiAqIFN5c3RlbSBwbHVnaW4gdG8gdGhlIHJlbmRlcmVyIHRvIG1hbmFnZSBzaGFkZXJzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hhZGVyU3lzdGVtIGV4dGVuZHMgU3lzdGVtXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIFN5c3RlbSB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLy8gVmFsaWRhdGlvbiBjaGVjayB0aGF0IHRoaXMgZW52aXJvbm1lbnQgc3VwcG9ydCBgbmV3IEZ1bmN0aW9uYFxuICAgICAgICB0aGlzLnN5c3RlbUNoZWNrKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2wgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGUgdG8gaG9sZHMgdGhlIGdlbmVyYXRlZCBmdW5jdGlvbnMuIFN0b3JlZCBhZ2FpbnN0IFVuaWZvcm1PYmplY3RzIHVuaXF1ZSBzaWduYXR1cmVcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FjaGUgPSB7fTtcblxuICAgICAgICB0aGlzLmlkID0gVUlEKys7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVhYmxlIGZ1bmN0aW9uIGJ5IGBAcGl4aS91bnNhZmUtZXZhbGAgdG8gc2lsZW5jZVxuICAgICAqIHRocm93aW5nIGFuIGVycm9yIGlmIHBsYXRmb3JtIGRvZXNuJ3Qgc3VwcG9ydCB1bnNhZmUtZXZhbHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN5c3RlbUNoZWNrKClcbiAgICB7XG4gICAgICAgIGlmICghdW5zYWZlRXZhbFN1cHBvcnRlZCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0N1cnJlbnQgZW52aXJvbm1lbnQgZG9lcyBub3QgYWxsb3cgdW5zYWZlLWV2YWwsICdcbiAgICAgICAgICAgICAgICArICdwbGVhc2UgdXNlIEBwaXhpL3Vuc2FmZS1ldmFsIG1vZHVsZSB0byBlbmFibGUgc3VwcG9ydC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnRleHRDaGFuZ2UoZ2wpXG4gICAge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgY3VycmVudCBzaGFkZXIgdG8gdGhlIG9uZSBnaXZlbiBpbiBwYXJhbWV0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TaGFkZXJ9IHNoYWRlciAtIHRoZSBuZXcgc2hhZGVyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBkb250U3luYyAtIGZhbHNlIGlmIHRoZSBzaGFkZXIgc2hvdWxkIGF1dG9tYXRpY2FsbHkgc3luYyBpdHMgdW5pZm9ybXMuXG4gICAgICogQHJldHVybnMge1BJWEkuR0xQcm9ncmFtfSB0aGUgZ2xQcm9ncmFtIHRoYXQgYmVsb25ncyB0byB0aGUgc2hhZGVyLlxuICAgICAqL1xuICAgIGJpbmQoc2hhZGVyLCBkb250U3luYylcbiAgICB7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy5nbG9iYWxzID0gdGhpcy5yZW5kZXJlci5nbG9iYWxVbmlmb3JtcztcblxuICAgICAgICBjb25zdCBwcm9ncmFtID0gc2hhZGVyLnByb2dyYW07XG4gICAgICAgIGNvbnN0IGdsUHJvZ3JhbSA9IHByb2dyYW0uZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSB8fCB0aGlzLmdlbmVyYXRlU2hhZGVyKHNoYWRlcik7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBzaGFkZXI7XG5cbiAgICAgICAgLy8gVE9ETyAtIHNvbWUgY3VycmVudCBQaXhpIHBsdWdpbnMgYnlwYXNzIHRoaXMuLiBzbyBpdCBub3Qgc2FmZSB0byB1c2UgeWV0Li5cbiAgICAgICAgaWYgKHRoaXMucHJvZ3JhbSAhPT0gcHJvZ3JhbSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTtcbiAgICAgICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbShnbFByb2dyYW0ucHJvZ3JhbSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRvbnRTeW5jKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnN5bmNVbmlmb3JtR3JvdXAoc2hhZGVyLnVuaWZvcm1Hcm91cCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2xQcm9ncmFtO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHVuaWZvcm1zIHZhbHVlcyB0byB0aGUgY3VycmVudGx5IGJvdW5kIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSB1bmlmb3JtcyAtIHRoZSB1bmlmb3JtcyB2YWx1ZXMgdGhhdCBiZSBhcHBsaWVkIHRvIHRoZSBjdXJyZW50IHNoYWRlclxuICAgICAqL1xuICAgIHNldFVuaWZvcm1zKHVuaWZvcm1zKVxuICAgIHtcbiAgICAgICAgY29uc3Qgc2hhZGVyID0gdGhpcy5zaGFkZXIucHJvZ3JhbTtcbiAgICAgICAgY29uc3QgZ2xQcm9ncmFtID0gc2hhZGVyLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF07XG5cbiAgICAgICAgc2hhZGVyLnN5bmNVbmlmb3JtcyhnbFByb2dyYW0udW5pZm9ybURhdGEsIHVuaWZvcm1zLCB0aGlzLnJlbmRlcmVyKTtcbiAgICB9XG5cbiAgICBzeW5jVW5pZm9ybUdyb3VwKGdyb3VwKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2xQcm9ncmFtID0gdGhpcy5nZXRnbFByb2dyYW0oKTtcblxuICAgICAgICBpZiAoIWdyb3VwLnN0YXRpYyB8fCBncm91cC5kaXJ0eUlkICE9PSBnbFByb2dyYW0udW5pZm9ybUdyb3Vwc1tncm91cC5pZF0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsUHJvZ3JhbS51bmlmb3JtR3JvdXBzW2dyb3VwLmlkXSA9IGdyb3VwLmRpcnR5SWQ7XG5cbiAgICAgICAgICAgIHRoaXMuc3luY1VuaWZvcm1zKGdyb3VwLCBnbFByb2dyYW0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVhYmxlIGJ5IHRoZSBAcGl4aS91bnNhZmUtZXZhbCBwYWNrYWdlIHRvIHVzZSBzdGF0aWNcbiAgICAgKiBzeW5jVW5mb3JtcyBpbnN0ZWFkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzeW5jVW5pZm9ybXMoZ3JvdXAsIGdsUHJvZ3JhbSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHN5bmNGdW5jID0gZ3JvdXAuc3luY1VuaWZvcm1zW3RoaXMuc2hhZGVyLnByb2dyYW0uaWRdIHx8IHRoaXMuY3JlYXRlU3luY0dyb3Vwcyhncm91cCk7XG5cbiAgICAgICAgc3luY0Z1bmMoZ2xQcm9ncmFtLnVuaWZvcm1EYXRhLCBncm91cC51bmlmb3JtcywgdGhpcy5yZW5kZXJlcik7XG4gICAgfVxuXG4gICAgY3JlYXRlU3luY0dyb3Vwcyhncm91cClcbiAgICB7XG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5nZXRTaWduYXR1cmUoZ3JvdXAsIHRoaXMuc2hhZGVyLnByb2dyYW0udW5pZm9ybURhdGEpO1xuXG4gICAgICAgIGlmICghdGhpcy5jYWNoZVtpZF0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2FjaGVbaWRdID0gZ2VuZXJhdGVVbmlmb3Jtc1N5bmMoZ3JvdXAsIHRoaXMuc2hhZGVyLnByb2dyYW0udW5pZm9ybURhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ3JvdXAuc3luY1VuaWZvcm1zW3RoaXMuc2hhZGVyLnByb2dyYW0uaWRdID0gdGhpcy5jYWNoZVtpZF07XG5cbiAgICAgICAgcmV0dXJuIGdyb3VwLnN5bmNVbmlmb3Jtc1t0aGlzLnNoYWRlci5wcm9ncmFtLmlkXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIHVuaWZvcm0gZ3JvdXAgYW5kIGRhdGEgYW5kIGdlbmVyYXRlcyBhIHVuaXF1ZSBzaWduYXR1cmUgZm9yIHRoZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVW5pZm9ybUdyb3VwfSBncm91cCB0aGUgdW5pZm9ybSBncm91cCB0byBnZXQgc2lnbmF0dXJlIG9mXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1EYXRhIHVuaWZvcm0gaW5mb3JtYXRpb24gZ2VuZXJhdGVkIGJ5IHRoZSBzaGFkZXJcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBVbmlxdWUgc2lnbmF0dXJlIG9mIHRoZSB1bmlmb3JtIGdyb3VwXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXRTaWduYXR1cmUoZ3JvdXAsIHVuaWZvcm1EYXRhKVxuICAgIHtcbiAgICAgICAgY29uc3QgdW5pZm9ybXMgPSBncm91cC51bmlmb3JtcztcblxuICAgICAgICBjb25zdCBzdHJpbmdzID0gW107XG5cbiAgICAgICAgZm9yIChjb25zdCBpIGluIHVuaWZvcm1zKVxuICAgICAgICB7XG4gICAgICAgICAgICBzdHJpbmdzLnB1c2goaSk7XG5cbiAgICAgICAgICAgIGlmICh1bmlmb3JtRGF0YVtpXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmdzLnB1c2godW5pZm9ybURhdGFbaV0udHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RyaW5ncy5qb2luKCctJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdW5kZXJseWluZyBHTFNoYWRlIHJvZiB0aGUgY3VycmVudGx5IGJvdW5kIHNoYWRlci5cbiAgICAgKiBUaGlzIGNhbiBiZSBoYW5keSBmb3Igd2hlbiB5b3UgdG8gaGF2ZSBhIGxpdHRsZSBtb3JlIGNvbnRyb2wgb3ZlciB0aGUgc2V0dGluZyBvZiB5b3VyIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HTFByb2dyYW19IHRoZSBnbFByb2dyYW0gZm9yIHRoZSBjdXJyZW50bHkgYm91bmQgU2hhZGVyIGZvciB0aGlzIGNvbnRleHRcbiAgICAgKi9cbiAgICBnZXRnbFByb2dyYW0oKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXIucHJvZ3JhbS5nbFByb2dyYW1zW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgZ2xQcm9ncmFtIHZlcnNpb24gb2YgdGhlIFNoYWRlciBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gc2hhZGVyIHRoZSBzaGFkZXIgdGhhdCB0aGUgZ2xQcm9ncmFtIHdpbGwgYmUgYmFzZWQgb24uXG4gICAgICogQHJldHVybiB7UElYSS5HTFByb2dyYW19IEEgc2hpbnkgbmV3IGdsUHJvZ3JhbSFcbiAgICAgKi9cbiAgICBnZW5lcmF0ZVNoYWRlcihzaGFkZXIpXG4gICAge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHNoYWRlci5wcm9ncmFtO1xuXG4gICAgICAgIGNvbnN0IGF0dHJpYk1hcCA9IHt9O1xuXG4gICAgICAgIGZvciAoY29uc3QgaSBpbiBwcm9ncmFtLmF0dHJpYnV0ZURhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGF0dHJpYk1hcFtpXSA9IHByb2dyYW0uYXR0cmlidXRlRGF0YVtpXS5sb2NhdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNoYWRlclByb2dyYW0gPSBjb21waWxlUHJvZ3JhbShnbCwgcHJvZ3JhbS52ZXJ0ZXhTcmMsIHByb2dyYW0uZnJhZ21lbnRTcmMsIGF0dHJpYk1hcCk7XG4gICAgICAgIGNvbnN0IHVuaWZvcm1EYXRhID0ge307XG5cbiAgICAgICAgZm9yIChjb25zdCBpIGluIHByb2dyYW0udW5pZm9ybURhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBwcm9ncmFtLnVuaWZvcm1EYXRhW2ldO1xuXG4gICAgICAgICAgICB1bmlmb3JtRGF0YVtpXSA9IHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHNoYWRlclByb2dyYW0sIGkpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBkZWZhdWx0VmFsdWUoZGF0YS50eXBlLCBkYXRhLnNpemUpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGdsUHJvZ3JhbSA9IG5ldyBHTFByb2dyYW0oc2hhZGVyUHJvZ3JhbSwgdW5pZm9ybURhdGEpO1xuXG4gICAgICAgIHByb2dyYW0uZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSA9IGdsUHJvZ3JhbTtcblxuICAgICAgICByZXR1cm4gZ2xQcm9ncmFtO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyBTaGFkZXJTeXN0ZW0gc3RhdGUsIGRvZXMgbm90IGFmZmVjdCBXZWJHTCBzdGF0ZVxuICAgICAqL1xuICAgIHJlc2V0KClcbiAgICB7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIFN5c3RlbSBhbmQgcmVtb3ZlcyBhbGwgaXRzIHRleHR1cmVzXG4gICAgICovXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICAvLyBUT0RPIGltcGxlbWVudCBkZXN0cm95IG1ldGhvZCBmb3IgU2hhZGVyU3lzdGVtXG4gICAgICAgIHRoaXMuZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpIGZyb20gJy4vdXRpbHMvbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpJztcbmltcG9ydCBTeXN0ZW0gZnJvbSAnLi4vU3lzdGVtJztcbmltcG9ydCBTdGF0ZSBmcm9tICcuL1N0YXRlJztcbmltcG9ydCB7IEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxuY29uc3QgQkxFTkQgPSAwO1xuY29uc3QgT0ZGU0VUID0gMTtcbmNvbnN0IENVTExJTkcgPSAyO1xuY29uc3QgREVQVEhfVEVTVCA9IDM7XG5jb25zdCBXSU5ESU5HID0gNDtcblxuLyoqXG4gKiBTeXN0ZW0gcGx1Z2luIHRvIHRoZSByZW5kZXJlciB0byBtYW5hZ2UgV2ViR0wgc3RhdGUgbWFjaGluZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGF0ZVN5c3RlbSBleHRlbmRzIFN5c3RlbVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHTCBjb250ZXh0XG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3RhdGUgSURcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGVJZCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvbHlnb24gb2Zmc2V0XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvbHlnb25PZmZzZXQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCbGVuZCBtb2RlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT05FXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT05FO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIGN1cnJlbnQgYmxlbmQgZXF1YXRpb24gaXMgZGlmZmVyZW50XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JsZW5kRXEgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBjYWxsc1xuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWFwID0gW107XG5cbiAgICAgICAgLy8gbWFwIGZ1bmN0aW9ucyBmb3Igd2hlbiB3ZSBzZXQgc3RhdGUuLlxuICAgICAgICB0aGlzLm1hcFtCTEVORF0gPSB0aGlzLnNldEJsZW5kO1xuICAgICAgICB0aGlzLm1hcFtPRkZTRVRdID0gdGhpcy5zZXRPZmZzZXQ7XG4gICAgICAgIHRoaXMubWFwW0NVTExJTkddID0gdGhpcy5zZXRDdWxsRmFjZTtcbiAgICAgICAgdGhpcy5tYXBbREVQVEhfVEVTVF0gPSB0aGlzLnNldERlcHRoVGVzdDtcbiAgICAgICAgdGhpcy5tYXBbV0lORElOR10gPSB0aGlzLnNldEZyb250RmFjZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBjaGVjayBjYWxsc1xuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hlY2tzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmF1bHQgV2ViR0wgU3RhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TdGF0ZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRTdGF0ZSA9IG5ldyBTdGF0ZSgpO1xuICAgICAgICB0aGlzLmRlZmF1bHRTdGF0ZS5ibGVuZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZGVmYXVsdFN0YXRlLmRlcHRoID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb250ZXh0Q2hhbmdlKGdsKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlcyA9IG1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aShnbCk7XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh0aGlzLmRlZmF1bHRTdGF0ZSk7XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgc3RhdGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gc3RhdGUgLSBUaGUgc3RhdGUgdG8gc2V0LlxuICAgICAqL1xuICAgIHNldFN0YXRlKHN0YXRlKVxuICAgIHtcbiAgICAgICAgc3RhdGUgPSBzdGF0ZSB8fCB0aGlzLmRlZmF1bHRTdGF0ZTtcblxuICAgICAgICAvLyBUT0RPIG1heWJlIHRvIGFuIG9iamVjdCBjaGVjaz8gKCB0aGlzLnN0YXRlID09PSBzdGF0ZSApP1xuICAgICAgICBpZiAodGhpcy5zdGF0ZUlkICE9PSBzdGF0ZS5kYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgZGlmZiA9IHRoaXMuc3RhdGVJZCBeIHN0YXRlLmRhdGE7XG4gICAgICAgICAgICBsZXQgaSA9IDA7XG5cbiAgICAgICAgICAgIC8vIG9yZGVyIGZyb20gbGVhc3QgdG8gbW9zdCBjb21tb25cbiAgICAgICAgICAgIHdoaWxlIChkaWZmKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChkaWZmICYgMSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0YXRlIGNoYW5nZSFcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBbaV0uY2FsbCh0aGlzLCAhIShzdGF0ZS5kYXRhICYgKDEgPDwgaSkpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkaWZmID0gZGlmZiA+PiAxO1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zdGF0ZUlkID0gc3RhdGUuZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJhc2VkIG9uIHRoZSBhYm92ZSBzZXR0aW5ncyB3ZSBjaGVjayBmb3Igc3BlY2lmaWMgbW9kZXMuLlxuICAgICAgICAvLyBmb3IgZXhhbXBsZSBpZiBibGVuZCBpcyBhY3RpdmUgd2UgY2hlY2sgYW5kIHNldCB0aGUgYmxlbmQgbW9kZXNcbiAgICAgICAgLy8gb3Igb2YgcG9seWdvbiBvZmZzZXQgaXMgYWN0aXZlIHdlIGNoZWNrIHRoZSBwb2x5IGRlcHRoLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hlY2tzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrc1tpXSh0aGlzLCBzdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdGF0ZSwgd2hlbiBwcmV2aW91cyBzdGF0ZSBpcyB1bmtub3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHN0YXRlIC0gVGhlIHN0YXRlIHRvIHNldFxuICAgICAqL1xuICAgIGZvcmNlU3RhdGUoc3RhdGUpXG4gICAge1xuICAgICAgICBzdGF0ZSA9IHN0YXRlIHx8IHRoaXMuZGVmYXVsdFN0YXRlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWFwLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1hcFtpXS5jYWxsKHRoaXMsICEhKHN0YXRlLmRhdGEgJiAoMSA8PCBpKSkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGVja3MubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzW2ldKHRoaXMsIHN0YXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGVJZCA9IHN0YXRlLmRhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBvciBkaXNhYmxlZCBibGVuZGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBibGVuZGluZy5cbiAgICAgKi9cbiAgICBzZXRCbGVuZCh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlQ2hlY2soU3RhdGVTeXN0ZW0uY2hlY2tCbGVuZE1vZGUsIHZhbHVlKTtcblxuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuQkxFTkQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZSBwb2x5Z29uIG9mZnNldCBmaWxsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgcG9seWdvbiBvZmZzZXQgdGVzdGluZy5cbiAgICAgKi9cbiAgICBzZXRPZmZzZXQodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuUE9MWUdPTl9PRkZTRVRfRklMTCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIHRvIGVuYWJsZSBvciBkaXNhYmxlIGRlcHRoIHRlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgZGVwdGggdGVzdGluZy5cbiAgICAgKi9cbiAgICBzZXREZXB0aFRlc3QodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuREVQVEhfVEVTVCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIHRvIGVuYWJsZSBvciBkaXNhYmxlIGN1bGwgZmFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBjdWxsIGZhY2UuXG4gICAgICovXG4gICAgc2V0Q3VsbEZhY2UodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLmdsW3ZhbHVlID8gJ2VuYWJsZScgOiAnZGlzYWJsZSddKHRoaXMuZ2wuQ1VMTF9GQUNFKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnbCBmcm9udCBmYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIHRydWUgaXMgY2xvY2t3aXNlIGFuZCBmYWxzZSBpcyBjb3VudGVyLWNsb2Nrd2lzZVxuICAgICAqL1xuICAgIHNldEZyb250RmFjZSh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZ2wuZnJvbnRGYWNlKHRoaXMuZ2xbdmFsdWUgPyAnQ1cnIDogJ0NDVyddKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBibGVuZCBtb2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIC0gVGhlIGJsZW5kIG1vZGUgdG8gc2V0IHRvLlxuICAgICAqL1xuICAgIHNldEJsZW5kTW9kZSh2YWx1ZSlcbiAgICB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5ibGVuZE1vZGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gdmFsdWU7XG5cbiAgICAgICAgY29uc3QgbW9kZSA9IHRoaXMuYmxlbmRNb2Rlc1t2YWx1ZV07XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5nbDtcblxuICAgICAgICBpZiAobW9kZS5sZW5ndGggPT09IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmJsZW5kRnVuYyhtb2RlWzBdLCBtb2RlWzFdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmJsZW5kRnVuY1NlcGFyYXRlKG1vZGVbMF0sIG1vZGVbMV0sIG1vZGVbMl0sIG1vZGVbM10pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtb2RlLmxlbmd0aCA9PT0gNilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYmxlbmRFcSA9IHRydWU7XG4gICAgICAgICAgICBnbC5ibGVuZEVxdWF0aW9uU2VwYXJhdGUobW9kZVs0XSwgbW9kZVs1XSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fYmxlbmRFcSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYmxlbmRFcSA9IGZhbHNlO1xuICAgICAgICAgICAgZ2wuYmxlbmRFcXVhdGlvblNlcGFyYXRlKGdsLkZVTkNfQURELCBnbC5GVU5DX0FERCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb2x5Z29uIG9mZnNldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIHRoZSBwb2x5Z29uIG9mZnNldFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSAtIHRoZSBwb2x5Z29uIG9mZnNldCBzY2FsZVxuICAgICAqL1xuICAgIHNldFBvbHlnb25PZmZzZXQodmFsdWUsIHNjYWxlKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbC5wb2x5Z29uT2Zmc2V0KHZhbHVlLCBzY2FsZSk7XG4gICAgfVxuXG4gICAgLy8gdXNlZFxuICAgIC8qKlxuICAgICAqIFJlc2V0cyBhbGwgdGhlIGxvZ2ljIGFuZCBkaXNhYmxlcyB0aGUgdmFvc1xuICAgICAqL1xuICAgIHJlc2V0KClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2wucGl4ZWxTdG9yZWkodGhpcy5nbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5mb3JjZVN0YXRlKDApO1xuXG4gICAgICAgIHRoaXMuX2JsZW5kRXEgPSB0cnVlO1xuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IC0xO1xuICAgICAgICB0aGlzLnNldEJsZW5kTW9kZSgwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjaGVja3MgdG8gc2VlIHdoaWNoIHVwZGF0ZXMgc2hvdWxkIGJlIGNoZWNrZWQgYmFzZWQgb24gd2hpY2ggc2V0dGluZ3MgaGF2ZSBiZWVuIGFjdGl2YXRlZC5cbiAgICAgKiBGb3IgZXhhbXBsZSwgaWYgYmxlbmQgaXMgZW5hYmxlZCB0aGVuIHdlIHNob3VsZCBjaGVjayB0aGUgYmxlbmQgbW9kZXMgZWFjaCB0aW1lIHRoZSBzdGF0ZSBpcyBjaGFuZ2VkXG4gICAgICogb3IgaWYgcG9seWdvbiBmaWxsIGlzIGFjdGl2YXRlZCB0aGVuIHdlIG5lZWQgdG8gY2hlY2sgaWYgdGhlIHBvbHlnb24gb2Zmc2V0IGNoYW5nZXMuXG4gICAgICogVGhlIGlkZWEgaXMgdGhhdCB3ZSBvbmx5IGNoZWNrIHdoYXQgd2UgaGF2ZSB0b28uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jICB0aGUgY2hlY2tpbmcgZnVuY3Rpb24gdG8gYWRkIG9yIHJlbW92ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgIHNob3VsZCB0aGUgY2hlY2sgZnVuY3Rpb24gYmUgYWRkZWQgb3IgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICB1cGRhdGVDaGVjayhmdW5jLCB2YWx1ZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jaGVja3MuaW5kZXhPZihmdW5jKTtcblxuICAgICAgICBpZiAodmFsdWUgJiYgaW5kZXggPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrcy5wdXNoKGZ1bmMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF2YWx1ZSAmJiBpbmRleCAhPT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHByaXZhdGUgbGl0dGxlIHdyYXBwZXIgZnVuY3Rpb24gdGhhdCB3ZSBjYWxsIHRvIGNoZWNrIHRoZSBibGVuZCBtb2RlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlN0YXRlU3lzdGVtfSBTeXN0ZW0gIHRoZSBTeXN0ZW0gdG8gcGVyZm9ybSB0aGUgc3RhdGUgY2hlY2sgb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3RhdGV9IHN0YXRlICB0aGUgc3RhdGUgdGhhdCB0aGUgYmxlbmRNb2RlIHdpbGwgcHVsbGVkIGZyb21cbiAgICAgKi9cbiAgICBzdGF0aWMgY2hlY2tCbGVuZE1vZGUoc3lzdGVtLCBzdGF0ZSlcbiAgICB7XG4gICAgICAgIHN5c3RlbS5zZXRCbGVuZE1vZGUoc3RhdGUuYmxlbmRNb2RlKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPIC0gYWRkIHBvbHlnb24gb2Zmc2V0P1xufVxuIiwiaW1wb3J0IHsgQkxFTkRfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG4vKipcbiAqIE1hcHMgZ2wgYmxlbmQgY29tYmluYXRpb25zIHRvIFdlYkdMLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gVGhlIHJlbmRlcmluZyBjb250ZXh0LlxuICogQHBhcmFtIHtudW1iZXJbXVtdfSBbYXJyYXk9W11dIC0gVGhlIGFycmF5IHRvIG91dHB1dCBpbnRvLlxuICogQHJldHVybiB7bnVtYmVyW11bXX0gTWFwcGVkIG1vZGVzLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkoZ2wsIGFycmF5ID0gW10pXG57XG4gICAgLy8gVE9ETyAtIHByZW11bHRpcGx5IGFscGhhIHdvdWxkIGJlIGRpZmZlcmVudC5cbiAgICAvLyBhZGQgYSBib29sZWFuIGZvciB0aGF0IVxuICAgIGFycmF5W0JMRU5EX01PREVTLk5PUk1BTF0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5BRERdID0gW2dsLk9ORSwgZ2wuRFNUX0FMUEhBLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLk1VTFRJUExZXSA9IFtnbC5EU1RfQ09MT1IsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU0NSRUVOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQ09MT1IsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuT1ZFUkxBWV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5EQVJLRU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTElHSFRFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5DT0xPUl9ET0RHRV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5DT0xPUl9CVVJOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkhBUkRfTElHSFRdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU09GVF9MSUdIVF0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5ESUZGRVJFTkNFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkVYQ0xVU0lPTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5IVUVdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU0FUVVJBVElPTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5DT0xPUl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5MVU1JTk9TSVRZXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLk5PTkVdID0gWzAsIDBdO1xuXG4gICAgLy8gbm90LXByZW11bHRpcGxpZWQgYmxlbmQgbW9kZXNcbiAgICBhcnJheVtCTEVORF9NT0RFUy5OT1JNQUxfTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQUREX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5EU1RfQUxQSEEsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU0NSRUVOX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0NPTE9SLCBnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuXG4gICAgLy8gY29tcG9zaXRlIG9wZXJhdGlvbnNcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TUkNfSU5dID0gW2dsLkRTVF9BTFBIQSwgZ2wuWkVST107XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU1JDX09VVF0gPSBbZ2wuT05FX01JTlVTX0RTVF9BTFBIQSwgZ2wuWkVST107XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU1JDX0FUT1BdID0gW2dsLkRTVF9BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX09WRVJdID0gW2dsLk9ORV9NSU5VU19EU1RfQUxQSEEsIGdsLk9ORV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuRFNUX0lOXSA9IFtnbC5aRVJPLCBnbC5TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9PVVRdID0gW2dsLlpFUk8sIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkRTVF9BVE9QXSA9IFtnbC5PTkVfTUlOVVNfRFNUX0FMUEhBLCBnbC5TUkNfQUxQSEFdO1xuXG4gICAgLy8gU1VCVFJBQ1QgZnJvbSBmbGFzaFxuICAgIGFycmF5W0JMRU5EX01PREVTLlNVQlRSQUNUXSA9IFtnbC5PTkUsIGdsLk9ORSwgZ2wuT05FLCBnbC5PTkUsIGdsLkZVTkNfUkVWRVJTRV9TVUJUUkFDVCwgZ2wuRlVOQ19BRERdO1xuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuIiwiaW1wb3J0IFN5c3RlbSBmcm9tICcuLi9TeXN0ZW0nO1xuaW1wb3J0IHsgR0NfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRleHR1cmUgZ2FyYmFnZSBjb2xsZWN0aW9uIG9uIHRoZSBHUFUsXG4gKiBlbnN1cmluZyB0aGF0IGl0IGRvZXMgbm90IGdldCBjbG9nZ2VkIHVwIHdpdGggdGV4dHVyZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIGJlaW5nIHVzZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0dXJlR0NTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW1cbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgU3lzdGVtIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ291bnRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY291bnQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGVjayBjb3VudFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGVja0NvdW50ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWF4aW11bSBpZGxlIHRpbWUsIGluIHNlY29uZHNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuR0NfTUFYX0lETEVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4SWRsZSA9IHNldHRpbmdzLkdDX01BWF9JRExFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXhpbXVtIG51bWJlciBvZiBpdGVzbSB0byBjaGVja1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5HQ19NQVhfQ0hFQ0tfQ09VTlRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hlY2tDb3VudE1heCA9IHNldHRpbmdzLkdDX01BWF9DSEVDS19DT1VOVDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBnYXJhYmFnZSBjb2xsZWN0aW9uIG1vZGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HQ19NT0RFU31cbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLkdDX01PREVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubW9kZSA9IHNldHRpbmdzLkdDX01PREU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRvIHNlZSB3aGVuIHRoZSBsYXN0IHRpbWUgYSB0ZXh0dXJlIHdhcyB1c2VkXG4gICAgICogaWYgdGhlIHRleHR1cmUgaGFzIG5vdCBiZWVuIHVzZWQgZm9yIGEgc3BlY2lmaWVkIGFtb3VudCBvZiB0aW1lIGl0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFVcbiAgICAgKi9cbiAgICBwb3N0cmVuZGVyKClcbiAgICB7XG4gICAgICAgIHRoaXMuY291bnQrKztcblxuICAgICAgICBpZiAodGhpcy5tb2RlID09PSBHQ19NT0RFUy5NQU5VQUwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2hlY2tDb3VudCsrO1xuXG4gICAgICAgIGlmICh0aGlzLmNoZWNrQ291bnQgPiB0aGlzLmNoZWNrQ291bnRNYXgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tDb3VudCA9IDA7XG5cbiAgICAgICAgICAgIHRoaXMucnVuKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIHdoZW4gdGhlIGxhc3QgdGltZSBhIHRleHR1cmUgd2FzIHVzZWRcbiAgICAgKiBpZiB0aGUgdGV4dHVyZSBoYXMgbm90IGJlZW4gdXNlZCBmb3IgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVVxuICAgICAqL1xuICAgIHJ1bigpXG4gICAge1xuICAgICAgICBjb25zdCB0bSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZTtcbiAgICAgICAgY29uc3QgbWFuYWdlZFRleHR1cmVzID0gIHRtLm1hbmFnZWRUZXh0dXJlcztcbiAgICAgICAgbGV0IHdhc1JlbW92ZWQgPSBmYWxzZTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hbmFnZWRUZXh0dXJlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdGV4dHVyZSA9IG1hbmFnZWRUZXh0dXJlc1tpXTtcblxuICAgICAgICAgICAgLy8gb25seSBzdXBwb3J0cyBub24gZ2VuZXJhdGVkIHRleHR1cmVzIGF0IHRoZSBtb21lbnQhXG4gICAgICAgICAgICBpZiAoIXRleHR1cmUuZnJhbWVidWZmZXIgJiYgdGhpcy5jb3VudCAtIHRleHR1cmUudG91Y2hlZCA+IHRoaXMubWF4SWRsZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0bS5kZXN0cm95VGV4dHVyZSh0ZXh0dXJlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBtYW5hZ2VkVGV4dHVyZXNbaV0gPSBudWxsO1xuICAgICAgICAgICAgICAgIHdhc1JlbW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdhc1JlbW92ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBqID0gMDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKG1hbmFnZWRUZXh0dXJlc1tpXSAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlc1tqKytdID0gbWFuYWdlZFRleHR1cmVzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWFuYWdlZFRleHR1cmVzLmxlbmd0aCA9IGo7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCB0aGUgdGV4dHVyZXMgd2l0aGluIHRoZSBzcGVjaWZpZWQgZGlzcGxheU9iamVjdCBhbmQgaXRzIGNoaWxkcmVuIGZyb20gdGhlIEdQVVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheU9iamVjdCB0byByZW1vdmUgdGhlIHRleHR1cmVzIGZyb20uXG4gICAgICovXG4gICAgdW5sb2FkKGRpc3BsYXlPYmplY3QpXG4gICAge1xuICAgICAgICBjb25zdCB0bSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZVN5c3RlbTtcblxuICAgICAgICAvLyBvbmx5IGRlc3Ryb3kgbm9uIGdlbmVyYXRlZCB0ZXh0dXJlc1xuICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5fdGV4dHVyZSAmJiBkaXNwbGF5T2JqZWN0Ll90ZXh0dXJlLl9nbFJlbmRlclRhcmdldHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRtLmRlc3Ryb3lUZXh0dXJlKGRpc3BsYXlPYmplY3QuX3RleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5sb2FkKGRpc3BsYXlPYmplY3QuY2hpbGRyZW5baV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBJbnRlcm5hbCB0ZXh0dXJlIGZvciBXZWJHTCBjb250ZXh0XG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdMVGV4dHVyZVxue1xuICAgIGNvbnN0cnVjdG9yKHRleHR1cmUpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIHRleHR1cmVcbiAgICAgICAgICogQG1lbWJlciB7V2ViR0xUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcblxuICAgICAgICB0aGlzLndpZHRoID0gLTE7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHR1cmUgY29udGVudHMgZGlydHkgZmxhZ1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5SWQgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dHVyZSBzdHlsZSBkaXJ0eSBmbGFnXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlTdHlsZUlkID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgbWlwIGxldmVscyBoYXMgdG8gYmUgZ2VuZXJhdGVkXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1pcG1hcCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXcmFwTW9kZSBjb3BpZWQgZnJvbSBiYXNlVGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndyYXBNb2RlID0gMzMwNzE7XG4gICAgfVxufVxuIiwiaW1wb3J0IFN5c3RlbSBmcm9tICcuLi9TeXN0ZW0nO1xuaW1wb3J0IEJhc2VUZXh0dXJlIGZyb20gJy4vQmFzZVRleHR1cmUnO1xuaW1wb3J0IEdMVGV4dHVyZSBmcm9tICcuL0dMVGV4dHVyZSc7XG5pbXBvcnQgeyByZW1vdmVJdGVtcyB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IE1JUE1BUF9NT0RFUywgV1JBUF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbi8qKlxuICogU3lzdGVtIHBsdWdpbiB0byB0aGUgcmVuZGVyZXIgdG8gbWFuYWdlIHRleHR1cmVzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dHVyZVN5c3RlbSBleHRlbmRzIFN5c3RlbVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIC8vIFRPRE8gc2V0IHRvIG1heCB0ZXh0dXJlcy4uLlxuICAgICAgICAvKipcbiAgICAgICAgICogQm91bmQgdGV4dHVyZXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZVtdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYm91bmRUZXh0dXJlcyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBsb2NhdGlvblxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiBtYW5hZ2VkIHRleHR1cmVzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmVbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hbmFnZWRUZXh0dXJlcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWQgc29tZW9uZSB0ZW1wZXIgd2l0aCB0ZXh0dXJlcyBzdGF0ZT8gV2UnbGwgb3ZlcndyaXRlIHRoZW0gd2hlbiB3ZSBuZWVkIHRvIHVuYmluZCBzb21ldGhpbmcuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCYXNlVGV4dHVyZSB2YWx1ZSB0aGF0IHNob3dzIHRoYXQgd2UgZG9uJ3Qga25vdyB3aGF0IGlzIGJvdW5kXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQmFzZVRleHR1cmV9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51bmtub3duVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqL1xuICAgIGNvbnRleHRDaGFuZ2UoKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICB0aGlzLkNPTlRFWFRfVUlEID0gdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRDtcblxuICAgICAgICB0aGlzLndlYkdMVmVyc2lvbiA9IHRoaXMucmVuZGVyZXIuY29udGV4dC53ZWJHTFZlcnNpb247XG5cbiAgICAgICAgY29uc3QgbWF4VGV4dHVyZXMgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpO1xuXG4gICAgICAgIHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGggPSBtYXhUZXh0dXJlcztcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heFRleHR1cmVzOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPIG1vdmUgdGhpcy4uIHRvIGEgbmljZSBtYWtlIGVtcHR5IHRleHR1cmVzIGNsYXNzLi5cbiAgICAgICAgdGhpcy5lbXB0eVRleHR1cmVzID0ge307XG5cbiAgICAgICAgY29uc3QgZW1wdHlUZXh0dXJlMkQgPSBuZXcgR0xUZXh0dXJlKGdsLmNyZWF0ZVRleHR1cmUoKSk7XG5cbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgZW1wdHlUZXh0dXJlMkQudGV4dHVyZSk7XG4gICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgMSwgMSwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbmV3IFVpbnQ4QXJyYXkoNCkpO1xuXG4gICAgICAgIHRoaXMuZW1wdHlUZXh0dXJlc1tnbC5URVhUVVJFXzJEXSA9IGVtcHR5VGV4dHVyZTJEO1xuICAgICAgICB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV9DVUJFX01BUF0gPSBuZXcgR0xUZXh0dXJlKGdsLmNyZWF0ZVRleHR1cmUoKSk7XG5cbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV9DVUJFX01BUCwgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfQ1VCRV9NQVBdLnRleHR1cmUpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCArIGksIDAsIGdsLlJHQkEsIDEsIDEsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJpbmQobnVsbCwgaSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCaW5kIGEgdGV4dHVyZSB0byBhIHNwZWNpZmljIGxvY2F0aW9uXG4gICAgICpcbiAgICAgKiBJZiB5b3Ugd2FudCB0byB1bmJpbmQgc29tZXRoaW5nLCBwbGVhc2UgdXNlIGB1bmJpbmQodGV4dHVyZSlgIGluc3RlYWQgb2YgYGJpbmQobnVsbCwgdGV4dHVyZUxvY2F0aW9uKWBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfFBJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIGJpbmRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvY2F0aW9uPTBdIC0gTG9jYXRpb24gdG8gYmluZCBhdFxuICAgICAqL1xuICAgIGJpbmQodGV4dHVyZSwgbG9jYXRpb24gPSAwKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyBnbCB9ID0gdGhpcztcblxuICAgICAgICBpZiAodGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmUgfHwgdGV4dHVyZTtcblxuICAgICAgICAgICAgaWYgKHRleHR1cmUudmFsaWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGV4dHVyZS50b3VjaGVkID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlR0MuY291bnQ7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBnbFRleHR1cmUgPSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdIHx8IHRoaXMuaW5pdFRleHR1cmUodGV4dHVyZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9jYXRpb24gIT09IGxvY2F0aW9uKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ib3VuZFRleHR1cmVzW2xvY2F0aW9uXSAhPT0gdGV4dHVyZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKHRleHR1cmUudGFyZ2V0LCBnbFRleHR1cmUudGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGdsVGV4dHVyZS5kaXJ0eUlkICE9PSB0ZXh0dXJlLmRpcnR5SWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUodGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2xvY2F0aW9uXSA9IHRleHR1cmU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9jYXRpb24gIT09IGxvY2F0aW9uKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGxvY2F0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfMkRdLnRleHR1cmUpO1xuICAgICAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzW2xvY2F0aW9uXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGV4dHVyZSBsb2NhdGlvbiBhbmQgYm91bmQgdGV4dHVyZXNcbiAgICAgKlxuICAgICAqIEFjdHVhbCBgYmluZChudWxsLCBpKWAgY2FsbHMgd2lsbCBiZSBwZXJmb3JtZWQgYXQgbmV4dCBgdW5iaW5kKClgIGNhbGxcbiAgICAgKi9cbiAgICByZXNldCgpXG4gICAge1xuICAgICAgICB0aGlzLl91bmtub3duQm91bmRUZXh0dXJlcyA9IHRydWU7XG4gICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tpXSA9IHRoaXMudW5rbm93blRleHR1cmU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVbmJpbmQgYSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV8UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gYmluZFxuICAgICAqL1xuICAgIHVuYmluZCh0ZXh0dXJlKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyBnbCwgYm91bmRUZXh0dXJlcyB9ID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5fdW5rbm93bkJvdW5kVGV4dHVyZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3Vua25vd25Cb3VuZFRleHR1cmVzID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBzb21lb25lIGNoYW5nZWQgd2ViR0wgc3RhdGUsXG4gICAgICAgICAgICAvLyB3ZSBoYXZlIHRvIGJlIHN1cmUgdGhhdCBvdXIgdGV4dHVyZSBkb2VzIG5vdCBhcHBlYXIgaW4gbXVsdGktdGV4dHVyZSByZW5kZXJlciBzYW1wbGVyc1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib3VuZFRleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChib3VuZFRleHR1cmVzW2ldID09PSB0aGlzLnVua25vd25UZXh0dXJlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iaW5kKG51bGwsIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGJvdW5kVGV4dHVyZXNbaV0gPT09IHRleHR1cmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudExvY2F0aW9uICE9PSBpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IGk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGhpcy5lbXB0eVRleHR1cmVzW3RleHR1cmUudGFyZ2V0XS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICBib3VuZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgYSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gaW5pdGlhbGl6ZVxuICAgICAqL1xuICAgIGluaXRUZXh0dXJlKHRleHR1cmUpXG4gICAge1xuICAgICAgICBjb25zdCBnbFRleHR1cmUgPSBuZXcgR0xUZXh0dXJlKHRoaXMuZ2wuY3JlYXRlVGV4dHVyZSgpKTtcblxuICAgICAgICAvLyBndWFyYW50ZWUgYW4gdXBkYXRlLi5cbiAgICAgICAgZ2xUZXh0dXJlLmRpcnR5SWQgPSAtMTtcblxuICAgICAgICB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdID0gZ2xUZXh0dXJlO1xuXG4gICAgICAgIHRoaXMubWFuYWdlZFRleHR1cmVzLnB1c2godGV4dHVyZSk7XG4gICAgICAgIHRleHR1cmUub24oJ2Rpc3Bvc2UnLCB0aGlzLmRlc3Ryb3lUZXh0dXJlLCB0aGlzKTtcblxuICAgICAgICByZXR1cm4gZ2xUZXh0dXJlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBhIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byBpbml0aWFsaXplXG4gICAgICovXG4gICAgdXBkYXRlVGV4dHVyZSh0ZXh0dXJlKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2xUZXh0dXJlID0gdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlLnJlc291cmNlICYmIHRleHR1cmUucmVzb3VyY2UudXBsb2FkKHJlbmRlcmVyLCB0ZXh0dXJlLCBnbFRleHR1cmUpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB0ZXh0dXJlIGlzIHVwbG9hZGVkLCBkb250IGRvIGFueXRoaW5nIVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZGVmYXVsdCwgcmVuZGVyVGV4dHVyZS1saWtlIGxvZ2ljXG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IHRleHR1cmUucmVhbFdpZHRoO1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGV4dHVyZS5yZWFsSGVpZ2h0O1xuICAgICAgICAgICAgY29uc3QgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICAgICAgaWYgKGdsVGV4dHVyZS53aWR0aCAhPT0gd2lkdGhcbiAgICAgICAgICAgICAgICB8fCBnbFRleHR1cmUuaGVpZ2h0ICE9PSBoZWlnaHRcbiAgICAgICAgICAgICAgICB8fCBnbFRleHR1cmUuZGlydHlJZCA8IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAgICAgICAgIGdsLnRleEltYWdlMkQodGV4dHVyZS50YXJnZXQsIDAsXG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmUuZm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS50eXBlLFxuICAgICAgICAgICAgICAgICAgICBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldHMgb25seSB1cGRhdGUgd2hhdCBjaGFuZ2VzLi5cbiAgICAgICAgaWYgKHRleHR1cmUuZGlydHlTdHlsZUlkICE9PSBnbFRleHR1cmUuZGlydHlTdHlsZUlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmVTdHlsZSh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBnbFRleHR1cmUuZGlydHlJZCA9IHRleHR1cmUuZGlydHlJZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWxldGVzIHRoZSB0ZXh0dXJlIGZyb20gV2ViR0xcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfFBJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIHRoZSB0ZXh0dXJlIHRvIGRlc3Ryb3lcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwUmVtb3ZlPWZhbHNlXSAtIFdoZXRoZXIgdG8gc2tpcCByZW1vdmluZyB0aGUgdGV4dHVyZSBmcm9tIHRoZSBUZXh0dXJlTWFuYWdlci5cbiAgICAgKi9cbiAgICBkZXN0cm95VGV4dHVyZSh0ZXh0dXJlLCBza2lwUmVtb3ZlKVxuICAgIHtcbiAgICAgICAgY29uc3QgeyBnbCB9ID0gdGhpcztcblxuICAgICAgICB0ZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZSB8fCB0ZXh0dXJlO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuYmluZCh0ZXh0dXJlKTtcblxuICAgICAgICAgICAgZ2wuZGVsZXRlVGV4dHVyZSh0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdLnRleHR1cmUpO1xuICAgICAgICAgICAgdGV4dHVyZS5vZmYoJ2Rpc3Bvc2UnLCB0aGlzLmRlc3Ryb3lUZXh0dXJlLCB0aGlzKTtcblxuICAgICAgICAgICAgZGVsZXRlIHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgICAgIGlmICghc2tpcFJlbW92ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpID0gdGhpcy5tYW5hZ2VkVGV4dHVyZXMuaW5kZXhPZih0ZXh0dXJlKTtcblxuICAgICAgICAgICAgICAgIGlmIChpICE9PSAtMSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMubWFuYWdlZFRleHR1cmVzLCBpLCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGV4dHVyZSBzdHlsZSBzdWNoIGFzIG1pcG1hcCBmbGFnXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gdXBkYXRlXG4gICAgICovXG4gICAgdXBkYXRlVGV4dHVyZVN0eWxlKHRleHR1cmUpXG4gICAge1xuICAgICAgICBjb25zdCBnbFRleHR1cmUgPSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmICghZ2xUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoKHRleHR1cmUubWlwbWFwID09PSBNSVBNQVBfTU9ERVMuUE9XMiB8fCB0aGlzLndlYkdMVmVyc2lvbiAhPT0gMikgJiYgIXRleHR1cmUuaXNQb3dlck9mVHdvKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbFRleHR1cmUubWlwbWFwID0gMDtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53cmFwTW9kZSA9IFdSQVBfTU9ERVMuQ0xBTVA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBnbFRleHR1cmUubWlwbWFwID0gdGV4dHVyZS5taXBtYXAgPj0gMTtcbiAgICAgICAgICAgIGdsVGV4dHVyZS53cmFwTW9kZSA9IHRleHR1cmUud3JhcE1vZGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGV4dHVyZS5yZXNvdXJjZSAmJiB0ZXh0dXJlLnJlc291cmNlLnN0eWxlKHRoaXMucmVuZGVyZXIsIHRleHR1cmUsIGdsVGV4dHVyZSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHN0eWxlIGlzIHNldCwgZG9udCBkbyBhbnl0aGluZyFcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3R5bGUodGV4dHVyZSwgZ2xUZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsVGV4dHVyZS5kaXJ0eVN0eWxlSWQgPSB0ZXh0dXJlLmRpcnR5U3R5bGVJZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgc3R5bGUgZm9yIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuR0xUZXh0dXJlfSBnbFRleHR1cmVcbiAgICAgKi9cbiAgICBzZXRTdHlsZSh0ZXh0dXJlLCBnbFRleHR1cmUpXG4gICAge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgaWYgKGdsVGV4dHVyZS5taXBtYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmdlbmVyYXRlTWlwbWFwKHRleHR1cmUudGFyZ2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbFRleHR1cmUud3JhcE1vZGUpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX1dSQVBfVCwgZ2xUZXh0dXJlLndyYXBNb2RlKTtcblxuICAgICAgICBpZiAoZ2xUZXh0dXJlLm1pcG1hcClcbiAgICAgICAge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCB0ZXh0dXJlLnNjYWxlTW9kZSA/IGdsLkxJTkVBUl9NSVBNQVBfTElORUFSIDogZ2wuTkVBUkVTVF9NSVBNQVBfTkVBUkVTVCk7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX01JTl9GSUxURVIsIHRleHR1cmUuc2NhbGVNb2RlID8gZ2wuTElORUFSIDogZ2wuTkVBUkVTVCk7XG4gICAgICAgIH1cblxuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX01BR19GSUxURVIsIHRleHR1cmUuc2NhbGVNb2RlID8gZ2wuTElORUFSIDogZ2wuTkVBUkVTVCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgaGV4MnN0cmluZywgaGV4MnJnYiwgZGVwcmVjYXRpb24sIEV2ZW50RW1pdHRlciB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IE1hdHJpeCwgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBSRU5ERVJFUl9UWVBFIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgUmVuZGVyVGV4dHVyZSBmcm9tICcuL3JlbmRlclRleHR1cmUvUmVuZGVyVGV4dHVyZSc7XG5cbmNvbnN0IHRlbXBNYXRyaXggPSBuZXcgTWF0cml4KCk7XG5cbi8qKlxuICogVGhlIEFic3RyYWN0UmVuZGVyZXIgaXMgdGhlIGJhc2UgZm9yIGEgUGl4aUpTIFJlbmRlcmVyLiBJdCBpcyBleHRlbmRlZCBieSB0aGUge0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXJ9XG4gKiBhbmQge0BsaW5rIFBJWEkuUmVuZGVyZXJ9IHdoaWNoIGNhbiBiZSB1c2VkIGZvciByZW5kZXJpbmcgYSBQaXhpSlMgc2NlbmUuXG4gKlxuICogQGFic3RyYWN0XG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBYnN0cmFjdFJlbmRlcmVyIGV4dGVuZHMgRXZlbnRFbWl0dGVyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN5c3RlbSAtIFRoZSBuYW1lIG9mIHRoZSBzeXN0ZW0gdGhpcyByZW5kZXJlciBpcyBmb3IuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gVGhlIHdpZHRoIG9mIHRoZSBzY3JlZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD02MDBdIC0gVGhlIGhlaWdodCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gVGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYW5zcGFyZW50PWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9EZW5zaXR5PWZhbHNlXSAtIFJlc2l6ZXMgcmVuZGVyZXIgdmlldyBpbiBDU1MgcGl4ZWxzIHRvIGFsbG93IGZvclxuICAgICAqICAgcmVzb2x1dGlvbnMgb3RoZXIgdGhhbiAxLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIFNldHMgYW50aWFsaWFzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuIFRoZVxuICAgICAqICByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXJlciByZXRpbmEgd291bGQgYmUgMi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZV0gLSBFbmFibGVzIGRyYXdpbmcgYnVmZmVyIHByZXNlcnZhdGlvbixcbiAgICAgKiAgZW5hYmxlIHRoaXMgaWYgeW91IG5lZWQgdG8gY2FsbCB0b0RhdGFVcmwgb24gdGhlIFdlYkdMIGNvbnRleHQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yXG4gICAgICogICAgICBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmJhY2tncm91bmRDb2xvcj0weDAwMDAwMF0gLSBUaGUgYmFja2dyb3VuZCBjb2xvciBvZiB0aGUgcmVuZGVyZWQgYXJlYVxuICAgICAqICAoc2hvd24gaWYgbm90IHRyYW5zcGFyZW50KS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzeXN0ZW0sIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIC8vIEFkZCB0aGUgZGVmYXVsdCByZW5kZXIgb3B0aW9uc1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgc2V0dGluZ3MuUkVOREVSX09QVElPTlMsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIERlcHJlY2F0aW9uIG5vdGljZSBmb3IgcmVuZGVyZXIgcm91bmRQaXhlbHMgb3B0aW9uXG4gICAgICAgIGlmIChvcHRpb25zLnJvdW5kUGl4ZWxzKVxuICAgICAgICB7XG4gICAgICAgICAgICBzZXR0aW5ncy5ST1VORF9QSVhFTFMgPSBvcHRpb25zLnJvdW5kUGl4ZWxzO1xuICAgICAgICAgICAgZGVwcmVjYXRpb24oJzUuMC4wJywgJ1JlbmRlcmVyIHJvdW5kUGl4ZWxzIG9wdGlvbiBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTJywgMik7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN1cHBsaWVkIGNvbnN0cnVjdG9yIG9wdGlvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5SRU5ERVJFUl9UWVBFLlVOS05PV05cbiAgICAgICAgICogQHNlZSBQSVhJLlJFTkRFUkVSX1RZUEVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFJFTkRFUkVSX1RZUEUuVU5LTk9XTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWVhc3VyZW1lbnRzIG9mIHRoZSBzY3JlZW4uICgwLCAwLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KS5cbiAgICAgICAgICpcbiAgICAgICAgICogSXRzIHNhZmUgdG8gdXNlIGFzIGZpbHRlckFyZWEgb3IgaGl0QXJlYSBmb3IgdGhlIHdob2xlIHN0YWdlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2NyZWVuID0gbmV3IFJlY3RhbmdsZSgwLCAwLCBvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgZWxlbWVudCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gdG8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52aWV3ID0gb3B0aW9ucy52aWV3IHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gb3B0aW9ucy5yZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50cmFuc3BhcmVudCA9IG9wdGlvbnMudHJhbnNwYXJlbnQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgQ1NTIGRpbWVuc2lvbnMgb2YgY2FudmFzIHZpZXcgc2hvdWxkIGJlIHJlc2l6ZWQgdG8gc2NyZWVuIGRpbWVuc2lvbnMgYXV0b21hdGljYWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b0RlbnNpdHkgPSBvcHRpb25zLmF1dG9EZW5zaXR5IHx8IG9wdGlvbnMuYXV0b1Jlc2l6ZSB8fCBmYWxzZTtcbiAgICAgICAgLy8gYXV0b1Jlc2l6ZSBpcyBkZXByZWNhdGVkLCBwcm92aWRlcyBmYWxsYmFjayBzdXBwb3J0XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2YWx1ZSBvZiB0aGUgcHJlc2VydmVEcmF3aW5nQnVmZmVyIGZsYWcgYWZmZWN0cyB3aGV0aGVyIG9yIG5vdCB0aGUgY29udGVudHMgb2ZcbiAgICAgICAgICogdGhlIHN0ZW5jaWwgYnVmZmVyIGlzIHJldGFpbmVkIGFmdGVyIHJlbmRlcmluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJlc2VydmVEcmF3aW5nQnVmZmVyID0gb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgc2V0cyBpZiB0aGUgQ2FudmFzUmVuZGVyZXIgd2lsbCBjbGVhciB0aGUgY2FudmFzIG9yIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy5cbiAgICAgICAgICogSWYgdGhlIHNjZW5lIGlzIE5PVCB0cmFuc3BhcmVudCBQaXhpSlMgd2lsbCB1c2UgYSBjYW52YXMgc2l6ZWQgZmlsbFJlY3Qgb3BlcmF0aW9uIGV2ZXJ5XG4gICAgICAgICAqIGZyYW1lIHRvIHNldCB0aGUgY2FudmFzIGJhY2tncm91bmQgY29sb3IuIElmIHRoZSBzY2VuZSBpcyB0cmFuc3BhcmVudCBQaXhpSlMgd2lsbCB1c2UgY2xlYXJSZWN0XG4gICAgICAgICAqIHRvIGNsZWFyIHRoZSBjYW52YXMgZXZlcnkgZnJhbWUuIERpc2FibGUgdGhpcyBieSBzZXR0aW5nIHRoaXMgdG8gZmFsc2UuIEZvciBleGFtcGxlLCBpZlxuICAgICAgICAgKiB5b3VyIGdhbWUgaGFzIGEgY2FudmFzIGZpbGxpbmcgYmFja2dyb3VuZCBpbWFnZSB5b3Ugb2Z0ZW4gZG9uJ3QgbmVlZCB0aGlzIHNldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xlYXJCZWZvcmVSZW5kZXIgPSBvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhIG51bWJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSAweDAwMDAwMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYW4gW1IsIEcsIEJdIGFycmF5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSA9IFswLCAwLCAwLCAwXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYSBzdHJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nID0gJyMwMDAwMDAnO1xuXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZENvbG9yID0gb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IgfHwgdGhpcy5fYmFja2dyb3VuZENvbG9yOyAvLyBydW4gYmcgY29sb3Igc2V0dGVyXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgdGVtcG9yYXJ5IGRpc3BsYXkgb2JqZWN0IHVzZWQgYXMgdGhlIHBhcmVudCBvZiB0aGUgY3VycmVudGx5IGJlaW5nIHJlbmRlcmVkIGl0ZW0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBuZXcgQ29udGFpbmVyKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBsYXN0IHJvb3Qgb2JqZWN0IHRoYXQgdGhlIHJlbmRlcmVyIHRyaWVkIHRvIHJlbmRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBwbHVnaW5zLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wbHVnaW5zID0ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgcGx1Z2lucy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3RhdGljTWFwIC0gVGhlIGRpY3Rpb25hcnkgb2Ygc3RhdGljYWxseSBzYXZlZCBwbHVnaW5zLlxuICAgICAqL1xuICAgIGluaXRQbHVnaW5zKHN0YXRpY01hcClcbiAgICB7XG4gICAgICAgIGZvciAoY29uc3QgbyBpbiBzdGF0aWNNYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1tvXSA9IG5ldyAoc3RhdGljTWFwW29dKSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNhbWUgYXMgdmlldy53aWR0aCwgYWN0dWFsIG51bWJlciBvZiBwaXhlbHMgaW4gdGhlIGNhbnZhcyBieSBob3Jpem9udGFsLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBkZWZhdWx0IDgwMFxuICAgICAqL1xuICAgIGdldCB3aWR0aCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LndpZHRoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNhbWUgYXMgdmlldy5oZWlnaHQsIGFjdHVhbCBudW1iZXIgb2YgcGl4ZWxzIGluIHRoZSBjYW52YXMgYnkgdmVydGljYWwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQGRlZmF1bHQgNjAwXG4gICAgICovXG4gICAgZ2V0IGhlaWdodCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmhlaWdodDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBzY3JlZW4gYW5kIGNhbnZhcyB0byB0aGUgc3BlY2lmaWVkIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICogQ2FudmFzIGRpbWVuc2lvbnMgYXJlIG11bHRpcGxpZWQgYnkgcmVzb2x1dGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5XaWR0aCAtIFRoZSBuZXcgd2lkdGggb2YgdGhlIHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuSGVpZ2h0IC0gVGhlIG5ldyBoZWlnaHQgb2YgdGhlIHNjcmVlbi5cbiAgICAgKi9cbiAgICByZXNpemUoc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodClcbiAgICB7XG4gICAgICAgIHRoaXMuc2NyZWVuLndpZHRoID0gc2NyZWVuV2lkdGg7XG4gICAgICAgIHRoaXMuc2NyZWVuLmhlaWdodCA9IHNjcmVlbkhlaWdodDtcblxuICAgICAgICB0aGlzLnZpZXcud2lkdGggPSBzY3JlZW5XaWR0aCAqIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy52aWV3LmhlaWdodCA9IHNjcmVlbkhlaWdodCAqIHRoaXMucmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAodGhpcy5hdXRvRGVuc2l0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3LnN0eWxlLndpZHRoID0gYCR7c2NyZWVuV2lkdGh9cHhgO1xuICAgICAgICAgICAgdGhpcy52aWV3LnN0eWxlLmhlaWdodCA9IGAke3NjcmVlbkhlaWdodH1weGA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VmdWwgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdGV4dHVyZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBjYW4gdGhlbiBiZSB1c2VkIHRvIGNyZWF0ZSBzcHJpdGVzXG4gICAgICogVGhpcyBjYW4gYmUgcXVpdGUgdXNlZnVsIGlmIHlvdXIgZGlzcGxheU9iamVjdCBpcyBjb21wbGljYXRlZCBhbmQgbmVlZHMgdG8gYmUgcmV1c2VkIG11bHRpcGxlIHRpbWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheU9iamVjdCB0aGUgb2JqZWN0IHdpbGwgYmUgZ2VuZXJhdGVkIGZyb20uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlTW9kZSAtIFNob3VsZCBiZSBvbmUgb2YgdGhlIHNjYWxlTW9kZSBjb25zdHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgdGV4dHVyZSBiZWluZyBnZW5lcmF0ZWQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlZ2lvbl0gLSBUaGUgcmVnaW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0LCB0aGF0IHNoYWxsIGJlIHJlbmRlcmVkLFxuICAgICAqICAgICAgICBpZiBubyByZWdpb24gaXMgc3BlY2lmaWVkLCBkZWZhdWx0cyB0byB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gQSB0ZXh0dXJlIG9mIHRoZSBncmFwaGljcyBvYmplY3QuXG4gICAgICovXG4gICAgZ2VuZXJhdGVUZXh0dXJlKGRpc3BsYXlPYmplY3QsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbiwgcmVnaW9uKVxuICAgIHtcbiAgICAgICAgcmVnaW9uID0gcmVnaW9uIHx8IGRpc3BsYXlPYmplY3QuZ2V0TG9jYWxCb3VuZHMoKTtcblxuICAgICAgICAvLyBtaW5pbXVtIHRleHR1cmUgc2l6ZSBpcyAxeDEsIDB4MCB3aWxsIHRocm93IGFuIGVycm9yXG4gICAgICAgIGlmIChyZWdpb24ud2lkdGggPT09IDApIHJlZ2lvbi53aWR0aCA9IDE7XG4gICAgICAgIGlmIChyZWdpb24uaGVpZ2h0ID09PSAwKSByZWdpb24uaGVpZ2h0ID0gMTtcblxuICAgICAgICBjb25zdCByZW5kZXJUZXh0dXJlID0gUmVuZGVyVGV4dHVyZS5jcmVhdGUocmVnaW9uLndpZHRoIHwgMCwgcmVnaW9uLmhlaWdodCB8IDAsIHNjYWxlTW9kZSwgcmVzb2x1dGlvbik7XG5cbiAgICAgICAgdGVtcE1hdHJpeC50eCA9IC1yZWdpb24ueDtcbiAgICAgICAgdGVtcE1hdHJpeC50eSA9IC1yZWdpb24ueTtcblxuICAgICAgICB0aGlzLnJlbmRlcihkaXNwbGF5T2JqZWN0LCByZW5kZXJUZXh0dXJlLCBmYWxzZSwgdGVtcE1hdHJpeCwgISFkaXNwbGF5T2JqZWN0LnBhcmVudCk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlclRleHR1cmU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBldmVyeXRoaW5nIGZyb20gdGhlIHJlbmRlcmVyIGFuZCBvcHRpb25hbGx5IHJlbW92ZXMgdGhlIENhbnZhcyBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbW92ZVZpZXc9ZmFsc2VdIC0gUmVtb3ZlcyB0aGUgQ2FudmFzIGVsZW1lbnQgZnJvbSB0aGUgRE9NLlxuICAgICAqL1xuICAgIGRlc3Ryb3kocmVtb3ZlVmlldylcbiAgICB7XG4gICAgICAgIGZvciAoY29uc3QgbyBpbiB0aGlzLnBsdWdpbnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luc1tvXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnNbb10gPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlbW92ZVZpZXcgJiYgdGhpcy52aWV3LnBhcmVudE5vZGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMudmlldyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBsdWdpbnMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMudHlwZSA9IFJFTkRFUkVSX1RZUEUuVU5LTk9XTjtcblxuICAgICAgICB0aGlzLnZpZXcgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuc2NyZWVuID0gbnVsbDtcblxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSAwO1xuXG4gICAgICAgIHRoaXMudHJhbnNwYXJlbnQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmF1dG9EZW5zaXR5ID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5ibGVuZE1vZGVzID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMucHJlc2VydmVEcmF3aW5nQnVmZmVyID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2xlYXJCZWZvcmVSZW5kZXIgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSAwO1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JSZ2JhID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nID0gbnVsbDtcblxuICAgICAgICB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xhc3RPYmplY3RSZW5kZXJlZCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgdG8gZmlsbCBpZiBub3QgdHJhbnNwYXJlbnRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgYmFja2dyb3VuZENvbG9yKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9iYWNrZ3JvdW5kQ29sb3I7XG4gICAgfVxuXG4gICAgc2V0IGJhY2tncm91bmRDb2xvcih2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yU3RyaW5nID0gaGV4MnN0cmluZyh2YWx1ZSk7XG4gICAgICAgIGhleDJyZ2IodmFsdWUsIHRoaXMuX2JhY2tncm91bmRDb2xvclJnYmEpO1xuICAgIH1cbn1cbiIsImltcG9ydCBBYnN0cmFjdFJlbmRlcmVyIGZyb20gJy4vQWJzdHJhY3RSZW5kZXJlcic7XG5pbXBvcnQgeyBzYXlIZWxsbywgaXNXZWJHTFN1cHBvcnRlZCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCBNYXNrU3lzdGVtIGZyb20gJy4vbWFzay9NYXNrU3lzdGVtJztcbmltcG9ydCBTdGVuY2lsU3lzdGVtIGZyb20gJy4vbWFzay9TdGVuY2lsU3lzdGVtJztcbmltcG9ydCBGaWx0ZXJTeXN0ZW0gZnJvbSAnLi9maWx0ZXJzL0ZpbHRlclN5c3RlbSc7XG5pbXBvcnQgRnJhbWVidWZmZXJTeXN0ZW0gZnJvbSAnLi9mcmFtZWJ1ZmZlci9GcmFtZWJ1ZmZlclN5c3RlbSc7XG5pbXBvcnQgUmVuZGVyVGV4dHVyZVN5c3RlbSBmcm9tICcuL3JlbmRlclRleHR1cmUvUmVuZGVyVGV4dHVyZVN5c3RlbSc7XG5pbXBvcnQgVGV4dHVyZVN5c3RlbSBmcm9tICcuL3RleHR1cmVzL1RleHR1cmVTeXN0ZW0nO1xuaW1wb3J0IFByb2plY3Rpb25TeXN0ZW0gZnJvbSAnLi9wcm9qZWN0aW9uL1Byb2plY3Rpb25TeXN0ZW0nO1xuaW1wb3J0IFN0YXRlU3lzdGVtIGZyb20gJy4vc3RhdGUvU3RhdGVTeXN0ZW0nO1xuaW1wb3J0IEdlb21ldHJ5U3lzdGVtIGZyb20gJy4vZ2VvbWV0cnkvR2VvbWV0cnlTeXN0ZW0nO1xuaW1wb3J0IFNoYWRlclN5c3RlbSBmcm9tICcuL3NoYWRlci9TaGFkZXJTeXN0ZW0nO1xuaW1wb3J0IENvbnRleHRTeXN0ZW0gZnJvbSAnLi9jb250ZXh0L0NvbnRleHRTeXN0ZW0nO1xuaW1wb3J0IEJhdGNoU3lzdGVtIGZyb20gJy4vYmF0Y2gvQmF0Y2hTeXN0ZW0nO1xuaW1wb3J0IFRleHR1cmVHQ1N5c3RlbSBmcm9tICcuL3RleHR1cmVzL1RleHR1cmVHQ1N5c3RlbSc7XG5pbXBvcnQgeyBSRU5ERVJFUl9UWVBFIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCBVbmlmb3JtR3JvdXAgZnJvbSAnLi9zaGFkZXIvVW5pZm9ybUdyb3VwJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgUnVubmVyIH0gZnJvbSAnQHBpeGkvcnVubmVyJztcblxuLyoqXG4gKiBUaGUgUmVuZGVyZXIgZHJhd3MgdGhlIHNjZW5lIGFuZCBhbGwgaXRzIGNvbnRlbnQgb250byBhIFdlYkdMIGVuYWJsZWQgY2FudmFzLlxuICpcbiAqIFRoaXMgcmVuZGVyZXIgc2hvdWxkIGJlIHVzZWQgZm9yIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBXZWJHTC5cbiAqXG4gKiBUaGlzIHJlbmRlcmVyIHdvcmtzIGJ5IGF1dG9tYXRpY2FsbHkgbWFuYWdpbmcgV2ViR0xCYXRjaGVzbSwgc28gbm8gbmVlZCBmb3IgU3ByaXRlIEJhdGNoZXMgb3IgU3ByaXRlIENsb3Vkcy5cbiAqIERvbid0IGZvcmdldCB0byBhZGQgdGhlIHZpZXcgdG8geW91ciBET00gb3IgeW91IHdpbGwgbm90IHNlZSBhbnl0aGluZyFcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLkFic3RyYWN0UmVuZGVyZXJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVuZGVyZXIgZXh0ZW5kcyBBYnN0cmFjdFJlbmRlcmVyXG57XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHJlbmRlcmVyIGlmIFdlYkdMIGlzIGF2YWlsYWJsZS4gT3ZlcnJpZGVhYmxlXG4gICAgICogYnkgdGhlICoqQHBpeGkvY2FudmFzLXJlbmRlcmVyKiogcGFja2FnZSB0byBhbGxvdyBmYWxsYmFjay5cbiAgICAgKiB0aHJvd3MgZXJyb3IgaWYgV2ViR0wgaXMgbm90IGF2YWlsYWJsZS5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKG9wdGlvbnMpXG4gICAge1xuICAgICAgICBpZiAoaXNXZWJHTFN1cHBvcnRlZCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlbmRlcmVyKG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWJHTCB1bnN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIsIHVzZSBcInBpeGkuanMtbGVnYWN5XCIgZm9yIGZhbGxiYWNrIGNhbnZhczJkIHN1cHBvcnQuJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gVGhlIHdpZHRoIG9mIHRoZSBzY3JlZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD02MDBdIC0gVGhlIGhlaWdodCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gVGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYW5zcGFyZW50PWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9EZW5zaXR5PWZhbHNlXSAtIFJlc2l6ZXMgcmVuZGVyZXIgdmlldyBpbiBDU1MgcGl4ZWxzIHRvIGFsbG93IGZvclxuICAgICAqICAgcmVzb2x1dGlvbnMgb3RoZXIgdGhhbiAxLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIFNldHMgYW50aWFsaWFzLiBJZiBub3QgYXZhaWxhYmxlIG5hdGl2ZWx5IHRoZW4gRlhBQVxuICAgICAqICBhbnRpYWxpYXNpbmcgaXMgdXNlZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlRlhBQT1mYWxzZV0gLSBGb3JjZXMgRlhBQSBhbnRpYWxpYXNpbmcgdG8gYmUgdXNlZCBvdmVyIG5hdGl2ZS5cbiAgICAgKiAgRlhBQSBpcyBmYXN0ZXIsIGJ1dCBtYXkgbm90IGFsd2F5cyBsb29rIGFzIGdyZWF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLlxuICAgICAqICBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyZXIgcmV0aW5hIHdvdWxkIGJlIDIuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcj10cnVlXSAtIFRoaXMgc2V0cyBpZiB0aGUgcmVuZGVyZXIgd2lsbCBjbGVhclxuICAgICAqICB0aGUgY2FudmFzIG9yIG5vdCBiZWZvcmUgdGhlIG5ldyByZW5kZXIgcGFzcy4gSWYgeW91IHdpc2ggdG8gc2V0IHRoaXMgdG8gZmFsc2UsIHlvdSAqbXVzdCogc2V0XG4gICAgICogIHByZXNlcnZlRHJhd2luZ0J1ZmZlciB0byBgdHJ1ZWAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gRW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sXG4gICAgICogIGVuYWJsZSB0aGlzIGlmIHlvdSBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSBXZWJHTCBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBdIC0gVGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIHJlbmRlcmVkIGFyZWFcbiAgICAgKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBvd2VyUHJlZmVyZW5jZV0gLSBQYXJhbWV0ZXIgcGFzc2VkIHRvIFdlYkdMIGNvbnRleHQsIHNldCB0byBcImhpZ2gtcGVyZm9ybWFuY2VcIlxuICAgICAqICBmb3IgZGV2aWNlcyB3aXRoIGR1YWwgZ3JhcGhpY3MgY2FyZC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMuY29udGV4dF0gSWYgV2ViR0wgY29udGV4dCBhbHJlYWR5IGV4aXN0cywgYWxsIHBhcmFtZXRlcnMgbXVzdCBiZSB0YWtlbiBmcm9tIGl0LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSlcbiAgICB7XG4gICAgICAgIHN1cGVyKCdXZWJHTCcsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIHRoZSBvcHRpb25zIHdpbGwgaGF2ZSBiZWVuIG1vZGlmaWVkIGhlcmUgaW4gdGhlIHN1cGVyIGNvbnN0cnVjdG9yIHdpdGggcGl4aSdzIGRlZmF1bHQgc2V0dGluZ3MuLlxuICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiB0aGlzIHJlbmRlcmVyIGFzIGEgc3RhbmRhcmRpemVkIGNvbnN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLlJFTkRFUkVSX1RZUEVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFJFTkRFUkVSX1RZUEUuV0VCR0w7XG5cbiAgICAgICAgLy8gdGhpcyB3aWxsIGJlIHNldCBieSB0aGUgY29udGV4dFN5c3RlbSAodGhpcy5jb250ZXh0KVxuICAgICAgICB0aGlzLmdsID0gbnVsbDtcbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IDA7XG5cbiAgICAgICAgLy8gVE9ETyBsZWdhY3khXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIHNpZ25hbCBpbnN0YW5jZXMgb2YgKipydW5uZXIqKiwgdGhlc2VcbiAgICAgICAgICogYXJlIGFzc2lnbmVkIHRvIGVhY2ggc3lzdGVtIGNyZWF0ZWQuXG4gICAgICAgICAqIEBzZWUgUElYSS5SdW5uZXJcbiAgICAgICAgICogQG5hbWUgUElYSS5SZW5kZXJlciNydW5uZXJzXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSBkZXN0cm95IC0gRGVzdHJveSBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gY29udGV4dENoYW5nZSAtIENvbnRleHQgY2hhbmdlIHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSByZXNldCAtIFJlc2V0IHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1BJWEkuUnVubmVyfSB1cGRhdGUgLSBVcGRhdGUgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UElYSS5SdW5uZXJ9IHBvc3RyZW5kZXIgLSBQb3N0LXJlbmRlciBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gcHJlcmVuZGVyIC0gUHJlLXJlbmRlciBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJ1bm5lcn0gcmVzaXplIC0gUmVzaXplIHJ1bm5lclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ydW5uZXJzID0ge1xuICAgICAgICAgICAgZGVzdHJveTogbmV3IFJ1bm5lcignZGVzdHJveScpLFxuICAgICAgICAgICAgY29udGV4dENoYW5nZTogbmV3IFJ1bm5lcignY29udGV4dENoYW5nZScsIDEpLFxuICAgICAgICAgICAgcmVzZXQ6IG5ldyBSdW5uZXIoJ3Jlc2V0JyksXG4gICAgICAgICAgICB1cGRhdGU6IG5ldyBSdW5uZXIoJ3VwZGF0ZScpLFxuICAgICAgICAgICAgcG9zdHJlbmRlcjogbmV3IFJ1bm5lcigncG9zdHJlbmRlcicpLFxuICAgICAgICAgICAgcHJlcmVuZGVyOiBuZXcgUnVubmVyKCdwcmVyZW5kZXInKSxcbiAgICAgICAgICAgIHJlc2l6ZTogbmV3IFJ1bm5lcigncmVzaXplJywgMiksXG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdsb2JhbCB1bmlmb3Jtc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlVuaWZvcm1Hcm91cH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2xvYmFsVW5pZm9ybXMgPSBuZXcgVW5pZm9ybUdyb3VwKHtcbiAgICAgICAgICAgIHByb2plY3Rpb25NYXRyaXg6IG5ldyBNYXRyaXgoKSxcbiAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hc2sgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5NYXNrU3lzdGVtfSBtYXNrXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWRkU3lzdGVtKE1hc2tTeXN0ZW0sICdtYXNrJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ29udGV4dCBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5Db250ZXh0U3lzdGVtfSBjb250ZXh0XG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKENvbnRleHRTeXN0ZW0sICdjb250ZXh0JylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU3RhdGUgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuU3RhdGVTeXN0ZW19IHN0YXRlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFN0YXRlU3lzdGVtLCAnc3RhdGUnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTaGFkZXIgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuU2hhZGVyU3lzdGVtfSBzaGFkZXJcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oU2hhZGVyU3lzdGVtLCAnc2hhZGVyJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGV4dHVyZSBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5UZXh0dXJlU3lzdGVtfSB0ZXh0dXJlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFRleHR1cmVTeXN0ZW0sICd0ZXh0dXJlJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogR2VvbWV0cnkgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuR2VvbWV0cnlTeXN0ZW19IGdlb21ldHJ5XG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEdlb21ldHJ5U3lzdGVtLCAnZ2VvbWV0cnknKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGcmFtZWJ1ZmZlciBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5GcmFtZWJ1ZmZlclN5c3RlbX0gZnJhbWVidWZmZXJcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oRnJhbWVidWZmZXJTeXN0ZW0sICdmcmFtZWJ1ZmZlcicpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFN0ZW5jaWwgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuU3RlbmNpbFN5c3RlbX0gc3RlbmNpbFxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShTdGVuY2lsU3lzdGVtLCAnc3RlbmNpbCcpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFByb2plY3Rpb24gc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuUHJvamVjdGlvblN5c3RlbX0gcHJvamVjdGlvblxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShQcm9qZWN0aW9uU3lzdGVtLCAncHJvamVjdGlvbicpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRleHR1cmUgZ2FyYmFnZSBjb2xsZWN0b3Igc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuVGV4dHVyZUdDU3lzdGVtfSB0ZXh0dXJlR0NcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oVGV4dHVyZUdDU3lzdGVtLCAndGV4dHVyZUdDJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRmlsdGVyIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbX0gZmlsdGVyXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEZpbHRlclN5c3RlbSwgJ2ZpbHRlcicpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJlbmRlclRleHR1cmUgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuUmVuZGVyVGV4dHVyZVN5c3RlbX0gcmVuZGVyVGV4dHVyZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShSZW5kZXJUZXh0dXJlU3lzdGVtLCAncmVuZGVyVGV4dHVyZScpXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQmF0Y2ggc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuQmF0Y2hTeXN0ZW19IGJhdGNoXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEJhdGNoU3lzdGVtLCAnYmF0Y2gnKTtcblxuICAgICAgICB0aGlzLmluaXRQbHVnaW5zKFJlbmRlcmVyLl9fcGx1Z2lucyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcHRpb25zIHBhc3NlZCBpbiB0byBjcmVhdGUgYSBuZXcgV2ViR0wgY29udGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIGlmIChvcHRpb25zLmNvbnRleHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5pbml0RnJvbUNvbnRleHQob3B0aW9ucy5jb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5pbml0RnJvbU9wdGlvbnMoe1xuICAgICAgICAgICAgICAgIGFscGhhOiB0aGlzLnRyYW5zcGFyZW50LFxuICAgICAgICAgICAgICAgIGFudGlhbGlhczogb3B0aW9ucy5hbnRpYWxpYXMsXG4gICAgICAgICAgICAgICAgcHJlbXVsdGlwbGllZEFscGhhOiB0aGlzLnRyYW5zcGFyZW50ICYmIHRoaXMudHJhbnNwYXJlbnQgIT09ICdub3RNdWx0aXBsaWVkJyxcbiAgICAgICAgICAgICAgICBzdGVuY2lsOiB0cnVlLFxuICAgICAgICAgICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIsXG4gICAgICAgICAgICAgICAgcG93ZXJQcmVmZXJlbmNlOiB0aGlzLm9wdGlvbnMucG93ZXJQcmVmZXJlbmNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmxhZyBpZiB3ZSBhcmUgcmVuZGVyaW5nIHRvIHRoZSBzY3JlZW4gdnMgcmVuZGVyVGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9IHRydWU7XG5cbiAgICAgICAgc2F5SGVsbG8odGhpcy5jb250ZXh0LndlYkdMVmVyc2lvbiA9PT0gMiA/ICdXZWJHTCAyJyA6ICdXZWJHTCAxJyk7XG5cbiAgICAgICAgdGhpcy5yZXNpemUodGhpcy5vcHRpb25zLndpZHRoLCB0aGlzLm9wdGlvbnMuaGVpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBuZXcgc3lzdGVtIHRvIHRoZSByZW5kZXJlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBDbGFzc1JlZiAtIENsYXNzIHJlZmVyZW5jZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV0gLSBQcm9wZXJ0eSBuYW1lIGZvciBzeXN0ZW0sIGlmIG5vdCBzcGVjaWZpZWRcbiAgICAgKiAgICAgICAgd2lsbCB1c2UgYSBzdGF0aWMgYG5hbWVgIHByb3BlcnR5IG9uIHRoZSBjbGFzcyBpdHNlbGYuIFRoaXNcbiAgICAgKiAgICAgICAgbmFtZSB3aWxsIGJlIGFzc2lnbmVkIGFzIHMgcHJvcGVydHkgb24gdGhlIFJlbmRlcmVyIHNvIG1ha2VcbiAgICAgKiAgICAgICAgc3VyZSBpdCBkb2Vzbid0IGNvbGxpZGUgd2l0aCBwcm9wZXJ0aWVzIG9uIFJlbmRlcmVyLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyZXJ9IFJldHVybiBpbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIGFkZFN5c3RlbShDbGFzc1JlZiwgbmFtZSlcbiAgICB7XG4gICAgICAgIGlmICghbmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZSA9IENsYXNzUmVmLm5hbWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzeXN0ZW0gPSBuZXcgQ2xhc3NSZWYodGhpcyk7XG5cbiAgICAgICAgaWYgKHRoaXNbbmFtZV0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgV2hvb3BzISBUaGUgbmFtZSBcIiR7bmFtZX1cIiBpcyBhbHJlYWR5IGluIHVzZWApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpc1tuYW1lXSA9IHN5c3RlbTtcblxuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5ydW5uZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJ1bm5lcnNbaV0uYWRkKHN5c3RlbSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgYWZ0ZXIgcmVuZGVyaW5nIGZpbmlzaGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5SZW5kZXJlciNwb3N0cmVuZGVyXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCBiZWZvcmUgcmVuZGVyaW5nIHN0YXJ0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuUmVuZGVyZXIjcHJlcmVuZGVyXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBXZWJHTCBjb250ZXh0IGlzIHNldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuUmVuZGVyZXIjY29udGV4dFxuICAgICAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBXZWJHTCBjb250ZXh0LlxuICAgICAgICAgKi9cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdG8gaXRzIFdlYkdMIHZpZXdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIG9iamVjdCB0byBiZSByZW5kZXJlZC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gW3JlbmRlclRleHR1cmVdIC0gVGhlIHJlbmRlciB0ZXh0dXJlIHRvIHJlbmRlciB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjbGVhcj10cnVlXSAtIFNob3VsZCB0aGUgY2FudmFzIGJlIGNsZWFyZWQgYmVmb3JlIHRoZSBuZXcgcmVuZGVyLlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IFt0cmFuc2Zvcm1dIC0gQSB0cmFuc2Zvcm0gdG8gYXBwbHkgdG8gdGhlIHJlbmRlciB0ZXh0dXJlIGJlZm9yZSByZW5kZXJpbmcuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFVwZGF0ZVRyYW5zZm9ybT1mYWxzZV0gLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybSBwYXNzP1xuICAgICAqL1xuICAgIHJlbmRlcihkaXNwbGF5T2JqZWN0LCByZW5kZXJUZXh0dXJlLCBjbGVhciwgdHJhbnNmb3JtLCBza2lwVXBkYXRlVHJhbnNmb3JtKVxuICAgIHtcbiAgICAgICAgLy8gY2FuIGJlIGhhbmR5IHRvIGtub3chXG4gICAgICAgIHRoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSAhcmVuZGVyVGV4dHVyZTtcblxuICAgICAgICB0aGlzLnJ1bm5lcnMucHJlcmVuZGVyLnJ1bigpO1xuICAgICAgICB0aGlzLmVtaXQoJ3ByZXJlbmRlcicpO1xuXG4gICAgICAgIC8vIGFwcGx5IGEgdHJhbnNmb3JtIGF0IGEgR1BVIGxldmVsXG4gICAgICAgIHRoaXMucHJvamVjdGlvbi50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG5cbiAgICAgICAgLy8gbm8gcG9pbnQgcmVuZGVyaW5nIGlmIG91ciBjb250ZXh0IGhhcyBiZWVuIGJsb3duIHVwIVxuICAgICAgICBpZiAodGhpcy5jb250ZXh0LmlzTG9zdClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFyZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBkaXNwbGF5T2JqZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlVHJhbnNmb3JtKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIHNjZW5lIGdyYXBoXG4gICAgICAgICAgICBjb25zdCBjYWNoZVBhcmVudCA9IGRpc3BsYXlPYmplY3QucGFyZW50O1xuXG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICAgICAgZGlzcGxheU9iamVjdC51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QucGFyZW50ID0gY2FjaGVQYXJlbnQ7XG4gICAgICAgICAgICAvLyBkaXNwbGF5T2JqZWN0LmhpdEFyZWEgPSAvL1RPRE8gYWRkIGEgdGVtcCBoaXQgYXJlYVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW5kZXJUZXh0dXJlLmJpbmQocmVuZGVyVGV4dHVyZSk7XG4gICAgICAgIHRoaXMuYmF0Y2guY3VycmVudFJlbmRlcmVyLnN0YXJ0KCk7XG5cbiAgICAgICAgaWYgKGNsZWFyICE9PSB1bmRlZmluZWQgPyBjbGVhciA6IHRoaXMuY2xlYXJCZWZvcmVSZW5kZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyVGV4dHVyZS5jbGVhcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGlzcGxheU9iamVjdC5yZW5kZXIodGhpcyk7XG5cbiAgICAgICAgLy8gYXBwbHkgdHJhbnNmb3JtLi5cbiAgICAgICAgdGhpcy5iYXRjaC5jdXJyZW50UmVuZGVyZXIuZmx1c2goKTtcblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS51cGRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucnVubmVycy5wb3N0cmVuZGVyLnJ1bigpO1xuXG4gICAgICAgIC8vIHJlc2V0IHRyYW5zZm9ybSBhZnRlciByZW5kZXJcbiAgICAgICAgdGhpcy5wcm9qZWN0aW9uLnRyYW5zZm9ybSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5lbWl0KCdwb3N0cmVuZGVyJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgV2ViR0wgdmlldyB0byB0aGUgc3BlY2lmaWVkIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuV2lkdGggLSBUaGUgbmV3IHdpZHRoIG9mIHRoZSBzY3JlZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbkhlaWdodCAtIFRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBzY3JlZW4uXG4gICAgICovXG4gICAgcmVzaXplKHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpXG4gICAge1xuICAgICAgICBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZS5yZXNpemUuY2FsbCh0aGlzLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KTtcblxuICAgICAgICB0aGlzLnJ1bm5lcnMucmVzaXplLnJ1bihzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIFdlYkdMIHN0YXRlIHNvIHlvdSBjYW4gcmVuZGVyIHRoaW5ncyBob3dldmVyIHlvdSBmYW5jeSFcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIHJlc2V0KClcbiAgICB7XG4gICAgICAgIHRoaXMucnVubmVycy5yZXNldC5ydW4oKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICovXG4gICAgY2xlYXIoKVxuICAgIHtcbiAgICAgICAgdGhpcy5mcmFtZWJ1ZmZlci5iaW5kKCk7XG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIuY2xlYXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGV2ZXJ5dGhpbmcgZnJvbSB0aGUgcmVuZGVyZXIgKGV2ZW50IGxpc3RlbmVycywgc3ByaXRlYmF0Y2gsIGV0Yy4uLilcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbW92ZVZpZXc9ZmFsc2VdIC0gUmVtb3ZlcyB0aGUgQ2FudmFzIGVsZW1lbnQgZnJvbSB0aGUgRE9NLlxuICAgICAqICBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9pc3N1ZXMvMjIzM1xuICAgICAqL1xuICAgIGRlc3Ryb3kocmVtb3ZlVmlldylcbiAgICB7XG4gICAgICAgIHRoaXMucnVubmVycy5kZXN0cm95LnJ1bigpO1xuXG4gICAgICAgIC8vIGNhbGwgYmFzZSBkZXN0cm95XG4gICAgICAgIHN1cGVyLmRlc3Ryb3kocmVtb3ZlVmlldyk7XG5cbiAgICAgICAgLy8gVE9ETyBudWxsaWZ5IGFsbCB0aGUgbWFuYWdlcnMuLlxuICAgICAgICB0aGlzLmdsID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGluc3RhbGxlZCBwbHVnaW5zLiBUaGVzZSBhcmUgaW5jbHVkZWQgYnkgZGVmYXVsdCBpbiBQSVhJLCBidXQgY2FuIGJlIGV4Y2x1ZGVkXG4gICAgICogYnkgY3JlYXRpbmcgYSBjdXN0b20gYnVpbGQuIENvbnN1bHQgdGhlIFJFQURNRSBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBjcmVhdGluZyBjdXN0b21cbiAgICAgKiBidWlsZHMgYW5kIGV4Y2x1ZGluZyBwbHVnaW5zLlxuICAgICAqIEBuYW1lIFBJWEkuUmVuZGVyZXIjcGx1Z2luc1xuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHByb3BlcnR5IHtQSVhJLmFjY2Vzc2liaWxpdHkuQWNjZXNzaWJpbGl0eU1hbmFnZXJ9IGFjY2Vzc2liaWxpdHkgU3VwcG9ydCB0YWJiaW5nIGludGVyYWN0aXZlIGVsZW1lbnRzLlxuICAgICAqIEBwcm9wZXJ0eSB7UElYSS5leHRyYWN0LkV4dHJhY3R9IGV4dHJhY3QgRXh0cmFjdCBpbWFnZSBkYXRhIGZyb20gcmVuZGVyZXIuXG4gICAgICogQHByb3BlcnR5IHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlcn0gaW50ZXJhY3Rpb24gSGFuZGxlcyBtb3VzZSwgdG91Y2ggYW5kIHBvaW50ZXIgZXZlbnRzLlxuICAgICAqIEBwcm9wZXJ0eSB7UElYSS5wcmVwYXJlLlByZXBhcmV9IHByZXBhcmUgUHJlLXJlbmRlciBkaXNwbGF5IG9iamVjdHMuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcGx1Z2luIHRvIHRoZSByZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGx1Z2luTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBwbHVnaW4uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3RvciAtIFRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBvciBjbGFzcyBmb3IgdGhlIHBsdWdpbi5cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVnaXN0ZXJQbHVnaW4ocGx1Z2luTmFtZSwgY3RvcilcbiAgICB7XG4gICAgICAgIFJlbmRlcmVyLl9fcGx1Z2lucyA9IFJlbmRlcmVyLl9fcGx1Z2lucyB8fCB7fTtcbiAgICAgICAgUmVuZGVyZXIuX19wbHVnaW5zW3BsdWdpbk5hbWVdID0gY3RvcjtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBkZWZhdWx0IGFzIFJlbmRlcmVyIH0gZnJvbSAnLi9SZW5kZXJlcic7XG5cbi8qKlxuICogVGhpcyBoZWxwZXIgZnVuY3Rpb24gd2lsbCBhdXRvbWF0aWNhbGx5IGRldGVjdCB3aGljaCByZW5kZXJlciB5b3Ugc2hvdWxkIGJlIHVzaW5nLlxuICogV2ViR0wgaXMgdGhlIHByZWZlcnJlZCByZW5kZXJlciBhcyBpdCBpcyBhIGxvdCBmYXN0ZXIuIElmIFdlYkdMIGlzIG5vdCBzdXBwb3J0ZWQgYnlcbiAqIHRoZSBicm93c2VyIHRoZW4gdGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiBhIGNhbnZhcyByZW5kZXJlclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZnVuY3Rpb24gYXV0b0RldGVjdFJlbmRlcmVyXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbmFsIHJlbmRlcmVyIHBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aD04MDBdIC0gdGhlIHdpZHRoIG9mIHRoZSByZW5kZXJlcnMgdmlld1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodD02MDBdIC0gdGhlIGhlaWdodCBvZiB0aGUgcmVuZGVyZXJzIHZpZXdcbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gdGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbFxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFuc3BhcmVudD1mYWxzZV0gLSBJZiB0aGUgcmVuZGVyIHZpZXcgaXMgdHJhbnNwYXJlbnQsIGRlZmF1bHQgZmFsc2VcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0RlbnNpdHk9ZmFsc2VdIC0gUmVzaXplcyByZW5kZXJlciB2aWV3IGluIENTUyBwaXhlbHMgdG8gYWxsb3cgZm9yXG4gKiAgIHJlc29sdXRpb25zIG90aGVyIHRoYW4gMVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hbnRpYWxpYXM9ZmFsc2VdIC0gc2V0cyBhbnRpYWxpYXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyPWZhbHNlXSAtIGVuYWJsZXMgZHJhd2luZyBidWZmZXIgcHJlc2VydmF0aW9uLCBlbmFibGUgdGhpcyBpZiB5b3VcbiAqICBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSB3ZWJnbCBjb250ZXh0XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gKiAgKHNob3duIGlmIG5vdCB0cmFuc3BhcmVudCkuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyPXRydWVdIC0gVGhpcyBzZXRzIGlmIHRoZSByZW5kZXJlciB3aWxsIGNsZWFyIHRoZSBjYW52YXMgb3JcbiAqICAgbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnJlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIsIHJldGluYSB3b3VsZCBiZSAyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlQ2FudmFzPWZhbHNlXSAtIHByZXZlbnRzIHNlbGVjdGlvbiBvZiBXZWJHTCByZW5kZXJlciwgZXZlbiBpZiBzdWNoIGlzIHByZXNlbnQsIHRoaXNcbiAqICAgb3B0aW9uIG9ubHkgaXMgYXZhaWxhYmxlIHdoZW4gdXNpbmcgKipwaXhpLmpzLWxlZ2FjeSoqIG9yICoqQHBpeGkvY2FudmFzLXJlbmRlcmVyKiogbW9kdWxlcywgb3RoZXJ3aXNlXG4gKiAgIGl0IGlzIGlnbm9yZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlRlhBQT1mYWxzZV0gLSBmb3JjZXMgRlhBQSBhbnRpYWxpYXNpbmcgdG8gYmUgdXNlZCBvdmVyIG5hdGl2ZS5cbiAqICBGWEFBIGlzIGZhc3RlciwgYnV0IG1heSBub3QgYWx3YXlzIGxvb2sgYXMgZ3JlYXQgKip3ZWJnbCBvbmx5KipcbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wb3dlclByZWZlcmVuY2VdIC0gUGFyYW1ldGVyIHBhc3NlZCB0byB3ZWJnbCBjb250ZXh0LCBzZXQgdG8gXCJoaWdoLXBlcmZvcm1hbmNlXCJcbiAqICBmb3IgZGV2aWNlcyB3aXRoIGR1YWwgZ3JhcGhpY3MgY2FyZCAqKndlYmdsIG9ubHkqKlxuICogQHJldHVybiB7UElYSS5SZW5kZXJlcnxQSVhJLkNhbnZhc1JlbmRlcmVyfSBSZXR1cm5zIFdlYkdMIHJlbmRlcmVyIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIENhbnZhc1JlbmRlcmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhdXRvRGV0ZWN0UmVuZGVyZXIob3B0aW9ucylcbntcbiAgICByZXR1cm4gUmVuZGVyZXIuY3JlYXRlKG9wdGlvbnMpO1xufVxuIiwiaW1wb3J0IEJhc2VUZXh0dXJlIGZyb20gJy4vQmFzZVRleHR1cmUnO1xuaW1wb3J0IEN1YmVSZXNvdXJjZSBmcm9tICcuL3Jlc291cmNlcy9DdWJlUmVzb3VyY2UnO1xuXG4vKipcbiAqIEEgVGV4dHVyZSB0aGF0IGRlcGVuZHMgb24gc2l4IG90aGVyIHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQmFzZVRleHR1cmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN1YmVUZXh0dXJlIGV4dGVuZHMgQmFzZVRleHR1cmVcbntcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBhIG5ldyBDdWJlVGV4dHVyZS5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXXxQSVhJLnJlc291cmNlcy5SZXNvdXJjZVtdfSByZXNvdXJjZXMgLSBDb2xsZWN0aW9uIG9mIDYgVVJMcyBvciByZXNvdXJjZXNcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9uYWwgb3B0aW9ucyBwYXNzZWQgdG8gdGhlIHJlc291cmNlcyBiZWluZyBsb2FkZWQuXG4gICAgICogICAgICAgIFNlZSB7QFBJWEkucmVzb3VyY2VzLmF1dG9EZXRlY3RSZXNvdXJjZSBhdXRvRGV0ZWN0UmVzb3VyY2V9IGZvciBtb3JlIGluZm9cbiAgICAgKiAgICAgICAgb24gdGhlIG9wdGlvbnMgYXZhaWxhYmxlIHRvIGVhY2ggcmVzb3VyY2UuXG4gICAgICogQHJldHVybnMge1BJWEkuQ3ViZVRleHR1cmV9IG5ldyBjdWJlIHRleHR1cmVcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbShyZXNvdXJjZXMsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IEN1YmVUZXh0dXJlKG5ldyBDdWJlUmVzb3VyY2UocmVzb3VyY2VzLCBvcHRpb25zKSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVFlQRVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IEdlb21ldHJ5IGZyb20gJy4uL2dlb21ldHJ5L0dlb21ldHJ5JztcbmltcG9ydCBCdWZmZXIgZnJvbSAnLi4vZ2VvbWV0cnkvQnVmZmVyJztcblxuLyoqXG4gKiBHZW9tZXRyeSB1c2VkIHRvIGJhdGNoIHN0YW5kYXJkIFBJWEkgY29udGVudCAoZS5nLiBNZXNoLCBTcHJpdGUsIEdyYXBoaWNzIG9iamVjdHMpLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmF0Y2hHZW9tZXRyeSBleHRlbmRzIEdlb21ldHJ5XG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbX3N0YXRpYz1mYWxzZV0gT3B0aW1pemF0aW9uIGZsYWcsIHdoZXJlIGBmYWxzZWBcbiAgICAgKiAgICAgICAgaXMgdXBkYXRlZCBldmVyeSBmcmFtZSwgYHRydWVgIGRvZXNuJ3QgY2hhbmdlIGZyYW1lLXRvLWZyYW1lLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKF9zdGF0aWMgPSBmYWxzZSlcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1ZmZlciB1c2VkIGZvciBwb3NpdGlvbiwgY29sb3IsIHRleHR1cmUgSURzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQnVmZmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9idWZmZXIgPSBuZXcgQnVmZmVyKG51bGwsIF9zdGF0aWMsIGZhbHNlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kZXggYnVmZmVyIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CdWZmZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2luZGV4QnVmZmVyID0gbmV3IEJ1ZmZlcihudWxsLCBfc3RhdGljLCB0cnVlKTtcblxuICAgICAgICB0aGlzLmFkZEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJywgdGhpcy5fYnVmZmVyLCAyLCBmYWxzZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUNvb3JkJywgdGhpcy5fYnVmZmVyLCAyLCBmYWxzZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhQ29sb3InLCB0aGlzLl9idWZmZXIsIDQsIHRydWUsIFRZUEVTLlVOU0lHTkVEX0JZVEUpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUlkJywgdGhpcy5fYnVmZmVyLCAxLCB0cnVlLCBUWVBFUy5GTE9BVClcbiAgICAgICAgICAgIC5hZGRJbmRleCh0aGlzLl9pbmRleEJ1ZmZlcik7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBVc2VkIGJ5IHRoZSBiYXRjaGVyIHRvIGRyYXcgYmF0Y2hlcy5cbiAqIEVhY2ggb25lIG9mIHRoZXNlIGNvbnRhaW5zIGFsbCBpbmZvcm1hdGlvbiByZXF1aXJlZCB0byBkcmF3IGEgYm91bmQgZ2VvbWV0cnkuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXRjaERyYXdDYWxsXG57XG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlcyA9IFtdO1xuICAgICAgICB0aGlzLmlkcyA9IFtdO1xuICAgICAgICB0aGlzLmJsZW5kID0gMDtcbiAgICAgICAgdGhpcy50ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICB0aGlzLnN0YXJ0ID0gMDtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgICAgdGhpcy50eXBlID0gNDtcbiAgICB9XG59XG4iLCIvKipcbiAqIFVzZWQgYnkgdGhlIEJhdGNoUmVuZGVyZXJcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhdGNoQnVmZmVyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZSBvZiB0aGUgYnVmZmVyIGluIGJ5dGVzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNpemUpXG4gICAge1xuICAgICAgICB0aGlzLnZlcnRpY2VzID0gbmV3IEFycmF5QnVmZmVyKHNpemUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWaWV3IG9uIHRoZSB2ZXJ0aWNlcyBhcyBhIEZsb2F0MzJBcnJheSBmb3IgcG9zaXRpb25zXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmxvYXQzMlZpZXcgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudmVydGljZXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWaWV3IG9uIHRoZSB2ZXJ0aWNlcyBhcyBhIFVpbnQzMkFycmF5IGZvciB1dnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51aW50MzJWaWV3ID0gbmV3IFVpbnQzMkFycmF5KHRoaXMudmVydGljZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBidWZmZXIuXG4gICAgICpcbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHRoaXMudmVydGljZXMgPSBudWxsO1xuICAgICAgICB0aGlzLmZsb2F0MzJWaWV3ID0gbnVsbDtcbiAgICAgICAgdGhpcy51aW50MzJWaWV3ID0gbnVsbDtcbiAgICB9XG59XG4iLCJpbXBvcnQgU2hhZGVyIGZyb20gJy4uL3NoYWRlci9TaGFkZXInO1xuaW1wb3J0IFByb2dyYW0gZnJvbSAnLi4vc2hhZGVyL1Byb2dyYW0nO1xuaW1wb3J0IFVuaWZvcm1Hcm91cCBmcm9tICcuLi9zaGFkZXIvVW5pZm9ybUdyb3VwJztcblxuaW1wb3J0IHZlcnRleCBmcm9tICcuL3RleHR1cmUudmVydCc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcblxuY29uc3QgZnJhZ1RlbXBsYXRlID0gW1xuICAgICd2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDsnLFxuICAgICd2YXJ5aW5nIHZlYzQgdkNvbG9yOycsXG4gICAgJ3ZhcnlpbmcgZmxvYXQgdlRleHR1cmVJZDsnLFxuICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcnNbJWNvdW50JV07JyxcblxuICAgICd2b2lkIG1haW4odm9pZCl7JyxcbiAgICAndmVjNCBjb2xvcjsnLFxuICAgICclZm9ybG9vcCUnLFxuICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvciAqIHZDb2xvcjsnLFxuICAgICd9Jyxcbl0uam9pbignXFxuJyk7XG5cbmNvbnN0IGRlZmF1bHRHcm91cENhY2hlID0ge307XG5jb25zdCBwcm9ncmFtQ2FjaGUgPSB7fTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXIoZ2wsIG1heFRleHR1cmVzKVxue1xuICAgIGlmICghcHJvZ3JhbUNhY2hlW21heFRleHR1cmVzXSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHNhbXBsZVZhbHVlcyA9IG5ldyBJbnQzMkFycmF5KG1heFRleHR1cmVzKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heFRleHR1cmVzOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGk7XG4gICAgICAgIH1cblxuICAgICAgICBkZWZhdWx0R3JvdXBDYWNoZVttYXhUZXh0dXJlc10gPSBVbmlmb3JtR3JvdXAuZnJvbSh7IHVTYW1wbGVyczogc2FtcGxlVmFsdWVzIH0sIHRydWUpO1xuXG4gICAgICAgIGxldCBmcmFnbWVudFNyYyA9IGZyYWdUZW1wbGF0ZTtcblxuICAgICAgICBmcmFnbWVudFNyYyA9IGZyYWdtZW50U3JjLnJlcGxhY2UoLyVjb3VudCUvZ2ksIG1heFRleHR1cmVzKTtcbiAgICAgICAgZnJhZ21lbnRTcmMgPSBmcmFnbWVudFNyYy5yZXBsYWNlKC8lZm9ybG9vcCUvZ2ksIGdlbmVyYXRlU2FtcGxlU3JjKG1heFRleHR1cmVzKSk7XG5cbiAgICAgICAgcHJvZ3JhbUNhY2hlW21heFRleHR1cmVzXSA9IG5ldyBQcm9ncmFtKHZlcnRleCwgZnJhZ21lbnRTcmMpO1xuICAgIH1cblxuICAgIGNvbnN0IHVuaWZvcm1zID0ge1xuICAgICAgICB0aW50OiBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAxLCAxXSksXG4gICAgICAgIHRyYW5zbGF0aW9uTWF0cml4OiBuZXcgTWF0cml4KCksXG4gICAgICAgIGRlZmF1bHQ6IGRlZmF1bHRHcm91cENhY2hlW21heFRleHR1cmVzXSxcbiAgICB9O1xuXG4gICAgY29uc3Qgc2hhZGVyID0gbmV3IFNoYWRlcihwcm9ncmFtQ2FjaGVbbWF4VGV4dHVyZXNdLCB1bmlmb3Jtcyk7XG5cbiAgICByZXR1cm4gc2hhZGVyO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVNhbXBsZVNyYyhtYXhUZXh0dXJlcylcbntcbiAgICBsZXQgc3JjID0gJyc7XG5cbiAgICBzcmMgKz0gJ1xcbic7XG4gICAgc3JjICs9ICdcXG4nO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKVxuICAgIHtcbiAgICAgICAgaWYgKGkgPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBzcmMgKz0gJ1xcbmVsc2UgJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpIDwgbWF4VGV4dHVyZXMgLSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBzcmMgKz0gYGlmKHZUZXh0dXJlSWQgPCAke2l9LjUpYDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNyYyArPSAnXFxueyc7XG4gICAgICAgIHNyYyArPSBgXFxuXFx0Y29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXJzWyR7aX1dLCB2VGV4dHVyZUNvb3JkKTtgO1xuICAgICAgICBzcmMgKz0gJ1xcbn0nO1xuICAgIH1cblxuICAgIHNyYyArPSAnXFxuJztcbiAgICBzcmMgKz0gJ1xcbic7XG5cbiAgICByZXR1cm4gc3JjO1xufVxuIiwiaW1wb3J0IEJhdGNoR2VvbWV0cnkgZnJvbSAnLi9CYXRjaEdlb21ldHJ5JztcbmltcG9ydCBCYXRjaERyYXdDYWxsIGZyb20gJy4vQmF0Y2hEcmF3Q2FsbCc7XG5pbXBvcnQgQmFzZVRleHR1cmUgZnJvbSAnLi4vdGV4dHVyZXMvQmFzZVRleHR1cmUnO1xuXG5pbXBvcnQgU3RhdGUgZnJvbSAnLi4vc3RhdGUvU3RhdGUnO1xuaW1wb3J0IE9iamVjdFJlbmRlcmVyIGZyb20gJy4vT2JqZWN0UmVuZGVyZXInO1xuaW1wb3J0IGNoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXIgZnJvbSAnLi4vc2hhZGVyL3V0aWxzL2NoZWNrTWF4SWZTdGF0ZW1lbnRzSW5TaGFkZXInO1xuXG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IHByZW11bHRpcGx5QmxlbmRNb2RlLCBwcmVtdWx0aXBseVRpbnQsIG5leHRQb3cyLCBsb2cyIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG5pbXBvcnQgQmF0Y2hCdWZmZXIgZnJvbSAnLi9CYXRjaEJ1ZmZlcic7XG5pbXBvcnQgZ2VuZXJhdGVNdWx0aVRleHR1cmVTaGFkZXIgZnJvbSAnLi9nZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlcic7XG5pbXBvcnQgeyBFTlYgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG4vKipcbiAqIFJlbmRlcmVyIGRlZGljYXRlZCB0byBkcmF3aW5nIGFuZCBiYXRjaGluZyBzcHJpdGVzLlxuICpcbiAqIEBjbGFzc1xuICogQHByb3RlY3RlZFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuT2JqZWN0UmVuZGVyZXJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmF0Y2hSZW5kZXJlciBleHRlbmRzIE9iamVjdFJlbmRlcmVyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciB0aGlzIHNwcml0ZSBiYXRjaCB3b3JrcyBmb3IuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBzdXBlcihyZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiB2YWx1ZXMgc2VudCBpbiB0aGUgdmVydGV4IGJ1ZmZlci5cbiAgICAgICAgICogYVZlcnRleFBvc2l0aW9uKDIpLCBhVGV4dHVyZUNvb3JkKDEpLCBhQ29sb3IoMSksIGFUZXh0dXJlSWQoMSkgPSA1XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVydFNpemUgPSA2O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2l6ZSBvZiB0aGUgdmVydGV4IGluZm9ybWF0aW9uIGluIGJ5dGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRCeXRlU2l6ZSA9IHRoaXMudmVydFNpemUgKiA0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGltYWdlcyBpbiB0aGUgU3ByaXRlUmVuZGVyZXIgYmVmb3JlIGl0IGZsdXNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2l6ZSA9IDIwMDAgKiA0Oy8vIHNldHRpbmdzLlNQUklURV9CQVRDSF9TSVpFOyAvLyAyMDAwIGlzIGEgbmljZSBiYWxhbmNlIGJldHdlZW4gbW9iaWxlIC8gZGVza3RvcFxuXG4gICAgICAgIHRoaXMuY3VycmVudFNpemUgPSAwO1xuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleFNpemUgPSAwO1xuXG4gICAgICAgIC8vIHRoZSB0b3RhbCBudW1iZXIgb2YgYnl0ZXMgaW4gb3VyIGJhdGNoXG4gICAgICAgIC8vIGxldCBudW1WZXJ0cyA9IHRoaXMuc2l6ZSAqIDQgKiB0aGlzLnZlcnRCeXRlU2l6ZTtcblxuICAgICAgICB0aGlzLmF0dHJpYnV0ZUJ1ZmZlcnMgPSB7fTtcbiAgICAgICAgdGhpcy5hQnVmZmVycyA9IHt9O1xuICAgICAgICB0aGlzLmlCdWZmZXJzID0ge307XG5cbiAgICAgICAgLy8gICAgIHRoaXMuZGVmdWFsdFNwcml0ZUluZGV4QnVmZmVyID0gbmV3IEJ1ZmZlcihjcmVhdGVJbmRpY2VzRm9yUXVhZHModGhpcy5zaXplKSwgdHJ1ZSwgdHJ1ZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhvbGRzIHRoZSBkZWZ1YWx0IGluZGljZXMgb2YgdGhlIGdlb21ldHJ5IChxdWFkcykgdG8gZHJhd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50MTZBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIC8vIGNvbnN0IGluZGljaWVzID0gY3JlYXRlSW5kaWNlc0ZvclF1YWRzKHRoaXMuc2l6ZSk7XG5cbiAgICAgICAgLy8gIHRoaXMuZGVmYXVsdFF1YWRJbmRleEJ1ZmZlciA9IG5ldyBCdWZmZXIoaW5kaWNpZXMsIHRydWUsIHRydWUpO1xuXG4gICAgICAgIHRoaXMub25seVNwcml0ZXMgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgc2hhZGVycyB0aGF0IGlzIHVzZWQgaWYgYSBzcHJpdGUgZG9lc24ndCBoYXZlIGEgbW9yZSBzcGVjaWZpYyBvbmUuXG4gICAgICAgICAqIHRoZXJlIGlzIGEgc2hhZGVyIGZvciBlYWNoIG51bWJlciBvZiB0ZXh0dXJlcyB0aGF0IGNhbiBiZSByZW5kZXJlZC5cbiAgICAgICAgICogVGhlc2Ugc2hhZGVycyB3aWxsIGFsc28gYmUgZ2VuZXJhdGVkIG9uIHRoZSBmbHkgYXMgcmVxdWlyZWQuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU2hhZGVyW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSAwO1xuICAgICAgICB0aGlzLmdyb3VwcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgdGhpcy5zaXplIC8gNDsgaysrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdyb3Vwc1trXSA9IG5ldyBCYXRjaERyYXdDYWxsKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVsZW1lbnRzID0gW107XG5cbiAgICAgICAgdGhpcy52YW9zID0gW107XG5cbiAgICAgICAgdGhpcy52YW9NYXggPSAyO1xuICAgICAgICB0aGlzLnZlcnRleENvdW50ID0gMDtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLm9uKCdwcmVyZW5kZXInLCB0aGlzLm9uUHJlcmVuZGVyLCB0aGlzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgcmVuZGVyZXIgY29udGV4dCBhbmQgbmVjZXNzYXJ5IGJ1ZmZlcnMuXG4gICAgICovXG4gICAgY29udGV4dENoYW5nZSgpXG4gICAge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgaWYgKHNldHRpbmdzLlBSRUZFUl9FTlYgPT09IEVOVi5XRUJHTF9MRUdBQ1kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuTUFYX1RFWFRVUkVTID0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHN0ZXAgMTogZmlyc3QgY2hlY2sgbWF4IHRleHR1cmVzIHRoZSBHUFUgY2FuIGhhbmRsZS5cbiAgICAgICAgICAgIHRoaXMuTUFYX1RFWFRVUkVTID0gTWF0aC5taW4oZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKSwgc2V0dGluZ3MuU1BSSVRFX01BWF9URVhUVVJFUyk7XG5cbiAgICAgICAgICAgIC8vIHN0ZXAgMjogY2hlY2sgdGhlIG1heGltdW0gbnVtYmVyIG9mIGlmIHN0YXRlbWVudHMgdGhlIHNoYWRlciBjYW4gaGF2ZSB0b28uLlxuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyKHRoaXMuTUFYX1RFWFRVUkVTLCBnbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZW5lcmF0ZSBnZW5lcmF0ZU11bHRpVGV4dHVyZVByb2dyYW0sIG1heSBiZSBhIGJldHRlciBtb3ZlP1xuICAgICAgICB0aGlzLnNoYWRlciA9IGdlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyKGdsLCB0aGlzLk1BWF9URVhUVVJFUyk7XG5cbiAgICAgICAgLy8gd2UgdXNlIHRoZSBzZWNvbmQgc2hhZGVyIGFzIHRoZSBmaXJzdCBvbmUgZGVwZW5kaW5nIG9uIHlvdXIgYnJvd3NlciBtYXkgb21pdCBhVGV4dHVyZUlkXG4gICAgICAgIC8vIGFzIGl0IGlzIG5vdCB1c2VkIGJ5IHRoZSBzaGFkZXIgc28gaXMgb3B0aW1pemVkIG91dC5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnZhb01heDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgICAgICB0aGlzLnZhb3NbaV0gPSBuZXcgQmF0Y2hHZW9tZXRyeSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGJlZm9yZSB0aGUgcmVuZGVyZXIgc3RhcnRzIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqL1xuICAgIG9uUHJlcmVuZGVyKClcbiAgICB7XG4gICAgICAgIHRoaXMudmVydGV4Q291bnQgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIHNwcml0ZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSB0aGUgc3ByaXRlIHRvIHJlbmRlciB3aGVuIHVzaW5nIHRoaXMgc3ByaXRlYmF0Y2hcbiAgICAgKi9cbiAgICByZW5kZXIoZWxlbWVudClcbiAgICB7XG4gICAgICAgIGlmICghZWxlbWVudC5fdGV4dHVyZS52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFNpemUgKyAoZWxlbWVudC52ZXJ0ZXhEYXRhLmxlbmd0aCAvIDIpID4gdGhpcy5zaXplKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVsZW1lbnRzW3RoaXMuY3VycmVudEluZGV4KytdID0gZWxlbWVudDtcblxuICAgICAgICB0aGlzLmN1cnJlbnRTaXplICs9IGVsZW1lbnQudmVydGV4RGF0YS5sZW5ndGggLyAyO1xuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleFNpemUgKz0gZWxlbWVudC5pbmRpY2VzLmxlbmd0aDtcbiAgICB9XG5cbiAgICBnZXRJbmRleEJ1ZmZlcihzaXplKVxuICAgIHtcbiAgICAgICAgLy8gMTIgaW5kaWNlcyBpcyBlbm91Z2ggZm9yIDIgcXVhZHNcbiAgICAgICAgY29uc3Qgcm91bmRlZFAyID0gbmV4dFBvdzIoTWF0aC5jZWlsKHNpemUgLyAxMikpO1xuICAgICAgICBjb25zdCByb3VuZGVkU2l6ZUluZGV4ID0gbG9nMihyb3VuZGVkUDIpO1xuICAgICAgICBjb25zdCByb3VuZGVkU2l6ZSA9IHJvdW5kZWRQMiAqIDEyO1xuXG4gICAgICAgIGlmICh0aGlzLmlCdWZmZXJzLmxlbmd0aCA8PSByb3VuZGVkU2l6ZUluZGV4KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmlCdWZmZXJzLmxlbmd0aCA9IHJvdW5kZWRTaXplSW5kZXggKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGJ1ZmZlciA9IHRoaXMuaUJ1ZmZlcnNbcm91bmRlZFNpemVJbmRleF07XG5cbiAgICAgICAgaWYgKCFidWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaUJ1ZmZlcnNbcm91bmRlZFNpemVJbmRleF0gPSBidWZmZXIgPSBuZXcgVWludDE2QXJyYXkocm91bmRlZFNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9XG5cbiAgICBnZXRBdHRyaWJ1dGVCdWZmZXIoc2l6ZSlcbiAgICB7XG4gICAgICAgIC8vIDggdmVydGljZXMgaXMgZW5vdWdoIGZvciAyIHF1YWRzXG4gICAgICAgIGNvbnN0IHJvdW5kZWRQMiA9IG5leHRQb3cyKE1hdGguY2VpbChzaXplIC8gOCkpO1xuICAgICAgICBjb25zdCByb3VuZGVkU2l6ZUluZGV4ID0gbG9nMihyb3VuZGVkUDIpO1xuICAgICAgICBjb25zdCByb3VuZGVkU2l6ZSA9IHJvdW5kZWRQMiAqIDg7XG5cbiAgICAgICAgaWYgKHRoaXMuYUJ1ZmZlcnMubGVuZ3RoIDw9IHJvdW5kZWRTaXplSW5kZXgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaUJ1ZmZlcnMubGVuZ3RoID0gcm91bmRlZFNpemVJbmRleCArIDE7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYnVmZmVyID0gdGhpcy5hQnVmZmVyc1tyb3VuZGVkU2l6ZV07XG5cbiAgICAgICAgaWYgKCFidWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYUJ1ZmZlcnNbcm91bmRlZFNpemVdID0gYnVmZmVyID0gbmV3IEJhdGNoQnVmZmVyKHJvdW5kZWRTaXplICogdGhpcy52ZXJ0Qnl0ZVNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBjb250ZW50IGFuZCBlbXB0aWVzIHRoZSBjdXJyZW50IGJhdGNoLlxuICAgICAqXG4gICAgICovXG4gICAgZmx1c2goKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFNpemUgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgY29uc3QgTUFYX1RFWFRVUkVTID0gdGhpcy5NQVhfVEVYVFVSRVM7XG5cbiAgICAgICAgY29uc3QgYnVmZmVyID0gdGhpcy5nZXRBdHRyaWJ1dGVCdWZmZXIodGhpcy5jdXJyZW50U2l6ZSk7XG4gICAgICAgIGNvbnN0IGluZGV4QnVmZmVyID0gdGhpcy5nZXRJbmRleEJ1ZmZlcih0aGlzLmN1cnJlbnRJbmRleFNpemUpO1xuXG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gdGhpcy5lbGVtZW50cztcbiAgICAgICAgY29uc3QgZ3JvdXBzID0gdGhpcy5ncm91cHM7XG5cbiAgICAgICAgY29uc3QgZmxvYXQzMlZpZXcgPSBidWZmZXIuZmxvYXQzMlZpZXc7XG4gICAgICAgIGNvbnN0IHVpbnQzMlZpZXcgPSBidWZmZXIudWludDMyVmlldztcblxuICAgICAgICBjb25zdCB0b3VjaCA9IHRoaXMucmVuZGVyZXIudGV4dHVyZUdDLmNvdW50O1xuXG4gICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgIGxldCBpbmRleENvdW50ID0gMDtcbiAgICAgICAgbGV0IG5leHRUZXh0dXJlO1xuICAgICAgICBsZXQgY3VycmVudFRleHR1cmU7XG4gICAgICAgIGxldCBncm91cENvdW50ID0gMDtcblxuICAgICAgICBsZXQgdGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgbGV0IGN1cnJlbnRHcm91cCA9IGdyb3Vwc1swXTtcblxuICAgICAgICBsZXQgYmxlbmRNb2RlID0gLTE7Ly8gcHJlbXVsdGlwbHlCbGVuZE1vZGVbZWxlbWVudHNbMF0uX3RleHR1cmUuYmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSA/IDAgOiBdW2VsZW1lbnRzWzBdLmJsZW5kTW9kZV07XG5cbiAgICAgICAgY3VycmVudEdyb3VwLnRleHR1cmVDb3VudCA9IDA7XG4gICAgICAgIGN1cnJlbnRHcm91cC5zdGFydCA9IDA7XG4gICAgICAgIGN1cnJlbnRHcm91cC5ibGVuZCA9IGJsZW5kTW9kZTtcblxuICAgICAgICBsZXQgVElDSyA9ICsrQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoO1xuXG4gICAgICAgIGxldCBpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmN1cnJlbnRJbmRleDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB1cGxvYWQgdGhlIHNwcml0ZSBlbGVtZW50cy4uLlxuICAgICAgICAgICAgLy8gdGhleSBoYXZlIGFsbCByZWFkeSBiZWVuIGNhbGN1bGF0ZWQgc28gd2UganVzdCBuZWVkIHRvIHB1c2ggdGhlbSBpbnRvIHRoZSBidWZmZXIuXG5cbiAgICAgICAgICAgIGNvbnN0IHNwcml0ZSA9IGVsZW1lbnRzW2ldO1xuXG4gICAgICAgICAgICBlbGVtZW50c1tpXSA9IG51bGw7XG5cbiAgICAgICAgICAgIG5leHRUZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICBjb25zdCBzcHJpdGVCbGVuZE1vZGUgPSBwcmVtdWx0aXBseUJsZW5kTW9kZVtuZXh0VGV4dHVyZS5wcmVtdWx0aXBseUFscGhhID8gMSA6IDBdW3Nwcml0ZS5ibGVuZE1vZGVdO1xuXG4gICAgICAgICAgICBpZiAoYmxlbmRNb2RlICE9PSBzcHJpdGVCbGVuZE1vZGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYmxlbmRNb2RlID0gc3ByaXRlQmxlbmRNb2RlO1xuXG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgdGhlIGJhdGNoIHRvIGJyZWFrIVxuICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlQ291bnQgPSBNQVhfVEVYVFVSRVM7XG4gICAgICAgICAgICAgICAgVElDSysrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY3VycmVudFRleHR1cmUgIT09IG5leHRUZXh0dXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlID0gbmV4dFRleHR1cmU7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV4dFRleHR1cmUuX2JhdGNoRW5hYmxlZCAhPT0gVElDSylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0dXJlQ291bnQgPT09IE1BWF9URVhUVVJFUylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgVElDSysrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlQ291bnQgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSA9IGluZGV4Q291bnQgLSBjdXJyZW50R3JvdXAuc3RhcnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cCA9IGdyb3Vwc1tncm91cENvdW50KytdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnRleHR1cmVDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAuYmxlbmQgPSBibGVuZE1vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAuc3RhcnQgPSBpbmRleENvdW50O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUudG91Y2hlZCA9IHRvdWNoO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS5fYmF0Y2hFbmFibGVkID0gVElDSztcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUuX2lkID0gdGV4dHVyZUNvdW50O1xuXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlc1tjdXJyZW50R3JvdXAudGV4dHVyZUNvdW50KytdID0gbmV4dFRleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVDb3VudCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5wYWNrR2VvbWV0cnkoc3ByaXRlLCBmbG9hdDMyVmlldywgdWludDMyVmlldywgaW5kZXhCdWZmZXIsIGluZGV4LCBpbmRleENvdW50KTsvLyBhcmdiLCBuZXh0VGV4dHVyZS5faWQsIGZsb2F0MzJWaWV3LCB1aW50MzJWaWV3LCBpbmRleEJ1ZmZlciwgaW5kZXgsIGluZGV4Q291bnQpO1xuXG4gICAgICAgICAgICAvLyBwdXNoIGEgZ3JhcGhpY3MuLlxuICAgICAgICAgICAgaW5kZXggKz0gKHNwcml0ZS52ZXJ0ZXhEYXRhLmxlbmd0aCAvIDIpICogdGhpcy52ZXJ0U2l6ZTtcbiAgICAgICAgICAgIGluZGV4Q291bnQgKz0gc3ByaXRlLmluZGljZXMubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgQmFzZVRleHR1cmUuX2dsb2JhbEJhdGNoID0gVElDSztcblxuICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSA9IGluZGV4Q291bnQgLSBjdXJyZW50R3JvdXAuc3RhcnQ7XG5cbiAgICAgICAgLy8gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIudXBkYXRlKCk7XG5cbiAgICAgICAgaWYgKCFzZXR0aW5ncy5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIHN0aWxsIG5lZWRlZCBmb3IgSU9TIHBlcmZvcm1hbmNlLi5cbiAgICAgICAgICAgIC8vIGl0IHJlYWxseSBkb2VzIG5vdCBsaWtlIHVwbG9hZGluZyB0byB0aGUgc2FtZSBidWZmZXIgaW4gYSBzaW5nbGUgZnJhbWUhXG4gICAgICAgICAgICBpZiAodGhpcy52YW9NYXggPD0gdGhpcy52ZXJ0ZXhDb3VudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhb01heCsrO1xuICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgICAgICB0aGlzLnZhb3NbdGhpcy52ZXJ0ZXhDb3VudF0gPSBuZXcgQmF0Y2hHZW9tZXRyeSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnZhb3NbdGhpcy52ZXJ0ZXhDb3VudF0uX2J1ZmZlci51cGRhdGUoYnVmZmVyLnZlcnRpY2VzLCAwKTtcbiAgICAgICAgICAgIHRoaXMudmFvc1t0aGlzLnZlcnRleENvdW50XS5faW5kZXhCdWZmZXIudXBkYXRlKGluZGV4QnVmZmVyLCAwKTtcblxuICAgICAgICAgICAgLy8gICB0aGlzLnZlcnRleEJ1ZmZlcnNbdGhpcy52ZXJ0ZXhDb3VudF0udXBkYXRlKGJ1ZmZlci52ZXJ0aWNlcywgMCk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy52YW9zW3RoaXMudmVydGV4Q291bnRdKTtcblxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS51cGRhdGVCdWZmZXJzKCk7XG5cbiAgICAgICAgICAgIHRoaXMudmVydGV4Q291bnQrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGxldHMgdXNlIHRoZSBmYXN0ZXIgb3B0aW9uLCBhbHdheXMgdXNlIGJ1ZmZlciBudW1iZXIgMFxuICAgICAgICAgICAgdGhpcy52YW9zW3RoaXMudmVydGV4Q291bnRdLl9idWZmZXIudXBkYXRlKGJ1ZmZlci52ZXJ0aWNlcywgMCk7XG4gICAgICAgICAgICB0aGlzLnZhb3NbdGhpcy52ZXJ0ZXhDb3VudF0uX2luZGV4QnVmZmVyLnVwZGF0ZShpbmRleEJ1ZmZlciwgMCk7XG5cbiAgICAgICAgICAgIC8vICAgaWYgKHRydWUpLy8gdGhpcy5zcHJpdGVPbmx5KVxuICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgLy8gdGhpcy52YW9zW3RoaXMudmVydGV4Q291bnRdLmluZGV4QnVmZmVyID0gdGhpcy5kZWZ1YWx0U3ByaXRlSW5kZXhCdWZmZXI7XG4gICAgICAgICAgICAvLyB0aGlzLnZhb3NbdGhpcy52ZXJ0ZXhDb3VudF0uYnVmZmVyc1sxXSA9IHRoaXMuZGVmdWFsdFNwcml0ZUluZGV4QnVmZmVyO1xuICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LnVwZGF0ZUJ1ZmZlcnMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vICAgdGhpcy5yZW5kZXJlci5zdGF0ZS5zZXQodGhpcy5zdGF0ZSk7XG5cbiAgICAgICAgY29uc3QgdGV4dHVyZVN5c3RlbSA9IHRoaXMucmVuZGVyZXIudGV4dHVyZTtcbiAgICAgICAgY29uc3Qgc3RhdGVTeXN0ZW0gPSB0aGlzLnJlbmRlcmVyLnN0YXRlO1xuICAgICAgICAvLyBlLmxvZyhncm91cENvdW50KTtcbiAgICAgICAgLy8gLyByZW5kZXIgdGhlIGdyb3Vwcy4uXG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGdyb3VwQ291bnQ7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSBncm91cHNbaV07XG4gICAgICAgICAgICBjb25zdCBncm91cFRleHR1cmVDb3VudCA9IGdyb3VwLnRleHR1cmVDb3VudDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBncm91cFRleHR1cmVDb3VudDsgaisrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRleHR1cmVTeXN0ZW0uYmluZChncm91cC50ZXh0dXJlc1tqXSwgaik7XG4gICAgICAgICAgICAgICAgZ3JvdXAudGV4dHVyZXNbal0gPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IGdyb3VwLmJsZW5kO1xuICAgICAgICAgICAgLy8gdGhpcy5zdGF0ZS5ibGVuZCA9IHRydWU7XG5cbiAgICAgICAgICAgIC8vIHRoaXMucmVuZGVyZXIuc3RhdGUuc2V0U3RhdGUodGhpcy5zdGF0ZSk7XG4gICAgICAgICAgICAvLyBzZXQgdGhlIGJsZW5kIG1vZGUuLlxuICAgICAgICAgICAgc3RhdGVTeXN0ZW0uc2V0QmxlbmRNb2RlKGdyb3VwLmJsZW5kKTtcblxuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdyb3VwLnR5cGUsIGdyb3VwLnNpemUsIGdsLlVOU0lHTkVEX1NIT1JULCBncm91cC5zdGFydCAqIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVzZXQgZWxlbWVudHMgZm9yIHRoZSBuZXh0IGZsdXNoXG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5jdXJyZW50U2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4U2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgcGFja0dlb21ldHJ5KGVsZW1lbnQsIGZsb2F0MzJWaWV3LCB1aW50MzJWaWV3LCBpbmRleEJ1ZmZlciwgaW5kZXgsIGluZGV4Q291bnQpXG4gICAge1xuICAgICAgICBjb25zdCBwID0gaW5kZXggLyB0aGlzLnZlcnRTaXplOy8vIGZsb2F0MzJWaWV3Lmxlbmd0aCAvIDYgLyAyO1xuICAgICAgICBjb25zdCB1dnMgPSBlbGVtZW50LnV2cztcbiAgICAgICAgY29uc3QgaW5kaWNpZXMgPSBlbGVtZW50LmluZGljZXM7Ly8gZ2VvbWV0cnkuZ2V0SW5kZXgoKS5kYXRhOy8vIGluZGljaWVzO1xuICAgICAgICBjb25zdCB2ZXJ0ZXhEYXRhID0gZWxlbWVudC52ZXJ0ZXhEYXRhO1xuICAgICAgICBjb25zdCB0ZXh0dXJlSWQgPSBlbGVtZW50Ll90ZXh0dXJlLmJhc2VUZXh0dXJlLl9pZDtcblxuICAgICAgICBjb25zdCBhbHBoYSA9IE1hdGgubWluKGVsZW1lbnQud29ybGRBbHBoYSwgMS4wKTtcblxuICAgICAgICBjb25zdCBhcmdiID0gYWxwaGEgPCAxLjAgJiYgZWxlbWVudC5fdGV4dHVyZS5iYXNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhID8gcHJlbXVsdGlwbHlUaW50KGVsZW1lbnQuX3RpbnRSR0IsIGFscGhhKVxuICAgICAgICAgICAgOiBlbGVtZW50Ll90aW50UkdCICsgKGFscGhhICogMjU1IDw8IDI0KTtcblxuICAgICAgICAvLyBsZXRzIG5vdCB3b3JyeSBhYm91dCB0aW50ISBmb3Igbm93Li5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aDsgaSArPSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCsrXSA9IHZlcnRleERhdGFbaV07XG4gICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCsrXSA9IHZlcnRleERhdGFbaSArIDFdO1xuICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXgrK10gPSB1dnNbaV07XG4gICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCsrXSA9IHV2c1tpICsgMV07XG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4KytdID0gYXJnYjtcbiAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4KytdID0gdGV4dHVyZUlkO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRpY2llcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaW5kZXhCdWZmZXJbaW5kZXhDb3VudCsrXSA9IHAgKyBpbmRpY2llc1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKlxuICAgIHJlbmRlclF1YWQodmVydGV4RGF0YSwgdXZzLCBhcmdiLCB0ZXh0dXJlSWQsIGZsb2F0MzJWaWV3LCB1aW50MzJWaWV3LCBpbmRleEJ1ZmZlciwgaW5kZXgsIGluZGV4Q291bnQpXG4gICAge1xuICAgICAgICBjb25zdCBwID0gaW5kZXggLyA2O1xuXG4gICAgICAgIGZsb2F0MzJWaWV3W2luZGV4KytdID0gdmVydGV4RGF0YVswXTtcbiAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXgrK10gPSB2ZXJ0ZXhEYXRhWzFdO1xuICAgICAgICBmbG9hdDMyVmlld1tpbmRleCsrXSA9IHV2cy54MDtcbiAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXgrK10gPSB1dnMueTA7XG4gICAgICAgIHVpbnQzMlZpZXdbaW5kZXgrK10gPSBhcmdiO1xuICAgICAgICBmbG9hdDMyVmlld1tpbmRleCsrXSA9IHRleHR1cmVJZDtcblxuICAgICAgICBmbG9hdDMyVmlld1tpbmRleCsrXSA9IHZlcnRleERhdGFbMl07XG4gICAgICAgIGZsb2F0MzJWaWV3W2luZGV4KytdID0gdmVydGV4RGF0YVszXTtcbiAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXgrK10gPSB1dnMueDE7XG4gICAgICAgIGZsb2F0MzJWaWV3W2luZGV4KytdID0gdXZzLnkxO1xuICAgICAgICB1aW50MzJWaWV3W2luZGV4KytdID0gYXJnYjtcbiAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXgrK10gPSB0ZXh0dXJlSWQ7XG5cbiAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXgrK10gPSB2ZXJ0ZXhEYXRhWzRdO1xuICAgICAgICBmbG9hdDMyVmlld1tpbmRleCsrXSA9IHZlcnRleERhdGFbNV07XG4gICAgICAgIGZsb2F0MzJWaWV3W2luZGV4KytdID0gdXZzLngyO1xuICAgICAgICBmbG9hdDMyVmlld1tpbmRleCsrXSA9IHV2cy55MjtcbiAgICAgICAgdWludDMyVmlld1tpbmRleCsrXSA9IGFyZ2I7XG4gICAgICAgIGZsb2F0MzJWaWV3W2luZGV4KytdID0gdGV4dHVyZUlkO1xuXG4gICAgICAgIGZsb2F0MzJWaWV3W2luZGV4KytdID0gdmVydGV4RGF0YVs2XTtcbiAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXgrK10gPSB2ZXJ0ZXhEYXRhWzddO1xuICAgICAgICBmbG9hdDMyVmlld1tpbmRleCsrXSA9IHV2cy54MztcbiAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXgrK10gPSB1dnMueTM7XG4gICAgICAgIHVpbnQzMlZpZXdbaW5kZXgrK10gPSBhcmdiO1xuICAgICAgICBmbG9hdDMyVmlld1tpbmRleCsrXSA9IHRleHR1cmVJZDtcblxuICAgICAgICBpbmRleEJ1ZmZlcltpbmRleENvdW50KytdID0gcCArIDA7XG4gICAgICAgIGluZGV4QnVmZmVyW2luZGV4Q291bnQrK10gPSBwICsgMTtcbiAgICAgICAgaW5kZXhCdWZmZXJbaW5kZXhDb3VudCsrXSA9IHAgKyAyO1xuICAgICAgICBpbmRleEJ1ZmZlcltpbmRleENvdW50KytdID0gcCArIDA7XG4gICAgICAgIGluZGV4QnVmZmVyW2luZGV4Q291bnQrK10gPSBwICsgMjtcbiAgICAgICAgaW5kZXhCdWZmZXJbaW5kZXhDb3VudCsrXSA9IHAgKyAzO1xuICAgIH1cbiovXG4gICAgLyoqXG4gICAgICogU3RhcnRzIGEgbmV3IHNwcml0ZSBiYXRjaC5cbiAgICAgKi9cbiAgICBzdGFydCgpXG4gICAge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnN0YXRlLnNldFN0YXRlKHRoaXMuc3RhdGUpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcy5zaGFkZXIpO1xuXG4gICAgICAgIGlmIChzZXR0aW5ncy5DQU5fVVBMT0FEX1NBTUVfQlVGRkVSKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBiaW5kIGJ1ZmZlciAjMCwgd2UgZG9uJ3QgbmVlZCBvdGhlcnNcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZ2VvbWV0cnkuYmluZCh0aGlzLnZhb3NbdGhpcy52ZXJ0ZXhDb3VudF0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RvcHMgYW5kIGZsdXNoZXMgdGhlIGN1cnJlbnQgYmF0Y2guXG4gICAgICpcbiAgICAgKi9cbiAgICBzdG9wKClcbiAgICB7XG4gICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgU3ByaXRlUmVuZGVyZXIuXG4gICAgICpcbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy52YW9NYXg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgKHRoaXMudmVydGV4QnVmZmVyc1tpXSlcbiAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgIC8vICAgICB0aGlzLnZlcnRleEJ1ZmZlcnNbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgaWYgKHRoaXMudmFvc1tpXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhb3NbaV0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaW5kZXhCdWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5vZmYoJ3ByZXJlbmRlcicsIHRoaXMub25QcmVyZW5kZXIsIHRoaXMpO1xuXG4gICAgICAgIGlmICh0aGlzLnNoYWRlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhpcy52ZXJ0ZXhCdWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy52YW9zID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuc3ByaXRlcyA9IG51bGw7XG5cbiAgICAgICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJ1ZmZlcnMubGVuZ3RoOyArK2kpXG4gICAgICAgIC8vIHtcbiAgICAgICAgLy8gICAgIHRoaXMuYnVmZmVyc1tpXS5kZXN0cm95KCk7XG4gICAgICAgIC8vIH1cblxuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVuZGVyVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQ2FudmFzUmVuZGVyVGFyZ2V0IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbmNvbnN0IFRFTVBfUkVDVCA9IG5ldyBSZWN0YW5nbGUoKTtcbmNvbnN0IEJZVEVTX1BFUl9QSVhFTCA9IDQ7XG5cbi8qKlxuICogVGhlIGV4dHJhY3QgbWFuYWdlciBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIGV4cG9ydCBjb250ZW50IGZyb20gdGhlIHJlbmRlcmVycy5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IGByZW5kZXJlci5wbHVnaW5zLmV4dHJhY3RgXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5leHRyYWN0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV4dHJhY3RcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgbWV0aG9kcyBmb3IgZXh0cmFjdGluZyBkYXRhIChpbWFnZSwgcGl4ZWxzLCBldGMuKSBmcm9tIGEgZGlzcGxheSBvYmplY3Qgb3IgcmVuZGVyIHRleHR1cmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5leHRyYWN0LkV4dHJhY3R9IGV4dHJhY3RcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAqIEBzZWUgUElYSS5leHRyYWN0LkV4dHJhY3RcbiAgICAgICAgICovXG4gICAgICAgIHJlbmRlcmVyLmV4dHJhY3QgPSB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdpbGwgcmV0dXJuIGEgSFRNTCBJbWFnZSBvZiB0aGUgdGFyZ2V0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gICAgICogIHRvIGNvbnZlcnQuIElmIGxlZnQgZW1wdHkgd2lsbCB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Zvcm1hdF0gLSBJbWFnZSBmb3JtYXQsIGUuZy4gXCJpbWFnZS9qcGVnXCIgb3IgXCJpbWFnZS93ZWJwXCIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtxdWFsaXR5XSAtIEpQRUcgb3IgV2VicCBjb21wcmVzc2lvbiBmcm9tIDAgdG8gMS4gRGVmYXVsdCBpcyAwLjkyLlxuICAgICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR9IEhUTUwgSW1hZ2Ugb2YgdGhlIHRhcmdldFxuICAgICAqL1xuICAgIGltYWdlKHRhcmdldCwgZm9ybWF0LCBxdWFsaXR5KVxuICAgIHtcbiAgICAgICAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICBpbWFnZS5zcmMgPSB0aGlzLmJhc2U2NCh0YXJnZXQsIGZvcm1hdCwgcXVhbGl0eSk7XG5cbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdpbGwgcmV0dXJuIGEgYSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgb2YgdGhpcyB0YXJnZXQuIEl0IHdvcmtzIGJ5IGNhbGxpbmdcbiAgICAgKiAgYEV4dHJhY3QuZ2V0Q2FudmFzYCBhbmQgdGhlbiBydW5uaW5nIHRvRGF0YVVSTCBvbiB0aGF0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmb3JtYXRdIC0gSW1hZ2UgZm9ybWF0LCBlLmcuIFwiaW1hZ2UvanBlZ1wiIG9yIFwiaW1hZ2Uvd2VicFwiLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcXVhbGl0eV0gLSBKUEVHIG9yIFdlYnAgY29tcHJlc3Npb24gZnJvbSAwIHRvIDEuIERlZmF1bHQgaXMgMC45Mi5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqL1xuICAgIGJhc2U2NCh0YXJnZXQsIGZvcm1hdCwgcXVhbGl0eSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcyh0YXJnZXQpLnRvRGF0YVVSTChmb3JtYXQsIHF1YWxpdHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDYW52YXMgZWxlbWVudCwgcmVuZGVycyB0aGlzIHRhcmdldCB0byBpdCBhbmQgdGhlbiByZXR1cm5zIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R8UElYSS5SZW5kZXJUZXh0dXJlfSB0YXJnZXQgLSBBIGRpc3BsYXlPYmplY3Qgb3IgcmVuZGVyVGV4dHVyZVxuICAgICAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHRoZSBtYWluIHJlbmRlcmVyXG4gICAgICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IEEgQ2FudmFzIGVsZW1lbnQgd2l0aCB0aGUgdGV4dHVyZSByZW5kZXJlZCBvbi5cbiAgICAgKi9cbiAgICBjYW52YXModGFyZ2V0KVxuICAgIHtcbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICBsZXQgcmVzb2x1dGlvbjtcbiAgICAgICAgbGV0IGZyYW1lO1xuICAgICAgICBsZXQgZmxpcFkgPSBmYWxzZTtcbiAgICAgICAgbGV0IHJlbmRlclRleHR1cmU7XG4gICAgICAgIGxldCBnZW5lcmF0ZWQgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGFyZ2V0KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgUmVuZGVyVGV4dHVyZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGFyZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0aGlzLnJlbmRlcmVyLmdlbmVyYXRlVGV4dHVyZSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVuZGVyVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIGZyYW1lID0gcmVuZGVyVGV4dHVyZS5mcmFtZTtcbiAgICAgICAgICAgIGZsaXBZID0gZmFsc2U7XG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQocmVuZGVyVGV4dHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICBmbGlwWSA9IHRydWU7XG5cbiAgICAgICAgICAgIGZyYW1lID0gVEVNUF9SRUNUO1xuICAgICAgICAgICAgZnJhbWUud2lkdGggPSB0aGlzLnJlbmRlcmVyLndpZHRoO1xuICAgICAgICAgICAgZnJhbWUuaGVpZ2h0ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQ7XG5cbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gZnJhbWUud2lkdGggKiByZXNvbHV0aW9uO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uO1xuXG4gICAgICAgIGNvbnN0IGNhbnZhc0J1ZmZlciA9IG5ldyBDYW52YXNSZW5kZXJUYXJnZXQod2lkdGgsIGhlaWdodCwgMSk7XG5cbiAgICAgICAgY29uc3Qgd2ViZ2xQaXhlbHMgPSBuZXcgVWludDhBcnJheShCWVRFU19QRVJfUElYRUwgKiB3aWR0aCAqIGhlaWdodCk7XG5cbiAgICAgICAgLy8gcmVhZCBwaXhlbHMgdG8gdGhlIGFycmF5XG4gICAgICAgIGNvbnN0IGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgZ2wucmVhZFBpeGVscyhcbiAgICAgICAgICAgIGZyYW1lLnggKiByZXNvbHV0aW9uLFxuICAgICAgICAgICAgZnJhbWUueSAqIHJlc29sdXRpb24sXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIGdsLlJHQkEsXG4gICAgICAgICAgICBnbC5VTlNJR05FRF9CWVRFLFxuICAgICAgICAgICAgd2ViZ2xQaXhlbHNcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBhZGQgdGhlIHBpeGVscyB0byB0aGUgY2FudmFzXG4gICAgICAgIGNvbnN0IGNhbnZhc0RhdGEgPSBjYW52YXNCdWZmZXIuY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgY2FudmFzRGF0YS5kYXRhLnNldCh3ZWJnbFBpeGVscyk7XG5cbiAgICAgICAgY2FudmFzQnVmZmVyLmNvbnRleHQucHV0SW1hZ2VEYXRhKGNhbnZhc0RhdGEsIDAsIDApO1xuXG4gICAgICAgIC8vIHB1bGxpbmcgcGl4ZWxzXG4gICAgICAgIGlmIChmbGlwWSlcbiAgICAgICAge1xuICAgICAgICAgICAgY2FudmFzQnVmZmVyLmNvbnRleHQuc2NhbGUoMSwgLTEpO1xuICAgICAgICAgICAgY2FudmFzQnVmZmVyLmNvbnRleHQuZHJhd0ltYWdlKGNhbnZhc0J1ZmZlci5jYW52YXMsIDAsIC1oZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdlbmVyYXRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2VuZCB0aGUgY2FudmFzIGJhY2suLlxuICAgICAgICByZXR1cm4gY2FudmFzQnVmZmVyLmNhbnZhcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaWxsIHJldHVybiBhIG9uZS1kaW1lbnNpb25hbCBhcnJheSBjb250YWluaW5nIHRoZSBwaXhlbCBkYXRhIG9mIHRoZSBlbnRpcmUgdGV4dHVyZSBpbiBSR0JBXG4gICAgICogb3JkZXIsIHdpdGggaW50ZWdlciB2YWx1ZXMgYmV0d2VlbiAwIGFuZCAyNTUgKGluY2x1ZGVkKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAgICAgKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1VpbnQ4Q2xhbXBlZEFycmF5fSBPbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmVcbiAgICAgKi9cbiAgICBwaXhlbHModGFyZ2V0KVxuICAgIHtcbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICBsZXQgcmVzb2x1dGlvbjtcbiAgICAgICAgbGV0IGZyYW1lO1xuICAgICAgICBsZXQgcmVuZGVyVGV4dHVyZTtcbiAgICAgICAgbGV0IGdlbmVyYXRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0YXJnZXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBSZW5kZXJUZXh0dXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlbmRlclRleHR1cmUgPSB0YXJnZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMucmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXNvbHV0aW9uID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgZnJhbWUgPSByZW5kZXJUZXh0dXJlLmZyYW1lO1xuXG4gICAgICAgICAgICAvLyBiaW5kIHRoZSBidWZmZXJcbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChyZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlc29sdXRpb24gPSByZW5kZXJlci5yZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICBmcmFtZSA9IFRFTVBfUkVDVDtcbiAgICAgICAgICAgIGZyYW1lLndpZHRoID0gcmVuZGVyZXIud2lkdGg7XG4gICAgICAgICAgICBmcmFtZS5oZWlnaHQgPSByZW5kZXJlci5oZWlnaHQ7XG5cbiAgICAgICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gZnJhbWUud2lkdGggKiByZXNvbHV0aW9uO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uO1xuXG4gICAgICAgIGNvbnN0IHdlYmdsUGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkoQllURVNfUEVSX1BJWEVMICogd2lkdGggKiBoZWlnaHQpO1xuXG4gICAgICAgIC8vIHJlYWQgcGl4ZWxzIHRvIHRoZSBhcnJheVxuICAgICAgICBjb25zdCBnbCA9IHJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGdsLnJlYWRQaXhlbHMoXG4gICAgICAgICAgICBmcmFtZS54ICogcmVzb2x1dGlvbixcbiAgICAgICAgICAgIGZyYW1lLnkgKiByZXNvbHV0aW9uLFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICBnbC5SR0JBLFxuICAgICAgICAgICAgZ2wuVU5TSUdORURfQllURSxcbiAgICAgICAgICAgIHdlYmdsUGl4ZWxzXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGdlbmVyYXRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHdlYmdsUGl4ZWxzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBleHRyYWN0XG4gICAgICpcbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZXh0cmFjdCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFBvaW50IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qKlxuICogSG9sZHMgYWxsIGluZm9ybWF0aW9uIHJlbGF0ZWQgdG8gYW4gSW50ZXJhY3Rpb24gZXZlbnRcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludGVyYWN0aW9uRGF0YVxue1xuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHBvaW50IHN0b3JlcyB0aGUgZ2xvYmFsIGNvb3JkcyBvZiB3aGVyZSB0aGUgdG91Y2gvbW91c2UgZXZlbnQgaGFwcGVuZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2xvYmFsID0gbmV3IFBvaW50KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0YXJnZXQgU3ByaXRlIHRoYXQgd2FzIGludGVyYWN0ZWQgd2l0aFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBwYXNzZWQgdG8gYW4gZXZlbnQgaGFuZGxlciwgdGhpcyB3aWxsIGJlIHRoZSBvcmlnaW5hbCBET00gRXZlbnQgdGhhdCB3YXMgY2FwdHVyZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudFxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaEV2ZW50XG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudFxuICAgICAgICAgKiBAbWVtYmVyIHtNb3VzZUV2ZW50fFRvdWNoRXZlbnR8UG9pbnRlckV2ZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vcmlnaW5hbEV2ZW50ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgaW50ZXJhY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pZGVudGlmaWVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZXRoZXIgb3Igbm90IHRoZSBwb2ludGVyIGRldmljZSB0aGF0IGNyZWF0ZWQgdGhlIGV2ZW50IGlzIHRoZSBwcmltYXJ5IHBvaW50ZXIuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9pc1ByaW1hcnlcbiAgICAgICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlzUHJpbWFyeSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hpY2ggYnV0dG9uIHdhcyBwcmVzc2VkIG9uIHRoZSBtb3VzZSBvciBwb2ludGVyIGRldmljZSB0byB0cmlnZ2VyIHRoZSBldmVudC5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYnV0dG9uID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoaWNoIGJ1dHRvbnMgYXJlIHByZXNzZWQgb24gdGhlIG1vdXNlIG9yIHBvaW50ZXIgZGV2aWNlIHdoZW4gdGhlIGV2ZW50IGlzIHRyaWdnZXJlZC5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudC9idXR0b25zXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJ1dHRvbnMgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHBvaW50ZXIncyBjb250YWN0IGFsb25nIHRoZSB4LWF4aXMsIG1lYXN1cmVkIGluIENTUyBwaXhlbHMuXG4gICAgICAgICAqIHJhZGl1c1ggb2YgVG91Y2hFdmVudHMgd2lsbCBiZSByZXByZXNlbnRlZCBieSB0aGlzIHZhbHVlLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvd2lkdGhcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBwb2ludGVyJ3MgY29udGFjdCBhbG9uZyB0aGUgeS1heGlzLCBtZWFzdXJlZCBpbiBDU1MgcGl4ZWxzLlxuICAgICAgICAgKiByYWRpdXNZIG9mIFRvdWNoRXZlbnRzIHdpbGwgYmUgcmVwcmVzZW50ZWQgYnkgdGhpcyB2YWx1ZS5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L2hlaWdodFxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5nbGUsIGluIGRlZ3JlZXMsIGJldHdlZW4gdGhlIHBvaW50ZXIgZGV2aWNlIGFuZCB0aGUgc2NyZWVuLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvdGlsdFhcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlsdFggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5nbGUsIGluIGRlZ3JlZXMsIGJldHdlZW4gdGhlIHBvaW50ZXIgZGV2aWNlIGFuZCB0aGUgc2NyZWVuLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvdGlsdFlcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlsdFkgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSBvZiBwb2ludGVyIHRoYXQgdHJpZ2dlcmVkIHRoZSBldmVudC5cbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUG9pbnRlckV2ZW50L3BvaW50ZXJUeXBlXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBvaW50ZXJUeXBlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJlc3N1cmUgYXBwbGllZCBieSB0aGUgcG9pbnRpbmcgZGV2aWNlIGR1cmluZyB0aGUgZXZlbnQuIEEgVG91Y2gncyBmb3JjZSBwcm9wZXJ0eVxuICAgICAgICAgKiB3aWxsIGJlIHJlcHJlc2VudGVkIGJ5IHRoaXMgdmFsdWUuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC9wcmVzc3VyZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmVzc3VyZSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZyb20gVG91Y2hFdmVudHMgKG5vdCBQb2ludGVyRXZlbnRzIHRyaWdnZXJlZCBieSB0b3VjaGVzKSwgdGhlIHJvdGF0aW9uQW5nbGUgb2YgdGhlIFRvdWNoLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Ub3VjaC9yb3RhdGlvbkFuZ2xlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJvdGF0aW9uQW5nbGUgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUd2lzdCBvZiBhIHN0eWx1cyBwb2ludGVyLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9wb2ludGVyZXZlbnRzLyNwb2ludGVyZXZlbnQtaW50ZXJmYWNlXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR3aXN0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQmFycmVsIHByZXNzdXJlIG9uIGEgc3R5bHVzIHBvaW50ZXIuXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3BvaW50ZXJldmVudHMvI3BvaW50ZXJldmVudC1pbnRlcmZhY2VcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIHBvaW50ZXIuIEl0IHdpbGwgYmUgdGhlIHNhbWUgYXMgYGlkZW50aWZpZXJgLlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvcG9pbnRlcklkXG4gICAgICovXG4gICAgZ2V0IHBvaW50ZXJJZCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5pZGVudGlmaWVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgd2lsbCByZXR1cm4gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBzcGVjaWZpZWQgZGlzcGxheU9iamVjdCBmb3IgdGhpcyBJbnRlcmFjdGlvbkRhdGFcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIERpc3BsYXlPYmplY3QgdGhhdCB5b3Ugd291bGQgbGlrZSB0aGUgbG9jYWxcbiAgICAgKiAgY29vcmRzIG9mZlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWwgKG90aGVyd2lzZVxuICAgICAqICB3aWxsIGNyZWF0ZSBhIG5ldyBwb2ludClcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtnbG9iYWxQb3NdIC0gQSBQb2ludCBvYmplY3QgY29udGFpbmluZyB5b3VyIGN1c3RvbSBnbG9iYWwgY29vcmRzLCBvcHRpb25hbFxuICAgICAqICAob3RoZXJ3aXNlIHdpbGwgdXNlIHRoZSBjdXJyZW50IGdsb2JhbCBjb29yZHMpXG4gICAgICogQHJldHVybiB7UElYSS5Qb2ludH0gQSBwb2ludCBjb250YWluaW5nIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgSW50ZXJhY3Rpb25EYXRhIHBvc2l0aW9uIHJlbGF0aXZlXG4gICAgICogIHRvIHRoZSBEaXNwbGF5T2JqZWN0XG4gICAgICovXG4gICAgZ2V0TG9jYWxQb3NpdGlvbihkaXNwbGF5T2JqZWN0LCBwb2ludCwgZ2xvYmFsUG9zKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGRpc3BsYXlPYmplY3Qud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKGdsb2JhbFBvcyB8fCB0aGlzLmdsb2JhbCwgcG9pbnQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBwcm9wZXJ0aWVzIGZyb20gbm9ybWFsaXplZCBldmVudCBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtUb3VjaHxNb3VzZUV2ZW50fFBvaW50ZXJFdmVudH0gZXZlbnQgVGhlIG5vcm1hbGl6ZWQgZXZlbnQgZGF0YVxuICAgICAqL1xuICAgIGNvcHlFdmVudChldmVudClcbiAgICB7XG4gICAgICAgIC8vIGlzUHJpbWFyeSBzaG91bGQgb25seSBjaGFuZ2Ugb24gdG91Y2hzdGFydC9wb2ludGVyZG93biwgc28gd2UgZG9uJ3Qgd2FudCB0byBvdmVyd3JpdGVcbiAgICAgICAgLy8gaXQgd2l0aCBcImZhbHNlXCIgb24gbGF0ZXIgZXZlbnRzIHdoZW4gb3VyIHNoaW0gZm9yIGl0IG9uIHRvdWNoIGV2ZW50cyBtaWdodCBub3QgYmVcbiAgICAgICAgLy8gYWNjdXJhdGVcbiAgICAgICAgaWYgKGV2ZW50LmlzUHJpbWFyeSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pc1ByaW1hcnkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnV0dG9uID0gZXZlbnQuYnV0dG9uO1xuICAgICAgICAvLyBldmVudC5idXR0b25zIGlzIG5vdCBhdmFpbGFibGUgaW4gYWxsIGJyb3dzZXJzIChpZS4gU2FmYXJpKSwgYnV0IGl0IGRvZXMgaGF2ZSBhIG5vbi1zdGFuZGFyZFxuICAgICAgICAvLyBldmVudC53aGljaCBwcm9wZXJ0eSBpbnN0ZWFkLCB3aGljaCBjb252ZXlzIHRoZSBzYW1lIGluZm9ybWF0aW9uLlxuICAgICAgICB0aGlzLmJ1dHRvbnMgPSBOdW1iZXIuaXNJbnRlZ2VyKGV2ZW50LmJ1dHRvbnMpID8gZXZlbnQuYnV0dG9ucyA6IGV2ZW50LndoaWNoO1xuICAgICAgICB0aGlzLndpZHRoID0gZXZlbnQud2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gZXZlbnQuaGVpZ2h0O1xuICAgICAgICB0aGlzLnRpbHRYID0gZXZlbnQudGlsdFg7XG4gICAgICAgIHRoaXMudGlsdFkgPSBldmVudC50aWx0WTtcbiAgICAgICAgdGhpcy5wb2ludGVyVHlwZSA9IGV2ZW50LnBvaW50ZXJUeXBlO1xuICAgICAgICB0aGlzLnByZXNzdXJlID0gZXZlbnQucHJlc3N1cmU7XG4gICAgICAgIHRoaXMucm90YXRpb25BbmdsZSA9IGV2ZW50LnJvdGF0aW9uQW5nbGU7XG4gICAgICAgIHRoaXMudHdpc3QgPSBldmVudC50d2lzdCB8fCAwO1xuICAgICAgICB0aGlzLnRhbmdlbnRpYWxQcmVzc3VyZSA9IGV2ZW50LnRhbmdlbnRpYWxQcmVzc3VyZSB8fCAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgZGF0YSBmb3IgcG9vbGluZy5cbiAgICAgKi9cbiAgICByZXNldCgpXG4gICAge1xuICAgICAgICAvLyBpc1ByaW1hcnkgaXMgdGhlIG9ubHkgcHJvcGVydHkgdGhhdCB3ZSByZWFsbHkgbmVlZCB0byByZXNldCAtIGV2ZXJ5dGhpbmcgZWxzZSBpc1xuICAgICAgICAvLyBndWFyYW50ZWVkIHRvIGJlIG92ZXJ3cml0dGVuXG4gICAgICAgIHRoaXMuaXNQcmltYXJ5ID0gZmFsc2U7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBFdmVudCBjbGFzcyB0aGF0IG1pbWljcyBuYXRpdmUgRE9NIGV2ZW50cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludGVyYWN0aW9uRXZlbnRcbntcbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGlzIGV2ZW50IHdpbGwgY29udGludWUgcHJvcGFnYXRpbmcgaW4gdGhlIHRyZWVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RvcHBlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb2JqZWN0IHdoaWNoIGNhdXNlZCB0aGlzIGV2ZW50IHRvIGJlIGRpc3BhdGNoZWQuXG4gICAgICAgICAqIEZvciBsaXN0ZW5lciBjYWxsYmFjayBzZWUge0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudC5jdXJyZW50VGFyZ2V0fS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb2JqZWN0IHdob3NlIGV2ZW50IGxpc3RlbmVy4oCZcyBjYWxsYmFjayBpcyBjdXJyZW50bHkgYmVpbmcgaW52b2tlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVHlwZSBvZiB0aGUgZXZlbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJhY3Rpb25EYXRhIHJlbGF0ZWQgdG8gdGhpcyBldmVudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJldmVudHMgZXZlbnQgZnJvbSByZWFjaGluZyBhbnkgb2JqZWN0cyBvdGhlciB0aGFuIHRoZSBjdXJyZW50IG9iamVjdC5cbiAgICAgKlxuICAgICAqL1xuICAgIHN0b3BQcm9wYWdhdGlvbigpXG4gICAge1xuICAgICAgICB0aGlzLnN0b3BwZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgZXZlbnQuXG4gICAgICovXG4gICAgcmVzZXQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5zdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICB9XG59XG4iLCIvKipcbiAqIERpc3BsYXlPYmplY3RzIHdpdGggdGhlIHtAbGluayBQSVhJLmludGVyYWN0aW9uLmludGVyYWN0aXZlVGFyZ2V0fSBtaXhpbiB1c2UgdGhpcyBjbGFzcyB0byB0cmFjayBpbnRlcmFjdGlvbnNcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvblxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnRlcmFjdGlvblRyYWNraW5nRGF0YVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb2ludGVySWQgLSBVbmlxdWUgcG9pbnRlciBpZCBvZiB0aGUgZXZlbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHBvaW50ZXJJZClcbiAgICB7XG4gICAgICAgIHRoaXMuX3BvaW50ZXJJZCA9IHBvaW50ZXJJZDtcbiAgICAgICAgdGhpcy5fZmxhZ3MgPSBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUy5OT05FO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmxhZyAtIFRoZSBpbnRlcmFjdGlvbiBmbGFnIHRvIHNldFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0geW4gLSBTaG91bGQgdGhlIGZsYWcgYmUgc2V0IG9yIHVuc2V0XG4gICAgICovXG4gICAgX2RvU2V0KGZsYWcsIHluKVxuICAgIHtcbiAgICAgICAgaWYgKHluKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mbGFncyA9IHRoaXMuX2ZsYWdzIHwgZmxhZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZsYWdzID0gdGhpcy5fZmxhZ3MgJiAofmZsYWcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVW5pcXVlIHBvaW50ZXIgaWQgb2YgdGhlIGV2ZW50XG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgcG9pbnRlcklkKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb2ludGVySWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhdGUgb2YgdGhlIHRyYWNraW5nIGRhdGEsIGV4cHJlc3NlZCBhcyBiaXQgZmxhZ3NcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBmbGFncygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmxhZ3M7XG4gICAgfVxuXG4gICAgc2V0IGZsYWdzKGZsYWdzKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZsYWdzID0gZmxhZ3M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXMgdGhlIHRyYWNrZWQgZXZlbnQgaW5hY3RpdmUgKG5vdCBvdmVyIG9yIGRvd24pP1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IG5vbmUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZsYWdzID09PSB0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLk5PTkU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXMgdGhlIHRyYWNrZWQgZXZlbnQgb3ZlciB0aGUgRGlzcGxheU9iamVjdD9cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgb3ZlcigpXG4gICAge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5PVkVSKSAhPT0gMDtcbiAgICB9XG5cbiAgICBzZXQgb3Zlcih5bikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9kb1NldCh0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLk9WRVIsIHluKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaWQgdGhlIHJpZ2h0IG1vdXNlIGJ1dHRvbiBjb21lIGRvd24gaW4gdGhlIERpc3BsYXlPYmplY3Q/XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IHJpZ2h0RG93bigpXG4gICAge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5SSUdIVF9ET1dOKSAhPT0gMDtcbiAgICB9XG5cbiAgICBzZXQgcmlnaHREb3duKHluKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2RvU2V0KHRoaXMuY29uc3RydWN0b3IuRkxBR1MuUklHSFRfRE9XTiwgeW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpZCB0aGUgbGVmdCBtb3VzZSBidXR0b24gY29tZSBkb3duIGluIHRoZSBEaXNwbGF5T2JqZWN0P1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBsZWZ0RG93bigpXG4gICAge1xuICAgICAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5MRUZUX0RPV04pICE9PSAwO1xuICAgIH1cblxuICAgIHNldCBsZWZ0RG93bih5bikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9kb1NldCh0aGlzLmNvbnN0cnVjdG9yLkZMQUdTLkxFRlRfRE9XTiwgeW4pO1xuICAgIH1cbn1cblxuSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MgPSBPYmplY3QuZnJlZXplKHtcbiAgICBOT05FOiAwLFxuICAgIE9WRVI6IDEgPDwgMCxcbiAgICBMRUZUX0RPV046IDEgPDwgMSxcbiAgICBSSUdIVF9ET1dOOiAxIDw8IDIsXG59KTtcbiIsIi8qKlxuICogRGVmYXVsdCBwcm9wZXJ0eSB2YWx1ZXMgb2YgaW50ZXJhY3RpdmUgb2JqZWN0c1xuICogVXNlZCBieSB7QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJ9IHRvIGF1dG9tYXRpY2FsbHkgZ2l2ZSBhbGwgRGlzcGxheU9iamVjdHMgdGhlc2UgcHJvcGVydGllc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBpbnRlcmFjdGl2ZVRhcmdldFxuICogQHR5cGUge09iamVjdH1cbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKiBAZXhhbXBsZVxuICogICAgICBmdW5jdGlvbiBNeU9iamVjdCgpIHt9XG4gKlxuICogICAgICBPYmplY3QuYXNzaWduKFxuICogICAgICAgICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUsXG4gKiAgICAgICAgICBQSVhJLmludGVyYWN0aW9uLmludGVyYWN0aXZlVGFyZ2V0XG4gKiAgICAgICk7XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSBpbnRlcmFjdGlvbiBldmVudHMgZm9yIHRoZSBEaXNwbGF5T2JqZWN0LiBUb3VjaCwgcG9pbnRlciBhbmQgbW91c2VcbiAgICAgKiBldmVudHMgd2lsbCBub3QgYmUgZW1pdHRlZCB1bmxlc3MgYGludGVyYWN0aXZlYCBpcyBzZXQgdG8gYHRydWVgLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgKiBzcHJpdGUub24oJ3RhcCcsIChldmVudCkgPT4ge1xuICAgICAqICAgIC8vaGFuZGxlIGV2ZW50XG4gICAgICogfSk7XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGludGVyYWN0aXZlOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgdGhlIGNoaWxkcmVuIHRvIHRoZSBkaXNwbGF5T2JqZWN0IGNhbiBiZSBjbGlja2VkL3RvdWNoZWRcbiAgICAgKiBTZXR0aW5nIHRoaXMgdG8gZmFsc2UgYWxsb3dzIFBpeGlKUyB0byBieXBhc3MgYSByZWN1cnNpdmUgYGhpdFRlc3RgIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkNvbnRhaW5lciNcbiAgICAgKi9cbiAgICBpbnRlcmFjdGl2ZUNoaWxkcmVuOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogSW50ZXJhY3Rpb24gc2hhcGUuIENoaWxkcmVuIHdpbGwgYmUgaGl0IGZpcnN0LCB0aGVuIHRoaXMgc2hhcGUgd2lsbCBiZSBjaGVja2VkLlxuICAgICAqIFNldHRpbmcgdGhpcyB3aWxsIGNhdXNlIHRoaXMgc2hhcGUgdG8gYmUgY2hlY2tlZCBpbiBoaXQgdGVzdHMgcmF0aGVyIHRoYW4gdGhlIGRpc3BsYXlPYmplY3QncyBib3VuZHMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAqIHNwcml0ZS5oaXRBcmVhID0gbmV3IFBJWEkuUmVjdGFuZ2xlKDAsIDAsIDEwMCwgMTAwKTtcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZXxQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUm91bmRlZFJlY3RhbmdsZX1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGhpdEFyZWE6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBJZiBlbmFibGVkLCB0aGUgbW91c2UgY3Vyc29yIHVzZSB0aGUgcG9pbnRlciBiZWhhdmlvciB3aGVuIGhvdmVyZWQgb3ZlciB0aGUgZGlzcGxheU9iamVjdCBpZiBpdCBpcyBpbnRlcmFjdGl2ZVxuICAgICAqIFNldHRpbmcgdGhpcyBjaGFuZ2VzIHRoZSAnY3Vyc29yJyBwcm9wZXJ0eSB0byBgJ3BvaW50ZXInYC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICogc3ByaXRlLmJ1dHRvbk1vZGUgPSB0cnVlO1xuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBnZXQgYnV0dG9uTW9kZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJzb3IgPT09ICdwb2ludGVyJztcbiAgICB9LFxuICAgIHNldCBidXR0b25Nb2RlKHZhbHVlKVxuICAgIHtcbiAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmN1cnNvciA9ICdwb2ludGVyJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnNvciA9PT0gJ3BvaW50ZXInKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhpcyBkZWZpbmVzIHdoYXQgY3Vyc29yIG1vZGUgaXMgdXNlZCB3aGVuIHRoZSBtb3VzZSBjdXJzb3JcbiAgICAgKiBpcyBob3ZlcmVkIG92ZXIgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAqIHNwcml0ZS5jdXJzb3IgPSAnd2FpdCc7XG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9DU1MvY3Vyc29yXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBjdXJzb3I6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBzZXQgb2YgYWxsIGFjdGl2ZSBwb2ludGVycywgYnkgaWRlbnRpZmllclxuICAgICAqXG4gICAgICogQG1lbWJlciB7TWFwPG51bWJlciwgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE+fVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXQgdHJhY2tlZFBvaW50ZXJzKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl90cmFja2VkUG9pbnRlcnMgPT09IHVuZGVmaW5lZCkgdGhpcy5fdHJhY2tlZFBvaW50ZXJzID0ge307XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYWNrZWRQb2ludGVycztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWFwIG9mIGFsbCB0cmFja2VkIHBvaW50ZXJzLCBieSBpZGVudGlmaWVyLiBVc2UgdHJhY2tlZFBvaW50ZXJzIHRvIGFjY2Vzcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge01hcDxudW1iZXIsIEludGVyYWN0aW9uVHJhY2tpbmdEYXRhPn1cbiAgICAgKi9cbiAgICBfdHJhY2tlZFBvaW50ZXJzOiB1bmRlZmluZWQsXG59O1xuIiwiaW1wb3J0IHsgVGlja2VyLCBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCBJbnRlcmFjdGlvbkRhdGEgZnJvbSAnLi9JbnRlcmFjdGlvbkRhdGEnO1xuaW1wb3J0IEludGVyYWN0aW9uRXZlbnQgZnJvbSAnLi9JbnRlcmFjdGlvbkV2ZW50JztcbmltcG9ydCBJbnRlcmFjdGlvblRyYWNraW5nRGF0YSBmcm9tICcuL0ludGVyYWN0aW9uVHJhY2tpbmdEYXRhJztcbmltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCBpbnRlcmFjdGl2ZVRhcmdldCBmcm9tICcuL2ludGVyYWN0aXZlVGFyZ2V0JztcblxuLy8gTWl4IGludGVyYWN0aXZlVGFyZ2V0IGludG8gRGlzcGxheU9iamVjdC5wcm90b3R5cGUsXG4vLyBhZnRlciBkZXByZWNhdGlvbiBoYXMgYmVlbiBoYW5kbGVkXG5EaXNwbGF5T2JqZWN0Lm1peGluKGludGVyYWN0aXZlVGFyZ2V0KTtcblxuY29uc3QgTU9VU0VfUE9JTlRFUl9JRCA9IDE7XG5cbi8vIGhlbHBlcnMgZm9yIGhpdFRlc3QoKSAtIG9ubHkgdXNlZCBpbnNpZGUgaGl0VGVzdCgpXG5jb25zdCBoaXRUZXN0RXZlbnQgPSB7XG4gICAgdGFyZ2V0OiBudWxsLFxuICAgIGRhdGE6IHtcbiAgICAgICAgZ2xvYmFsOiBudWxsLFxuICAgIH0sXG59O1xuXG4vKipcbiAqIFRoZSBpbnRlcmFjdGlvbiBtYW5hZ2VyIGRlYWxzIHdpdGggbW91c2UsIHRvdWNoIGFuZCBwb2ludGVyIGV2ZW50cy5cbiAqXG4gKiBBbnkgRGlzcGxheU9iamVjdCBjYW4gYmUgaW50ZXJhY3RpdmUgaWYgaXRzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgaXMgc2V0IHRvIHRydWUuXG4gKlxuICogVGhpcyBtYW5hZ2VyIGFsc28gc3VwcG9ydHMgbXVsdGl0b3VjaC5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IGByZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS51dGlscy5FdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludGVyYWN0aW9uTWFuYWdlciBleHRlbmRzIEV2ZW50RW1pdHRlclxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5DYW52YXNSZW5kZXJlcnxQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IHJlbmRlcmVyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdD10cnVlXSAtIFNob3VsZCB0aGUgbWFuYWdlciBhdXRvbWF0aWNhbGx5IHByZXZlbnQgZGVmYXVsdCBicm93c2VyIGFjdGlvbnMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmludGVyYWN0aW9uRnJlcXVlbmN5PTEwXSAtIEZyZXF1ZW5jeSBpbmNyZWFzZXMgdGhlIGludGVyYWN0aW9uIGV2ZW50cyB3aWxsIGJlIGNoZWNrZWQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVuZGVyZXIsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVuZGVyZXIgdGhpcyBpbnRlcmFjdGlvbiBtYW5hZ2VyIHdvcmtzIGZvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5BYnN0cmFjdFJlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG91bGQgZGVmYXVsdCBicm93c2VyIGFjdGlvbnMgYXV0b21hdGljYWxseSBiZSBwcmV2ZW50ZWQuXG4gICAgICAgICAqIERvZXMgbm90IGFwcGx5IHRvIHBvaW50ZXIgZXZlbnRzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICAgICAgICAgKiBwcmV2ZW50RGVmYXVsdCBvbiBwb2ludGVyIGV2ZW50cyBzdG9wcyBtb3VzZSBldmVudHMgZnJvbSBmaXJpbmdcbiAgICAgICAgICogVGh1cywgZm9yIGV2ZXJ5IHBvaW50ZXIgZXZlbnQsIHRoZXJlIHdpbGwgYWx3YXlzIGJlIGVpdGhlciBhIG1vdXNlIG9mIHRvdWNoIGV2ZW50IGFsb25nc2lkZSBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvUHJldmVudERlZmF1bHQgPSBvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5hdXRvUHJldmVudERlZmF1bHQgOiB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGcmVxdWVuY3kgaW4gbWlsbGlzZWNvbmRzIHRoYXQgdGhlIG1vdXNlbW92ZSwgbW91c2VvdmVyICYgbW91c2VvdXQgaW50ZXJhY3Rpb24gZXZlbnRzIHdpbGwgYmUgY2hlY2tlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSA9IG9wdGlvbnMuaW50ZXJhY3Rpb25GcmVxdWVuY3kgfHwgMTA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtb3VzZSBkYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25EYXRhfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tb3VzZSA9IG5ldyBJbnRlcmFjdGlvbkRhdGEoKTtcbiAgICAgICAgdGhpcy5tb3VzZS5pZGVudGlmaWVyID0gTU9VU0VfUE9JTlRFUl9JRDtcblxuICAgICAgICAvLyBzZXR0aW5nIHRoZSBtb3VzZSB0byBzdGFydCBvZmYgZmFyIG9mZiBzY3JlZW4gd2lsbCBtZWFuIHRoYXQgbW91c2Ugb3ZlciBkb2VzXG4gICAgICAgIC8vICBub3QgZ2V0IGNhbGxlZCBiZWZvcmUgd2UgZXZlbiBtb3ZlIHRoZSBtb3VzZS5cbiAgICAgICAgdGhpcy5tb3VzZS5nbG9iYWwuc2V0KC05OTk5OTkpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmVseSB0cmFja2VkIEludGVyYWN0aW9uRGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3QuPG51bWJlcixQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YT59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YSA9IHt9O1xuICAgICAgICB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtNT1VTRV9QT0lOVEVSX0lEXSA9IHRoaXMubW91c2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgdW51c2VkIEludGVyYWN0aW9uRGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRhdGFQb29sID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGV2ZW50IGRhdGEgb2JqZWN0IHRvIGhhbmRsZSBhbGwgdGhlIGV2ZW50IHRyYWNraW5nL2Rpc3BhdGNoaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXZlbnREYXRhID0gbmV3IEludGVyYWN0aW9uRXZlbnQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIERPTSBlbGVtZW50IHRvIGJpbmQgdG8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgcHJvcGVydHkgZGV0ZXJtaW5lcyBpZiBtb3VzZW1vdmUgYW5kIHRvdWNobW92ZSBldmVudHMgYXJlIGZpcmVkIG9ubHkgd2hlbiB0aGUgY3Vyc29yXG4gICAgICAgICAqIGlzIG92ZXIgdGhlIG9iamVjdC5cbiAgICAgICAgICogU2V0dGluZyB0byB0cnVlIHdpbGwgbWFrZSB0aGluZ3Mgd29yayBtb3JlIGluIGxpbmUgd2l0aCBob3cgdGhlIERPTSB2ZXJzaW9uIHdvcmtzLlxuICAgICAgICAgKiBTZXR0aW5nIHRvIGZhbHNlIGNhbiBtYWtlIHRoaW5ncyBlYXNpZXIgZm9yIHRoaW5ncyBsaWtlIGRyYWdnaW5nXG4gICAgICAgICAqIEl0IGlzIGN1cnJlbnRseSBzZXQgdG8gZmFsc2UgYXMgdGhpcyBpcyBob3cgUGl4aUpTIHVzZWQgdG8gd29yay4gVGhpcyB3aWxsIGJlIHNldCB0byB0cnVlIGluXG4gICAgICAgICAqIGZ1dHVyZSB2ZXJzaW9ucyBvZiBwaXhpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tb3ZlV2hlbkluc2lkZSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYXZlIGV2ZW50cyBiZWVuIGF0dGFjaGVkIHRvIHRoZSBkb20gZWxlbWVudD9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ldmVudHNBZGRlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGUgbW91c2UgaG92ZXJpbmcgb3ZlciB0aGUgcmVuZGVyZXI/XG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubW91c2VPdmVyUmVuZGVyZXIgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRG9lcyB0aGUgZGV2aWNlIHN1cHBvcnQgdG91Y2ggZXZlbnRzXG4gICAgICAgICAqIGh0dHBzOi8vd3d3LnczLm9yZy9UUi90b3VjaC1ldmVudHMvXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCBwb2ludGVyIGV2ZW50c1xuICAgICAgICAgKiBodHRwczovL3d3dy53My5vcmcvU3VibWlzc2lvbi9wb2ludGVyLWV2ZW50cy9cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyA9ICEhd2luZG93LlBvaW50ZXJFdmVudDtcblxuICAgICAgICAvLyB0aGlzIHdpbGwgbWFrZSBpdCBzbyB0aGF0IHlvdSBkb24ndCBoYXZlIHRvIGNhbGwgYmluZCBhbGwgdGhlIHRpbWVcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUG9pbnRlclVwID0gdGhpcy5vblBvaW50ZXJVcC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyVXAgPSB0aGlzLnByb2Nlc3NQb2ludGVyVXAuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUG9pbnRlckNhbmNlbCA9IHRoaXMub25Qb2ludGVyQ2FuY2VsLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwgPSB0aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblBvaW50ZXJEb3duID0gdGhpcy5vblBvaW50ZXJEb3duLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJEb3duID0gdGhpcy5wcm9jZXNzUG9pbnRlckRvd24uYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUG9pbnRlck1vdmUgPSB0aGlzLm9uUG9pbnRlck1vdmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck1vdmUgPSB0aGlzLnByb2Nlc3NQb2ludGVyTW92ZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Qb2ludGVyT3V0ID0gdGhpcy5vblBvaW50ZXJPdXQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQgPSB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Qb2ludGVyT3ZlciA9IHRoaXMub25Qb2ludGVyT3Zlci5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaWN0aW9uYXJ5IG9mIGhvdyBkaWZmZXJlbnQgY3Vyc29yIG1vZGVzIGFyZSBoYW5kbGVkLiBTdHJpbmdzIGFyZSBoYW5kbGVkIGFzIENTUyBjdXJzb3JcbiAgICAgICAgICogdmFsdWVzLCBvYmplY3RzIGFyZSBoYW5kbGVkIGFzIGRpY3Rpb25hcmllcyBvZiBDU1MgdmFsdWVzIGZvciBpbnRlcmFjdGlvbkRPTUVsZW1lbnQsXG4gICAgICAgICAqIGFuZCBmdW5jdGlvbnMgYXJlIGNhbGxlZCBpbnN0ZWFkIG9mIGNoYW5naW5nIHRoZSBDU1MuXG4gICAgICAgICAqIERlZmF1bHQgQ1NTIGN1cnNvciB2YWx1ZXMgYXJlIHByb3ZpZGVkIGZvciAnZGVmYXVsdCcgYW5kICdwb2ludGVyJyBtb2Rlcy5cbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0LjxzdHJpbmcsIE9iamVjdD59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnNvclN0eWxlcyA9IHtcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdpbmhlcml0JyxcbiAgICAgICAgICAgIHBvaW50ZXI6ICdwb2ludGVyJyxcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vZGUgb2YgdGhlIGN1cnNvciB0aGF0IGlzIGJlaW5nIHVzZWQuXG4gICAgICAgICAqIFRoZSB2YWx1ZSBvZiB0aGlzIGlzIGEga2V5IGZyb20gdGhlIGN1cnNvclN0eWxlcyBkaWN0aW9uYXJ5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnJlbnRDdXJzb3JNb2RlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgY2FjaGVkIGxldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJzb3IgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCBjYWNoZWQgbGV0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5XG4gICAgICAgICAqIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHRkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXlcbiAgICAgICAgICogb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2V1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHR1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvblxuICAgICAgICAgKiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0Y2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGVcbiAgICAgICAgICogZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFttb3VzZWRvd25de0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50Om1vdXNlZG93bn0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZXVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbcmlnaHRkb3duXXtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNldmVudDpyaWdodGRvd259LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHR1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2Vtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcmRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIE5vdCBhbHdheXMgZmlyZWQgd2hlbiBzb21lIGJ1dHRvbnMgYXJlIGhlbGQgZG93biB3aGlsZSBvdGhlcnMgYXJlIHJlbGVhc2VkLiBJbiB0aG9zZSBjYXNlcyxcbiAgICAgICAgICogdXNlIFttb3VzZWRvd25de0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50Om1vdXNlZG93bn0gYW5kXG4gICAgICAgICAqIFttb3VzZXVwXXtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNldmVudDptb3VzZXVwfSBpbnN0ZWFkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcnVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSBwb2ludGVyIGV2ZW50XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJ0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFtwb2ludGVyZG93bl17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6cG9pbnRlcmRvd259LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVybW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9udG8gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVyb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hzdGFydFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaGVuZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgdG91Y2hcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIGFuZCByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBvdXRzaWRlIG9mIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3RvdWNoc3RhcnRde0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50OnRvdWNoc3RhcnR9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hlbmRvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgbW92ZWQgYWxvbmcgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2htb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXkuXG4gICAgICAgICAqIG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2Vkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcHJlc3NlZFxuICAgICAgICAgKiBvbiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0ZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5XG4gICAgICAgICAqIG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2V1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodHVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uXG4gICAgICAgICAqIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjY2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIGFuZCByZWxlYXNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0Y2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGVcbiAgICAgICAgICogZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFttb3VzZWRvd25de0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDptb3VzZWRvd259LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZXVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbcmlnaHRkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6cmlnaHRkb3dufS5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHR1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2Vtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNlb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSBwb2ludGVyIGV2ZW50LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcnRhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3BvaW50ZXJkb3duXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6cG9pbnRlcmRvd259LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVydXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcm91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoc3RhcnRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGVuZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgb3BlcmF0aW5nIHN5c3RlbSBjYW5jZWxzIGEgdG91Y2guXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoY2FuY2VsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIGFuZCByZW1vdmVkIGZyb20gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIG91dHNpZGUgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbdG91Y2hzdGFydF17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50OnRvdWNoc3RhcnR9LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCN0b3VjaGVuZG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBtb3ZlZCBhbG9uZyB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNobW92ZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICB0aGlzLnNldFRhcmdldEVsZW1lbnQodGhpcy5yZW5kZXJlci52aWV3LCB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhpdCB0ZXN0cyBhIHBvaW50IGFnYWluc3QgdGhlIGRpc3BsYXkgdHJlZSwgcmV0dXJuaW5nIHRoZSBmaXJzdCBpbnRlcmFjdGl2ZSBvYmplY3QgdGhhdCBpcyBoaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IGdsb2JhbFBvaW50IC0gQSBwb2ludCB0byBoaXQgdGVzdCB3aXRoLCBpbiBnbG9iYWwgc3BhY2UuXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gW3Jvb3RdIC0gVGhlIHJvb3QgZGlzcGxheSBvYmplY3QgdG8gc3RhcnQgZnJvbS4gSWYgb21pdHRlZCwgZGVmYXVsdHNcbiAgICAgKiB0byB0aGUgbGFzdCByZW5kZXJlZCByb290IG9mIHRoZSBhc3NvY2lhdGVkIHJlbmRlcmVyLlxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGhpdCBkaXNwbGF5IG9iamVjdCwgaWYgYW55LlxuICAgICAqL1xuICAgIGhpdFRlc3QoZ2xvYmFsUG9pbnQsIHJvb3QpXG4gICAge1xuICAgICAgICAvLyBjbGVhciB0aGUgdGFyZ2V0IGZvciBvdXIgaGl0IHRlc3RcbiAgICAgICAgaGl0VGVzdEV2ZW50LnRhcmdldCA9IG51bGw7XG4gICAgICAgIC8vIGFzc2lnbiB0aGUgZ2xvYmFsIHBvaW50XG4gICAgICAgIGhpdFRlc3RFdmVudC5kYXRhLmdsb2JhbCA9IGdsb2JhbFBvaW50O1xuICAgICAgICAvLyBlbnN1cmUgc2FmZXR5IG9mIHRoZSByb290XG4gICAgICAgIGlmICghcm9vdClcbiAgICAgICAge1xuICAgICAgICAgICAgcm9vdCA9IHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBydW4gdGhlIGhpdCB0ZXN0XG4gICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGhpdFRlc3RFdmVudCwgcm9vdCwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgIC8vIHJldHVybiBvdXIgZm91bmQgb2JqZWN0IC0gaXQnbGwgYmUgbnVsbCBpZiB3ZSBkaWRuJ3QgaGl0IGFueXRoaW5nXG5cbiAgICAgICAgcmV0dXJuIGhpdFRlc3RFdmVudC50YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgRE9NIGVsZW1lbnQgd2hpY2ggd2lsbCByZWNlaXZlIG1vdXNlL3RvdWNoIGV2ZW50cy4gVGhpcyBpcyB1c2VmdWwgZm9yIHdoZW4geW91IGhhdmVcbiAgICAgKiBvdGhlciBET00gZWxlbWVudHMgb24gdG9wIG9mIHRoZSByZW5kZXJlcnMgQ2FudmFzIGVsZW1lbnQuIFdpdGggdGhpcyB5b3UnbGwgYmUgYmFsZSB0byBkZWxlZ2F0ZVxuICAgICAqIGFub3RoZXIgRE9NIGVsZW1lbnQgdG8gcmVjZWl2ZSB0aG9zZSBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBlbGVtZW50IC0gdGhlIERPTSBlbGVtZW50IHdoaWNoIHdpbGwgcmVjZWl2ZSBtb3VzZSBhbmQgdG91Y2ggZXZlbnRzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBuZXcgZWxlbWVudCAocmVsYXRpdmUgdG8gdGhlIGNhbnZhcykuXG4gICAgICovXG4gICAgc2V0VGFyZ2V0RWxlbWVudChlbGVtZW50LCByZXNvbHV0aW9uID0gMSlcbiAgICB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRzKCk7XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG5cbiAgICAgICAgdGhpcy5hZGRFdmVudHMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYWxsIHRoZSBET00gZXZlbnRzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGFkZEV2ZW50cygpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBUaWNrZXIuc3lzdGVtLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcywgVVBEQVRFX1BSSU9SSVRZLklOVEVSQUNUSU9OKTtcblxuICAgICAgICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsnLW1zLWNvbnRlbnQtem9vbWluZyddID0gJ25vbmUnO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJy1tcy10b3VjaC1hY3Rpb24nXSA9ICdub25lJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJ3RvdWNoLWFjdGlvbiddID0gJ25vbmUnO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZXNlIGV2ZW50cyBhcmUgYWRkZWQgZmlyc3QsIHNvIHRoYXQgaWYgcG9pbnRlciBldmVudHMgYXJlIG5vcm1hbGl6ZWQsIHRoZXkgYXJlIGZpcmVkXG4gICAgICAgICAqIGluIHRoZSBzYW1lIG9yZGVyIGFzIG5vbi1ub3JtYWxpemVkIGV2ZW50cy4gaWUuIHBvaW50ZXIgZXZlbnQgMXN0LCBtb3VzZSAvIHRvdWNoIDJuZFxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgLy8gcG9pbnRlcm91dCBpcyBmaXJlZCBpbiBhZGRpdGlvbiB0byBwb2ludGVydXAgKGZvciB0b3VjaCBldmVudHMpIGFuZCBwb2ludGVyY2FuY2VsXG4gICAgICAgICAgICAvLyB3ZSBhbHJlYWR5IGhhbmRsZSB0aG9zZSwgc28gZm9yIHRoZSBwdXJwb3NlcyBvZiB3aGF0IHdlIGRvIGluIG9uUG9pbnRlck91dCwgd2Ugb25seVxuICAgICAgICAgICAgLy8gY2FyZSBhYm91dCB0aGUgcG9pbnRlcmxlYXZlIGV2ZW50XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhbHdheXMgbG9vayBkaXJlY3RseSBmb3IgdG91Y2ggZXZlbnRzIHNvIHRoYXQgd2UgY2FuIHByb3ZpZGUgb3JpZ2luYWwgZGF0YVxuICAgICAgICAvLyBJbiBhIGZ1dHVyZSB2ZXJzaW9uIHdlIHNob3VsZCBjaGFuZ2UgdGhpcyB0byBiZWluZyBqdXN0IGEgZmFsbGJhY2sgYW5kIHJlbHkgc29sZWx5IG9uXG4gICAgICAgIC8vIFBvaW50ZXJFdmVudHMgd2hlbmV2ZXIgYXZhaWxhYmxlXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZXZlbnRzQWRkZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHRoZSBET00gZXZlbnRzIHRoYXQgd2VyZSBwcmV2aW91c2x5IHJlZ2lzdGVyZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcmVtb3ZlRXZlbnRzKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIFRpY2tlci5zeXN0ZW0ucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcblxuICAgICAgICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsnLW1zLWNvbnRlbnQtem9vbWluZyddID0gJyc7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZVsnLW1zLXRvdWNoLWFjdGlvbiddID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyd0b3VjaC1hY3Rpb24nXSA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCB0aGlzLm9uUG9pbnRlckRvd24sIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZXZlbnRzQWRkZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBzdGF0ZSBvZiBpbnRlcmFjdGl2ZSBvYmplY3RzLlxuICAgICAqIEludm9rZWQgYnkgYSB0aHJvdHRsZWQgdGlja2VyIHVwZGF0ZSBmcm9tIHtAbGluayBQSVhJLlRpY2tlci5zeXN0ZW19LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAtIHRpbWUgZGVsdGEgc2luY2UgbGFzdCB0aWNrXG4gICAgICovXG4gICAgdXBkYXRlKGRlbHRhVGltZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2RlbHRhVGltZSArPSBkZWx0YVRpbWU7XG5cbiAgICAgICAgaWYgKHRoaXMuX2RlbHRhVGltZSA8IHRoaXMuaW50ZXJhY3Rpb25GcmVxdWVuY3kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2RlbHRhVGltZSA9IDA7XG5cbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhlIHVzZXIgbW92ZSB0aGUgbW91c2UgdGhpcyBjaGVjayBoYXMgYWxyZWFkeSBiZWVuIGRvbmUgdXNpbmcgdGhlIG1vdXNlIG1vdmUhXG4gICAgICAgIGlmICh0aGlzLmRpZE1vdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlkTW92ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG5cbiAgICAgICAgLy8gUmVzZXRzIHRoZSBmbGFnIGFzIHNldCBieSBhIHN0b3BQcm9wYWdhdGlvbiBjYWxsLiBUaGlzIGZsYWcgaXMgdXN1YWxseSByZXNldCBieSBhIHVzZXIgaW50ZXJhY3Rpb24gb2YgYW55IGtpbmQsXG4gICAgICAgIC8vIGJ1dCB0aGVyZSB3YXMgYSBzY2VuYXJpbyBvZiBhIGRpc3BsYXkgb2JqZWN0IG1vdmluZyB1bmRlciBhIHN0YXRpYyBtb3VzZSBjdXJzb3IuXG4gICAgICAgIC8vIEluIHRoaXMgY2FzZSwgbW91c2VvdmVyIGFuZCBtb3VzZWV2ZW50cyB3b3VsZCBub3QgcGFzcyB0aGUgZmxhZyB0ZXN0IGluIGRpc3BhdGNoRXZlbnQgZnVuY3Rpb25cbiAgICAgICAgZm9yIChjb25zdCBrIGluIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGEuaGFzT3duUHJvcGVydHkoaykpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFba107XG5cbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQgJiYgaW50ZXJhY3Rpb25EYXRhLnBvaW50ZXJUeXBlICE9PSAndG91Y2gnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudERhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEub3JpZ2luYWxFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YVxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0Q3Vyc29yTW9kZSh0aGlzLmN1cnNvcik7XG5cbiAgICAgICAgLy8gVE9ET1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgY3Vyc29yIG1vZGUsIGhhbmRsaW5nIGFueSBjYWxsYmFja3Mgb3IgQ1NTIHN0eWxlIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbW9kZSAtIGN1cnNvciBtb2RlLCBhIGtleSBmcm9tIHRoZSBjdXJzb3JTdHlsZXMgZGljdGlvbmFyeVxuICAgICAqL1xuICAgIHNldEN1cnNvck1vZGUobW9kZSlcbiAgICB7XG4gICAgICAgIG1vZGUgPSBtb2RlIHx8ICdkZWZhdWx0JztcbiAgICAgICAgLy8gaWYgdGhlIG1vZGUgZGlkbid0IGFjdHVhbGx5IGNoYW5nZSwgYmFpbCBlYXJseVxuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9PT0gbW9kZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudEN1cnNvck1vZGUgPSBtb2RlO1xuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuY3Vyc29yU3R5bGVzW21vZGVdO1xuXG4gICAgICAgIC8vIG9ubHkgZG8gdGhpbmdzIGlmIHRoZXJlIGlzIGEgY3Vyc29yIHN0eWxlIGZvciBpdFxuICAgICAgICBpZiAoc3R5bGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHN0eWxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0cmluZyBzdHlsZXMgYXJlIGhhbmRsZWQgYXMgY3Vyc29yIENTU1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZS5jdXJzb3IgPSBzdHlsZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgICAgICAgICAvLyBmdW5jdGlvbnMgYXJlIGp1c3QgY2FsbGVkLCBhbmQgcGFzc2VkIHRoZSBjdXJzb3IgbW9kZVxuICAgICAgICAgICAgICAgICAgICBzdHlsZShtb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXQgaXMgYW4gb2JqZWN0LCBhc3N1bWUgdGhhdCBpdCBpcyBhIGRpY3Rpb25hcnkgb2YgQ1NTIHN0eWxlcyxcbiAgICAgICAgICAgICAgICAgICAgLy8gYXBwbHkgaXQgdG8gdGhlIGludGVyYWN0aW9uRE9NRWxlbWVudFxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLCBzdHlsZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBtb2RlID09PSAnc3RyaW5nJyAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuY3Vyc29yU3R5bGVzLCBtb2RlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgaXQgbW9kZSBpcyBhIHN0cmluZyAobm90IGEgU3ltYm9sKSBhbmQgY3Vyc29yU3R5bGVzIGRvZXNuJ3QgaGF2ZSBhbnkgZW50cnlcbiAgICAgICAgICAgIC8vIGZvciB0aGUgbW9kZSwgdGhlbiBhc3N1bWUgdGhhdCB0aGUgZGV2IHdhbnRzIGl0IHRvIGJlIENTUyBmb3IgdGhlIGN1cnNvci5cbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlLmN1cnNvciA9IG1vZGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNwYXRjaGVzIGFuIGV2ZW50IG9uIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyBpbnRlcmFjdGVkIHdpdGhcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheSBvYmplY3QgaW4gcXVlc3Rpb25cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRTdHJpbmcgLSB0aGUgbmFtZSBvZiB0aGUgZXZlbnQgKGUuZywgbW91c2Vkb3duKVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudERhdGEgLSB0aGUgZXZlbnQgZGF0YSBvYmplY3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSlcbiAgICB7XG4gICAgICAgIGlmICghZXZlbnREYXRhLnN0b3BwZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGV2ZW50RGF0YS5jdXJyZW50VGFyZ2V0ID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgICAgIGV2ZW50RGF0YS50eXBlID0gZXZlbnRTdHJpbmc7XG5cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QuZW1pdChldmVudFN0cmluZywgZXZlbnREYXRhKTtcblxuICAgICAgICAgICAgaWYgKGRpc3BsYXlPYmplY3RbZXZlbnRTdHJpbmddKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3RbZXZlbnRTdHJpbmddKGV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYXBzIHggYW5kIHkgY29vcmRzIGZyb20gYSBET00gb2JqZWN0IGFuZCBtYXBzIHRoZW0gY29ycmVjdGx5IHRvIHRoZSBQaXhpSlMgdmlldy4gVGhlXG4gICAgICogcmVzdWx0aW5nIHZhbHVlIGlzIHN0b3JlZCBpbiB0aGUgcG9pbnQuIFRoaXMgdGFrZXMgaW50byBhY2NvdW50IHRoZSBmYWN0IHRoYXQgdGhlIERPTVxuICAgICAqIGVsZW1lbnQgY291bGQgYmUgc2NhbGVkIGFuZCBwb3NpdGlvbmVkIGFueXdoZXJlIG9uIHRoZSBzY3JlZW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtQSVhJLlBvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0aGF0IHRoZSByZXN1bHQgd2lsbCBiZSBzdG9yZWQgaW5cbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHggLSB0aGUgeCBjb29yZCBvZiB0aGUgcG9zaXRpb24gdG8gbWFwXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSB5IC0gdGhlIHkgY29vcmQgb2YgdGhlIHBvc2l0aW9uIHRvIG1hcFxuICAgICAqL1xuICAgIG1hcFBvc2l0aW9uVG9Qb2ludChwb2ludCwgeCwgeSlcbiAgICB7XG4gICAgICAgIGxldCByZWN0O1xuXG4gICAgICAgIC8vIElFIDExIGZpeFxuICAgICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnBhcmVudEVsZW1lbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlY3QgPSB7IHg6IDAsIHk6IDAsIHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc29sdXRpb25NdWx0aXBsaWVyID0gMS4wIC8gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIHBvaW50LnggPSAoKHggLSByZWN0LmxlZnQpICogKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LndpZHRoIC8gcmVjdC53aWR0aCkpICogcmVzb2x1dGlvbk11bHRpcGxpZXI7XG4gICAgICAgIHBvaW50LnkgPSAoKHkgLSByZWN0LnRvcCkgKiAodGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuaGVpZ2h0IC8gcmVjdC5oZWlnaHQpKSAqIHJlc29sdXRpb25NdWx0aXBsaWVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgcHJvdmlkZXMgYSBuZWF0IHdheSBvZiBjcmF3bGluZyB0aHJvdWdoIHRoZSBzY2VuZSBncmFwaCBhbmQgcnVubmluZyBhXG4gICAgICogc3BlY2lmaWVkIGZ1bmN0aW9uIG9uIGFsbCBpbnRlcmFjdGl2ZSBvYmplY3RzIGl0IGZpbmRzLiBJdCB3aWxsIGFsc28gdGFrZSBjYXJlIG9mIGhpdFxuICAgICAqIHRlc3RpbmcgdGhlIGludGVyYWN0aXZlIG9iamVjdHMgYW5kIHBhc3NlcyB0aGUgaGl0IGFjcm9zcyBpbiB0aGUgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBldmVudCBjb250YWluaW5nIHRoZSBwb2ludCB0aGF0XG4gICAgICogIGlzIHRlc3RlZCBmb3IgY29sbGlzaW9uXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5T2JqZWN0XG4gICAgICogIHRoYXQgd2lsbCBiZSBoaXQgdGVzdCAocmVjdXJzaXZlbHkgY3Jhd2xzIGl0cyBjaGlsZHJlbilcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZnVuY10gLSB0aGUgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBvbiBlYWNoIGludGVyYWN0aXZlIG9iamVjdC4gVGhlXG4gICAgICogIGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QgYW5kIGhpdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtoaXRUZXN0XSAtIHRoaXMgaW5kaWNhdGVzIGlmIHRoZSBvYmplY3RzIGluc2lkZSBzaG91bGQgYmUgaGl0IHRlc3QgYWdhaW5zdCB0aGUgcG9pbnRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbnRlcmFjdGl2ZV0gLSBXaGV0aGVyIHRoZSBkaXNwbGF5T2JqZWN0IGlzIGludGVyYWN0aXZlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gcmV0dXJucyB0cnVlIGlmIHRoZSBkaXNwbGF5T2JqZWN0IGhpdCB0aGUgcG9pbnRcbiAgICAgKi9cbiAgICBwcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgZnVuYywgaGl0VGVzdCwgaW50ZXJhY3RpdmUpXG4gICAge1xuICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QgfHwgIWRpc3BsYXlPYmplY3QudmlzaWJsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcG9pbnQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuZ2xvYmFsO1xuXG4gICAgICAgIC8vIFRvb2sgYSBsaXR0bGUgd2hpbGUgdG8gcmV3b3JrIHRoaXMgZnVuY3Rpb24gY29ycmVjdGx5ISBCdXQgbm93IGl0IGlzIGRvbmUgYW5kIG5pY2UgYW5kIG9wdGltaXplZCEgXl9eXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gd2lsbCBub3cgbG9vcCB0aHJvdWdoIGFsbCBvYmplY3RzIGFuZCB0aGVuIG9ubHkgaGl0IHRlc3QgdGhlIG9iamVjdHMgaXQgSEFTXG4gICAgICAgIC8vIHRvLCBub3QgYWxsIG9mIHRoZW0uIE1VQ0ggZmFzdGVyLi5cbiAgICAgICAgLy8gQW4gb2JqZWN0IHdpbGwgYmUgaGl0IHRlc3QgaWYgdGhlIGZvbGxvd2luZyBpcyB0cnVlOlxuICAgICAgICAvL1xuICAgICAgICAvLyAxOiBJdCBpcyBpbnRlcmFjdGl2ZS5cbiAgICAgICAgLy8gMjogSXQgYmVsb25ncyB0byBhIHBhcmVudCB0aGF0IGlzIGludGVyYWN0aXZlIEFORCBvbmUgb2YgdGhlIHBhcmVudHMgY2hpbGRyZW4gaGF2ZSBub3QgYWxyZWFkeSBiZWVuIGhpdC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gQXMgYW5vdGhlciBsaXR0bGUgb3B0aW1pemF0aW9uIG9uY2UgYW4gaW50ZXJhY3RpdmUgb2JqZWN0IGhhcyBiZWVuIGhpdCB3ZSBjYW4gY2Fycnkgb25cbiAgICAgICAgLy8gdGhyb3VnaCB0aGUgc2NlbmVncmFwaCwgYnV0IHdlIGtub3cgdGhhdCB0aGVyZSB3aWxsIGJlIG5vIG1vcmUgaGl0cyEgU28gd2UgY2FuIGF2b2lkIGV4dHJhIGhpdCB0ZXN0c1xuICAgICAgICAvLyBBIGZpbmFsIG9wdGltaXphdGlvbiBpcyB0aGF0IGFuIG9iamVjdCBpcyBub3QgaGl0IHRlc3QgZGlyZWN0bHkgaWYgYSBjaGlsZCBoYXMgYWxyZWFkeSBiZWVuIGhpdC5cblxuICAgICAgICBpbnRlcmFjdGl2ZSA9IGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmUgfHwgaW50ZXJhY3RpdmU7XG5cbiAgICAgICAgbGV0IGhpdCA9IGZhbHNlO1xuICAgICAgICBsZXQgaW50ZXJhY3RpdmVQYXJlbnQgPSBpbnRlcmFjdGl2ZTtcblxuICAgICAgICAvLyBGbGFnIGhlcmUgY2FuIHNldCB0byBmYWxzZSBpZiB0aGUgZXZlbnQgaXMgb3V0c2lkZSB0aGUgcGFyZW50cyBoaXRBcmVhIG9yIG1hc2tcbiAgICAgICAgbGV0IGhpdFRlc3RDaGlsZHJlbiA9IHRydWU7XG5cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBoaXRBcmVhLCBubyBuZWVkIHRvIHRlc3QgYWdhaW5zdCBhbnl0aGluZyBlbHNlIGlmIHRoZSBwb2ludGVyIGlzIG5vdCB3aXRoaW4gdGhlIGhpdEFyZWFcbiAgICAgICAgLy8gVGhlcmUgaXMgYWxzbyBubyBsb25nZXIgYSBuZWVkIHRvIGhpdFRlc3QgY2hpbGRyZW4uXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmhpdEFyZWEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChoaXRUZXN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3Qud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0aGlzLl90ZW1wUG9pbnQpO1xuICAgICAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5oaXRBcmVhLmNvbnRhaW5zKHRoaXMuX3RlbXBQb2ludC54LCB0aGlzLl90ZW1wUG9pbnQueSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBoaXRUZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGhpdFRlc3RDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGludGVyYWN0aXZlUGFyZW50ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBtYXNrLCBubyBuZWVkIHRvIGhpdFRlc3QgYWdhaW5zdCBhbnl0aGluZyBlbHNlIGlmIHRoZSBwb2ludGVyIGlzIG5vdCB3aXRoaW4gdGhlIG1hc2suXG4gICAgICAgIC8vIFdlIHN0aWxsIHdhbnQgdG8gaGl0VGVzdENoaWxkcmVuLCBob3dldmVyLCB0byBlbnN1cmUgYSBtb3VzZW91dCBjYW4gc3RpbGwgYmUgZ2VuZXJhdGVkLlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGkuanMvaXNzdWVzLzUxMzVcbiAgICAgICAgZWxzZSBpZiAoZGlzcGxheU9iamVjdC5fbWFzaylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGhpdFRlc3QpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCEoZGlzcGxheU9iamVjdC5fbWFzay5jb250YWluc1BvaW50ICYmIGRpc3BsYXlPYmplY3QuX21hc2suY29udGFpbnNQb2ludChwb2ludCkpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vICoqIEZSRUUgVElQICoqISBJZiBhbiBvYmplY3QgaXMgbm90IGludGVyYWN0aXZlIG9yIGhhcyBubyBidXR0b25zIGluIGl0XG4gICAgICAgIC8vIChzdWNoIGFzIGEgZ2FtZSBzY2VuZSEpIHNldCBpbnRlcmFjdGl2ZUNoaWxkcmVuIHRvIGZhbHNlIGZvciB0aGF0IGRpc3BsYXlPYmplY3QuXG4gICAgICAgIC8vIFRoaXMgd2lsbCBhbGxvdyBQaXhpSlMgdG8gY29tcGxldGVseSBpZ25vcmUgYW5kIGJ5cGFzcyBjaGVja2luZyB0aGUgZGlzcGxheU9iamVjdHMgY2hpbGRyZW4uXG4gICAgICAgIGlmIChoaXRUZXN0Q2hpbGRyZW4gJiYgZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZUNoaWxkcmVuICYmIGRpc3BsYXlPYmplY3QuY2hpbGRyZW4pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gZGlzcGxheU9iamVjdC5jaGlsZHJlbjtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgICAgICAvLyB0aW1lIHRvIGdldCByZWN1cnNpdmUuLiBpZiB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGlmIHNvbWV0aGluZyBpcyBoaXQuLlxuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkSGl0ID0gdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgY2hpbGQsIGZ1bmMsIGhpdFRlc3QsIGludGVyYWN0aXZlUGFyZW50KTtcblxuICAgICAgICAgICAgICAgIGlmIChjaGlsZEhpdClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGl0cyBhIGdvb2QgaWRlYSB0byBjaGVjayBpZiBhIGNoaWxkIGhhcyBsb3N0IGl0cyBwYXJlbnQuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbWVhbnMgaXQgaGFzIGJlZW4gcmVtb3ZlZCB3aGlsc3QgbG9vcGluZyBzbyBpdHMgYmVzdFxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoaWxkLnBhcmVudClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBubyBsb25nZXIgbmVlZCB0byBoaXQgdGVzdCBhbnkgbW9yZSBvYmplY3RzIGluIHRoaXMgY29udGFpbmVyIGFzIHdlIHdlXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdyBrbm93IHRoZSBwYXJlbnQgaGFzIGJlZW4gaGl0XG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aXZlUGFyZW50ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGNoaWxkIGlzIGludGVyYWN0aXZlICwgdGhhdCBtZWFucyB0aGF0IHRoZSBvYmplY3QgaGl0IHdhcyBhY3R1YWxseVxuICAgICAgICAgICAgICAgICAgICAvLyBpbnRlcmFjdGl2ZSBhbmQgbm90IGp1c3QgdGhlIGNoaWxkIG9mIGFuIGludGVyYWN0aXZlIG9iamVjdC5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBtZWFucyB3ZSBubyBsb25nZXIgbmVlZCB0byBoaXQgdGVzdCBhbnl0aGluZyBlbHNlLiBXZSBzdGlsbCBuZWVkIHRvIHJ1blxuICAgICAgICAgICAgICAgICAgICAvLyB0aHJvdWdoIGFsbCBvYmplY3RzLCBidXQgd2UgZG9uJ3QgbmVlZCB0byBwZXJmb3JtIGFueSBoaXQgdGVzdHMuXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkSGl0KVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25FdmVudC50YXJnZXQpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vIHBvaW50IHJ1bm5pbmcgdGhpcyBpZiB0aGUgaXRlbSBpcyBub3QgaW50ZXJhY3RpdmUgb3IgZG9lcyBub3QgaGF2ZSBhbiBpbnRlcmFjdGl2ZSBwYXJlbnQuXG4gICAgICAgIGlmIChpbnRlcmFjdGl2ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgd2UgYXJlIGhpdCB0ZXN0aW5nIChhcyBpbiB3ZSBoYXZlIG5vIGhpdCBhbnkgb2JqZWN0cyB5ZXQpXG4gICAgICAgICAgICAvLyBXZSBhbHNvIGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgaGl0IHRlc3RpbmcgaWYgb25jZSBvZiB0aGUgZGlzcGxheU9iamVjdHMgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIGhhcyBhbHJlYWR5IGJlZW4gaGl0IC0gYnV0IG9ubHkgaWYgaXQgd2FzIGludGVyYWN0aXZlLCBvdGhlcndpc2Ugd2UgbmVlZCB0byBrZWVwXG4gICAgICAgICAgICAvLyBsb29raW5nIGZvciBhbiBpbnRlcmFjdGl2ZSBjaGlsZCwganVzdCBpbiBjYXNlIHdlIGhpdCBvbmVcbiAgICAgICAgICAgIGlmIChoaXRUZXN0ICYmICFpbnRlcmFjdGlvbkV2ZW50LnRhcmdldClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IHRlc3RlZCBhZ2FpbnN0IGhpdEFyZWEgaWYgaXQgaXMgZGVmaW5lZFxuICAgICAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5oaXRBcmVhICYmIGRpc3BsYXlPYmplY3QuY29udGFpbnNQb2ludClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmNvbnRhaW5zUG9pbnQocG9pbnQpKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoaGl0ICYmICFpbnRlcmFjdGlvbkV2ZW50LnRhcmdldClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQudGFyZ2V0ID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZnVuYylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmMoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgISFoaXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBoaXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIHByZXNzZWQgZG93biBvbiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyBwcmVzc2VkIGRvd25cbiAgICAgKi9cbiAgICBvblBvaW50ZXJEb3duKG9yaWdpbmFsRXZlbnQpXG4gICAge1xuICAgICAgICAvLyBpZiB3ZSBzdXBwb3J0IHRvdWNoIGV2ZW50cywgdGhlbiBvbmx5IHVzZSB0aG9zZSBmb3IgdG91Y2ggZXZlbnRzLCBub3QgcG9pbnRlciBldmVudHNcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBvcmlnaW5hbEV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBObyBuZWVkIHRvIHByZXZlbnQgZGVmYXVsdCBvbiBuYXR1cmFsIHBvaW50ZXIgZXZlbnRzLCBhcyB0aGVyZSBhcmUgbm8gc2lkZSBlZmZlY3RzXG4gICAgICAgICAqIE5vcm1hbGl6ZWQgZXZlbnRzLCBob3dldmVyLCBtYXkgaGF2ZSB0aGUgZG91YmxlIG1vdXNlZG93bi90b3VjaHN0YXJ0IGlzc3VlIG9uIHRoZSBuYXRpdmUgYW5kcm9pZCBicm93c2VyLFxuICAgICAgICAgKiBzbyBzdGlsbCBuZWVkIHRvIGJlIHByZXZlbnRlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLy8gR3VhcmFudGVlZCB0aGF0IHRoZXJlIHdpbGwgYmUgYXQgbGVhc3Qgb25lIGV2ZW50IGluIGV2ZW50cywgYW5kIGFsbCBldmVudHMgbXVzdCBoYXZlIHRoZSBzYW1lIHBvaW50ZXIgdHlwZVxuXG4gICAgICAgIGlmICh0aGlzLmF1dG9QcmV2ZW50RGVmYXVsdCAmJiBldmVudHNbMF0uaXNOb3JtYWxpemVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBjYW5jZWxhYmxlID0gb3JpZ2luYWxFdmVudC5jYW5jZWxhYmxlIHx8ICEoJ2NhbmNlbGFibGUnIGluIG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgICAgICBpZiAoY2FuY2VsYWJsZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IGV2ZW50c1tpXTtcblxuICAgICAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgICAgICBjb25zdCBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG5cbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGludGVyYWN0aW9uRXZlbnQsIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCwgdGhpcy5wcm9jZXNzUG9pbnRlckRvd24sIHRydWUpO1xuXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCd0b3VjaHN0YXJ0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlbWl0IGEgbW91c2UgZXZlbnQgZm9yIFwicGVuXCIgcG9pbnRlcnMsIHRoZSB3YXkgYSBicm93c2VyIHdvdWxkIGVtaXQgYSBmYWxsYmFjayBldmVudFxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzUmlnaHRCdXR0b24gPSBldmVudC5idXR0b24gPT09IDI7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoaXNSaWdodEJ1dHRvbiA/ICdyaWdodGRvd24nIDogJ21vdXNlZG93bicsIHRoaXMuZXZlbnREYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIGRvd24gY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBwcm9jZXNzUG9pbnRlckRvd24oaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KVxuICAgIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcbiAgICAgICAgY29uc3QgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcblxuICAgICAgICBpZiAoaGl0KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0gPSBuZXcgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEoaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyZG93bicsIGludGVyYWN0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoc3RhcnQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNSaWdodEJ1dHRvbiA9IGRhdGEuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzUmlnaHRCdXR0b24pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0ucmlnaHREb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdLmxlZnREb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodGRvd24nIDogJ21vdXNlZG93bicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgYnV0dG9uIGlzIHJlbGVhc2VkIG9uIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHJlbGVhc2VkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjYW5jZWxsZWQgLSB0cnVlIGlmIHRoZSBwb2ludGVyIGlzIGNhbmNlbGxlZFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgLSBGdW5jdGlvbiBwYXNzZWQgdG8ge0BsaW5rIHByb2Nlc3NJbnRlcmFjdGl2ZX1cbiAgICAgKi9cbiAgICBvblBvaW50ZXJDb21wbGV0ZShvcmlnaW5hbEV2ZW50LCBjYW5jZWxsZWQsIGZ1bmMpXG4gICAge1xuICAgICAgICBjb25zdCBldmVudHMgPSB0aGlzLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEob3JpZ2luYWxFdmVudCk7XG5cbiAgICAgICAgY29uc3QgZXZlbnRMZW4gPSBldmVudHMubGVuZ3RoO1xuXG4gICAgICAgIC8vIGlmIHRoZSBldmVudCB3YXNuJ3QgdGFyZ2V0aW5nIG91ciBjYW52YXMsIHRoZW4gY29uc2lkZXIgaXQgdG8gYmUgcG9pbnRlcnVwb3V0c2lkZVxuICAgICAgICAvLyBpbiBhbGwgY2FzZXMgKHVubGVzcyBpdCB3YXMgYSBwb2ludGVyY2FuY2VsKVxuICAgICAgICBjb25zdCBldmVudEFwcGVuZCA9IG9yaWdpbmFsRXZlbnQudGFyZ2V0ICE9PSB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA/ICdvdXRzaWRlJyA6ICcnO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnRMZW47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBldmVudHNbaV07XG5cbiAgICAgICAgICAgIGNvbnN0IGludGVyYWN0aW9uRGF0YSA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcblxuICAgICAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuXG4gICAgICAgICAgICAvLyBwZXJmb3JtIGhpdCB0ZXN0aW5nIGZvciBldmVudHMgdGFyZ2V0aW5nIG91ciBjYW52YXMgb3IgY2FuY2VsIGV2ZW50c1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgdGhpcy5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLCBmdW5jLCBjYW5jZWxsZWQgfHwgIWV2ZW50QXBwZW5kKTtcblxuICAgICAgICAgICAgdGhpcy5lbWl0KGNhbmNlbGxlZCA/ICdwb2ludGVyY2FuY2VsJyA6IGBwb2ludGVydXAke2V2ZW50QXBwZW5kfWAsIGludGVyYWN0aW9uRXZlbnQpO1xuXG4gICAgICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzUmlnaHRCdXR0b24gPSBldmVudC5idXR0b24gPT09IDI7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoaXNSaWdodEJ1dHRvbiA/IGByaWdodHVwJHtldmVudEFwcGVuZH1gIDogYG1vdXNldXAke2V2ZW50QXBwZW5kfWAsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KGNhbmNlbGxlZCA/ICd0b3VjaGNhbmNlbCcgOiBgdG91Y2hlbmQke2V2ZW50QXBwZW5kfWAsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudC5wb2ludGVySWQsIGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgY2FuY2VsbGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqL1xuICAgIG9uUG9pbnRlckNhbmNlbChldmVudClcbiAgICB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJDb21wbGV0ZShldmVudCwgdHJ1ZSwgdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgY2FuY2VsIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqL1xuICAgIHByb2Nlc3NQb2ludGVyQ2FuY2VsKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QpXG4gICAge1xuICAgICAgICBjb25zdCBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuXG4gICAgICAgIGNvbnN0IGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG5cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWxldGUgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyY2FuY2VsJywgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hjYW5jZWwnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyByZWxlYXNlZCBvbiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gZXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcmVsZWFzZWRcbiAgICAgKi9cbiAgICBvblBvaW50ZXJVcChldmVudClcbiAgICB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJDb21wbGV0ZShldmVudCwgZmFsc2UsIHRoaXMucHJvY2Vzc1BvaW50ZXJVcCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgdXAgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBwcm9jZXNzUG9pbnRlclVwKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdClcbiAgICB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG5cbiAgICAgICAgY29uc3QgaWQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuaWRlbnRpZmllcjtcblxuICAgICAgICBjb25zdCB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG5cbiAgICAgICAgY29uc3QgaXNUb3VjaCA9IGRhdGEucG9pbnRlclR5cGUgPT09ICd0b3VjaCc7XG5cbiAgICAgICAgY29uc3QgaXNNb3VzZSA9IChkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nKTtcbiAgICAgICAgLy8gbmVlZCB0byB0cmFjayBtb3VzZSBkb3duIHN0YXR1cyBpbiB0aGUgbW91c2UgYmxvY2sgc28gdGhhdCB3ZSBjYW4gZW1pdFxuICAgICAgICAvLyBldmVudCBpbiBhIGxhdGVyIGJsb2NrXG4gICAgICAgIGxldCBpc01vdXNlVGFwID0gZmFsc2U7XG5cbiAgICAgICAgLy8gTW91c2Ugb25seVxuICAgICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaXNSaWdodEJ1dHRvbiA9IGRhdGEuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICBjb25zdCBmbGFncyA9IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhLkZMQUdTO1xuXG4gICAgICAgICAgICBjb25zdCB0ZXN0ID0gaXNSaWdodEJ1dHRvbiA/IGZsYWdzLlJJR0hUX0RPV04gOiBmbGFncy5MRUZUX0RPV047XG5cbiAgICAgICAgICAgIGNvbnN0IGlzRG93biA9IHRyYWNraW5nRGF0YSAhPT0gdW5kZWZpbmVkICYmICh0cmFja2luZ0RhdGEuZmxhZ3MgJiB0ZXN0KTtcblxuICAgICAgICAgICAgaWYgKGhpdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodHVwJyA6ICdtb3VzZXVwJywgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNEb3duKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHRjbGljaycgOiAnY2xpY2snLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYmVjYXVzZSB3ZSBjYW4gY29uZmlybSB0aGF0IHRoZSBtb3VzZWRvd24gaGFwcGVuZWQgb24gdGhpcyBvYmplY3QsIGZsYWcgZm9yIGxhdGVyIGVtaXQgb2YgcG9pbnRlcnRhcFxuICAgICAgICAgICAgICAgICAgICBpc01vdXNlVGFwID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0Rvd24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHR1cG91dHNpZGUnIDogJ21vdXNldXBvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGRvd24gc3RhdGUgb2YgdGhlIHRyYWNraW5nIGRhdGFcbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUmlnaHRCdXR0b24pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEucmlnaHREb3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5sZWZ0RG93biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBvaW50ZXJzIGFuZCBUb3VjaGVzLCBhbmQgTW91c2VcbiAgICAgICAgaWYgKGhpdClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVydXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc1RvdWNoKSB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RvdWNoZW5kJywgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZW1pdCBwb2ludGVydGFwIGlmIG5vdCBhIG1vdXNlLCBvciBpZiB0aGUgbW91c2UgYmxvY2sgZGVjaWRlZCBpdCB3YXMgYSB0YXBcbiAgICAgICAgICAgICAgICBpZiAoIWlzTW91c2UgfHwgaXNNb3VzZVRhcClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnRhcCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNUb3VjaClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndGFwJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRvdWNoZXMgYXJlIG5vIGxvbmdlciBvdmVyIChpZiB0aGV5IGV2ZXIgd2VyZSkgd2hlbiB3ZSBnZXQgdGhlIHRvdWNoZW5kXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIHdlIHNob3VsZCBlbnN1cmUgdGhhdCB3ZSBkb24ndCBrZWVwIHByZXRlbmRpbmcgdGhhdCB0aGV5IGFyZVxuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEub3ZlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0cmFja2luZ0RhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcnVwb3V0c2lkZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzVG91Y2gpIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hlbmRvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT25seSByZW1vdmUgdGhlIHRyYWNraW5nIGRhdGEgaWYgdGhlcmUgaXMgbm8gb3Zlci9kb3duIHN0YXRlIHN0aWxsIGFzc29jaWF0ZWQgd2l0aCBpdFxuICAgICAgICBpZiAodHJhY2tpbmdEYXRhICYmIHRyYWNraW5nRGF0YS5ub25lKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWxldGUgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgbW92ZXMgYWNyb3NzIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgbW92aW5nXG4gICAgICovXG4gICAgb25Qb2ludGVyTW92ZShvcmlnaW5hbEV2ZW50KVxuICAgIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICBpZiAoZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50c1swXS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlkTW92ZSA9IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGV2ZW50TGVuID0gZXZlbnRzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV2ZW50TGVuOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gZXZlbnRzW2ldO1xuXG4gICAgICAgICAgICBjb25zdCBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcblxuICAgICAgICAgICAgY29uc3QgaW50ZXJhY3RpdmUgPSBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJyA/IHRoaXMubW92ZVdoZW5JbnNpZGUgOiB0cnVlO1xuXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LFxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCxcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyTW92ZSxcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGl2ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgdGhpcy5lbWl0KCd0b3VjaG1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHRoaXMuZW1pdCgnbW91c2Vtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAnbW91c2UnKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUodGhpcy5jdXJzb3IpO1xuXG4gICAgICAgICAgICAvLyBUT0RPIEJVRyBmb3IgcGFyZW50cyBpbnRlcmFjdGl2ZSBvYmplY3QgKGJvcmRlciBvcmRlciBpc3N1ZSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIG1vdmUgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBwcm9jZXNzUG9pbnRlck1vdmUoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KVxuICAgIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcblxuICAgICAgICBjb25zdCBpc1RvdWNoID0gZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJztcblxuICAgICAgICBjb25zdCBpc01vdXNlID0gKGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpO1xuXG4gICAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBoaXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLm1vdmVXaGVuSW5zaWRlIHx8IGhpdClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVybW92ZScsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGlzVG91Y2gpIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2htb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICBpZiAoaXNNb3VzZSkgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmVkIG91dCBvZiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJlaW5nIG1vdmVkIG91dFxuICAgICAqL1xuICAgIG9uUG9pbnRlck91dChvcmlnaW5hbEV2ZW50KVxuICAgIHtcbiAgICAgICAgLy8gaWYgd2Ugc3VwcG9ydCB0b3VjaCBldmVudHMsIHRoZW4gb25seSB1c2UgdGhvc2UgZm9yIHRvdWNoIGV2ZW50cywgbm90IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgJiYgb3JpZ2luYWxFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICAvLyBPbmx5IG1vdXNlIGFuZCBwb2ludGVyIGNhbiBjYWxsIG9uUG9pbnRlck91dCwgc28gZXZlbnRzIHdpbGwgYWx3YXlzIGJlIGxlbmd0aCAxXG4gICAgICAgIGNvbnN0IGV2ZW50ID0gZXZlbnRzWzBdO1xuXG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5zZXRDdXJzb3JNb2RlKG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgIGNvbnN0IGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBldmVudDtcblxuICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0LCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVyb3V0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnbW91c2VvdXQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHdlIGNhbiBnZXQgdG91Y2hsZWF2ZSBldmVudHMgYWZ0ZXIgdG91Y2hlbmQsIHNvIHdlIHdhbnQgdG8gbWFrZSBzdXJlIHdlIGRvbid0XG4gICAgICAgICAgICAvLyBpbnRyb2R1Y2UgbWVtb3J5IGxlYWtzXG4gICAgICAgICAgICB0aGlzLnJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoaW50ZXJhY3Rpb25EYXRhLmlkZW50aWZpZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHBvaW50ZXIgb3Zlci9vdXQgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBwcm9jZXNzUG9pbnRlck92ZXJPdXQoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KVxuICAgIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGludGVyYWN0aW9uRXZlbnQuZGF0YTtcblxuICAgICAgICBjb25zdCBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuXG4gICAgICAgIGNvbnN0IGlzTW91c2UgPSAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJyk7XG5cbiAgICAgICAgbGV0IHRyYWNraW5nRGF0YSA9IGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcblxuICAgICAgICAvLyBpZiB3ZSBqdXN0IG1vdXNlZCBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdCwgdGhlbiB3ZSBuZWVkIHRvIHRyYWNrIHRoYXQgc3RhdGVcbiAgICAgICAgaWYgKGhpdCAmJiAhdHJhY2tpbmdEYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0gPSBuZXcgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEoaWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRyYWNraW5nRGF0YSA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cbiAgICAgICAgaWYgKGhpdCAmJiB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRyYWNraW5nRGF0YS5vdmVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5vdmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzTW91c2UpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ21vdXNlb3ZlcicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gb25seSBjaGFuZ2UgdGhlIGN1cnNvciBpZiBpdCBoYXMgbm90IGFscmVhZHkgYmVlbiBjaGFuZ2VkIChieSBzb21ldGhpbmcgZGVlcGVyIGluIHRoZVxuICAgICAgICAgICAgLy8gZGlzcGxheSB0cmVlKVxuICAgICAgICAgICAgaWYgKGlzTW91c2UgJiYgdGhpcy5jdXJzb3IgPT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3IgPSBkaXNwbGF5T2JqZWN0LmN1cnNvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0cmFja2luZ0RhdGEub3ZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdHJhY2tpbmdEYXRhLm92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcm91dCcsIHRoaXMuZXZlbnREYXRhKTtcbiAgICAgICAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAnbW91c2VvdXQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIG1vdXNlIGRvd24gaW5mb3JtYXRpb24gZm9yIHRoZSBwb2ludGVyLCB0aGVuIGl0IGlzIHNhZmUgdG8gZGVsZXRlXG4gICAgICAgICAgICBpZiAodHJhY2tpbmdEYXRhLm5vbmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmVkIGludG8gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgbW92ZWQgaW50byB0aGUgcmVuZGVyZXIgdmlld1xuICAgICAqL1xuICAgIG9uUG9pbnRlck92ZXIob3JpZ2luYWxFdmVudClcbiAgICB7XG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICAvLyBPbmx5IG1vdXNlIGFuZCBwb2ludGVyIGNhbiBjYWxsIG9uUG9pbnRlck92ZXIsIHNvIGV2ZW50cyB3aWxsIGFsd2F5cyBiZSBsZW5ndGggMVxuICAgICAgICBjb25zdCBldmVudCA9IGV2ZW50c1swXTtcblxuICAgICAgICBjb25zdCBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IGV2ZW50O1xuXG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVtaXQoJ3BvaW50ZXJvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnbW91c2VvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgSW50ZXJhY3Rpb25EYXRhIGZvciBhIGdpdmVuIHBvaW50ZXJJZC4gU3RvcmUgdGhhdCBkYXRhIGFzIHdlbGxcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gTm9ybWFsaXplZCBwb2ludGVyIGV2ZW50LCBvdXRwdXQgZnJvbSBub3JtYWxpemVUb1BvaW50ZXJEYXRhXG4gICAgICogQHJldHVybiB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGF9IC0gSW50ZXJhY3Rpb24gZGF0YSBmb3IgdGhlIGdpdmVuIHBvaW50ZXIgaWRlbnRpZmllclxuICAgICAqL1xuICAgIGdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudClcbiAgICB7XG4gICAgICAgIGNvbnN0IHBvaW50ZXJJZCA9IGV2ZW50LnBvaW50ZXJJZDtcblxuICAgICAgICBsZXQgaW50ZXJhY3Rpb25EYXRhO1xuXG4gICAgICAgIGlmIChwb2ludGVySWQgPT09IE1PVVNFX1BPSU5URVJfSUQgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMubW91c2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXSlcbiAgICAgICAge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuaW50ZXJhY3Rpb25EYXRhUG9vbC5wb3AoKSB8fCBuZXcgSW50ZXJhY3Rpb25EYXRhKCk7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEuaWRlbnRpZmllciA9IHBvaW50ZXJJZDtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF0gPSBpbnRlcmFjdGlvbkRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29weSBwcm9wZXJ0aWVzIGZyb20gdGhlIGV2ZW50LCBzbyB0aGF0IHdlIGNhbiBtYWtlIHN1cmUgdGhhdCB0b3VjaC9wb2ludGVyIHNwZWNpZmljXG4gICAgICAgIC8vIGRhdGEgaXMgYXZhaWxhYmxlXG4gICAgICAgIGludGVyYWN0aW9uRGF0YS5jb3B5RXZlbnQoZXZlbnQpO1xuXG4gICAgICAgIHJldHVybiBpbnRlcmFjdGlvbkRhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHVudXNlZCBJbnRlcmFjdGlvbkRhdGEgdG8gdGhlIHBvb2wsIGZvciBhIGdpdmVuIHBvaW50ZXJJZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRlcklkIC0gSWRlbnRpZmllciBmcm9tIGEgcG9pbnRlciBldmVudFxuICAgICAqL1xuICAgIHJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQocG9pbnRlcklkKVxuICAgIHtcbiAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcblxuICAgICAgICBpZiAoaW50ZXJhY3Rpb25EYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5hY3RpdmVJbnRlcmFjdGlvbkRhdGFbcG9pbnRlcklkXTtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YS5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRhdGFQb29sLnB1c2goaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbmZpZ3VyZSBhbiBJbnRlcmFjdGlvbkV2ZW50IHRvIHdyYXAgYSBET00gUG9pbnRlckV2ZW50IGFuZCBJbnRlcmFjdGlvbkRhdGFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgZXZlbnQgdG8gYmUgY29uZmlndXJlZFxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBwb2ludGVyRXZlbnQgLSBUaGUgRE9NIGV2ZW50IHRoYXQgd2lsbCBiZSBwYWlyZWQgd2l0aCB0aGUgSW50ZXJhY3Rpb25FdmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGF9IGludGVyYWN0aW9uRGF0YSAtIFRoZSBJbnRlcmFjdGlvbkRhdGEgdGhhdCB3aWxsIGJlIHBhaXJlZFxuICAgICAqICAgICAgICB3aXRoIHRoZSBJbnRlcmFjdGlvbkV2ZW50XG4gICAgICogQHJldHVybiB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSB0aGUgaW50ZXJhY3Rpb24gZXZlbnQgdGhhdCB3YXMgcGFzc2VkIGluXG4gICAgICovXG4gICAgY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KGludGVyYWN0aW9uRXZlbnQsIHBvaW50ZXJFdmVudCwgaW50ZXJhY3Rpb25EYXRhKVxuICAgIHtcbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhID0gaW50ZXJhY3Rpb25EYXRhO1xuXG4gICAgICAgIHRoaXMubWFwUG9zaXRpb25Ub1BvaW50KGludGVyYWN0aW9uRGF0YS5nbG9iYWwsIHBvaW50ZXJFdmVudC5jbGllbnRYLCBwb2ludGVyRXZlbnQuY2xpZW50WSk7XG5cbiAgICAgICAgLy8gTm90IHJlYWxseSBzdXJlIHdoeSB0aGlzIGlzIGhhcHBlbmluZywgYnV0IGl0J3MgaG93IGEgcHJldmlvdXMgdmVyc2lvbiBoYW5kbGVkIHRoaW5nc1xuICAgICAgICBpZiAocG9pbnRlckV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICB7XG4gICAgICAgICAgICBwb2ludGVyRXZlbnQuZ2xvYmFsWCA9IGludGVyYWN0aW9uRGF0YS5nbG9iYWwueDtcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudC5nbG9iYWxZID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC55O1xuICAgICAgICB9XG5cbiAgICAgICAgaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQgPSBwb2ludGVyRXZlbnQ7XG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQucmVzZXQoKTtcblxuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25FdmVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIHRoYXQgdGhlIG9yaWdpbmFsIGV2ZW50IG9iamVjdCBjb250YWlucyBhbGwgZGF0YSB0aGF0IGEgcmVndWxhciBwb2ludGVyIGV2ZW50IHdvdWxkIGhhdmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtUb3VjaEV2ZW50fE1vdXNlRXZlbnR8UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBvcmlnaW5hbCBldmVudCBkYXRhIGZyb20gYSB0b3VjaCBvciBtb3VzZSBldmVudFxuICAgICAqIEByZXR1cm4ge1BvaW50ZXJFdmVudFtdfSBBbiBhcnJheSBjb250YWluaW5nIGEgc2luZ2xlIG5vcm1hbGl6ZWQgcG9pbnRlciBldmVudCwgaW4gdGhlIGNhc2Ugb2YgYSBwb2ludGVyXG4gICAgICogIG9yIG1vdXNlIGV2ZW50LCBvciBhIG11bHRpcGxlIG5vcm1hbGl6ZWQgcG9pbnRlciBldmVudHMgaWYgdGhlcmUgYXJlIG11bHRpcGxlIGNoYW5nZWQgdG91Y2hlc1xuICAgICAqL1xuICAgIG5vcm1hbGl6ZVRvUG9pbnRlckRhdGEoZXZlbnQpXG4gICAge1xuICAgICAgICBjb25zdCBub3JtYWxpemVkRXZlbnRzID0gW107XG5cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsaSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDsgaSA8IGxpOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1tpXTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guYnV0dG9uID09PSAndW5kZWZpbmVkJykgdG91Y2guYnV0dG9uID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPyAxIDogMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmJ1dHRvbnMgPT09ICd1bmRlZmluZWQnKSB0b3VjaC5idXR0b25zID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPyAxIDogMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmlzUHJpbWFyeSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0b3VjaC5pc1ByaW1hcnkgPSBldmVudC50b3VjaGVzLmxlbmd0aCA9PT0gMSAmJiBldmVudC50eXBlID09PSAndG91Y2hzdGFydCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gud2lkdGggPT09ICd1bmRlZmluZWQnKSB0b3VjaC53aWR0aCA9IHRvdWNoLnJhZGl1c1ggfHwgMTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmhlaWdodCA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLmhlaWdodCA9IHRvdWNoLnJhZGl1c1kgfHwgMTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRpbHRYID09PSAndW5kZWZpbmVkJykgdG91Y2gudGlsdFggPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gudGlsdFkgPT09ICd1bmRlZmluZWQnKSB0b3VjaC50aWx0WSA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5wb2ludGVyVHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLnBvaW50ZXJUeXBlID0gJ3RvdWNoJztcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnBvaW50ZXJJZCA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLnBvaW50ZXJJZCA9IHRvdWNoLmlkZW50aWZpZXIgfHwgMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnByZXNzdXJlID09PSAndW5kZWZpbmVkJykgdG91Y2gucHJlc3N1cmUgPSB0b3VjaC5mb3JjZSB8fCAwLjU7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC50d2lzdCA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLnR3aXN0ID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnRhbmdlbnRpYWxQcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLnRhbmdlbnRpYWxQcmVzc3VyZSA9IDA7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogUmVtb3ZlIHRoZXNlLCBhcyBsYXllclgvWSBpcyBub3QgYSBzdGFuZGFyZCwgaXMgZGVwcmVjYXRlZCwgaGFzIHVuZXZlblxuICAgICAgICAgICAgICAgIC8vIHN1cHBvcnQsIGFuZCB0aGUgZmlsbCBpbnMgYXJlIG5vdCBxdWl0ZSB0aGUgc2FtZVxuICAgICAgICAgICAgICAgIC8vIG9mZnNldFgvWSBtaWdodCBiZSBva2F5LCBidXQgaXMgbm90IHRoZSBzYW1lIGFzIGNsaWVudFgvWSB3aGVuIHRoZSBjYW52YXMncyB0b3BcbiAgICAgICAgICAgICAgICAvLyBsZWZ0IGlzIG5vdCAwLDAgb24gdGhlIHBhZ2VcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmxheWVyWCA9PT0gJ3VuZGVmaW5lZCcpIHRvdWNoLmxheWVyWCA9IHRvdWNoLm9mZnNldFggPSB0b3VjaC5jbGllbnRYO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gubGF5ZXJZID09PSAndW5kZWZpbmVkJykgdG91Y2gubGF5ZXJZID0gdG91Y2gub2Zmc2V0WSA9IHRvdWNoLmNsaWVudFk7XG5cbiAgICAgICAgICAgICAgICAvLyBtYXJrIHRoZSB0b3VjaCBhcyBub3JtYWxpemVkLCBqdXN0IHNvIHRoYXQgd2Uga25vdyB3ZSBkaWQgaXRcbiAgICAgICAgICAgICAgICB0b3VjaC5pc05vcm1hbGl6ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKHRvdWNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBhcHBhcmVudGx5IFBvaW50ZXJFdmVudCBzdWJjbGFzc2VzIE1vdXNlRXZlbnQsIHNvIHlheVxuICAgICAgICBlbHNlIGlmIChldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQgJiYgKCF0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyB8fCAhKGV2ZW50IGluc3RhbmNlb2Ygd2luZG93LlBvaW50ZXJFdmVudCkpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LmlzUHJpbWFyeSA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LmlzUHJpbWFyeSA9IHRydWU7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LndpZHRoID09PSAndW5kZWZpbmVkJykgZXZlbnQud2lkdGggPSAxO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5oZWlnaHQgPT09ICd1bmRlZmluZWQnKSBldmVudC5oZWlnaHQgPSAxO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC50aWx0WCA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LnRpbHRYID0gMDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQudGlsdFkgPT09ICd1bmRlZmluZWQnKSBldmVudC50aWx0WSA9IDA7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnBvaW50ZXJUeXBlID09PSAndW5kZWZpbmVkJykgZXZlbnQucG9pbnRlclR5cGUgPSAnbW91c2UnO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5wb2ludGVySWQgPT09ICd1bmRlZmluZWQnKSBldmVudC5wb2ludGVySWQgPSBNT1VTRV9QT0lOVEVSX0lEO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5wcmVzc3VyZSA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LnByZXNzdXJlID0gMC41O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC50d2lzdCA9PT0gJ3VuZGVmaW5lZCcpIGV2ZW50LnR3aXN0ID0gMDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID09PSAndW5kZWZpbmVkJykgZXZlbnQudGFuZ2VudGlhbFByZXNzdXJlID0gMDtcblxuICAgICAgICAgICAgLy8gbWFyayB0aGUgbW91c2UgZXZlbnQgYXMgbm9ybWFsaXplZCwganVzdCBzbyB0aGF0IHdlIGtub3cgd2UgZGlkIGl0XG4gICAgICAgICAgICBldmVudC5pc05vcm1hbGl6ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBub3JtYWxpemVkRXZlbnRzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBpbnRlcmFjdGlvbiBtYW5hZ2VyXG4gICAgICpcbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRzKCk7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLm1vdXNlID0gbnVsbDtcblxuICAgICAgICB0aGlzLmV2ZW50RGF0YSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyRG93biA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJEb3duID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlclVwID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlclVwID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlckNhbmNlbCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwgPSBudWxsO1xuXG4gICAgICAgIHRoaXMub25Qb2ludGVyTW92ZSA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlck91dCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0ID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlck92ZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3RlbXBQb2ludCA9IG51bGw7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuXG4vKipcbiAqIEZpbGwgc3R5bGUgb2JqZWN0IGZvciBHcmFwaGljcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZpbGxTdHlsZVxue1xuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIG9iamVjdFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5GaWxsU3R5bGV9XG4gICAgICovXG4gICAgY2xvbmUoKVxuICAgIHtcbiAgICAgICAgY29uc3Qgb2JqID0gbmV3IEZpbGxTdHlsZSgpO1xuXG4gICAgICAgIG9iai5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIG9iai5hbHBoYSA9IHRoaXMuYWxwaGE7XG4gICAgICAgIG9iai50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICBvYmoubWF0cml4ID0gdGhpcy5tYXRyaXg7XG4gICAgICAgIG9iai52aXNpYmxlID0gdGhpcy52aXNpYmxlO1xuXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXRcbiAgICAgKi9cbiAgICByZXNldCgpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhleCBjb2xvciB2YWx1ZSB1c2VkIHdoZW4gY29sb3JpbmcgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbG9yID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbHBoYSB2YWx1ZSB1c2VkIHdoZW4gZmlsbGluZyB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWxwaGEgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB0byBiZSB1c2VkIGZvciB0aGUgZmlsbC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHR1cmUgPSBUZXh0dXJlLldISVRFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHJhbnNmb3JtIGFwbHBpZWQgdG8gdGhlIHRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXRyaXggPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgY3VycmVudCBmaWxsIGlzIHZpc2libGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpc1xuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gbnVsbDtcbiAgICAgICAgdGhpcy5tYXRyaXggPSBudWxsO1xuICAgIH1cbn1cbiIsIi8qKlxuICogQSBjbGFzcyB0byBjb250YWluIGRhdGEgdXNlZnVsIGZvciBHcmFwaGljcyBvYmplY3RzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmFwaGljc0RhdGFcbntcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DaXJjbGV8UElYSS5SZWN0YW5nbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbn0gc2hhcGUgLSBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbGxTdHlsZX0gW2ZpbGxTdHlsZV0gLSB0aGUgd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgICAqIEBwYXJhbSB7UElYSS5MaW5lU3R5bGV9IFtsaW5lU3R5bGVdIC0gdGhlIGNvbG9yIG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbbWF0cml4XSAtIFRyYW5zZm9ybSBtYXRyaXhcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzaGFwZSwgZmlsbFN0eWxlID0gbnVsbCwgbGluZVN0eWxlID0gbnVsbCwgbWF0cml4ID0gbnVsbClcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaGFwZSA9IHNoYXBlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3R5bGUgb2YgdGhlIGxpbmUuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTGluZVN0eWxlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW5lU3R5bGUgPSBsaW5lU3R5bGU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdHlsZSBvZiB0aGUgZmlsbC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWxsU3R5bGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpbGxTdHlsZSA9IGZpbGxTdHlsZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRyYW5zZm9ybSBtYXRyaXguXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXRyaXggPSBtYXRyaXg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoZSBzaGFwZSwgc2VlIHRoZSBDb25zdC5TaGFwZXMgZmlsZSBmb3IgYWxsIHRoZSBleGlzdGluZyB0eXBlcyxcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gc2hhcGUudHlwZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgcG9pbnRzLlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9pbnRzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIGhvbGVzLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzRGF0YVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ob2xlcyA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgR3JhcGhpY3NEYXRhIG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3NEYXRhfSBDbG9uZWQgR3JhcGhpY3NEYXRhIG9iamVjdFxuICAgICAqL1xuICAgIGNsb25lKClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgR3JhcGhpY3NEYXRhKFxuICAgICAgICAgICAgdGhpcy5zaGFwZSxcbiAgICAgICAgICAgIHRoaXMuZmlsbFN0eWxlLFxuICAgICAgICAgICAgdGhpcy5saW5lU3R5bGUsXG4gICAgICAgICAgICB0aGlzLm1hdHJpeFxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBHcmFwaGljcyBkYXRhLlxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgdGhpcy5zaGFwZSA9IG51bGw7XG4gICAgICAgIHRoaXMuaG9sZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5ob2xlcyA9IG51bGw7XG4gICAgICAgIHRoaXMucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMucG9pbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5saW5lU3R5bGUgPSBudWxsO1xuICAgICAgICB0aGlzLmZpbGxTdHlsZSA9IG51bGw7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgU0hBUEVTIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qKlxuICogQnVpbGRzIGEgY2lyY2xlIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IHRvIGRyYXdcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgICBidWlsZChncmFwaGljc0RhdGEpXG4gICAge1xuICAgICAgICAvLyBuZWVkIHRvIGNvbnZlcnQgcG9pbnRzIHRvIGEgbmljZSByZWd1bGFyIGRhdGFcbiAgICAgICAgY29uc3QgY2lyY2xlRGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgY29uc3QgeCA9IGNpcmNsZURhdGEueDtcbiAgICAgICAgY29uc3QgeSA9IGNpcmNsZURhdGEueTtcbiAgICAgICAgbGV0IHdpZHRoO1xuICAgICAgICBsZXQgaGVpZ2h0O1xuXG4gICAgICAgIHBvaW50cy5sZW5ndGggPSAwO1xuXG4gICAgICAgIC8vIFRPRE8gLSBiaXQgaGFja3k/P1xuICAgICAgICBpZiAoZ3JhcGhpY3NEYXRhLnR5cGUgPT09IFNIQVBFUy5DSVJDKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aWR0aCA9IGNpcmNsZURhdGEucmFkaXVzO1xuICAgICAgICAgICAgaGVpZ2h0ID0gY2lyY2xlRGF0YS5yYWRpdXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB3aWR0aCA9IGNpcmNsZURhdGEud2lkdGg7XG4gICAgICAgICAgICBoZWlnaHQgPSBjaXJjbGVEYXRhLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3aWR0aCA9PT0gMCB8fCBoZWlnaHQgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0b3RhbFNlZ3MgPSBNYXRoLmZsb29yKDMwICogTWF0aC5zcXJ0KGNpcmNsZURhdGEucmFkaXVzKSlcbiAgICAgICAgICAgIHx8IE1hdGguZmxvb3IoMTUgKiBNYXRoLnNxcnQoY2lyY2xlRGF0YS53aWR0aCArIGNpcmNsZURhdGEuaGVpZ2h0KSk7XG5cbiAgICAgICAgdG90YWxTZWdzIC89IDIuMztcblxuICAgICAgICBjb25zdCBzZWcgPSAoTWF0aC5QSSAqIDIpIC8gdG90YWxTZWdzO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWxTZWdzOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKFxuICAgICAgICAgICAgICAgIHggKyAoTWF0aC5zaW4oLXNlZyAqIGkpICogd2lkdGgpLFxuICAgICAgICAgICAgICAgIHkgKyAoTWF0aC5jb3MoLXNlZyAqIGkpICogaGVpZ2h0KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBvaW50cy5wdXNoKFxuICAgICAgICAgICAgcG9pbnRzWzBdLFxuICAgICAgICAgICAgcG9pbnRzWzFdXG4gICAgICAgICk7XG4gICAgfSxcblxuICAgIHRyaWFuZ3VsYXRlKGdyYXBoaWNzRGF0YSwgZ3JhcGhpY3NHZW9tZXRyeSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG4gICAgICAgIGNvbnN0IHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIGNvbnN0IGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG5cbiAgICAgICAgbGV0IHZlcnRQb3MgPSB2ZXJ0cy5sZW5ndGggLyAyO1xuICAgICAgICBjb25zdCBjZW50ZXIgPSB2ZXJ0UG9zO1xuXG4gICAgICAgIHZlcnRzLnB1c2goZ3JhcGhpY3NEYXRhLnNoYXBlLngsIGdyYXBoaWNzRGF0YS5zaGFwZS55KTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkgKz0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgdmVydHMucHVzaChwb2ludHNbaV0sIHBvaW50c1tpICsgMV0pO1xuXG4gICAgICAgICAgICAvLyBhZGQgc29tZSB1dnNcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh2ZXJ0UG9zKyssIGNlbnRlciwgdmVydFBvcyk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcbiIsImltcG9ydCB7IFBvaW50LCBTSEFQRVMgfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyoqXG4gKiBCdWlsZHMgYSBsaW5lIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBncmFwaGljc0dlb21ldHJ5IC0gR2VvbWV0cnkgd2hlcmUgdG8gYXBwZW5kIG91dHB1dFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KVxue1xuICAgIGlmIChncmFwaGljc0RhdGEubGluZVN0eWxlLm5hdGl2ZSlcbiAgICB7XG4gICAgICAgIGJ1aWxkTmF0aXZlTGluZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBidWlsZExpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KTtcbiAgICB9XG59XG5cbi8qKlxuICogQnVpbGRzIGEgbGluZSB0byBkcmF3IHVzaW5nIHRoZSBwb2x5Z29uIG1ldGhvZC5cbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBncmFwaGljc0dlb21ldHJ5IC0gR2VvbWV0cnkgd2hlcmUgdG8gYXBwZW5kIG91dHB1dFxuICovXG5mdW5jdGlvbiBidWlsZExpbmUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KVxue1xuICAgIGNvbnN0IHNoYXBlID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgIGxldCBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzIHx8IHNoYXBlLnBvaW50cy5zbGljZSgpO1xuXG4gICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGlmIHRoZSBsaW5lIHdpZHRoIGlzIGFuIG9kZCBudW1iZXIgYWRkIDAuNSB0byBhbGlnbiB0byBhIHdob2xlIHBpeGVsXG4gICAgLy8gY29tbWVudGluZyB0aGlzIG91dCBmaXhlcyAjNzExIGFuZCAjMTYyMFxuICAgIC8vIGlmIChncmFwaGljc0RhdGEubGluZVdpZHRoJTIpXG4gICAgLy8ge1xuICAgIC8vICAgICBmb3IgKGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKVxuICAgIC8vICAgICB7XG4gICAgLy8gICAgICAgICBwb2ludHNbaV0gKz0gMC41O1xuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG4gICAgY29uc3Qgc3R5bGUgPSBncmFwaGljc0RhdGEubGluZVN0eWxlO1xuXG4gICAgLy8gZ2V0IGZpcnN0IGFuZCBsYXN0IHBvaW50Li4gZmlndXJlIG91dCB0aGUgbWlkZGxlIVxuICAgIGNvbnN0IGZpcnN0UG9pbnQgPSBuZXcgUG9pbnQocG9pbnRzWzBdLCBwb2ludHNbMV0pO1xuICAgIGNvbnN0IGxhc3RQb2ludCA9IG5ldyBQb2ludChwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdLCBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdKTtcbiAgICBjb25zdCBjbG9zZWRTaGFwZSA9IHNoYXBlLnR5cGUgIT09IFNIQVBFUy5QT0xZIHx8IHNoYXBlLmNsb3NlU3Ryb2tlO1xuICAgIGNvbnN0IGNsb3NlZFBhdGggPSBmaXJzdFBvaW50LnggPT09IGxhc3RQb2ludC54ICYmIGZpcnN0UG9pbnQueSA9PT0gbGFzdFBvaW50Lnk7XG5cbiAgICAvLyBpZiB0aGUgZmlyc3QgcG9pbnQgaXMgdGhlIGxhc3QgcG9pbnQgLSBnb25uYSBoYXZlIGlzc3VlcyA6KVxuICAgIGlmIChjbG9zZWRTaGFwZSlcbiAgICB7XG4gICAgICAgIC8vIG5lZWQgdG8gY2xvbmUgYXMgd2UgYXJlIGdvaW5nIHRvIHNsaWdodGx5IG1vZGlmeSB0aGUgc2hhcGUuLlxuICAgICAgICBwb2ludHMgPSBwb2ludHMuc2xpY2UoKTtcblxuICAgICAgICBpZiAoY2xvc2VkUGF0aClcbiAgICAgICAge1xuICAgICAgICAgICAgcG9pbnRzLnBvcCgpO1xuICAgICAgICAgICAgcG9pbnRzLnBvcCgpO1xuICAgICAgICAgICAgbGFzdFBvaW50LnNldChwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdLCBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1pZFBvaW50WCA9IGxhc3RQb2ludC54ICsgKChmaXJzdFBvaW50LnggLSBsYXN0UG9pbnQueCkgKiAwLjUpO1xuICAgICAgICBjb25zdCBtaWRQb2ludFkgPSBsYXN0UG9pbnQueSArICgoZmlyc3RQb2ludC55IC0gbGFzdFBvaW50LnkpICogMC41KTtcblxuICAgICAgICBwb2ludHMudW5zaGlmdChtaWRQb2ludFgsIG1pZFBvaW50WSk7XG4gICAgICAgIHBvaW50cy5wdXNoKG1pZFBvaW50WCwgbWlkUG9pbnRZKTtcbiAgICB9XG5cbiAgICBjb25zdCB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuICAgIGNvbnN0IGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuICAgIGxldCBpbmRleENvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgICBsZXQgaW5kZXhTdGFydCA9IHZlcnRzLmxlbmd0aCAvIDI7XG5cbiAgICAvLyBEUkFXIHRoZSBMaW5lXG4gICAgY29uc3Qgd2lkdGggPSBzdHlsZS53aWR0aCAvIDI7XG5cbiAgICAvLyBzb3J0IGNvbG9yXG4gICAgbGV0IHAxeCA9IHBvaW50c1swXTtcbiAgICBsZXQgcDF5ID0gcG9pbnRzWzFdO1xuICAgIGxldCBwMnggPSBwb2ludHNbMl07XG4gICAgbGV0IHAyeSA9IHBvaW50c1szXTtcbiAgICBsZXQgcDN4ID0gMDtcbiAgICBsZXQgcDN5ID0gMDtcblxuICAgIGxldCBwZXJweCA9IC0ocDF5IC0gcDJ5KTtcbiAgICBsZXQgcGVycHkgPSBwMXggLSBwMng7XG4gICAgbGV0IHBlcnAyeCA9IDA7XG4gICAgbGV0IHBlcnAyeSA9IDA7XG4gICAgbGV0IHBlcnAzeCA9IDA7XG4gICAgbGV0IHBlcnAzeSA9IDA7XG5cbiAgICBsZXQgZGlzdCA9IE1hdGguc3FydCgocGVycHggKiBwZXJweCkgKyAocGVycHkgKiBwZXJweSkpO1xuXG4gICAgcGVycHggLz0gZGlzdDtcbiAgICBwZXJweSAvPSBkaXN0O1xuICAgIHBlcnB4ICo9IHdpZHRoO1xuICAgIHBlcnB5ICo9IHdpZHRoO1xuXG4gICAgY29uc3QgcmF0aW8gPSBzdHlsZS5hbGlnbm1lbnQ7Ly8gMC41O1xuICAgIGNvbnN0IHIxID0gKDEgLSByYXRpbykgKiAyO1xuICAgIGNvbnN0IHIyID0gcmF0aW8gKiAyO1xuXG4gICAgLy8gc3RhcnRcbiAgICB2ZXJ0cy5wdXNoKFxuICAgICAgICBwMXggLSAocGVycHggKiByMSksXG4gICAgICAgIHAxeSAtIChwZXJweSAqIHIxKSk7XG5cbiAgICB2ZXJ0cy5wdXNoKFxuICAgICAgICBwMXggKyAocGVycHggKiByMiksXG4gICAgICAgIHAxeSArIChwZXJweSAqIHIyKSk7XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbmd0aCAtIDE7ICsraSlcbiAgICB7XG4gICAgICAgIHAxeCA9IHBvaW50c1soaSAtIDEpICogMl07XG4gICAgICAgIHAxeSA9IHBvaW50c1soKGkgLSAxKSAqIDIpICsgMV07XG5cbiAgICAgICAgcDJ4ID0gcG9pbnRzW2kgKiAyXTtcbiAgICAgICAgcDJ5ID0gcG9pbnRzWyhpICogMikgKyAxXTtcblxuICAgICAgICBwM3ggPSBwb2ludHNbKGkgKyAxKSAqIDJdO1xuICAgICAgICBwM3kgPSBwb2ludHNbKChpICsgMSkgKiAyKSArIDFdO1xuXG4gICAgICAgIHBlcnB4ID0gLShwMXkgLSBwMnkpO1xuICAgICAgICBwZXJweSA9IHAxeCAtIHAyeDtcblxuICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KChwZXJweCAqIHBlcnB4KSArIChwZXJweSAqIHBlcnB5KSk7XG4gICAgICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgICAgIHBlcnB5IC89IGRpc3Q7XG4gICAgICAgIHBlcnB4ICo9IHdpZHRoO1xuICAgICAgICBwZXJweSAqPSB3aWR0aDtcblxuICAgICAgICBwZXJwMnggPSAtKHAyeSAtIHAzeSk7XG4gICAgICAgIHBlcnAyeSA9IHAyeCAtIHAzeDtcblxuICAgICAgICBkaXN0ID0gTWF0aC5zcXJ0KChwZXJwMnggKiBwZXJwMngpICsgKHBlcnAyeSAqIHBlcnAyeSkpO1xuICAgICAgICBwZXJwMnggLz0gZGlzdDtcbiAgICAgICAgcGVycDJ5IC89IGRpc3Q7XG4gICAgICAgIHBlcnAyeCAqPSB3aWR0aDtcbiAgICAgICAgcGVycDJ5ICo9IHdpZHRoO1xuXG4gICAgICAgIGNvbnN0IGExID0gKC1wZXJweSArIHAxeSkgLSAoLXBlcnB5ICsgcDJ5KTtcbiAgICAgICAgY29uc3QgYjEgPSAoLXBlcnB4ICsgcDJ4KSAtICgtcGVycHggKyBwMXgpO1xuICAgICAgICBjb25zdCBjMSA9ICgoLXBlcnB4ICsgcDF4KSAqICgtcGVycHkgKyBwMnkpKSAtICgoLXBlcnB4ICsgcDJ4KSAqICgtcGVycHkgKyBwMXkpKTtcbiAgICAgICAgY29uc3QgYTIgPSAoLXBlcnAyeSArIHAzeSkgLSAoLXBlcnAyeSArIHAyeSk7XG4gICAgICAgIGNvbnN0IGIyID0gKC1wZXJwMnggKyBwMngpIC0gKC1wZXJwMnggKyBwM3gpO1xuICAgICAgICBjb25zdCBjMiA9ICgoLXBlcnAyeCArIHAzeCkgKiAoLXBlcnAyeSArIHAyeSkpIC0gKCgtcGVycDJ4ICsgcDJ4KSAqICgtcGVycDJ5ICsgcDN5KSk7XG5cbiAgICAgICAgbGV0IGRlbm9tID0gKGExICogYjIpIC0gKGEyICogYjEpO1xuXG4gICAgICAgIGlmIChNYXRoLmFicyhkZW5vbSkgPCAwLjEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlbm9tICs9IDEwLjE7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKFxuICAgICAgICAgICAgICAgIHAyeCAtIChwZXJweCAqIHIxKSxcbiAgICAgICAgICAgICAgICBwMnkgLSAocGVycHkgKiByMSkpO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKFxuICAgICAgICAgICAgICAgIHAyeCArIChwZXJweCAqIHIyKSxcbiAgICAgICAgICAgICAgICBwMnkgKyAocGVycHkgKiByMikpO1xuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHB4ID0gKChiMSAqIGMyKSAtIChiMiAqIGMxKSkgLyBkZW5vbTtcbiAgICAgICAgY29uc3QgcHkgPSAoKGEyICogYzEpIC0gKGExICogYzIpKSAvIGRlbm9tO1xuICAgICAgICBjb25zdCBwZGlzdCA9ICgocHggLSBwMngpICogKHB4IC0gcDJ4KSkgKyAoKHB5IC0gcDJ5KSAqIChweSAtIHAyeSkpO1xuXG4gICAgICAgIGlmIChwZGlzdCA+ICgxOTYgKiB3aWR0aCAqIHdpZHRoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcGVycDN4ID0gcGVycHggLSBwZXJwMng7XG4gICAgICAgICAgICBwZXJwM3kgPSBwZXJweSAtIHBlcnAyeTtcblxuICAgICAgICAgICAgZGlzdCA9IE1hdGguc3FydCgocGVycDN4ICogcGVycDN4KSArIChwZXJwM3kgKiBwZXJwM3kpKTtcbiAgICAgICAgICAgIHBlcnAzeCAvPSBkaXN0O1xuICAgICAgICAgICAgcGVycDN5IC89IGRpc3Q7XG4gICAgICAgICAgICBwZXJwM3ggKj0gd2lkdGg7XG4gICAgICAgICAgICBwZXJwM3kgKj0gd2lkdGg7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4IC0gKHBlcnAzeCAqIHIxKSwgcDJ5IC0gKHBlcnAzeSAqIHIxKSk7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4ICsgKHBlcnAzeCAqIHIyKSwgcDJ5ICsgKHBlcnAzeSAqIHIyKSk7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4IC0gKHBlcnAzeCAqIHIyICogcjEpLCBwMnkgLSAocGVycDN5ICogcjEpKTtcblxuICAgICAgICAgICAgaW5kZXhDb3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdmVydHMucHVzaChwMnggKyAoKHB4IC0gcDJ4KSAqIHIxKSwgcDJ5ICsgKChweSAtIHAyeSkgKiByMSkpO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCAtICgocHggLSBwMngpICogcjIpLCBwMnkgLSAoKHB5IC0gcDJ5KSAqIHIyKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwMXggPSBwb2ludHNbKGxlbmd0aCAtIDIpICogMl07XG4gICAgcDF5ID0gcG9pbnRzWygobGVuZ3RoIC0gMikgKiAyKSArIDFdO1xuXG4gICAgcDJ4ID0gcG9pbnRzWyhsZW5ndGggLSAxKSAqIDJdO1xuICAgIHAyeSA9IHBvaW50c1soKGxlbmd0aCAtIDEpICogMikgKyAxXTtcblxuICAgIHBlcnB4ID0gLShwMXkgLSBwMnkpO1xuICAgIHBlcnB5ID0gcDF4IC0gcDJ4O1xuXG4gICAgZGlzdCA9IE1hdGguc3FydCgocGVycHggKiBwZXJweCkgKyAocGVycHkgKiBwZXJweSkpO1xuICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgcGVycHkgLz0gZGlzdDtcbiAgICBwZXJweCAqPSB3aWR0aDtcbiAgICBwZXJweSAqPSB3aWR0aDtcblxuICAgIHZlcnRzLnB1c2gocDJ4IC0gKHBlcnB4ICogcjEpLCBwMnkgLSAocGVycHkgKiByMSkpO1xuXG4gICAgdmVydHMucHVzaChwMnggKyAocGVycHggKiByMiksIHAyeSArIChwZXJweSAqIHIyKSk7XG5cbiAgICBjb25zdCBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuXG4gICAgLy8gaW5kaWNlcy5wdXNoKGluZGV4U3RhcnQpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRleENvdW50IC0gMjsgKytpKVxuICAgIHtcbiAgICAgICAgaW5kaWNlcy5wdXNoKGluZGV4U3RhcnQsIGluZGV4U3RhcnQgKyAxLCBpbmRleFN0YXJ0ICsgMik7XG5cbiAgICAgICAgaW5kZXhTdGFydCsrO1xuICAgIH1cbn1cblxuLyoqXG4gKiBCdWlsZHMgYSBsaW5lIHRvIGRyYXcgdXNpbmcgdGhlIGdsLmRyYXdBcnJheXMoZ2wuTElORVMpIG1ldGhvZFxuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzR2VvbWV0cnl9IGdyYXBoaWNzR2VvbWV0cnkgLSBHZW9tZXRyeSB3aGVyZSB0byBhcHBlbmQgb3V0cHV0XG4gKi9cbmZ1bmN0aW9uIGJ1aWxkTmF0aXZlTGluZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpXG57XG4gICAgbGV0IGkgPSAwO1xuXG4gICAgY29uc3QgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cyB8fCBncmFwaGljc0RhdGEuc2hhcGUucG9pbnRzO1xuXG4gICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgIGNvbnN0IHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgY29uc3QgaW5kaWNlcyA9IGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcztcbiAgICBjb25zdCBsZW5ndGggPSBwb2ludHMubGVuZ3RoIC8gMjtcblxuICAgIGxldCBpbmRleFN0YXJ0ID0gdmVydHMubGVuZ3RoIC8gMjtcbiAgICAvLyBzb3J0IGNvbG9yXG5cbiAgICBmb3IgKGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICBjb25zdCBwMXggPSBwb2ludHNbKGkgLSAxKSAqIDJdO1xuICAgICAgICBjb25zdCBwMXkgPSBwb2ludHNbKChpIC0gMSkgKiAyKSArIDFdO1xuXG4gICAgICAgIGNvbnN0IHAyeCA9IHBvaW50c1tpICogMl07XG4gICAgICAgIGNvbnN0IHAyeSA9IHBvaW50c1soaSAqIDIpICsgMV07XG5cbiAgICAgICAgdmVydHMucHVzaChwMXgsIHAxeSk7XG5cbiAgICAgICAgdmVydHMucHVzaChwMngsIHAyeSk7XG5cbiAgICAgICAgaW5kaWNlcy5wdXNoKGluZGV4U3RhcnQrKywgaW5kZXhTdGFydCsrKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBlYXJjdXQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbi8qKlxuICogQnVpbGRzIGEgcG9seWdvbiB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIFdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgICBidWlsZChncmFwaGljc0RhdGEpXG4gICAge1xuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gZ3JhcGhpY3NEYXRhLnNoYXBlLnBvaW50cy5zbGljZSgpO1xuICAgIH0sXG5cbiAgICB0cmlhbmd1bGF0ZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpXG4gICAge1xuICAgICAgICBsZXQgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgY29uc3QgaG9sZXMgPSBncmFwaGljc0RhdGEuaG9sZXM7XG4gICAgICAgIGNvbnN0IHZlcnRzID0gZ3JhcGhpY3NHZW9tZXRyeS5wb2ludHM7XG4gICAgICAgIGNvbnN0IGluZGljZXMgPSBncmFwaGljc0dlb21ldHJ5LmluZGljZXM7XG5cbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPj0gNilcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaG9sZUFycmF5ID0gW107XG4gICAgICAgICAgICAvLyBQcm9jZXNzIGhvbGVzLi5cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob2xlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBob2xlID0gaG9sZXNbaV07XG5cbiAgICAgICAgICAgICAgICBob2xlQXJyYXkucHVzaChwb2ludHMubGVuZ3RoIC8gMik7XG4gICAgICAgICAgICAgICAgcG9pbnRzID0gcG9pbnRzLmNvbmNhdChob2xlLnBvaW50cyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNvcnQgY29sb3JcbiAgICAgICAgICAgIGNvbnN0IHRyaWFuZ2xlcyA9IGVhcmN1dChwb2ludHMsIGhvbGVBcnJheSwgMik7XG5cbiAgICAgICAgICAgIGlmICghdHJpYW5nbGVzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdmVydFBvcyA9IHZlcnRzLmxlbmd0aCAvIDI7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSArPSAzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaV0gKyB2ZXJ0UG9zKTtcbiAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kgKyAxXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVydFBvcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZlcnRzLnB1c2gocG9pbnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG59O1xuIiwiaW1wb3J0IHsgZWFyY3V0IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKipcbiAqIEJ1aWxkcyBhIHJvdW5kZWQgcmVjdGFuZ2xlIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAgIGJ1aWxkKGdyYXBoaWNzRGF0YSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHJyZWN0RGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcbiAgICAgICAgY29uc3QgeCA9IHJyZWN0RGF0YS54O1xuICAgICAgICBjb25zdCB5ID0gcnJlY3REYXRhLnk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gcnJlY3REYXRhLndpZHRoO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBycmVjdERhdGEuaGVpZ2h0O1xuXG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IHJyZWN0RGF0YS5yYWRpdXM7XG5cbiAgICAgICAgcG9pbnRzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCwgeSArIHJhZGl1cyxcbiAgICAgICAgICAgIHgsIHksXG4gICAgICAgICAgICB4ICsgcmFkaXVzLCB5LFxuICAgICAgICAgICAgcG9pbnRzKTtcbiAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHdpZHRoIC0gcmFkaXVzLFxuICAgICAgICAgICAgeSwgeCArIHdpZHRoLCB5LFxuICAgICAgICAgICAgeCArIHdpZHRoLCB5ICsgcmFkaXVzLFxuICAgICAgICAgICAgcG9pbnRzKTtcbiAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHdpZHRoLCB5ICsgaGVpZ2h0IC0gcmFkaXVzLFxuICAgICAgICAgICAgeCArIHdpZHRoLCB5ICsgaGVpZ2h0LFxuICAgICAgICAgICAgeCArIHdpZHRoIC0gcmFkaXVzLCB5ICsgaGVpZ2h0LFxuICAgICAgICAgICAgcG9pbnRzKTtcbiAgICAgICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHJhZGl1cywgeSArIGhlaWdodCxcbiAgICAgICAgICAgIHgsIHkgKyBoZWlnaHQsXG4gICAgICAgICAgICB4LCB5ICsgaGVpZ2h0IC0gcmFkaXVzLFxuICAgICAgICAgICAgcG9pbnRzKTtcblxuICAgICAgICAvLyB0aGlzIHRpbnkgbnVtYmVyIGRlYWxzIHdpdGggdGhlIGlzc3VlIHRoYXQgb2NjdXJzIHdoZW4gcG9pbnRzIG92ZXJsYXAgYW5kIGVhcmN1dCBmYWlscyB0byB0cmlhbmd1bGF0ZSB0aGUgaXRlbS5cbiAgICAgICAgLy8gVE9ETyAtIGZpeCB0aGlzIHByb3Blcmx5LCB0aGlzIGlzIG5vdCB2ZXJ5IGVsZWdhbnQuLiBidXQgaXQgd29ya3MgZm9yIG5vdy5cbiAgICB9LFxuXG4gICAgdHJpYW5ndWxhdGUoZ3JhcGhpY3NEYXRhLCBncmFwaGljc0dlb21ldHJ5KVxuICAgIHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcblxuICAgICAgICBjb25zdCB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuICAgICAgICBjb25zdCBpbmRpY2VzID0gZ3JhcGhpY3NHZW9tZXRyeS5pbmRpY2VzO1xuXG4gICAgICAgIGNvbnN0IHZlY1BvcyA9IHZlcnRzLmxlbmd0aCAvIDI7XG5cbiAgICAgICAgY29uc3QgdHJpYW5nbGVzID0gZWFyY3V0KHBvaW50cywgbnVsbCwgMik7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSB0cmlhbmdsZXMubGVuZ3RoOyBpIDwgajsgaSArPSAzKVxuICAgICAgICB7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2ldICsgdmVjUG9zKTtcbiAgICAgICAgICAgIC8vICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2ldICsgdmVjUG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDFdICsgdmVjUG9zKTtcbiAgICAgICAgICAgIC8vICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMl0gKyB2ZWNQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpICsgMl0gKyB2ZWNQb3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSBwb2ludHMubGVuZ3RoOyBpIDwgajsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1tpXSwgcG9pbnRzWysraV0pO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlIGEgc2luZ2xlIHBvaW50IGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUuXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHVzZWQgYnkgcXVhZHJhdGljQmV6aWVyQ3VydmUuXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4xIC0gZmlyc3QgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gbjIgLSBzZWNvbmQgbnVtYmVyXG4gKiBAcGFyYW0ge251bWJlcn0gcGVyYyAtIHBlcmNlbnRhZ2VcbiAqIEByZXR1cm4ge251bWJlcn0gdGhlIHJlc3VsdFxuICpcbiAqL1xuZnVuY3Rpb24gZ2V0UHQobjEsIG4yLCBwZXJjKVxue1xuICAgIGNvbnN0IGRpZmYgPSBuMiAtIG4xO1xuXG4gICAgcmV0dXJuIG4xICsgKGRpZmYgKiBwZXJjKTtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlLiAoaGVscGVyIGZ1bmN0aW9uLi4pXG4gKiBCYXNlZCBvbjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg1MDk3L2hvdy1kby1pLWltcGxlbWVudC1hLWJlemllci1jdXJ2ZS1pbi1jXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWCAtIE9yaWdpbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbVkgLSBPcmlnaW4gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcltdfSBbb3V0PVtdXSAtIFRoZSBvdXRwdXQgYXJyYXkgdG8gYWRkIHBvaW50cyBpbnRvLiBJZiBub3QgcGFzc2VkLCBhIG5ldyBhcnJheSBpcyBjcmVhdGVkLlxuICogQHJldHVybiB7bnVtYmVyW119IGFuIGFycmF5IG9mIHBvaW50c1xuICovXG5mdW5jdGlvbiBxdWFkcmF0aWNCZXppZXJDdXJ2ZShmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCB0b1gsIHRvWSwgb3V0ID0gW10pXG57XG4gICAgY29uc3QgbiA9IDIwO1xuICAgIGNvbnN0IHBvaW50cyA9IG91dDtcblxuICAgIGxldCB4YSA9IDA7XG4gICAgbGV0IHlhID0gMDtcbiAgICBsZXQgeGIgPSAwO1xuICAgIGxldCB5YiA9IDA7XG4gICAgbGV0IHggPSAwO1xuICAgIGxldCB5ID0gMDtcblxuICAgIGZvciAobGV0IGkgPSAwLCBqID0gMDsgaSA8PSBuOyArK2kpXG4gICAge1xuICAgICAgICBqID0gaSAvIG47XG5cbiAgICAgICAgLy8gVGhlIEdyZWVuIExpbmVcbiAgICAgICAgeGEgPSBnZXRQdChmcm9tWCwgY3BYLCBqKTtcbiAgICAgICAgeWEgPSBnZXRQdChmcm9tWSwgY3BZLCBqKTtcbiAgICAgICAgeGIgPSBnZXRQdChjcFgsIHRvWCwgaik7XG4gICAgICAgIHliID0gZ2V0UHQoY3BZLCB0b1ksIGopO1xuXG4gICAgICAgIC8vIFRoZSBCbGFjayBEb3RcbiAgICAgICAgeCA9IGdldFB0KHhhLCB4Yiwgaik7XG4gICAgICAgIHkgPSBnZXRQdCh5YSwgeWIsIGopO1xuXG4gICAgICAgIHBvaW50cy5wdXNoKHgsIHkpO1xuICAgIH1cblxuICAgIHJldHVybiBwb2ludHM7XG59XG4iLCJpbXBvcnQgeyBTSEFQRVMgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IEJvdW5kcyB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgQmF0Y2hHZW9tZXRyeSwgQmF0Y2hEcmF3Q2FsbCwgQmFzZVRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IERSQVdfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuXG5pbXBvcnQgR3JhcGhpY3NEYXRhIGZyb20gJy4vR3JhcGhpY3NEYXRhJztcbmltcG9ydCBidWlsZENpcmNsZSBmcm9tICcuL3V0aWxzL2J1aWxkQ2lyY2xlJztcbmltcG9ydCBidWlsZExpbmUgZnJvbSAnLi91dGlscy9idWlsZExpbmUnO1xuaW1wb3J0IGJ1aWxkUG9seSBmcm9tICcuL3V0aWxzL2J1aWxkUG9seSc7XG5pbXBvcnQgYnVpbGRSZWN0YW5nbGUgZnJvbSAnLi91dGlscy9idWlsZFJlY3RhbmdsZSc7XG5pbXBvcnQgYnVpbGRSb3VuZGVkUmVjdGFuZ2xlIGZyb20gJy4vdXRpbHMvYnVpbGRSb3VuZGVkUmVjdGFuZ2xlJztcbmltcG9ydCB7IHByZW11bHRpcGx5VGludCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuY29uc3QgQkFUQ0hfUE9PTCA9IFtdO1xuY29uc3QgRFJBV19DQUxMX1BPT0wgPSBbXTtcblxuLyoqXG4gKiBNYXAgb2YgZmlsbCBjb21tYW5kcyBmb3IgZWFjaCBzaGFwZSB0eXBlLlxuICpcbiAqIEBtZW1iZXIge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IGZpbGxDb21tYW5kcyA9IHt9O1xuXG5maWxsQ29tbWFuZHNbU0hBUEVTLlBPTFldID0gYnVpbGRQb2x5O1xuZmlsbENvbW1hbmRzW1NIQVBFUy5DSVJDXSA9IGJ1aWxkQ2lyY2xlO1xuZmlsbENvbW1hbmRzW1NIQVBFUy5FTElQXSA9IGJ1aWxkQ2lyY2xlO1xuZmlsbENvbW1hbmRzW1NIQVBFUy5SRUNUXSA9IGJ1aWxkUmVjdGFuZ2xlO1xuZmlsbENvbW1hbmRzW1NIQVBFUy5SUkVDXSA9IGJ1aWxkUm91bmRlZFJlY3RhbmdsZTtcblxuLyoqXG4gKiBBIGxpdHRsZSBpbnRlcm5hbCBzdHJ1Y3R1cmUgdG8gaG9sZCBpbnRlcmltIGJhdGNoIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgQmF0Y2hQYXJ0XG57XG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgdGhpcy5zdHlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuc3RhcnQgPSAwO1xuICAgICAgICB0aGlzLmF0dHJpYlN0YXJ0ID0gMDtcbiAgICAgICAgdGhpcy5hdHRyaWJTaXplID0gMDtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIEdyYXBoaWNzIGNsYXNzIGNvbnRhaW5zIG1ldGhvZHMgdXNlZCB0byBkcmF3IHByaW1pdGl2ZSBzaGFwZXMgc3VjaCBhcyBsaW5lcywgY2lyY2xlcyBhbmRcbiAqIHJlY3RhbmdsZXMgdG8gdGhlIGRpc3BsYXksIGFuZCB0byBjb2xvciBhbmQgZmlsbCB0aGVtLlxuICpcbiAqIEdyYXBoaWNzR2VvbWV0cnkgaXMgZGVzaWduZWQgdG8gbm90IGJlIGNvbnRpbnVhbGx5IHVwZGF0aW5nIHRoZSBnZW9tZXRyeSBzaW5jZSBpdCdzIGV4cGVuc2l2ZVxuICogdG8gcmUtdGVzc2VsYXRlIHVzaW5nICoqZWFyY3V0KiouIENvbnNpZGVyIHVzaW5nIHtAbGluayBQSVhJLk1lc2h9IGZvciB0aGlzIHVzZS1jYXNlLCBpdCdzIG11Y2ggZmFzdGVyLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5CYXRjaEdlb21ldHJ5XG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmFwaGljc0dlb21ldHJ5IGV4dGVuZHMgQmF0Y2hHZW9tZXRyeVxue1xuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHBvaW50cyB0byBkcmF3XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnRbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb2ludHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgY29sb3JzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbG9ycyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgVVZzIGNvbGxlY3Rpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbmRpY2VzIG9mIHRoZSB2ZXJ0aWNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmRpY2VzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgdGV4dHVyZSBJRHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHR1cmVJZHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvbGxlY3Rpb24gb2YgZHJhd24gc2hhcGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzRGF0YVtdfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YSA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGRldGVjdCBpZiB0aGUgZ3JhcGhpY3Mgb2JqZWN0IGhhcyBjaGFuZ2VkLiBJZiB0aGlzIGlzIHNldCB0byB0cnVlIHRoZW4gdGhlIGdyYXBoaWNzXG4gICAgICAgICAqIG9iamVjdCB3aWxsIGJlIHJlY2FsY3VsYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQmF0Y2hlcyBuZWVkIHRvIHJlZ2VuZXJhdGVkIGlmIHRoZSBnZW9tZXRyeSBpcyB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmF0Y2hEaXJ0eSA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIHRvIGNoZWNrIGlmIHRoZSBjYWNoZSBpcyBkaXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhY2hlRGlydHkgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBkZXRlY3QgaWYgd2UgY2xlYXIgdGhlIGdyYXBoaWNzIFdlYkdMIGRhdGEuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsZWFyRGlydHkgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaXN0IG9mIGN1cnJlbnQgZHJhdyBjYWxscyBkcml2ZWQgZnJvbSB0aGUgYmF0Y2hlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZHJhd0NhbGxzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybWVkaWF0ZSBhYnN0cmFjdCBmb3JtYXQgc2VudCB0byBiYXRjaCBzeXN0ZW0uXG4gICAgICAgICAqIENhbiBiZSBjb252ZXJ0ZWQgdG8gZHJhd0NhbGxzIG9yIHRvIGJhdGNoYWJsZSBvYmplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3RbXX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXRjaGVzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGV4IG9mIHRoZSBjdXJyZW50IGxhc3Qgc2hhcGUgaW4gdGhlIHN0YWNrIG9mIGNhbGxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hhcGVJbmRleCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlZCBib3VuZHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuQm91bmRzfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZHMgPSBuZXcgQm91bmRzKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBib3VuZHMgZGlydHkgZmxhZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJvdW5kc0RpcnR5ID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBhZGRpbmcgdG8gYWRkIHRvIHRoZSBib3VuZHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ib3VuZHNQYWRkaW5nID0gMDtcblxuICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuaW5kaWNlc1VpbnQxNiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy51dnNGbG9hdDMyID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgYm91bmRzIG9mIHRoZSBncmFwaGljIGdlb21ldHJ5LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5Cb3VuZHN9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IGJvdW5kcygpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5ib3VuZHNEaXJ0eSAhPT0gdGhpcy5kaXJ0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ib3VuZHNEaXJ0eSA9IHRoaXMuZGlydHk7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGdyYXBoaWNzIHRoYXQgd2VyZSBkcmF3biB0byB0aGlzIEdyYXBoaWNzIG9iamVjdCwgYW5kIHJlc2V0cyBmaWxsIGFuZCBsaW5lIHN0eWxlIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBUaGlzIEdyYXBoaWNzR2VvbWV0cnkgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBjbGVhcigpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ib3VuZHNEaXJ0eSA9IC0xO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSsrO1xuICAgICAgICAgICAgdGhpcy5jbGVhckRpcnR5Kys7XG4gICAgICAgICAgICB0aGlzLmJhdGNoRGlydHkrKztcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICB0aGlzLnNoYXBlSW5kZXggPSAwO1xuXG4gICAgICAgICAgICB0aGlzLnBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgdGhpcy5jb2xvcnMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHRoaXMudXZzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICB0aGlzLmluZGljZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZUlkcy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZHJhd0NhbGxzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0NhbGxzW2ldLnRleHR1cmVzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgRFJBV19DQUxMX1BPT0wucHVzaCh0aGlzLmRyYXdDYWxsc1tpXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZHJhd0NhbGxzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gIHRoaXMuYmF0Y2hlc1tpXTtcblxuICAgICAgICAgICAgICAgIGJhdGNoLnN0YXJ0ID0gMDtcbiAgICAgICAgICAgICAgICBiYXRjaC5hdHRyaWJTdGFydCA9IDA7XG4gICAgICAgICAgICAgICAgYmF0Y2guc3R5bGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIEJBVENIX1BPT0wucHVzaChiYXRjaCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYmF0Y2hlcy5sZW5ndGggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRHJhd3MgdGhlIGdpdmVuIHNoYXBlIHRvIHRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBDYW4gYmUgYW55IG9mIENpcmNsZSwgUmVjdGFuZ2xlLCBFbGxpcHNlLCBMaW5lIG9yIFBvbHlnb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ2lyY2xlfFBJWEkuRWxsaXBzZXxQSVhJLlBvbHlnb258UElYSS5SZWN0YW5nbGV8UElYSS5Sb3VuZGVkUmVjdGFuZ2xlfSBzaGFwZSAtIFRoZSBzaGFwZSBvYmplY3QgdG8gZHJhdy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsbFN0eWxlfSBmaWxsU3R5bGUgLSBEZWZpbmVzIHN0eWxlIG9mIHRoZSBmaWxsLlxuICAgICAqIEBwYXJhbSB7UElYSS5MaW5lU3R5bGV9IGxpbmVTdHlsZSAtIERlZmluZXMgc3R5bGUgb2YgdGhlIGxpbmVzLlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRyYW5zZm9ybSBhcHBsaWVkIHRvIHRoZSBwb2ludHMgb2YgdGhlIHNoYXBlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gUmV0dXJucyBnZW9tZXRyeSBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgZHJhd1NoYXBlKHNoYXBlLCBmaWxsU3R5bGUsIGxpbmVTdHlsZSwgbWF0cml4KVxuICAgIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IG5ldyBHcmFwaGljc0RhdGEoc2hhcGUsIGZpbGxTdHlsZSwgbGluZVN0eWxlLCBtYXRyaXgpO1xuXG4gICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhLnB1c2goZGF0YSk7XG4gICAgICAgIHRoaXMuZGlydHkrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgZ2l2ZW4gc2hhcGUgdG8gdGhpcyBHcmFwaGljcyBvYmplY3QuIENhbiBiZSBhbnkgb2YgQ2lyY2xlLCBSZWN0YW5nbGUsIEVsbGlwc2UsIExpbmUgb3IgUG9seWdvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IHNoYXBlIC0gVGhlIHNoYXBlIG9iamVjdCB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRyYW5zZm9ybSBhcHBsaWVkIHRvIHRoZSBwb2ludHMgb2YgdGhlIHNoYXBlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3NHZW9tZXRyeX0gUmV0dXJucyBnZW9tZXRyeSBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgZHJhd0hvbGUoc2hhcGUsIG1hdHJpeClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgR3JhcGhpY3NEYXRhKHNoYXBlLCBudWxsLCBudWxsLCBtYXRyaXgpO1xuXG4gICAgICAgIGNvbnN0IGxhc3RTaGFwZSA9IHRoaXMuZ3JhcGhpY3NEYXRhW3RoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGRhdGEubGluZVN0eWxlID0gbGFzdFNoYXBlLmxpbmVTdHlsZTtcblxuICAgICAgICBsYXN0U2hhcGUuaG9sZXMucHVzaChkYXRhKTtcblxuICAgICAgICB0aGlzLmRpcnR5Kys7XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsXG4gICAgICogIG9wdGlvbnMgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmVcbiAgICAgKiAgdGhlaXIgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgZGVzdHJveShvcHRpb25zKVxuICAgIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveShvcHRpb25zKTtcblxuICAgICAgICAvLyBkZXN0cm95IGVhY2ggb2YgdGhlIEdyYXBoaWNzRGF0YSBvYmplY3RzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMucG9pbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb2xvcnMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5jb2xvcnMgPSBudWxsO1xuICAgICAgICB0aGlzLnV2cy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnV2cyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5kaWNlcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmluZGljZXMgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMgPSBudWxsO1xuICAgICAgICB0aGlzLmJhdGNoZXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5iYXRjaGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYm91bmRzID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayB0byBzZWUgaWYgYSBwb2ludCBpcyBjb250YWluZWQgd2l0aGluIHRoaXMgZ2VvbWV0cnkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvaW50IC0gUG9pbnQgdG8gY2hlY2sgaWYgaXQncyBjb250YWluZWQuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBwb2ludCBpcyBjb250YWluZWQgd2l0aGluIGdlb21ldHJ5LlxuICAgICAqL1xuICAgIGNvbnRhaW5zUG9pbnQocG9pbnQpXG4gICAge1xuICAgICAgICBjb25zdCBncmFwaGljc0RhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyYXBoaWNzRGF0YS5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGdyYXBoaWNzRGF0YVtpXTtcblxuICAgICAgICAgICAgaWYgKCFkYXRhLmZpbGxTdHlsZS52aXNpYmxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBvbmx5IGRlYWwgd2l0aCBmaWxscy4uXG4gICAgICAgICAgICBpZiAoZGF0YS5zaGFwZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zaGFwZS5jb250YWlucyhwb2ludC54LCBwb2ludC55KSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmhvbGVzKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEuaG9sZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaG9sZSA9IGRhdGEuaG9sZXNbaV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG9sZS5zaGFwZS5jb250YWlucyhwb2ludC54LCBwb2ludC55KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGludGVybWVkaWF0ZSBiYXRjaCBkYXRhLiBFaXRoZXIgZ2V0cyBjb252ZXJ0ZWQgdG8gZHJhd0NhbGxzXG4gICAgICogb3IgdXNlZCB0byBjb252ZXJ0IHRvIGJhdGNoIG9iamVjdHMgZGlyZWN0bHkgYnkgdGhlIEdyYXBoaWNzIG9iamVjdC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgdXBkYXRlQmF0Y2hlcygpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSA9PT0gdGhpcy5jYWNoZURpcnR5KSByZXR1cm47XG4gICAgICAgIGlmICh0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5kaXJ0eSAhPT0gdGhpcy5jYWNoZURpcnR5KVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YVtpXTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmZpbGxTdHlsZSAmJiAhZGF0YS5maWxsU3R5bGUudGV4dHVyZS5iYXNlVGV4dHVyZS52YWxpZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmxpbmVTdHlsZSAmJiAhZGF0YS5saW5lU3R5bGUudGV4dHVyZS5iYXNlVGV4dHVyZS52YWxpZCkgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWNoZURpcnR5ID0gdGhpcy5kaXJ0eTtcblxuICAgICAgICBjb25zdCB1dnMgPSB0aGlzLnV2cztcblxuICAgICAgICBsZXQgYmF0Y2hQYXJ0ID0gdGhpcy5iYXRjaGVzLnBvcCgpXG4gICAgICAgICAgICB8fCBCQVRDSF9QT09MLnBvcCgpXG4gICAgICAgICAgICB8fCBuZXcgQmF0Y2hQYXJ0KCk7XG5cbiAgICAgICAgYmF0Y2hQYXJ0LnN0eWxlID0gYmF0Y2hQYXJ0LnN0eWxlXG4gICAgICAgICAgICB8fCB0aGlzLmdyYXBoaWNzRGF0YVswXS5maWxsU3R5bGVcbiAgICAgICAgICAgIHx8IHRoaXMuZ3JhcGhpY3NEYXRhWzBdLmxpbmVTdHlsZTtcblxuICAgICAgICBsZXQgY3VycmVudFRleHR1cmUgPSBiYXRjaFBhcnQuc3R5bGUudGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgbGV0IGN1cnJlbnRDb2xvciA9IGJhdGNoUGFydC5zdHlsZS5jb2xvciArIGJhdGNoUGFydC5zdHlsZS5hbHBoYTtcblxuICAgICAgICB0aGlzLmJhdGNoZXMucHVzaChiYXRjaFBhcnQpO1xuXG4gICAgICAgIC8vIFRPRE8gLSB0aGlzIGNhbiBiZSBzaW1wbGlmaWVkXG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLnNoYXBlSW5kZXg7IGkgPCB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zaGFwZUluZGV4Kys7XG5cbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YVtpXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1hbmQgPSBmaWxsQ29tbWFuZHNbZGF0YS50eXBlXTtcblxuICAgICAgICAgICAgY29uc3QgZmlsbFN0eWxlID0gZGF0YS5maWxsU3R5bGU7XG4gICAgICAgICAgICBjb25zdCBsaW5lU3R5bGUgPSBkYXRhLmxpbmVTdHlsZTtcblxuICAgICAgICAgICAgLy8gYnVpbGQgb3V0IHRoZSBzaGFwZXMgcG9pbnRzLi5cbiAgICAgICAgICAgIGNvbW1hbmQuYnVpbGQoZGF0YSk7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLm1hdHJpeClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybVBvaW50cyhkYXRhLnBvaW50cywgZGF0YS5tYXRyaXgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDI7IGorKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZSA9IChqID09PSAwKSA/IGZpbGxTdHlsZSA6IGxpbmVTdHlsZTtcblxuICAgICAgICAgICAgICAgIGlmICghc3R5bGUudmlzaWJsZSkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0VGV4dHVyZSA9IHN0eWxlLnRleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRleHR1cmUgIT09IG5leHRUZXh0dXJlIHx8IChzdHlsZS5jb2xvciArIHN0eWxlLmFscGhhKSAhPT0gY3VycmVudENvbG9yKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyB1c2UgYSBjb25zdFxuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS53cmFwTW9kZSA9IDEwNDk3O1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG5leHRUZXh0dXJlO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29sb3IgPSBzdHlsZS5jb2xvciArIHN0eWxlLmFscGhhO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5pbmRpY2VzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0cmliSW5kZXggPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuXG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydC5zaXplID0gaW5kZXggLSBiYXRjaFBhcnQuc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydC5hdHRyaWJTaXplID0gYXR0cmliSW5kZXggLSBiYXRjaFBhcnQuYXR0cmliU3RhcnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJhdGNoUGFydC5zaXplID4gMClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmF0Y2hQYXJ0ID0gQkFUQ0hfUE9PTC5wb3AoKSB8fCBuZXcgQmF0Y2hQYXJ0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmF0Y2hlcy5wdXNoKGJhdGNoUGFydCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBiYXRjaFBhcnQuc3R5bGUgPSBzdHlsZTtcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hQYXJ0LnN0YXJ0ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGJhdGNoUGFydC5hdHRyaWJTdGFydCA9IGF0dHJpYkluZGV4O1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gYWRkIHRoaXMgdG8gdGhlIHJlbmRlciBwYXJ0Li5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMucG9pbnRzLmxlbmd0aCAvIDI7XG5cbiAgICAgICAgICAgICAgICBpZiAoaiA9PT0gMClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmhvbGVzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzSG9sZXMoZGF0YS5ob2xlcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkUG9seS50cmlhbmd1bGF0ZShkYXRhLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQudHJpYW5ndWxhdGUoZGF0YSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYnVpbGRMaW5lKGRhdGEsIHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5ob2xlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRMaW5lKGRhdGEuaG9sZXNbaV0sIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZSA9ICh0aGlzLnBvaW50cy5sZW5ndGggLyAyKSAtIHN0YXJ0O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRVdnModGhpcy5wb2ludHMsIHV2cywgc3R5bGUudGV4dHVyZSwgc3RhcnQsIHNpemUsIHN0eWxlLm1hdHJpeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGF0dHJpYiA9IHRoaXMucG9pbnRzLmxlbmd0aCAvIDI7XG5cbiAgICAgICAgYmF0Y2hQYXJ0LnNpemUgPSBpbmRleCAtIGJhdGNoUGFydC5zdGFydDtcbiAgICAgICAgYmF0Y2hQYXJ0LmF0dHJpYlNpemUgPSBhdHRyaWIgLSBiYXRjaFBhcnQuYXR0cmliU3RhcnQ7XG4gICAgICAgIHRoaXMuaW5kaWNlc1VpbnQxNiA9IG5ldyBVaW50MTZBcnJheSh0aGlzLmluZGljZXMpO1xuXG4gICAgICAgIC8vIFRPRE8gbWFrZSB0aGlzIGEgY29uc3QuLlxuICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IHRoaXMuaXNCYXRjaGFibGUoKTtcblxuICAgICAgICBpZiAodGhpcy5iYXRjaGFibGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmF0Y2hEaXJ0eSsrO1xuXG4gICAgICAgICAgICB0aGlzLnV2c0Zsb2F0MzIgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudXZzKTtcblxuICAgICAgICAgICAgLy8gb2Zmc2V0IHRoZSBpbmRpY2VzIHNvIHRoYXQgaXQgd29ya3Mgd2l0aCB0aGUgYmF0Y2hlci4uLlxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJhdGNoZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmF0Y2ggPSB0aGlzLmJhdGNoZXNbaV07XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJhdGNoLnNpemU7IGorKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gYmF0Y2guc3RhcnQgKyBqO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kaWNlc1VpbnQxNltpbmRleF0gPSB0aGlzLmluZGljZXNVaW50MTZbaW5kZXhdIC0gYmF0Y2guYXR0cmliU3RhcnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5idWlsZERyYXdDYWxscygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRvIHNlZSBpZiB0aGlzIGdyYXBoaWNzIGdlb21ldHJ5IGNhbiBiZSBiYXRjaGVkLlxuICAgICAqIEN1cnJlbnRseSBpdCBuZWVkcyB0byBiZSBzbWFsbCBlbm91Z2ggYW5kIG5vdCBjb250YWluIGFueSBuYXRpdmUgbGluZXMuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGlzQmF0Y2hhYmxlKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGJhdGNoZXMgPSB0aGlzLmJhdGNoZXM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiYXRjaGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoYmF0Y2hlc1tpXS5zdHlsZS5uYXRpdmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICh0aGlzLnBvaW50cy5sZW5ndGggPCBHcmFwaGljc0dlb21ldHJ5LkJBVENIQUJMRV9TSVpFICogMik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgaW50ZXJtZWRpYXRlIGJhdGNoZXMgZGF0YSB0byBkcmF3Q2FsbHMuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGJ1aWxkRHJhd0NhbGxzKClcbiAgICB7XG4gICAgICAgIGxldCBUSUNLID0gKytCYXNlVGV4dHVyZS5fZ2xvYmFsQmF0Y2g7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRyYXdDYWxscy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kcmF3Q2FsbHNbaV0udGV4dHVyZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIERSQVdfQ0FMTF9QT09MLnB1c2godGhpcy5kcmF3Q2FsbHNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMubGVuZ3RoID0gMDtcblxuICAgICAgICBjb25zdCB1dnMgPSB0aGlzLnV2cztcbiAgICAgICAgY29uc3QgY29sb3JzID0gdGhpcy5jb2xvcnM7XG4gICAgICAgIGNvbnN0IHRleHR1cmVJZHMgPSB0aGlzLnRleHR1cmVJZHM7XG5cbiAgICAgICAgbGV0IGN1cnJlbnRHcm91cCA9ICBEUkFXX0NBTExfUE9PTC5wb3AoKSB8fCBuZXcgQmF0Y2hEcmF3Q2FsbCgpO1xuXG4gICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuc3RhcnQgPSAwO1xuICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSA9IDA7XG4gICAgICAgIGN1cnJlbnRHcm91cC50eXBlID0gRFJBV19NT0RFUy5UUklBTkdMRVM7XG5cbiAgICAgICAgbGV0IHRleHR1cmVDb3VudCA9IDA7XG4gICAgICAgIGxldCBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgIGxldCB0ZXh0dXJlSWQgPSAwO1xuICAgICAgICBsZXQgbmF0aXZlID0gZmFsc2U7XG4gICAgICAgIGxldCBkcmF3TW9kZSA9IERSQVdfTU9ERVMuVFJJQU5HTEVTO1xuXG4gICAgICAgIGxldCBpbmRleCA9IDA7XG5cbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMucHVzaChjdXJyZW50R3JvdXApO1xuXG4gICAgICAgIC8vIFRPRE8gLSB0aGlzIGNhbiBiZSBzaW1wbGlmaWVkXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5iYXRjaGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5iYXRjaGVzW2ldO1xuXG4gICAgICAgICAgICAvLyBUT0RPIGFkZCBzb21lIGZ1bGwgb24gTUFYX1RFWFRVUkUgQ09ERS4uXG4gICAgICAgICAgICBjb25zdCBNQVhfVEVYVFVSRVMgPSA4O1xuXG4gICAgICAgICAgICBjb25zdCBzdHlsZSA9IGRhdGEuc3R5bGU7XG5cbiAgICAgICAgICAgIGNvbnN0IG5leHRUZXh0dXJlID0gc3R5bGUudGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgaWYgKG5hdGl2ZSAhPT0gc3R5bGUubmF0aXZlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hdGl2ZSA9IHN0eWxlLm5hdGl2ZTtcbiAgICAgICAgICAgICAgICBkcmF3TW9kZSA9IG5hdGl2ZSA/IERSQVdfTU9ERVMuTElORVMgOiBEUkFXX01PREVTLlRSSUFOR0xFUztcblxuICAgICAgICAgICAgICAgIC8vIGZvcmNlIHRoZSBiYXRjaCB0byBicmVhayFcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gTUFYX1RFWFRVUkVTO1xuICAgICAgICAgICAgICAgIFRJQ0srKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRUZXh0dXJlICE9PSBuZXh0VGV4dHVyZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50VGV4dHVyZSA9IG5leHRUZXh0dXJlO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5leHRUZXh0dXJlLl9iYXRjaEVuYWJsZWQgIT09IFRJQ0spXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dHVyZUNvdW50ID09PSBNQVhfVEVYVFVSRVMpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRJQ0srKztcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRHcm91cC5zaXplID4gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAgPSBEUkFXX0NBTExfUE9PTC5wb3AoKSB8fCBuZXcgQmF0Y2hEcmF3Q2FsbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0NhbGxzLnB1c2goY3VycmVudEdyb3VwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnN0YXJ0ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAuc2l6ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAudGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50eXBlID0gZHJhd01vZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGFkZCB0aGlzIHRvIHRoZSByZW5kZXIgcGFydC4uXG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLnRvdWNoZWQgPSAxOy8vIHRvdWNoO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS5fYmF0Y2hFbmFibGVkID0gVElDSztcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUuX2lkID0gdGV4dHVyZUNvdW50O1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS53cmFwTW9kZSA9IDEwNDk3O1xuXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlc1tjdXJyZW50R3JvdXAudGV4dHVyZUNvdW50KytdID0gbmV4dFRleHR1cmU7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmVDb3VudCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3VycmVudEdyb3VwLnNpemUgKz0gZGF0YS5zaXplO1xuICAgICAgICAgICAgaW5kZXggKz0gZGF0YS5zaXplO1xuXG4gICAgICAgICAgICB0ZXh0dXJlSWQgPSBuZXh0VGV4dHVyZS5faWQ7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkQ29sb3JzKGNvbG9ycywgc3R5bGUuY29sb3IsIHN0eWxlLmFscGhhLCBkYXRhLmF0dHJpYlNpemUpO1xuICAgICAgICAgICAgdGhpcy5hZGRUZXh0dXJlSWRzKHRleHR1cmVJZHMsIHRleHR1cmVJZCwgZGF0YS5hdHRyaWJTaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEJhc2VUZXh0dXJlLl9nbG9iYWxCYXRjaCA9IFRJQ0s7XG5cbiAgICAgICAgLy8gdXBsb2FkLi5cbiAgICAgICAgLy8gbWVyZ2UgZm9yIG5vdyFcbiAgICAgICAgY29uc3QgdmVydHMgPSB0aGlzLnBvaW50cztcblxuICAgICAgICAvLyB2ZXJ0cyBhcmUgMiBwb3NpdGlvbnMuLiBzbyB3ZSAqIGJ5IDMgYXMgdGhlcmUgYXJlIDYgcHJvcGVydGllcy4uIHRoZW4gNCBjb3MgaXRzIGJ5dGVzXG4gICAgICAgIGNvbnN0IGdsUG9pbnRzID0gbmV3IEFycmF5QnVmZmVyKHZlcnRzLmxlbmd0aCAqIDMgKiA0KTtcbiAgICAgICAgY29uc3QgZjMyID0gbmV3IEZsb2F0MzJBcnJheShnbFBvaW50cyk7XG4gICAgICAgIGNvbnN0IHUzMiA9IG5ldyBVaW50MzJBcnJheShnbFBvaW50cyk7XG5cbiAgICAgICAgbGV0IHAgPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydHMubGVuZ3RoIC8gMjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBmMzJbcCsrXSA9IHZlcnRzW2kgKiAyXTtcbiAgICAgICAgICAgIGYzMltwKytdID0gdmVydHNbKGkgKiAyKSArIDFdO1xuXG4gICAgICAgICAgICBmMzJbcCsrXSA9IHV2c1tpICogMl07XG4gICAgICAgICAgICBmMzJbcCsrXSA9IHV2c1soaSAqIDIpICsgMV07XG5cbiAgICAgICAgICAgIHUzMltwKytdID0gY29sb3JzW2ldO1xuXG4gICAgICAgICAgICBmMzJbcCsrXSA9IHRleHR1cmVJZHNbaV07XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9idWZmZXIudXBkYXRlKGdsUG9pbnRzKTtcbiAgICAgICAgdGhpcy5faW5kZXhCdWZmZXIudXBkYXRlKHRoaXMuaW5kaWNlc1VpbnQxNik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvY2VzcyB0aGUgaG9sZXMgZGF0YS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0RhdGFbXX0gaG9sZXMgLSBIb2xlcyB0byByZW5kZXJcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgcHJvY2Vzc0hvbGVzKGhvbGVzKVxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob2xlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaG9sZSA9IGhvbGVzW2ldO1xuXG4gICAgICAgICAgICBjb25zdCBjb21tYW5kID0gZmlsbENvbW1hbmRzW2hvbGUudHlwZV07XG5cbiAgICAgICAgICAgIGNvbW1hbmQuYnVpbGQoaG9sZSk7XG5cbiAgICAgICAgICAgIGlmIChob2xlLm1hdHJpeClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybVBvaW50cyhob2xlLnBvaW50cywgaG9sZS5tYXRyaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIG9iamVjdC4gRXhwZW5zaXZlIHRvIHVzZSBwZXJmb3JtYW5jZS13aXNlLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBjYWxjdWxhdGVCb3VuZHMoKVxuICAgIHtcbiAgICAgICAgbGV0IG1pblggPSBJbmZpbml0eTtcbiAgICAgICAgbGV0IG1heFggPSAtSW5maW5pdHk7XG5cbiAgICAgICAgbGV0IG1pblkgPSBJbmZpbml0eTtcbiAgICAgICAgbGV0IG1heFkgPSAtSW5maW5pdHk7XG5cbiAgICAgICAgaWYgKHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHNoYXBlID0gbnVsbDtcbiAgICAgICAgICAgIGxldCB4ID0gMDtcbiAgICAgICAgICAgIGxldCB5ID0gMDtcbiAgICAgICAgICAgIGxldCB3ID0gMDtcbiAgICAgICAgICAgIGxldCBoID0gMDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5ncmFwaGljc0RhdGFbaV07XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gZGF0YS50eXBlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVXaWR0aCA9IGRhdGEubGluZVN0eWxlID8gZGF0YS5saW5lU3R5bGUud2lkdGggOiAwO1xuXG4gICAgICAgICAgICAgICAgc2hhcGUgPSBkYXRhLnNoYXBlO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFNIQVBFUy5SRUNUIHx8IHR5cGUgPT09IFNIQVBFUy5SUkVDKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9IHNoYXBlLnggLSAobGluZVdpZHRoIC8gMik7XG4gICAgICAgICAgICAgICAgICAgIHkgPSBzaGFwZS55IC0gKGxpbmVXaWR0aCAvIDIpO1xuICAgICAgICAgICAgICAgICAgICB3ID0gc2hhcGUud2lkdGggKyBsaW5lV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIGggPSBzaGFwZS5oZWlnaHQgKyBsaW5lV2lkdGg7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgICAgICAgICAgICAgIG1heFggPSB4ICsgdyA+IG1heFggPyB4ICsgdyA6IG1heFg7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgICAgICAgICAgICAgIG1heFkgPSB5ICsgaCA+IG1heFkgPyB5ICsgaCA6IG1heFk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IFNIQVBFUy5DSVJDKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgeCA9IHNoYXBlLng7XG4gICAgICAgICAgICAgICAgICAgIHkgPSBzaGFwZS55O1xuICAgICAgICAgICAgICAgICAgICB3ID0gc2hhcGUucmFkaXVzICsgKGxpbmVXaWR0aCAvIDIpO1xuICAgICAgICAgICAgICAgICAgICBoID0gc2hhcGUucmFkaXVzICsgKGxpbmVXaWR0aCAvIDIpO1xuXG4gICAgICAgICAgICAgICAgICAgIG1pblggPSB4IC0gdyA8IG1pblggPyB4IC0gdyA6IG1pblg7XG4gICAgICAgICAgICAgICAgICAgIG1heFggPSB4ICsgdyA+IG1heFggPyB4ICsgdyA6IG1heFg7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWSA9IHkgLSBoIDwgbWluWSA/IHkgLSBoIDogbWluWTtcbiAgICAgICAgICAgICAgICAgICAgbWF4WSA9IHkgKyBoID4gbWF4WSA/IHkgKyBoIDogbWF4WTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gU0hBUEVTLkVMSVApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB4ID0gc2hhcGUueDtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHNoYXBlLnk7XG4gICAgICAgICAgICAgICAgICAgIHcgPSBzaGFwZS53aWR0aCArIChsaW5lV2lkdGggLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgaCA9IHNoYXBlLmhlaWdodCArIChsaW5lV2lkdGggLyAyKTtcblxuICAgICAgICAgICAgICAgICAgICBtaW5YID0geCAtIHcgPCBtaW5YID8geCAtIHcgOiBtaW5YO1xuICAgICAgICAgICAgICAgICAgICBtYXhYID0geCArIHcgPiBtYXhYID8geCArIHcgOiBtYXhYO1xuXG4gICAgICAgICAgICAgICAgICAgIG1pblkgPSB5IC0gaCA8IG1pblkgPyB5IC0gaCA6IG1pblk7XG4gICAgICAgICAgICAgICAgICAgIG1heFkgPSB5ICsgaCA+IG1heFkgPyB5ICsgaCA6IG1heFk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFBPTFlcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnRzID0gc2hhcGUucG9pbnRzO1xuICAgICAgICAgICAgICAgICAgICBsZXQgeDIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgeTIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZHggPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZHkgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcncgPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcmggPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3ggPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3kgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqICsgMiA8IHBvaW50cy5sZW5ndGg7IGogKz0gMilcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgeCA9IHBvaW50c1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBwb2ludHNbaiArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgeDIgPSBwb2ludHNbaiArIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgeTIgPSBwb2ludHNbaiArIDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZHggPSBNYXRoLmFicyh4MiAtIHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZHkgPSBNYXRoLmFicyh5MiAtIHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IGxpbmVXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHcgPSBNYXRoLnNxcnQoKGR4ICogZHgpICsgKGR5ICogZHkpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHcgPCAxZS05KVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBydyA9ICgoaCAvIHcgKiBkeSkgKyBkeCkgLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmggPSAoKGggLyB3ICogZHgpICsgZHkpIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN4ID0gKHgyICsgeCkgLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3kgPSAoeTIgKyB5KSAvIDI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG1pblggPSBjeCAtIHJ3IDwgbWluWCA/IGN4IC0gcncgOiBtaW5YO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF4WCA9IGN4ICsgcncgPiBtYXhYID8gY3ggKyBydyA6IG1heFg7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG1pblkgPSBjeSAtIHJoIDwgbWluWSA/IGN5IC0gcmggOiBtaW5ZO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF4WSA9IGN5ICsgcmggPiBtYXhZID8gY3kgKyByaCA6IG1heFk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBtaW5YID0gMDtcbiAgICAgICAgICAgIG1heFggPSAwO1xuICAgICAgICAgICAgbWluWSA9IDA7XG4gICAgICAgICAgICBtYXhZID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhZGRpbmcgPSB0aGlzLmJvdW5kc1BhZGRpbmc7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzLm1pblggPSBtaW5YIC0gcGFkZGluZztcbiAgICAgICAgdGhpcy5fYm91bmRzLm1heFggPSBtYXhYICsgcGFkZGluZztcblxuICAgICAgICB0aGlzLl9ib3VuZHMubWluWSA9IG1pblkgLSBwYWRkaW5nO1xuICAgICAgICB0aGlzLl9ib3VuZHMubWF4WSA9IG1heFkgKyBwYWRkaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSBwb2ludHMgdXNpbmcgbWF0cml4LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIFBvaW50cyB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUcmFuc2Zvcm0gbWF0cml4XG4gICAgICovXG4gICAgdHJhbnNmb3JtUG9pbnRzKHBvaW50cywgbWF0cml4KVxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoIC8gMjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB4ID0gcG9pbnRzWyhpICogMildO1xuICAgICAgICAgICAgY29uc3QgeSA9IHBvaW50c1soaSAqIDIpICsgMV07XG5cbiAgICAgICAgICAgIHBvaW50c1soaSAqIDIpXSA9IChtYXRyaXguYSAqIHgpICsgKG1hdHJpeC5jICogeSkgKyBtYXRyaXgudHg7XG4gICAgICAgICAgICBwb2ludHNbKGkgKiAyKSArIDFdID0gKG1hdHJpeC5iICogeCkgKyAobWF0cml4LmQgKiB5KSArIG1hdHJpeC50eTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBjb2xvcnMuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3JzIC0gTGlzdCBvZiBjb2xvcnMgdG8gYWRkIHRvXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbG9yIC0gQ29sb3IgdG8gYWRkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIC0gQWxwaGEgdG8gdXNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBOdW1iZXIgb2YgY29sb3JzIHRvIGFkZFxuICAgICAqL1xuICAgIGFkZENvbG9ycyhjb2xvcnMsIGNvbG9yLCBhbHBoYSwgc2l6ZSlcbiAgICB7XG4gICAgICAgIC8vIFRPRE8gdXNlIHRoZSBwcmVtdWx0aXBseSBiaXRzIEl2YW4gYWRkZWRcbiAgICAgICAgY29uc3QgcmdiID0gKGNvbG9yID4+IDE2KSArIChjb2xvciAmIDB4ZmYwMCkgKyAoKGNvbG9yICYgMHhmZikgPDwgMTYpO1xuXG4gICAgICAgIGNvbnN0IHJnYmEgPSAgcHJlbXVsdGlwbHlUaW50KHJnYiwgYWxwaGEpO1xuXG4gICAgICAgIHdoaWxlIChzaXplLS0gPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb2xvcnMucHVzaChyZ2JhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCB0ZXh0dXJlIGlkIHRoYXQgdGhlIHNoYWRlci9mcmFnbWVudCB3YW50cyB0byB1c2UuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdGV4dHVyZUlkc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplXG4gICAgICovXG4gICAgYWRkVGV4dHVyZUlkcyh0ZXh0dXJlSWRzLCBpZCwgc2l6ZSlcbiAgICB7XG4gICAgICAgIHdoaWxlIChzaXplLS0gPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0dXJlSWRzLnB1c2goaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHRoZSBVVnMgZm9yIGEgc2hhcGUuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gdmVydHMgLSBWZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHV2cyAtIFVWc1xuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gUmVmZXJlbmNlIHRvIFRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgLSBJbmRleCBidWZmZXIgc3RhcnQgaW5kZXguXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBUaGUgc2l6ZS9sZW5ndGggZm9yIGluZGV4IGJ1ZmZlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbbWF0cml4XSAtIE9wdGlvbmFsIHRyYW5zZm9ybSBmb3IgYWxsIHBvaW50cy5cbiAgICAgKi9cbiAgICBhZGRVdnModmVydHMsIHV2cywgdGV4dHVyZSwgc3RhcnQsIHNpemUsIG1hdHJpeClcbiAgICB7XG4gICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgIGNvbnN0IHV2c1N0YXJ0ID0gdXZzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgZnJhbWUgPSB0ZXh0dXJlLmZyYW1lO1xuXG4gICAgICAgIHdoaWxlIChpbmRleCA8IHNpemUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB4ID0gdmVydHNbKHN0YXJ0ICsgaW5kZXgpICogMl07XG4gICAgICAgICAgICBsZXQgeSA9IHZlcnRzWygoc3RhcnQgKyBpbmRleCkgKiAyKSArIDFdO1xuXG4gICAgICAgICAgICBpZiAobWF0cml4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IG54ID0gKG1hdHJpeC5hICogeCkgKyAobWF0cml4LmMgKiB5KSArIG1hdHJpeC50eDtcblxuICAgICAgICAgICAgICAgIHkgPSAobWF0cml4LmIgKiB4KSArIChtYXRyaXguZCAqIHkpICsgbWF0cml4LnR5O1xuICAgICAgICAgICAgICAgIHggPSBueDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaW5kZXgrKztcblxuICAgICAgICAgICAgdXZzLnB1c2goeCAvIGZyYW1lLndpZHRoLCB5IC8gZnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICBpZiAoZnJhbWUud2lkdGggPCBiYXNlVGV4dHVyZS53aWR0aFxuICAgICAgICAgICAgfHwgZnJhbWUuaGVpZ2h0IDwgYmFzZVRleHR1cmUuaGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmFkanVzdFV2cyh1dnMsIHRleHR1cmUsIHV2c1N0YXJ0LCBzaXplKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vZGlmeSB1dnMgYXJyYXkgYWNjb3JkaW5nIHRvIHBvc2l0aW9uIG9mIHRleHR1cmUgcmVnaW9uXG4gICAgICogRG9lcyBub3Qgd29yayB3aXRoIHJvdGF0ZWQgb3IgdHJpbW1lZCB0ZXh0dXJlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1dnMgYXJyYXlcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSByZWdpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgc3RhcnRpbmcgaW5kZXggZm9yIHV2c1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIGhvdyBtYW55IHBvaW50cyB0byBhZGp1c3RcbiAgICAgKi9cbiAgICBhZGp1c3RVdnModXZzLCB0ZXh0dXJlLCBzdGFydCwgc2l6ZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgY29uc3QgZXBzID0gMWUtNjtcbiAgICAgICAgY29uc3QgZmluaXNoID0gc3RhcnQgKyAoc2l6ZSAqIDIpO1xuICAgICAgICBjb25zdCBmcmFtZSA9IHRleHR1cmUuZnJhbWU7XG4gICAgICAgIGNvbnN0IHNjYWxlWCA9IGZyYW1lLndpZHRoIC8gYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgIGNvbnN0IHNjYWxlWSA9IGZyYW1lLmhlaWdodCAvIGJhc2VUZXh0dXJlLmhlaWdodDtcbiAgICAgICAgbGV0IG9mZnNldFggPSBmcmFtZS54IC8gZnJhbWUud2lkdGg7XG4gICAgICAgIGxldCBvZmZzZXRZID0gZnJhbWUueSAvIGZyYW1lLmhlaWdodDtcbiAgICAgICAgbGV0IG1pblggPSBNYXRoLmZsb29yKHV2c1tzdGFydF0gKyBlcHMpO1xuICAgICAgICBsZXQgbWluWSA9IE1hdGguZmxvb3IodXZzW3N0YXJ0ICsgMV0gKyBlcHMpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydCArIDI7IGkgPCBmaW5pc2g7IGkgKz0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgbWluWCA9IE1hdGgubWluKG1pblgsIE1hdGguZmxvb3IodXZzW2ldICsgZXBzKSk7XG4gICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgTWF0aC5mbG9vcih1dnNbaSArIDFdICsgZXBzKSk7XG4gICAgICAgIH1cbiAgICAgICAgb2Zmc2V0WCAtPSBtaW5YO1xuICAgICAgICBvZmZzZXRZIC09IG1pblk7XG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IGZpbmlzaDsgaSArPSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICB1dnNbaV0gPSAodXZzW2ldICsgb2Zmc2V0WCkgKiBzY2FsZVg7XG4gICAgICAgICAgICB1dnNbaSArIDFdID0gKHV2c1tpICsgMV0gKyBvZmZzZXRZKSAqIHNjYWxlWTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgcG9pbnRzIHRvIGNvbnNpZGVyIGFuIG9iamVjdCBcImJhdGNoYWJsZVwiLFxuICogYWJsZSB0byBiZSBiYXRjaGVkIGJ5IHRoZSByZW5kZXJlcidzIGJhdGNoIHN5c3RlbS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5HcmFwaGljc0dlb21ldHJ5XG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyIHtudW1iZXJ9IEJBVENIQUJMRV9TSVpFXG4gKiBAZGVmYXVsdCAxMDBcbiAqL1xuR3JhcGhpY3NHZW9tZXRyeS5CQVRDSEFCTEVfU0laRSA9IDEwMDtcbiIsIi8qKlxuICogQnVpbGRzIGEgcmVjdGFuZ2xlIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgV2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAgIGJ1aWxkKGdyYXBoaWNzRGF0YSlcbiAgICB7XG4gICAgICAgIC8vIC0tLSAvL1xuICAgICAgICAvLyBuZWVkIHRvIGNvbnZlcnQgcG9pbnRzIHRvIGEgbmljZSByZWd1bGFyIGRhdGFcbiAgICAgICAgLy9cbiAgICAgICAgY29uc3QgcmVjdERhdGEgPSBncmFwaGljc0RhdGEuc2hhcGU7XG4gICAgICAgIGNvbnN0IHggPSByZWN0RGF0YS54O1xuICAgICAgICBjb25zdCB5ID0gcmVjdERhdGEueTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSByZWN0RGF0YS53aWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gcmVjdERhdGEuaGVpZ2h0O1xuXG4gICAgICAgIGNvbnN0IHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG5cbiAgICAgICAgcG9pbnRzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgcG9pbnRzLnB1c2goeCwgeSxcbiAgICAgICAgICAgIHggKyB3aWR0aCwgeSxcbiAgICAgICAgICAgIHggKyB3aWR0aCwgeSArIGhlaWdodCxcbiAgICAgICAgICAgIHgsIHkgKyBoZWlnaHQpO1xuICAgIH0sXG5cbiAgICB0cmlhbmd1bGF0ZShncmFwaGljc0RhdGEsIGdyYXBoaWNzR2VvbWV0cnkpXG4gICAge1xuICAgICAgICBjb25zdCBwb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuICAgICAgICBjb25zdCB2ZXJ0cyA9IGdyYXBoaWNzR2VvbWV0cnkucG9pbnRzO1xuXG4gICAgICAgIGNvbnN0IHZlcnRQb3MgPSB2ZXJ0cy5sZW5ndGggLyAyO1xuXG4gICAgICAgIHZlcnRzLnB1c2gocG9pbnRzWzBdLCBwb2ludHNbMV0sXG4gICAgICAgICAgICBwb2ludHNbMl0sIHBvaW50c1szXSxcbiAgICAgICAgICAgIHBvaW50c1s2XSwgcG9pbnRzWzddLFxuICAgICAgICAgICAgcG9pbnRzWzRdLCBwb2ludHNbNV0pO1xuXG4gICAgICAgIGdyYXBoaWNzR2VvbWV0cnkuaW5kaWNlcy5wdXNoKHZlcnRQb3MsIHZlcnRQb3MgKyAxLCB2ZXJ0UG9zICsgMixcbiAgICAgICAgICAgIHZlcnRQb3MgKyAxLCB2ZXJ0UG9zICsgMiwgdmVydFBvcyArIDMpO1xuICAgIH0sXG59O1xuIiwiaW1wb3J0IEZpbGxTdHlsZSBmcm9tICcuL0ZpbGxTdHlsZSc7XG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgbGluZSBzdHlsZSBmb3IgR3JhcGhpY3MuXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbGxTdHlsZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaW5lU3R5bGUgZXh0ZW5kcyBGaWxsU3R5bGVcbntcbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIG9iamVjdFxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5MaW5lU3R5bGV9XG4gICAgICovXG4gICAgY2xvbmUoKVxuICAgIHtcbiAgICAgICAgY29uc3Qgb2JqID0gbmV3IExpbmVTdHlsZSgpO1xuXG4gICAgICAgIG9iai5jb2xvciA9IHRoaXMuY29sb3I7XG4gICAgICAgIG9iai5hbHBoYSA9IHRoaXMuYWxwaGE7XG4gICAgICAgIG9iai50ZXh0dXJlID0gdGhpcy50ZXh0dXJlO1xuICAgICAgICBvYmoubWF0cml4ID0gdGhpcy5tYXRyaXg7XG4gICAgICAgIG9iai52aXNpYmxlID0gdGhpcy52aXNpYmxlO1xuICAgICAgICBvYmoud2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICBvYmouYWxpZ25tZW50ID0gdGhpcy5hbGlnbm1lbnQ7XG4gICAgICAgIG9iai5uYXRpdmUgPSB0aGlzLm5hdGl2ZTtcblxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgbGluZSBzdHlsZSB0byBkZWZhdWx0LlxuICAgICAqL1xuICAgIHJlc2V0KClcbiAgICB7XG4gICAgICAgIHN1cGVyLnJlc2V0KCk7XG5cbiAgICAgICAgLy8gT3ZlcnJpZGUgZGVmYXVsdCBsaW5lIHN0eWxlIGNvbG9yXG4gICAgICAgIHRoaXMuY29sb3IgPSAweDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCAodGhpY2tuZXNzKSBvZiBhbnkgbGluZXMgZHJhd24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbGlnbm1lbnQgb2YgYW55IGxpbmVzIGRyYXduICgwLjUgPSBtaWRkbGUsIDEgPSBvdXR0ZXIsIDAgPSBpbm5lcikuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbGlnbm1lbnQgPSAwLjU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUgdGhlIGxpbmVzIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5hdGl2ZSA9IGZhbHNlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEdSQVBISUNTX0NVUlZFUyB9IGZyb20gJy4uL2NvbnN0JztcblxuLyoqXG4gKiBVdGlsaXRpZXMgZm9yIGJlemllciBjdXJ2ZXNcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmV6aWVyVXRpbHNcbntcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgbGVuZ3RoIG9mIGJlemllciBjdXJ2ZS5cbiAgICAgKiBBbmFseXRpY2FsIHNvbHV0aW9uIGlzIGltcG9zc2libGUsIHNpbmNlIGl0IGludm9sdmVzIGFuIGludGVncmFsIHRoYXQgZG9lcyBub3QgaW50ZWdyYXRlIGluIGdlbmVyYWwuXG4gICAgICogVGhlcmVmb3JlIG51bWVyaWNhbCBzb2x1dGlvbiBpcyB1c2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbVggLSBTdGFydGluZyBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21ZIC0gU3RhcnRpbmcgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWDIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWTIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTGVuZ3RoIG9mIGJlemllciBjdXJ2ZVxuICAgICAqL1xuICAgIHN0YXRpYyBjdXJ2ZUxlbmd0aChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSlcbiAgICB7XG4gICAgICAgIGNvbnN0IG4gPSAxMDtcbiAgICAgICAgbGV0IHJlc3VsdCA9IDAuMDtcbiAgICAgICAgbGV0IHQgPSAwLjA7XG4gICAgICAgIGxldCB0MiA9IDAuMDtcbiAgICAgICAgbGV0IHQzID0gMC4wO1xuICAgICAgICBsZXQgbnQgPSAwLjA7XG4gICAgICAgIGxldCBudDIgPSAwLjA7XG4gICAgICAgIGxldCBudDMgPSAwLjA7XG4gICAgICAgIGxldCB4ID0gMC4wO1xuICAgICAgICBsZXQgeSA9IDAuMDtcbiAgICAgICAgbGV0IGR4ID0gMC4wO1xuICAgICAgICBsZXQgZHkgPSAwLjA7XG4gICAgICAgIGxldCBwcmV2WCA9IGZyb21YO1xuICAgICAgICBsZXQgcHJldlkgPSBmcm9tWTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBuOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHQgPSBpIC8gbjtcbiAgICAgICAgICAgIHQyID0gdCAqIHQ7XG4gICAgICAgICAgICB0MyA9IHQyICogdDtcbiAgICAgICAgICAgIG50ID0gKDEuMCAtIHQpO1xuICAgICAgICAgICAgbnQyID0gbnQgKiBudDtcbiAgICAgICAgICAgIG50MyA9IG50MiAqIG50O1xuXG4gICAgICAgICAgICB4ID0gKG50MyAqIGZyb21YKSArICgzLjAgKiBudDIgKiB0ICogY3BYKSArICgzLjAgKiBudCAqIHQyICogY3BYMikgKyAodDMgKiB0b1gpO1xuICAgICAgICAgICAgeSA9IChudDMgKiBmcm9tWSkgKyAoMy4wICogbnQyICogdCAqIGNwWSkgKyAoMyAqIG50ICogdDIgKiBjcFkyKSArICh0MyAqIHRvWSk7XG4gICAgICAgICAgICBkeCA9IHByZXZYIC0geDtcbiAgICAgICAgICAgIGR5ID0gcHJldlkgLSB5O1xuICAgICAgICAgICAgcHJldlggPSB4O1xuICAgICAgICAgICAgcHJldlkgPSB5O1xuXG4gICAgICAgICAgICByZXN1bHQgKz0gTWF0aC5zcXJ0KChkeCAqIGR4KSArIChkeSAqIGR5KSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAgICAgKlxuICAgICAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICAgICAqXG4gICAgICogQGlnbm9yZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWDIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWTIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIFBhdGggYXJyYXkgdG8gcHVzaCBwb2ludHMgaW50b1xuICAgICAqL1xuICAgIHN0YXRpYyBjdXJ2ZVRvKGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSwgcG9pbnRzKVxuICAgIHtcbiAgICAgICAgY29uc3QgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICBjb25zdCBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgcG9pbnRzLmxlbmd0aCAtPSAyO1xuXG4gICAgICAgIGNvbnN0IG4gPSBHUkFQSElDU19DVVJWRVMuX3NlZ21lbnRzQ291bnQoXG4gICAgICAgICAgICBCZXppZXJVdGlscy5jdXJ2ZUxlbmd0aChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSlcbiAgICAgICAgKTtcblxuICAgICAgICBsZXQgZHQgPSAwO1xuICAgICAgICBsZXQgZHQyID0gMDtcbiAgICAgICAgbGV0IGR0MyA9IDA7XG4gICAgICAgIGxldCB0MiA9IDA7XG4gICAgICAgIGxldCB0MyA9IDA7XG5cbiAgICAgICAgcG9pbnRzLnB1c2goZnJvbVgsIGZyb21ZKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMSwgaiA9IDA7IGkgPD0gbjsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBqID0gaSAvIG47XG5cbiAgICAgICAgICAgIGR0ID0gKDEgLSBqKTtcbiAgICAgICAgICAgIGR0MiA9IGR0ICogZHQ7XG4gICAgICAgICAgICBkdDMgPSBkdDIgKiBkdDtcblxuICAgICAgICAgICAgdDIgPSBqICogajtcbiAgICAgICAgICAgIHQzID0gdDIgKiBqO1xuXG4gICAgICAgICAgICBwb2ludHMucHVzaChcbiAgICAgICAgICAgICAgICAoZHQzICogZnJvbVgpICsgKDMgKiBkdDIgKiBqICogY3BYKSArICgzICogZHQgKiB0MiAqIGNwWDIpICsgKHQzICogdG9YKSxcbiAgICAgICAgICAgICAgICAoZHQzICogZnJvbVkpICsgKDMgKiBkdDIgKiBqICogY3BZKSArICgzICogZHQgKiB0MiAqIGNwWTIpICsgKHQzICogdG9ZKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IEdSQVBISUNTX0NVUlZFUyB9IGZyb20gJy4uL2NvbnN0JztcblxuLyoqXG4gKiBVdGlsaXRpZXMgZm9yIHF1YWRyYXRpYyBjdXJ2ZXNcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUXVhZHJhdGljVXRpbHNcbntcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgbGVuZ3RoIG9mIHF1YWRyYXRpYyBjdXJ2ZVxuICAgICAqIEBzZWUge0BsaW5rIGh0dHA6Ly93d3cubWFsY3phay5saW51eHBsLmNvbS9ibG9nL3F1YWRyYXRpYy1iZXppZXItY3VydmUtbGVuZ3RoL31cbiAgICAgKiBmb3IgdGhlIGRldGFpbGVkIGV4cGxhbmF0aW9uIG9mIG1hdGggYmVoaW5kIHRoaXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWCAtIHgtY29vcmRpbmF0ZSBvZiBjdXJ2ZSBzdGFydCBwb2ludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWSAtIHktY29vcmRpbmF0ZSBvZiBjdXJ2ZSBzdGFydCBwb2ludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSB4LWNvb3JkaW5hdGUgb2YgY3VydmUgY29udHJvbCBwb2ludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSB5LWNvb3JkaW5hdGUgb2YgY3VydmUgY29udHJvbCBwb2ludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSB4LWNvb3JkaW5hdGUgb2YgY3VydmUgZW5kIHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIHktY29vcmRpbmF0ZSBvZiBjdXJ2ZSBlbmQgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IExlbmd0aCBvZiBxdWFkcmF0aWMgY3VydmVcbiAgICAgKi9cbiAgICBzdGF0aWMgY3VydmVMZW5ndGgoZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgdG9YLCB0b1kpXG4gICAge1xuICAgICAgICBjb25zdCBheCA9IGZyb21YIC0gKDIuMCAqIGNwWCkgKyB0b1g7XG4gICAgICAgIGNvbnN0IGF5ID0gZnJvbVkgLSAoMi4wICogY3BZKSArIHRvWTtcbiAgICAgICAgY29uc3QgYnggPSAoMi4wICogY3BYKSAtICgyLjAgKiBmcm9tWCk7XG4gICAgICAgIGNvbnN0IGJ5ID0gKDIuMCAqIGNwWSkgLSAoMi4wICogZnJvbVkpO1xuICAgICAgICBjb25zdCBhID0gNC4wICogKChheCAqIGF4KSArIChheSAqIGF5KSk7XG4gICAgICAgIGNvbnN0IGIgPSA0LjAgKiAoKGF4ICogYngpICsgKGF5ICogYnkpKTtcbiAgICAgICAgY29uc3QgYyA9IChieCAqIGJ4KSArIChieSAqIGJ5KTtcblxuICAgICAgICBjb25zdCBzID0gMi4wICogTWF0aC5zcXJ0KGEgKyBiICsgYyk7XG4gICAgICAgIGNvbnN0IGEyID0gTWF0aC5zcXJ0KGEpO1xuICAgICAgICBjb25zdCBhMzIgPSAyLjAgKiBhICogYTI7XG4gICAgICAgIGNvbnN0IGMyID0gMi4wICogTWF0aC5zcXJ0KGMpO1xuICAgICAgICBjb25zdCBiYSA9IGIgLyBhMjtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGEzMiAqIHMpXG4gICAgICAgICAgICAgICAgKyAoYTIgKiBiICogKHMgLSBjMikpXG4gICAgICAgICAgICAgICAgKyAoXG4gICAgICAgICAgICAgICAgICAgICgoNC4wICogYyAqIGEpIC0gKGIgKiBiKSlcbiAgICAgICAgICAgICAgICAgICAqIE1hdGgubG9nKCgoMi4wICogYTIpICsgYmEgKyBzKSAvIChiYSArIGMyKSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICkgLyAoNC4wICogYTMyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICAgICAqIEJhc2VkIG9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODUwOTcvaG93LWRvLWktaW1wbGVtZW50LWEtYmV6aWVyLWN1cnZlLWluLWNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gcG9pbnRzIC0gUG9pbnRzIHRvIGFkZCBzZWdtZW50cyB0by5cbiAgICAgKi9cbiAgICBzdGF0aWMgY3VydmVUbyhjcFgsIGNwWSwgdG9YLCB0b1ksIHBvaW50cylcbiAgICB7XG4gICAgICAgIGNvbnN0IGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgY29uc3QgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGNvbnN0IG4gPSBHUkFQSElDU19DVVJWRVMuX3NlZ21lbnRzQ291bnQoXG4gICAgICAgICAgICBRdWFkcmF0aWNVdGlscy5jdXJ2ZUxlbmd0aChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCB0b1gsIHRvWSlcbiAgICAgICAgKTtcblxuICAgICAgICBsZXQgeGEgPSAwO1xuICAgICAgICBsZXQgeWEgPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IG47ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaiA9IGkgLyBuO1xuXG4gICAgICAgICAgICB4YSA9IGZyb21YICsgKChjcFggLSBmcm9tWCkgKiBqKTtcbiAgICAgICAgICAgIHlhID0gZnJvbVkgKyAoKGNwWSAtIGZyb21ZKSAqIGopO1xuXG4gICAgICAgICAgICBwb2ludHMucHVzaCh4YSArICgoKGNwWCArICgodG9YIC0gY3BYKSAqIGopKSAtIHhhKSAqIGopLFxuICAgICAgICAgICAgICAgIHlhICsgKCgoY3BZICsgKCh0b1kgLSBjcFkpICogaikpIC0geWEpICogaikpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgR1JBUEhJQ1NfQ1VSVkVTIH0gZnJvbSAnLi4vY29uc3QnO1xuaW1wb3J0IHsgUElfMiB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKipcbiAqIFV0aWxpdGllcyBmb3IgYXJjIGN1cnZlc1xuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcmNVdGlsc1xue1xuICAgIC8qKlxuICAgICAqIFRoZSBhcmNUbygpIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSBiZXR3ZWVuIHR3byB0YW5nZW50cyBvbiB0aGUgY2FudmFzLlxuICAgICAqXG4gICAgICogXCJib3Jyb3dlZFwiIGZyb20gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9meGNhbnZhcy8gLSB0aGFua3MgZ29vZ2xlIVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDEgLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHgyIC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgZW5kIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geTIgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBhcmNcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IElmIHRoZSBhcmMgbGVuZ3RoIGlzIHZhbGlkLCByZXR1cm4gY2VudGVyIG9mIGNpcmNsZSwgcmFkaXVzIGFuZCBvdGhlciBpbmZvIG90aGVyd2lzZSBgbnVsbGAuXG4gICAgICovXG4gICAgc3RhdGljIGN1cnZlVG8oeDEsIHkxLCB4MiwgeTIsIHJhZGl1cywgcG9pbnRzKVxuICAgIHtcbiAgICAgICAgY29uc3QgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICBjb25zdCBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgY29uc3QgYTEgPSBmcm9tWSAtIHkxO1xuICAgICAgICBjb25zdCBiMSA9IGZyb21YIC0geDE7XG4gICAgICAgIGNvbnN0IGEyID0geTIgLSB5MTtcbiAgICAgICAgY29uc3QgYjIgPSB4MiAtIHgxO1xuICAgICAgICBjb25zdCBtbSA9IE1hdGguYWJzKChhMSAqIGIyKSAtIChiMSAqIGEyKSk7XG5cbiAgICAgICAgaWYgKG1tIDwgMS4wZS04IHx8IHJhZGl1cyA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0gIT09IHgxIHx8IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0gIT09IHkxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHgxLCB5MSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGQgPSAoYTEgKiBhMSkgKyAoYjEgKiBiMSk7XG4gICAgICAgIGNvbnN0IGNjID0gKGEyICogYTIpICsgKGIyICogYjIpO1xuICAgICAgICBjb25zdCB0dCA9IChhMSAqIGEyKSArIChiMSAqIGIyKTtcbiAgICAgICAgY29uc3QgazEgPSByYWRpdXMgKiBNYXRoLnNxcnQoZGQpIC8gbW07XG4gICAgICAgIGNvbnN0IGsyID0gcmFkaXVzICogTWF0aC5zcXJ0KGNjKSAvIG1tO1xuICAgICAgICBjb25zdCBqMSA9IGsxICogdHQgLyBkZDtcbiAgICAgICAgY29uc3QgajIgPSBrMiAqIHR0IC8gY2M7XG4gICAgICAgIGNvbnN0IGN4ID0gKGsxICogYjIpICsgKGsyICogYjEpO1xuICAgICAgICBjb25zdCBjeSA9IChrMSAqIGEyKSArIChrMiAqIGExKTtcbiAgICAgICAgY29uc3QgcHggPSBiMSAqIChrMiArIGoxKTtcbiAgICAgICAgY29uc3QgcHkgPSBhMSAqIChrMiArIGoxKTtcbiAgICAgICAgY29uc3QgcXggPSBiMiAqIChrMSArIGoyKTtcbiAgICAgICAgY29uc3QgcXkgPSBhMiAqIChrMSArIGoyKTtcbiAgICAgICAgY29uc3Qgc3RhcnRBbmdsZSA9IE1hdGguYXRhbjIocHkgLSBjeSwgcHggLSBjeCk7XG4gICAgICAgIGNvbnN0IGVuZEFuZ2xlID0gTWF0aC5hdGFuMihxeSAtIGN5LCBxeCAtIGN4KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY3g6IChjeCArIHgxKSxcbiAgICAgICAgICAgIGN5OiAoY3kgKyB5MSksXG4gICAgICAgICAgICByYWRpdXMsXG4gICAgICAgICAgICBzdGFydEFuZ2xlLFxuICAgICAgICAgICAgZW5kQW5nbGUsXG4gICAgICAgICAgICBhbnRpY2xvY2t3aXNlOiAoYjEgKiBhMiA+IGIyICogYTEpLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBhcmMgbWV0aG9kIGNyZWF0ZXMgYW4gYXJjL2N1cnZlICh1c2VkIHRvIGNyZWF0ZSBjaXJjbGVzLCBvciBwYXJ0cyBvZiBjaXJjbGVzKS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0WCAtIFN0YXJ0IHggbG9jYXRpb24gb2YgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0WSAtIFN0YXJ0IHkgbG9jYXRpb24gb2YgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN4IC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3kgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRBbmdsZSAtIFRoZSBzdGFydGluZyBhbmdsZSwgaW4gcmFkaWFucyAoMCBpcyBhdCB0aGUgMyBvJ2Nsb2NrIHBvc2l0aW9uXG4gICAgICogIG9mIHRoZSBhcmMncyBjaXJjbGUpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZEFuZ2xlIC0gVGhlIGVuZGluZyBhbmdsZSwgaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYW50aWNsb2Nrd2lzZSAtIFNwZWNpZmllcyB3aGV0aGVyIHRoZSBkcmF3aW5nIHNob3VsZCBiZVxuICAgICAqICBjb3VudGVyLWNsb2Nrd2lzZSBvciBjbG9ja3dpc2UuIEZhbHNlIGlzIGRlZmF1bHQsIGFuZCBpbmRpY2F0ZXMgY2xvY2t3aXNlLCB3aGlsZSB0cnVlXG4gICAgICogIGluZGljYXRlcyBjb3VudGVyLWNsb2Nrd2lzZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiAtIE51bWJlciBvZiBzZWdtZW50c1xuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IHBvaW50cyAtIENvbGxlY3Rpb24gb2YgcG9pbnRzIHRvIGFkZCB0b1xuICAgICAqL1xuICAgIHN0YXRpYyBhcmMoc3RhcnRYLCBzdGFydFksIGN4LCBjeSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYW50aWNsb2Nrd2lzZSwgcG9pbnRzKVxuICAgIHtcbiAgICAgICAgY29uc3Qgc3dlZXAgPSBlbmRBbmdsZSAtIHN0YXJ0QW5nbGU7XG4gICAgICAgIGNvbnN0IG4gPSBHUkFQSElDU19DVVJWRVMuX3NlZ21lbnRzQ291bnQoXG4gICAgICAgICAgICBNYXRoLmFicyhzd2VlcCkgKiByYWRpdXMsXG4gICAgICAgICAgICBNYXRoLmNlaWwoTWF0aC5hYnMoc3dlZXApIC8gUElfMikgKiA0MFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IHRoZXRhID0gKHN3ZWVwKSAvIChuICogMik7XG4gICAgICAgIGNvbnN0IHRoZXRhMiA9IHRoZXRhICogMjtcbiAgICAgICAgY29uc3QgY1RoZXRhID0gTWF0aC5jb3ModGhldGEpO1xuICAgICAgICBjb25zdCBzVGhldGEgPSBNYXRoLnNpbih0aGV0YSk7XG4gICAgICAgIGNvbnN0IHNlZ01pbnVzID0gbiAtIDE7XG4gICAgICAgIGNvbnN0IHJlbWFpbmRlciA9IChzZWdNaW51cyAlIDEpIC8gc2VnTWludXM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gc2VnTWludXM7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcmVhbCA9IGkgKyAocmVtYWluZGVyICogaSk7XG4gICAgICAgICAgICBjb25zdCBhbmdsZSA9ICgodGhldGEpICsgc3RhcnRBbmdsZSArICh0aGV0YTIgKiByZWFsKSk7XG4gICAgICAgICAgICBjb25zdCBjID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICAgICAgY29uc3QgcyA9IC1NYXRoLnNpbihhbmdsZSk7XG5cbiAgICAgICAgICAgIHBvaW50cy5wdXNoKFxuICAgICAgICAgICAgICAgICgoKGNUaGV0YSAqIGMpICsgKHNUaGV0YSAqIHMpKSAqIHJhZGl1cykgKyBjeCxcbiAgICAgICAgICAgICAgICAoKChjVGhldGEgKiAtcykgKyAoc1RoZXRhICogYykpICogcmFkaXVzKSArIGN5XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUG9seWdvbiwgUElfMiB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG4vKipcbiAqIERyYXcgYSBzdGFyIHNoYXBlIHdpdGggYW4gYXJiaXRyYXJ5IG51bWJlciBvZiBwb2ludHMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlBvbHlnb25cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAcGFyYW0ge251bWJlcn0geCAtIENlbnRlciBYIHBvc2l0aW9uIG9mIHRoZSBzdGFyXG4gKiBAcGFyYW0ge251bWJlcn0geSAtIENlbnRlciBZIHBvc2l0aW9uIG9mIHRoZSBzdGFyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9pbnRzIC0gVGhlIG51bWJlciBvZiBwb2ludHMgb2YgdGhlIHN0YXIsIG11c3QgYmUgPiAxXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIG91dGVyIHJhZGl1cyBvZiB0aGUgc3RhclxuICogQHBhcmFtIHtudW1iZXJ9IFtpbm5lclJhZGl1c10gLSBUaGUgaW5uZXIgcmFkaXVzIGJldHdlZW4gcG9pbnRzLCBkZWZhdWx0IGhhbGYgYHJhZGl1c2BcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRpb249MF0gLSBUaGUgcm90YXRpb24gb2YgdGhlIHN0YXIgaW4gcmFkaWFucywgd2hlcmUgMCBpcyB2ZXJ0aWNhbFxuICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGFyIGV4dGVuZHMgUG9seWdvblxue1xuICAgIGNvbnN0cnVjdG9yKHgsIHksIHBvaW50cywgcmFkaXVzLCBpbm5lclJhZGl1cywgcm90YXRpb24pXG4gICAge1xuICAgICAgICBpbm5lclJhZGl1cyA9IGlubmVyUmFkaXVzIHx8IHJhZGl1cyAvIDI7XG5cbiAgICAgICAgY29uc3Qgc3RhcnRBbmdsZSA9ICgtMSAqIE1hdGguUEkgLyAyKSArIHJvdGF0aW9uO1xuICAgICAgICBjb25zdCBsZW4gPSBwb2ludHMgKiAyO1xuICAgICAgICBjb25zdCBkZWx0YSA9IFBJXzIgLyBsZW47XG4gICAgICAgIGNvbnN0IHBvbHlnb24gPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCByID0gaSAlIDIgPyBpbm5lclJhZGl1cyA6IHJhZGl1cztcbiAgICAgICAgICAgIGNvbnN0IGFuZ2xlID0gKGkgKiBkZWx0YSkgKyBzdGFydEFuZ2xlO1xuXG4gICAgICAgICAgICBwb2x5Z29uLnB1c2goXG4gICAgICAgICAgICAgICAgeCArIChyICogTWF0aC5jb3MoYW5nbGUpKSxcbiAgICAgICAgICAgICAgICB5ICsgKHIgKiBNYXRoLnNpbihhbmdsZSkpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIocG9seWdvbik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtcbiAgICBDaXJjbGUsXG4gICAgRWxsaXBzZSxcbiAgICBQSV8yLFxuICAgIFBvaW50LFxuICAgIFBvbHlnb24sXG4gICAgUmVjdGFuZ2xlLFxuICAgIFJvdW5kZWRSZWN0YW5nbGUsXG4gICAgTWF0cml4LFxufSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IGhleDJyZ2IgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQge1xuICAgIFRleHR1cmUsXG4gICAgU2hhZGVyLFxuICAgIFVuaWZvcm1Hcm91cCwgU3RhdGUsXG59IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IEZpbGxTdHlsZSBmcm9tICcuL3N0eWxlcy9GaWxsU3R5bGUnO1xuaW1wb3J0IEdyYXBoaWNzR2VvbWV0cnkgZnJvbSAnLi9HcmFwaGljc0dlb21ldHJ5JztcbmltcG9ydCBMaW5lU3R5bGUgZnJvbSAnLi9zdHlsZXMvTGluZVN0eWxlJztcbmltcG9ydCBCZXppZXJVdGlscyBmcm9tICcuL3V0aWxzL0JlemllclV0aWxzJztcbmltcG9ydCBRdWFkcmF0aWNVdGlscyBmcm9tICcuL3V0aWxzL1F1YWRyYXRpY1V0aWxzJztcbmltcG9ydCBBcmNVdGlscyBmcm9tICcuL3V0aWxzL0FyY1V0aWxzJztcbmltcG9ydCBTdGFyIGZyb20gJy4vdXRpbHMvU3Rhcic7XG5pbXBvcnQgeyBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcblxuY29uc3QgdGVtcCA9IG5ldyBGbG9hdDMyQXJyYXkoMyk7XG5cbi8vIGEgZGVmYXVsdCBzaGFkZXIgdXNlZCBieSBncmFwaGljcy4uXG5sZXQgZGVmYXVsdFNoYWRlciA9IG51bGw7XG5cbi8qKlxuICogVGhlIEdyYXBoaWNzIGNsYXNzIGNvbnRhaW5zIG1ldGhvZHMgdXNlZCB0byBkcmF3IHByaW1pdGl2ZSBzaGFwZXMgc3VjaCBhcyBsaW5lcywgY2lyY2xlcyBhbmRcbiAqIHJlY3RhbmdsZXMgdG8gdGhlIGRpc3BsYXksIGFuZCB0byBjb2xvciBhbmQgZmlsbCB0aGVtLlxuICpcbiAqIE5vdGUgdGhhdCBiZWNhdXNlIEdyYXBoaWNzIGNhbiBzaGFyZSBhIEdyYXBoaWNzR2VvbWV0cnkgd2l0aCBvdGhlciBpbnN0YW5jZXMsXG4gKiBpdCBpcyBuZWNlc3NhcnkgdG8gY2FsbCBgZGVzdHJveSgpYCB0byBwcm9wZXJseSBkZXJlZmVyZW5jZSB0aGUgdW5kZXJseWluZ1xuICogR3JhcGhpY3NHZW9tZXRyeSBhbmQgYXZvaWQgYSBtZW1vcnkgbGVhay4gQWx0ZXJuYXRpdmVseSwga2VlcCB1c2luZyB0aGUgc2FtZVxuICogR3JhcGhpY3MgaW5zdGFuY2UgYW5kIGNhbGwgYGNsZWFyKClgIGJldHdlZW4gcmVkcmF3cy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmFwaGljcyBleHRlbmRzIENvbnRhaW5lclxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc0dlb21ldHJ5fSBbZ2VvbWV0cnk9bnVsbF0gLSBHZW9tZXRyeSB0byB1c2UsIGlmIG9taXR0ZWRcbiAgICAgKiAgICAgICAgd2lsbCBjcmVhdGUgYSBuZXcgR3JhcGhpY3NHZW9tZXRyeSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihnZW9tZXRyeSA9IG51bGwpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5jbHVkZXMgdmVydGV4IHBvc2l0aW9ucywgZmFjZSBpbmRpY2VzLCBub3JtYWxzLCBjb2xvcnMsIFVWcywgYW5kXG4gICAgICAgICAqIGN1c3RvbSBhdHRyaWJ1dGVzIHdpdGhpbiBidWZmZXJzLCByZWR1Y2luZyB0aGUgY29zdCBvZiBwYXNzaW5nIGFsbFxuICAgICAgICAgKiB0aGlzIGRhdGEgdG8gdGhlIEdQVS4gQ2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIE1lc2ggb3IgR3JhcGhpY3Mgb2JqZWN0cy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc0dlb21ldHJ5fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBnZW9tZXRyeSB8fCBuZXcgR3JhcGhpY3NHZW9tZXRyeSgpO1xuXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkucmVmQ291bnQrKztcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyB0aGUgdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXJzIHRoYXQgcHJvY2Vzc2VzIHRoZSBnZW9tZXRyeSBhbmQgcnVucyBvbiB0aGUgR1BVLlxuICAgICAgICAgKiBDYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgR3JhcGhpY3Mgb2JqZWN0cy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgdGhlIFdlYkdMIHN0YXRlIHRoZSBHcmFwaGljcyByZXF1aXJlZCB0byByZW5kZXIsIGV4Y2x1ZGVzIHNoYWRlciBhbmQgZ2VvbWV0cnkuIEUuZy4sXG4gICAgICAgICAqIGJsZW5kIG1vZGUsIGN1bGxpbmcsIGRlcHRoIHRlc3RpbmcsIGRpcmVjdGlvbiBvZiByZW5kZXJpbmcgdHJpYW5nbGVzLCBiYWNrZmFjZSwgZXRjLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLmZvcjJkKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgZmlsbCBzdHlsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbGxTdHlsZX1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZmlsbFN0eWxlID0gbmV3IEZpbGxTdHlsZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGxpbmUgc3R5bGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5MaW5lU3R5bGV9XG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xpbmVTdHlsZSA9IG5ldyBMaW5lU3R5bGUoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBzaGFwZSB0cmFuc2Zvcm0gbWF0cml4LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBob2xlIG1vZGUgaXMgZW5hYmxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faG9sZU1vZGUgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBwYXRoXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9seWdvbn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gY2FjaGVBc0JpdG1hcCBpcyBzZXQgdG8gdHJ1ZSB0aGUgZ3JhcGhpY3Mgb2JqZWN0IHdpbGwgYmUgcmVuZGVyZWQgYXMgaWYgaXQgd2FzIGEgc3ByaXRlLlxuICAgICAgICAgKiBUaGlzIGlzIHVzZWZ1bCBpZiB5b3VyIGdyYXBoaWNzIGVsZW1lbnQgZG9lcyBub3QgY2hhbmdlIG9mdGVuLCBhcyBpdCB3aWxsIHNwZWVkIHVwIHRoZSByZW5kZXJpbmdcbiAgICAgICAgICogb2YgdGhlIG9iamVjdCBpbiBleGNoYW5nZSBmb3IgdGFraW5nIHVwIHRleHR1cmUgbWVtb3J5LiBJdCBpcyBhbHNvIHVzZWZ1bCBpZiB5b3UgbmVlZCB0aGUgZ3JhcGhpY3NcbiAgICAgICAgICogb2JqZWN0IHRvIGJlIGFudGktYWxpYXNlZCwgYmVjYXVzZSBpdCB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGNhbnZhcy4gVGhpcyBpcyBub3QgcmVjb21tZW5kZWQgaWZcbiAgICAgICAgICogeW91IGFyZSBjb25zdGFudGx5IHJlZHJhd2luZyB0aGUgZ3JhcGhpY3MgZWxlbWVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG5hbWUgY2FjaGVBc0JpdG1hcFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5HcmFwaGljcyNcbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY29sbGVjdGlvbnMgb2YgYmF0Y2hlcyEgVGhlc2UgY2FuIGJlIGRyYXduIGJ5IHRoZSByZW5kZXJlciBiYXRjaCBzeXN0ZW0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhdGNoZXMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlIGRpcnR5IGZvciBsaW1pdGluZyBjYWxjdWxhdGluZyB0aW50cyBmb3IgYmF0Y2hlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IC0xXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhdGNoVGludCA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb3B5IG9mIHRoZSBvYmplY3QgdmVydGV4IGRhdGEuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbnVsbDtcblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB0aGlzLmJhdGNoRGlydHkgPSAtMTtcblxuICAgICAgICAvLyBTZXQgZGVmYXVsdFxuICAgICAgICB0aGlzLnRpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBHcmFwaGljcyBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gICAgICogTm90ZSB0aGF0IHRoZSBvbmx5IHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBvYmplY3QgYXJlIGNsb25lZCwgbm90IGl0cyB0cmFuc2Zvcm0gKHBvc2l0aW9uLHNjYWxlLGV0YylcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IEEgY2xvbmUgb2YgdGhlIGdyYXBoaWNzIG9iamVjdFxuICAgICAqL1xuICAgIGNsb25lKClcbiAgICB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuXG4gICAgICAgIHJldHVybiBuZXcgR3JhcGhpY3ModGhpcy5nZW9tZXRyeSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgZ3JhcGhpYyBzaGFwZS4gQXBwbHkgYSB2YWx1ZSBvZlxuICAgICAqIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICovXG4gICAgc2V0IGJsZW5kTW9kZSh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuc3RhdGUuYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGJsZW5kTW9kZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5ibGVuZE1vZGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgZ3JhcGhpYyBzaGFwZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZlxuICAgICAqIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAqL1xuICAgIGdldCB0aW50KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgIH1cbiAgICBzZXQgdGludCh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBmaWxsIHN0eWxlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5GaWxsU3R5bGV9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IGZpbGwoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpbGxTdHlsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBsaW5lIHN0eWxlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5MaW5lU3R5bGV9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IGxpbmUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVTdHlsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgdGhlIGxpbmUgc3R5bGUgdXNlZCBmb3Igc3Vic2VxdWVudCBjYWxscyB0byBHcmFwaGljcyBtZXRob2RzIHN1Y2ggYXMgdGhlIGxpbmVUbygpXG4gICAgICogbWV0aG9kIG9yIHRoZSBkcmF3Q2lyY2xlKCkgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aD0wXSAtIHdpZHRoIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29sb3I9MF0gLSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FscGhhPTFdIC0gYWxwaGEgb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbGlnbm1lbnQ9MV0gLSBhbGlnbm1lbnQgb2YgdGhlIGxpbmUgdG8gZHJhdywgKDAgPSBpbm5lciwgMC41ID0gbWlkZGxlLCAxID0gb3V0dGVyKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW25hdGl2ZT1mYWxzZV0gLSBJZiB0cnVlIHRoZSBsaW5lcyB3aWxsIGJlIGRyYXcgdXNpbmcgTElORVMgaW5zdGVhZCBvZiBUUklBTkdMRV9TVFJJUFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBsaW5lU3R5bGUod2lkdGggPSAwLCBjb2xvciA9IDAsIGFscGhhID0gMSwgYWxpZ25tZW50ID0gMC41LCBuYXRpdmUgPSBmYWxzZSlcbiAgICB7XG4gICAgICAgIHRoaXMubGluZVRleHR1cmVTdHlsZSh3aWR0aCwgVGV4dHVyZS5XSElURSwgY29sb3IsIGFscGhhLCBudWxsLCBhbGlnbm1lbnQsIG5hdGl2ZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlrZSBsaW5lIHN0eWxlIGJ1dCBzdXBwb3J0IHRleHR1cmUgZm9yIGxpbmUgZmlsbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MF0gLSB3aWR0aCBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gW3RleHR1cmU9UElYSS5UZXh0dXJlLldISVRFXSAtIFRleHR1cmUgdG8gdXNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb2xvcj0wXSAtIGNvbG9yIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxwaGE9MV0gLSBhbHBoYSBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbbWF0cml4PW51bGxdIFRleHR1cmUgbWF0cml4IHRvIHRyYW5zZm9ybSB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbGlnbm1lbnQ9MC41XSAtIGFsaWdubWVudCBvZiB0aGUgbGluZSB0byBkcmF3LCAoMCA9IGlubmVyLCAwLjUgPSBtaWRkbGUsIDEgPSBvdXR0ZXIpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbbmF0aXZlPWZhbHNlXSAtIElmIHRydWUgdGhlIGxpbmVzIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIGxpbmVUZXh0dXJlU3R5bGUod2lkdGggPSAwLCB0ZXh0dXJlID0gVGV4dHVyZS5XSElURSwgY29sb3IgPSAweEZGRkZGRiwgYWxwaGEgPSAxLFxuICAgICAgICBtYXRyaXggPSBudWxsLCBhbGlnbm1lbnQgPSAwLjUsIG5hdGl2ZSA9IGZhbHNlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRQb2x5KCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2aXNpYmxlID0gd2lkdGggPiAwICYmIGFscGhhID4gMDtcblxuICAgICAgICBpZiAoIXZpc2libGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xpbmVTdHlsZS5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKG1hdHJpeClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBtYXRyaXggPSBtYXRyaXguY2xvbmUoKTtcbiAgICAgICAgICAgICAgICBtYXRyaXguaW52ZXJ0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fbGluZVN0eWxlLCB7XG4gICAgICAgICAgICAgICAgY29sb3IsXG4gICAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgICAgYWxwaGEsXG4gICAgICAgICAgICAgICAgbWF0cml4LFxuICAgICAgICAgICAgICAgIHRleHR1cmUsXG4gICAgICAgICAgICAgICAgYWxpZ25tZW50LFxuICAgICAgICAgICAgICAgIG5hdGl2ZSxcbiAgICAgICAgICAgICAgICB2aXNpYmxlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdGFydCBhIHBvbHlnb24gb2JqZWN0IGludGVybmFsbHlcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgc3RhcnRQb2x5KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IHRoaXMuY3VycmVudFBhdGgucG9pbnRzLmxlbmd0aDtcblxuICAgICAgICAgICAgaWYgKGxlbiA+IDIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3U2hhcGUodGhpcy5jdXJyZW50UGF0aCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG5ldyBQb2x5Z29uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5jbG9zZVN0cm9rZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGgucG9pbnRzLnB1c2gocG9pbnRzW2xlbiAtIDJdLCBwb2ludHNbbGVuIC0gMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG5ldyBQb2x5Z29uKCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmNsb3NlU3Ryb2tlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5pc2ggdGhlIHBvbHlnb24gb2JqZWN0LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBmaW5pc2hQb2x5KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5wb2ludHMubGVuZ3RoID4gMilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdTaGFwZSh0aGlzLmN1cnJlbnRQYXRoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTW92ZXMgdGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiB0byB4LCB5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSB0aGUgWCBjb29yZGluYXRlIHRvIG1vdmUgdG9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIHRoZSBZIGNvb3JkaW5hdGUgdG8gbW92ZSB0b1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBtb3ZlVG8oeCwgeSlcbiAgICB7XG4gICAgICAgIHRoaXMuc3RhcnRQb2x5KCk7XG4gICAgICAgIHRoaXMuY3VycmVudFBhdGgucG9pbnRzWzBdID0geDtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHNbMV0gPSB5O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgbGluZSB1c2luZyB0aGUgY3VycmVudCBsaW5lIHN0eWxlIGZyb20gdGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiB0byAoeCwgeSk7XG4gICAgICogVGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiBpcyB0aGVuIHNldCB0byAoeCwgeSkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIHRoZSBYIGNvb3JkaW5hdGUgdG8gZHJhdyB0b1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gdGhlIFkgY29vcmRpbmF0ZSB0byBkcmF3IHRvXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIGxpbmVUbyh4LCB5KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbygwLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbW92ZSBkdXBsaWNhdGVzLi5cbiAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG4gICAgICAgIGNvbnN0IGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgY29uc3QgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGlmIChmcm9tWCAhPT0geCB8fCBmcm9tWSAhPT0geSlcbiAgICAgICAge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goeCwgeSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBjdXJ2ZVxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeT0wXVxuICAgICAqL1xuICAgIF9pbml0Q3VydmUoeCA9IDAsIHkgPSAwKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnBvaW50cy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5wb2ludHMgPSBbeCwgeV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbyh4LCB5KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gICAgICogQmFzZWQgb246IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NTA5Ny9ob3ctZG8taS1pbXBsZW1lbnQtYS1iZXppZXItY3VydmUtaW4tY1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIHF1YWRyYXRpY0N1cnZlVG8oY3BYLCBjcFksIHRvWCwgdG9ZKVxuICAgIHtcbiAgICAgICAgdGhpcy5faW5pdEN1cnZlKCk7XG5cbiAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG5cbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKDAsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgUXVhZHJhdGljVXRpbHMuY3VydmVUbyhjcFgsIGNwWSwgdG9YLCB0b1ksIHBvaW50cyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2ludHMgZm9yIGEgYmV6aWVyIGN1cnZlIGFuZCB0aGVuIGRyYXdzIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIGJlemllckN1cnZlVG8oY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKVxuICAgIHtcbiAgICAgICAgdGhpcy5faW5pdEN1cnZlKCk7XG5cbiAgICAgICAgQmV6aWVyVXRpbHMuY3VydmVUbyhjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1ksIHRoaXMuY3VycmVudFBhdGgucG9pbnRzKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXJjVG8oKSBtZXRob2QgY3JlYXRlcyBhbiBhcmMvY3VydmUgYmV0d2VlbiB0d28gdGFuZ2VudHMgb24gdGhlIGNhbnZhcy5cbiAgICAgKlxuICAgICAqIFwiYm9ycm93ZWRcIiBmcm9tIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvZnhjYW52YXMvIC0gdGhhbmtzIGdvb2dsZSFcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MSAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkxIC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDIgLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MiAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGVuZCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGFyY1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBhcmNUbyh4MSwgeTEsIHgyLCB5MiwgcmFkaXVzKVxuICAgIHtcbiAgICAgICAgdGhpcy5faW5pdEN1cnZlKHgxLCB5MSk7XG5cbiAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5wb2ludHM7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gQXJjVXRpbHMuY3VydmVUbyh4MSwgeTEsIHgyLCB5MiwgcmFkaXVzLCBwb2ludHMpO1xuXG4gICAgICAgIGlmIChyZXN1bHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlIH0gPSByZXN1bHQ7XG5cbiAgICAgICAgICAgIHRoaXMuYXJjKGN4LCBjeSwgcmFkaXVzLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgYW50aWNsb2Nrd2lzZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXJjIG1ldGhvZCBjcmVhdGVzIGFuIGFyYy9jdXJ2ZSAodXNlZCB0byBjcmVhdGUgY2lyY2xlcywgb3IgcGFydHMgb2YgY2lyY2xlcykuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3ggLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjeSAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEFuZ2xlIC0gVGhlIHN0YXJ0aW5nIGFuZ2xlLCBpbiByYWRpYW5zICgwIGlzIGF0IHRoZSAzIG8nY2xvY2sgcG9zaXRpb25cbiAgICAgKiAgb2YgdGhlIGFyYydzIGNpcmNsZSlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kQW5nbGUgLSBUaGUgZW5kaW5nIGFuZ2xlLCBpbiByYWRpYW5zXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYW50aWNsb2Nrd2lzZT1mYWxzZV0gLSBTcGVjaWZpZXMgd2hldGhlciB0aGUgZHJhd2luZyBzaG91bGQgYmVcbiAgICAgKiAgY291bnRlci1jbG9ja3dpc2Ugb3IgY2xvY2t3aXNlLiBGYWxzZSBpcyBkZWZhdWx0LCBhbmQgaW5kaWNhdGVzIGNsb2Nrd2lzZSwgd2hpbGUgdHJ1ZVxuICAgICAqICBpbmRpY2F0ZXMgY291bnRlci1jbG9ja3dpc2UuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIGFyYyhjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UgPSBmYWxzZSlcbiAgICB7XG4gICAgICAgIGlmIChzdGFydEFuZ2xlID09PSBlbmRBbmdsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWFudGljbG9ja3dpc2UgJiYgZW5kQW5nbGUgPD0gc3RhcnRBbmdsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgZW5kQW5nbGUgKz0gUElfMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhbnRpY2xvY2t3aXNlICYmIHN0YXJ0QW5nbGUgPD0gZW5kQW5nbGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN0YXJ0QW5nbGUgKz0gUElfMjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHN3ZWVwID0gZW5kQW5nbGUgLSBzdGFydEFuZ2xlO1xuXG4gICAgICAgIGlmIChzd2VlcCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdGFydFggPSBjeCArIChNYXRoLmNvcyhzdGFydEFuZ2xlKSAqIHJhZGl1cyk7XG4gICAgICAgIGNvbnN0IHN0YXJ0WSA9IGN5ICsgKE1hdGguc2luKHN0YXJ0QW5nbGUpICogcmFkaXVzKTtcblxuICAgICAgICAvLyBJZiB0aGUgY3VycmVudFBhdGggZXhpc3RzLCB0YWtlIGl0cyBwb2ludHMuIE90aGVyd2lzZSBjYWxsIGBtb3ZlVG9gIHRvIHN0YXJ0IGEgcGF0aC5cbiAgICAgICAgbGV0IHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGggPyB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cyA6IG51bGw7XG5cbiAgICAgICAgaWYgKHBvaW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVE9ETzogbWFrZSBhIGJldHRlciBmaXguXG5cbiAgICAgICAgICAgIC8vIFdlIGNoZWNrIGhvdyBmYXIgb3VyIHN0YXJ0IGlzIGZyb20gdGhlIGxhc3QgZXhpc3RpbmcgcG9pbnRcbiAgICAgICAgICAgIGNvbnN0IHhEaWZmID0gTWF0aC5hYnMocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSAtIHN0YXJ0WCk7XG4gICAgICAgICAgICBjb25zdCB5RGlmZiA9IE1hdGguYWJzKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0gLSBzdGFydFkpO1xuXG4gICAgICAgICAgICBpZiAoeERpZmYgPCAwLjAwMSAmJiB5RGlmZiA8IDAuMDAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBwb2ludCBpcyB2ZXJ5IGNsb3NlLCB3ZSBkb24ndCBhZGQgaXQsIHNpbmNlIHRoaXMgd291bGQgbGVhZCB0byBhcnRpZmFjdHNcbiAgICAgICAgICAgICAgICAvLyBkdXJpbmcgdGVzc2VsbGF0aW9uIGR1ZSB0byBmbG9hdGluZyBwb2ludCBpbXByZWNpc2lvbi5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChzdGFydFgsIHN0YXJ0WSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbyhzdGFydFgsIHN0YXJ0WSk7XG4gICAgICAgICAgICBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnBvaW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIEFyY1V0aWxzLmFyYyhzdGFydFgsIHN0YXJ0WSwgY3gsIGN5LCByYWRpdXMsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlLCBhbnRpY2xvY2t3aXNlLCBwb2ludHMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyBhIHNpbXBsZSBvbmUtY29sb3IgZmlsbCB0aGF0IHN1YnNlcXVlbnQgY2FsbHMgdG8gb3RoZXIgR3JhcGhpY3MgbWV0aG9kc1xuICAgICAqIChzdWNoIGFzIGxpbmVUbygpIG9yIGRyYXdDaXJjbGUoKSkgdXNlIHdoZW4gZHJhd2luZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29sb3I9MF0gLSB0aGUgY29sb3Igb2YgdGhlIGZpbGxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FscGhhPTFdIC0gdGhlIGFscGhhIG9mIHRoZSBmaWxsXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIGJlZ2luRmlsbChjb2xvciA9IDAsIGFscGhhID0gMSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJlZ2luVGV4dHVyZUZpbGwoVGV4dHVyZS5XSElURSwgY29sb3IsIGFscGhhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCZWdpbiB0aGUgdGV4dHVyZSBmaWxsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gW3RleHR1cmU9UElYSS5UZXh0dXJlLldISVRFXSAtIFRleHR1cmUgdG8gZmlsbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29sb3I9MHhmZmZmZmZdIC0gQmFja2dyb3VuZCB0byBmaWxsIGJlaGluZCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbHBoYT0xXSAtIEFscGhhIG9mIGZpbGxcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBbbWF0cml4PW51bGxdIC0gVHJhbnNmb3JtIG1hdHJpeFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBiZWdpblRleHR1cmVGaWxsKHRleHR1cmUgPSBUZXh0dXJlLldISVRFLCBjb2xvciA9IDB4RkZGRkZGLCBhbHBoYSA9IDEsIG1hdHJpeCA9IG51bGwpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zdGFydFBvbHkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHZpc2libGUgPSBhbHBoYSA+IDA7XG5cbiAgICAgICAgaWYgKCF2aXNpYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9maWxsU3R5bGUucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChtYXRyaXgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbWF0cml4ID0gbWF0cml4LmNsb25lKCk7XG4gICAgICAgICAgICAgICAgbWF0cml4LmludmVydCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuX2ZpbGxTdHlsZSwge1xuICAgICAgICAgICAgICAgIGNvbG9yLFxuICAgICAgICAgICAgICAgIGFscGhhLFxuICAgICAgICAgICAgICAgIHRleHR1cmUsXG4gICAgICAgICAgICAgICAgbWF0cml4LFxuICAgICAgICAgICAgICAgIHZpc2libGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYSBmaWxsIHRvIHRoZSBsaW5lcyBhbmQgc2hhcGVzIHRoYXQgd2VyZSBhZGRlZCBzaW5jZSB0aGUgbGFzdCBjYWxsIHRvIHRoZSBiZWdpbkZpbGwoKSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgZW5kRmlsbCgpXG4gICAge1xuICAgICAgICB0aGlzLmZpbmlzaFBvbHkoKTtcblxuICAgICAgICB0aGlzLl9maWxsU3R5bGUucmVzZXQoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIHJlY3RhbmdsZSBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIGRyYXdSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5kcmF3U2hhcGUobmV3IFJlY3RhbmdsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRHJhdyBhIHJlY3RhbmdsZSBzaGFwZSB3aXRoIHJvdW5kZWQvYmV2ZWxlZCBjb3JuZXJzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gUmFkaXVzIG9mIHRoZSByZWN0YW5nbGUgY29ybmVyc1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBkcmF3Um91bmRlZFJlY3QoeCwgeSwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBSb3VuZGVkUmVjdGFuZ2xlKHgsIHksIHdpZHRoLCBoZWlnaHQsIHJhZGl1cykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgY2lyY2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIGRyYXdDaXJjbGUoeCwgeSwgcmFkaXVzKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1NoYXBlKG5ldyBDaXJjbGUoeCwgeSwgcmFkaXVzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYW4gZWxsaXBzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgaGFsZiB3aWR0aCBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGFsZiBoZWlnaHQgb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgZHJhd0VsbGlwc2UoeCwgeSwgd2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYXdTaGFwZShuZXcgRWxsaXBzZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBwb2x5Z29uIHVzaW5nIHRoZSBnaXZlbiBwYXRoLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXXxQSVhJLlBvaW50W118UElYSS5Qb2x5Z29ufSBwYXRoIC0gVGhlIHBhdGggZGF0YSB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgcG9seWdvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgZHJhd1BvbHlnb24ocGF0aClcbiAgICB7XG4gICAgICAgIC8vIHByZXZlbnRzIGFuIGFyZ3VtZW50IGFzc2lnbm1lbnQgZGVvcHRcbiAgICAgICAgLy8gc2VlIHNlY3Rpb24gMy4xOiBodHRwczovL2dpdGh1Yi5jb20vcGV0a2FhbnRvbm92L2JsdWViaXJkL3dpa2kvT3B0aW1pemF0aW9uLWtpbGxlcnMjMy1tYW5hZ2luZy1hcmd1bWVudHNcbiAgICAgICAgbGV0IHBvaW50cyA9IHBhdGg7XG5cbiAgICAgICAgbGV0IGNsb3NlU3Ryb2tlID0gdHJ1ZTsvLyAhIXRoaXMuX2ZpbGxTdHlsZTtcblxuICAgICAgICAvLyBjaGVjayBpZiBkYXRhIGhhcyBwb2ludHMuLlxuICAgICAgICBpZiAocG9pbnRzLnBvaW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgY2xvc2VTdHJva2UgPSBwb2ludHMuY2xvc2VTdHJva2U7XG4gICAgICAgICAgICBwb2ludHMgPSBwb2ludHMucG9pbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHBvaW50cykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHByZXZlbnRzIGFuIGFyZ3VtZW50IGxlYWsgZGVvcHRcbiAgICAgICAgICAgIC8vIHNlZSBzZWN0aW9uIDMuMjogaHR0cHM6Ly9naXRodWIuY29tL3BldGthYW50b25vdi9ibHVlYmlyZC93aWtpL09wdGltaXphdGlvbi1raWxsZXJzIzMtbWFuYWdpbmctYXJndW1lbnRzXG4gICAgICAgICAgICBwb2ludHMgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBvaW50c1tpXSA9IGFyZ3VtZW50c1tpXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNoYXBlID0gbmV3IFBvbHlnb24ocG9pbnRzKTtcblxuICAgICAgICBzaGFwZS5jbG9zZVN0cm9rZSA9IGNsb3NlU3Ryb2tlO1xuXG4gICAgICAgIHRoaXMuZHJhd1NoYXBlKHNoYXBlKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEcmF3IGFueSBzaGFwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IHNoYXBlIC0gU2hhcGUgdG8gZHJhd1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBkcmF3U2hhcGUoc2hhcGUpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX2hvbGVNb2RlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LmRyYXdTaGFwZShcbiAgICAgICAgICAgICAgICBzaGFwZSxcbiAgICAgICAgICAgICAgICB0aGlzLl9maWxsU3R5bGUuY2xvbmUoKSxcbiAgICAgICAgICAgICAgICB0aGlzLl9saW5lU3R5bGUuY2xvbmUoKSxcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXRyaXhcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LmRyYXdIb2xlKHNoYXBlLCB0aGlzLl9tYXRyaXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRHJhdyBhIHN0YXIgc2hhcGUgd2l0aCBhbiBhcmJpdHJhcnkgbnVtYmVyIG9mIHBvaW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gQ2VudGVyIFggcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIENlbnRlciBZIHBvc2l0aW9uIG9mIHRoZSBzdGFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvaW50cyAtIFRoZSBudW1iZXIgb2YgcG9pbnRzIG9mIHRoZSBzdGFyLCBtdXN0IGJlID4gMVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgb3V0ZXIgcmFkaXVzIG9mIHRoZSBzdGFyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtpbm5lclJhZGl1c10gLSBUaGUgaW5uZXIgcmFkaXVzIGJldHdlZW4gcG9pbnRzLCBkZWZhdWx0IGhhbGYgYHJhZGl1c2BcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JvdGF0aW9uPTBdIC0gVGhlIHJvdGF0aW9uIG9mIHRoZSBzdGFyIGluIHJhZGlhbnMsIHdoZXJlIDAgaXMgdmVydGljYWxcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgZHJhd1N0YXIoeCwgeSwgcG9pbnRzLCByYWRpdXMsIGlubmVyUmFkaXVzLCByb3RhdGlvbiA9IDApXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5kcmF3UG9seWdvbihuZXcgU3Rhcih4LCB5LCBwb2ludHMsIHJhZGl1cywgaW5uZXJSYWRpdXMsIHJvdGF0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBncmFwaGljcyB0aGF0IHdlcmUgZHJhd24gdG8gdGhpcyBHcmFwaGljcyBvYmplY3QsIGFuZCByZXNldHMgZmlsbCBhbmQgbGluZSBzdHlsZSBzZXR0aW5ncy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBjbGVhcigpXG4gICAge1xuICAgICAgICB0aGlzLmdlb21ldHJ5LmNsZWFyKCk7XG5cbiAgICAgICAgdGhpcy5fbWF0cml4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5faG9sZU1vZGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3Nwcml0ZVJlY3QgPSBudWxsO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgZ3JhcGhpY3MgY29uc2lzdHMgb2Ygb25lIHJlY3RhbmdsZSwgYW5kIHRodXMsIGNhbiBiZSBkcmF3biBsaWtlIGEgU3ByaXRlIGFuZFxuICAgICAqIG1hc2tlZCB3aXRoIGdsLnNjaXNzb3IuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBvbmx5IDEgcmVjdC5cbiAgICAgKi9cbiAgICBpc0Zhc3RSZWN0KClcbiAgICB7XG4gICAgICAgIC8vIHdpbGwgZml4IHRoaXMhXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID09PSAxXG4gICAgICAgIC8vICAmJiB0aGlzLmdyYXBoaWNzRGF0YVswXS5zaGFwZS50eXBlID09PSBTSEFQRVMuUkVDVFxuICAgICAgICAvLyAmJiAhdGhpcy5ncmFwaGljc0RhdGFbMF0ubGluZVdpZHRoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgX3JlbmRlcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuXG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeTtcblxuICAgICAgICAvLyBiYXRjaCBwYXJ0Li5cbiAgICAgICAgLy8gYmF0Y2ggaXQhXG4gICAgICAgIGdlb21ldHJ5LnVwZGF0ZUJhdGNoZXMoKTtcblxuICAgICAgICBpZiAoZ2VvbWV0cnkuYmF0Y2hhYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5iYXRjaERpcnR5ICE9PSBnZW9tZXRyeS5iYXRjaERpcnR5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYmF0Y2hlcyA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMuYmF0Y2hUaW50ID0gLTE7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhdGNoRGlydHkgPSBnZW9tZXRyeS5iYXRjaERpcnR5O1xuXG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheShnZW9tZXRyeS5wb2ludHMpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgYmxlbmRNb2RlID0gdGhpcy5ibGVuZE1vZGU7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdlb21ldHJ5LmJhdGNoZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBnSSA9IGdlb21ldHJ5LmJhdGNoZXNbaV07XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSBnSS5zdHlsZS5jb2xvcjtcblxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgKyAoYWxwaGEgKiAyNTUgPDwgMjQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudmVydGV4RGF0YS5idWZmZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnSS5hdHRyaWJTdGFydCAqIDQgKiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ0kuYXR0cmliU2l6ZSAqIDIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHV2cyA9IG5ldyBGbG9hdDMyQXJyYXkoZ2VvbWV0cnkudXZzRmxvYXQzMi5idWZmZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnSS5hdHRyaWJTdGFydCAqIDQgKiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ0kuYXR0cmliU2l6ZSAqIDIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoZ2VvbWV0cnkuaW5kaWNlc1VpbnQxNi5idWZmZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnSS5zdGFydCAqIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnSS5zaXplKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXRjaCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRleERhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBibGVuZE1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRpY2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXZzLFxuICAgICAgICAgICAgICAgICAgICAgICAgX2JhdGNoUkdCOiBoZXgycmdiKGNvbG9yKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aW50UkdCOiBjb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIF90ZXh0dXJlOiBnSS5zdHlsZS50ZXh0dXJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxwaGE6IGdJLnN0eWxlLmFscGhhLFxuICAgICAgICAgICAgICAgICAgICAgICAgd29ybGRBbHBoYTogMSB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmF0Y2hlc1tpXSA9IGJhdGNoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2lucy5iYXRjaCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmJhdGNoZXMubGVuZ3RoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVRpbnRzKCk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYmF0Y2hlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gdGhpcy5iYXRjaGVzW2ldO1xuXG4gICAgICAgICAgICAgICAgICAgIGJhdGNoLndvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGEgKiBiYXRjaC5hbHBoYTtcblxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5wbHVnaW5zLmJhdGNoLnJlbmRlcihiYXRjaCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gbm8gYmF0Y2hpbmcuLi5cbiAgICAgICAgICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5zaGFkZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gc2hhZGVyIGhlcmUsIHdlIGNhbiB1c2UgdGhlIGRlZmF1bHQgc2hhZGVyLlxuICAgICAgICAgICAgICAgIC8vIGFuZCB0aGF0IG9ubHkgZ2V0cyBjcmVhdGVkIGlmIHdlIGFjdHVhbGx5IG5lZWQgaXQuLlxuICAgICAgICAgICAgICAgIGlmICghZGVmYXVsdFNoYWRlcilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNhbXBsZVZhbHVlcyA9IG5ldyBJbnQzMkFycmF5KDE2KTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyBpKyspXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNhbXBsZVZhbHVlc1tpXSA9IGk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1bmlmb3JtcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbnQ6IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDEsIDEsIDFdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uTWF0cml4OiBuZXcgTWF0cml4KCksXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBVbmlmb3JtR3JvdXAuZnJvbSh7IHVTYW1wbGVyczogc2FtcGxlVmFsdWVzIH0sIHRydWUpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGNhbiBiYmFzZSBkZWZhdWx0IHNoYWRlciBvZiB0aGUgYmF0Y2ggcmVuZGVyZXJzIHByb2dyYW1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZ3JhbSA9ICByZW5kZXJlci5wbHVnaW5zLmJhdGNoLnNoYWRlci5wcm9ncmFtO1xuXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaGFkZXIgPSBuZXcgU2hhZGVyKHByb2dyYW0sIHVuaWZvcm1zKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNoYWRlciA9IGRlZmF1bHRTaGFkZXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHVuaWZvcm1zID0gdGhpcy5zaGFkZXIudW5pZm9ybXM7XG5cbiAgICAgICAgICAgIC8vIGxldHMgc2V0IHRoZSB0cmFuc2ZvbXJcbiAgICAgICAgICAgIHVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG5cbiAgICAgICAgICAgIGNvbnN0IHRpbnQgPSB0aGlzLnRpbnQ7XG4gICAgICAgICAgICBjb25zdCB3YSA9IHRoaXMud29ybGRBbHBoYTtcblxuICAgICAgICAgICAgLy8gYW5kIHRoZW4gbGV0cyBzZXQgdGhlIHRpbnQuLlxuICAgICAgICAgICAgdW5pZm9ybXMudGludFswXSA9ICgoKHRpbnQgPj4gMTYpICYgMHhGRikgLyAyNTUpICogd2E7XG4gICAgICAgICAgICB1bmlmb3Jtcy50aW50WzFdID0gKCgodGludCA+PiA4KSAmIDB4RkYpIC8gMjU1KSAqIHdhO1xuICAgICAgICAgICAgdW5pZm9ybXMudGludFsyXSA9ICgodGludCAmIDB4RkYpIC8gMjU1KSAqIHdhO1xuICAgICAgICAgICAgdW5pZm9ybXMudGludFszXSA9IHdhO1xuXG4gICAgICAgICAgICAvLyB0aGUgZmlyc3QgZHJhdyBjYWxsLCB3ZSBjYW4gc2V0IHRoZSB1bmlmb3JtcyBvZiB0aGUgc2hhZGVyIGRpcmVjdGx5IGhlcmUuXG5cbiAgICAgICAgICAgIC8vIHRoaXMgbWVhbnMgdGhhdCB3ZSBjYW4gdGFjayBhZHZhbnRhZ2Ugb2YgdGhlIHN5bmMgZnVuY3Rpb24gb2YgcGl4aSFcbiAgICAgICAgICAgIC8vIGJpbmQgYW5kIHN5bmMgdW5pZm9ybXMuLlxuICAgICAgICAgICAgLy8gdGhlcmUgaXMgYSB3YXkgdG8gb3B0aW1pc2UgdGhpcy4uXG4gICAgICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZCh0aGlzLnNoYWRlcik7XG5cbiAgICAgICAgICAgIC8vIHRoZW4gcmVuZGVyIGl0XG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKGdlb21ldHJ5LCB0aGlzLnNoYWRlcik7XG5cbiAgICAgICAgICAgIC8vIHNldCBzdGF0ZS4uXG4gICAgICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXRTdGF0ZSh0aGlzLnN0YXRlKTtcblxuICAgICAgICAgICAgLy8gdGhlbiByZW5kZXIgdGhlIHJlc3Qgb2YgdGhlbS4uLlxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnZW9tZXRyeS5kcmF3Q2FsbHMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgZHJhd0NhbGwgPSBnZW9tZXRyeS5kcmF3Q2FsbHNbaV07XG5cbiAgICAgICAgICAgICAgICBjb25zdCBncm91cFRleHR1cmVDb3VudCA9IGRyYXdDYWxsLnRleHR1cmVDb3VudDtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZ3JvdXBUZXh0dXJlQ291bnQ7IGorKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLnRleHR1cmUuYmluZChkcmF3Q2FsbC50ZXh0dXJlc1tqXSwgaik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gYmluZCB0aGUgZ2VvbWV0cnkuLi5cbiAgICAgICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KGRyYXdDYWxsLnR5cGUsIGRyYXdDYWxsLnNpemUsIGRyYXdDYWxsLnN0YXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgYm91bmRzIG9mIHRoZSBncmFwaGljIHNoYXBlIGFzIGEgcmVjdGFuZ2xlIG9iamVjdFxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9jYWxjdWxhdGVCb3VuZHMoKVxuICAgIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG4gICAgICAgIGNvbnN0IGxiID0gdGhpcy5nZW9tZXRyeS5ib3VuZHM7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZEZyYW1lKHRoaXMudHJhbnNmb3JtLCBsYi5taW5YLCBsYi5taW5ZLCBsYi5tYXhYLCBsYi5tYXhZKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIGdyYXBoaWNzIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHJlc3VsdCBvZiB0aGUgdGVzdFxuICAgICAqL1xuICAgIGNvbnRhaW5zUG9pbnQocG9pbnQpXG4gICAge1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgR3JhcGhpY3MuX1RFTVBfUE9JTlQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmNvbnRhaW5zUG9pbnQoR3JhcGhpY3MuX1RFTVBfUE9JTlQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY2FsY3VhdGUgdGhlIHRpbnQgYnkgYXBwbHlpbmcgdGluIHRvIGJhdGNoZXMgdXNpbmcgR3JhcGhpY3MgdGludC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgY2FsY3VsYXRlVGludHMoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYmF0Y2hUaW50ICE9PSB0aGlzLnRpbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmF0Y2hUaW50ID0gdGhpcy50aW50O1xuXG4gICAgICAgICAgICBjb25zdCB0aW50UkdCID0gaGV4MnJnYih0aGlzLnRpbnQsIHRlbXApO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYmF0Y2hlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiYXRjaCA9IHRoaXMuYmF0Y2hlc1tpXTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGJhdGNoVGludCA9IGJhdGNoLl9iYXRjaFJHQjtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSAodGludFJHQlswXSAqIGJhdGNoVGludFswXSkgKiAyNTU7XG4gICAgICAgICAgICAgICAgY29uc3QgZyA9ICh0aW50UkdCWzFdICogYmF0Y2hUaW50WzFdKSAqIDI1NTtcbiAgICAgICAgICAgICAgICBjb25zdCBiID0gKHRpbnRSR0JbMl0gKiBiYXRjaFRpbnRbMl0pICogMjU1O1xuXG4gICAgICAgICAgICAgICAgLy8gVE9ETyBJdmFuLCBjYW4gdGhpcyBiZSBkb25lIGluIG9uZSBnbz9cbiAgICAgICAgICAgICAgICBjb25zdCBjb2xvciA9IChyIDw8IDE2KSArIChnIDw8IDgpICsgKGIgfCAwKTtcblxuICAgICAgICAgICAgICAgIGJhdGNoLl90aW50UkdCID0gKGNvbG9yID4+IDE2KVxuICAgICAgICAgICAgICAgICAgICAgICAgKyAoY29sb3IgJiAweGZmMDApXG4gICAgICAgICAgICAgICAgICAgICAgICArICgoY29sb3IgJiAweGZmKSA8PCAxNik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJZiB0aGVyZSdzIGEgdHJhbnNmb3JtIHVwZGF0ZSBvciBhIGNoYW5nZSB0byB0aGUgc2hhcGUgb2YgdGhlXG4gICAgICogZ2VvbWV0cnksIHJlY2FjdWxhdGUgdGhlIHZlcnRpY2VzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBjYWxjdWxhdGVWZXJ0aWNlcygpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtSUQgPT09IHRoaXMudHJhbnNmb3JtLl93b3JsZElEKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuXG4gICAgICAgIGNvbnN0IHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIGNvbnN0IGEgPSB3dC5hO1xuICAgICAgICBjb25zdCBiID0gd3QuYjtcbiAgICAgICAgY29uc3QgYyA9IHd0LmM7XG4gICAgICAgIGNvbnN0IGQgPSB3dC5kO1xuICAgICAgICBjb25zdCB0eCA9IHd0LnR4O1xuICAgICAgICBjb25zdCB0eSA9IHd0LnR5O1xuXG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdlb21ldHJ5LnBvaW50czsvLyBiYXRjaC52ZXJ0ZXhEYXRhT3JpZ2luYWw7XG4gICAgICAgIGNvbnN0IHZlcnRleERhdGEgPSB0aGlzLnZlcnRleERhdGE7XG5cbiAgICAgICAgbGV0IGNvdW50ID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHggPSBkYXRhW2ldO1xuICAgICAgICAgICAgY29uc3QgeSA9IGRhdGFbaSArIDFdO1xuXG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhW2NvdW50KytdID0gKGEgKiB4KSArIChjICogeSkgKyB0eDtcbiAgICAgICAgICAgIHZlcnRleERhdGFbY291bnQrK10gPSAoZCAqIHkpICsgKGIgKiB4KSArIHR5O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHRoZSBjdXJyZW50IHBhdGguXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBjbG9zZVBhdGgoKVxuICAgIHtcbiAgICAgICAgY29uc3QgY3VycmVudFBhdGggPSB0aGlzLmN1cnJlbnRQYXRoO1xuXG4gICAgICAgIGlmIChjdXJyZW50UGF0aClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgbmVlZCB0byBhZGQgZXh0cmEgcG9pbnQgaW4gdGhlIGVuZCBiZWNhdXNlIGJ1aWxkTGluZSB3aWxsIHRha2UgY2FyZSBvZiB0aGF0XG4gICAgICAgICAgICBjdXJyZW50UGF0aC5jbG9zZVN0cm9rZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBseSBhIG1hdHJpeCB0byB0aGUgcG9zaXRpb25hbCBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gTWF0cml4IHRvIHVzZSBmb3IgdHJhbnNmb3JtIGN1cnJlbnQgc2hhcGUuXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgc2V0TWF0cml4KG1hdHJpeClcbiAgICB7XG4gICAgICAgIHRoaXMuX21hdHJpeCA9IG1hdHJpeDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCZWdpbiBhZGRpbmcgaG9sZXMgdG8gdGhlIGxhc3QgZHJhdyBzaGFwZVxuICAgICAqIElNUE9SVEFOVDogaG9sZXMgbXVzdCBiZSBmdWxseSBpbnNpZGUgYSBzaGFwZSB0byB3b3JrXG4gICAgICogQWxzbyB3ZWlyZG5lc3MgZW5zdWVzIGlmIGhvbGVzIG92ZXJsYXAhXG4gICAgICogRWxsaXBzZXMsIENpcmNsZXMsIFJlY3RhbmdsZXMgYW5kIFJvdW5kZWQgUmVjdGFuZ2xlcyBjYW5ub3QgYmUgaG9sZXMgb3IgaG9zdCBmb3IgaG9sZXMgaW4gQ2FudmFzUmVuZGVyZXIsXG4gICAgICogcGxlYXNlIHVzZSBgbW92ZVRvYCBgbGluZVRvYCwgYHF1YWRyYXRpY0N1cnZlVG9gIGlmIHlvdSByZWx5IG9uIHBpeGktbGVnYWN5IGJ1bmRsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBiZWdpbkhvbGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5maW5pc2hQb2x5KCk7XG4gICAgICAgIHRoaXMuX2hvbGVNb2RlID0gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmQgYWRkaW5nIGhvbGVzIHRvIHRoZSBsYXN0IGRyYXcgc2hhcGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBlbmRIb2xlKClcbiAgICB7XG4gICAgICAgIHRoaXMuZmluaXNoUG9seSgpO1xuICAgICAgICB0aGlzLl9ob2xlTW9kZSA9IGZhbHNlO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbFxuICAgICAqICBvcHRpb25zIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlXG4gICAgICogIHRoZWlyIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIGRlc3Ryb3kob3B0aW9ucylcbiAgICB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3kob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5nZW9tZXRyeS5yZWZDb3VudC0tO1xuICAgICAgICBpZiAodGhpcy5nZW9tZXRyeS5yZWZDb3VudCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS5kaXNwb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9tYXRyaXggPSBudWxsO1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbGluZVN0eWxlLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5fbGluZVN0eWxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZmlsbFN0eWxlLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5fZmlsbFN0eWxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5iYXRjaGVzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuYmF0Y2hlcyA9IG51bGw7XG5cbiAgICAgICAgc3VwZXIuZGVzdHJveShvcHRpb25zKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGVtcG9yYXJ5IHBvaW50IHRvIHVzZSBmb3IgY29udGFpbnNQb2ludFxuICpcbiAqIEBzdGF0aWNcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICovXG5HcmFwaGljcy5fVEVNUF9QT0lOVCA9IG5ldyBQb2ludCgpO1xuIiwiaW1wb3J0IHsgUG9pbnQsIE9ic2VydmFibGVQb2ludCwgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBzaWduIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQkxFTkRfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcblxuY29uc3QgdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG5jb25zdCBpbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KFswLCAxLCAyLCAwLCAyLCAzXSk7XG5cbi8qKlxuICogVGhlIFNwcml0ZSBvYmplY3QgaXMgdGhlIGJhc2UgZm9yIGFsbCB0ZXh0dXJlZCBvYmplY3RzIHRoYXQgYXJlIHJlbmRlcmVkIHRvIHRoZSBzY3JlZW5cbipcbiAqIEEgc3ByaXRlIGNhbiBiZSBjcmVhdGVkIGRpcmVjdGx5IGZyb20gYW4gaW1hZ2UgbGlrZSB0aGlzOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlLmZyb20oJ2Fzc2V0cy9pbWFnZS5wbmcnKTtcbiAqIGBgYFxuICpcbiAqIFRoZSBtb3JlIGVmZmljaWVudCB3YXkgdG8gY3JlYXRlIHNwcml0ZXMgaXMgdXNpbmcgYSB7QGxpbmsgUElYSS5TcHJpdGVzaGVldH0sXG4gKiBhcyBzd2FwcGluZyBiYXNlIHRleHR1cmVzIHdoZW4gcmVuZGVyaW5nIHRvIHRoZSBzY3JlZW4gaXMgaW5lZmZpY2llbnQuXG4gKlxuICogYGBganNcbiAqIFBJWEkuTG9hZGVyLnNoYXJlZC5hZGQoXCJhc3NldHMvc3ByaXRlc2hlZXQuanNvblwiKS5sb2FkKHNldHVwKTtcbiAqXG4gKiBmdW5jdGlvbiBzZXR1cCgpIHtcbiAqICAgbGV0IHNoZWV0ID0gUElYSS5Mb2FkZXIuc2hhcmVkLnJlc291cmNlc1tcImFzc2V0cy9zcHJpdGVzaGVldC5qc29uXCJdLnNwcml0ZXNoZWV0O1xuICogICBsZXQgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHNoZWV0LnRleHR1cmVzW1wiaW1hZ2UucG5nXCJdKTtcbiAqICAgLi4uXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTcHJpdGUgZXh0ZW5kcyBDb250YWluZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gW3RleHR1cmVdIC0gVGhlIHRleHR1cmUgZm9yIHRoaXMgc3ByaXRlLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRleHR1cmUpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5jaG9yIHNldHMgdGhlIG9yaWdpbiBwb2ludCBvZiB0aGUgdGV4dHVyZS5cbiAgICAgICAgICogVGhlIGRlZmF1bHQgaXMgMCwwIG9yIHRha2VuIGZyb20gdGhlIHtAbGluayBQSVhJLlRleHR1cmUjZGVmYXVsdEFuY2hvcnxUZXh0dXJlfVxuICAgICAgICAgKiBwYXNzZWQgdG8gdGhlIGNvbnN0cnVjdG9yLiBBIHZhbHVlIG9mIDAsMCBtZWFucyB0aGUgdGV4dHVyZSdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnQuXG4gICAgICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byAwLjUsMC41IG1lYW5zIHRoZSB0ZXh0dXJlJ3Mgb3JpZ2luIGlzIGNlbnRlcmVkLlxuICAgICAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gMSwxIHdvdWxkIG1lYW4gdGhlIHRleHR1cmUncyBvcmlnaW4gcG9pbnQgd2lsbCBiZSB0aGUgYm90dG9tIHJpZ2h0IGNvcm5lci5cbiAgICAgICAgICogTm90ZTogVXBkYXRpbmcgdGhlIHtAbGluayBQSVhJLlRleHR1cmUjZGVmYXVsdEFuY2hvcn0gYWZ0ZXIgYSBUZXh0dXJlIGlzXG4gICAgICAgICAqIGNyZWF0ZWQgZG9lcyBfbm90XyB1cGRhdGUgdGhlIFNwcml0ZSdzIGFuY2hvciB2YWx1ZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYW5jaG9yID0gbmV3IE9ic2VydmFibGVQb2ludChcbiAgICAgICAgICAgIHRoaXMuX29uQW5jaG9yVXBkYXRlLFxuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICh0ZXh0dXJlID8gdGV4dHVyZS5kZWZhdWx0QW5jaG9yLnggOiAwKSxcbiAgICAgICAgICAgICh0ZXh0dXJlID8gdGV4dHVyZS5kZWZhdWx0QW5jaG9yLnkgOiAwKVxuICAgICAgICApO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSB0aGF0IHRoZSBzcHJpdGUgaXMgdXNpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgc3ByaXRlICh0aGlzIGlzIGluaXRpYWxseSBzZXQgYnkgdGhlIHRleHR1cmUpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3dpZHRoID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgc3ByaXRlICh0aGlzIGlzIGluaXRpYWxseSBzZXQgYnkgdGhlIHRleHR1cmUpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hlaWdodCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RpbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl90aW50UkdCID0gbnVsbDtcbiAgICAgICAgdGhpcy50aW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gQXBwbHkgYSB2YWx1ZSBvZiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzaGFkZXIgdGhhdCB3aWxsIGJlIHVzZWQgdG8gcmVuZGVyIHRoZSBzcHJpdGUuIFNldCB0byBudWxsIHRvIHJlbW92ZSBhIGN1cnJlbnQgc2hhZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbHRlcnxQSVhJLlNoYWRlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gaW50ZXJuYWwgY2FjaGVkIHZhbHVlIG9mIHRoZSB0aW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhY2hlZFRpbnQgPSAweEZGRkZGRjtcblxuICAgICAgICB0aGlzLnV2cyA9IG51bGw7XG5cbiAgICAgICAgLy8gY2FsbCB0ZXh0dXJlIHNldHRlclxuICAgICAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlIHx8IFRleHR1cmUuRU1QVFk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoaXMgaXMgdXNlZCB0byBzdG9yZSB0aGUgdmVydGV4IGRhdGEgb2YgdGhlIHNwcml0ZSAoYmFzaWNhbGx5IGEgcXVhZClcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3QgSUYgaXQgaXMgYSB0cmltbWVkIHNwcml0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleFRyaW1tZWREYXRhID0gbnVsbDtcblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuXG4gICAgICAgIC8vIEJhdGNoYWJsZSBzdHVmZi4uXG4gICAgICAgIC8vIFRPRE8gY291bGQgbWFrZSB0aGlzIGEgbWl4aW4/XG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IGluZGljZXM7XG4gICAgICAgIHRoaXMuc2l6ZSA9IDQ7XG4gICAgICAgIHRoaXMuc3RhcnQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQbHVnaW4gdGhhdCBpcyByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIHRoaXMgZWxlbWVudC5cbiAgICAgICAgICogQWxsb3dzIHRvIGN1c3RvbWl6ZSB0aGUgcmVuZGVyaW5nIHByb2Nlc3Mgd2l0aG91dCBvdmVycmlkaW5nICdfcmVuZGVyJyAmICdfcmVuZGVyQ2FudmFzJyBtZXRob2RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdzcHJpdGUnXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBsdWdpbk5hbWUgPSAnYmF0Y2gnO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1c2VkIHRvIGZhc3QgY2hlY2sgaWYgYSBzcHJpdGUgaXMuLiBhIHNwcml0ZSFcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNTcHJpdGUgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcm5hbCByb3VuZFBpeGVscyBmaWVsZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcm91bmRQaXhlbHMgPSBzZXR0aW5ncy5ST1VORF9QSVhFTFM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgdGV4dHVyZSBpcyB1cGRhdGVkLCB0aGlzIGV2ZW50IHdpbGwgZmlyZSB0byB1cGRhdGUgdGhlIHNjYWxlIGFuZCBmcmFtZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25UZXh0dXJlVXBkYXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG4gICAgICAgIHRoaXMuY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIHRoaXMudXZzID0gdGhpcy5fdGV4dHVyZS5fdXZzLnV2c0Zsb2F0MzI7XG4gICAgICAgIC8vIHNvIGlmIF93aWR0aCBpcyAwIHRoZW4gd2lkdGggd2FzIG5vdCBzZXQuLlxuICAgICAgICBpZiAodGhpcy5fd2lkdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IHNpZ24odGhpcy5zY2FsZS54KSAqIHRoaXMuX3dpZHRoIC8gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2hlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gc2lnbih0aGlzLnNjYWxlLnkpICogdGhpcy5faGVpZ2h0IC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBhbmNob3IgcG9zaXRpb24gdXBkYXRlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uQW5jaG9yVXBkYXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9IC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZXMgd29ybGRUcmFuc2Zvcm0gKiB2ZXJ0aWNlcywgc3RvcmUgaXQgaW4gdmVydGV4RGF0YVxuICAgICAqL1xuICAgIGNhbGN1bGF0ZVZlcnRpY2VzKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuXG4gICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm1JRCA9PT0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQgJiYgdGhpcy5fdGV4dHVyZUlEID09PSB0ZXh0dXJlLl91cGRhdGVJRClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSB0aGlzLnRyYW5zZm9ybS5fd29ybGRJRDtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gdGV4dHVyZS5fdXBkYXRlSUQ7XG5cbiAgICAgICAgLy8gc2V0IHRoZSB2ZXJ0ZXggZGF0YVxuXG4gICAgICAgIGNvbnN0IHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIGNvbnN0IGEgPSB3dC5hO1xuICAgICAgICBjb25zdCBiID0gd3QuYjtcbiAgICAgICAgY29uc3QgYyA9IHd0LmM7XG4gICAgICAgIGNvbnN0IGQgPSB3dC5kO1xuICAgICAgICBjb25zdCB0eCA9IHd0LnR4O1xuICAgICAgICBjb25zdCB0eSA9IHd0LnR5O1xuICAgICAgICBjb25zdCB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhEYXRhO1xuICAgICAgICBjb25zdCB0cmltID0gdGV4dHVyZS50cmltO1xuICAgICAgICBjb25zdCBvcmlnID0gdGV4dHVyZS5vcmlnO1xuICAgICAgICBjb25zdCBhbmNob3IgPSB0aGlzLl9hbmNob3I7XG5cbiAgICAgICAgbGV0IHcwID0gMDtcbiAgICAgICAgbGV0IHcxID0gMDtcbiAgICAgICAgbGV0IGgwID0gMDtcbiAgICAgICAgbGV0IGgxID0gMDtcblxuICAgICAgICBpZiAodHJpbSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgdGhlIHNwcml0ZSBpcyB0cmltbWVkIGFuZCBpcyBub3QgYSB0aWxpbmdzcHJpdGUgdGhlbiB3ZSBuZWVkIHRvIGFkZCB0aGUgZXh0cmFcbiAgICAgICAgICAgIC8vIHNwYWNlIGJlZm9yZSB0cmFuc2Zvcm1pbmcgdGhlIHNwcml0ZSBjb29yZHMuXG4gICAgICAgICAgICB3MSA9IHRyaW0ueCAtIChhbmNob3IuX3ggKiBvcmlnLndpZHRoKTtcbiAgICAgICAgICAgIHcwID0gdzEgKyB0cmltLndpZHRoO1xuXG4gICAgICAgICAgICBoMSA9IHRyaW0ueSAtIChhbmNob3IuX3kgKiBvcmlnLmhlaWdodCk7XG4gICAgICAgICAgICBoMCA9IGgxICsgdHJpbS5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB3MSA9IC1hbmNob3IuX3ggKiBvcmlnLndpZHRoO1xuICAgICAgICAgICAgdzAgPSB3MSArIG9yaWcud2lkdGg7XG5cbiAgICAgICAgICAgIGgxID0gLWFuY2hvci5feSAqIG9yaWcuaGVpZ2h0O1xuICAgICAgICAgICAgaDAgPSBoMSArIG9yaWcuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVswXSA9IChhICogdzEpICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVsxXSA9IChkICogaDEpICsgKGIgKiB3MSkgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzJdID0gKGEgKiB3MCkgKyAoYyAqIGgxKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzNdID0gKGQgKiBoMSkgKyAoYiAqIHcwKSArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNF0gPSAoYSAqIHcwKSArIChjICogaDApICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbNV0gPSAoZCAqIGgwKSArIChiICogdzApICsgdHk7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs2XSA9IChhICogdzEpICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs3XSA9IChkICogaDApICsgKGIgKiB3MSkgKyB0eTtcblxuICAgICAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZlcnRleERhdGFbaV0gPSBNYXRoLnJvdW5kKHZlcnRleERhdGFbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB3b3JsZFRyYW5zZm9ybSAqIHZlcnRpY2VzIGZvciBhIG5vbiB0ZXh0dXJlIHdpdGggYSB0cmltLiBzdG9yZSBpdCBpbiB2ZXJ0ZXhUcmltbWVkRGF0YVxuICAgICAqIFRoaXMgaXMgdXNlZCB0byBlbnN1cmUgdGhhdCB0aGUgdHJ1ZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIGEgdHJpbW1lZCB0ZXh0dXJlIGlzIHJlc3BlY3RlZFxuICAgICAqL1xuICAgIGNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcygpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMudmVydGV4VHJpbW1lZERhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmVydGV4VHJpbW1lZERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9PT0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQgJiYgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9PT0gdGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gdGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQ7XG5cbiAgICAgICAgLy8gbGV0cyBkbyBzb21lIHNwZWNpYWwgdHJpbSBjb2RlIVxuICAgICAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgY29uc3QgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4VHJpbW1lZERhdGE7XG4gICAgICAgIGNvbnN0IG9yaWcgPSB0ZXh0dXJlLm9yaWc7XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IHRoaXMuX2FuY2hvcjtcblxuICAgICAgICAvLyBsZXRzIGNhbGN1bGF0ZSB0aGUgbmV3IHVudHJpbW1lZCBib3VuZHMuLlxuICAgICAgICBjb25zdCB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICBjb25zdCBhID0gd3QuYTtcbiAgICAgICAgY29uc3QgYiA9IHd0LmI7XG4gICAgICAgIGNvbnN0IGMgPSB3dC5jO1xuICAgICAgICBjb25zdCBkID0gd3QuZDtcbiAgICAgICAgY29uc3QgdHggPSB3dC50eDtcbiAgICAgICAgY29uc3QgdHkgPSB3dC50eTtcblxuICAgICAgICBjb25zdCB3MSA9IC1hbmNob3IuX3ggKiBvcmlnLndpZHRoO1xuICAgICAgICBjb25zdCB3MCA9IHcxICsgb3JpZy53aWR0aDtcblxuICAgICAgICBjb25zdCBoMSA9IC1hbmNob3IuX3kgKiBvcmlnLmhlaWdodDtcbiAgICAgICAgY29uc3QgaDAgPSBoMSArIG9yaWcuaGVpZ2h0O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMF0gPSAoYSAqIHcxKSArIChjICogaDEpICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbMV0gPSAoZCAqIGgxKSArIChiICogdzEpICsgdHk7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVsyXSA9IChhICogdzApICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVszXSA9IChkICogaDEpICsgKGIgKiB3MCkgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzRdID0gKGEgKiB3MCkgKyAoYyAqIGgwKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzVdID0gKGQgKiBoMCkgKyAoYiAqIHcwKSArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNl0gPSAoYSAqIHcxKSArIChjICogaDApICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbN10gPSAoZCAqIGgwKSArIChiICogdzEpICsgdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKlxuICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICpcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgd2ViZ2wgcmVuZGVyZXIgdG8gdXNlLlxuICAgICovXG4gICAgX3JlbmRlcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcblxuICAgICAgICByZW5kZXJlci5iYXRjaC5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0pO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgc3ByaXRlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9jYWxjdWxhdGVCb3VuZHMoKVxuICAgIHtcbiAgICAgICAgY29uc3QgdHJpbSA9IHRoaXMuX3RleHR1cmUudHJpbTtcbiAgICAgICAgY29uc3Qgb3JpZyA9IHRoaXMuX3RleHR1cmUub3JpZztcblxuICAgICAgICAvLyBGaXJzdCBsZXRzIGNoZWNrIHRvIHNlZSBpZiB0aGUgY3VycmVudCB0ZXh0dXJlIGhhcyBhIHRyaW0uLlxuICAgICAgICBpZiAoIXRyaW0gfHwgKHRyaW0ud2lkdGggPT09IG9yaWcud2lkdGggJiYgdHJpbS5oZWlnaHQgPT09IG9yaWcuaGVpZ2h0KSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gbm8gdHJpbSEgbGV0cyB1c2UgdGhlIHVzdWFsIGNhbGN1bGF0aW9ucy4uXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleERhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gbGV0cyBjYWxjdWxhdGUgYSBzcGVjaWFsIHRyaW1tZWQgYm91bmRzLi4uXG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVRyaW1tZWRWZXJ0aWNlcygpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhUcmltbWVkRGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIHNwcml0ZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBbcmVjdF0gLSBUaGUgb3V0cHV0IHJlY3RhbmdsZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cbiAgICBnZXRMb2NhbEJvdW5kcyhyZWN0KVxuICAgIHtcbiAgICAgICAgLy8gd2UgY2FuIGRvIGEgZmFzdCBsb2NhbCBib3VuZHMgaWYgdGhlIHNwcml0ZSBoYXMgbm8gY2hpbGRyZW4hXG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblggPSB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGggKiAtdGhpcy5fYW5jaG9yLl94O1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblkgPSB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0ICogLXRoaXMuX2FuY2hvci5feTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhYID0gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFkgPSB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0ICogKDEgLSB0aGlzLl9hbmNob3IuX3kpO1xuXG4gICAgICAgICAgICBpZiAoIXJlY3QpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kc1JlY3QpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2xvY2FsQm91bmRzUmVjdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5nZXRSZWN0YW5nbGUocmVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3VwZXIuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzLCByZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIHNwcml0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHJlc3VsdCBvZiB0aGUgdGVzdFxuICAgICAqL1xuICAgIGNvbnRhaW5zUG9pbnQocG9pbnQpXG4gICAge1xuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcblxuICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgY29uc3QgeDEgPSAtd2lkdGggKiB0aGlzLmFuY2hvci54O1xuICAgICAgICBsZXQgeTEgPSAwO1xuXG4gICAgICAgIGlmICh0ZW1wUG9pbnQueCA+PSB4MSAmJiB0ZW1wUG9pbnQueCA8IHgxICsgd2lkdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHkxID0gLWhlaWdodCAqIHRoaXMuYW5jaG9yLnk7XG5cbiAgICAgICAgICAgIGlmICh0ZW1wUG9pbnQueSA+PSB5MSAmJiB0ZW1wUG9pbnQueSA8IHkxICsgaGVpZ2h0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgc3ByaXRlIGFuZCBvcHRpb25hbGx5IGl0cyB0ZXh0dXJlIGFuZCBjaGlsZHJlblxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogICAgICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG4gICAgZGVzdHJveShvcHRpb25zKVxuICAgIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveShvcHRpb25zKTtcblxuICAgICAgICB0aGlzLl90ZXh0dXJlLm9mZigndXBkYXRlJywgdGhpcy5fb25UZXh0dXJlVXBkYXRlLCB0aGlzKTtcblxuICAgICAgICB0aGlzLl9hbmNob3IgPSBudWxsO1xuXG4gICAgICAgIGNvbnN0IGRlc3Ryb3lUZXh0dXJlID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMudGV4dHVyZTtcblxuICAgICAgICBpZiAoZGVzdHJveVRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRlc3Ryb3lCYXNlVGV4dHVyZSA9IHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicgPyBvcHRpb25zIDogb3B0aW9ucyAmJiBvcHRpb25zLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlLmRlc3Ryb3koISFkZXN0cm95QmFzZVRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBzb21lIGhlbHBlciBmdW5jdGlvbnMuLlxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyBzcHJpdGUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGZyYW1lIGlkLCBpbWFnZSB1cmwsIHZpZGVvIHVybCwgY2FudmFzIGVsZW1lbnQsIHZpZGVvIGVsZW1lbnQsIGJhc2UgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ3xQSVhJLlRleHR1cmV8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gc291cmNlIFNvdXJjZSB0byBjcmVhdGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9IFRoZSBuZXdseSBjcmVhdGVkIHNwcml0ZVxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tKHNvdXJjZSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSAoc291cmNlIGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICAgICAgICAgID8gc291cmNlXG4gICAgICAgICAgICA6IG5ldyBUZXh0dXJlLmZyb20oc291cmNlLCBvcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZSh0ZXh0dXJlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAqIEFkdmFudGFnZXMgY2FuIGluY2x1ZGUgc2hhcnBlciBpbWFnZSBxdWFsaXR5IChsaWtlIHRleHQpIGFuZCBmYXN0ZXIgcmVuZGVyaW5nIG9uIGNhbnZhcy5cbiAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAqIFRvIHNldCB0aGUgZ2xvYmFsIGRlZmF1bHQsIGNoYW5nZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFN9XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgc2V0IHJvdW5kUGl4ZWxzKHZhbHVlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzICE9PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yb3VuZFBpeGVscyA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCByb3VuZFBpeGVscygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcm91bmRQaXhlbHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBzcHJpdGUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgc2NhbGUgdG8gYWNoaWV2ZSB0aGUgdmFsdWUgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IHdpZHRoKClcbiAgICB7XG4gICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLngpICogdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgIH1cblxuICAgIHNldCB3aWR0aCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBjb25zdCBzID0gc2lnbih0aGlzLnNjYWxlLngpIHx8IDE7XG5cbiAgICAgICAgdGhpcy5zY2FsZS54ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHNwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgaGVpZ2h0KClcbiAgICB7XG4gICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLnkpICogdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICB9XG5cbiAgICBzZXQgaGVpZ2h0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGNvbnN0IHMgPSBzaWduKHRoaXMuc2NhbGUueSkgfHwgMTtcblxuICAgICAgICB0aGlzLnNjYWxlLnkgPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW5jaG9yIHNldHMgdGhlIG9yaWdpbiBwb2ludCBvZiB0aGUgdGV4dC4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgdGFrZW4gZnJvbSB0aGUge0BsaW5rIFBJWEkuVGV4dHVyZXxUZXh0dXJlfVxuICAgICAqIGFuZCBwYXNzZWQgdG8gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHQgaXMgYCgwLDApYCwgdGhpcyBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnQuXG4gICAgICpcbiAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gYCgwLjUsMC41KWAgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgY2VudGVyZWQuXG4gICAgICpcbiAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gYCgxLDEpYCB3b3VsZCBtZWFuIHRoZSB0ZXh0J3Mgb3JpZ2luIHBvaW50IHdpbGwgYmUgdGhlIGJvdHRvbSByaWdodCBjb3JuZXIuXG4gICAgICpcbiAgICAgKiBJZiB5b3UgcGFzcyBvbmx5IHNpbmdsZSBwYXJhbWV0ZXIsIGl0IHdpbGwgc2V0IGJvdGggeCBhbmQgeSB0byB0aGUgc2FtZSB2YWx1ZSBhcyBzaG93biBpbiB0aGUgZXhhbXBsZSBiZWxvdy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5hbmNob3Iuc2V0KDAuNSk7IC8vIFRoaXMgd2lsbCBzZXQgdGhlIG9yaWdpbiB0byBjZW50ZXIuICgwLjUpIGlzIHNhbWUgYXMgKDAuNSwgMC41KS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAqL1xuICAgIGdldCBhbmNob3IoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FuY2hvcjtcbiAgICB9XG5cbiAgICBzZXQgYW5jaG9yKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2FuY2hvci5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBUaGlzIGlzIGEgaGV4IHZhbHVlLlxuICAgICAqIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICovXG4gICAgZ2V0IHRpbnQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbnQ7XG4gICAgfVxuXG4gICAgc2V0IHRpbnQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl90aW50UkdCID0gKHZhbHVlID4+IDE2KSArICh2YWx1ZSAmIDB4ZmYwMCkgKyAoKHZhbHVlICYgMHhmZikgPDwgMTYpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0dXJlIHRoYXQgdGhlIHNwcml0ZSBpcyB1c2luZ1xuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIGdldCB0ZXh0dXJlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xuICAgIH1cblxuICAgIHNldCB0ZXh0dXJlKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl90ZXh0dXJlID09PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHZhbHVlIHx8IFRleHR1cmUuRU1QVFk7XG4gICAgICAgIHRoaXMuY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG5cbiAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB3YWl0IGZvciB0aGUgdGV4dHVyZSB0byBsb2FkXG4gICAgICAgICAgICBpZiAodmFsdWUuYmFzZVRleHR1cmUudmFsaWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25UZXh0dXJlVXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFsdWUub25jZSgndXBkYXRlJywgdGhpcy5fb25UZXh0dXJlVXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8vIGRpc2FibGluZyBlc2xpbnQgZm9yIG5vdywgZ29pbmcgdG8gcmV3cml0ZSB0aGlzIGluIHY1XG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG5pbXBvcnQgeyBURVhUX0dSQURJRU5UIH0gZnJvbSAnLi9jb25zdCc7XG5pbXBvcnQgeyBoZXgyc3RyaW5nIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG5jb25zdCBkZWZhdWx0U3R5bGUgPSB7XG4gICAgYWxpZ246ICdsZWZ0JyxcbiAgICBicmVha1dvcmRzOiBmYWxzZSxcbiAgICBkcm9wU2hhZG93OiBmYWxzZSxcbiAgICBkcm9wU2hhZG93QWxwaGE6IDEsXG4gICAgZHJvcFNoYWRvd0FuZ2xlOiBNYXRoLlBJIC8gNixcbiAgICBkcm9wU2hhZG93Qmx1cjogMCxcbiAgICBkcm9wU2hhZG93Q29sb3I6ICdibGFjaycsXG4gICAgZHJvcFNoYWRvd0Rpc3RhbmNlOiA1LFxuICAgIGZpbGw6ICdibGFjaycsXG4gICAgZmlsbEdyYWRpZW50VHlwZTogVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwsXG4gICAgZmlsbEdyYWRpZW50U3RvcHM6IFtdLFxuICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgZm9udFNpemU6IDI2LFxuICAgIGZvbnRTdHlsZTogJ25vcm1hbCcsXG4gICAgZm9udFZhcmlhbnQ6ICdub3JtYWwnLFxuICAgIGZvbnRXZWlnaHQ6ICdub3JtYWwnLFxuICAgIGxldHRlclNwYWNpbmc6IDAsXG4gICAgbGluZUhlaWdodDogMCxcbiAgICBsaW5lSm9pbjogJ21pdGVyJyxcbiAgICBtaXRlckxpbWl0OiAxMCxcbiAgICBwYWRkaW5nOiAwLFxuICAgIHN0cm9rZTogJ2JsYWNrJyxcbiAgICBzdHJva2VUaGlja25lc3M6IDAsXG4gICAgdGV4dEJhc2VsaW5lOiAnYWxwaGFiZXRpYycsXG4gICAgdHJpbTogZmFsc2UsXG4gICAgd2hpdGVTcGFjZTogJ3ByZScsXG4gICAgd29yZFdyYXA6IGZhbHNlLFxuICAgIHdvcmRXcmFwV2lkdGg6IDEwMCxcbiAgICBsZWFkaW5nOiAwLFxufTtcblxuY29uc3QgZ2VuZXJpY0ZvbnRGYW1pbGllcyA9IFtcbiAgICAnc2VyaWYnLFxuICAgICdzYW5zLXNlcmlmJyxcbiAgICAnbW9ub3NwYWNlJyxcbiAgICAnY3Vyc2l2ZScsXG4gICAgJ2ZhbnRhc3knLFxuICAgICdzeXN0ZW0tdWknLFxuXVxuXG4vKipcbiAqIEEgVGV4dFN0eWxlIE9iamVjdCBjb250YWlucyBpbmZvcm1hdGlvbiB0byBkZWNvcmF0ZSBhIFRleHQgb2JqZWN0cy5cbiAqXG4gKiBBbiBpbnN0YW5jZSBjYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgVGV4dCBvYmplY3RzOyB0aGVuIGNoYW5naW5nIHRoZSBzdHlsZSB3aWxsIHVwZGF0ZSBhbGwgdGV4dCBvYmplY3RzIHVzaW5nIGl0LlxuICpcbiAqIEEgdG9vbCBjYW4gYmUgdXNlZCB0byBnZW5lcmF0ZSBhIHRleHQgc3R5bGUgW2hlcmVdKGh0dHBzOi8vcGl4aWpzLmlvL3BpeGktdGV4dC1zdHlsZSkuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0U3R5bGVcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3N0eWxlXSAtIFRoZSBzdHlsZSBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5hbGlnbj0nbGVmdCddIC0gQWxpZ25tZW50IGZvciBtdWx0aWxpbmUgdGV4dCAoJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnKSxcbiAgICAgKiAgZG9lcyBub3QgYWZmZWN0IHNpbmdsZSBsaW5lIHRleHRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdHlsZS5icmVha1dvcmRzPWZhbHNlXSAtIEluZGljYXRlcyBpZiBsaW5lcyBjYW4gYmUgd3JhcHBlZCB3aXRoaW4gd29yZHMsIGl0XG4gICAgICogIG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3R5bGUuZHJvcFNoYWRvdz1mYWxzZV0gLSBTZXQgYSBkcm9wIHNoYWRvdyBmb3IgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmRyb3BTaGFkb3dBbHBoYT0xXSAtIFNldCBhbHBoYSBmb3IgdGhlIGRyb3Agc2hhZG93XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93QW5nbGU9TWF0aC5QSS82XSAtIFNldCBhIGFuZ2xlIG9mIHRoZSBkcm9wIHNoYWRvd1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0JsdXI9MF0gLSBTZXQgYSBzaGFkb3cgYmx1ciByYWRpdXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IFtzdHlsZS5kcm9wU2hhZG93Q29sb3I9J2JsYWNrJ10gLSBBIGZpbGwgc3R5bGUgdG8gYmUgdXNlZCBvbiB0aGUgZHJvcHNoYWRvdyBlLmcgJ3JlZCcsICcjMDBGRjAwJ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlPTVdIC0gU2V0IGEgZGlzdGFuY2Ugb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW118bnVtYmVyfG51bWJlcltdfENhbnZhc0dyYWRpZW50fENhbnZhc1BhdHRlcm59IFtzdHlsZS5maWxsPSdibGFjayddIC0gQSBjYW52YXNcbiAgICAgKiAgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IGUuZyAncmVkJywgJyMwMEZGMDAnLiBDYW4gYmUgYW4gYXJyYXkgdG8gY3JlYXRlIGEgZ3JhZGllbnRcbiAgICAgKiAgZWcgWycjMDAwMDAwJywnI0ZGRkZGRiddXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZmlsbFN0eWxlfE1ETn1cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmZpbGxHcmFkaWVudFR5cGU9UElYSS5URVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTF0gLSBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnNcbiAgICAgKiAgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgY2FuIGNoYW5nZSB0aGUgdHlwZS9kaXJlY3Rpb24gb2YgdGhlIGdyYWRpZW50LiBTZWUge0BsaW5rIFBJWEkuVEVYVF9HUkFESUVOVH1cbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBbc3R5bGUuZmlsbEdyYWRpZW50U3RvcHNdIC0gSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGFycmF5IGNhbiBzZXRcbiAgICAgKiB0aGUgc3RvcCBwb2ludHMgKG51bWJlcnMgYmV0d2VlbiAwIGFuZCAxKSBmb3IgdGhlIGNvbG9yLCBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IGJlaGF2aW91ciBvZiBldmVubHkgc3BhY2luZyB0aGVtLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBbc3R5bGUuZm9udEZhbWlseT0nQXJpYWwnXSAtIFRoZSBmb250IGZhbWlseVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gW3N0eWxlLmZvbnRTaXplPTI2XSAtIFRoZSBmb250IHNpemUgKGFzIGEgbnVtYmVyIGl0IGNvbnZlcnRzIHRvIHB4LCBidXQgYXMgYSBzdHJpbmcsXG4gICAgICogIGVxdWl2YWxlbnRzIGFyZSAnMjZweCcsJzIwcHQnLCcxNjAlJyBvciAnMS42ZW0nKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuZm9udFN0eWxlPSdub3JtYWwnXSAtIFRoZSBmb250IHN0eWxlICgnbm9ybWFsJywgJ2l0YWxpYycgb3IgJ29ibGlxdWUnKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuZm9udFZhcmlhbnQ9J25vcm1hbCddIC0gVGhlIGZvbnQgdmFyaWFudCAoJ25vcm1hbCcgb3IgJ3NtYWxsLWNhcHMnKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuZm9udFdlaWdodD0nbm9ybWFsJ10gLSBUaGUgZm9udCB3ZWlnaHQgKCdub3JtYWwnLCAnYm9sZCcsICdib2xkZXInLCAnbGlnaHRlcicgYW5kICcxMDAnLFxuICAgICAqICAnMjAwJywgJzMwMCcsICc0MDAnLCAnNTAwJywgJzYwMCcsICc3MDAnLCA4MDAnIG9yICc5MDAnKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUubGVhZGluZz0wXSAtIFRoZSBzcGFjZSBiZXR3ZWVuIGxpbmVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5sZXR0ZXJTcGFjaW5nPTBdIC0gVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gbGV0dGVycywgZGVmYXVsdCBpcyAwXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5saW5lSGVpZ2h0XSAtIFRoZSBsaW5lIGhlaWdodCwgYSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBzcGFjZSB0aGF0IGEgbGV0dGVyIHVzZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmxpbmVKb2luPSdtaXRlciddIC0gVGhlIGxpbmVKb2luIHByb3BlcnR5IHNldHMgdGhlIHR5cGUgb2YgY29ybmVyIGNyZWF0ZWQsIGl0IGNhbiByZXNvbHZlXG4gICAgICogICAgICBzcGlrZWQgdGV4dCBpc3N1ZXMuIFBvc3NpYmxlIHZhbHVlcyBcIm1pdGVyXCIgKGNyZWF0ZXMgYSBzaGFycCBjb3JuZXIpLCBcInJvdW5kXCIgKGNyZWF0ZXMgYSByb3VuZCBjb3JuZXIpIG9yIFwiYmV2ZWxcIlxuICAgICAqICAgICAgKGNyZWF0ZXMgYSBzcXVhcmVkIGNvcm5lcikuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5taXRlckxpbWl0PTEwXSAtIFRoZSBtaXRlciBsaW1pdCB0byB1c2Ugd2hlbiB1c2luZyB0aGUgJ21pdGVyJyBsaW5lSm9pbiBtb2RlLiBUaGlzIGNhbiByZWR1Y2VcbiAgICAgKiAgICAgIG9yIGluY3JlYXNlIHRoZSBzcGlraW5lc3Mgb2YgcmVuZGVyZWQgdGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnBhZGRpbmc9MF0gLSBPY2Nhc2lvbmFsbHkgc29tZSBmb250cyBhcmUgY3JvcHBlZC4gQWRkaW5nIHNvbWUgcGFkZGluZyB3aWxsIHByZXZlbnQgdGhpcyBmcm9tXG4gICAgICogICAgIGhhcHBlbmluZyBieSBhZGRpbmcgcGFkZGluZyB0byBhbGwgc2lkZXMgb2YgdGhlIHRleHQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBbc3R5bGUuc3Ryb2tlPSdibGFjayddIC0gQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IHN0cm9rZVxuICAgICAqICBlLmcgJ2JsdWUnLCAnI0ZDRkYwMCdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnN0cm9rZVRoaWNrbmVzcz0wXSAtIEEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdGhpY2tuZXNzIG9mIHRoZSBzdHJva2UuXG4gICAgICogIERlZmF1bHQgaXMgMCAobm8gc3Ryb2tlKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLnRyaW09ZmFsc2VdIC0gVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS50ZXh0QmFzZWxpbmU9J2FscGhhYmV0aWMnXSAtIFRoZSBiYXNlbGluZSBvZiB0aGUgdGV4dCB0aGF0IGlzIHJlbmRlcmVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLndoaXRlU3BhY2U9J3ByZSddIC0gRGV0ZXJtaW5lcyB3aGV0aGVyIG5ld2xpbmVzICYgc3BhY2VzIGFyZSBjb2xsYXBzZWQgb3IgcHJlc2VydmVkIFwibm9ybWFsXCJcbiAgICAgKiAgICAgIChjb2xsYXBzZSwgY29sbGFwc2UpLCBcInByZVwiIChwcmVzZXJ2ZSwgcHJlc2VydmUpIHwgXCJwcmUtbGluZVwiIChwcmVzZXJ2ZSwgY29sbGFwc2UpLiBJdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0eWxlLndvcmRXcmFwPWZhbHNlXSAtIEluZGljYXRlcyBpZiB3b3JkIHdyYXAgc2hvdWxkIGJlIHVzZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLndvcmRXcmFwV2lkdGg9MTAwXSAtIFRoZSB3aWR0aCBhdCB3aGljaCB0ZXh0IHdpbGwgd3JhcCwgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzdHlsZSlcbiAgICB7XG4gICAgICAgIHRoaXMuc3R5bGVJRCA9IDA7XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgIGRlZXBDb3B5UHJvcGVydGllcyh0aGlzLCBzdHlsZSwgc3R5bGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgVGV4dFN0eWxlIG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIG9ubHkgdGhlIHByb3BlcnRpZXMgb2YgdGhlIG9iamVjdCBhcmUgY2xvbmVkLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0U3R5bGV9IE5ldyBjbG9uZWQgVGV4dFN0eWxlIG9iamVjdFxuICAgICAqL1xuICAgIGNsb25lKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGNsb25lZFByb3BlcnRpZXMgPSB7fTtcblxuICAgICAgICBkZWVwQ29weVByb3BlcnRpZXMoY2xvbmVkUHJvcGVydGllcywgdGhpcywgZGVmYXVsdFN0eWxlKTtcblxuICAgICAgICByZXR1cm4gbmV3IFRleHRTdHlsZShjbG9uZWRQcm9wZXJ0aWVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgYWxsIHByb3BlcnRpZXMgdG8gdGhlIGRlZmF1bHRzIHNwZWNpZmllZCBpbiBUZXh0U3R5bGUucHJvdG90eXBlLl9kZWZhdWx0XG4gICAgICovXG4gICAgcmVzZXQoKVxuICAgIHtcbiAgICAgICAgZGVlcENvcHlQcm9wZXJ0aWVzKHRoaXMsIGRlZmF1bHRTdHlsZSwgZGVmYXVsdFN0eWxlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0ICgnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCcpLCBkb2VzIG5vdCBhZmZlY3Qgc2luZ2xlIGxpbmUgdGV4dFxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCBhbGlnbigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWxpZ247XG4gICAgfVxuICAgIHNldCBhbGlnbihhbGlnbikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fYWxpZ24gIT09IGFsaWduKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hbGlnbiA9IGFsaWduO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgbGluZXMgY2FuIGJlIHdyYXBwZWQgd2l0aGluIHdvcmRzLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgYnJlYWtXb3JkcygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnJlYWtXb3JkcztcbiAgICB9XG4gICAgc2V0IGJyZWFrV29yZHMoYnJlYWtXb3JkcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fYnJlYWtXb3JkcyAhPT0gYnJlYWtXb3JkcylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYnJlYWtXb3JkcyA9IGJyZWFrV29yZHM7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBhIGRyb3Agc2hhZG93IGZvciB0aGUgdGV4dFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgZHJvcFNoYWRvdygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvdztcbiAgICB9XG4gICAgc2V0IGRyb3BTaGFkb3coZHJvcFNoYWRvdykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvdyAhPT0gZHJvcFNoYWRvdylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvdyA9IGRyb3BTaGFkb3c7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBhbHBoYSBmb3IgdGhlIGRyb3Agc2hhZG93XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGRyb3BTaGFkb3dBbHBoYSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FscGhhO1xuICAgIH1cbiAgICBzZXQgZHJvcFNoYWRvd0FscGhhKGRyb3BTaGFkb3dBbHBoYSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0FscGhhICE9PSBkcm9wU2hhZG93QWxwaGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dBbHBoYSA9IGRyb3BTaGFkb3dBbHBoYTtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGEgYW5nbGUgb2YgdGhlIGRyb3Agc2hhZG93XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGRyb3BTaGFkb3dBbmdsZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0FuZ2xlO1xuICAgIH1cbiAgICBzZXQgZHJvcFNoYWRvd0FuZ2xlKGRyb3BTaGFkb3dBbmdsZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0FuZ2xlICE9PSBkcm9wU2hhZG93QW5nbGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dBbmdsZSA9IGRyb3BTaGFkb3dBbmdsZTtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGEgc2hhZG93IGJsdXIgcmFkaXVzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGRyb3BTaGFkb3dCbHVyKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93Qmx1cjtcbiAgICB9XG4gICAgc2V0IGRyb3BTaGFkb3dCbHVyKGRyb3BTaGFkb3dCbHVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9kcm9wU2hhZG93Qmx1ciAhPT0gZHJvcFNoYWRvd0JsdXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dCbHVyID0gZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgZmlsbCBzdHlsZSB0byBiZSB1c2VkIG9uIHRoZSBkcm9wc2hhZG93IGUuZyAncmVkJywgJyMwMEZGMDAnXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd8bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBkcm9wU2hhZG93Q29sb3IoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dDb2xvcjtcbiAgICB9XG4gICAgc2V0IGRyb3BTaGFkb3dDb2xvcihkcm9wU2hhZG93Q29sb3IpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgY29uc3Qgb3V0cHV0Q29sb3IgPSBnZXRDb2xvcihkcm9wU2hhZG93Q29sb3IpO1xuICAgICAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0NvbG9yICE9PSBvdXRwdXRDb2xvcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0NvbG9yID0gb3V0cHV0Q29sb3I7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBhIGRpc3RhbmNlIG9mIHRoZSBkcm9wIHNoYWRvd1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBkcm9wU2hhZG93RGlzdGFuY2UoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZTtcbiAgICB9XG4gICAgc2V0IGRyb3BTaGFkb3dEaXN0YW5jZShkcm9wU2hhZG93RGlzdGFuY2UpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3dEaXN0YW5jZSAhPT0gZHJvcFNoYWRvd0Rpc3RhbmNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2UgPSBkcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgY2FudmFzIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBlLmcgJ3JlZCcsICcjMDBGRjAwJy5cbiAgICAgKiBDYW4gYmUgYW4gYXJyYXkgdG8gY3JlYXRlIGEgZ3JhZGllbnQgZWcgWycjMDAwMDAwJywnI0ZGRkZGRiddXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZmlsbFN0eWxlfE1ETn1cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ3xzdHJpbmdbXXxudW1iZXJ8bnVtYmVyW118Q2FudmFzR3JhZGllbnR8Q2FudmFzUGF0dGVybn1cbiAgICAgKi9cbiAgICBnZXQgZmlsbCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmlsbDtcbiAgICB9XG4gICAgc2V0IGZpbGwoZmlsbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBjb25zdCBvdXRwdXRDb2xvciA9IGdldENvbG9yKGZpbGwpO1xuICAgICAgICBpZiAodGhpcy5fZmlsbCAhPT0gb3V0cHV0Q29sb3IpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbGwgPSBvdXRwdXRDb2xvcjtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSWYgZmlsbCBpcyBhbiBhcnJheSBvZiBjb2xvdXJzIHRvIGNyZWF0ZSBhIGdyYWRpZW50LCB0aGlzIGNhbiBjaGFuZ2UgdGhlIHR5cGUvZGlyZWN0aW9uIG9mIHRoZSBncmFkaWVudC5cbiAgICAgKiBTZWUge0BsaW5rIFBJWEkuVEVYVF9HUkFESUVOVH1cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgZmlsbEdyYWRpZW50VHlwZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmlsbEdyYWRpZW50VHlwZTtcbiAgICB9XG4gICAgc2V0IGZpbGxHcmFkaWVudFR5cGUoZmlsbEdyYWRpZW50VHlwZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fZmlsbEdyYWRpZW50VHlwZSAhPT0gZmlsbEdyYWRpZW50VHlwZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZmlsbEdyYWRpZW50VHlwZSA9IGZpbGxHcmFkaWVudFR5cGU7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3VycyB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBhcnJheSBjYW4gc2V0IHRoZSBzdG9wIHBvaW50c1xuICAgICAqIChudW1iZXJzIGJldHdlZW4gMCBhbmQgMSkgZm9yIHRoZSBjb2xvciwgb3ZlcnJpZGluZyB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgb2YgZXZlbmx5IHNwYWNpbmcgdGhlbS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAqL1xuICAgIGdldCBmaWxsR3JhZGllbnRTdG9wcygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmlsbEdyYWRpZW50U3RvcHM7XG4gICAgfVxuICAgIHNldCBmaWxsR3JhZGllbnRTdG9wcyhmaWxsR3JhZGllbnRTdG9wcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAoIWFyZUFycmF5c0VxdWFsKHRoaXMuX2ZpbGxHcmFkaWVudFN0b3BzLGZpbGxHcmFkaWVudFN0b3BzKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZmlsbEdyYWRpZW50U3RvcHMgPSBmaWxsR3JhZGllbnRTdG9wcztcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGZvbnQgZmFtaWx5XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd8c3RyaW5nW119XG4gICAgICovXG4gICAgZ2V0IGZvbnRGYW1pbHkoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRGYW1pbHk7XG4gICAgfVxuICAgIHNldCBmb250RmFtaWx5KGZvbnRGYW1pbHkpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuZm9udEZhbWlseSAhPT0gZm9udEZhbWlseSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZm9udEZhbWlseSA9IGZvbnRGYW1pbHk7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBmb250IHNpemVcbiAgICAgKiAoYXMgYSBudW1iZXIgaXQgY29udmVydHMgdG8gcHgsIGJ1dCBhcyBhIHN0cmluZywgZXF1aXZhbGVudHMgYXJlICcyNnB4JywnMjBwdCcsJzE2MCUnIG9yICcxLjZlbScpXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ8c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCBmb250U2l6ZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9udFNpemU7XG4gICAgfVxuICAgIHNldCBmb250U2l6ZShmb250U2l6ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fZm9udFNpemUgIT09IGZvbnRTaXplKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mb250U2l6ZSA9IGZvbnRTaXplO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZm9udCBzdHlsZVxuICAgICAqICgnbm9ybWFsJywgJ2l0YWxpYycgb3IgJ29ibGlxdWUnKVxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCBmb250U3R5bGUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRTdHlsZTtcbiAgICB9XG4gICAgc2V0IGZvbnRTdHlsZShmb250U3R5bGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2ZvbnRTdHlsZSAhPT0gZm9udFN0eWxlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mb250U3R5bGUgPSBmb250U3R5bGU7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBmb250IHZhcmlhbnRcbiAgICAgKiAoJ25vcm1hbCcgb3IgJ3NtYWxsLWNhcHMnKVxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCBmb250VmFyaWFudCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9udFZhcmlhbnQ7XG4gICAgfVxuICAgIHNldCBmb250VmFyaWFudChmb250VmFyaWFudCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fZm9udFZhcmlhbnQgIT09IGZvbnRWYXJpYW50KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mb250VmFyaWFudCA9IGZvbnRWYXJpYW50O1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZm9udCB3ZWlnaHRcbiAgICAgKiAoJ25vcm1hbCcsICdib2xkJywgJ2JvbGRlcicsICdsaWdodGVyJyBhbmQgJzEwMCcsICcyMDAnLCAnMzAwJywgJzQwMCcsICc1MDAnLCAnNjAwJywgJzcwMCcsIDgwMCcgb3IgJzkwMCcpXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0IGZvbnRXZWlnaHQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRXZWlnaHQ7XG4gICAgfVxuICAgIHNldCBmb250V2VpZ2h0KGZvbnRXZWlnaHQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2ZvbnRXZWlnaHQgIT09IGZvbnRXZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZvbnRXZWlnaHQgPSBmb250V2VpZ2h0O1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW1vdW50IG9mIHNwYWNpbmcgYmV0d2VlbiBsZXR0ZXJzLCBkZWZhdWx0IGlzIDBcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgbGV0dGVyU3BhY2luZygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGV0dGVyU3BhY2luZztcbiAgICB9XG4gICAgc2V0IGxldHRlclNwYWNpbmcobGV0dGVyU3BhY2luZykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gbGV0dGVyU3BhY2luZylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbGV0dGVyU3BhY2luZyA9IGxldHRlclNwYWNpbmc7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBsaW5lIGhlaWdodCwgYSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBzcGFjZSB0aGF0IGEgbGV0dGVyIHVzZXNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgbGluZUhlaWdodCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGluZUhlaWdodDtcbiAgICB9XG4gICAgc2V0IGxpbmVIZWlnaHQobGluZUhlaWdodCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbGluZUhlaWdodCAhPT0gbGluZUhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBzcGFjZSBiZXR3ZWVuIGxpbmVzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGxlYWRpbmcoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xlYWRpbmc7XG4gICAgfVxuICAgIHNldCBsZWFkaW5nKGxlYWRpbmcpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2xlYWRpbmcgIT09IGxlYWRpbmcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xlYWRpbmcgPSBsZWFkaW5nO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGluZUpvaW4gcHJvcGVydHkgc2V0cyB0aGUgdHlwZSBvZiBjb3JuZXIgY3JlYXRlZCwgaXQgY2FuIHJlc29sdmUgc3Bpa2VkIHRleHQgaXNzdWVzLlxuICAgICAqIERlZmF1bHQgaXMgJ21pdGVyJyAoY3JlYXRlcyBhIHNoYXJwIGNvcm5lcikuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgZ2V0IGxpbmVKb2luKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9saW5lSm9pbjtcbiAgICB9XG4gICAgc2V0IGxpbmVKb2luKGxpbmVKb2luKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9saW5lSm9pbiAhPT0gbGluZUpvaW4pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xpbmVKb2luID0gbGluZUpvaW47XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBtaXRlciBsaW1pdCB0byB1c2Ugd2hlbiB1c2luZyB0aGUgJ21pdGVyJyBsaW5lSm9pbiBtb2RlXG4gICAgICogVGhpcyBjYW4gcmVkdWNlIG9yIGluY3JlYXNlIHRoZSBzcGlraW5lc3Mgb2YgcmVuZGVyZWQgdGV4dC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgbWl0ZXJMaW1pdCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWl0ZXJMaW1pdDtcbiAgICB9XG4gICAgc2V0IG1pdGVyTGltaXQobWl0ZXJMaW1pdCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbWl0ZXJMaW1pdCAhPT0gbWl0ZXJMaW1pdClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbWl0ZXJMaW1pdCA9IG1pdGVyTGltaXQ7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9jY2FzaW9uYWxseSBzb21lIGZvbnRzIGFyZSBjcm9wcGVkLiBBZGRpbmcgc29tZSBwYWRkaW5nIHdpbGwgcHJldmVudCB0aGlzIGZyb20gaGFwcGVuaW5nXG4gICAgICogYnkgYWRkaW5nIHBhZGRpbmcgdG8gYWxsIHNpZGVzIG9mIHRoZSB0ZXh0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBwYWRkaW5nKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYWRkaW5nO1xuICAgIH1cbiAgICBzZXQgcGFkZGluZyhwYWRkaW5nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9wYWRkaW5nICE9PSBwYWRkaW5nKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9wYWRkaW5nID0gcGFkZGluZztcbiAgICAgICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IHN0cm9rZVxuICAgICAqIGUuZyAnYmx1ZScsICcjRkNGRjAwJ1xuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfG51bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgc3Ryb2tlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdHJva2U7XG4gICAgfVxuICAgIHNldCBzdHJva2Uoc3Ryb2tlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGNvbnN0IG91dHB1dENvbG9yID0gZ2V0Q29sb3Ioc3Ryb2tlKTtcbiAgICAgICAgaWYgKHRoaXMuX3N0cm9rZSAhPT0gb3V0cHV0Q29sb3IpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3N0cm9rZSA9IG91dHB1dENvbG9yO1xuICAgICAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIG51bWJlciB0aGF0IHJlcHJlc2VudHMgdGhlIHRoaWNrbmVzcyBvZiB0aGUgc3Ryb2tlLlxuICAgICAqIERlZmF1bHQgaXMgMCAobm8gc3Ryb2tlKVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBzdHJva2VUaGlja25lc3MoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0cm9rZVRoaWNrbmVzcztcbiAgICB9XG4gICAgc2V0IHN0cm9rZVRoaWNrbmVzcyhzdHJva2VUaGlja25lc3MpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0cm9rZVRoaWNrbmVzcyAhPT0gc3Ryb2tlVGhpY2tuZXNzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9zdHJva2VUaGlja25lc3MgPSBzdHJva2VUaGlja25lc3M7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlbGluZSBvZiB0aGUgdGV4dCB0aGF0IGlzIHJlbmRlcmVkLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldCB0ZXh0QmFzZWxpbmUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRCYXNlbGluZTtcbiAgICB9XG4gICAgc2V0IHRleHRCYXNlbGluZSh0ZXh0QmFzZWxpbmUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3RleHRCYXNlbGluZSAhPT0gdGV4dEJhc2VsaW5lKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90ZXh0QmFzZWxpbmUgPSB0ZXh0QmFzZWxpbmU7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaW0gdHJhbnNwYXJlbnQgYm9yZGVyc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgdHJpbSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHJpbTtcbiAgICB9XG4gICAgc2V0IHRyaW0odHJpbSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fdHJpbSAhPT0gdHJpbSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdHJpbSA9IHRyaW07XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhvdyBuZXdsaW5lcyBhbmQgc3BhY2VzIHNob3VsZCBiZSBoYW5kbGVkLlxuICAgICAqIERlZmF1bHQgaXMgJ3ByZScgKHByZXNlcnZlLCBwcmVzZXJ2ZSkuXG4gICAgICpcbiAgICAgKiAgdmFsdWUgICAgICAgfCBOZXcgbGluZXMgICAgIHwgICBTcGFjZXNcbiAgICAgKiAgLS0tICAgICAgICAgfCAtLS0gICAgICAgICAgIHwgICAtLS1cbiAgICAgKiAnbm9ybWFsJyAgICAgfCBDb2xsYXBzZSAgICAgIHwgICBDb2xsYXBzZVxuICAgICAqICdwcmUnICAgICAgICB8IFByZXNlcnZlICAgICAgfCAgIFByZXNlcnZlXG4gICAgICogJ3ByZS1saW5lJyAgIHwgUHJlc2VydmUgICAgICB8ICAgQ29sbGFwc2VcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXQgd2hpdGVTcGFjZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2hpdGVTcGFjZTtcbiAgICB9XG4gICAgc2V0IHdoaXRlU3BhY2Uod2hpdGVTcGFjZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fd2hpdGVTcGFjZSAhPT0gd2hpdGVTcGFjZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fd2hpdGVTcGFjZSA9IHdoaXRlU3BhY2U7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiB3b3JkIHdyYXAgc2hvdWxkIGJlIHVzZWRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IHdvcmRXcmFwKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl93b3JkV3JhcDtcbiAgICB9XG4gICAgc2V0IHdvcmRXcmFwKHdvcmRXcmFwKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl93b3JkV3JhcCAhPT0gd29yZFdyYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3dvcmRXcmFwID0gd29yZFdyYXA7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBhdCB3aGljaCB0ZXh0IHdpbGwgd3JhcCwgaXQgbmVlZHMgd29yZFdyYXAgdG8gYmUgc2V0IHRvIHRydWVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgd29yZFdyYXBXaWR0aCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fd29yZFdyYXBXaWR0aDtcbiAgICB9XG4gICAgc2V0IHdvcmRXcmFwV2lkdGgod29yZFdyYXBXaWR0aCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fd29yZFdyYXBXaWR0aCAhPT0gd29yZFdyYXBXaWR0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fd29yZFdyYXBXaWR0aCA9IHdvcmRXcmFwV2lkdGg7XG4gICAgICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIGZvbnQgc3R5bGUgc3RyaW5nIHRvIHVzZSBmb3IgYFRleHRNZXRyaWNzLm1lYXN1cmVGb250KClgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBGb250IHN0eWxlIHN0cmluZywgZm9yIHBhc3NpbmcgdG8gYFRleHRNZXRyaWNzLm1lYXN1cmVGb250KClgXG4gICAgICovXG4gICAgdG9Gb250U3RyaW5nKClcbiAgICB7XG4gICAgICAgIC8vIGJ1aWxkIGNhbnZhcyBhcGkgZm9udCBzZXR0aW5nIGZyb20gaW5kaXZpZHVhbCBjb21wb25lbnRzLiBDb252ZXJ0IGEgbnVtZXJpYyB0aGlzLmZvbnRTaXplIHRvIHB4XG4gICAgICAgIGNvbnN0IGZvbnRTaXplU3RyaW5nID0gKHR5cGVvZiB0aGlzLmZvbnRTaXplID09PSAnbnVtYmVyJykgPyBgJHt0aGlzLmZvbnRTaXplfXB4YCA6IHRoaXMuZm9udFNpemU7XG5cbiAgICAgICAgLy8gQ2xlYW4tdXAgZm9udEZhbWlseSBwcm9wZXJ0eSBieSBxdW90aW5nIGVhY2ggZm9udCBuYW1lXG4gICAgICAgIC8vIHRoaXMgd2lsbCBzdXBwb3J0IGZvbnQgbmFtZXMgd2l0aCBzcGFjZXNcbiAgICAgICAgbGV0IGZvbnRGYW1pbGllcyA9IHRoaXMuZm9udEZhbWlseTtcblxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5mb250RmFtaWx5KSlcbiAgICAgICAge1xuICAgICAgICAgICAgZm9udEZhbWlsaWVzID0gdGhpcy5mb250RmFtaWx5LnNwbGl0KCcsJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gZm9udEZhbWlsaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBUcmltIGFueSBleHRyYSB3aGl0ZS1zcGFjZVxuICAgICAgICAgICAgbGV0IGZvbnRGYW1pbHkgPSBmb250RmFtaWxpZXNbaV0udHJpbSgpO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBmb250IGFscmVhZHkgY29udGFpbnMgc3RyaW5nc1xuICAgICAgICAgICAgaWYgKCEoLyhbXFxcIlxcJ10pW15cXCdcXFwiXStcXDEvKS50ZXN0KGZvbnRGYW1pbHkpICYmIGdlbmVyaWNGb250RmFtaWxpZXMuaW5kZXhPZihmb250RmFtaWx5KSA8IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZm9udEZhbWlseSA9IGBcIiR7Zm9udEZhbWlseX1cImA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb250RmFtaWxpZXNbaV0gPSBmb250RmFtaWx5O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGAke3RoaXMuZm9udFN0eWxlfSAke3RoaXMuZm9udFZhcmlhbnR9ICR7dGhpcy5mb250V2VpZ2h0fSAke2ZvbnRTaXplU3RyaW5nfSAke2ZvbnRGYW1pbGllcy5qb2luKCcsJyl9YDtcbiAgICB9XG59XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IGhleGFkZWNpbWFsIGNvbG9ycyB0byBzdHJpbmdzLCBhbmQgc2ltcGx5IHJldHVybiB0aGUgY29sb3IgaWYgaXQncyBhIHN0cmluZy5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcnxudW1iZXJbXX0gY29sb3JcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNvbG9yIGFzIGEgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBnZXRTaW5nbGVDb2xvcihjb2xvcilcbntcbiAgICBpZiAodHlwZW9mIGNvbG9yID09PSAnbnVtYmVyJylcbiAgICB7XG4gICAgICAgIHJldHVybiBoZXgyc3RyaW5nKGNvbG9yKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIHR5cGVvZiBjb2xvciA9PT0gJ3N0cmluZycgKVxuICAgIHtcbiAgICAgICAgaWYgKCBjb2xvci5pbmRleE9mKCcweCcpID09PSAwIClcbiAgICAgICAge1xuICAgICAgICAgICAgY29sb3IgPSBjb2xvci5yZXBsYWNlKCcweCcsICcjJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY29sb3I7XG59XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IGhleGFkZWNpbWFsIGNvbG9ycyB0byBzdHJpbmdzLCBhbmQgc2ltcGx5IHJldHVybiB0aGUgY29sb3IgaWYgaXQncyBhIHN0cmluZy5cbiAqIFRoaXMgdmVyc2lvbiBjYW4gYWxzbyBjb252ZXJ0IGFycmF5IG9mIGNvbG9yc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfG51bWJlcltdfSBjb2xvclxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY29sb3IgYXMgYSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGdldENvbG9yKGNvbG9yKVxue1xuICAgIGlmICghQXJyYXkuaXNBcnJheShjb2xvcikpXG4gICAge1xuICAgICAgICByZXR1cm4gZ2V0U2luZ2xlQ29sb3IoY29sb3IpO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbG9yLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb2xvcltpXSA9IGdldFNpbmdsZUNvbG9yKGNvbG9yW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG59XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IGhleGFkZWNpbWFsIGNvbG9ycyB0byBzdHJpbmdzLCBhbmQgc2ltcGx5IHJldHVybiB0aGUgY29sb3IgaWYgaXQncyBhIHN0cmluZy5cbiAqIFRoaXMgdmVyc2lvbiBjYW4gYWxzbyBjb252ZXJ0IGFycmF5IG9mIGNvbG9yc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5MSBGaXJzdCBhcnJheSB0byBjb21wYXJlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheTIgU2Vjb25kIGFycmF5IHRvIGNvbXBhcmVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IERvIHRoZSBhcnJheXMgY29udGFpbiB0aGUgc2FtZSB2YWx1ZXMgaW4gdGhlIHNhbWUgb3JkZXJcbiAqL1xuZnVuY3Rpb24gYXJlQXJyYXlzRXF1YWwoYXJyYXkxLCBhcnJheTIpXG57XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5MSkgfHwgIUFycmF5LmlzQXJyYXkoYXJyYXkyKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoYXJyYXkxLmxlbmd0aCAhPT0gYXJyYXkyLmxlbmd0aClcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5MS5sZW5ndGg7ICsraSlcbiAgICB7XG4gICAgICAgIGlmIChhcnJheTFbaV0gIT09IGFycmF5MltpXSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBlbnN1cmUgdGhhdCBvYmplY3QgcHJvcGVydGllcyBhcmUgY29waWVkIGJ5IHZhbHVlLCBhbmQgbm90IGJ5IHJlZmVyZW5jZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgVGFyZ2V0IG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgaW50b1xuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBTb3VyY2Ugb2JqZWN0IGZvciB0aGUgcHJvcGVydGllcyB0byBjb3B5XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlPYmogT2JqZWN0IGNvbnRhaW5pbmcgcHJvcGVydGllcyBuYW1lcyB3ZSB3YW50IHRvIGxvb3Agb3ZlclxuICovXG5mdW5jdGlvbiBkZWVwQ29weVByb3BlcnRpZXModGFyZ2V0LCBzb3VyY2UsIHByb3BlcnR5T2JqKSB7XG4gICAgZm9yIChjb25zdCBwcm9wIGluIHByb3BlcnR5T2JqKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZVtwcm9wXSkpIHtcbiAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXS5zbGljZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyoqXG4gKiBUaGUgVGV4dE1ldHJpY3Mgb2JqZWN0IHJlcHJlc2VudHMgdGhlIG1lYXN1cmVtZW50IG9mIGEgYmxvY2sgb2YgdGV4dCB3aXRoIGEgc3BlY2lmaWVkIHN0eWxlLlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgc3R5bGUgPSBuZXcgUElYSS5UZXh0U3R5bGUoe2ZvbnRGYW1pbHkgOiAnQXJpYWwnLCBmb250U2l6ZTogMjQsIGZpbGwgOiAweGZmMTAxMCwgYWxpZ24gOiAnY2VudGVyJ30pXG4gKiBsZXQgdGV4dE1ldHJpY3MgPSBQSVhJLlRleHRNZXRyaWNzLm1lYXN1cmVUZXh0KCdZb3VyIHRleHQnLCBzdHlsZSlcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dE1ldHJpY3NcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIHRoZSB0ZXh0IHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gc3R5bGUgLSB0aGUgc3R5bGUgdGhhdCB3YXMgbWVhc3VyZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgbWVhc3VyZWQgd2lkdGggb2YgdGhlIHRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIG1lYXN1cmVkIGhlaWdodCBvZiB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IGxpbmVzIC0gYW4gYXJyYXkgb2YgdGhlIGxpbmVzIG9mIHRleHQgYnJva2VuIGJ5IG5ldyBsaW5lcyBhbmQgd3JhcHBpbmcgaWYgc3BlY2lmaWVkIGluIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gbGluZVdpZHRocyAtIGFuIGFycmF5IG9mIHRoZSBsaW5lIHdpZHRocyBmb3IgZWFjaCBsaW5lIG1hdGNoZWQgdG8gYGxpbmVzYFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsaW5lSGVpZ2h0IC0gdGhlIG1lYXN1cmVkIGxpbmUgaGVpZ2h0IGZvciB0aGlzIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heExpbmVXaWR0aCAtIHRoZSBtYXhpbXVtIGxpbmUgd2lkdGggZm9yIGFsbCBtZWFzdXJlZCBsaW5lc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBmb250UHJvcGVydGllcyAtIHRoZSBmb250IHByb3BlcnRpZXMgb2JqZWN0IGZyb20gVGV4dE1ldHJpY3MubWVhc3VyZUZvbnRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0ZXh0LCBzdHlsZSwgd2lkdGgsIGhlaWdodCwgbGluZXMsIGxpbmVXaWR0aHMsIGxpbmVIZWlnaHQsIG1heExpbmVXaWR0aCwgZm9udFByb3BlcnRpZXMpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHQgdGhhdCB3YXMgbWVhc3VyZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0eWxlIHRoYXQgd2FzIG1lYXN1cmVkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dFN0eWxlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWVhc3VyZWQgd2lkdGggb2YgdGhlIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWVhc3VyZWQgaGVpZ2h0IG9mIHRoZSB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiBsaW5lcyBvZiB0aGUgdGV4dCBicm9rZW4gYnkgbmV3IGxpbmVzIGFuZCB3cmFwcGluZyBpcyBzcGVjaWZpZWQgaW4gc3R5bGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVzID0gbGluZXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHRoZSBsaW5lIHdpZHRocyBmb3IgZWFjaCBsaW5lIG1hdGNoZWQgdG8gYGxpbmVzYFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGluZVdpZHRocyA9IGxpbmVXaWR0aHM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtZWFzdXJlZCBsaW5lIGhlaWdodCBmb3IgdGhpcyBzdHlsZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4aW11bSBsaW5lIHdpZHRoIGZvciBhbGwgbWVhc3VyZWQgbGluZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhMaW5lV2lkdGggPSBtYXhMaW5lV2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBmb250IHByb3BlcnRpZXMgb2JqZWN0IGZyb20gVGV4dE1ldHJpY3MubWVhc3VyZUZvbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JRm9udE1ldHJpY3N9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZvbnRQcm9wZXJ0aWVzID0gZm9udFByb3BlcnRpZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWVhc3VyZXMgdGhlIHN1cHBsaWVkIHN0cmluZyBvZiB0ZXh0IGFuZCByZXR1cm5zIGEgUmVjdGFuZ2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgLSB0aGUgdGV4dCB0byBtZWFzdXJlLlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHRleHQgc3R5bGUgdG8gdXNlIGZvciBtZWFzdXJpbmdcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt3b3JkV3JhcF0gLSBvcHRpb25hbCBvdmVycmlkZSBmb3IgaWYgd29yZC13cmFwIHNob3VsZCBiZSBhcHBsaWVkIHRvIHRoZSB0ZXh0LlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtjYW52YXNdIC0gb3B0aW9uYWwgc3BlY2lmaWNhdGlvbiBvZiB0aGUgY2FudmFzIHRvIHVzZSBmb3IgbWVhc3VyaW5nLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dE1ldHJpY3N9IG1lYXN1cmVkIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHRleHQuXG4gICAgICovXG4gICAgc3RhdGljIG1lYXN1cmVUZXh0KHRleHQsIHN0eWxlLCB3b3JkV3JhcCwgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhcylcbiAgICB7XG4gICAgICAgIHdvcmRXcmFwID0gKHdvcmRXcmFwID09PSB1bmRlZmluZWQgfHwgd29yZFdyYXAgPT09IG51bGwpID8gc3R5bGUud29yZFdyYXAgOiB3b3JkV3JhcDtcbiAgICAgICAgY29uc3QgZm9udCA9IHN0eWxlLnRvRm9udFN0cmluZygpO1xuICAgICAgICBjb25zdCBmb250UHJvcGVydGllcyA9IFRleHRNZXRyaWNzLm1lYXN1cmVGb250KGZvbnQpO1xuXG4gICAgICAgIC8vIGZhbGxiYWNrIGluIGNhc2UgVUEgZGlzYWxsb3cgY2FudmFzIGRhdGEgZXh0cmFjdGlvblxuICAgICAgICAvLyAodG9EYXRhVVJJLCBnZXRJbWFnZURhdGEgZnVuY3Rpb25zKVxuICAgICAgICBpZiAoZm9udFByb3BlcnRpZXMuZm9udFNpemUgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplID0gc3R5bGUuZm9udFNpemU7XG4gICAgICAgICAgICBmb250UHJvcGVydGllcy5hc2NlbnQgPSBzdHlsZS5mb250U2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuXG4gICAgICAgIGNvbnN0IG91dHB1dFRleHQgPSB3b3JkV3JhcCA/IFRleHRNZXRyaWNzLndvcmRXcmFwKHRleHQsIHN0eWxlLCBjYW52YXMpIDogdGV4dDtcbiAgICAgICAgY29uc3QgbGluZXMgPSBvdXRwdXRUZXh0LnNwbGl0KC8oPzpcXHJcXG58XFxyfFxcbikvKTtcbiAgICAgICAgY29uc3QgbGluZVdpZHRocyA9IG5ldyBBcnJheShsaW5lcy5sZW5ndGgpO1xuICAgICAgICBsZXQgbWF4TGluZVdpZHRoID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBsaW5lV2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGxpbmVzW2ldKS53aWR0aCArICgobGluZXNbaV0ubGVuZ3RoIC0gMSkgKiBzdHlsZS5sZXR0ZXJTcGFjaW5nKTtcblxuICAgICAgICAgICAgbGluZVdpZHRoc1tpXSA9IGxpbmVXaWR0aDtcbiAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGluZVdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgd2lkdGggPSBtYXhMaW5lV2lkdGggKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG5cbiAgICAgICAgaWYgKHN0eWxlLmRyb3BTaGFkb3cpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpZHRoICs9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxpbmVIZWlnaHQgPSBzdHlsZS5saW5lSGVpZ2h0IHx8IGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gTWF0aC5tYXgobGluZUhlaWdodCwgZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3MpXG4gICAgICAgICAgICArICgobGluZXMubGVuZ3RoIC0gMSkgKiAobGluZUhlaWdodCArIHN0eWxlLmxlYWRpbmcpKTtcblxuICAgICAgICBpZiAoc3R5bGUuZHJvcFNoYWRvdylcbiAgICAgICAge1xuICAgICAgICAgICAgaGVpZ2h0ICs9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgVGV4dE1ldHJpY3MoXG4gICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgc3R5bGUsXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIGxpbmVzLFxuICAgICAgICAgICAgbGluZVdpZHRocyxcbiAgICAgICAgICAgIGxpbmVIZWlnaHQgKyBzdHlsZS5sZWFkaW5nLFxuICAgICAgICAgICAgbWF4TGluZVdpZHRoLFxuICAgICAgICAgICAgZm9udFByb3BlcnRpZXNcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIG5ld2xpbmVzIHRvIGEgc3RyaW5nIHRvIGhhdmUgaXQgb3B0aW1hbGx5IGZpdCBpbnRvIHRoZSBob3Jpem9udGFsXG4gICAgICogYm91bmRzIHNldCBieSB0aGUgVGV4dCBvYmplY3QncyB3b3JkV3JhcFdpZHRoIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFN0cmluZyB0byBhcHBseSB3b3JkIHdyYXBwaW5nIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gc3R5bGUgLSB0aGUgc3R5bGUgdG8gdXNlIHdoZW4gd3JhcHBpbmdcbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbY2FudmFzXSAtIG9wdGlvbmFsIHNwZWNpZmljYXRpb24gb2YgdGhlIGNhbnZhcyB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IE5ldyBzdHJpbmcgd2l0aCBuZXcgbGluZXMgYXBwbGllZCB3aGVyZSByZXF1aXJlZFxuICAgICAqL1xuICAgIHN0YXRpYyB3b3JkV3JhcCh0ZXh0LCBzdHlsZSwgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhcylcbiAgICB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICBsZXQgd2lkdGggPSAwO1xuICAgICAgICBsZXQgbGluZSA9ICcnO1xuICAgICAgICBsZXQgbGluZXMgPSAnJztcblxuICAgICAgICBjb25zdCBjYWNoZSA9IHt9O1xuICAgICAgICBjb25zdCB7IGxldHRlclNwYWNpbmcsIHdoaXRlU3BhY2UgfSA9IHN0eWxlO1xuXG4gICAgICAgIC8vIEhvdyB0byBoYW5kbGUgd2hpdGVzcGFjZXNcbiAgICAgICAgY29uc3QgY29sbGFwc2VTcGFjZXMgPSBUZXh0TWV0cmljcy5jb2xsYXBzZVNwYWNlcyh3aGl0ZVNwYWNlKTtcbiAgICAgICAgY29uc3QgY29sbGFwc2VOZXdsaW5lcyA9IFRleHRNZXRyaWNzLmNvbGxhcHNlTmV3bGluZXMod2hpdGVTcGFjZSk7XG5cbiAgICAgICAgLy8gd2hldGhlciBvciBub3Qgc3BhY2VzIG1heSBiZSBhZGRlZCB0byB0aGUgYmVnaW5uaW5nIG9mIGxpbmVzXG4gICAgICAgIGxldCBjYW5QcmVwZW5kU3BhY2VzID0gIWNvbGxhcHNlU3BhY2VzO1xuXG4gICAgICAgIC8vIFRoZXJlIGlzIGxldHRlclNwYWNpbmcgYWZ0ZXIgZXZlcnkgY2hhciBleGNlcHQgdGhlIGxhc3Qgb25lXG4gICAgICAgIC8vIHRfaF9pX3NfJyAnX2lfc18nICdfYV9uXycgJ19lX3hfYV9tX3BfbF9lXycgJ18hXG4gICAgICAgIC8vIHNvIGZvciBjb252ZW5pZW5jZSB0aGUgYWJvdmUgbmVlZHMgdG8gYmUgY29tcGFyZWQgdG8gd2lkdGggKyAxIGV4dHJhIGxldHRlclNwYWNlXG4gICAgICAgIC8vIHRfaF9pX3NfJyAnX2lfc18nICdfYV9uXycgJ19lX3hfYV9tX3BfbF9lXycgJ18hX1xuICAgICAgICAvLyBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19cbiAgICAgICAgLy8gQW5kIHRoZW4gdGhlIGZpbmFsIHNwYWNlIGlzIHNpbXBseSBubyBhcHBlbmRlZCB0byBlYWNoIGxpbmVcbiAgICAgICAgY29uc3Qgd29yZFdyYXBXaWR0aCA9IHN0eWxlLndvcmRXcmFwV2lkdGggKyBsZXR0ZXJTcGFjaW5nO1xuXG4gICAgICAgIC8vIGJyZWFrIHRleHQgaW50byB3b3Jkcywgc3BhY2VzIGFuZCBuZXdsaW5lIGNoYXJzXG4gICAgICAgIGNvbnN0IHRva2VucyA9IFRleHRNZXRyaWNzLnRva2VuaXplKHRleHQpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBnZXQgdGhlIHdvcmQsIHNwYWNlIG9yIG5ld2xpbmVDaGFyXG4gICAgICAgICAgICBsZXQgdG9rZW4gPSB0b2tlbnNbaV07XG5cbiAgICAgICAgICAgIC8vIGlmIHdvcmQgaXMgYSBuZXcgbGluZVxuICAgICAgICAgICAgaWYgKFRleHRNZXRyaWNzLmlzTmV3bGluZSh0b2tlbikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8ga2VlcCB0aGUgbmV3IGxpbmVcbiAgICAgICAgICAgICAgICBpZiAoIWNvbGxhcHNlTmV3bGluZXMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gIWNvbGxhcHNlU3BhY2VzO1xuICAgICAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgd2Ugc2hvdWxkIGNvbGxhcHNlIG5ldyBsaW5lc1xuICAgICAgICAgICAgICAgIC8vIHdlIHNpbXBseSBjb252ZXJ0IGl0IGludG8gYSBzcGFjZVxuICAgICAgICAgICAgICAgIHRva2VuID0gJyAnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB3ZSBzaG91bGQgY29sbGFwc2UgcmVwZWF0ZWQgd2hpdGVzcGFjZXNcbiAgICAgICAgICAgIGlmIChjb2xsYXBzZVNwYWNlcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBib3RoIHRoaXMgYW5kIHRoZSBsYXN0IHRva2VucyBmb3Igc3BhY2VzXG4gICAgICAgICAgICAgICAgY29uc3QgY3VycklzQnJlYWtpbmdTcGFjZSA9IFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSh0b2tlbik7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdElzQnJlYWtpbmdTcGFjZSA9IFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShsaW5lW2xpbmUubGVuZ3RoIC0gMV0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJJc0JyZWFraW5nU3BhY2UgJiYgbGFzdElzQnJlYWtpbmdTcGFjZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZ2V0IHdvcmQgd2lkdGggZnJvbSBjYWNoZSBpZiBwb3NzaWJsZVxuICAgICAgICAgICAgY29uc3QgdG9rZW5XaWR0aCA9IFRleHRNZXRyaWNzLmdldEZyb21DYWNoZSh0b2tlbiwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgICAvLyB3b3JkIGlzIGxvbmdlciB0aGFuIGRlc2lyZWQgYm91bmRzXG4gICAgICAgICAgICBpZiAodG9rZW5XaWR0aCA+IHdvcmRXcmFwV2lkdGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gaWYgd2UgYXJlIG5vdCBhbHJlYWR5IGF0IHRoZSBiZWdpbm5pbmcgb2YgYSBsaW5lXG4gICAgICAgICAgICAgICAgaWYgKGxpbmUgIT09ICcnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgbmV3bGluZXMgZm9yIG92ZXJmbG93IHdvcmRzXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGJyZWFrIGxhcmdlIHdvcmQgb3ZlciBtdWx0aXBsZSBsaW5lc1xuICAgICAgICAgICAgICAgIGlmIChUZXh0TWV0cmljcy5jYW5CcmVha1dvcmRzKHRva2VuLCBzdHlsZS5icmVha1dvcmRzKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJyZWFrIHdvcmQgaW50byBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXJhY3RlcnMgPSB0b2tlbi5zcGxpdCgnJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gbG9vcCB0aGUgY2hhcmFjdGVyc1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNoYXJhY3RlcnMubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjaGFyID0gY2hhcmFjdGVyc1tqXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGsgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgYXJlIG5vdCBhdCB0aGUgZW5kIG9mIHRoZSB0b2tlblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY2hhcmFjdGVyc1tqICsga10pXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dENoYXIgPSBjaGFyYWN0ZXJzW2ogKyBrXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0Q2hhciA9IGNoYXJbY2hhci5sZW5ndGggLSAxXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNob3VsZCBub3Qgc3BsaXQgY2hhcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIVRleHRNZXRyaWNzLmNhbkJyZWFrQ2hhcnMobGFzdENoYXIsIG5leHRDaGFyLCB0b2tlbiwgaiwgc3R5bGUuYnJlYWtXb3JkcykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb21iaW5lIGNoYXJzICYgbW92ZSBmb3J3YXJkIG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyICs9IG5leHRDaGFyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGogKz0gY2hhci5sZW5ndGggLSAxO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXJXaWR0aCA9IFRleHRNZXRyaWNzLmdldEZyb21DYWNoZShjaGFyLCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFyYWN0ZXJXaWR0aCArIHdpZHRoID4gd29yZFdyYXBXaWR0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lICs9IGNoYXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSBjaGFyYWN0ZXJXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHJ1biB3b3JkIG91dCBvZiB0aGUgYm91bmRzXG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlIHdvcmRzIGluIHRoaXMgbGluZSBhbHJlYWR5XG4gICAgICAgICAgICAgICAgICAgIC8vIGZpbmlzaCB0aGF0IGxpbmUgYW5kIHN0YXJ0IGEgbmV3IG9uZVxuICAgICAgICAgICAgICAgICAgICBpZiAobGluZS5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNMYXN0VG9rZW4gPSBpID09PSB0b2tlbnMubGVuZ3RoIC0gMTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBnaXZlIGl0IGl0cyBvd24gbGluZSBpZiBpdCdzIG5vdCB0aGUgZW5kXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUodG9rZW4sICFpc0xhc3RUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB3b3JkIGNvdWxkIGZpdFxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIHdvcmQgd29uJ3QgZml0IGJlY2F1c2Ugb2YgZXhpc3Rpbmcgd29yZHNcbiAgICAgICAgICAgICAgICAvLyBzdGFydCBhIG5ldyBsaW5lXG4gICAgICAgICAgICAgICAgaWYgKHRva2VuV2lkdGggKyB3aWR0aCA+IHdvcmRXcmFwV2lkdGgpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdHMgYSBzcGFjZSB3ZSBkb24ndCB3YW50IGl0XG4gICAgICAgICAgICAgICAgICAgIGNhblByZXBlbmRTcGFjZXMgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0IGEgbmV3IGxpbmVcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gZG9uJ3QgYWRkIHNwYWNlcyB0byB0aGUgYmVnaW5uaW5nIG9mIGxpbmVzXG4gICAgICAgICAgICAgICAgaWYgKGxpbmUubGVuZ3RoID4gMCB8fCAhVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKHRva2VuKSB8fCBjYW5QcmVwZW5kU3BhY2VzKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIHRoZSB3b3JkIHRvIHRoZSBjdXJyZW50IGxpbmVcbiAgICAgICAgICAgICAgICAgICAgbGluZSArPSB0b2tlbjtcblxuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgd2lkdGggY291bnRlclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSB0b2tlbldpZHRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSwgZmFsc2UpO1xuXG4gICAgICAgIHJldHVybiBsaW5lcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252aWVuaWVuY2UgZnVuY3Rpb24gZm9yIGxvZ2dpbmcgZWFjaCBsaW5lIGFkZGVkIGR1cmluZyB0aGUgd29yZFdyYXBcbiAgICAgKiBtZXRob2RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIGxpbmUgICAgICAgIC0gVGhlIGxpbmUgb2YgdGV4dCB0byBhZGRcbiAgICAgKiBAcGFyYW0gIHtib29sZWFufSAgbmV3TGluZSAgICAgLSBBZGQgbmV3IGxpbmUgY2hhcmFjdGVyIHRvIGVuZFxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gICBBIGZvcm1hdHRlZCBsaW5lXG4gICAgICovXG4gICAgc3RhdGljIGFkZExpbmUobGluZSwgbmV3TGluZSA9IHRydWUpXG4gICAge1xuICAgICAgICBsaW5lID0gVGV4dE1ldHJpY3MudHJpbVJpZ2h0KGxpbmUpO1xuXG4gICAgICAgIGxpbmUgPSAobmV3TGluZSkgPyBgJHtsaW5lfVxcbmAgOiBsaW5lO1xuXG4gICAgICAgIHJldHVybiBsaW5lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgJiBzZXRzIHRoZSB3aWR0aHMgb2YgY2FsY3VsYXRlZCBjaGFyYWN0ZXJzIGluIGEgY2FjaGUgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICAgICAgICAgICAgICAgICAgIGtleSAgICAgICAgICAgIFRoZSBrZXlcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgICBsZXR0ZXJTcGFjaW5nICBUaGUgbGV0dGVyIHNwYWNpbmdcbiAgICAgKiBAcGFyYW0gIHtvYmplY3R9ICAgICAgICAgICAgICAgICAgICBjYWNoZSAgICAgICAgICBUaGUgY2FjaGVcbiAgICAgKiBAcGFyYW0gIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9ICBjb250ZXh0ICAgICAgICBUaGUgY2FudmFzIGNvbnRleHRcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9ICAgICAgICAgICAgICAgICAgICBUaGUgZnJvbSBjYWNoZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0RnJvbUNhY2hlKGtleSwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpXG4gICAge1xuICAgICAgICBsZXQgd2lkdGggPSBjYWNoZVtrZXldO1xuXG4gICAgICAgIGlmICh3aWR0aCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBzcGFjaW5nID0gKChrZXkubGVuZ3RoKSAqIGxldHRlclNwYWNpbmcpO1xuXG4gICAgICAgICAgICB3aWR0aCA9IGNvbnRleHQubWVhc3VyZVRleHQoa2V5KS53aWR0aCArIHNwYWNpbmc7XG4gICAgICAgICAgICBjYWNoZVtrZXldID0gd2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gd2lkdGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHdlIHNob3VsZCBjb2xsYXBzZSBicmVha2luZyBzcGFjZXNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIHdoaXRlU3BhY2UgIFRoZSBUZXh0U3R5bGUgcHJvcGVydHkgd2hpdGVTcGFjZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59ICBzaG91bGQgY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgY29sbGFwc2VTcGFjZXMod2hpdGVTcGFjZSlcbiAgICB7XG4gICAgICAgIHJldHVybiAod2hpdGVTcGFjZSA9PT0gJ25vcm1hbCcgfHwgd2hpdGVTcGFjZSA9PT0gJ3ByZS1saW5lJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHdlIHNob3VsZCBjb2xsYXBzZSBuZXdMaW5lIGNoYXJzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gICB3aGl0ZVNwYWNlICBUaGUgd2hpdGUgc3BhY2VcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSAgc2hvdWxkIGNvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIGNvbGxhcHNlTmV3bGluZXMod2hpdGVTcGFjZSlcbiAgICB7XG4gICAgICAgIHJldHVybiAod2hpdGVTcGFjZSA9PT0gJ25vcm1hbCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHRyaW1zIGJyZWFraW5nIHdoaXRlc3BhY2VzIGZyb20gc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIHRleHQgIFRoZSB0ZXh0XG4gICAgICogQHJldHVybiB7c3RyaW5nfSAgdHJpbW1lZCBzdHJpbmdcbiAgICAgKi9cbiAgICBzdGF0aWMgdHJpbVJpZ2h0KHRleHQpXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIHRleHQgIT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gdGV4dC5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgY2hhciA9IHRleHRbaV07XG5cbiAgICAgICAgICAgIGlmICghVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKGNoYXIpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZXh0ID0gdGV4dC5zbGljZSgwLCAtMSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIGNoYXIgaXMgYSBuZXdsaW5lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICBjaGFyICBUaGUgY2hhcmFjdGVyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gIFRydWUgaWYgbmV3bGluZSwgRmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIHN0YXRpYyBpc05ld2xpbmUoY2hhcilcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2YgY2hhciAhPT0gJ3N0cmluZycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoVGV4dE1ldHJpY3MuX25ld2xpbmVzLmluZGV4T2YoY2hhci5jaGFyQ29kZUF0KDApKSA+PSAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIGNoYXIgaXMgYSBicmVha2luZyB3aGl0ZXNwYWNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICBjaGFyICBUaGUgY2hhcmFjdGVyXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gIFRydWUgaWYgd2hpdGVzcGFjZSwgRmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIHN0YXRpYyBpc0JyZWFraW5nU3BhY2UoY2hhcilcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2YgY2hhciAhPT0gJ3N0cmluZycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoVGV4dE1ldHJpY3MuX2JyZWFraW5nU3BhY2VzLmluZGV4T2YoY2hhci5jaGFyQ29kZUF0KDApKSA+PSAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTcGxpdHMgYSBzdHJpbmcgaW50byB3b3JkcywgYnJlYWtpbmctc3BhY2VzIGFuZCBuZXdMaW5lIGNoYXJhY3RlcnNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgdGV4dCAgICAgICBUaGUgdGV4dFxuICAgICAqIEByZXR1cm4ge3N0cmluZ1tdfSAgQSB0b2tlbml6ZWQgYXJyYXlcbiAgICAgKi9cbiAgICBzdGF0aWMgdG9rZW5pemUodGV4dClcbiAgICB7XG4gICAgICAgIGNvbnN0IHRva2VucyA9IFtdO1xuICAgICAgICBsZXQgdG9rZW4gPSAnJztcblxuICAgICAgICBpZiAodHlwZW9mIHRleHQgIT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBjaGFyID0gdGV4dFtpXTtcblxuICAgICAgICAgICAgaWYgKFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShjaGFyKSB8fCBUZXh0TWV0cmljcy5pc05ld2xpbmUoY2hhcikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuICE9PSAnJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSAnJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaChjaGFyKTtcblxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0b2tlbiArPSBjaGFyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRva2VuICE9PSAnJylcbiAgICAgICAge1xuICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBleGlzdHMgdG8gYmUgZWFzaWx5IG92ZXJyaWRkZW5cbiAgICAgKiBJdCBhbGxvd3Mgb25lIHRvIGN1c3RvbWlzZSB3aGljaCB3b3JkcyBzaG91bGQgYnJlYWtcbiAgICAgKiBFeGFtcGxlcyBhcmUgaWYgdGhlIHRva2VuIGlzIENKSyBvciBudW1iZXJzLlxuICAgICAqIEl0IG11c3QgcmV0dXJuIGEgYm9vbGVhbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgdG9rZW4gICAgICAgVGhlIHRva2VuXG4gICAgICogQHBhcmFtICB7Ym9vbGVhbn0gIGJyZWFrV29yZHMgIFRoZSBzdHlsZSBhdHRyIGJyZWFrIHdvcmRzXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciB0byBicmVhayB3b3JkIG9yIG5vdFxuICAgICAqL1xuICAgIHN0YXRpYyBjYW5CcmVha1dvcmRzKHRva2VuLCBicmVha1dvcmRzKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGJyZWFrV29yZHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgZXhpc3RzIHRvIGJlIGVhc2lseSBvdmVycmlkZGVuXG4gICAgICogSXQgYWxsb3dzIG9uZSB0byBkZXRlcm1pbmUgd2hldGhlciBhIHBhaXIgb2YgY2hhcmFjdGVyc1xuICAgICAqIHNob3VsZCBiZSBicm9rZW4gYnkgbmV3bGluZXNcbiAgICAgKiBGb3IgZXhhbXBsZSBjZXJ0YWluIGNoYXJhY3RlcnMgaW4gQ0pLIGxhbmdzIG9yIG51bWJlcnMuXG4gICAgICogSXQgbXVzdCByZXR1cm4gYSBib29sZWFuLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICBjaGFyICAgICAgVGhlIGNoYXJhY3RlclxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gIG5leHRDaGFyICBUaGUgbmV4dCBjaGFyYWN0ZXJcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICB0b2tlbiAgICAgVGhlIHRva2VuL3dvcmQgdGhlIGNoYXJhY3RlcnMgYXJlIGZyb21cbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9ICBpbmRleCAgICAgVGhlIGluZGV4IGluIHRoZSB0b2tlbiBvZiB0aGUgY2hhclxuICAgICAqIEBwYXJhbSAge2Jvb2xlYW59ICBicmVha1dvcmRzICBUaGUgc3R5bGUgYXR0ciBicmVhayB3b3Jkc1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgdG8gYnJlYWsgd29yZCBvciBub3RcbiAgICAgKi9cbiAgICBzdGF0aWMgY2FuQnJlYWtDaGFycyhjaGFyLCBuZXh0Q2hhciwgdG9rZW4sIGluZGV4LCBicmVha1dvcmRzKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBhc2NlbnQsIGRlc2NlbnQgYW5kIGZvbnRTaXplIG9mIGEgZ2l2ZW4gZm9udC1zdHlsZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmb250IC0gU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgc3R5bGUgb2YgdGhlIGZvbnRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLklGb250TWV0cmljc30gRm9udCBwcm9wZXJ0aWVzIG9iamVjdFxuICAgICAqL1xuICAgIHN0YXRpYyBtZWFzdXJlRm9udChmb250KVxuICAgIHtcbiAgICAgICAgLy8gYXMgdGhpcyBtZXRob2QgaXMgdXNlZCBmb3IgcHJlcGFyaW5nIGFzc2V0cywgZG9uJ3QgcmVjYWxjdWxhdGUgdGhpbmdzIGlmIHdlIGRvbid0IG5lZWQgdG9cbiAgICAgICAgaWYgKFRleHRNZXRyaWNzLl9mb250c1tmb250XSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFRleHRNZXRyaWNzLl9mb250c1tmb250XTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSB7fTtcblxuICAgICAgICBjb25zdCBjYW52YXMgPSBUZXh0TWV0cmljcy5fY2FudmFzO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gVGV4dE1ldHJpY3MuX2NvbnRleHQ7XG5cbiAgICAgICAgY29udGV4dC5mb250ID0gZm9udDtcblxuICAgICAgICBjb25zdCBtZXRyaWNzU3RyaW5nID0gVGV4dE1ldHJpY3MuTUVUUklDU19TVFJJTkcgKyBUZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0w7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gTWF0aC5jZWlsKGNvbnRleHQubWVhc3VyZVRleHQobWV0cmljc1N0cmluZykud2lkdGgpO1xuICAgICAgICBsZXQgYmFzZWxpbmUgPSBNYXRoLmNlaWwoY29udGV4dC5tZWFzdXJlVGV4dChUZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0wpLndpZHRoKTtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gMiAqIGJhc2VsaW5lO1xuXG4gICAgICAgIGJhc2VsaW5lID0gYmFzZWxpbmUgKiBUZXh0TWV0cmljcy5CQVNFTElORV9NVUxUSVBMSUVSIHwgMDtcblxuICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjZjAwJztcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuXG4gICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gJ2FscGhhYmV0aWMnO1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICcjMDAwJztcbiAgICAgICAgY29udGV4dC5maWxsVGV4dChtZXRyaWNzU3RyaW5nLCAwLCBiYXNlbGluZSk7XG5cbiAgICAgICAgY29uc3QgaW1hZ2VkYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCkuZGF0YTtcbiAgICAgICAgY29uc3QgcGl4ZWxzID0gaW1hZ2VkYXRhLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbGluZSA9IHdpZHRoICogNDtcblxuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGxldCBpZHggPSAwO1xuICAgICAgICBsZXQgc3RvcCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGFzY2VudC4gc2NhbiBmcm9tIHRvcCB0byBib3R0b20gdW50aWwgd2UgZmluZCBhIG5vbiByZWQgcGl4ZWxcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJhc2VsaW5lOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGluZTsgaiArPSA0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChpbWFnZWRhdGFbaWR4ICsgal0gIT09IDI1NSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXN0b3ApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWR4ICs9IGxpbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBwcm9wZXJ0aWVzLmFzY2VudCA9IGJhc2VsaW5lIC0gaTtcblxuICAgICAgICBpZHggPSBwaXhlbHMgLSBsaW5lO1xuICAgICAgICBzdG9wID0gZmFsc2U7XG5cbiAgICAgICAgLy8gZGVzY2VudC4gc2NhbiBmcm9tIGJvdHRvbSB0byB0b3AgdW50aWwgd2UgZmluZCBhIG5vbiByZWQgcGl4ZWxcbiAgICAgICAgZm9yIChpID0gaGVpZ2h0OyBpID4gYmFzZWxpbmU7IC0taSlcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsaW5lOyBqICs9IDQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGltYWdlZGF0YVtpZHggKyBqXSAhPT0gMjU1KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFzdG9wKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkeCAtPSBsaW5lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvcGVydGllcy5kZXNjZW50ID0gaSAtIGJhc2VsaW5lO1xuICAgICAgICBwcm9wZXJ0aWVzLmZvbnRTaXplID0gcHJvcGVydGllcy5hc2NlbnQgKyBwcm9wZXJ0aWVzLmRlc2NlbnQ7XG5cbiAgICAgICAgVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdID0gcHJvcGVydGllcztcblxuICAgICAgICByZXR1cm4gcHJvcGVydGllcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciBmb250IG1ldHJpY3MgaW4gbWV0cmljcyBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZvbnRdIC0gZm9udCBuYW1lLiBJZiBmb250IG5hbWUgbm90IHNldCB0aGVuIGNsZWFyIGNhY2hlIGZvciBhbGwgZm9udHMuXG4gICAgICovXG4gICAgc3RhdGljIGNsZWFyTWV0cmljcyhmb250ID0gJycpXG4gICAge1xuICAgICAgICBpZiAoZm9udClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVsZXRlIFRleHRNZXRyaWNzLl9mb250c1tmb250XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIFRleHRNZXRyaWNzLl9mb250cyA9IHt9O1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEludGVybmFsIHJldHVybiBvYmplY3QgZm9yIHtAbGluayBQSVhJLlRleHRNZXRyaWNzLm1lYXN1cmVGb250IGBUZXh0TWV0cmljcy5tZWFzdXJlRm9udGB9LlxuICpcbiAqIEB0eXBlZGVmIHtvYmplY3R9IEZvbnRNZXRyaWNzXG4gKiBAcHJvcGVydHkge251bWJlcn0gYXNjZW50IC0gVGhlIGFzY2VudCBkaXN0YW5jZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRlc2NlbnQgLSBUaGUgZGVzY2VudCBkaXN0YW5jZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGZvbnRTaXplIC0gRm9udCBzaXplIGZyb20gYXNjZW50IHRvIGRlc2NlbnRcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAcHJpdmF0ZVxuICovXG5cbmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG5jYW52YXMud2lkdGggPSBjYW52YXMuaGVpZ2h0ID0gMTA7XG5cbi8qKlxuICogQ2FjaGVkIGNhbnZhcyBlbGVtZW50IGZvciBtZWFzdXJpbmcgdGV4dFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fY2FudmFzID0gY2FudmFzO1xuXG4vKipcbiAqIENhY2hlIGZvciBjb250ZXh0IHRvIHVzZS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9jb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbi8qKlxuICogQ2FjaGUgb2Yge0BzZWUgUElYSS5UZXh0TWV0cmljcy5Gb250TWV0cmljc30gb2JqZWN0cy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9mb250cyA9IHt9O1xuXG4vKipcbiAqIFN0cmluZyB1c2VkIGZvciBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLlxuICogVGhlc2UgY2hhcmFjdGVycyBhcmUgYWxsIHRhbGwgdG8gaGVscCBjYWxjdWxhdGUgdGhlIGhlaWdodCByZXF1aXJlZCBmb3IgdGV4dC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQG5hbWUgTUVUUklDU19TVFJJTkdcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAZGVmYXVsdCB8w4lxw4VcbiAqL1xuVGV4dE1ldHJpY3MuTUVUUklDU19TVFJJTkcgPSAnfMOJccOFJztcblxuLyoqXG4gKiBCYXNlbGluZSBzeW1ib2wgZm9yIGNhbGN1bGF0ZSBmb250IG1ldHJpY3MuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBuYW1lIEJBU0VMSU5FX1NZTUJPTFxuICogQHR5cGUge3N0cmluZ31cbiAqIEBkZWZhdWx0IE1cbiAqL1xuVGV4dE1ldHJpY3MuQkFTRUxJTkVfU1lNQk9MID0gJ00nO1xuXG4vKipcbiAqIEJhc2VsaW5lIG11bHRpcGxpZXIgZm9yIGNhbGN1bGF0ZSBmb250IG1ldHJpY3MuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBuYW1lIEJBU0VMSU5FX01VTFRJUExJRVJcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCAxLjRcbiAqL1xuVGV4dE1ldHJpY3MuQkFTRUxJTkVfTVVMVElQTElFUiA9IDEuNDtcblxuLyoqXG4gKiBDYWNoZSBvZiBuZXcgbGluZSBjaGFycy5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge251bWJlcltdfVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX25ld2xpbmVzID0gW1xuICAgIDB4MDAwQSwgLy8gbGluZSBmZWVkXG4gICAgMHgwMDBELCAvLyBjYXJyaWFnZSByZXR1cm5cbl07XG5cbi8qKlxuICogQ2FjaGUgb2YgYnJlYWtpbmcgc3BhY2VzLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7bnVtYmVyW119XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fYnJlYWtpbmdTcGFjZXMgPSBbXG4gICAgMHgwMDA5LCAvLyBjaGFyYWN0ZXIgdGFidWxhdGlvblxuICAgIDB4MDAyMCwgLy8gc3BhY2VcbiAgICAweDIwMDAsIC8vIGVuIHF1YWRcbiAgICAweDIwMDEsIC8vIGVtIHF1YWRcbiAgICAweDIwMDIsIC8vIGVuIHNwYWNlXG4gICAgMHgyMDAzLCAvLyBlbSBzcGFjZVxuICAgIDB4MjAwNCwgLy8gdGhyZWUtcGVyLWVtIHNwYWNlXG4gICAgMHgyMDA1LCAvLyBmb3VyLXBlci1lbSBzcGFjZVxuICAgIDB4MjAwNiwgLy8gc2l4LXBlci1lbSBzcGFjZVxuICAgIDB4MjAwOCwgLy8gcHVuY3R1YXRpb24gc3BhY2VcbiAgICAweDIwMDksIC8vIHRoaW4gc3BhY2VcbiAgICAweDIwMEEsIC8vIGhhaXIgc3BhY2VcbiAgICAweDIwNUYsIC8vIG1lZGl1bSBtYXRoZW1hdGljYWwgc3BhY2VcbiAgICAweDMwMDAsIC8vIGlkZW9ncmFwaGljIHNwYWNlXG5dO1xuXG4vKipcbiAqIEEgbnVtYmVyLCBvciBhIHN0cmluZyBjb250YWluaW5nIGEgbnVtYmVyLlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiBJRm9udE1ldHJpY3NcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhc2NlbnQgLSBGb250IGFzY2VudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRlc2NlbnQgLSBGb250IGRlc2NlbnRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmb250U2l6ZSAtIEZvbnQgc2l6ZVxuICovXG5cbiIsIi8qIGVzbGludCBtYXgtZGVwdGg6IFsyLCA4XSAqL1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBzaWduLCB0cmltQ2FudmFzLCBoZXgycmdiLCBzdHJpbmcyaGV4IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgVEVYVF9HUkFESUVOVCB9IGZyb20gJy4vY29uc3QnO1xuaW1wb3J0IFRleHRTdHlsZSBmcm9tICcuL1RleHRTdHlsZSc7XG5pbXBvcnQgVGV4dE1ldHJpY3MgZnJvbSAnLi9UZXh0TWV0cmljcyc7XG5cbmNvbnN0IGRlZmF1bHREZXN0cm95T3B0aW9ucyA9IHtcbiAgICB0ZXh0dXJlOiB0cnVlLFxuICAgIGNoaWxkcmVuOiBmYWxzZSxcbiAgICBiYXNlVGV4dHVyZTogdHJ1ZSxcbn07XG5cbi8qKlxuICogQSBUZXh0IE9iamVjdCB3aWxsIGNyZWF0ZSBhIGxpbmUgb3IgbXVsdGlwbGUgbGluZXMgb2YgdGV4dC5cbiAqXG4gKiBUaGUgdGV4dCBpcyBjcmVhdGVkIHVzaW5nIHRoZSBbQ2FudmFzIEFQSV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc19BUEkpLlxuICpcbiAqIFRoZSBwcmltYXJ5IGFkdmFudGFnZSBvZiB0aGlzIGNsYXNzIG92ZXIgQml0bWFwVGV4dCBpcyB0aGF0IHlvdSBoYXZlIGdyZWF0IGNvbnRyb2wgb3ZlciB0aGUgc3R5bGUgb2YgdGhlIG5leHQsXG4gKiB3aGljaCB5b3UgY2FuIGNoYW5nZSBhdCBydW50aW1lLlxuICpcbiAqIFRoZSBwcmltYXJ5IGRpc2FkdmFudGFnZXMgaXMgdGhhdCBlYWNoIHBpZWNlIG9mIHRleHQgaGFzIGl0J3Mgb3duIHRleHR1cmUsIHdoaWNoIGNhbiB1c2UgbW9yZSBtZW1vcnkuXG4gKiBXaGVuIHRleHQgY2hhbmdlcywgdGhpcyB0ZXh0dXJlIGhhcyB0byBiZSByZS1nZW5lcmF0ZWQgYW5kIHJlLXVwbG9hZGVkIHRvIHRoZSBHUFUsIHRha2luZyB1cCB0aW1lLlxuICpcbiAqIFRvIHNwbGl0IGEgbGluZSB5b3UgY2FuIHVzZSAnXFxuJyBpbiB5b3VyIHRleHQgc3RyaW5nLCBvciwgb24gdGhlIGBzdHlsZWAgb2JqZWN0LFxuICogY2hhbmdlIGl0cyBgd29yZFdyYXBgIHByb3BlcnR5IHRvIHRydWUgYW5kIGFuZCBnaXZlIHRoZSBgd29yZFdyYXBXaWR0aGAgcHJvcGVydHkgYSB2YWx1ZS5cbiAqXG4gKiBBIFRleHQgY2FuIGJlIGNyZWF0ZWQgZGlyZWN0bHkgZnJvbSBhIHN0cmluZyBhbmQgYSBzdHlsZSBvYmplY3QsXG4gKiB3aGljaCBjYW4gYmUgZ2VuZXJhdGVkIFtoZXJlXShodHRwczovL3BpeGlqcy5pby9waXhpLXRleHQtc3R5bGUpLlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgdGV4dCA9IG5ldyBQSVhJLlRleHQoJ1RoaXMgaXMgYSBQaXhpSlMgdGV4dCcse2ZvbnRGYW1pbHkgOiAnQXJpYWwnLCBmb250U2l6ZTogMjQsIGZpbGwgOiAweGZmMTAxMCwgYWxpZ24gOiAnY2VudGVyJ30pO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNwcml0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dCBleHRlbmRzIFNwcml0ZVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIHN0cmluZyB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSB0ZXh0IHRvIGRpc3BsYXlcbiAgICAgKiBAcGFyYW0ge29iamVjdHxQSVhJLlRleHRTdHlsZX0gW3N0eWxlXSAtIFRoZSBzdHlsZSBwYXJhbWV0ZXJzXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBUaGUgY2FudmFzIGVsZW1lbnQgZm9yIGRyYXdpbmcgdGV4dFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRleHQsIHN0eWxlLCBjYW52YXMpXG4gICAge1xuICAgICAgICBjYW52YXMgPSBjYW52YXMgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAgICAgY2FudmFzLndpZHRoID0gMztcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IDM7XG5cbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IFRleHR1cmUuZnJvbShjYW52YXMpO1xuXG4gICAgICAgIHRleHR1cmUub3JpZyA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgdGV4dHVyZS50cmltID0gbmV3IFJlY3RhbmdsZSgpO1xuXG4gICAgICAgIHN1cGVyKHRleHR1cmUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIGVsZW1lbnQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHRvXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgMmQgY29udGV4dCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gd2l0aFxuICAgICAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgY2FudmFzLlxuICAgICAgICAgKiBUaGlzIGlzIHNldCB0byBhdXRvbWF0aWNhbGx5IG1hdGNoIHRoZSByZW5kZXJlciByZXNvbHV0aW9uIGJ5IGRlZmF1bHQsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlbiBieSBzZXR0aW5nIG1hbnVhbGx5LlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Jlc29sdXRpb24gPSBzZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICB0aGlzLl9hdXRvUmVzb2x1dGlvbiA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3N0eWxlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgbGlzdGVuZXIgdG8gdHJhY2sgc3R5bGUgY2hhbmdlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zdHlsZUxpc3RlbmVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBmb250LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mb250ID0gJyc7XG5cbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuXG4gICAgICAgIHRoaXMubG9jYWxTdHlsZUlEID0gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0ZXh0IGFuZCB1cGRhdGVzIGl0IHdoZW4gbmVlZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlc3BlY3REaXJ0eSAtIFdoZXRoZXIgdG8gYWJvcnQgdXBkYXRpbmcgdGhlIHRleHQgaWYgdGhlIFRleHQgaXNuJ3QgZGlydHkgYW5kIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQuXG4gICAgICovXG4gICAgdXBkYXRlVGV4dChyZXNwZWN0RGlydHkpXG4gICAge1xuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuX3N0eWxlO1xuXG4gICAgICAgIC8vIGNoZWNrIGlmIHN0eWxlIGhhcyBjaGFuZ2VkLi5cbiAgICAgICAgaWYgKHRoaXMubG9jYWxTdHlsZUlEICE9PSBzdHlsZS5zdHlsZUlEKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubG9jYWxTdHlsZUlEID0gc3R5bGUuc3R5bGVJRDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5kaXJ0eSAmJiByZXNwZWN0RGlydHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ZvbnQgPSB0aGlzLl9zdHlsZS50b0ZvbnRTdHJpbmcoKTtcblxuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICBjb25zdCBtZWFzdXJlZCA9IFRleHRNZXRyaWNzLm1lYXN1cmVUZXh0KHRoaXMuX3RleHQgfHwgJyAnLCB0aGlzLl9zdHlsZSwgdGhpcy5fc3R5bGUud29yZFdyYXAsIHRoaXMuY2FudmFzKTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBtZWFzdXJlZC53aWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gbWVhc3VyZWQuaGVpZ2h0O1xuICAgICAgICBjb25zdCBsaW5lcyA9IG1lYXN1cmVkLmxpbmVzO1xuICAgICAgICBjb25zdCBsaW5lSGVpZ2h0ID0gbWVhc3VyZWQubGluZUhlaWdodDtcbiAgICAgICAgY29uc3QgbGluZVdpZHRocyA9IG1lYXN1cmVkLmxpbmVXaWR0aHM7XG4gICAgICAgIGNvbnN0IG1heExpbmVXaWR0aCA9IG1lYXN1cmVkLm1heExpbmVXaWR0aDtcbiAgICAgICAgY29uc3QgZm9udFByb3BlcnRpZXMgPSBtZWFzdXJlZC5mb250UHJvcGVydGllcztcblxuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IE1hdGguY2VpbCgoTWF0aC5tYXgoMSwgd2lkdGgpICsgKHN0eWxlLnBhZGRpbmcgKiAyKSkgKiB0aGlzLl9yZXNvbHV0aW9uKTtcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKChNYXRoLm1heCgxLCBoZWlnaHQpICsgKHN0eWxlLnBhZGRpbmcgKiAyKSkgKiB0aGlzLl9yZXNvbHV0aW9uKTtcblxuICAgICAgICBjb250ZXh0LnNjYWxlKHRoaXMuX3Jlc29sdXRpb24sIHRoaXMuX3Jlc29sdXRpb24pO1xuXG4gICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuXG4gICAgICAgIGNvbnRleHQuZm9udCA9IHRoaXMuX2ZvbnQ7XG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBzdHlsZS5zdHJva2U7XG4gICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICBjb250ZXh0LnRleHRCYXNlbGluZSA9IHN0eWxlLnRleHRCYXNlbGluZTtcbiAgICAgICAgY29udGV4dC5saW5lSm9pbiA9IHN0eWxlLmxpbmVKb2luO1xuICAgICAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSBzdHlsZS5taXRlckxpbWl0O1xuXG4gICAgICAgIGxldCBsaW5lUG9zaXRpb25YO1xuICAgICAgICBsZXQgbGluZVBvc2l0aW9uWTtcblxuICAgICAgICBpZiAoc3R5bGUuZHJvcFNoYWRvdylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZHJvcFNoYWRvd0NvbG9yID0gc3R5bGUuZHJvcFNoYWRvd0NvbG9yO1xuICAgICAgICAgICAgY29uc3QgcmdiID0gaGV4MnJnYih0eXBlb2YgZHJvcFNoYWRvd0NvbG9yID09PSAnbnVtYmVyJyA/IGRyb3BTaGFkb3dDb2xvciA6IHN0cmluZzJoZXgoZHJvcFNoYWRvd0NvbG9yKSk7XG5cbiAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBgcmdiYSgke3JnYlswXSAqIDI1NX0sJHtyZ2JbMV0gKiAyNTV9LCR7cmdiWzJdICogMjU1fSwke3N0eWxlLmRyb3BTaGFkb3dBbHBoYX0pYDtcbiAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IHN0eWxlLmRyb3BTaGFkb3dCbHVyO1xuICAgICAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gTWF0aC5jb3Moc3R5bGUuZHJvcFNoYWRvd0FuZ2xlKSAqIHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICAgICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IE1hdGguc2luKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gMDtcbiAgICAgICAgICAgIGNvbnRleHQuc2hhZG93Qmx1ciA9IDA7XG4gICAgICAgICAgICBjb250ZXh0LnNoYWRvd09mZnNldFggPSAwO1xuICAgICAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCBjYW52YXMgdGV4dCBzdHlsZXNcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLl9nZW5lcmF0ZUZpbGxTdHlsZShzdHlsZSwgbGluZXMpO1xuXG4gICAgICAgIC8vIGRyYXcgbGluZXMgbGluZSBieSBsaW5lXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxpbmVQb3NpdGlvblggPSBzdHlsZS5zdHJva2VUaGlja25lc3MgLyAyO1xuICAgICAgICAgICAgbGluZVBvc2l0aW9uWSA9ICgoc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIC8gMikgKyAoaSAqIGxpbmVIZWlnaHQpKSArIGZvbnRQcm9wZXJ0aWVzLmFzY2VudDtcblxuICAgICAgICAgICAgaWYgKHN0eWxlLmFsaWduID09PSAncmlnaHQnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gbWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN0eWxlLmFsaWduID09PSAnY2VudGVyJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICs9IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2ldKSAvIDI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdHlsZS5zdHJva2UgJiYgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xldHRlclNwYWNpbmcoXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzW2ldLFxuICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICsgc3R5bGUucGFkZGluZyxcbiAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWSArIHN0eWxlLnBhZGRpbmcsXG4gICAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3R5bGUuZmlsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdMZXR0ZXJTcGFjaW5nKFxuICAgICAgICAgICAgICAgICAgICBsaW5lc1tpXSxcbiAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCArIHN0eWxlLnBhZGRpbmcsXG4gICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgKyBzdHlsZS5wYWRkaW5nXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciB0aGUgdGV4dCB3aXRoIGxldHRlci1zcGFjaW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gVGhlIHRleHQgdG8gZHJhd1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gSG9yaXpvbnRhbCBwb3NpdGlvbiB0byBkcmF3IHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBWZXJ0aWNhbCBwb3NpdGlvbiB0byBkcmF3IHRoZSB0ZXh0XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdHJva2U9ZmFsc2VdIC0gSXMgdGhpcyBkcmF3aW5nIGZvciB0aGUgb3V0c2lkZSBzdHJva2Ugb2YgdGhlXG4gICAgICogIHRleHQ/IElmIG5vdCwgaXQncyBmb3IgdGhlIGluc2lkZSBmaWxsXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBkcmF3TGV0dGVyU3BhY2luZyh0ZXh0LCB4LCB5LCBpc1N0cm9rZSA9IGZhbHNlKVxuICAgIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLl9zdHlsZTtcblxuICAgICAgICAvLyBsZXR0ZXJTcGFjaW5nIG9mIDAgbWVhbnMgbm9ybWFsXG4gICAgICAgIGNvbnN0IGxldHRlclNwYWNpbmcgPSBzdHlsZS5sZXR0ZXJTcGFjaW5nO1xuXG4gICAgICAgIGlmIChsZXR0ZXJTcGFjaW5nID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoaXNTdHJva2UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZVRleHQodGV4dCwgeCwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxUZXh0KHRleHQsIHgsIHkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3VycmVudFBvc2l0aW9uID0geDtcblxuICAgICAgICAvLyBVc2luZyBBcnJheS5mcm9tIGNvcnJlY3RseSBzcGxpdHMgY2hhcmFjdGVycyB3aGlsc3Qga2VlcGluZyBlbW9qaSB0b2dldGhlci5cbiAgICAgICAgLy8gVGhpcyBpcyBub3Qgc3VwcG9ydGVkIG9uIElFIGFzIGl0IHJlcXVpcmVzIEVTNiwgc28gcmVndWxhciB0ZXh0IHNwbGl0dGluZyBvY2N1cnMuXG4gICAgICAgIC8vIFRoaXMgYWxzbyBkb2Vzbid0IGFjY291bnQgZm9yIGVtb2ppIHRoYXQgYXJlIG11bHRpcGxlIGVtb2ppIHB1dCB0b2dldGhlciB0byBtYWtlIHNvbWV0aGluZyBlbHNlLlxuICAgICAgICAvLyBIYW5kbGluZyBhbGwgb2YgdGhpcyB3b3VsZCByZXF1aXJlIGEgYmlnIGxpYnJhcnkgaXRzZWxmLlxuICAgICAgICAvLyBodHRwczovL21lZGl1bS5jb20vQGdpbHRheWFyL2l0ZXJhdGluZy1vdmVyLWVtb2ppLWNoYXJhY3RlcnMtdGhlLWVzNi13YXktZjA2ZTQ1ODk1MTZcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL29ybGluZy9ncmFwaGVtZS1zcGxpdHRlclxuICAgICAgICBjb25zdCBzdHJpbmdBcnJheSA9IEFycmF5LmZyb20gPyBBcnJheS5mcm9tKHRleHQpIDogdGV4dC5zcGxpdCgnJyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJpbmdBcnJheS5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudENoYXIgPSBzdHJpbmdBcnJheVtpXTtcblxuICAgICAgICAgICAgaWYgKGlzU3Ryb2tlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VUZXh0KGN1cnJlbnRDaGFyLCBjdXJyZW50UG9zaXRpb24sIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dChjdXJyZW50Q2hhciwgY3VycmVudFBvc2l0aW9uLCB5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRQb3NpdGlvbiArPSB0aGlzLmNvbnRleHQubWVhc3VyZVRleHQoY3VycmVudENoYXIpLndpZHRoICsgbGV0dGVyU3BhY2luZztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGV4dHVyZSBzaXplIGJhc2VkIG9uIGNhbnZhcyBzaXplXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHVwZGF0ZVRleHR1cmUoKVxuICAgIHtcbiAgICAgICAgY29uc3QgY2FudmFzID0gdGhpcy5jYW52YXM7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0eWxlLnRyaW0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHRyaW1tZWQgPSB0cmltQ2FudmFzKGNhbnZhcyk7XG5cbiAgICAgICAgICAgIGlmICh0cmltbWVkLmRhdGEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gdHJpbW1lZC53aWR0aDtcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gdHJpbW1lZC5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LnB1dEltYWdlRGF0YSh0cmltbWVkLmRhdGEsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5fc3R5bGU7XG4gICAgICAgIGNvbnN0IHBhZGRpbmcgPSBzdHlsZS50cmltID8gMCA6IHN0eWxlLnBhZGRpbmc7XG4gICAgICAgIGNvbnN0IGJhc2VUZXh0dXJlID0gdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICB0ZXh0dXJlLnRyaW0ud2lkdGggPSB0ZXh0dXJlLl9mcmFtZS53aWR0aCA9IGNhbnZhcy53aWR0aCAvIHRoaXMuX3Jlc29sdXRpb247XG4gICAgICAgIHRleHR1cmUudHJpbS5oZWlnaHQgPSB0ZXh0dXJlLl9mcmFtZS5oZWlnaHQgPSBjYW52YXMuaGVpZ2h0IC8gdGhpcy5fcmVzb2x1dGlvbjtcbiAgICAgICAgdGV4dHVyZS50cmltLnggPSAtcGFkZGluZztcbiAgICAgICAgdGV4dHVyZS50cmltLnkgPSAtcGFkZGluZztcblxuICAgICAgICB0ZXh0dXJlLm9yaWcud2lkdGggPSB0ZXh0dXJlLl9mcmFtZS53aWR0aCAtIChwYWRkaW5nICogMik7XG4gICAgICAgIHRleHR1cmUub3JpZy5oZWlnaHQgPSB0ZXh0dXJlLl9mcmFtZS5oZWlnaHQgLSAocGFkZGluZyAqIDIpO1xuXG4gICAgICAgIC8vIGNhbGwgc3ByaXRlIG9uVGV4dHVyZVVwZGF0ZSB0byB1cGRhdGUgc2NhbGUgaWYgX3dpZHRoIG9yIF9oZWlnaHQgd2VyZSBzZXRcbiAgICAgICAgdGhpcy5fb25UZXh0dXJlVXBkYXRlKCk7XG5cbiAgICAgICAgYmFzZVRleHR1cmUuc2V0UmVhbFNpemUoY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0LCB0aGlzLl9yZXNvbHV0aW9uKTtcblxuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIHJlbmRlcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvUmVzb2x1dGlvbiAmJiB0aGlzLl9yZXNvbHV0aW9uICE9PSByZW5kZXJlci5yZXNvbHV0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHV0aW9uID0gcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIHN1cGVyLnJlbmRlcihyZW5kZXJlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIF9yZW5kZXJDYW52YXMocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fYXV0b1Jlc29sdXRpb24gJiYgdGhpcy5fcmVzb2x1dGlvbiAhPT0gcmVuZGVyZXIucmVzb2x1dGlvbilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICBzdXBlci5fcmVuZGVyQ2FudmFzKHJlbmRlcmVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIHRleHQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdCAtIFRoZSBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgYm91bmRzLlxuICAgICAqL1xuICAgIGdldExvY2FsQm91bmRzKHJlY3QpXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBUZXh0IGFzIGEgcmVjdGFuZ2xlLiBUaGUgYm91bmRzIGNhbGN1bGF0aW9uIHRha2VzIHRoZSB3b3JsZFRyYW5zZm9ybSBpbnRvIGFjY291bnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9jYWxjdWxhdGVCb3VuZHMoKVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZVZlcnRpY2VzKCk7XG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYWxyZWFkeSBkb25lIHRoaXMgb24gVEhJUyBmcmFtZS5cbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZFF1YWQodGhpcy52ZXJ0ZXhEYXRhKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gYmUgY2FsbGVkIHVwb24gYSBUZXh0U3R5bGUgY2hhbmdlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uU3R5bGVDaGFuZ2UoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHRoZSBmaWxsIHN0eWxlLiBDYW4gYXV0b21hdGljYWxseSBnZW5lcmF0ZSBhIGdyYWRpZW50IGJhc2VkIG9uIHRoZSBmaWxsIHN0eWxlIGJlaW5nIGFuIGFycmF5XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdHlsZSAtIFRoZSBzdHlsZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBsaW5lcyAtIFRoZSBsaW5lcyBvZiB0ZXh0LlxuICAgICAqIEByZXR1cm4ge3N0cmluZ3xudW1iZXJ8Q2FudmFzR3JhZGllbnR9IFRoZSBmaWxsIHN0eWxlXG4gICAgICovXG4gICAgX2dlbmVyYXRlRmlsbFN0eWxlKHN0eWxlLCBsaW5lcylcbiAgICB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzdHlsZS5maWxsKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHN0eWxlLmZpbGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGUgZ3JhZGllbnQgd2lsbCBiZSBldmVubHkgc3BhY2VkIG91dCBhY2NvcmRpbmcgdG8gaG93IGxhcmdlIHRoZSBhcnJheSBpcy5cbiAgICAgICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIHdvdWxkIGNyZWF0ZWQgc3RvcHMgYXQgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgICAgIGxldCBncmFkaWVudDtcbiAgICAgICAgbGV0IHRvdGFsSXRlcmF0aW9ucztcbiAgICAgICAgbGV0IGN1cnJlbnRJdGVyYXRpb247XG4gICAgICAgIGxldCBzdG9wO1xuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5jYW52YXMud2lkdGggLyB0aGlzLl9yZXNvbHV0aW9uO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmNhbnZhcy5oZWlnaHQgLyB0aGlzLl9yZXNvbHV0aW9uO1xuXG4gICAgICAgIC8vIG1ha2UgYSBjb3B5IG9mIHRoZSBzdHlsZSBzZXR0aW5ncywgc28gd2UgY2FuIG1hbmlwdWxhdGUgdGhlbSBsYXRlclxuICAgICAgICBjb25zdCBmaWxsID0gc3R5bGUuZmlsbC5zbGljZSgpO1xuICAgICAgICBjb25zdCBmaWxsR3JhZGllbnRTdG9wcyA9IHN0eWxlLmZpbGxHcmFkaWVudFN0b3BzLnNsaWNlKCk7XG5cbiAgICAgICAgLy8gd2FudGluZyB0byBldmVubHkgZGlzdHJpYnV0ZSB0aGUgZmlsbHMuIFNvIGFuIGFycmF5IG9mIDQgY29sb3VycyBzaG91bGQgZ2l2ZSBmaWxscyBvZiAwLjI1LCAwLjUgYW5kIDAuNzVcbiAgICAgICAgaWYgKCFmaWxsR3JhZGllbnRTdG9wcy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aFBsdXMxID0gZmlsbC5sZW5ndGggKyAxO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbmd0aFBsdXMxOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmlsbEdyYWRpZW50U3RvcHMucHVzaChpIC8gbGVuZ3RoUGx1czEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3RvcCB0aGUgYmxlZWRpbmcgb2YgdGhlIGxhc3QgZ3JhZGllbnQgb24gdGhlIGxpbmUgYWJvdmUgdG8gdGhlIHRvcCBncmFkaWVudCBvZiB0aGUgdGhpcyBsaW5lXG4gICAgICAgIC8vIGJ5IGhhcmQgZGVmaW5pbmcgdGhlIGZpcnN0IGdyYWRpZW50IGNvbG91ciBhdCBwb2ludCAwLCBhbmQgbGFzdCBncmFkaWVudCBjb2xvdXIgYXQgcG9pbnQgMVxuICAgICAgICBmaWxsLnVuc2hpZnQoc3R5bGUuZmlsbFswXSk7XG4gICAgICAgIGZpbGxHcmFkaWVudFN0b3BzLnVuc2hpZnQoMCk7XG5cbiAgICAgICAgZmlsbC5wdXNoKHN0eWxlLmZpbGxbc3R5bGUuZmlsbC5sZW5ndGggLSAxXSk7XG4gICAgICAgIGZpbGxHcmFkaWVudFN0b3BzLnB1c2goMSk7XG5cbiAgICAgICAgaWYgKHN0eWxlLmZpbGxHcmFkaWVudFR5cGUgPT09IFRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBzdGFydCB0aGUgZ3JhZGllbnQgYXQgdGhlIHRvcCBjZW50ZXIgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgYm90dG9tIG1pZGRsZSBvZiB0aGUgY2FudmFzXG4gICAgICAgICAgICBncmFkaWVudCA9IHRoaXMuY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudCh3aWR0aCAvIDIsIDAsIHdpZHRoIC8gMiwgaGVpZ2h0KTtcblxuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byByZXBlYXQgdGhlIGdyYWRpZW50IHNvIHRoYXQgZWFjaCBpbmRpdmlkdWFsIGxpbmUgb2YgdGV4dCBoYXMgdGhlIHNhbWUgdmVydGljYWwgZ3JhZGllbnQgZWZmZWN0XG4gICAgICAgICAgICAvLyBbJyNGRjAwMDAnLCAnIzAwRkYwMCcsICcjMDAwMEZGJ10gb3ZlciAyIGxpbmVzIHdvdWxkIGNyZWF0ZSBzdG9wcyBhdCAwLjEyNSwgMC4yNSwgMC4zNzUsIDAuNjI1LCAwLjc1LCAwLjg3NVxuICAgICAgICAgICAgdG90YWxJdGVyYXRpb25zID0gKGZpbGwubGVuZ3RoICsgMSkgKiBsaW5lcy5sZW5ndGg7XG4gICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uID0gMDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbiArPSAxO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZmlsbC5sZW5ndGg7IGorKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbal0gPT09ICdudW1iZXInKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9wID0gKGZpbGxHcmFkaWVudFN0b3BzW2pdIC8gbGluZXMubGVuZ3RoKSArIChpIC8gbGluZXMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3AgPSBjdXJyZW50SXRlcmF0aW9uIC8gdG90YWxJdGVyYXRpb25zO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLCBmaWxsW2pdKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgY2VudGVyIGxlZnQgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgY2VudGVyIHJpZ2h0IG9mIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGdyYWRpZW50ID0gdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIGhlaWdodCAvIDIsIHdpZHRoLCBoZWlnaHQgLyAyKTtcblxuICAgICAgICAgICAgLy8gY2FuIGp1c3QgZXZlbmx5IHNwYWNlIG91dCB0aGUgZ3JhZGllbnRzIGluIHRoaXMgY2FzZSwgYXMgbXVsdGlwbGUgbGluZXMgbWFrZXMgbm8gZGlmZmVyZW5jZVxuICAgICAgICAgICAgLy8gdG8gYW4gZXZlbiBsZWZ0IHRvIHJpZ2h0IGdyYWRpZW50XG4gICAgICAgICAgICB0b3RhbEl0ZXJhdGlvbnMgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uID0gMTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWxsLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbaV0gPT09ICdudW1iZXInKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKHN0b3AsIGZpbGxbaV0pO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBncmFkaWVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHQgb2JqZWN0LlxuICAgICAqIE5vdGUqIFVubGlrZSBhIFNwcml0ZSwgYSBUZXh0IG9iamVjdCB3aWxsIGF1dG9tYXRpY2FsbHkgZGVzdHJveSBpdHMgYmFzZVRleHR1cmUgYW5kIHRleHR1cmUgYXNcbiAgICAgKiB0aGUgbWFqb3JpdHkgb2YgdGhlIHRpbWUgdGhlIHRleHR1cmUgd2lsbCBub3QgYmUgc2hhcmVkIHdpdGggYW55IG90aGVyIFNwcml0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyXG4gICAgICogIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPXRydWVdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPXRydWVdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKi9cbiAgICBkZXN0cm95KG9wdGlvbnMpXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJylcbiAgICAgICAge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgY2hpbGRyZW46IG9wdGlvbnMgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0RGVzdHJveU9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHN1cGVyLmRlc3Ryb3kob3B0aW9ucyk7XG5cbiAgICAgICAgLy8gbWFrZSBzdXJlIHRvIHJlc2V0IHRoZSB0aGUgY29udGV4dCBhbmQgY2FudmFzLi4gZG9udCB3YW50IHRoaXMgaGFuZ2luZyBhcm91bmQgaW4gbWVtb3J5IVxuICAgICAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fc3R5bGUgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgVGV4dCwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgd2lkdGgoKVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLngpICogdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgIH1cblxuICAgIHNldCB3aWR0aCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgY29uc3QgcyA9IHNpZ24odGhpcy5zY2FsZS54KSB8fCAxO1xuXG4gICAgICAgIHRoaXMuc2NhbGUueCA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBUZXh0LCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBoZWlnaHQoKVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLnkpICogdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICB9XG5cbiAgICBzZXQgaGVpZ2h0KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICBjb25zdCBzID0gc2lnbih0aGlzLnNjYWxlLnkpIHx8IDE7XG5cbiAgICAgICAgdGhpcy5zY2FsZS55ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzdHlsZSBvZiB0aGUgdGV4dC4gU2V0IHVwIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGxpc3RlbiBmb3IgY2hhbmdlcyBvbiB0aGUgc3R5bGVcbiAgICAgKiBvYmplY3QgYW5kIG1hcmsgdGhlIHRleHQgYXMgZGlydHkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtvYmplY3R8UElYSS5UZXh0U3R5bGV9XG4gICAgICovXG4gICAgZ2V0IHN0eWxlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdHlsZTtcbiAgICB9XG5cbiAgICBzZXQgc3R5bGUoc3R5bGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgc3R5bGUgPSBzdHlsZSB8fCB7fTtcblxuICAgICAgICBpZiAoc3R5bGUgaW5zdGFuY2VvZiBUZXh0U3R5bGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3N0eWxlID0gc3R5bGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9zdHlsZSA9IG5ldyBUZXh0U3R5bGUoc3R5bGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sb2NhbFN0eWxlSUQgPSAtMTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjb3B5IGZvciB0aGUgdGV4dCBvYmplY3QuIFRvIHNwbGl0IGEgbGluZSB5b3UgY2FuIHVzZSAnXFxuJy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXQgdGV4dCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgICB9XG5cbiAgICBzZXQgdGV4dCh0ZXh0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRleHQgPSBTdHJpbmcodGV4dCA9PT0gbnVsbCB8fCB0ZXh0ID09PSB1bmRlZmluZWQgPyAnJyA6IHRleHQpO1xuXG4gICAgICAgIGlmICh0aGlzLl90ZXh0ID09PSB0ZXh0KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSBjYW52YXMuXG4gICAgICogVGhpcyBpcyBzZXQgdG8gYXV0b21hdGljYWxseSBtYXRjaCB0aGUgcmVuZGVyZXIgcmVzb2x1dGlvbiBieSBkZWZhdWx0LCBidXQgY2FuIGJlIG92ZXJyaWRkZW4gYnkgc2V0dGluZyBtYW51YWxseS5cbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIGdldCByZXNvbHV0aW9uKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXNvbHV0aW9uO1xuICAgIH1cblxuICAgIHNldCByZXNvbHV0aW9uKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2F1dG9SZXNvbHV0aW9uID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRoaXMuX3Jlc29sdXRpb24gPT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZXNvbHV0aW9uID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH1cbn1cbiIsIi8qKlxuICogQ291bnRMaW1pdGVyIGxpbWl0cyB0aGUgbnVtYmVyIG9mIGl0ZW1zIGhhbmRsZWQgYnkgYSB7QGxpbmsgUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlfSB0byBhIHNwZWNpZmllZFxuICogbnVtYmVyIG9mIGl0ZW1zIHBlciBmcmFtZS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLnByZXBhcmVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ291bnRMaW1pdGVyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heEl0ZW1zUGVyRnJhbWUgLSBUaGUgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgZWFjaCBmcmFtZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtYXhJdGVtc1BlckZyYW1lKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBpdGVtcyB0aGF0IGNhbiBiZSBwcmVwYXJlZCBlYWNoIGZyYW1lLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhJdGVtc1BlckZyYW1lID0gbWF4SXRlbXNQZXJGcmFtZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgaW4gdGhlIGN1cnJlbnQgZnJhbWUuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLml0ZW1zTGVmdCA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIGFueSBjb3VudGluZyBwcm9wZXJ0aWVzIHRvIHN0YXJ0IGZyZXNoIG9uIGEgbmV3IGZyYW1lLlxuICAgICAqL1xuICAgIGJlZ2luRnJhbWUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5pdGVtc0xlZnQgPSB0aGlzLm1heEl0ZW1zUGVyRnJhbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRvIHNlZSBpZiBhbm90aGVyIGl0ZW0gY2FuIGJlIHVwbG9hZGVkLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbmNlIHBlciBpdGVtLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBpdGVtIGlzIGFsbG93ZWQgdG8gYmUgdXBsb2FkZWQuXG4gICAgICovXG4gICAgYWxsb3dlZFRvVXBsb2FkKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZW1zTGVmdC0tID4gMDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBUZXh0dXJlLCBCYXNlVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgVGlja2VyLCBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IFRleHQsIFRleHRTdHlsZSwgVGV4dE1ldHJpY3MgfSBmcm9tICdAcGl4aS90ZXh0JztcbmltcG9ydCBDb3VudExpbWl0ZXIgZnJvbSAnLi9Db3VudExpbWl0ZXInO1xuXG4vKipcbiAqIFRoZSBwcmVwYXJlIG1hbmFnZXIgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byB1cGxvYWQgY29udGVudCB0byB0aGUgR1BVLlxuICpcbiAqIEJhc2VQcmVwYXJlIGhhbmRsZXMgYmFzaWMgcXVldWluZyBmdW5jdGlvbmFsaXR5IGFuZCBpcyBleHRlbmRlZCBieVxuICoge0BsaW5rIFBJWEkucHJlcGFyZS5QcmVwYXJlfSBhbmQge0BsaW5rIFBJWEkucHJlcGFyZS5DYW52YXNQcmVwYXJlfVxuICogdG8gcHJvdmlkZSBwcmVwYXJhdGlvbiBjYXBhYmlsaXRpZXMgc3BlY2lmaWMgdG8gdGhlaXIgcmVzcGVjdGl2ZSByZW5kZXJlcnMuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSBhIHNwcml0ZVxuICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlLmZyb20oJ3NvbWV0aGluZy5wbmcnKTtcbiAqXG4gKiAvLyBMb2FkIG9iamVjdCBpbnRvIEdQVVxuICogYXBwLnJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS51cGxvYWQoc3ByaXRlLCAoKSA9PiB7XG4gKlxuICogICAgIC8vVGV4dHVyZShzKSBoYXMgYmVlbiB1cGxvYWRlZCB0byBHUFVcbiAqICAgICBhcHAuc3RhZ2UuYWRkQ2hpbGQoc3ByaXRlKTtcbiAqXG4gKiB9KVxuICpcbiAqIEBhYnN0cmFjdFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5wcmVwYXJlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VQcmVwYXJlXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGltaXRlciB0byBiZSB1c2VkIHRvIGNvbnRyb2wgaG93IHF1aWNrbHkgaXRlbXMgYXJlIHByZXBhcmVkLlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5wcmVwYXJlLkNvdW50TGltaXRlcnxQSVhJLnByZXBhcmUuVGltZUxpbWl0ZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbWl0ZXIgPSBuZXcgQ291bnRMaW1pdGVyKHNldHRpbmdzLlVQTE9BRFNfUEVSX0ZSQU1FKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlci5cbiAgICAgICAgICogQHR5cGUge1BJWEkuQWJzdHJhY3RSZW5kZXJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb25seSByZWFsIGRpZmZlcmVuY2UgYmV0d2VlbiBDYW52YXNQcmVwYXJlIGFuZCBQcmVwYXJlIGlzIHdoYXQgdGhleSBwYXNzXG4gICAgICAgICAqIHRvIHVwbG9hZCBob29rcy4gVGhhdCBkaWZmZXJlbnQgcGFyYW1ldGVyIGlzIHN0b3JlZCBoZXJlLlxuICAgICAgICAgKiBAdHlwZSB7UElYSS5wcmVwYXJlLkNhbnZhc1ByZXBhcmV8UElYSS5SZW5kZXJlcn1cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cGxvYWRIb29rSGVscGVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRzIGF0IG9uY2UuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTwqPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucXVldWUgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBhZGRpdGlvbmFsIGhvb2tzIGZvciBmaW5kaW5nIGFzc2V0cy5cbiAgICAgICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWRkSG9va3MgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBhZGRpdGlvbmFsIGhvb2tzIGZvciBwcm9jZXNzaW5nIGFzc2V0cy5cbiAgICAgICAgICogQHR5cGUge0FycmF5PEZ1bmN0aW9uPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXBsb2FkSG9va3MgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGJhY2sgdG8gY2FsbCBhZnRlciBjb21wbGV0ZWQuXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbXBsZXRlcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBwcmVwYXJlIGlzIHRpY2tpbmcgKHJ1bm5pbmcpLlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiAnYm91bmQnIGNhbGwgZm9yIHByZXBhcmVJdGVtcygpLlxuICAgICAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlbGF5ZWRUaWNrID0gKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdW5saWtlbHksIGJ1dCBpbiBjYXNlIHdlIHdlcmUgZGVzdHJveWVkIGJldHdlZW4gdGljaygpIGFuZCBkZWxheWVkVGljaygpXG4gICAgICAgICAgICBpZiAoIXRoaXMucXVldWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wcmVwYXJlSXRlbXMoKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBob29rcyB0byBmaW5kIHRoZSBjb3JyZWN0IHRleHR1cmVcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRUZXh0KTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRUZXh0U3R5bGUpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZE11bHRpcGxlQmFzZVRleHR1cmVzKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckZpbmRIb29rKGZpbmRCYXNlVGV4dHVyZSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dHVyZSk7XG5cbiAgICAgICAgLy8gdXBsb2FkIGhvb2tzXG4gICAgICAgIHRoaXMucmVnaXN0ZXJVcGxvYWRIb29rKGRyYXdUZXh0KTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2soY2FsY3VsYXRlVGV4dFN0eWxlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgYWxsIHRoZSB0ZXh0dXJlcyBhbmQgZ3JhcGhpY3MgdG8gdGhlIEdQVS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuQ29udGFpbmVyfFBJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfFBJWEkuR3JhcGhpY3N8UElYSS5UZXh0fSBpdGVtIC1cbiAgICAgKiAgICAgICAgRWl0aGVyIHRoZSBjb250YWluZXIgb3IgZGlzcGxheSBvYmplY3QgdG8gc2VhcmNoIGZvciBpdGVtcyB0byB1cGxvYWQsIHRoZSBpdGVtcyB0byB1cGxvYWQgdGhlbXNlbHZlcyxcbiAgICAgKiAgICAgICAgb3IgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLCBpZiBpdGVtcyBoYXZlIGJlZW4gYWRkZWQgdXNpbmcgYHByZXBhcmUuYWRkYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZG9uZV0gLSBPcHRpb25hbCBjYWxsYmFjayB3aGVuIGFsbCBxdWV1ZWQgdXBsb2FkcyBoYXZlIGNvbXBsZXRlZFxuICAgICAqL1xuICAgIHVwbG9hZChpdGVtLCBkb25lKVxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSAnZnVuY3Rpb24nKVxuICAgICAgICB7XG4gICAgICAgICAgICBkb25lID0gaXRlbTtcbiAgICAgICAgICAgIGl0ZW0gPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgYSBkaXNwbGF5IG9iamVjdCwgc2VhcmNoIGZvciBpdGVtc1xuICAgICAgICAvLyB0aGF0IHdlIGNvdWxkIHVwbG9hZFxuICAgICAgICBpZiAoaXRlbSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5hZGQoaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgdGhlIGl0ZW1zIGZvciB1cGxvYWQgZnJvbSB0aGUgZGlzcGxheVxuICAgICAgICBpZiAodGhpcy5xdWV1ZS5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChkb25lKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGVzLnB1c2goZG9uZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdGhpcy50aWNraW5nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudGlja2luZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgVGlja2VyLnN5c3RlbS5hZGRPbmNlKHRoaXMudGljaywgdGhpcywgVVBEQVRFX1BSSU9SSVRZLlVUSUxJVFkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRvbmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aWNrIHVwZGF0ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aWNrKClcbiAgICB7XG4gICAgICAgIHNldFRpbWVvdXQodGhpcy5kZWxheWVkVGljaywgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWN0dWFsbHkgcHJlcGFyZSBpdGVtcy4gVGhpcyBpcyBoYW5kbGVkIG91dHNpZGUgb2YgdGhlIHRpY2sgYmVjYXVzZSBpdCB3aWxsIHRha2UgYSB3aGlsZVxuICAgICAqIGFuZCB3ZSBkbyBOT1Qgd2FudCB0byBibG9jayB0aGUgY3VycmVudCBhbmltYXRpb24gZnJhbWUgZnJvbSByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHByZXBhcmVJdGVtcygpXG4gICAge1xuICAgICAgICB0aGlzLmxpbWl0ZXIuYmVnaW5GcmFtZSgpO1xuICAgICAgICAvLyBVcGxvYWQgdGhlIGdyYXBoaWNzXG4gICAgICAgIHdoaWxlICh0aGlzLnF1ZXVlLmxlbmd0aCAmJiB0aGlzLmxpbWl0ZXIuYWxsb3dlZFRvVXBsb2FkKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLnF1ZXVlWzBdO1xuICAgICAgICAgICAgbGV0IHVwbG9hZGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmIChpdGVtICYmICFpdGVtLl9kZXN0cm95ZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHRoaXMudXBsb2FkSG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy51cGxvYWRIb29rc1tpXSh0aGlzLnVwbG9hZEhvb2tIZWxwZXIsIGl0ZW0pKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF1cGxvYWRlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXZSdyZSBmaW5pc2hlZFxuICAgICAgICBpZiAoIXRoaXMucXVldWUubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgY29uc3QgY29tcGxldGVzID0gdGhpcy5jb21wbGV0ZXMuc2xpY2UoMCk7XG5cbiAgICAgICAgICAgIHRoaXMuY29tcGxldGVzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBjb21wbGV0ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVzW2ldKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGZpbmlzaGVkLCBvbiB0aGUgbmV4dCByQUYgZG8gdGhpcyBhZ2FpblxuICAgICAgICAgICAgVGlja2VyLnN5c3RlbS5hZGRPbmNlKHRoaXMudGljaywgdGhpcywgVVBEQVRFX1BSSU9SSVRZLlVUSUxJVFkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBob29rcyBmb3IgZmluZGluZyBpdGVtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFkZEhvb2sgLSBGdW5jdGlvbiBjYWxsIHRoYXQgdGFrZXMgdHdvIHBhcmFtZXRlcnM6IGBpdGVtOiosIHF1ZXVlOkFycmF5YFxuICAgICAqICAgICAgICAgIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGB0cnVlYCBpZiBpdCB3YXMgYWJsZSB0byBhZGQgaXRlbSB0byB0aGUgcXVldWUuXG4gICAgICogQHJldHVybiB7UElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHJlZ2lzdGVyRmluZEhvb2soYWRkSG9vaylcbiAgICB7XG4gICAgICAgIGlmIChhZGRIb29rKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmFkZEhvb2tzLnB1c2goYWRkSG9vayk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGhvb2tzIGZvciB1cGxvYWRpbmcgaXRlbXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGxvYWRIb29rIC0gRnVuY3Rpb24gY2FsbCB0aGF0IHRha2VzIHR3byBwYXJhbWV0ZXJzOiBgcHJlcGFyZTpDYW52YXNQcmVwYXJlLCBpdGVtOipgIGFuZFxuICAgICAqICAgICAgICAgIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGB0cnVlYCBpZiBpdCB3YXMgYWJsZSB0byBoYW5kbGUgdXBsb2FkIG9mIGl0ZW0uXG4gICAgICogQHJldHVybiB7UElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRIb29rKVxuICAgIHtcbiAgICAgICAgaWYgKHVwbG9hZEhvb2spXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBsb2FkSG9va3MucHVzaCh1cGxvYWRIb29rKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hbnVhbGx5IGFkZCBhbiBpdGVtIHRvIHRoZSB1cGxvYWRpbmcgcXVldWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLkNvbnRhaW5lcnxQSVhJLkJhc2VUZXh0dXJlfFBJWEkuVGV4dHVyZXxQSVhJLkdyYXBoaWNzfFBJWEkuVGV4dHwqfSBpdGVtIC0gT2JqZWN0IHRvXG4gICAgICogICAgICAgIGFkZCB0byB0aGUgcXVldWVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLnByZXBhcmUuQmFzZVByZXBhcmV9IEluc3RhbmNlIG9mIHBsdWdpbiBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgYWRkKGl0ZW0pXG4gICAge1xuICAgICAgICAvLyBBZGQgYWRkaXRpb25hbCBob29rcyBmb3IgZmluZGluZyBlbGVtZW50cyBvbiBzcGVjaWFsXG4gICAgICAgIC8vIHR5cGVzIG9mIG9iamVjdHMgdGhhdFxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGhpcy5hZGRIb29rcy5sZW5ndGg7IGkgPCBsZW47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWRkSG9va3NbaV0oaXRlbSwgdGhpcy5xdWV1ZSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgY2hpbGRyZW4gcmVjdXJzaXZlbHlcbiAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBDb250YWluZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBpdGVtLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKGl0ZW0uY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIHBsdWdpbiwgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICpcbiAgICAgKi9cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnRpY2tpbmcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFRpY2tlci5zeXN0ZW0ucmVtb3ZlKHRoaXMudGljaywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aWNraW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWRkSG9va3MgPSBudWxsO1xuICAgICAgICB0aGlzLnVwbG9hZEhvb2tzID0gbnVsbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gICAgICAgIHRoaXMuY29tcGxldGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGltaXRlciA9IG51bGw7XG4gICAgICAgIHRoaXMudXBsb2FkSG9va0hlbHBlciA9IG51bGw7XG4gICAgfVxufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBtdWx0aXBsZSB0ZXh0dXJlcyBmcm9tIG9iamVjdHMgbGlrZSBBbmltYXRlZFNwcml0ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRNdWx0aXBsZUJhc2VUZXh0dXJlcyhpdGVtLCBxdWV1ZSlcbntcbiAgICBsZXQgcmVzdWx0ID0gZmFsc2U7XG5cbiAgICAvLyBPYmplY3RzIHdpdGggbXVsdGlwbGUgdGV4dHVyZXNcbiAgICBpZiAoaXRlbSAmJiBpdGVtLl90ZXh0dXJlcyAmJiBpdGVtLl90ZXh0dXJlcy5sZW5ndGgpXG4gICAge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW0uX3RleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoaXRlbS5fdGV4dHVyZXNbaV0gaW5zdGFuY2VvZiBUZXh0dXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2VUZXh0dXJlID0gaXRlbS5fdGV4dHVyZXNbaV0uYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgICAgICBpZiAocXVldWUuaW5kZXhPZihiYXNlVGV4dHVyZSkgPT09IC0xKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcXVldWUucHVzaChiYXNlVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgQmFzZVRleHR1cmVzIGZyb20gU3ByaXRlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHR1cmUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZEJhc2VUZXh0dXJlKGl0ZW0sIHF1ZXVlKVxue1xuICAgIC8vIE9iamVjdHMgd2l0aCB0ZXh0dXJlcywgbGlrZSBTcHJpdGVzL1RleHRcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEJhc2VUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoaXRlbSkgPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCB0ZXh0dXJlcyBmcm9tIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0dXJlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0dXJlKGl0ZW0sIHF1ZXVlKVxue1xuICAgIGlmIChpdGVtLl90ZXh0dXJlICYmIGl0ZW0uX3RleHR1cmUgaW5zdGFuY2VvZiBUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IGl0ZW0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YodGV4dHVyZSkgPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZHJhdyBQSVhJLlRleHQgdG8gaXRzIHRleHR1cmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcnxQSVhJLkNhbnZhc1ByZXBhcmV9IGhlbHBlciAtIE5vdCB1c2VkIGJ5IHRoaXMgdXBsb2FkIGhhbmRsZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIGRyYXdUZXh0KGhlbHBlciwgaXRlbSlcbntcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRleHQpXG4gICAge1xuICAgICAgICAvLyB1cGRhdGluZyB0ZXh0IHdpbGwgcmV0dXJuIGVhcmx5IGlmIGl0IGlzIG5vdCBkaXJ0eVxuICAgICAgICBpdGVtLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gY2FsY3VsYXRlIGEgdGV4dCBzdHlsZSBmb3IgYSBQSVhJLlRleHQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ8UElYSS5DYW52YXNQcmVwYXJlfSBoZWxwZXIgLSBOb3QgdXNlZCBieSB0aGlzIHVwbG9hZCBoYW5kbGVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVUZXh0U3R5bGUoaGVscGVyLCBpdGVtKVxue1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dFN0eWxlKVxuICAgIHtcbiAgICAgICAgY29uc3QgZm9udCA9IGl0ZW0udG9Gb250U3RyaW5nKCk7XG5cbiAgICAgICAgVGV4dE1ldHJpY3MubWVhc3VyZUZvbnQoZm9udCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBUZXh0IG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5UZXh0IG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0KGl0ZW0sIHF1ZXVlKVxue1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dClcbiAgICB7XG4gICAgICAgIC8vIHB1c2ggdGhlIHRleHQgc3R5bGUgdG8gcHJlcGFyZSBpdCAtIHRoaXMgY2FuIGJlIHJlYWxseSBleHBlbnNpdmVcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoaXRlbS5zdHlsZSkgPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0uc3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFsc28gcHVzaCB0aGUgdGV4dCBvYmplY3Qgc28gdGhhdCB3ZSBjYW4gcmVuZGVyIGl0ICh0byBjYW52YXMvdGV4dHVyZSkgaWYgbmVlZGVkXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0pID09PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHNvIHB1c2ggdGhlIFRleHQncyB0ZXh0dXJlIGZvciB1cGxvYWQgdG8gR1BVXG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBpdGVtLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKHRleHR1cmUpID09PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgcXVldWUucHVzaCh0ZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgVGV4dFN0eWxlIG9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHRTdHlsZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kVGV4dFN0eWxlKGl0ZW0sIHF1ZXVlKVxue1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dFN0eWxlKVxuICAgIHtcbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YoaXRlbSkgPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuIiwiaW1wb3J0IHsgQmFzZVRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IEdyYXBoaWNzIH0gZnJvbSAnQHBpeGkvZ3JhcGhpY3MnO1xuaW1wb3J0IEJhc2VQcmVwYXJlIGZyb20gJy4vQmFzZVByZXBhcmUnO1xuXG4vKipcbiAqIFRoZSBwcmVwYXJlIG1hbmFnZXIgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byB1cGxvYWQgY29udGVudCB0byB0aGUgR1BVLlxuICpcbiAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBjcmVhdGVkIGJ5IGRlZmF1bHQsIGFuZCBjYW4gYmUgZm91bmQgYXQgYHJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZWBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZVxuICogQG1lbWJlcm9mIFBJWEkucHJlcGFyZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcmVwYXJlIGV4dGVuZHMgQmFzZVByZXBhcmVcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICB0aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIC8vIEFkZCB0ZXh0dXJlcyBhbmQgZ3JhcGhpY3MgdG8gdXBsb2FkXG4gICAgICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kR3JhcGhpY3MpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRCYXNlVGV4dHVyZXMpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkSG9vayh1cGxvYWRHcmFwaGljcyk7XG4gICAgfVxufVxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIHVwbG9hZCBQSVhJLlRleHR1cmUgb2JqZWN0cyB0byB0aGUgR1BVLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gaW5zdGFuY2Ugb2YgdGhlIHdlYmdsIHJlbmRlcmVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiB1cGxvYWRCYXNlVGV4dHVyZXMocmVuZGVyZXIsIGl0ZW0pXG57XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBCYXNlVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIC8vIGlmIHRoZSB0ZXh0dXJlIGFscmVhZHkgaGFzIGEgR0wgdGV4dHVyZSwgdGhlbiB0aGUgdGV4dHVyZSBoYXMgYmVlbiBwcmVwYXJlZCBvciByZW5kZXJlZFxuICAgICAgICAvLyBiZWZvcmUgbm93LiBJZiB0aGUgdGV4dHVyZSBjaGFuZ2VkLCB0aGVuIHRoZSBjaGFuZ2VyIHNob3VsZCBiZSBjYWxsaW5nIHRleHR1cmUudXBkYXRlKCkgd2hpY2hcbiAgICAgICAgLy8gcmV1cGxvYWRzIHRoZSB0ZXh0dXJlIHdpdGhvdXQgbmVlZCBmb3IgcHJlcGFyaW5nIGl0IGFnYWluXG4gICAgICAgIGlmICghaXRlbS5fZ2xUZXh0dXJlc1tyZW5kZXJlci5DT05URVhUX1VJRF0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLnRleHR1cmVNYW5hZ2VyLnVwZGF0ZVRleHR1cmUoaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byB1cGxvYWQgUElYSS5HcmFwaGljcyB0byB0aGUgR1BVLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gaW5zdGFuY2Ugb2YgdGhlIHdlYmdsIHJlbmRlcmVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiB1cGxvYWRHcmFwaGljcyhyZW5kZXJlciwgaXRlbSlcbntcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEdyYXBoaWNzKVxuICAgIHtcbiAgICAgICAgLy8gaWYgdGhlIGl0ZW0gaXMgbm90IGRpcnR5IGFuZCBhbHJlYWR5IGhhcyB3ZWJnbCBkYXRhLCB0aGVuIGl0IGdvdCBwcmVwYXJlZCBvciByZW5kZXJlZFxuICAgICAgICAvLyBiZWZvcmUgbm93IGFuZCB3ZSBzaG91bGRuJ3Qgd2FzdGUgdGltZSB1cGRhdGluZyBpdCBhZ2FpblxuICAgICAgICBpZiAoaXRlbS5kaXJ0eSB8fCBpdGVtLmNsZWFyRGlydHkgfHwgIWl0ZW0uX3dlYkdMW3JlbmRlcmVyLnBsdWdpbnMuZ3JhcGhpY3MuQ09OVEVYVF9VSURdKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzLnVwZGF0ZUdyYXBoaWNzKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBncmFwaGljcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLkdyYXBoaWNzIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRHcmFwaGljcyhpdGVtLCBxdWV1ZSlcbntcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIEdyYXBoaWNzKVxuICAgIHtcbiAgICAgICAgcXVldWUucHVzaChpdGVtKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG4iLCIvKipcbiAqIFRpbWVMaW1pdGVyIGxpbWl0cyB0aGUgbnVtYmVyIG9mIGl0ZW1zIGhhbmRsZWQgYnkgYSB7QGxpbmsgUElYSS5CYXNlUHJlcGFyZX0gdG8gYSBzcGVjaWZpZWRcbiAqIG51bWJlciBvZiBtaWxsaXNlY29uZHMgcGVyIGZyYW1lLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkucHJlcGFyZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaW1lTGltaXRlclxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhNaWxsaXNlY29uZHMgLSBUaGUgbWF4aW11bSBtaWxsaXNlY29uZHMgdGhhdCBjYW4gYmUgc3BlbnQgcHJlcGFyaW5nIGl0ZW1zIGVhY2ggZnJhbWUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobWF4TWlsbGlzZWNvbmRzKVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXhpbXVtIG1pbGxpc2Vjb25kcyB0aGF0IGNhbiBiZSBzcGVudCBwcmVwYXJpbmcgaXRlbXMgZWFjaCBmcmFtZS5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWF4TWlsbGlzZWNvbmRzID0gbWF4TWlsbGlzZWNvbmRzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0YXJ0IHRpbWUgb2YgdGhlIGN1cnJlbnQgZnJhbWUuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZyYW1lU3RhcnQgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyBhbnkgY291bnRpbmcgcHJvcGVydGllcyB0byBzdGFydCBmcmVzaCBvbiBhIG5ldyBmcmFtZS5cbiAgICAgKi9cbiAgICBiZWdpbkZyYW1lKClcbiAgICB7XG4gICAgICAgIHRoaXMuZnJhbWVTdGFydCA9IERhdGUubm93KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRvIHNlZSBpZiBhbm90aGVyIGl0ZW0gY2FuIGJlIHVwbG9hZGVkLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbmNlIHBlciBpdGVtLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBpdGVtIGlzIGFsbG93ZWQgdG8gYmUgdXBsb2FkZWQuXG4gICAgICovXG4gICAgYWxsb3dlZFRvVXBsb2FkKClcbiAgICB7XG4gICAgICAgIHJldHVybiBEYXRlLm5vdygpIC0gdGhpcy5mcmFtZVN0YXJ0IDwgdGhpcy5tYXhNaWxsaXNlY29uZHM7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBhdXRvRGV0ZWN0UmVuZGVyZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyoqXG4gKiBDb252ZW5pZW5jZSBjbGFzcyB0byBjcmVhdGUgYSBuZXcgUElYSSBhcHBsaWNhdGlvbi5cbiAqXG4gKiBUaGlzIGNsYXNzIGF1dG9tYXRpY2FsbHkgY3JlYXRlcyB0aGUgcmVuZGVyZXIsIHRpY2tlciBhbmQgcm9vdCBjb250YWluZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSB0aGUgYXBwbGljYXRpb25cbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gKlxuICogLy8gQWRkIHRoZSB2aWV3IHRvIHRoZSBET01cbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXBwLnZpZXcpO1xuICpcbiAqIC8vIGV4LCBhZGQgZGlzcGxheSBvYmplY3RzXG4gKiBhcHAuc3RhZ2UuYWRkQ2hpbGQoUElYSS5TcHJpdGUuZnJvbSgnc29tZXRoaW5nLnBuZycpKTtcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwcGxpY2F0aW9uXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25hbCByZW5kZXJlciBwYXJhbWV0ZXJzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b1N0YXJ0PXRydWVdIC0gQXV0b21hdGljYWxseSBzdGFydHMgdGhlIHJlbmRlcmluZyBhZnRlciB0aGUgY29uc3RydWN0aW9uLlxuICAgICAqICAgICAqKk5vdGUqKjogU2V0dGluZyB0aGlzIHBhcmFtZXRlciB0byBmYWxzZSBkb2VzIE5PVCBzdG9wIHRoZSBzaGFyZWQgdGlja2VyIGV2ZW4gaWYgeW91IHNldFxuICAgICAqICAgICBvcHRpb25zLnNoYXJlZFRpY2tlciB0byB0cnVlIGluIGNhc2UgdGhhdCBpdCBpcyBhbHJlYWR5IHN0YXJ0ZWQuIFN0b3AgaXQgYnkgeW91ciBvd24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTgwMF0gLSBUaGUgd2lkdGggb2YgdGhlIHJlbmRlcmVycyB2aWV3LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9NjAwXSAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlbmRlcmVycyB2aWV3LlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IFtvcHRpb25zLnZpZXddIC0gVGhlIGNhbnZhcyB0byB1c2UgYXMgYSB2aWV3LCBvcHRpb25hbC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYW5zcGFyZW50PWZhbHNlXSAtIElmIHRoZSByZW5kZXIgdmlldyBpcyB0cmFuc3BhcmVudC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9EZW5zaXR5PWZhbHNlXSAtIFJlc2l6ZXMgcmVuZGVyZXIgdmlldyBpbiBDU1MgcGl4ZWxzIHRvIGFsbG93IGZvclxuICAgICAqICAgcmVzb2x1dGlvbnMgb3RoZXIgdGhhbiAxLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYW50aWFsaWFzPWZhbHNlXSAtIFNldHMgYW50aWFsaWFzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ZmFsc2VdIC0gRW5hYmxlcyBkcmF3aW5nIGJ1ZmZlciBwcmVzZXJ2YXRpb24sIGVuYWJsZSB0aGlzIGlmIHlvdVxuICAgICAqICBuZWVkIHRvIGNhbGwgdG9EYXRhVXJsIG9uIHRoZSBXZWJHTCBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLCByZXRpbmEgd291bGQgYmUgMi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmZvcmNlQ2FudmFzPWZhbHNlXSAtIHByZXZlbnRzIHNlbGVjdGlvbiBvZiBXZWJHTCByZW5kZXJlciwgZXZlbiBpZiBzdWNoIGlzIHByZXNlbnQsIHRoaXNcbiAgICAgKiAgIG9wdGlvbiBvbmx5IGlzIGF2YWlsYWJsZSB3aGVuIHVzaW5nICoqcGl4aS5qcy1sZWdhY3kqKiBvciAqKkBwaXhpL2NhbnZhcy1yZW5kZXJlcioqIG1vZHVsZXMsIG90aGVyd2lzZVxuICAgICAqICAgaXQgaXMgaWdub3JlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuYmFja2dyb3VuZENvbG9yPTB4MDAwMDAwXSAtIFRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSByZW5kZXJlZCBhcmVhXG4gICAgICogIChzaG93biBpZiBub3QgdHJhbnNwYXJlbnQpLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2xlYXJCZWZvcmVSZW5kZXI9dHJ1ZV0gLSBUaGlzIHNldHMgaWYgdGhlIHJlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvclxuICAgICAqICAgbm90IGJlZm9yZSB0aGUgbmV3IHJlbmRlciBwYXNzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZm9yY2VGWEFBPWZhbHNlXSAtIEZvcmNlcyBGWEFBIGFudGlhbGlhc2luZyB0byBiZSB1c2VkIG92ZXIgbmF0aXZlLlxuICAgICAqICBGWEFBIGlzIGZhc3RlciwgYnV0IG1heSBub3QgYWx3YXlzIGxvb2sgYXMgZ3JlYXQuICoqKFdlYkdMIG9ubHkpKiouXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnBvd2VyUHJlZmVyZW5jZV0gLSBQYXJhbWV0ZXIgcGFzc2VkIHRvIHdlYmdsIGNvbnRleHQsIHNldCB0byBcImhpZ2gtcGVyZm9ybWFuY2VcIlxuICAgICAqICBmb3IgZGV2aWNlcyB3aXRoIGR1YWwgZ3JhcGhpY3MgY2FyZC4gKiooV2ViR0wgb25seSkqKi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnNoYXJlZFRpY2tlcj1mYWxzZV0gLSBgdHJ1ZWAgdG8gdXNlIFBJWEkuVGlja2VyLnNoYXJlZCwgYGZhbHNlYCB0byBjcmVhdGUgbmV3IHRpY2tlci5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnNoYXJlZExvYWRlcj1mYWxzZV0gLSBgdHJ1ZWAgdG8gdXNlIFBJWEkuTG9hZGVyLnNoYXJlZCwgYGZhbHNlYCB0byBjcmVhdGUgbmV3IExvYWRlci5cbiAgICAgKiBAcGFyYW0ge1dpbmRvd3xIVE1MRWxlbWVudH0gW29wdGlvbnMucmVzaXplVG9dIC0gRWxlbWVudCB0byBhdXRvbWF0aWNhbGx5IHJlc2l6ZSBzdGFnZSB0by5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKVxuICAgIHtcbiAgICAgICAgLy8gVGhlIGRlZmF1bHQgb3B0aW9uc1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBmb3JjZUNhbnZhczogZmFsc2UsXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXZWJHTCByZW5kZXJlciBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBDYW52YXNSZW5kZXJlci5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJlcnxQSVhJLkNhbnZhc1JlbmRlcmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IGF1dG9EZXRlY3RSZW5kZXJlcihvcHRpb25zKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJvb3QgZGlzcGxheSBjb250YWluZXIgdGhhdCdzIHJlbmRlcmVkLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNvbnRhaW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhZ2UgPSBuZXcgQ29udGFpbmVyKCk7XG5cbiAgICAgICAgLy8gaW5zdGFsbCBwbHVnaW5zIGhlcmVcbiAgICAgICAgQXBwbGljYXRpb24uX3BsdWdpbnMuZm9yRWFjaCgocGx1Z2luKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBwbHVnaW4uaW5pdC5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIG1pZGRsZXdhcmUgcGx1Z2luIGZvciB0aGUgYXBwbGljYXRpb25cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtQSVhJLkFwcGxpY2F0aW9uLlBsdWdpbn0gcGx1Z2luIC0gUGx1Z2luIGJlaW5nIGluc3RhbGxlZFxuICAgICAqL1xuICAgIHN0YXRpYyByZWdpc3RlclBsdWdpbihwbHVnaW4pXG4gICAge1xuICAgICAgICBBcHBsaWNhdGlvbi5fcGx1Z2lucy5wdXNoKHBsdWdpbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBjdXJyZW50IHN0YWdlLlxuICAgICAqL1xuICAgIHJlbmRlcigpXG4gICAge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnN0YWdlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHJlbmRlcmVyJ3MgY2FudmFzIGVsZW1lbnQuXG4gICAgICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IHZpZXcoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyZXIudmlldztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHJlbmRlcmVyJ3Mgc2NyZWVuIHJlY3RhbmdsZS4gSXRzIHNhZmUgdG8gdXNlIGFzIGBmaWx0ZXJBcmVhYCBvciBgaGl0QXJlYWAgZm9yIHRoZSB3aG9sZSBzY3JlZW4uXG4gICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IHNjcmVlbigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5zY3JlZW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveSBhbmQgZG9uJ3QgdXNlIGFmdGVyIHRoaXMuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gQXV0b21hdGljYWxseSByZW1vdmUgY2FudmFzIGZyb20gRE9NLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtzdGFnZU9wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFnZU9wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnc3RhZ2VPcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzdGFnZU9wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgc3RhZ2VPcHRpb25zLmNoaWxkcmVuIGlzIHNldFxuICAgICAqICB0byB0cnVlLiBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc3RhZ2VPcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBzdGFnZU9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0XG4gICAgICogIHRvIHRydWUuIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIGRlc3Ryb3kocmVtb3ZlVmlldylcbiAgICB7XG4gICAgICAgIC8vIERlc3Ryb3kgcGx1Z2lucyBpbiB0aGUgb3Bwb3NpdGUgb3JkZXJcbiAgICAgICAgLy8gd2hpY2ggdGhleSB3ZXJlIGNvbnN0cnVjdGVkXG4gICAgICAgIGNvbnN0IHBsdWdpbnMgPSBBcHBsaWNhdGlvbi5fcGx1Z2lucy5zbGljZSgwKTtcblxuICAgICAgICBwbHVnaW5zLnJldmVyc2UoKTtcbiAgICAgICAgcGx1Z2lucy5mb3JFYWNoKChwbHVnaW4pID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHBsdWdpbi5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuc3RhZ2UuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnN0YWdlID0gbnVsbDtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmRlc3Ryb3kocmVtb3ZlVmlldyk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBudWxsO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbWVtYmVyb2YgUElYSS5BcHBsaWNhdGlvblxuICogQHR5cGVkZWYge29iamVjdH0gUGx1Z2luXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBpbml0IC0gQ2FsbGVkIHdoZW4gQXBwbGljYXRpb24gaXMgY29uc3RydWN0ZWQsIHNjb3BlZCB0byBBcHBsaWNhdGlvbiBpbnN0YW5jZS5cbiAqICBQYXNzZXMgaW4gYG9wdGlvbnNgIGFzIHRoZSBvbmx5IGFyZ3VtZW50LCB3aGljaCBhcmUgQXBwbGljYXRpb24gY29uc3RydWN0b3Igb3B0aW9ucy5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IGRlc3Ryb3kgLSBDYWxsZWQgd2hlbiBkZXN0cm95aW5nIEFwcGxpY2F0aW9uLCBzY29wZWQgdG8gQXBwbGljYXRpb24gaW5zdGFuY2VcbiAqL1xuXG4vKipcbiAqIENvbGxlY3Rpb24gb2YgaW5zdGFsbGVkIHBsdWdpbnMuXG4gKiBAc3RhdGljXG4gKiBAcHJpdmF0ZVxuICogQHR5cGUge1BJWEkuQXBwbGljYXRpb24uUGx1Z2luW119XG4gKi9cbkFwcGxpY2F0aW9uLl9wbHVnaW5zID0gW107XG4iLCIvKipcbiAqIE1pZGRsZXdhcmUgZm9yIGZvciBBcHBsaWNhdGlvbidzIHJlc2l6ZSBmdW5jdGlvbmFsaXR5XG4gKiBAcHJpdmF0ZVxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc2l6ZVBsdWdpblxue1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgdGhlIHBsdWdpbiB3aXRoIHNjb3BlIG9mIGFwcGxpY2F0aW9uIGluc3RhbmNlXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFNlZSBhcHBsaWNhdGlvbiBvcHRpb25zXG4gICAgICovXG4gICAgc3RhdGljIGluaXQob3B0aW9ucylcbiAgICB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZWxlbWVudCBvciB3aW5kb3cgdG8gcmVzaXplIHRoZSBhcHBsaWNhdGlvbiB0by5cbiAgICAgICAgICogQHR5cGUge1dpbmRvd3xIVE1MRWxlbWVudH1cbiAgICAgICAgICogQG5hbWUgcmVzaXplVG9cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICAgICAqL1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3Jlc2l6ZVRvJyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXQoZG9tKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVzaXplVG8gPSBkb207XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb20pXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc2l6ZVRvO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgYHJlc2l6ZVRvYCBpcyBzZXQsIGNhbGxpbmcgdGhpcyBmdW5jdGlvblxuICAgICAgICAgKiB3aWxsIHJlc2l6ZSB0byB0aGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGF0IGVsZW1lbnQuXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5BcHBsaWNhdGlvbiNyZXNpemVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzaXplID0gKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3Jlc2l6ZVRvKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFJlc2l6ZSB0byB0aGUgd2luZG93XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3Jlc2l6ZVRvID09PSB3aW5kb3cpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlc2l6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmlubmVySGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFJlc2l6ZSB0byBvdGhlciBIVE1MIGVudGl0aWVzXG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZXNpemUoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXNpemVUby5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZVRvLmNsaWVudEhlaWdodFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBPbiByZXNpemVcbiAgICAgICAgdGhpcy5fcmVzaXplVG8gPSBudWxsO1xuICAgICAgICB0aGlzLnJlc2l6ZVRvID0gb3B0aW9ucy5yZXNpemVUbyB8fCBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFuIHVwIHRoZSB0aWNrZXIsIHNjb3BlZCB0byBhcHBsaWNhdGlvblxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN0YXRpYyBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHRoaXMucmVzaXplVG8gPSBudWxsO1xuICAgICAgICB0aGlzLnJlc2l6ZSA9IG51bGw7XG4gICAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcGFyc2VVUkkgKHN0ciwgb3B0cykge1xuICBvcHRzID0gb3B0cyB8fCB7fVxuXG4gIHZhciBvID0ge1xuICAgIGtleTogWydzb3VyY2UnLCAncHJvdG9jb2wnLCAnYXV0aG9yaXR5JywgJ3VzZXJJbmZvJywgJ3VzZXInLCAncGFzc3dvcmQnLCAnaG9zdCcsICdwb3J0JywgJ3JlbGF0aXZlJywgJ3BhdGgnLCAnZGlyZWN0b3J5JywgJ2ZpbGUnLCAncXVlcnknLCAnYW5jaG9yJ10sXG4gICAgcToge1xuICAgICAgbmFtZTogJ3F1ZXJ5S2V5JyxcbiAgICAgIHBhcnNlcjogLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nXG4gICAgfSxcbiAgICBwYXJzZXI6IHtcbiAgICAgIHN0cmljdDogL14oPzooW146XFwvPyNdKyk6KT8oPzpcXC9cXC8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykpPygoKCg/OltePyNcXC9dKlxcLykqKShbXj8jXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLyxcbiAgICAgIGxvb3NlOiAvXig/Oig/IVteOkBdKzpbXjpAXFwvXSpAKShbXjpcXC8/Iy5dKyk6KT8oPzpcXC9cXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSgoKFxcLyg/OltePyNdKD8hW14/I1xcL10qXFwuW14/I1xcLy5dKyg/Ols/I118JCkpKSpcXC8/KT8oW14/I1xcL10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS9cbiAgICB9XG4gIH1cblxuICB2YXIgbSA9IG8ucGFyc2VyW29wdHMuc3RyaWN0TW9kZSA/ICdzdHJpY3QnIDogJ2xvb3NlJ10uZXhlYyhzdHIpXG4gIHZhciB1cmkgPSB7fVxuICB2YXIgaSA9IDE0XG5cbiAgd2hpbGUgKGktLSkgdXJpW28ua2V5W2ldXSA9IG1baV0gfHwgJydcblxuICB1cmlbby5xLm5hbWVdID0ge31cbiAgdXJpW28ua2V5WzEyXV0ucmVwbGFjZShvLnEucGFyc2VyLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgIGlmICgkMSkgdXJpW28ucS5uYW1lXVskMV0gPSAkMlxuICB9KVxuXG4gIHJldHVybiB1cmlcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXG52YXIgTWluaVNpZ25hbEJpbmRpbmcgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNaW5pU2lnbmFsQmluZGluZyhmbiwgb25jZSwgdGhpc0FyZykge1xuICAgIGlmIChvbmNlID09PSB1bmRlZmluZWQpIG9uY2UgPSBmYWxzZTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNaW5pU2lnbmFsQmluZGluZyk7XG5cbiAgICB0aGlzLl9mbiA9IGZuO1xuICAgIHRoaXMuX29uY2UgPSBvbmNlO1xuICAgIHRoaXMuX3RoaXNBcmcgPSB0aGlzQXJnO1xuICAgIHRoaXMuX25leHQgPSB0aGlzLl9wcmV2ID0gdGhpcy5fb3duZXIgPSBudWxsO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1pbmlTaWduYWxCaW5kaW5nLCBbe1xuICAgIGtleTogJ2RldGFjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaCgpIHtcbiAgICAgIGlmICh0aGlzLl9vd25lciA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgICAgdGhpcy5fb3duZXIuZGV0YWNoKHRoaXMpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1pbmlTaWduYWxCaW5kaW5nO1xufSkoKTtcblxuZnVuY3Rpb24gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHNlbGYsIG5vZGUpIHtcbiAgaWYgKCFzZWxmLl9oZWFkKSB7XG4gICAgc2VsZi5faGVhZCA9IG5vZGU7XG4gICAgc2VsZi5fdGFpbCA9IG5vZGU7XG4gIH0gZWxzZSB7XG4gICAgc2VsZi5fdGFpbC5fbmV4dCA9IG5vZGU7XG4gICAgbm9kZS5fcHJldiA9IHNlbGYuX3RhaWw7XG4gICAgc2VsZi5fdGFpbCA9IG5vZGU7XG4gIH1cblxuICBub2RlLl9vd25lciA9IHNlbGY7XG5cbiAgcmV0dXJuIG5vZGU7XG59XG5cbnZhciBNaW5pU2lnbmFsID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWluaVNpZ25hbCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWluaVNpZ25hbCk7XG5cbiAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNaW5pU2lnbmFsLCBbe1xuICAgIGtleTogJ2hhbmRsZXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlcnMoKSB7XG4gICAgICB2YXIgZXhpc3RzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbMF07XG5cbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcblxuICAgICAgaWYgKGV4aXN0cykgcmV0dXJuICEhbm9kZTtcblxuICAgICAgdmFyIGVlID0gW107XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGVlLnB1c2gobm9kZSk7XG4gICAgICAgIG5vZGUgPSBub2RlLl9uZXh0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzKG5vZGUpIHtcbiAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBNaW5pU2lnbmFsQmluZGluZykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2hhcygpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIE1pbmlTaWduYWxCaW5kaW5nIG9iamVjdC4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5vZGUuX293bmVyID09PSB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Rpc3BhdGNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcGF0Y2goKSB7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG5cbiAgICAgIGlmICghbm9kZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5fb25jZSkgdGhpcy5kZXRhY2gobm9kZSk7XG4gICAgICAgIG5vZGUuX2ZuLmFwcGx5KG5vZGUuX3RoaXNBcmcsIGFyZ3VtZW50cyk7XG4gICAgICAgIG5vZGUgPSBub2RlLl9uZXh0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdhZGQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGQoZm4pIHtcbiAgICAgIHZhciB0aGlzQXJnID0gYXJndW1lbnRzLmxlbmd0aCA8PSAxIHx8IGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGFyZ3VtZW50c1sxXTtcblxuICAgICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjYWRkKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgRnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHRoaXMsIG5ldyBNaW5pU2lnbmFsQmluZGluZyhmbiwgZmFsc2UsIHRoaXNBcmcpKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbmNlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25jZShmbikge1xuICAgICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzFdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNvbmNlKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgRnVuY3Rpb24uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHRoaXMsIG5ldyBNaW5pU2lnbmFsQmluZGluZyhmbiwgdHJ1ZSwgdGhpc0FyZykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RldGFjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaChub2RlKSB7XG4gICAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgTWluaVNpZ25hbEJpbmRpbmcpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNkZXRhY2goKTogRmlyc3QgYXJnIG11c3QgYmUgYSBNaW5pU2lnbmFsQmluZGluZyBvYmplY3QuJyk7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5fb3duZXIgIT09IHRoaXMpIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobm9kZS5fcHJldikgbm9kZS5fcHJldi5fbmV4dCA9IG5vZGUuX25leHQ7XG4gICAgICBpZiAobm9kZS5fbmV4dCkgbm9kZS5fbmV4dC5fcHJldiA9IG5vZGUuX3ByZXY7XG5cbiAgICAgIGlmIChub2RlID09PSB0aGlzLl9oZWFkKSB7XG4gICAgICAgIHRoaXMuX2hlYWQgPSBub2RlLl9uZXh0O1xuICAgICAgICBpZiAobm9kZS5fbmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuX3RhaWwgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5vZGUgPT09IHRoaXMuX3RhaWwpIHtcbiAgICAgICAgdGhpcy5fdGFpbCA9IG5vZGUuX3ByZXY7XG4gICAgICAgIHRoaXMuX3RhaWwuX25leHQgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBub2RlLl9vd25lciA9IG51bGw7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZXRhY2hBbGwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXRhY2hBbGwoKSB7XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2hlYWQ7XG4gICAgICBpZiAoIW5vZGUpIHJldHVybiB0aGlzO1xuXG4gICAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IG51bGw7XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIG5vZGUuX293bmVyID0gbnVsbDtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWluaVNpZ25hbDtcbn0pKCk7XG5cbk1pbmlTaWduYWwuTWluaVNpZ25hbEJpbmRpbmcgPSBNaW5pU2lnbmFsQmluZGluZztcblxuZXhwb3J0c1snZGVmYXVsdCddID0gTWluaVNpZ25hbDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuIiwiaW1wb3J0IHBhcnNlVXJpIGZyb20gJ3BhcnNlLXVyaSc7XG5pbXBvcnQgU2lnbmFsIGZyb20gJ21pbmktc2lnbmFscyc7XG5cbi8vIHRlc3RzIGlmIENPUlMgaXMgc3VwcG9ydGVkIGluIFhIUiwgaWYgbm90IHdlIG5lZWQgdG8gdXNlIFhEUlxuY29uc3QgdXNlWGRyID0gISEod2luZG93LlhEb21haW5SZXF1ZXN0ICYmICEoJ3dpdGhDcmVkZW50aWFscycgaW4gKG5ldyBYTUxIdHRwUmVxdWVzdCgpKSkpO1xubGV0IHRlbXBBbmNob3IgPSBudWxsO1xuXG4vLyBzb21lIHN0YXR1cyBjb25zdGFudHNcbmNvbnN0IFNUQVRVU19OT05FID0gMDtcbmNvbnN0IFNUQVRVU19PSyA9IDIwMDtcbmNvbnN0IFNUQVRVU19FTVBUWSA9IDIwNDtcbmNvbnN0IFNUQVRVU19JRV9CVUdfRU1QVFkgPSAxMjIzO1xuY29uc3QgU1RBVFVTX1RZUEVfT0sgPSAyO1xuXG4vLyBub29wXG5mdW5jdGlvbiBfbm9vcCgpIHsgLyogZW1wdHkgKi8gfVxuXG4vKipcbiAqIE1hbmFnZXMgdGhlIHN0YXRlIGFuZCBsb2FkaW5nIG9mIGEgcmVzb3VyY2UgYW5kIGFsbCBjaGlsZCByZXNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBjbGFzcyBSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbG9hZCB0eXBlIHRvIGJlIHVzZWQgZm9yIGEgc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiB0byBzZXQgdGhlIHR5cGUgZm9yLCBlLmcuIFwicG5nXCIgb3IgXCJmbnRcIlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuTE9BRF9UWVBFfSBsb2FkVHlwZSAtIFRoZSBsb2FkIHR5cGUgdG8gc2V0IGl0IHRvLlxuICAgICAqL1xuICAgIHN0YXRpYyBzZXRFeHRlbnNpb25Mb2FkVHlwZShleHRuYW1lLCBsb2FkVHlwZSkge1xuICAgICAgICBzZXRFeHRNYXAoUmVzb3VyY2UuX2xvYWRUeXBlTWFwLCBleHRuYW1lLCBsb2FkVHlwZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbG9hZCB0eXBlIHRvIGJlIHVzZWQgZm9yIGEgc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiB0byBzZXQgdGhlIHR5cGUgZm9yLCBlLmcuIFwicG5nXCIgb3IgXCJmbnRcIlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IHhoclR5cGUgLSBUaGUgeGhyIHR5cGUgdG8gc2V0IGl0IHRvLlxuICAgICAqL1xuICAgIHN0YXRpYyBzZXRFeHRlbnNpb25YaHJUeXBlKGV4dG5hbWUsIHhoclR5cGUpIHtcbiAgICAgICAgc2V0RXh0TWFwKFJlc291cmNlLl94aHJUeXBlTWFwLCBleHRuYW1lLCB4aHJUeXBlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSB0byBsb2FkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSB1cmwgLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCBmb3IgYXVkaW8vdmlkZW8gbG9hZHMgeW91IGNhbiBwYXNzXG4gICAgICogICAgICBhbiBhcnJheSBvZiBzb3VyY2VzLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGxvYWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NPcmlnaW5dIC0gSXMgdGhpcyByZXF1ZXN0IGNyb3NzLW9yaWdpbj8gRGVmYXVsdCBpcyB0b1xuICAgICAqICAgICAgZGV0ZXJtaW5lIGF1dG9tYXRpY2FsbHkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnRpbWVvdXQ9MF0gLSBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgbG9hZC4gSWYgdGhlIGxvYWQgdGFrZXNcbiAgICAgKiAgICAgIGxvbmdlciB0aGFuIHRoaXMgdGltZSBpdCBpcyBjYW5jZWxsZWQgYW5kIHRoZSBsb2FkIGlzIGNvbnNpZGVyZWQgYSBmYWlsdXJlLiBJZiB0aGlzIHZhbHVlIGlzXG4gICAgICogICAgICBzZXQgdG8gYDBgIHRoZW4gdGhlcmUgaXMgbm8gZXhwbGljaXQgdGltZW91dC5cbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLkxPQURfVFlQRX0gW29wdGlvbnMubG9hZFR5cGU9UmVzb3VyY2UuTE9BRF9UWVBFLlhIUl0gLSBIb3cgc2hvdWxkIHRoaXMgcmVzb3VyY2VcbiAgICAgKiAgICAgIGJlIGxvYWRlZD9cbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSBbb3B0aW9ucy54aHJUeXBlPVJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRFRkFVTFRdIC0gSG93XG4gICAgICogICAgICBzaG91bGQgdGhlIGRhdGEgYmVpbmcgbG9hZGVkIGJlIGludGVycHJldGVkIHdoZW4gdXNpbmcgWEhSP1xuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuSU1ldGFkYXRhfSBbb3B0aW9ucy5tZXRhZGF0YV0gLSBFeHRyYSBjb25maWd1cmF0aW9uIGZvciBtaWRkbGV3YXJlIGFuZCB0aGUgUmVzb3VyY2Ugb2JqZWN0LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHVybCwgb3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnIHx8IHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JvdGggbmFtZSBhbmQgdXJsIGFyZSByZXF1aXJlZCBmb3IgY29uc3RydWN0aW5nIGEgcmVzb3VyY2UuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHN0YXRlIGZsYWdzIG9mIHRoaXMgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZsYWdzID0gMDtcblxuICAgICAgICAvLyBzZXQgZGF0YSB1cmwgZmxhZywgbmVlZHMgdG8gYmUgc2V0IGVhcmx5IGZvciBzb21lIF9kZXRlcm1pbmVYIGNoZWNrcyB0byB3b3JrLlxuICAgICAgICB0aGlzLl9zZXRGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5EQVRBX1VSTCwgdXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHVybCB1c2VkIHRvIGxvYWQgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZXh0ZW5zaW9uIHVzZWQgdG8gbG9hZCB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5leHRlbnNpb24gPSB0aGlzLl9nZXRFeHRlbnNpb24oKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRhdGEgdGhhdCB3YXMgbG9hZGVkIGJ5IHRoZSByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7YW55fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSXMgdGhpcyByZXF1ZXN0IGNyb3NzLW9yaWdpbj8gSWYgdW5zZXQsIGRldGVybWluZWQgYXV0b21hdGljYWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jcm9zc09yaWdpbiA9IG9wdGlvbnMuY3Jvc3NPcmlnaW4gPT09IHRydWUgPyAnYW5vbnltb3VzJyA6IG9wdGlvbnMuY3Jvc3NPcmlnaW47XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgZm9yIHRoZSBsb2FkLiBJZiB0aGUgbG9hZCB0YWtlcyBsb25nZXIgdGhhbiB0aGlzIHRpbWVcbiAgICAgICAgICogaXQgaXMgY2FuY2VsbGVkIGFuZCB0aGUgbG9hZCBpcyBjb25zaWRlcmVkIGEgZmFpbHVyZS4gSWYgdGhpcyB2YWx1ZSBpcyBzZXQgdG8gYDBgXG4gICAgICAgICAqIHRoZW4gdGhlcmUgaXMgbm8gZXhwbGljaXQgdGltZW91dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aW1lb3V0ID0gb3B0aW9ucy50aW1lb3V0IHx8IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtZXRob2Qgb2YgbG9hZGluZyB0byB1c2UgZm9yIHRoaXMgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1Jlc291cmNlLkxPQURfVFlQRX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubG9hZFR5cGUgPSBvcHRpb25zLmxvYWRUeXBlIHx8IHRoaXMuX2RldGVybWluZUxvYWRUeXBlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIHVzZWQgdG8gbG9hZCB0aGUgcmVzb3VyY2UgdmlhIFhIUi4gSWYgdW5zZXQsIGRldGVybWluZWQgYXV0b21hdGljYWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54aHJUeXBlID0gb3B0aW9ucy54aHJUeXBlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeHRyYSBpbmZvIGZvciBtaWRkbGV3YXJlLCBhbmQgY29udHJvbGxpbmcgc3BlY2lmaWNzIGFib3V0IGhvdyB0aGUgcmVzb3VyY2UgbG9hZHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIE5vdGUgdGhhdCBpZiB5b3UgcGFzcyBpbiBhIGBsb2FkRWxlbWVudGAsIHRoZSBSZXNvdXJjZSBjbGFzcyB0YWtlcyBvd25lcnNoaXAgb2YgaXQuXG4gICAgICAgICAqIE1lYW5pbmcgaXQgd2lsbCBtb2RpZnkgaXQgYXMgaXQgc2VlcyBmaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1Jlc291cmNlLklNZXRhZGF0YX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBvcHRpb25zLm1ldGFkYXRhIHx8IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZXJyb3IgdGhhdCBvY2N1cnJlZCB3aGlsZSBsb2FkaW5nIChpZiBhbnkpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7RXJyb3J9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVycm9yID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFhIUiBvYmplY3QgdGhhdCB3YXMgdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuIFRoaXMgaXMgb25seSBzZXRcbiAgICAgICAgICogd2hlbiBgbG9hZFR5cGVgIGlzIGBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge1hNTEh0dHBSZXF1ZXN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54aHIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2hpbGQgcmVzb3VyY2VzIHRoaXMgcmVzb3VyY2Ugb3ducy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge1Jlc291cmNlW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvdXJjZSB0eXBlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7UmVzb3VyY2UuVFlQRX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuVU5LTk9XTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHByb2dyZXNzIGNodW5rIG93bmVkIGJ5IHRoaXMgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb2dyZXNzQ2h1bmsgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYGRlcXVldWVgIG1ldGhvZCB0aGF0IHdpbGwgYmUgdXNlZCBhIHN0b3JhZ2UgcGxhY2UgZm9yIHRoZSBhc3luYyBxdWV1ZSBkZXF1ZXVlIG1ldGhvZFxuICAgICAgICAgKiB1c2VkIHByaXZhdGVseSBieSB0aGUgbG9hZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2RlcXVldWUgPSBfbm9vcDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBhIHN0b3JhZ2UgcGxhY2UgZm9yIHRoZSBvbiBsb2FkIGJpbmRpbmcgdXNlZCBwcml2YXRlbHkgYnkgdGhlIGxvYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vbkxvYWRCaW5kaW5nID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbWVyIGZvciBlbGVtZW50IGxvYWRzIHRvIGNoZWNrIGlmIHRoZXkgdGltZW91dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZWxlbWVudFRpbWVyID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBjb21wbGV0ZWAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRDb21wbGV0ZSA9IHRoaXMuY29tcGxldGUuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBfb25FcnJvcmAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRPbkVycm9yID0gdGhpcy5fb25FcnJvci5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYF9vblByb2dyZXNzYCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MgPSB0aGlzLl9vblByb2dyZXNzLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgX29uVGltZW91dGAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRPblRpbWVvdXQgPSB0aGlzLl9vblRpbWVvdXQuYmluZCh0aGlzKTtcblxuICAgICAgICAvLyB4aHIgY2FsbGJhY2tzXG4gICAgICAgIHRoaXMuX2JvdW5kWGhyT25FcnJvciA9IHRoaXMuX3hock9uRXJyb3IuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fYm91bmRYaHJPblRpbWVvdXQgPSB0aGlzLl94aHJPblRpbWVvdXQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fYm91bmRYaHJPbkFib3J0ID0gdGhpcy5feGhyT25BYm9ydC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9ib3VuZFhock9uTG9hZCA9IHRoaXMuX3hock9uTG9hZC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIHdoZW4gdGhlIHJlc291cmNlIGJlaW5ncyB0byBsb2FkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25TdGFydFNpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbDxSZXNvdXJjZS5PblN0YXJ0U2lnbmFsPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25TdGFydCA9IG5ldyBTaWduYWwoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCBlYWNoIHRpbWUgcHJvZ3Jlc3Mgb2YgdGhpcyByZXNvdXJjZSBsb2FkIHVwZGF0ZXMuXG4gICAgICAgICAqIE5vdCBhbGwgcmVzb3VyY2VzIHR5cGVzIGFuZCBsb2FkZXIgc3lzdGVtcyBjYW4gc3VwcG9ydCB0aGlzIGV2ZW50XG4gICAgICAgICAqIHNvIHNvbWV0aW1lcyBpdCBtYXkgbm90IGJlIGF2YWlsYWJsZS4gSWYgdGhlIHJlc291cmNlXG4gICAgICAgICAqIGlzIGJlaW5nIGxvYWRlZCBvbiBhIG1vZGVybiBicm93c2VyLCB1c2luZyBYSFIsIGFuZCB0aGUgcmVtb3RlIHNlcnZlclxuICAgICAgICAgKiBwcm9wZXJseSBzZXRzIENvbnRlbnQtTGVuZ3RoIGhlYWRlcnMsIHRoZW4gdGhpcyB3aWxsIGJlIGF2YWlsYWJsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uUHJvZ3Jlc3NTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWw8UmVzb3VyY2UuT25Qcm9ncmVzc1NpZ25hbD59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUHJvZ3Jlc3MgPSBuZXcgU2lnbmFsKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgb25jZSB0aGlzIHJlc291cmNlIGhhcyBsb2FkZWQsIGlmIHRoZXJlIHdhcyBhbiBlcnJvciBpdCB3aWxsXG4gICAgICAgICAqIGJlIGluIHRoZSBgZXJyb3JgIHByb3BlcnR5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbDxSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Db21wbGV0ZSA9IG5ldyBTaWduYWwoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCBhZnRlciB0aGlzIHJlc291cmNlIGhhcyBoYWQgYWxsIHRoZSAqYWZ0ZXIqIG1pZGRsZXdhcmUgcnVuIG9uIGl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbDxSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25BZnRlck1pZGRsZXdhcmUgPSBuZXcgU2lnbmFsKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgcmVzb3VyY2Ugc3RhcnRzIHRvIGxvYWQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICAgKiBAY2FsbGJhY2sgT25TdGFydFNpZ25hbFxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgcmVzb3VyY2UgcmVwb3J0cyBsb2FkaW5nIHByb2dyZXNzLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAgICogQGNhbGxiYWNrIE9uUHJvZ3Jlc3NTaWduYWxcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHRoZSBldmVudCBoYXBwZW5lZCBvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGVyY2VudGFnZSAtIFRoZSBwcm9ncmVzcyBvZiB0aGUgbG9hZCBpbiB0aGUgcmFuZ2UgWzAsIDFdLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgcmVzb3VyY2UgZmluaXNoZXMgbG9hZGluZy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBSZXNvdXJjZVxuICAgICAqIEBjYWxsYmFjayBPbkNvbXBsZXRlU2lnbmFsXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICAgKiBAdHlwZWRlZiB7b2JqZWN0fSBJTWV0YWRhdGFcbiAgICAgKiBAcHJvcGVydHkge0hUTUxJbWFnZUVsZW1lbnR8SFRNTEF1ZGlvRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBbbG9hZEVsZW1lbnQ9bnVsbF0gLSBUaGVcbiAgICAgKiAgICAgIGVsZW1lbnQgdG8gdXNlIGZvciBsb2FkaW5nLCBpbnN0ZWFkIG9mIGNyZWF0aW5nIG9uZS5cbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtza2lwU291cmNlPWZhbHNlXSAtIFNraXBzIGFkZGluZyBzb3VyY2UocykgdG8gdGhlIGxvYWQgZWxlbWVudC4gVGhpc1xuICAgICAqICAgICAgaXMgdXNlZnVsIGlmIHlvdSB3YW50IHRvIHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgIHRoYXQgeW91IGFscmVhZHkgYWRkZWQgbG9hZCBzb3VyY2VzIHRvLlxuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfHN0cmluZ1tdfSBbbWltZVR5cGVdIC0gVGhlIG1pbWUgdHlwZSB0byB1c2UgZm9yIHRoZSBzb3VyY2UgZWxlbWVudFxuICAgICAqICAgICAgb2YgYSB2aWRlby9hdWRpbyBlbG1lbnQuIElmIHRoZSB1cmxzIGFyZSBhbiBhcnJheSwgeW91IGNhbiBwYXNzIHRoaXMgYXMgYW4gYXJyYXkgYXMgd2VsbFxuICAgICAqICAgICAgd2hlcmUgZWFjaCBpbmRleCBpcyB0aGUgbWltZSB0eXBlIHRvIHVzZSBmb3IgdGhlIGNvcnJlc3BvbmRpbmcgdXJsIGluZGV4LlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogU3RvcmVzIHdoZXRoZXIgb3Igbm90IHRoaXMgdXJsIGlzIGEgZGF0YSB1cmwuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBpc0RhdGFVcmwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5EQVRBX1VSTCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzY3JpYmVzIGlmIHRoaXMgcmVzb3VyY2UgaGFzIGZpbmlzaGVkIGxvYWRpbmcuIElzIHRydWUgd2hlbiB0aGUgcmVzb3VyY2UgaGFzIGNvbXBsZXRlbHlcbiAgICAgKiBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBpc0NvbXBsZXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuQ09NUExFVEUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlcyBpZiB0aGlzIHJlc291cmNlIGlzIGN1cnJlbnRseSBsb2FkaW5nLiBJcyB0cnVlIHdoZW4gdGhlIHJlc291cmNlIHN0YXJ0cyBsb2FkaW5nLFxuICAgICAqIGFuZCBpcyBmYWxzZSBhZ2FpbiB3aGVuIGNvbXBsZXRlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgaXNMb2FkaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuTE9BRElORyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFya3MgdGhlIHJlc291cmNlIGFzIGNvbXBsZXRlLlxuICAgICAqXG4gICAgICovXG4gICAgY29tcGxldGUoKSB7XG4gICAgICAgIHRoaXMuX2NsZWFyRXZlbnRzKCk7XG4gICAgICAgIHRoaXMuX2ZpbmlzaCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFib3J0cyB0aGUgbG9hZGluZyBvZiB0aGlzIHJlc291cmNlLCB3aXRoIGFuIG9wdGlvbmFsIG1lc3NhZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIFRoZSBtZXNzYWdlIHRvIHVzZSBmb3IgdGhlIGVycm9yXG4gICAgICovXG4gICAgYWJvcnQobWVzc2FnZSkge1xuICAgICAgICAvLyBhYm9ydCBjYW4gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzLCBpZ25vcmUgc3Vic2VxdWVudCBjYWxscy5cbiAgICAgICAgaWYgKHRoaXMuZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0b3JlIGVycm9yXG4gICAgICAgIHRoaXMuZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG5cbiAgICAgICAgLy8gY2xlYXIgZXZlbnRzIGJlZm9yZSBjYWxsaW5nIGFib3J0c1xuICAgICAgICB0aGlzLl9jbGVhckV2ZW50cygpO1xuXG4gICAgICAgIC8vIGFib3J0IHRoZSBhY3R1YWwgbG9hZGluZ1xuICAgICAgICBpZiAodGhpcy54aHIpIHtcbiAgICAgICAgICAgIHRoaXMueGhyLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy54ZHIpIHtcbiAgICAgICAgICAgIHRoaXMueGRyLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5kYXRhKSB7XG4gICAgICAgICAgICAvLyBzaW5nbGUgc291cmNlXG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhLnNyYykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zcmMgPSBSZXNvdXJjZS5FTVBUWV9HSUY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBtdWx0aS1zb3VyY2VcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLmRhdGEuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlQ2hpbGQodGhpcy5kYXRhLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRvbmUgbm93LlxuICAgICAgICB0aGlzLl9maW5pc2goKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBLaWNrcyBvZmYgbG9hZGluZyBvZiB0aGlzIHJlc291cmNlLiBUaGlzIG1ldGhvZCBpcyBhc3luY2hyb25vdXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLk9uQ29tcGxldGVTaWduYWx9IFtjYl0gLSBPcHRpb25hbCBjYWxsYmFjayB0byBjYWxsIG9uY2UgdGhlIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKi9cbiAgICBsb2FkKGNiKSB7XG4gICAgICAgIGlmICh0aGlzLmlzTG9hZGluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBjYih0aGlzKSwgMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjYikge1xuICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlLm9uY2UoY2IpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuTE9BRElORywgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5vblN0YXJ0LmRpc3BhdGNoKHRoaXMpO1xuXG4gICAgICAgIC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG4gICAgICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luID09PSBmYWxzZSB8fCB0eXBlb2YgdGhpcy5jcm9zc09yaWdpbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMuY3Jvc3NPcmlnaW4gPSB0aGlzLl9kZXRlcm1pbmVDcm9zc09yaWdpbih0aGlzLnVybCk7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHRoaXMubG9hZFR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFOlxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuSU1BR0U7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZEVsZW1lbnQoJ2ltYWdlJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPOlxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuQVVESU87XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZFNvdXJjZUVsZW1lbnQoJ2F1ZGlvJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLlZJREVPOlxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuVklERU87XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZFNvdXJjZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUjpcbiAgICAgICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGlmICh1c2VYZHIgJiYgdGhpcy5jcm9zc09yaWdpbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2FkWGRyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2FkWGhyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBmbGFnIGlzIHNldC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZsYWcgLSBUaGUgZmxhZyB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBmbGFnIGlzIHNldC5cbiAgICAgKi9cbiAgICBfaGFzRmxhZyhmbGFnKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiBmbGFnKSAhPT0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAoVW4pU2V0cyB0aGUgZmxhZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZsYWcgLSBUaGUgZmxhZyB0byAodW4pc2V0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBXaGV0aGVyIHRvIHNldCBvciAodW4pc2V0IHRoZSBmbGFnLlxuICAgICAqL1xuICAgIF9zZXRGbGFnKGZsYWcsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2ZsYWdzID0gdmFsdWUgPyAodGhpcy5fZmxhZ3MgfCBmbGFnKSA6ICh0aGlzLl9mbGFncyAmIH5mbGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgYWxsIHRoZSBldmVudHMgZnJvbSB0aGUgdW5kZXJseWluZyBsb2FkaW5nIHNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NsZWFyRXZlbnRzKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fZWxlbWVudFRpbWVyKTtcblxuICAgICAgICBpZiAodGhpcy5kYXRhICYmIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZE9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy54aHIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZFhock9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCd0aW1lb3V0JywgdGhpcy5fYm91bmRYaHJPblRpbWVvdXQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kWGhyT25Mb2FkLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5vbnRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLm9ucHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5hbGl6ZXMgdGhlIGxvYWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9maW5pc2goKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ29tcGxldGUgY2FsbGVkIGFnYWluIGZvciBhbiBhbHJlYWR5IGNvbXBsZXRlZCByZXNvdXJjZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkNPTVBMRVRFLCB0cnVlKTtcbiAgICAgICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuTE9BRElORywgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMub25Db21wbGV0ZS5kaXNwYXRjaCh0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBlbGVtZW50IHRoYXQgaGFzIGEgc2luZ2xlIHNvdXJjZSxcbiAgICAgKiBsaWtlIGFuIEhUTUxJbWFnZUVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIHR5cGUgb2YgZWxlbWVudCB0byB1c2UuXG4gICAgICovXG4gICAgX2xvYWRFbGVtZW50KHR5cGUpIHtcbiAgICAgICAgaWYgKHRoaXMubWV0YWRhdGEubG9hZEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMubWV0YWRhdGEubG9hZEVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ2ltYWdlJyAmJiB0eXBlb2Ygd2luZG93LkltYWdlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gbmV3IEltYWdlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5jcm9zc09yaWdpbiA9IHRoaXMuY3Jvc3NPcmlnaW47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMubWV0YWRhdGEuc2tpcFNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5kYXRhLnNyYyA9IHRoaXMudXJsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcblxuICAgICAgICBpZiAodGhpcy50aW1lb3V0KSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50VGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuX2JvdW5kT25UaW1lb3V0LCB0aGlzLnRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gZWxlbWVudCB0aGF0IGhhcyBtdWx0aXBsZSBzb3VyY2VzLFxuICAgICAqIGxpa2UgYW4gSFRNTEF1ZGlvRWxlbWVudCBvciBIVE1MVmlkZW9FbGVtZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSB0eXBlIG9mIGVsZW1lbnQgdG8gdXNlLlxuICAgICAqL1xuICAgIF9sb2FkU291cmNlRWxlbWVudCh0eXBlKSB7XG4gICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICdhdWRpbycgJiYgdHlwZW9mIHdpbmRvdy5BdWRpbyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5ldyBBdWRpbygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnQoYFVuc3VwcG9ydGVkIGVsZW1lbnQ6ICR7dHlwZX1gKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5jcm9zc09yaWdpbiA9IHRoaXMuY3Jvc3NPcmlnaW47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMubWV0YWRhdGEuc2tpcFNvdXJjZSkge1xuICAgICAgICAgICAgLy8gc3VwcG9ydCBmb3IgQ29jb29uSlMgQ2FudmFzKyBydW50aW1lLCBsYWNrcyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKVxuICAgICAgICAgICAgaWYgKG5hdmlnYXRvci5pc0NvY29vbkpTKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLnNyYyA9IEFycmF5LmlzQXJyYXkodGhpcy51cmwpID8gdGhpcy51cmxbMF0gOiB0aGlzLnVybDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodGhpcy51cmwpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWltZVR5cGVzID0gdGhpcy5tZXRhZGF0YS5taW1lVHlwZTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy51cmwubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLmFwcGVuZENoaWxkKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3JlYXRlU291cmNlKHR5cGUsIHRoaXMudXJsW2ldLCBBcnJheS5pc0FycmF5KG1pbWVUeXBlcykgPyBtaW1lVHlwZXNbaV0gOiBtaW1lVHlwZXMpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWltZVR5cGVzID0gdGhpcy5tZXRhZGF0YS5taW1lVHlwZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5hcHBlbmRDaGlsZChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3JlYXRlU291cmNlKHR5cGUsIHRoaXMudXJsLCBBcnJheS5pc0FycmF5KG1pbWVUeXBlcykgPyBtaW1lVHlwZXNbMF0gOiBtaW1lVHlwZXMpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLmRhdGEubG9hZCgpO1xuXG4gICAgICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRUaW1lciA9IHNldFRpbWVvdXQodGhpcy5fYm91bmRPblRpbWVvdXQsIHRoaXMudGltZW91dCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBYTUxIdHRwUmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2xvYWRYaHIoKSB7XG4gICAgICAgIC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy54aHJUeXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy54aHJUeXBlID0gdGhpcy5fZGV0ZXJtaW5lWGhyVHlwZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeGhyID0gdGhpcy54aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgICAgICAvLyBzZXQgdGhlIHJlcXVlc3QgdHlwZSBhbmQgdXJsXG4gICAgICAgIHhoci5vcGVuKCdHRVQnLCB0aGlzLnVybCwgdHJ1ZSk7XG5cbiAgICAgICAgeGhyLnRpbWVvdXQgPSB0aGlzLnRpbWVvdXQ7XG5cbiAgICAgICAgLy8gbG9hZCBqc29uIGFzIHRleHQgYW5kIHBhcnNlIGl0IG91cnNlbHZlcy4gV2UgZG8gdGhpcyBiZWNhdXNlIHNvbWUgYnJvd3NlcnNcbiAgICAgICAgLy8gKmNvdWdoKiBzYWZhcmkgKmNvdWdoKiBjYW4ndCBkZWFsIHdpdGggaXQuXG4gICAgICAgIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04gfHwgdGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCkge1xuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gdGhpcy54aHJUeXBlO1xuICAgICAgICB9XG5cbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRYaHJPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCd0aW1lb3V0JywgdGhpcy5fYm91bmRYaHJPblRpbWVvdXQsIGZhbHNlKTtcbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgdGhpcy5fYm91bmRYaHJPbkFib3J0LCBmYWxzZSk7XG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kWGhyT25Mb2FkLCBmYWxzZSk7XG5cbiAgICAgICAgeGhyLnNlbmQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBYRG9tYWluUmVxdWVzdC4gVGhpcyBpcyBoZXJlIGJlY2F1c2Ugd2UgbmVlZCB0byBzdXBwb3J0IElFOSAoZ3Jvc3MpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfbG9hZFhkcigpIHtcbiAgICAgICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnhoclR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLnhoclR5cGUgPSB0aGlzLl9kZXRlcm1pbmVYaHJUeXBlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB4ZHIgPSB0aGlzLnhociA9IG5ldyBYRG9tYWluUmVxdWVzdCgpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cbiAgICAgICAgLy8gWERvbWFpblJlcXVlc3QgaGFzIGEgZmV3IHF1aXJrcy4gT2NjYXNpb25hbGx5IGl0IHdpbGwgYWJvcnQgcmVxdWVzdHNcbiAgICAgICAgLy8gQSB3YXkgdG8gYXZvaWQgdGhpcyBpcyB0byBtYWtlIHN1cmUgQUxMIGNhbGxiYWNrcyBhcmUgc2V0IGV2ZW4gaWYgbm90IHVzZWRcbiAgICAgICAgLy8gTW9yZSBpbmZvIGhlcmU6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTU3ODY5NjYveGRvbWFpbnJlcXVlc3QtYWJvcnRzLXBvc3Qtb24taWUtOVxuICAgICAgICB4ZHIudGltZW91dCA9IHRoaXMudGltZW91dCB8fCA1MDAwOyAvLyBYRFIgbmVlZHMgYSB0aW1lb3V0IHZhbHVlIG9yIGl0IGJyZWFrcyBpbiBJRTlcblxuICAgICAgICB4ZHIub25lcnJvciA9IHRoaXMuX2JvdW5kWGhyT25FcnJvcjtcbiAgICAgICAgeGRyLm9udGltZW91dCA9IHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0O1xuICAgICAgICB4ZHIub25wcm9ncmVzcyA9IHRoaXMuX2JvdW5kT25Qcm9ncmVzcztcbiAgICAgICAgeGRyLm9ubG9hZCA9IHRoaXMuX2JvdW5kWGhyT25Mb2FkO1xuXG4gICAgICAgIHhkci5vcGVuKCdHRVQnLCB0aGlzLnVybCwgdHJ1ZSk7XG5cbiAgICAgICAgLy8gTm90ZTogVGhlIHhkci5zZW5kKCkgY2FsbCBpcyB3cmFwcGVkIGluIGEgdGltZW91dCB0byBwcmV2ZW50IGFuXG4gICAgICAgIC8vIGlzc3VlIHdpdGggdGhlIGludGVyZmFjZSB3aGVyZSBzb21lIHJlcXVlc3RzIGFyZSBsb3N0IGlmIG11bHRpcGxlXG4gICAgICAgIC8vIFhEb21haW5SZXF1ZXN0cyBhcmUgYmVpbmcgc2VudCBhdCB0aGUgc2FtZSB0aW1lLlxuICAgICAgICAvLyBTb21lIGluZm8gaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL3Bob3RvbnN0b3JtL3BoYXNlci9pc3N1ZXMvMTI0OFxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHhkci5zZW5kKCksIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzb3VyY2UgdXNlZCBpbiBsb2FkaW5nIHZpYSBhbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSBlbGVtZW50IHR5cGUgKHZpZGVvIG9yIGF1ZGlvKS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHNvdXJjZSBVUkwgdG8gbG9hZCBmcm9tLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbWltZV0gLSBUaGUgbWltZSB0eXBlIG9mIHRoZSB2aWRlb1xuICAgICAqIEByZXR1cm4ge0hUTUxTb3VyY2VFbGVtZW50fSBUaGUgc291cmNlIGVsZW1lbnQuXG4gICAgICovXG4gICAgX2NyZWF0ZVNvdXJjZSh0eXBlLCB1cmwsIG1pbWUpIHtcbiAgICAgICAgaWYgKCFtaW1lKSB7XG4gICAgICAgICAgICBtaW1lID0gYCR7dHlwZX0vJHt0aGlzLl9nZXRFeHRlbnNpb24odXJsKX1gO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc291cmNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7XG5cbiAgICAgICAgc291cmNlLnNyYyA9IHVybDtcbiAgICAgICAgc291cmNlLnR5cGUgPSBtaW1lO1xuXG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGEgbG9hZCBlcnJvcnMgb3V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBUaGUgZXJyb3IgZXZlbnQgZnJvbSB0aGUgZWxlbWVudCB0aGF0IGVtaXRzIGl0LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uRXJyb3IoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5hYm9ydChgRmFpbGVkIHRvIGxvYWQgZWxlbWVudCB1c2luZzogJHtldmVudC50YXJnZXQubm9kZU5hbWV9YCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGEgbG9hZCBwcm9ncmVzcyBldmVudCBmaXJlcyBmb3IgYW4gZWxlbWVudCBvciB4aHIveGRyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0UHJvZ3Jlc3NFdmVudHxFdmVudH0gZXZlbnQgLSBQcm9ncmVzcyBldmVudC5cbiAgICAgKi9cbiAgICBfb25Qcm9ncmVzcyhldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQgJiYgZXZlbnQubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgICAgICAgdGhpcy5vblByb2dyZXNzLmRpc3BhdGNoKHRoaXMsIGV2ZW50LmxvYWRlZCAvIGV2ZW50LnRvdGFsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhIHRpbWVvdXQgZXZlbnQgZmlyZXMgZm9yIGFuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vblRpbWVvdXQoKSB7XG4gICAgICAgIHRoaXMuYWJvcnQoYExvYWQgdGltZWQgb3V0LmApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhbiBlcnJvciBldmVudCBmaXJlcyBmb3IgeGhyL3hkci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3hock9uRXJyb3IoKSB7XG4gICAgICAgIGNvbnN0IHhociA9IHRoaXMueGhyO1xuXG4gICAgICAgIHRoaXMuYWJvcnQoYCR7cmVxVHlwZSh4aHIpfSBSZXF1ZXN0IGZhaWxlZC4gU3RhdHVzOiAke3hoci5zdGF0dXN9LCB0ZXh0OiBcIiR7eGhyLnN0YXR1c1RleHR9XCJgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgYW4gZXJyb3IgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF94aHJPblRpbWVvdXQoKSB7XG4gICAgICAgIGNvbnN0IHhociA9IHRoaXMueGhyO1xuXG4gICAgICAgIHRoaXMuYWJvcnQoYCR7cmVxVHlwZSh4aHIpfSBSZXF1ZXN0IHRpbWVkIG91dC5gKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgYW4gYWJvcnQgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF94aHJPbkFib3J0KCkge1xuICAgICAgICBjb25zdCB4aHIgPSB0aGlzLnhocjtcblxuICAgICAgICB0aGlzLmFib3J0KGAke3JlcVR5cGUoeGhyKX0gUmVxdWVzdCB3YXMgYWJvcnRlZCBieSB0aGUgdXNlci5gKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBkYXRhIHN1Y2Nlc3NmdWxseSBsb2FkcyBmcm9tIGFuIHhoci94ZHIgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdExvYWRFdmVudHxFdmVudH0gZXZlbnQgLSBMb2FkIGV2ZW50XG4gICAgICovXG4gICAgX3hock9uTG9hZCgpIHtcbiAgICAgICAgY29uc3QgeGhyID0gdGhpcy54aHI7XG4gICAgICAgIGxldCB0ZXh0ID0gJyc7XG4gICAgICAgIGxldCBzdGF0dXMgPSB0eXBlb2YgeGhyLnN0YXR1cyA9PT0gJ3VuZGVmaW5lZCcgPyBTVEFUVVNfT0sgOiB4aHIuc3RhdHVzOyAvLyBYRFIgaGFzIG5vIGAuc3RhdHVzYCwgYXNzdW1lIDIwMC5cblxuICAgICAgICAvLyByZXNwb25zZVRleHQgaXMgYWNjZXNzaWJsZSBvbmx5IGlmIHJlc3BvbnNlVHlwZSBpcyAnJyBvciAndGV4dCcgYW5kIG9uIG9sZGVyIGJyb3dzZXJzXG4gICAgICAgIGlmICh4aHIucmVzcG9uc2VUeXBlID09PSAnJyB8fCB4aHIucmVzcG9uc2VUeXBlID09PSAndGV4dCcgfHwgdHlwZW9mIHhoci5yZXNwb25zZVR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0ZXh0ID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0YXR1cyBjYW4gYmUgMCB3aGVuIHVzaW5nIHRoZSBgZmlsZTovL2AgcHJvdG9jb2wgc28gd2UgYWxzbyBjaGVjayBpZiBhIHJlc3BvbnNlIGlzIHNldC5cbiAgICAgICAgLy8gSWYgaXQgaGFzIGEgcmVzcG9uc2UsIHdlIGFzc3VtZSAyMDA7IG90aGVyd2lzZSBhIDAgc3RhdHVzIGNvZGUgd2l0aCBubyBjb250ZW50cyBpcyBhbiBhYm9ydGVkIHJlcXVlc3QuXG4gICAgICAgIGlmIChzdGF0dXMgPT09IFNUQVRVU19OT05FICYmICh0ZXh0Lmxlbmd0aCA+IDAgfHwgeGhyLnJlc3BvbnNlVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSKSkge1xuICAgICAgICAgICAgc3RhdHVzID0gU1RBVFVTX09LO1xuICAgICAgICB9XG4gICAgICAgIC8vIGhhbmRsZSBJRTkgYnVnOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEwMDQ2OTcyL21zaWUtcmV0dXJucy1zdGF0dXMtY29kZS1vZi0xMjIzLWZvci1hamF4LXJlcXVlc3RcbiAgICAgICAgZWxzZSBpZiAoc3RhdHVzID09PSBTVEFUVVNfSUVfQlVHX0VNUFRZKSB7XG4gICAgICAgICAgICBzdGF0dXMgPSBTVEFUVVNfRU1QVFk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdGF0dXNUeXBlID0gKHN0YXR1cyAvIDEwMCkgfCAwO1xuXG4gICAgICAgIGlmIChzdGF0dXNUeXBlID09PSBTVEFUVVNfVFlQRV9PSykge1xuICAgICAgICAgICAgLy8gaWYgdGV4dCwganVzdCByZXR1cm4gaXRcbiAgICAgICAgICAgIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB0ZXh0O1xuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuVEVYVDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIGpzb24sIHBhcnNlIGludG8ganNvbiBvYmplY3RcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuSlNPTjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYm9ydChgRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGxvYWRlZCBqc29uOiAke2V9YCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHhtbCwgcGFyc2UgaW50byBhbiB4bWwgZG9jdW1lbnQgb3IgZGl2IGVsZW1lbnRcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LkRPTVBhcnNlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZG9tcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkb21wYXJzZXIucGFyc2VGcm9tU3RyaW5nKHRleHQsICd0ZXh0L3htbCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSB0ZXh0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkaXY7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlhNTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hYm9ydChgRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGxvYWRlZCB4bWw6ICR7ZX1gKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb3RoZXIgdHlwZXMganVzdCByZXR1cm4gdGhlIHJlc3BvbnNlXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB4aHIucmVzcG9uc2UgfHwgdGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnQoYFske3hoci5zdGF0dXN9XSAke3hoci5zdGF0dXNUZXh0fTogJHt4aHIucmVzcG9uc2VVUkx9YCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBgY3Jvc3NPcmlnaW5gIHByb3BlcnR5IGZvciB0aGlzIHJlc291cmNlIGJhc2VkIG9uIGlmIHRoZSB1cmxcbiAgICAgKiBmb3IgdGhpcyByZXNvdXJjZSBpcyBjcm9zcy1vcmlnaW4uIElmIGNyb3NzT3JpZ2luIHdhcyBtYW51YWxseSBzZXQsIHRoaXNcbiAgICAgKiBmdW5jdGlvbiBkb2VzIG5vdGhpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHRlc3QuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtsb2M9d2luZG93LmxvY2F0aW9uXSAtIFRoZSBsb2NhdGlvbiBvYmplY3QgdG8gdGVzdCBhZ2FpbnN0LlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNyb3NzT3JpZ2luIHZhbHVlIHRvIHVzZSAob3IgZW1wdHkgc3RyaW5nIGZvciBub25lKS5cbiAgICAgKi9cbiAgICBfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odXJsLCBsb2MpIHtcbiAgICAgICAgLy8gZGF0YTogYW5kIGphdmFzY3JpcHQ6IHVybHMgYXJlIGNvbnNpZGVyZWQgc2FtZS1vcmlnaW5cbiAgICAgICAgaWYgKHVybC5pbmRleE9mKCdkYXRhOicpID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBIHNhbmRib3hlZCBpZnJhbWUgd2l0aG91dCB0aGUgJ2FsbG93LXNhbWUtb3JpZ2luJyBhdHRyaWJ1dGUgd2lsbCBoYXZlIGEgc3BlY2lhbFxuICAgICAgICAvLyBvcmlnaW4gZGVzaWduZWQgbm90IHRvIG1hdGNoIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4sIGFuZCB3aWxsIGFsd2F5cyByZXF1aXJlXG4gICAgICAgIC8vIGNyb3NzT3JpZ2luIHJlcXVlc3RzIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGUgbG9jYXRpb24gbWF0Y2hlcy5cbiAgICAgICAgaWYgKHdpbmRvdy5vcmlnaW4gIT09IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pIHtcbiAgICAgICAgICAgIHJldHVybiAnYW5vbnltb3VzJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRlZmF1bHQgaXMgd2luZG93LmxvY2F0aW9uXG4gICAgICAgIGxvYyA9IGxvYyB8fCB3aW5kb3cubG9jYXRpb247XG5cbiAgICAgICAgaWYgKCF0ZW1wQW5jaG9yKSB7XG4gICAgICAgICAgICB0ZW1wQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGV0IHRoZSBicm93c2VyIGRldGVybWluZSB0aGUgZnVsbCBocmVmIGZvciB0aGUgdXJsIG9mIHRoaXMgcmVzb3VyY2UgYW5kIHRoZW5cbiAgICAgICAgLy8gcGFyc2Ugd2l0aCB0aGUgbm9kZSB1cmwgbGliLCB3ZSBjYW4ndCB1c2UgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGFuY2hvciBlbGVtZW50XG4gICAgICAgIC8vIGJlY2F1c2UgdGhleSBkb24ndCB3b3JrIGluIElFOSA6KFxuICAgICAgICB0ZW1wQW5jaG9yLmhyZWYgPSB1cmw7XG4gICAgICAgIHVybCA9IHBhcnNlVXJpKHRlbXBBbmNob3IuaHJlZiwgeyBzdHJpY3RNb2RlOiB0cnVlIH0pO1xuXG4gICAgICAgIGNvbnN0IHNhbWVQb3J0ID0gKCF1cmwucG9ydCAmJiBsb2MucG9ydCA9PT0gJycpIHx8ICh1cmwucG9ydCA9PT0gbG9jLnBvcnQpO1xuICAgICAgICBjb25zdCBwcm90b2NvbCA9IHVybC5wcm90b2NvbCA/IGAke3VybC5wcm90b2NvbH06YCA6ICcnO1xuXG4gICAgICAgIC8vIGlmIGNyb3NzIG9yaWdpblxuICAgICAgICBpZiAodXJsLmhvc3QgIT09IGxvYy5ob3N0bmFtZSB8fCAhc2FtZVBvcnQgfHwgcHJvdG9jb2wgIT09IGxvYy5wcm90b2NvbCkge1xuICAgICAgICAgICAgcmV0dXJuICdhbm9ueW1vdXMnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgdGhlIHJlc3BvbnNlVHlwZSBvZiBhbiBYSFIgcmVxdWVzdCBiYXNlZCBvbiB0aGUgZXh0ZW5zaW9uIG9mIHRoZVxuICAgICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFRoZSByZXNwb25zZVR5cGUgdG8gdXNlLlxuICAgICAqL1xuICAgIF9kZXRlcm1pbmVYaHJUeXBlKCkge1xuICAgICAgICByZXR1cm4gUmVzb3VyY2UuX3hoclR5cGVNYXBbdGhpcy5leHRlbnNpb25dIHx8IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB0aGUgbG9hZFR5cGUgb2YgYSByZXNvdXJjZSBiYXNlZCBvbiB0aGUgZXh0ZW5zaW9uIG9mIHRoZVxuICAgICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7UmVzb3VyY2UuTE9BRF9UWVBFfSBUaGUgbG9hZFR5cGUgdG8gdXNlLlxuICAgICAqL1xuICAgIF9kZXRlcm1pbmVMb2FkVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFJlc291cmNlLl9sb2FkVHlwZU1hcFt0aGlzLmV4dGVuc2lvbl0gfHwgUmVzb3VyY2UuTE9BRF9UWVBFLlhIUjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyB0aGUgZXh0ZW5zaW9uIChzYW5zICcuJykgb2YgdGhlIGZpbGUgYmVpbmcgbG9hZGVkIGJ5IHRoZSByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgZXh0ZW5zaW9uLlxuICAgICAqL1xuICAgIF9nZXRFeHRlbnNpb24oKSB7XG4gICAgICAgIGxldCB1cmwgPSB0aGlzLnVybDtcbiAgICAgICAgbGV0IGV4dCA9ICcnO1xuXG4gICAgICAgIGlmICh0aGlzLmlzRGF0YVVybCkge1xuICAgICAgICAgICAgY29uc3Qgc2xhc2hJbmRleCA9IHVybC5pbmRleE9mKCcvJyk7XG5cbiAgICAgICAgICAgIGV4dCA9IHVybC5zdWJzdHJpbmcoc2xhc2hJbmRleCArIDEsIHVybC5pbmRleE9mKCc7Jywgc2xhc2hJbmRleCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcXVlcnlTdGFydCA9IHVybC5pbmRleE9mKCc/Jyk7XG4gICAgICAgICAgICBjb25zdCBoYXNoU3RhcnQgPSB1cmwuaW5kZXhPZignIycpO1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBNYXRoLm1pbihcbiAgICAgICAgICAgICAgICBxdWVyeVN0YXJ0ID4gLTEgPyBxdWVyeVN0YXJ0IDogdXJsLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBoYXNoU3RhcnQgPiAtMSA/IGhhc2hTdGFydCA6IHVybC5sZW5ndGhcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHVybCA9IHVybC5zdWJzdHJpbmcoMCwgaW5kZXgpO1xuICAgICAgICAgICAgZXh0ID0gdXJsLnN1YnN0cmluZyh1cmwubGFzdEluZGV4T2YoJy4nKSArIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgdGhlIG1pbWUgdHlwZSBvZiBhbiBYSFIgcmVxdWVzdCBiYXNlZCBvbiB0aGUgcmVzcG9uc2VUeXBlIG9mXG4gICAgICogcmVzb3VyY2UgYmVpbmcgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSB0eXBlIC0gVGhlIHR5cGUgdG8gZ2V0IGEgbWltZSB0eXBlIGZvci5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBtaW1lIHR5cGUgdG8gdXNlLlxuICAgICAqL1xuICAgIF9nZXRNaW1lRnJvbVhoclR5cGUodHlwZSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSOlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vb2N0ZXQtYmluYXJ5JztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9COlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vYmxvYic7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi94bWwnO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT046XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9qc29uJztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ERUZBVUxUOlxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUOlxuICAgICAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0ZXh0L3BsYWluJztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgdHlwZXMgb2YgcmVzb3VyY2VzIGEgcmVzb3VyY2UgY291bGQgcmVwcmVzZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuUmVzb3VyY2UuU1RBVFVTX0ZMQUdTID0ge1xuICAgIE5PTkU6ICAgICAgIDAsXG4gICAgREFUQV9VUkw6ICAgKDEgPDwgMCksXG4gICAgQ09NUExFVEU6ICAgKDEgPDwgMSksXG4gICAgTE9BRElORzogICAgKDEgPDwgMiksXG59O1xuXG4vKipcbiAqIFRoZSB0eXBlcyBvZiByZXNvdXJjZXMgYSByZXNvdXJjZSBjb3VsZCByZXByZXNlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5SZXNvdXJjZS5UWVBFID0ge1xuICAgIFVOS05PV046ICAgIDAsXG4gICAgSlNPTjogICAgICAgMSxcbiAgICBYTUw6ICAgICAgICAyLFxuICAgIElNQUdFOiAgICAgIDMsXG4gICAgQVVESU86ICAgICAgNCxcbiAgICBWSURFTzogICAgICA1LFxuICAgIFRFWFQ6ICAgICAgIDYsXG59O1xuXG4vKipcbiAqIFRoZSB0eXBlcyBvZiBsb2FkaW5nIGEgcmVzb3VyY2UgY2FuIHVzZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblJlc291cmNlLkxPQURfVFlQRSA9IHtcbiAgICAvKiogVXNlcyBYTUxIdHRwUmVxdWVzdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICBYSFI6ICAgIDEsXG4gICAgLyoqIFVzZXMgYW4gYEltYWdlYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gICAgSU1BR0U6ICAyLFxuICAgIC8qKiBVc2VzIGFuIGBBdWRpb2Agb2JqZWN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICAgIEFVRElPOiAgMyxcbiAgICAvKiogVXNlcyBhIGBWaWRlb2Agb2JqZWN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICAgIFZJREVPOiAgNCxcbn07XG5cbi8qKlxuICogVGhlIFhIUiByZWFkeSBzdGF0ZXMsIHVzZWQgaW50ZXJuYWxseS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cblJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFID0ge1xuICAgIC8qKiBzdHJpbmcgKi9cbiAgICBERUZBVUxUOiAgICAndGV4dCcsXG4gICAgLyoqIEFycmF5QnVmZmVyICovXG4gICAgQlVGRkVSOiAgICAgJ2FycmF5YnVmZmVyJyxcbiAgICAvKiogQmxvYiAqL1xuICAgIEJMT0I6ICAgICAgICdibG9iJyxcbiAgICAvKiogRG9jdW1lbnQgKi9cbiAgICBET0NVTUVOVDogICAnZG9jdW1lbnQnLFxuICAgIC8qKiBPYmplY3QgKi9cbiAgICBKU09OOiAgICAgICAnanNvbicsXG4gICAgLyoqIFN0cmluZyAqL1xuICAgIFRFWFQ6ICAgICAgICd0ZXh0Jyxcbn07XG5cblJlc291cmNlLl9sb2FkVHlwZU1hcCA9IHtcbiAgICAvLyBpbWFnZXNcbiAgICBnaWY6ICAgICAgICBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgcG5nOiAgICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIGJtcDogICAgICAgIFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBqcGc6ICAgICAgICBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAganBlZzogICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIHRpZjogICAgICAgIFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICB0aWZmOiAgICAgICBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgd2VicDogICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIHRnYTogICAgICAgIFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICBzdmc6ICAgICAgICBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgJ3N2Zyt4bWwnOiAgUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLCAvLyBmb3IgU1ZHIGRhdGEgdXJsc1xuXG4gICAgLy8gYXVkaW9cbiAgICBtcDM6ICAgICAgICBSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG4gICAgb2dnOiAgICAgICAgUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPLFxuICAgIHdhdjogICAgICAgIFJlc291cmNlLkxPQURfVFlQRS5BVURJTyxcblxuICAgIC8vIHZpZGVvc1xuICAgIG1wNDogICAgICAgIFJlc291cmNlLkxPQURfVFlQRS5WSURFTyxcbiAgICB3ZWJtOiAgICAgICBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU8sXG59O1xuXG5SZXNvdXJjZS5feGhyVHlwZU1hcCA9IHtcbiAgICAvLyB4bWxcbiAgICB4aHRtbDogICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICBodG1sOiAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICBodG06ICAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICB4bWw6ICAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICB0bXg6ICAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICBzdmc6ICAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcblxuICAgIC8vIFRoaXMgd2FzIGFkZGVkIHRvIGhhbmRsZSBUaWxlZCBUaWxlc2V0IFhNTCwgYnV0IC50c3ggaXMgYWxzbyBhIFR5cGVTY3JpcHQgUmVhY3QgQ29tcG9uZW50LlxuICAgIC8vIFNpbmNlIGl0IGlzIHdheSBsZXNzIGxpa2VseSBmb3IgcGVvcGxlIHRvIGJlIGxvYWRpbmcgVHlwZVNjcmlwdCBmaWxlcyBpbnN0ZWFkIG9mIFRpbGVkIGZpbGVzLFxuICAgIC8vIHRoaXMgc2hvdWxkIHByb2JhYmx5IGJlIGZpbmUuXG4gICAgdHN4OiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG5cbiAgICAvLyBpbWFnZXNcbiAgICBnaWY6ICAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHBuZzogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgYm1wOiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICBqcGc6ICAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIGpwZWc6ICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgdGlmOiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICB0aWZmOiAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHdlYnA6ICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgdGdhOiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcblxuICAgIC8vIGpzb25cbiAgICBqc29uOiAgICAgICBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OLFxuXG4gICAgLy8gdGV4dFxuICAgIHRleHQ6ICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQsXG4gICAgdHh0OiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCxcblxuICAgIC8vIGZvbnRzXG4gICAgdHRmOiAgICAgICAgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSLFxuICAgIG90ZjogICAgICAgIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUixcbn07XG5cbi8vIFdlIGNhbid0IHNldCB0aGUgYHNyY2AgYXR0cmlidXRlIHRvIGVtcHR5IHN0cmluZywgc28gb24gYWJvcnQgd2Ugc2V0IGl0IHRvIHRoaXMgMXB4IHRyYW5zcGFyZW50IGdpZlxuUmVzb3VyY2UuRU1QVFlfR0lGID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQVAvLy93QUFBQ0g1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlDUkFFQU93PT0nO1xuXG4vKipcbiAqIFF1aWNrIGhlbHBlciB0byBzZXQgYSB2YWx1ZSBvbiBvbmUgb2YgdGhlIGV4dGVuc2lvbiBtYXBzLiBFbnN1cmVzIHRoZXJlIGlzIG5vXG4gKiBkb3QgYXQgdGhlIHN0YXJ0IG9mIHRoZSBleHRlbnNpb24uXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtvYmplY3R9IG1hcCAtIFRoZSBtYXAgdG8gc2V0IG9uLlxuICogQHBhcmFtIHtzdHJpbmd9IGV4dG5hbWUgLSBUaGUgZXh0ZW5zaW9uIChvciBrZXkpIHRvIHNldC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgLSBUaGUgdmFsdWUgdG8gc2V0LlxuICovXG5mdW5jdGlvbiBzZXRFeHRNYXAobWFwLCBleHRuYW1lLCB2YWwpIHtcbiAgICBpZiAoZXh0bmFtZSAmJiBleHRuYW1lLmluZGV4T2YoJy4nKSA9PT0gMCkge1xuICAgICAgICBleHRuYW1lID0gZXh0bmFtZS5zdWJzdHJpbmcoMSk7XG4gICAgfVxuXG4gICAgaWYgKCFleHRuYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBtYXBbZXh0bmFtZV0gPSB2YWw7XG59XG5cbi8qKlxuICogUXVpY2sgaGVscGVyIHRvIGdldCBzdHJpbmcgeGhyIHR5cGUuXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdHxYRG9tYWluUmVxdWVzdH0geGhyIC0gVGhlIHJlcXVlc3QgdG8gY2hlY2suXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB0eXBlLlxuICovXG5mdW5jdGlvbiByZXFUeXBlKHhocikge1xuICAgIHJldHVybiB4aHIudG9TdHJpbmcoKS5yZXBsYWNlKCdvYmplY3QgJywgJycpO1xufVxuXG4vLyBCYWNrd2FyZHMgY29tcGF0XG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gUmVzb3VyY2U7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbn1cbiIsImNvbnN0IF9rZXlTdHIgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuXG4vKipcbiAqIEVuY29kZXMgYmluYXJ5IGludG8gYmFzZTY0LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dCBUaGUgaW5wdXQgZGF0YSB0byBlbmNvZGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZW5jb2RlZCBiYXNlNjQgc3RyaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVCaW5hcnkoaW5wdXQpIHtcbiAgICBsZXQgb3V0cHV0ID0gJyc7XG4gICAgbGV0IGlueCA9IDA7XG5cbiAgICB3aGlsZSAoaW54IDwgaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgIC8vIEZpbGwgYnl0ZSBidWZmZXIgYXJyYXlcbiAgICAgICAgY29uc3QgYnl0ZWJ1ZmZlciA9IFswLCAwLCAwXTtcbiAgICAgICAgY29uc3QgZW5jb2RlZENoYXJJbmRleGVzID0gWzAsIDAsIDAsIDBdO1xuXG4gICAgICAgIGZvciAobGV0IGpueCA9IDA7IGpueCA8IGJ5dGVidWZmZXIubGVuZ3RoOyArK2pueCkge1xuICAgICAgICAgICAgaWYgKGlueCA8IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIHRocm93IGF3YXkgaGlnaC1vcmRlciBieXRlLCBhcyBkb2N1bWVudGVkIGF0OlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL0VuL1VzaW5nX1hNTEh0dHBSZXF1ZXN0I0hhbmRsaW5nX2JpbmFyeV9kYXRhXG4gICAgICAgICAgICAgICAgYnl0ZWJ1ZmZlcltqbnhdID0gaW5wdXQuY2hhckNvZGVBdChpbngrKykgJiAweGZmO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnl0ZWJ1ZmZlcltqbnhdID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBlYWNoIGVuY29kZWQgY2hhcmFjdGVyLCA2IGJpdHMgYXQgYSB0aW1lXG4gICAgICAgIC8vIGluZGV4IDE6IGZpcnN0IDYgYml0c1xuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMF0gPSBieXRlYnVmZmVyWzBdID4+IDI7XG5cbiAgICAgICAgLy8gaW5kZXggMjogc2Vjb25kIDYgYml0cyAoMiBsZWFzdCBzaWduaWZpY2FudCBiaXRzIGZyb20gaW5wdXQgYnl0ZSAxICsgNCBtb3N0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBieXRlIDIpXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1sxXSA9ICgoYnl0ZWJ1ZmZlclswXSAmIDB4MykgPDwgNCkgfCAoYnl0ZWJ1ZmZlclsxXSA+PiA0KTtcblxuICAgICAgICAvLyBpbmRleCAzOiB0aGlyZCA2IGJpdHMgKDQgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMiArIDIgbW9zdCBzaWduaWZpY2FudCBiaXRzIGZyb20gYnl0ZSAzKVxuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMl0gPSAoKGJ5dGVidWZmZXJbMV0gJiAweDBmKSA8PCAyKSB8IChieXRlYnVmZmVyWzJdID4+IDYpO1xuXG4gICAgICAgIC8vIGluZGV4IDM6IGZvcnRoIDYgYml0cyAoNiBsZWFzdCBzaWduaWZpY2FudCBiaXRzIGZyb20gaW5wdXQgYnl0ZSAzKVxuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSBieXRlYnVmZmVyWzJdICYgMHgzZjtcblxuICAgICAgICAvLyBEZXRlcm1pbmUgd2hldGhlciBwYWRkaW5nIGhhcHBlbmVkLCBhbmQgYWRqdXN0IGFjY29yZGluZ2x5XG4gICAgICAgIGNvbnN0IHBhZGRpbmdCeXRlcyA9IGlueCAtIChpbnB1dC5sZW5ndGggLSAxKTtcblxuICAgICAgICBzd2l0Y2ggKHBhZGRpbmdCeXRlcykge1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIC8vIFNldCBsYXN0IDIgY2hhcmFjdGVycyB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSA2NDtcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMl0gPSA2NDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIC8vIFNldCBsYXN0IGNoYXJhY3RlciB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSA2NDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhazsgLy8gTm8gcGFkZGluZyAtIHByb2NlZWRcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vdyB3ZSB3aWxsIGdyYWIgZWFjaCBhcHByb3ByaWF0ZSBjaGFyYWN0ZXIgb3V0IG9mIG91ciBrZXlzdHJpbmdcbiAgICAgICAgLy8gYmFzZWQgb24gb3VyIGluZGV4IGFycmF5IGFuZCBhcHBlbmQgaXQgdG8gdGhlIG91dHB1dCBzdHJpbmdcbiAgICAgICAgZm9yIChsZXQgam54ID0gMDsgam54IDwgZW5jb2RlZENoYXJJbmRleGVzLmxlbmd0aDsgKytqbngpIHtcbiAgICAgICAgICAgIG91dHB1dCArPSBfa2V5U3RyLmNoYXJBdChlbmNvZGVkQ2hhckluZGV4ZXNbam54XSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuXG4vLyBCYWNrd2FyZHMgY29tcGF0XG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gZW5jb2RlQmluYXJ5OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG59XG4iLCJpbXBvcnQgeyBSZXNvdXJjZSB9IGZyb20gJy4uLy4uL1Jlc291cmNlJztcbmltcG9ydCB7IGVuY29kZUJpbmFyeSB9IGZyb20gJy4uLy4uL2I2NCc7XG5cbmNvbnN0IFVybCA9IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTDtcblxuLy8gYSBtaWRkbGV3YXJlIGZvciB0cmFuc2Zvcm1pbmcgWEhSIGxvYWRlZCBCbG9icyBpbnRvIG1vcmUgdXNlZnVsIG9iamVjdHNcbmV4cG9ydCBmdW5jdGlvbiBibG9iTWlkZGxld2FyZUZhY3RvcnkoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGJsb2JNaWRkbGV3YXJlKHJlc291cmNlLCBuZXh0KSB7XG4gICAgICAgIGlmICghcmVzb3VyY2UuZGF0YSkge1xuICAgICAgICAgICAgbmV4dCgpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGlzIHdhcyBhbiBYSFIgbG9hZCBvZiBhIGJsb2JcbiAgICAgICAgaWYgKHJlc291cmNlLnhociAmJiByZXNvdXJjZS54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBibG9iIHN1cHBvcnQgd2UgcHJvYmFibHkgZ290IGEgYmluYXJ5IHN0cmluZyBiYWNrXG4gICAgICAgICAgICBpZiAoIXdpbmRvdy5CbG9iIHx8IHR5cGVvZiByZXNvdXJjZS5kYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSByZXNvdXJjZS54aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ2NvbnRlbnQtdHlwZScpO1xuXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBhbiBpbWFnZSwgY29udmVydCB0aGUgYmluYXJ5IHN0cmluZyBpbnRvIGEgZGF0YSB1cmxcbiAgICAgICAgICAgICAgICBpZiAodHlwZSAmJiB0eXBlLmluZGV4T2YoJ2ltYWdlJykgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLnNyYyA9IGBkYXRhOiR7dHlwZX07YmFzZTY0LCR7ZW5jb2RlQmluYXJ5KHJlc291cmNlLnhoci5yZXNwb25zZVRleHQpfWA7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UudHlwZSA9IFJlc291cmNlLlRZUEUuSU1BR0U7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gd2FpdCB1bnRpbCB0aGUgaW1hZ2UgbG9hZHMgYW5kIHRoZW4gY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBuZXh0IHdpbGwgYmUgY2FsbGVkIG9uIGxvYWRcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIGNvbnRlbnQgdHlwZSBzYXlzIHRoaXMgaXMgYW4gaW1hZ2UsIHRoZW4gd2Ugc2hvdWxkIHRyYW5zZm9ybSB0aGUgYmxvYiBpbnRvIGFuIEltYWdlIG9iamVjdFxuICAgICAgICAgICAgZWxzZSBpZiAocmVzb3VyY2UuZGF0YS50eXBlLmluZGV4T2YoJ2ltYWdlJykgPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzcmMgPSBVcmwuY3JlYXRlT2JqZWN0VVJMKHJlc291cmNlLmRhdGEpO1xuXG4gICAgICAgICAgICAgICAgcmVzb3VyY2UuYmxvYiA9IHJlc291cmNlLmRhdGE7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEuc3JjID0gc3JjO1xuXG4gICAgICAgICAgICAgICAgcmVzb3VyY2UudHlwZSA9IFJlc291cmNlLlRZUEUuSU1BR0U7XG5cbiAgICAgICAgICAgICAgICAvLyBjbGVhbnVwIHRoZSBubyBsb25nZXIgdXNlZCBibG9iIGFmdGVyIHRoZSBpbWFnZSBsb2Fkc1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IElzIHRoaXMgY29ycmVjdD8gV2lsbCB0aGUgaW1hZ2UgYmUgaW52YWxpZCBhZnRlciByZXZva2luZz9cbiAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgVXJsLnJldm9rZU9iamVjdFVSTChzcmMpO1xuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBuZXh0IHdpbGwgYmUgY2FsbGVkIG9uIGxvYWQuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbmV4dCgpO1xuICAgIH07XG59XG4iLCJpbXBvcnQgeyBSZXNvdXJjZSB9IGZyb20gJ3Jlc291cmNlLWxvYWRlcic7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qKlxuICogTG9hZGVyIHBsdWdpbiBmb3IgaGFuZGxpbmcgVGV4dHVyZSByZXNvdXJjZXMuXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBQSVhJLklMb2FkZXJQbHVnaW5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dHVyZUxvYWRlclxue1xuICAgIC8qKlxuICAgICAqIENhbGxlZCBhZnRlciBhIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLmxvYWRlck1pZGRsZXdhcmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2V9IHJlc291cmNlXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dFxuICAgICAqL1xuICAgIHN0YXRpYyB1c2UocmVzb3VyY2UsIG5leHQpXG4gICAge1xuICAgICAgICAvLyBjcmVhdGUgYSBuZXcgdGV4dHVyZSBpZiB0aGUgZGF0YSBpcyBhbiBJbWFnZSBvYmplY3RcbiAgICAgICAgaWYgKHJlc291cmNlLmRhdGEgJiYgcmVzb3VyY2UudHlwZSA9PT0gUmVzb3VyY2UuVFlQRS5JTUFHRSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzb3VyY2UudGV4dHVyZSA9IFRleHR1cmUuZnJvbUxvYWRlcihcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLFxuICAgICAgICAgICAgICAgIHJlc291cmNlLnVybCxcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5uYW1lXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIG5leHQoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgTG9hZGVyIGZyb20gJy4vTG9hZGVyJztcblxuLyoqXG4gKiBBcHBsaWNhdGlvbiBwbHVnaW4gZm9yIHN1cHBvcnRpbmcgbG9hZGVyIG9wdGlvbi4gSW5zdGFsbGluZyB0aGUgTG9hZGVyUGx1Z2luXG4gKiBpcyBub3QgbmVjZXNzYXJ5IGlmIHVzaW5nICoqcGl4aS5qcyoqIG9yICoqcGl4aS5qcy1sZWdhY3kqKi5cbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQge0FwcExvYWRlclBsdWdpbn0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG4gKiBpbXBvcnQge0FwcGxpY2F0aW9ufSBmcm9tICdAcGl4aS9hcHAnO1xuICogQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oQXBwTG9hZGVyUGx1Z2luKTtcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBwTG9hZGVyUGx1Z2luXG57XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIG9uIGFwcGxpY2F0aW9uIGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN0YXRpYyBpbml0KG9wdGlvbnMpXG4gICAge1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBzaGFyZWRMb2FkZXI6IGZhbHNlLFxuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTG9hZGVyIGluc3RhbmNlIHRvIGhlbHAgd2l0aCBhc3NldCBsb2FkaW5nLlxuICAgICAgICAgKiBAbmFtZSBQSVhJLkFwcGxpY2F0aW9uI2xvYWRlclxuICAgICAgICAgKiBAdHlwZSB7UElYSS5Mb2FkZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sb2FkZXIgPSBvcHRpb25zLnNoYXJlZExvYWRlciA/IExvYWRlci5zaGFyZWQgOiBuZXcgTG9hZGVyKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gYXBwbGljYXRpb24gZGVzdHJveWVkXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzdGF0aWMgZGVzdHJveSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5sb2FkZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubG9hZGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMubG9hZGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IGhleDJyZ2IgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcblxuLyoqXG4gKiBUaGUgUGFydGljbGVDb250YWluZXIgY2xhc3MgaXMgYSByZWFsbHkgZmFzdCB2ZXJzaW9uIG9mIHRoZSBDb250YWluZXIgYnVpbHQgc29sZWx5IGZvciBzcGVlZCxcbiAqIHNvIHVzZSB3aGVuIHlvdSBuZWVkIGEgbG90IG9mIHNwcml0ZXMgb3IgcGFydGljbGVzLlxuICpcbiAqIFRoZSB0cmFkZW9mZiBvZiB0aGUgUGFydGljbGVDb250YWluZXIgaXMgdGhhdCBtb3N0IGFkdmFuY2VkIGZ1bmN0aW9uYWxpdHkgd2lsbCBub3Qgd29yay5cbiAqIFBhcnRpY2xlQ29udGFpbmVyIGltcGxlbWVudHMgdGhlIGJhc2ljIG9iamVjdCB0cmFuc2Zvcm0gKHBvc2l0aW9uLCBzY2FsZSwgcm90YXRpb24pXG4gKiBhbmQgc29tZSBhZHZhbmNlZCBmdW5jdGlvbmFsaXR5IGxpa2UgdGludCAoYXMgb2YgdjQuNS42KS5cbiAqXG4gKiBPdGhlciBtb3JlIGFkdmFuY2VkIGZ1bmN0aW9uYWxpdHkgbGlrZSBtYXNraW5nLCBjaGlsZHJlbiwgZmlsdGVycywgZXRjIHdpbGwgbm90IHdvcmsgb24gc3ByaXRlcyBpbiB0aGlzIGJhdGNoLlxuICpcbiAqIEl0J3MgZXh0cmVtZWx5IGVhc3kgdG8gdXNlOlxuICogYGBganNcbiAqIGxldCBjb250YWluZXIgPSBuZXcgUGFydGljbGVDb250YWluZXIoKTtcbiAqXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgKytpKVxuICoge1xuICogICAgIGxldCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUuZnJvbShcIm15SW1hZ2UucG5nXCIpO1xuICogICAgIGNvbnRhaW5lci5hZGRDaGlsZChzcHJpdGUpO1xuICogfVxuICogYGBgXG4gKlxuICogQW5kIGhlcmUgeW91IGhhdmUgYSBodW5kcmVkIHNwcml0ZXMgdGhhdCB3aWxsIGJlIHJlbmRlcmVkIGF0IHRoZSBzcGVlZCBvZiBsaWdodC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXJ0aWNsZUNvbnRhaW5lciBleHRlbmRzIENvbnRhaW5lclxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4U2l6ZT0xNTAwXSAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiBwYXJ0aWNsZXMgdGhhdCBjYW4gYmUgcmVuZGVyZWQgYnkgdGhlIGNvbnRhaW5lci5cbiAgICAgKiAgQWZmZWN0cyBzaXplIG9mIGFsbG9jYXRlZCBidWZmZXJzLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbcHJvcGVydGllc10gLSBUaGUgcHJvcGVydGllcyBvZiBjaGlsZHJlbiB0aGF0IHNob3VsZCBiZSB1cGxvYWRlZCB0byB0aGUgZ3B1IGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMudmVydGljZXM9ZmFsc2VdIC0gV2hlbiB0cnVlLCB2ZXJ0aWNlcyBiZSB1cGxvYWRlZCBhbmQgYXBwbGllZC5cbiAgICAgKiAgICAgICAgICAgICAgICAgIGlmIHNwcml0ZSdzIGAgc2NhbGUvYW5jaG9yL3RyaW0vZnJhbWUvb3JpZ2AgaXMgZHluYW1pYywgcGxlYXNlIHNldCBgdHJ1ZWAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy5wb3NpdGlvbj10cnVlXSAtIFdoZW4gdHJ1ZSwgcG9zaXRpb24gYmUgdXBsb2FkZWQgYW5kIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJvcGVydGllcy5yb3RhdGlvbj1mYWxzZV0gLSBXaGVuIHRydWUsIHJvdGF0aW9uIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMudXZzPWZhbHNlXSAtIFdoZW4gdHJ1ZSwgdXZzIGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Byb3BlcnRpZXMudGludD1mYWxzZV0gLSBXaGVuIHRydWUsIGFscGhhIGFuZCB0aW50IGJlIHVwbG9hZGVkIGFuZCBhcHBsaWVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYmF0Y2hTaXplPTE2Mzg0XSAtIE51bWJlciBvZiBwYXJ0aWNsZXMgcGVyIGJhdGNoLiBJZiBsZXNzIHRoYW4gbWF4U2l6ZSwgaXQgdXNlcyBtYXhTaXplIGluc3RlYWQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYXV0b1Jlc2l6ZT1mYWxzZV0gSWYgdHJ1ZSwgY29udGFpbmVyIGFsbG9jYXRlcyBtb3JlIGJhdGNoZXMgaW4gY2FzZVxuICAgICAqICB0aGVyZSBhcmUgbW9yZSB0aGFuIGBtYXhTaXplYCBwYXJ0aWNsZXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobWF4U2l6ZSA9IDE1MDAsIHByb3BlcnRpZXMsIGJhdGNoU2l6ZSA9IDE2Mzg0LCBhdXRvUmVzaXplID0gZmFsc2UpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIC8vIE1ha2luZyBzdXJlIHRoZSBiYXRjaCBzaXplIGlzIHZhbGlkXG4gICAgICAgIC8vIDY1NTM1IGlzIG1heCB2ZXJ0ZXggaW5kZXggaW4gdGhlIGluZGV4IGJ1ZmZlciAoc2VlIFBhcnRpY2xlUmVuZGVyZXIpXG4gICAgICAgIC8vIHNvIG1heCBudW1iZXIgb2YgcGFydGljbGVzIGlzIDY1NTM2IC8gNCA9IDE2Mzg0XG4gICAgICAgIGNvbnN0IG1heEJhdGNoU2l6ZSA9IDE2Mzg0O1xuXG4gICAgICAgIGlmIChiYXRjaFNpemUgPiBtYXhCYXRjaFNpemUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJhdGNoU2l6ZSA9IG1heEJhdGNoU2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiYXRjaFNpemUgPiBtYXhTaXplKVxuICAgICAgICB7XG4gICAgICAgICAgICBiYXRjaFNpemUgPSBtYXhTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBwcm9wZXJ0aWVzIHRvIGJlIGR5bmFtaWMgKHRydWUpIC8gc3RhdGljIChmYWxzZSlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcHJvcGVydGllcyA9IFtmYWxzZSwgdHJ1ZSwgZmFsc2UsIGZhbHNlLCBmYWxzZV07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21heFNpemUgPSBtYXhTaXplO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9iYXRjaFNpemUgPSBiYXRjaFNpemU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PFBJWEkuQnVmZmVyPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBmb3IgZXZlcnkgYmF0Y2ggc3RvcmVzIF91cGRhdGVJRCBjb3JyZXNwb25kaW5nIHRvIHRoZSBsYXN0IGNoYW5nZSBpbiB0aGF0IGJhdGNoXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSURzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHdoZW4gY2hpbGQgaW5zZXJ0ZWQsIHJlbW92ZWQgb3IgY2hhbmdlcyBwb3NpdGlvbiB0aGlzIG51bWJlciBnb2VzIHVwXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZUNoaWxkcmVuID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gQXBwbHkgYSB2YWx1ZSBvZiBgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxgXG4gICAgICAgICAqIHRvIHJlc2V0IHRoZSBibGVuZCBtb2RlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUsIGNvbnRhaW5lciBhbGxvY2F0ZXMgbW9yZSBiYXRjaGVzIGluIGNhc2UgdGhlcmUgYXJlIG1vcmUgdGhhbiBgbWF4U2l6ZWAgcGFydGljbGVzLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvUmVzaXplID0gYXV0b1Jlc2l6ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAgICAgKiBEZWZhdWx0IHRvIHRydWUgaGVyZSBhcyBwZXJmb3JtYW5jZSBpcyB1c3VhbGx5IHRoZSBwcmlvcml0eSBmb3IgcGFydGljbGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJvdW5kUGl4ZWxzID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdXNlZCB0byByZW5kZXIgdGhlIGNoaWxkcmVuLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuc2V0UHJvcGVydGllcyhwcm9wZXJ0aWVzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgY29udGFpbmVyLlxuICAgICAgICAgKiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGludCA9IDA7XG4gICAgICAgIHRoaXMudGludFJnYiA9IG5ldyBGbG9hdDMyQXJyYXkoNCk7XG4gICAgICAgIHRoaXMudGludCA9IDB4RkZGRkZGO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHByaXZhdGUgcHJvcGVydGllcyBhcnJheSB0byBkeW5hbWljIC8gc3RhdGljIGJhc2VkIG9uIHRoZSBwYXNzZWQgcHJvcGVydGllcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wZXJ0aWVzIC0gVGhlIHByb3BlcnRpZXMgdG8gYmUgdXBsb2FkZWRcbiAgICAgKi9cbiAgICBzZXRQcm9wZXJ0aWVzKHByb3BlcnRpZXMpXG4gICAge1xuICAgICAgICBpZiAocHJvcGVydGllcylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1swXSA9ICd2ZXJ0aWNlcycgaW4gcHJvcGVydGllcyB8fCAnc2NhbGUnIGluIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICA/ICEhcHJvcGVydGllcy52ZXJ0aWNlcyB8fCAhIXByb3BlcnRpZXMuc2NhbGUgOiB0aGlzLl9wcm9wZXJ0aWVzWzBdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1sxXSA9ICdwb3NpdGlvbicgaW4gcHJvcGVydGllcyA/ICEhcHJvcGVydGllcy5wb3NpdGlvbiA6IHRoaXMuX3Byb3BlcnRpZXNbMV07XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzJdID0gJ3JvdGF0aW9uJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnJvdGF0aW9uIDogdGhpcy5fcHJvcGVydGllc1syXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbM10gPSAndXZzJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnV2cyA6IHRoaXMuX3Byb3BlcnRpZXNbM107XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzRdID0gJ3RpbnQnIGluIHByb3BlcnRpZXMgfHwgJ2FscGhhJyBpbiBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgPyAhIXByb3BlcnRpZXMudGludCB8fCAhIXByb3BlcnRpZXMuYWxwaGEgOiB0aGlzLl9wcm9wZXJ0aWVzWzRdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHVwZGF0ZVRyYW5zZm9ybSgpXG4gICAge1xuICAgICAgICAvLyBUT0RPIGRvbid0IG5lZWQgdG8hXG4gICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAvLyAgUElYSS5Db250YWluZXIucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybS5jYWxsKCB0aGlzICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgY29udGFpbmVyLiBUaGlzIGlzIGEgaGV4IHZhbHVlLlxuICAgICAqIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAqKiBJTVBPUlRBTlQ6IFRoaXMgaXMgYSBXZWJHTCBvbmx5IGZlYXR1cmUgYW5kIHdpbGwgYmUgaWdub3JlZCBieSB0aGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAqL1xuICAgIGdldCB0aW50KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgIH1cblxuICAgIHNldCB0aW50KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgaGV4MnJnYih2YWx1ZSwgdGhpcy50aW50UmdiKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBjb250YWluZXIgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgd2ViZ2wgcmVuZGVyZXJcbiAgICAgKi9cbiAgICByZW5kZXIocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5jaGlsZHJlbi5sZW5ndGggfHwgIXRoaXMucmVuZGVyYWJsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmJhc2VUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gdGhpcy5jaGlsZHJlblswXS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5iYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9uY2UoJ3VwZGF0ZScsICgpID0+IHRoaXMub25DaGlsZHJlbkNoYW5nZSgwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5iYXRjaC5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zLnBhcnRpY2xlKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2lucy5wYXJ0aWNsZS5yZW5kZXIodGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBmbGFnIHRoYXQgc3RhdGljIGRhdGEgc2hvdWxkIGJlIHVwZGF0ZWQgdG8gdHJ1ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc21hbGxlc3RDaGlsZEluZGV4IC0gVGhlIHNtYWxsZXN0IGNoaWxkIGluZGV4XG4gICAgICovXG4gICAgb25DaGlsZHJlbkNoYW5nZShzbWFsbGVzdENoaWxkSW5kZXgpXG4gICAge1xuICAgICAgICBjb25zdCBidWZmZXJJbmRleCA9IE1hdGguZmxvb3Ioc21hbGxlc3RDaGlsZEluZGV4IC8gdGhpcy5fYmF0Y2hTaXplKTtcblxuICAgICAgICB3aGlsZSAodGhpcy5fYnVmZmVyVXBkYXRlSURzLmxlbmd0aCA8IGJ1ZmZlckluZGV4KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHMucHVzaCgwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHNbYnVmZmVySW5kZXhdID0gKyt0aGlzLl91cGRhdGVJRDtcbiAgICB9XG5cbiAgICBkaXNwb3NlKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9idWZmZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2J1ZmZlcnMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYnVmZmVyc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIGNvbnRhaW5lclxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpclxuICAgICAqICBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cbiAgICBkZXN0cm95KG9wdGlvbnMpXG4gICAge1xuICAgICAgICBzdXBlci5kZXN0cm95KG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMuZGlzcG9zZSgpO1xuXG4gICAgICAgIHRoaXMuX3Byb3BlcnRpZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9idWZmZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSURzID0gbnVsbDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBjcmVhdGVJbmRpY2VzRm9yUXVhZHMgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBHZW9tZXRyeSwgQnVmZmVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBUWVBFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5cbi8qKlxuICogQGF1dGhvciBNYXQgR3JvdmVzXG4gKlxuICogQmlnIHRoYW5rcyB0byB0aGUgdmVyeSBjbGV2ZXIgTWF0dCBEZXNMYXVyaWVycyA8bWF0dGRlc2w+IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9cbiAqIGZvciBjcmVhdGluZyB0aGUgb3JpZ2luYWwgUGl4aUpTIHZlcnNpb24hXG4gKiBBbHNvIGEgdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9iY2hldmFsaWVyIGZvciB0d2Vha2luZyB0aGUgdGludCBhbmQgYWxwaGEgc28gdGhhdFxuICogdGhleSBub3cgc2hhcmUgNCBieXRlcyBvbiB0aGUgdmVydGV4IGJ1ZmZlclxuICpcbiAqIEhlYXZpbHkgaW5zcGlyZWQgYnkgTGliR0RYJ3MgUGFydGljbGVCdWZmZXI6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGliZ2R4L2xpYmdkeC9ibG9iL21hc3Rlci9nZHgvc3JjL2NvbS9iYWRsb2dpYy9nZHgvZ3JhcGhpY3MvZzJkL1BhcnRpY2xlQnVmZmVyLmphdmFcbiAqL1xuXG4vKipcbiAqIFRoZSBwYXJ0aWNsZSBidWZmZXIgbWFuYWdlcyB0aGUgc3RhdGljIGFuZCBkeW5hbWljIGJ1ZmZlcnMgZm9yIGEgcGFydGljbGUgY29udGFpbmVyLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhcnRpY2xlQnVmZmVyXG57XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcHJvcGVydGllcyAtIFRoZSBwcm9wZXJ0aWVzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW5bXX0gZHluYW1pY1Byb3BlcnR5RmxhZ3MgLSBGbGFncyBmb3Igd2hpY2ggcHJvcGVydGllcyBhcmUgZHluYW1pYy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2l6ZSAtIFRoZSBzaXplIG9mIHRoZSBiYXRjaC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcm9wZXJ0aWVzLCBkeW5hbWljUHJvcGVydHlGbGFncywgc2l6ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgR2VvbWV0cnkoKTtcblxuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBwYXJ0aWNsZXMgdGhlIGJ1ZmZlciBjYW4gaG9sZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgdGhlIHByb3BlcnRpZXMgdGhhdCBhcmUgZHluYW1pYy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiB0aGUgcHJvcGVydGllcyB0aGF0IGFyZSBzdGF0aWMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wZXJ0aWVzLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgICAgICAvLyBNYWtlIGNvcHkgb2YgcHJvcGVydGllcyBvYmplY3Qgc28gdGhhdCB3aGVuIHdlIGVkaXQgdGhlIG9mZnNldCBpdCBkb2Vzbid0XG4gICAgICAgICAgICAvLyBjaGFuZ2UgYWxsIG90aGVyIGluc3RhbmNlcyBvZiB0aGUgb2JqZWN0IGxpdGVyYWxcbiAgICAgICAgICAgIHByb3BlcnR5ID0ge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6IHByb3BlcnR5LmF0dHJpYnV0ZU5hbWUsXG4gICAgICAgICAgICAgICAgc2l6ZTogcHJvcGVydHkuc2l6ZSxcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogcHJvcGVydHkudXBsb2FkRnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgdHlwZTogcHJvcGVydHkudHlwZSB8fCBUWVBFUy5GTE9BVCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IHByb3BlcnR5Lm9mZnNldCxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmIChkeW5hbWljUHJvcGVydHlGbGFnc1tpXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGljUHJvcGVydGllcy5wdXNoKHByb3BlcnR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGljU3RyaWRlID0gMDtcbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRpY0RhdGFVaW50MzIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuZHluYW1pY1N0cmlkZSA9IDA7XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbnVsbDtcblxuICAgICAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG5cbiAgICAgICAgdGhpcy5pbml0QnVmZmVycygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBpbml0QnVmZmVycygpXG4gICAge1xuICAgICAgICBjb25zdCBnZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnk7XG5cbiAgICAgICAgbGV0IGR5bmFtaWNPZmZzZXQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb2xkcyB0aGUgaW5kaWNlcyBvZiB0aGUgZ2VvbWV0cnkgKHF1YWRzKSB0byBkcmF3XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1VpbnQxNkFycmF5fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG5ldyBCdWZmZXIoY3JlYXRlSW5kaWNlc0ZvclF1YWRzKHRoaXMuc2l6ZSksIHRydWUsIHRydWUpO1xuICAgICAgICBnZW9tZXRyeS5hZGRJbmRleCh0aGlzLmluZGV4QnVmZmVyKTtcblxuICAgICAgICB0aGlzLmR5bmFtaWNTdHJpZGUgPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHkgPSB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgICAgICBwcm9wZXJ0eS5vZmZzZXQgPSBkeW5hbWljT2Zmc2V0O1xuICAgICAgICAgICAgZHluYW1pY09mZnNldCArPSBwcm9wZXJ0eS5zaXplO1xuICAgICAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlICs9IHByb3BlcnR5LnNpemU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkeW5CdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5zaXplICogdGhpcy5keW5hbWljU3RyaWRlICogNCAqIDQpO1xuXG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGR5bkJ1ZmZlcik7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGFVaW50MzIgPSBuZXcgVWludDMyQXJyYXkoZHluQnVmZmVyKTtcbiAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLmR5bmFtaWNEYXRhLCBmYWxzZSwgZmFsc2UpO1xuXG4gICAgICAgIC8vIHN0YXRpYyAvL1xuICAgICAgICBsZXQgc3RhdGljT2Zmc2V0ID0gMDtcblxuICAgICAgICB0aGlzLnN0YXRpY1N0cmlkZSA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5ID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgICAgICBwcm9wZXJ0eS5vZmZzZXQgPSBzdGF0aWNPZmZzZXQ7XG4gICAgICAgICAgICBzdGF0aWNPZmZzZXQgKz0gcHJvcGVydHkuc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGljU3RyaWRlICs9IHByb3BlcnR5LnNpemU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdGF0QnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRoaXMuc2l6ZSAqIHRoaXMuc3RhdGljU3RyaWRlICogNCAqIDQpO1xuXG4gICAgICAgIHRoaXMuc3RhdGljRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoc3RhdEJ1ZmZlcik7XG4gICAgICAgIHRoaXMuc3RhdGljRGF0YVVpbnQzMiA9IG5ldyBVaW50MzJBcnJheShzdGF0QnVmZmVyKTtcbiAgICAgICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBuZXcgQnVmZmVyKHRoaXMuc3RhdGljRGF0YSwgdHJ1ZSwgZmFsc2UpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHkgPSB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgICAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgcHJvcGVydHkuYXR0cmlidXRlTmFtZSxcbiAgICAgICAgICAgICAgICB0aGlzLmR5bmFtaWNCdWZmZXIsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFLFxuICAgICAgICAgICAgICAgIHByb3BlcnR5LnR5cGUsXG4gICAgICAgICAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlICogNCxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS5vZmZzZXQgKiA0XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5ID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgICAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgcHJvcGVydHkuYXR0cmlidXRlTmFtZSxcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlcixcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIHByb3BlcnR5LnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUsXG4gICAgICAgICAgICAgICAgcHJvcGVydHkudHlwZSxcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpY1N0cmlkZSAqIDQsXG4gICAgICAgICAgICAgICAgcHJvcGVydHkub2Zmc2V0ICogNFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIGR5bmFtaWMgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSBUaGUgY2hpbGRyZW4gdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gVGhlIGluZGV4IHRvIHN0YXJ0IGF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgbnVtYmVyIHRvIHVwbG9hZC5cbiAgICAgKi9cbiAgICB1cGxvYWREeW5hbWljKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQpXG4gICAge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5ID0gdGhpcy5keW5hbWljUHJvcGVydGllc1tpXTtcblxuICAgICAgICAgICAgcHJvcGVydHkudXBsb2FkRnVuY3Rpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFID8gdGhpcy5keW5hbWljRGF0YVVpbnQzMiA6IHRoaXMuZHluYW1pY0RhdGEsXG4gICAgICAgICAgICAgICAgdGhpcy5keW5hbWljU3RyaWRlLCBwcm9wZXJ0eS5vZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5keW5hbWljQnVmZmVyLl91cGRhdGVJRCsrO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHN0YXRpYyBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIFRoZSBjaGlsZHJlbiB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSBUaGUgaW5kZXggdG8gc3RhcnQgYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIFRoZSBudW1iZXIgdG8gdXBsb2FkLlxuICAgICAqL1xuICAgIHVwbG9hZFN0YXRpYyhjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50KVxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0YXRpY1Byb3BlcnRpZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BlcnR5ID0gdGhpcy5zdGF0aWNQcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgICAgICBwcm9wZXJ0eS51cGxvYWRGdW5jdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LFxuICAgICAgICAgICAgICAgIHByb3BlcnR5LnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUgPyB0aGlzLnN0YXRpY0RhdGFVaW50MzIgOiB0aGlzLnN0YXRpY0RhdGEsXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aWNTdHJpZGUsIHByb3BlcnR5Lm9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRpY0J1ZmZlci5fdXBkYXRlSUQrKztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgUGFydGljbGVCdWZmZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5keW5hbWljUHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIC8vIHRoaXMuZHluYW1pY0J1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZHluYW1pY0J1ZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuZHluYW1pY0RhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbnVsbDtcblxuICAgICAgICB0aGlzLnN0YXRpY1Byb3BlcnRpZXMgPSBudWxsO1xuICAgICAgICAvLyB0aGlzLnN0YXRpY0J1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuc3RhdGljQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbnVsbDtcbiAgICAgICAgLy8gYWxsIGJ1ZmZlcnMgYXJlIGRlc3Ryb3llZCBpbnNpZGUgZ2VvbWV0cnlcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5kZXN0cm95KCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVFlQRVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgT2JqZWN0UmVuZGVyZXIsIFNoYWRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgY29ycmVjdEJsZW5kTW9kZSwgcHJlbXVsdGlwbHlSZ2JhLCBwcmVtdWx0aXBseVRpbnQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCBQYXJ0aWNsZUJ1ZmZlciBmcm9tICcuL1BhcnRpY2xlQnVmZmVyJztcbmltcG9ydCB2ZXJ0ZXggZnJvbSAnLi9wYXJ0aWNsZXMudmVydCc7XG5pbXBvcnQgZnJhZ21lbnQgZnJvbSAnLi9wYXJ0aWNsZXMuZnJhZyc7XG5cbi8qKlxuICogQGF1dGhvciBNYXQgR3JvdmVzXG4gKlxuICogQmlnIHRoYW5rcyB0byB0aGUgdmVyeSBjbGV2ZXIgTWF0dCBEZXNMYXVyaWVycyA8bWF0dGRlc2w+IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9cbiAqIGZvciBjcmVhdGluZyB0aGUgb3JpZ2luYWwgUGl4aUpTIHZlcnNpb24hXG4gKiBBbHNvIGEgdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9iY2hldmFsaWVyIGZvciB0d2Vha2luZyB0aGUgdGludCBhbmQgYWxwaGEgc28gdGhhdCB0aGV5IG5vd1xuICogc2hhcmUgNCBieXRlcyBvbiB0aGUgdmVydGV4IGJ1ZmZlclxuICpcbiAqIEhlYXZpbHkgaW5zcGlyZWQgYnkgTGliR0RYJ3MgUGFydGljbGVSZW5kZXJlcjpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9saWJnZHgvbGliZ2R4L2Jsb2IvbWFzdGVyL2dkeC9zcmMvY29tL2JhZGxvZ2ljL2dkeC9ncmFwaGljcy9nMmQvUGFydGljbGVSZW5kZXJlci5qYXZhXG4gKi9cblxuLyoqXG4gKiBSZW5kZXJlciBmb3IgUGFydGljbGVzIHRoYXQgaXMgZGVzaWduZXIgZm9yIHNwZWVkIG92ZXIgZmVhdHVyZSBzZXQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXJ0aWNsZVJlbmRlcmVyIGV4dGVuZHMgT2JqZWN0UmVuZGVyZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgc3ByaXRlIGJhdGNoIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICAvLyA2NTUzNSBpcyBtYXggdmVydGV4IGluZGV4IGluIHRoZSBpbmRleCBidWZmZXIgKHNlZSBQYXJ0aWNsZVJlbmRlcmVyKVxuICAgICAgICAvLyBzbyBtYXggbnVtYmVyIG9mIHBhcnRpY2xlcyBpcyA2NTUzNiAvIDQgPSAxNjM4NFxuICAgICAgICAvLyBhbmQgbWF4IG51bWJlciBvZiBlbGVtZW50IGluIHRoZSBpbmRleCBidWZmZXIgaXMgMTYzODQgKiA2ID0gOTgzMDRcbiAgICAgICAgLy8gQ3JlYXRpbmcgYSBmdWxsIGluZGV4IGJ1ZmZlciwgb3ZlcmhlYWQgaXMgOTgzMDQgKiAyID0gMTk2S29cbiAgICAgICAgLy8gbGV0IG51bUluZGljZXMgPSA5ODMwNDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgc2hhZGVyIHRoYXQgaXMgdXNlZCBpZiBhIHNwcml0ZSBkb2Vzbid0IGhhdmUgYSBtb3JlIHNwZWNpZmljIG9uZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gbnVsbDtcblxuICAgICAgICB0aGlzLnRlbXBNYXRyaXggPSBuZXcgTWF0cml4KCk7XG5cbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gW1xuICAgICAgICAgICAgLy8gdmVydGljZXNEYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FWZXJ0ZXhQb3NpdGlvbicsXG4gICAgICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRWZXJ0aWNlcyxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gcG9zaXRpb25EYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FQb3NpdGlvbkNvb3JkJyxcbiAgICAgICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyByb3RhdGlvbkRhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYVJvdGF0aW9uJyxcbiAgICAgICAgICAgICAgICBzaXplOiAxLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFJvdGF0aW9uLFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyB1dnNEYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FUZXh0dXJlQ29vcmQnLFxuICAgICAgICAgICAgICAgIHNpemU6IDIsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkVXZzLFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyB0aW50RGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhQ29sb3InLFxuICAgICAgICAgICAgICAgIHNpemU6IDEsXG4gICAgICAgICAgICAgICAgdHlwZTogVFlQRVMuVU5TSUdORURfQllURSxcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRUaW50LFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBTaGFkZXIuZnJvbSh2ZXJ0ZXgsIGZyYWdtZW50LCB7fSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgcGFydGljbGUgY29udGFpbmVyIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICovXG4gICAgcmVuZGVyKGNvbnRhaW5lcilcbiAgICB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gY29udGFpbmVyLmNoaWxkcmVuO1xuICAgICAgICBjb25zdCBtYXhTaXplID0gY29udGFpbmVyLl9tYXhTaXplO1xuICAgICAgICBjb25zdCBiYXRjaFNpemUgPSBjb250YWluZXIuX2JhdGNoU2l6ZTtcbiAgICAgICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICBsZXQgdG90YWxDaGlsZHJlbiA9IGNoaWxkcmVuLmxlbmd0aDtcblxuICAgICAgICBpZiAodG90YWxDaGlsZHJlbiA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRvdGFsQ2hpbGRyZW4gPiBtYXhTaXplKVxuICAgICAgICB7XG4gICAgICAgICAgICB0b3RhbENoaWxkcmVuID0gbWF4U2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBidWZmZXJzID0gY29udGFpbmVyLl9idWZmZXJzO1xuXG4gICAgICAgIGlmICghYnVmZmVycylcbiAgICAgICAge1xuICAgICAgICAgICAgYnVmZmVycyA9IGNvbnRhaW5lci5fYnVmZmVycyA9IHRoaXMuZ2VuZXJhdGVCdWZmZXJzKGNvbnRhaW5lcik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBiYXNlVGV4dHVyZSA9IGNoaWxkcmVuWzBdLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIC8vIGlmIHRoZSB1dnMgaGF2ZSBub3QgdXBkYXRlZCB0aGVuIG5vIHBvaW50IHJlbmRlcmluZyBqdXN0IHlldCFcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zdGF0ZS5zZXRCbGVuZE1vZGUoY29ycmVjdEJsZW5kTW9kZShjb250YWluZXIuYmxlbmRNb2RlLCBiYXNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhKSk7XG5cbiAgICAgICAgY29uc3QgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICBjb25zdCBtID0gY29udGFpbmVyLndvcmxkVHJhbnNmb3JtLmNvcHlUbyh0aGlzLnRlbXBNYXRyaXgpO1xuXG4gICAgICAgIG0ucHJlcGVuZChyZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy51bmlmb3Jtcy5wcm9qZWN0aW9uTWF0cml4KTtcblxuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy50cmFuc2xhdGlvbk1hdHJpeCA9IG0udG9BcnJheSh0cnVlKTtcblxuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy51Q29sb3IgPSBwcmVtdWx0aXBseVJnYmEoY29udGFpbmVyLnRpbnRSZ2IsXG4gICAgICAgICAgICBjb250YWluZXIud29ybGRBbHBoYSwgdGhpcy5zaGFkZXIudW5pZm9ybXMudUNvbG9yLCBiYXNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhKTtcblxuICAgICAgICB0aGlzLnNoYWRlci51bmlmb3Jtcy51U2FtcGxlciA9IGJhc2VUZXh0dXJlO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcy5zaGFkZXIpO1xuXG4gICAgICAgIGxldCB1cGRhdGVTdGF0aWMgPSBmYWxzZTtcblxuICAgICAgICAvLyBub3cgbGV0cyB1cGxvYWQgYW5kIHJlbmRlciB0aGUgYnVmZmVycy4uXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gMDsgaSA8IHRvdGFsQ2hpbGRyZW47IGkgKz0gYmF0Y2hTaXplLCBqICs9IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBhbW91bnQgPSAodG90YWxDaGlsZHJlbiAtIGkpO1xuXG4gICAgICAgICAgICBpZiAoYW1vdW50ID4gYmF0Y2hTaXplKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFtb3VudCA9IGJhdGNoU2l6ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGogPj0gYnVmZmVycy5sZW5ndGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCFjb250YWluZXIuYXV0b1Jlc2l6ZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBidWZmZXJzLnB1c2godGhpcy5fZ2VuZXJhdGVPbmVNb3JlQnVmZmVyKGNvbnRhaW5lcikpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSBidWZmZXJzW2pdO1xuXG4gICAgICAgICAgICAvLyB3ZSBhbHdheXMgdXBsb2FkIHRoZSBkeW5hbWljXG4gICAgICAgICAgICBidWZmZXIudXBsb2FkRHluYW1pYyhjaGlsZHJlbiwgaSwgYW1vdW50KTtcblxuICAgICAgICAgICAgY29uc3QgYmlkID0gY29udGFpbmVyLl9idWZmZXJVcGRhdGVJRHNbal0gfHwgMDtcblxuICAgICAgICAgICAgdXBkYXRlU3RhdGljID0gdXBkYXRlU3RhdGljIHx8IChidWZmZXIuX3VwZGF0ZUlEIDwgYmlkKTtcbiAgICAgICAgICAgIC8vIHdlIG9ubHkgdXBsb2FkIHRoZSBzdGF0aWMgY29udGVudCB3aGVuIHdlIGhhdmUgdG8hXG4gICAgICAgICAgICBpZiAodXBkYXRlU3RhdGljKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5fdXBkYXRlSUQgPSBjb250YWluZXIuX3VwZGF0ZUlEO1xuICAgICAgICAgICAgICAgIGJ1ZmZlci51cGxvYWRTdGF0aWMoY2hpbGRyZW4sIGksIGFtb3VudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZChidWZmZXIuZ2VvbWV0cnkpO1xuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUywgYW1vdW50ICogNiwgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBvbmUgcGFydGljbGUgYnVmZmVyIGZvciBlYWNoIGNoaWxkIGluIHRoZSBjb250YWluZXIgd2Ugd2FudCB0byByZW5kZXIgYW5kIHVwZGF0ZXMgaW50ZXJuYWwgcHJvcGVydGllc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBhcnRpY2xlQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIHJlbmRlciB1c2luZyB0aGlzIFBhcnRpY2xlUmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBhcnRpY2xlQnVmZmVyW119IFRoZSBidWZmZXJzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZW5lcmF0ZUJ1ZmZlcnMoY29udGFpbmVyKVxuICAgIHtcbiAgICAgICAgY29uc3QgYnVmZmVycyA9IFtdO1xuICAgICAgICBjb25zdCBzaXplID0gY29udGFpbmVyLl9tYXhTaXplO1xuICAgICAgICBjb25zdCBiYXRjaFNpemUgPSBjb250YWluZXIuX2JhdGNoU2l6ZTtcbiAgICAgICAgY29uc3QgZHluYW1pY1Byb3BlcnR5RmxhZ3MgPSBjb250YWluZXIuX3Byb3BlcnRpZXM7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpICs9IGJhdGNoU2l6ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgYnVmZmVycy5wdXNoKG5ldyBQYXJ0aWNsZUJ1ZmZlcih0aGlzLnByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBiYXRjaFNpemUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBidWZmZXJzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb25lIG1vcmUgcGFydGljbGUgYnVmZmVyLCBiZWNhdXNlIGNvbnRhaW5lciBoYXMgYXV0b1Jlc2l6ZSBmZWF0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUGFydGljbGVDb250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdG8gcmVuZGVyIHVzaW5nIHRoaXMgUGFydGljbGVSZW5kZXJlclxuICAgICAqIEByZXR1cm4ge1BJWEkuUGFydGljbGVCdWZmZXJ9IGdlbmVyYXRlZCBidWZmZXJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZW5lcmF0ZU9uZU1vcmVCdWZmZXIoY29udGFpbmVyKVxuICAgIHtcbiAgICAgICAgY29uc3QgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgICAgIGNvbnN0IGR5bmFtaWNQcm9wZXJ0eUZsYWdzID0gY29udGFpbmVyLl9wcm9wZXJ0aWVzO1xuXG4gICAgICAgIHJldHVybiBuZXcgUGFydGljbGVCdWZmZXIodGhpcy5wcm9wZXJ0aWVzLCBkeW5hbWljUHJvcGVydHlGbGFncywgYmF0Y2hTaXplKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHZlcnRpY2VzIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICB1cGxvYWRWZXJ0aWNlcyhjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpXG4gICAge1xuICAgICAgICBsZXQgdzAgPSAwO1xuICAgICAgICBsZXQgdzEgPSAwO1xuICAgICAgICBsZXQgaDAgPSAwO1xuICAgICAgICBsZXQgaDEgPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW1vdW50OyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHNwcml0ZSA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXTtcbiAgICAgICAgICAgIGNvbnN0IHRleHR1cmUgPSBzcHJpdGUuX3RleHR1cmU7XG4gICAgICAgICAgICBjb25zdCBzeCA9IHNwcml0ZS5zY2FsZS54O1xuICAgICAgICAgICAgY29uc3Qgc3kgPSBzcHJpdGUuc2NhbGUueTtcbiAgICAgICAgICAgIGNvbnN0IHRyaW0gPSB0ZXh0dXJlLnRyaW07XG4gICAgICAgICAgICBjb25zdCBvcmlnID0gdGV4dHVyZS5vcmlnO1xuXG4gICAgICAgICAgICBpZiAodHJpbSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWQgYW5kIGlzIG5vdCBhIHRpbGluZ3Nwcml0ZSB0aGVuIHdlIG5lZWQgdG8gYWRkIHRoZVxuICAgICAgICAgICAgICAgIC8vIGV4dHJhIHNwYWNlIGJlZm9yZSB0cmFuc2Zvcm1pbmcgdGhlIHNwcml0ZSBjb29yZHMuLlxuICAgICAgICAgICAgICAgIHcxID0gdHJpbS54IC0gKHNwcml0ZS5hbmNob3IueCAqIG9yaWcud2lkdGgpO1xuICAgICAgICAgICAgICAgIHcwID0gdzEgKyB0cmltLndpZHRoO1xuXG4gICAgICAgICAgICAgICAgaDEgPSB0cmltLnkgLSAoc3ByaXRlLmFuY2hvci55ICogb3JpZy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIGgwID0gaDEgKyB0cmltLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3MCA9IChvcmlnLndpZHRoKSAqICgxIC0gc3ByaXRlLmFuY2hvci54KTtcbiAgICAgICAgICAgICAgICB3MSA9IChvcmlnLndpZHRoKSAqIC1zcHJpdGUuYW5jaG9yLng7XG5cbiAgICAgICAgICAgICAgICBoMCA9IG9yaWcuaGVpZ2h0ICogKDEgLSBzcHJpdGUuYW5jaG9yLnkpO1xuICAgICAgICAgICAgICAgIGgxID0gb3JpZy5oZWlnaHQgKiAtc3ByaXRlLmFuY2hvci55O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gaDEgKiBzeTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHcwICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IGgxICogc3k7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSB3MCAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpICsgMV0gPSBoMCAqIHN5O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKSArIDFdID0gaDAgKiBzeTtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSBwb3NpdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHBvc2l0aW9ucyB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIHZlcnRpY2VzIHRvIHVwbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyaWRlIC0gU3RyaWRlIHRvIHVzZSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBPZmZzZXQgdG8gc3RhcnQgYXQuXG4gICAgICovXG4gICAgdXBsb2FkUG9zaXRpb24oY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudCwgYXJyYXksIHN0cmlkZSwgb2Zmc2V0KVxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbW91bnQ7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgc3ByaXRlUG9zaXRpb24gPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV0ucG9zaXRpb247XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMikgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuXG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIHJvdGlhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHJvdGF0aW9uIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICB1cGxvYWRSb3RhdGlvbihjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpXG4gICAge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFtb3VudDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBzcHJpdGVSb3RhdGlvbiA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5yb3RhdGlvbjtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IHNwcml0ZVJvdGF0aW9uO1xuXG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwbG9hZHMgdGhlIFV2c1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIHVwbG9hZFV2cyhjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpXG4gICAge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFtb3VudDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0dXJlVXZzID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldLl90ZXh0dXJlLl91dnM7XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlVXZzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSB0ZXh0dXJlVXZzLngwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gdGV4dHVyZVV2cy55MDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSB0ZXh0dXJlVXZzLngxO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gdGV4dHVyZVV2cy55MTtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSB0ZXh0dXJlVXZzLngyO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gdGV4dHVyZVV2cy55MjtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSB0ZXh0dXJlVXZzLngzO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKSArIDFdID0gdGV4dHVyZVV2cy55MztcblxuICAgICAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8geW91IGtub3cgdGhpcyBjYW4gYmUgZWFzaWVyIVxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKSArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgdGludC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHJvdGF0aW9uIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICB1cGxvYWRUaW50KGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldClcbiAgICB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW1vdW50OyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHNwcml0ZSA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXTtcbiAgICAgICAgICAgIGNvbnN0IHByZW11bHRpcGxpZWQgPSBzcHJpdGUuX3RleHR1cmUuYmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYTtcbiAgICAgICAgICAgIGNvbnN0IGFscGhhID0gc3ByaXRlLmFscGhhO1xuICAgICAgICAgICAgLy8gd2UgZG9udCBjYWxsIGV4dHJhIGZ1bmN0aW9uIGlmIGFscGhhIGlzIDEuMCwgdGhhdCdzIGZhc3RlclxuICAgICAgICAgICAgY29uc3QgYXJnYiA9IGFscGhhIDwgMS4wICYmIHByZW11bHRpcGxpZWQgPyBwcmVtdWx0aXBseVRpbnQoc3ByaXRlLl90aW50UkdCLCBhbHBoYSlcbiAgICAgICAgICAgICAgICA6IHNwcml0ZS5fdGludFJHQiArIChhbHBoYSAqIDI1NSA8PCAyNCk7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSBhcmdiO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IGFyZ2I7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gYXJnYjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSBhcmdiO1xuXG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBQYXJ0aWNsZVJlbmRlcmVyLlxuICAgICAqL1xuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuXG4gICAgICAgIGlmICh0aGlzLnNoYWRlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50ZW1wTWF0cml4ID0gbnVsbDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IGdldFJlc29sdXRpb25PZlVybCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyoqXG4gKiBVdGlsaXR5IGNsYXNzIGZvciBtYWludGFpbmluZyByZWZlcmVuY2UgdG8gYSBjb2xsZWN0aW9uXG4gKiBvZiBUZXh0dXJlcyBvbiBhIHNpbmdsZSBTcHJpdGVzaGVldC5cbiAqXG4gKiBUbyBhY2Nlc3MgYSBzcHJpdGUgc2hlZXQgZnJvbSB5b3VyIGNvZGUgcGFzcyBpdHMgSlNPTiBkYXRhIGZpbGUgdG8gUGl4aSdzIGxvYWRlcjpcbiAqXG4gKiBgYGBqc1xuICogUElYSS5Mb2FkZXIuc2hhcmVkLmFkZChcImltYWdlcy9zcHJpdGVzaGVldC5qc29uXCIpLmxvYWQoc2V0dXApO1xuICpcbiAqIGZ1bmN0aW9uIHNldHVwKCkge1xuICogICBsZXQgc2hlZXQgPSBQSVhJLkxvYWRlci5zaGFyZWQucmVzb3VyY2VzW1wiaW1hZ2VzL3Nwcml0ZXNoZWV0Lmpzb25cIl0uc3ByaXRlc2hlZXQ7XG4gKiAgIC4uLlxuICogfVxuICogYGBgXG4gKiBXaXRoIHRoZSBgc2hlZXQudGV4dHVyZXNgIHlvdSBjYW4gY3JlYXRlIFNwcml0ZSBvYmplY3RzLGBzaGVldC5hbmltYXRpb25zYCBjYW4gYmUgdXNlZCB0byBjcmVhdGUgYW4gQW5pbWF0ZWRTcHJpdGUuXG4gKlxuICogU3ByaXRlIHNoZWV0cyBjYW4gYmUgcGFja2VkIHVzaW5nIHRvb2xzIGxpa2Uge0BsaW5rIGh0dHBzOi8vY29kZWFuZHdlYi5jb20vdGV4dHVyZXBhY2tlcnxUZXh0dXJlUGFja2VyfSxcbiAqIHtAbGluayBodHRwczovL3JlbmRlcmhqcy5uZXQvc2hvZWJveC98U2hvZWJveH0gb3Ige0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9rcnp5c3p0b2Ytby9zcHJpdGVzaGVldC5qc3xTcHJpdGVzaGVldC5qc30uXG4gKiBEZWZhdWx0IGFuY2hvciBwb2ludHMgKHNlZSB7QGxpbmsgUElYSS5UZXh0dXJlI2RlZmF1bHRBbmNob3J9KSBhbmQgZ3JvdXBpbmcgb2YgYW5pbWF0aW9uIHNwcml0ZXMgYXJlIGN1cnJlbnRseSBvbmx5XG4gKiBzdXBwb3J0ZWQgYnkgVGV4dHVyZVBhY2tlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNwcml0ZXNoZWV0XG57XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIFRleHR1cmVzIHRvIGJ1aWxkIHBlciBwcm9jZXNzLlxuICAgICAqXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxMDAwXG4gICAgICovXG4gICAgc3RhdGljIGdldCBCQVRDSF9TSVpFKClcbiAgICB7XG4gICAgICAgIHJldHVybiAxMDAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgUmVmZXJlbmNlIHRvIHRoZSBzb3VyY2UgQmFzZVRleHR1cmUgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gU3ByaXRlc2hlZXQgaW1hZ2UgZGF0YS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3Jlc29sdXRpb25GaWxlbmFtZV0gLSBUaGUgZmlsZW5hbWUgdG8gY29uc2lkZXIgd2hlbiBkZXRlcm1pbmluZ1xuICAgICAqICAgICAgICB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgc3ByaXRlc2hlZXQuIElmIG5vdCBwcm92aWRlZCwgdGhlIGltYWdlVXJsIHdpbGxcbiAgICAgKiAgICAgICAgYmUgdXNlZCBvbiB0aGUgQmFzZVRleHR1cmUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYmFzZVRleHR1cmUsIGRhdGEsIHJlc29sdXRpb25GaWxlbmFtZSA9IG51bGwpXG4gICAge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRocyBzb3VyY2UgdGV4dHVyZVxuICAgICAgICAgKiBAdHlwZSB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUgPSBiYXNlVGV4dHVyZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBtYXAgY29udGFpbmluZyBhbGwgdGV4dHVyZXMgb2YgdGhlIHNwcml0ZSBzaGVldC5cbiAgICAgICAgICogQ2FuIGJlIHVzZWQgdG8gY3JlYXRlIGEge0BsaW5rIFBJWEkuU3ByaXRlfFNwcml0ZX06XG4gICAgICAgICAqIGBgYGpzXG4gICAgICAgICAqIG5ldyBQSVhJLlNwcml0ZShzaGVldC50ZXh0dXJlc1tcImltYWdlLnBuZ1wiXSk7XG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRleHR1cmVzID0ge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIGNvbnRhaW5pbmcgdGhlIHRleHR1cmVzIGZvciBlYWNoIGFuaW1hdGlvbi5cbiAgICAgICAgICogQ2FuIGJlIHVzZWQgdG8gY3JlYXRlIGFuIHtAbGluayBQSVhJLkFuaW1hdGVkU3ByaXRlfEFuaW1hdGVkU3ByaXRlfTpcbiAgICAgICAgICogYGBganNcbiAgICAgICAgICogbmV3IFBJWEkuQW5pbWF0ZWRTcHJpdGUoc2hlZXQuYW5pbWF0aW9uc1tcImFuaW1fbmFtZVwiXSlcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIG9yaWdpbmFsIEpTT04gZGF0YS5cbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBzcHJpdGVzaGVldC5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHRoaXMuX3VwZGF0ZVJlc29sdXRpb24oXG4gICAgICAgICAgICByZXNvbHV0aW9uRmlsZW5hbWVcbiAgICAgICAgICAgIHx8ICh0aGlzLmJhc2VUZXh0dXJlLnJlc291cmNlID8gdGhpcy5iYXNlVGV4dHVyZS5yZXNvdXJjZS51cmwgOiBudWxsKVxuICAgICAgICApO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXAgb2Ygc3ByaXRlc2hlZXQgZnJhbWVzLlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZnJhbWVzID0gdGhpcy5kYXRhLmZyYW1lcztcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBmcmFtZSBuYW1lcy5cbiAgICAgICAgICogQHR5cGUge3N0cmluZ1tdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZnJhbWVLZXlzID0gT2JqZWN0LmtleXModGhpcy5fZnJhbWVzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBiYXRjaCBpbmRleCBiZWluZyBwcm9jZXNzZWQuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGJhY2sgd2hlbiBwYXJzZSBpcyBjb21wbGV0ZWQuXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSB0aGUgcmVzb2x1dGlvbiBmcm9tIHRoZSBmaWxlbmFtZSBvciBmYWxsYmFja1xuICAgICAqIHRvIHRoZSBtZXRhLnNjYWxlIGZpZWxkIG9mIHRoZSBKU09OIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByZXNvbHV0aW9uRmlsZW5hbWUgLSBUaGUgZmlsZW5hbWUgdG8gdXNlIGZvciByZXNvbHZpbmdcbiAgICAgKiAgICAgICAgdGhlIGRlZmF1bHQgcmVzb2x1dGlvbi5cbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFJlc29sdXRpb24gdG8gdXNlIGZvciBzcHJpdGVzaGVldC5cbiAgICAgKi9cbiAgICBfdXBkYXRlUmVzb2x1dGlvbihyZXNvbHV0aW9uRmlsZW5hbWUpXG4gICAge1xuICAgICAgICBjb25zdCBzY2FsZSA9IHRoaXMuZGF0YS5tZXRhLnNjYWxlO1xuXG4gICAgICAgIC8vIFVzZSBhIGRlZmF1bHRWYWx1ZSBvZiBgbnVsbGAgdG8gY2hlY2sgaWYgYSB1cmwtYmFzZWQgcmVzb2x1dGlvbiBpcyBzZXRcbiAgICAgICAgbGV0IHJlc29sdXRpb24gPSBnZXRSZXNvbHV0aW9uT2ZVcmwocmVzb2x1dGlvbkZpbGVuYW1lLCBudWxsKTtcblxuICAgICAgICAvLyBObyByZXNvbHV0aW9uIGZvdW5kIHZpYSBVUkxcbiAgICAgICAgaWYgKHJlc29sdXRpb24gPT09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFVzZSB0aGUgc2NhbGUgdmFsdWUgb3IgZGVmYXVsdCB0byAxXG4gICAgICAgICAgICByZXNvbHV0aW9uID0gc2NhbGUgIT09IHVuZGVmaW5lZCA/IHBhcnNlRmxvYXQoc2NhbGUpIDogMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZvciBub24tMSByZXNvbHV0aW9ucywgdXBkYXRlIGJhc2VUZXh0dXJlXG4gICAgICAgIGlmIChyZXNvbHV0aW9uICE9PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLnNldFJlc29sdXRpb24ocmVzb2x1dGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzb2x1dGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXIgc3ByaXRlc2hlZXQgZnJvbSBsb2FkZWQgZGF0YS4gVGhpcyBpcyBkb25lIGFzeW5jaHJvbm91c2x5XG4gICAgICogdG8gcHJldmVudCBjcmVhdGluZyB0b28gbWFueSBUZXh0dXJlIHdpdGhpbiBhIHNpbmdsZSBwcm9jZXNzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBDYWxsYmFjayB3aGVuIGNvbXBsZXRlIHJldHVybnNcbiAgICAgKiAgICAgICAgYSBtYXAgb2YgdGhlIFRleHR1cmVzIGZvciB0aGlzIHNwcml0ZXNoZWV0LlxuICAgICAqL1xuICAgIHBhcnNlKGNhbGxiYWNrKVxuICAgIHtcbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2s7XG5cbiAgICAgICAgaWYgKHRoaXMuX2ZyYW1lS2V5cy5sZW5ndGggPD0gU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0ZyYW1lcygwKTtcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NBbmltYXRpb25zKCk7XG4gICAgICAgICAgICB0aGlzLl9wYXJzZUNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9uZXh0QmF0Y2goKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgYSBiYXRjaCBvZiBmcmFtZXNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluaXRpYWxGcmFtZUluZGV4IC0gVGhlIGluZGV4IG9mIGZyYW1lIHRvIHN0YXJ0LlxuICAgICAqL1xuICAgIF9wcm9jZXNzRnJhbWVzKGluaXRpYWxGcmFtZUluZGV4KVxuICAgIHtcbiAgICAgICAgbGV0IGZyYW1lSW5kZXggPSBpbml0aWFsRnJhbWVJbmRleDtcbiAgICAgICAgY29uc3QgbWF4RnJhbWVzID0gU3ByaXRlc2hlZXQuQkFUQ0hfU0laRTtcblxuICAgICAgICB3aGlsZSAoZnJhbWVJbmRleCAtIGluaXRpYWxGcmFtZUluZGV4IDwgbWF4RnJhbWVzICYmIGZyYW1lSW5kZXggPCB0aGlzLl9mcmFtZUtleXMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpID0gdGhpcy5fZnJhbWVLZXlzW2ZyYW1lSW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuX2ZyYW1lc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBkYXRhLmZyYW1lO1xuXG4gICAgICAgICAgICBpZiAocmVjdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgZnJhbWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIGxldCB0cmltID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VTaXplID0gZGF0YS50cmltbWVkICE9PSBmYWxzZSAmJiBkYXRhLnNvdXJjZVNpemVcbiAgICAgICAgICAgICAgICAgICAgPyBkYXRhLnNvdXJjZVNpemUgOiBkYXRhLmZyYW1lO1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgb3JpZyA9IG5ldyBSZWN0YW5nbGUoXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3Ioc291cmNlU2l6ZS53KSAvIHRoaXMucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihzb3VyY2VTaXplLmgpIC8gdGhpcy5yZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnJvdGF0ZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmcmFtZSA9IG5ldyBSZWN0YW5nbGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QueCkgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QueSkgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QuaCkgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QudykgLyB0aGlzLnJlc29sdXRpb25cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZnJhbWUgPSBuZXcgUmVjdGFuZ2xlKFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LngpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LnkpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LncpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LmgpIC8gdGhpcy5yZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gIENoZWNrIHRvIHNlZSBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWRcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS50cmltbWVkICE9PSBmYWxzZSAmJiBkYXRhLnNwcml0ZVNvdXJjZVNpemUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0cmltID0gbmV3IFJlY3RhbmdsZShcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IoZGF0YS5zcHJpdGVTb3VyY2VTaXplLngpIC8gdGhpcy5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihkYXRhLnNwcml0ZVNvdXJjZVNpemUueSkgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QudykgLyB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QuaCkgLyB0aGlzLnJlc29sdXRpb25cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRleHR1cmVzW2ldID0gbmV3IFRleHR1cmUoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUsXG4gICAgICAgICAgICAgICAgICAgIGZyYW1lLFxuICAgICAgICAgICAgICAgICAgICBvcmlnLFxuICAgICAgICAgICAgICAgICAgICB0cmltLFxuICAgICAgICAgICAgICAgICAgICBkYXRhLnJvdGF0ZWQgPyAyIDogMCxcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5hbmNob3JcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgLy8gbGV0cyBhbHNvIGFkZCB0aGUgZnJhbWUgdG8gcGl4aSdzIGdsb2JhbCBjYWNoZSBmb3IgJ2Zyb20nIGFuZCAnZnJvbUxvYWRlcicgZnVuY3Rpb25zXG4gICAgICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRoaXMudGV4dHVyZXNbaV0sIGkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmcmFtZUluZGV4Kys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSBhbmltYXRpb25zIGNvbmZpZ1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcHJvY2Vzc0FuaW1hdGlvbnMoKVxuICAgIHtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9ucyA9IHRoaXMuZGF0YS5hbmltYXRpb25zIHx8IHt9O1xuXG4gICAgICAgIGZvciAoY29uc3QgYW5pbU5hbWUgaW4gYW5pbWF0aW9ucylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zW2FuaW1OYW1lXSA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbmltYXRpb25zW2FuaW1OYW1lXS5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmcmFtZU5hbWUgPSBhbmltYXRpb25zW2FuaW1OYW1lXVtpXTtcblxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uc1thbmltTmFtZV0ucHVzaCh0aGlzLnRleHR1cmVzW2ZyYW1lTmFtZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHBhcnNlIGhhcyBjb21wbGV0ZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9wYXJzZUNvbXBsZXRlKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gdGhpcy5fY2FsbGJhY2s7XG5cbiAgICAgICAgdGhpcy5fY2FsbGJhY2sgPSBudWxsO1xuICAgICAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcbiAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzLCB0aGlzLnRleHR1cmVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCZWdpbiB0aGUgbmV4dCBiYXRjaCBvZiB0ZXh0dXJlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX25leHRCYXRjaCgpXG4gICAge1xuICAgICAgICB0aGlzLl9wcm9jZXNzRnJhbWVzKHRoaXMuX2JhdGNoSW5kZXggKiBTcHJpdGVzaGVldC5CQVRDSF9TSVpFKTtcbiAgICAgICAgdGhpcy5fYmF0Y2hJbmRleCsrO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9iYXRjaEluZGV4ICogU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSA8IHRoaXMuX2ZyYW1lS2V5cy5sZW5ndGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmV4dEJhdGNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0FuaW1hdGlvbnMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJzZUNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgU3ByaXRlc2hlZXQgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVzdHJveUJhc2U9ZmFsc2VdIFdoZXRoZXIgdG8gZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIGFzIHdlbGxcbiAgICAgKi9cbiAgICBkZXN0cm95KGRlc3Ryb3lCYXNlID0gZmFsc2UpXG4gICAge1xuICAgICAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy50ZXh0dXJlcylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlc1tpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZnJhbWVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZnJhbWVLZXlzID0gbnVsbDtcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy50ZXh0dXJlcyA9IG51bGw7XG4gICAgICAgIGlmIChkZXN0cm95QmFzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgdXJsIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgTG9hZGVyUmVzb3VyY2UgfSBmcm9tICdAcGl4aS9sb2FkZXJzJztcbmltcG9ydCBTcHJpdGVzaGVldCBmcm9tICcuL1Nwcml0ZXNoZWV0JztcblxuLyoqXG4gKiB7QGxpbmsgUElYSS5Mb2FkZXIgTG9hZGVyfSBtaWRkbGV3YXJlIGZvciBsb2FkaW5nIHRleHR1cmUgYXRsYXNlcyB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkIHdpdGhcbiAqIFRleHR1cmVQYWNrZXIgb3Igc2ltaWxhciBKU09OLWJhc2VkIHNwcml0ZXNoZWV0LlxuICpcbiAqIFRoaXMgbWlkZGxld2FyZSBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlcyBUZXh0dXJlIHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBQSVhJLklMb2FkZXJQbHVnaW5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3ByaXRlc2hlZXRMb2FkZXJcbntcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgYSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAgICAgKi9cbiAgICBzdGF0aWMgdXNlKHJlc291cmNlLCBuZXh0KVxuICAgIHtcbiAgICAgICAgY29uc3QgaW1hZ2VSZXNvdXJjZU5hbWUgPSBgJHtyZXNvdXJjZS5uYW1lfV9pbWFnZWA7XG5cbiAgICAgICAgLy8gc2tpcCBpZiBubyBkYXRhLCBpdHMgbm90IGpzb24sIGl0IGlzbid0IHNwcml0ZXNoZWV0IGRhdGEsIG9yIHRoZSBpbWFnZSByZXNvdXJjZSBhbHJlYWR5IGV4aXN0c1xuICAgICAgICBpZiAoIXJlc291cmNlLmRhdGFcbiAgICAgICAgICAgIHx8IHJlc291cmNlLnR5cGUgIT09IExvYWRlclJlc291cmNlLlRZUEUuSlNPTlxuICAgICAgICAgICAgfHwgIXJlc291cmNlLmRhdGEuZnJhbWVzXG4gICAgICAgICAgICB8fCB0aGlzLnJlc291cmNlc1tpbWFnZVJlc291cmNlTmFtZV1cbiAgICAgICAgKVxuICAgICAgICB7XG4gICAgICAgICAgICBuZXh0KCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGxvYWRPcHRpb25zID0ge1xuICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHJlc291cmNlLmNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgbWV0YWRhdGE6IHJlc291cmNlLm1ldGFkYXRhLmltYWdlTWV0YWRhdGEsXG4gICAgICAgICAgICBwYXJlbnRSZXNvdXJjZTogcmVzb3VyY2UsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcmVzb3VyY2VQYXRoID0gU3ByaXRlc2hlZXRMb2FkZXIuZ2V0UmVzb3VyY2VQYXRoKHJlc291cmNlLCB0aGlzLmJhc2VVcmwpO1xuXG4gICAgICAgIC8vIGxvYWQgdGhlIGltYWdlIGZvciB0aGlzIHNoZWV0XG4gICAgICAgIHRoaXMuYWRkKGltYWdlUmVzb3VyY2VOYW1lLCByZXNvdXJjZVBhdGgsIGxvYWRPcHRpb25zLCBmdW5jdGlvbiBvbkltYWdlTG9hZChyZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChyZXMuZXJyb3IpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmV4dChyZXMuZXJyb3IpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzcHJpdGVzaGVldCA9IG5ldyBTcHJpdGVzaGVldChcbiAgICAgICAgICAgICAgICByZXMudGV4dHVyZS5iYXNlVGV4dHVyZSxcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLFxuICAgICAgICAgICAgICAgIHJlc291cmNlLnVybFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgc3ByaXRlc2hlZXQucGFyc2UoKCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5zcHJpdGVzaGVldCA9IHNwcml0ZXNoZWV0O1xuICAgICAgICAgICAgICAgIHJlc291cmNlLnRleHR1cmVzID0gc3ByaXRlc2hlZXQudGV4dHVyZXM7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc3ByaXRlc2hlZXRzIHJvb3QgcGF0aFxuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2UgLSBSZXNvdXJjZSB0byBjaGVjayBwYXRoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVcmwgLSBCYXNlIHJvb3QgdXJsXG4gICAgICovXG4gICAgc3RhdGljIGdldFJlc291cmNlUGF0aChyZXNvdXJjZSwgYmFzZVVybClcbiAgICB7XG4gICAgICAgIC8vIFByZXBlbmQgdXJsIHBhdGggdW5sZXNzIHRoZSByZXNvdXJjZSBpbWFnZSBpcyBhIGRhdGEgdXJsXG4gICAgICAgIGlmIChyZXNvdXJjZS5pc0RhdGFVcmwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiByZXNvdXJjZS5kYXRhLm1ldGEuaW1hZ2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdXJsLnJlc29sdmUocmVzb3VyY2UudXJsLnJlcGxhY2UoYmFzZVVybCwgJycpLCByZXNvdXJjZS5kYXRhLm1ldGEuaW1hZ2UpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFRleHR1cmVNYXRyaXgsIFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFBvaW50LCBSZWN0YW5nbGUsIFRyYW5zZm9ybSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgVGV4dHVyZUNhY2hlIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcblxuY29uc3QgdGVtcFBvaW50ID0gbmV3IFBvaW50KCk7XG5cbi8qKlxuICogQSB0aWxpbmcgc3ByaXRlIGlzIGEgZmFzdCB3YXkgb2YgcmVuZGVyaW5nIGEgdGlsaW5nIGltYWdlXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNwcml0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlsaW5nU3ByaXRlIGV4dGVuZHMgU3ByaXRlXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSB0aGUgdGV4dHVyZSBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbd2lkdGg9MTAwXSAtIHRoZSB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbaGVpZ2h0PTEwMF0gLSB0aGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGV4dHVyZSwgd2lkdGggPSAxMDAsIGhlaWdodCA9IDEwMClcbiAgICB7XG4gICAgICAgIHN1cGVyKHRleHR1cmUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaWxlIHRyYW5zZm9ybVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRyYW5zZm9ybX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oKTtcblxuICAgICAgICAvLyAvLy8gcHJpdmF0ZVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2l0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl93aWR0aCA9IHdpZHRoO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FudmFzIHBhdHRlcm5cbiAgICAgICAgICpcbiAgICAgICAgICogQHR5cGUge0NhbnZhc1BhdHRlcm59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jYW52YXNQYXR0ZXJuID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogbWF0cml4IHRoYXQgaXMgYXBwbGllZCB0byBVViB0byBnZXQgdGhlIGNvb3JkcyBpbiBUZXh0dXJlIG5vcm1hbGl6ZWQgc3BhY2UgdG8gY29vcmRzIGluIEJhc2VUZXh0dXJlIHNwYWNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZNYXRyaXggPSB0ZXh0dXJlLnV2TWF0cml4IHx8IG5ldyBUZXh0dXJlTWF0cml4KHRleHR1cmUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQbHVnaW4gdGhhdCBpcyByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIHRoaXMgZWxlbWVudC5cbiAgICAgICAgICogQWxsb3dzIHRvIGN1c3RvbWl6ZSB0aGUgcmVuZGVyaW5nIHByb2Nlc3Mgd2l0aG91dCBvdmVycmlkaW5nICdfcmVuZGVyJyBtZXRob2QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ3RpbGluZ1Nwcml0ZSdcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGx1Z2luTmFtZSA9ICd0aWxpbmdTcHJpdGUnO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCBhbmNob3IgYWZmZWN0cyB1dnNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZSZXNwZWN0QW5jaG9yID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgZnJhbWUgY2xhbXBpbmcgaW4gY29ycmVzcG9uZGluZyB0ZXh0dXJlVHJhbnNmb3JtLCBzaG9ydGN1dFxuICAgICAqIENoYW5nZSB0byAtMC41IHRvIGFkZCBhIHBpeGVsIHRvIHRoZSBlZGdlLCByZWNvbW1lbmRlZCBmb3IgdHJhbnNwYXJlbnQgdHJpbW1lZCB0ZXh0dXJlcyBpbiBhdGxhc1xuICAgICAqXG4gICAgICogQGRlZmF1bHQgMC41XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBjbGFtcE1hcmdpbigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51dk1hdHJpeC5jbGFtcE1hcmdpbjtcbiAgICB9XG5cbiAgICBzZXQgY2xhbXBNYXJnaW4odmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy51dk1hdHJpeC5jbGFtcE1hcmdpbiA9IHZhbHVlO1xuICAgICAgICB0aGlzLnV2TWF0cml4LnVwZGF0ZSh0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NhbGluZyBvZiB0aGUgaW1hZ2UgdGhhdCBpcyBiZWluZyB0aWxlZFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICovXG4gICAgZ2V0IHRpbGVTY2FsZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy50aWxlVHJhbnNmb3JtLnNjYWxlO1xuICAgIH1cblxuICAgIHNldCB0aWxlU2NhbGUodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnNjYWxlLmNvcHlGcm9tKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2Zmc2V0IG9mIHRoZSBpbWFnZSB0aGF0IGlzIGJlaW5nIHRpbGVkXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgKi9cbiAgICBnZXQgdGlsZVBvc2l0aW9uKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbGVUcmFuc2Zvcm0ucG9zaXRpb247XG4gICAgfVxuXG4gICAgc2V0IHRpbGVQb3NpdGlvbih2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnRpbGVUcmFuc2Zvcm0ucG9zaXRpb24uY29weUZyb20odmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uVGV4dHVyZVVwZGF0ZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy51dk1hdHJpeClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51dk1hdHJpeC50ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhY2hlZFRpbnQgPSAweEZGRkZGRjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIF9yZW5kZXIocmVuZGVyZXIpXG4gICAge1xuICAgICAgICAvLyB0d2VhayBvdXIgdGV4dHVyZSB0ZW1wb3JhcmlseS4uXG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuXG4gICAgICAgIGlmICghdGV4dHVyZSB8fCAhdGV4dHVyZS52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnVwZGF0ZUxvY2FsVHJhbnNmb3JtKCk7XG4gICAgICAgIHRoaXMudXZNYXRyaXgudXBkYXRlKCk7XG5cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBib3VuZHMgb2YgdGhlIHRpbGluZyBzcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2NhbGN1bGF0ZUJvdW5kcygpXG4gICAge1xuICAgICAgICBjb25zdCBtaW5YID0gdGhpcy5fd2lkdGggKiAtdGhpcy5fYW5jaG9yLl94O1xuICAgICAgICBjb25zdCBtaW5ZID0gdGhpcy5faGVpZ2h0ICogLXRoaXMuX2FuY2hvci5feTtcbiAgICAgICAgY29uc3QgbWF4WCA9IHRoaXMuX3dpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICBjb25zdCBtYXhZID0gdGhpcy5faGVpZ2h0ICogKDEgLSB0aGlzLl9hbmNob3IuX3kpO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRGcmFtZSh0aGlzLnRyYW5zZm9ybSwgbWluWCwgbWluWSwgbWF4WCwgbWF4WSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdCAtIFRoZSBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgYm91bmRzLlxuICAgICAqL1xuICAgIGdldExvY2FsQm91bmRzKHJlY3QpXG4gICAge1xuICAgICAgICAvLyB3ZSBjYW4gZG8gYSBmYXN0IGxvY2FsIGJvdW5kcyBpZiB0aGUgc3ByaXRlIGhhcyBubyBjaGlsZHJlbiFcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWluWCA9IHRoaXMuX3dpZHRoICogLXRoaXMuX2FuY2hvci5feDtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5ZID0gdGhpcy5faGVpZ2h0ICogLXRoaXMuX2FuY2hvci5feTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhYID0gdGhpcy5fd2lkdGggKiAoMSAtIHRoaXMuX2FuY2hvci5feCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMubWF4WSA9IHRoaXMuX2hlaWdodCAqICgxIC0gdGhpcy5fYW5jaG9yLl95KTtcblxuICAgICAgICAgICAgaWYgKCFyZWN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib3VuZHMuZ2V0UmVjdGFuZ2xlKHJlY3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgcG9pbnQgaXMgaW5zaWRlIHRoaXMgdGlsaW5nIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgc3ByaXRlIGNvbnRhaW5zIHRoZSBwb2ludC5cbiAgICAgKi9cbiAgICBjb250YWluc1BvaW50KHBvaW50KVxuICAgIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG5cbiAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLl93aWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5faGVpZ2h0O1xuICAgICAgICBjb25zdCB4MSA9IC13aWR0aCAqIHRoaXMuYW5jaG9yLl94O1xuXG4gICAgICAgIGlmICh0ZW1wUG9pbnQueCA+PSB4MSAmJiB0ZW1wUG9pbnQueCA8IHgxICsgd2lkdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHkxID0gLWhlaWdodCAqIHRoaXMuYW5jaG9yLl95O1xuXG4gICAgICAgICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHNwcml0ZSBhbmQgb3B0aW9uYWxseSBpdHMgdGV4dHVyZSBhbmQgY2hpbGRyZW5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqL1xuICAgIGRlc3Ryb3kob3B0aW9ucylcbiAgICB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3kob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgdGhpcy51dk1hdHJpeCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIG5ldyB0aWxpbmcgc3ByaXRlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBmcmFtZSBpZCwgaW1hZ2UgdXJsLCB2aWRlbyB1cmwsIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCBiYXNlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd8UElYSS5UZXh0dXJlfEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSAtIFNvdXJjZSB0byBjcmVhdGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIHdpZHRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRpbGluZ1Nwcml0ZX0gVGhlIG5ld2x5IGNyZWF0ZWQgdGV4dHVyZVxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tKHNvdXJjZSwgd2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgVGlsaW5nU3ByaXRlKFRleHR1cmUuZnJvbShzb3VyY2UpLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgdGlsaW5nIHNwcml0ZSB0aGF0IHdpbGwgdXNlIGEgdGV4dHVyZSBmcm9tIHRoZSBUZXh0dXJlQ2FjaGUgYmFzZWQgb24gdGhlIGZyYW1lSWRcbiAgICAgKiBUaGUgZnJhbWUgaWRzIGFyZSBjcmVhdGVkIHdoZW4gYSBUZXh0dXJlIHBhY2tlciBmaWxlIGhhcyBiZWVuIGxvYWRlZFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmcmFtZUlkIC0gVGhlIGZyYW1lIElkIG9mIHRoZSB0ZXh0dXJlIGluIHRoZSBjYWNoZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgaGVpZ2h0IG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHJldHVybiB7UElYSS5UaWxpbmdTcHJpdGV9IEEgbmV3IFRpbGluZ1Nwcml0ZSB1c2luZyBhIHRleHR1cmUgZnJvbSB0aGUgdGV4dHVyZSBjYWNoZSBtYXRjaGluZyB0aGUgZnJhbWVJZFxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tRnJhbWUoZnJhbWVJZCwgd2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBUZXh0dXJlQ2FjaGVbZnJhbWVJZF07XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBmcmFtZUlkIFwiJHtmcmFtZUlkfVwiIGRvZXMgbm90IGV4aXN0IGluIHRoZSB0ZXh0dXJlIGNhY2hlICR7dGhpc31gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgVGlsaW5nU3ByaXRlKHRleHR1cmUsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBzcHJpdGUgdGhhdCB3aWxsIGNvbnRhaW4gYSB0ZXh0dXJlIGJhc2VkIG9uIGFuIGltYWdlIHVybFxuICAgICAqIElmIHRoZSBpbWFnZSBpcyBub3QgaW4gdGhlIHRleHR1cmUgY2FjaGUgaXQgd2lsbCBiZSBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VJZCAtIFRoZSBpbWFnZSB1cmwgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7UElYSS5UaWxpbmdTcHJpdGV9IEEgbmV3IFRpbGluZ1Nwcml0ZSB1c2luZyBhIHRleHR1cmUgZnJvbSB0aGUgdGV4dHVyZSBjYWNoZSBtYXRjaGluZyB0aGUgaW1hZ2UgaWRcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbUltYWdlKGltYWdlSWQsIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICAvLyBGYWxsYmFjayBzdXBwb3J0IGZvciBjcm9zc29yaWdpbiwgc2NhbGVNb2RlIHBhcmFtZXRlcnNcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKVxuICAgICAgICB7XG4gICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIHNjYWxlTW9kZTogYXJndW1lbnRzWzRdLFxuICAgICAgICAgICAgICAgIHJlc291cmNlT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICBjcm9zc29yaWdpbjogYXJndW1lbnRzWzNdLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBUaWxpbmdTcHJpdGUoVGV4dHVyZS5mcm9tKGltYWdlSWQsIG9wdGlvbnMpLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHNwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgd2lkdGgoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgIH1cblxuICAgIHNldCB3aWR0aCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIFRpbGluZ1Nwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgaGVpZ2h0KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgfVxuXG4gICAgc2V0IGhlaWdodCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBPYmplY3RSZW5kZXJlciwgU2hhZGVyLCBRdWFkVXYgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFdSQVBfTU9ERVMgfSBmcm9tICdAcGl4aS9jb25zdGFudHMnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBwcmVtdWx0aXBseVRpbnRUb1JnYmEsIGNvcnJlY3RCbGVuZE1vZGUgfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbmltcG9ydCB2ZXJ0ZXggZnJvbSAnLi90aWxpbmdTcHJpdGUudmVydCc7XG5pbXBvcnQgZnJhZ21lbnQgZnJvbSAnLi90aWxpbmdTcHJpdGUuZnJhZyc7XG5pbXBvcnQgZnJhZ21lbnRTaW1wbGUgZnJvbSAnLi90aWxpbmdTcHJpdGVfc2ltcGxlLmZyYWcnO1xuXG5jb25zdCB0ZW1wTWF0ID0gbmV3IE1hdHJpeCgpO1xuXG4vKipcbiAqIFdlYkdMIHJlbmRlcmVyIHBsdWdpbiBmb3IgdGlsaW5nIHNwcml0ZXNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLk9iamVjdFJlbmRlcmVyXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbGluZ1Nwcml0ZVJlbmRlcmVyIGV4dGVuZHMgT2JqZWN0UmVuZGVyZXJcbntcbiAgICAvKipcbiAgICAgKiBjb25zdHJ1Y3RvciBmb3IgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgVGhlIHJlbmRlcmVyIHRoaXMgdGlsaW5nIGF3ZXNvbWVuZXNzIHdvcmtzIGZvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKTtcblxuICAgICAgICBjb25zdCB1bmlmb3JtcyA9IHsgZ2xvYmFsczogdGhpcy5yZW5kZXJlci5nbG9iYWxVbmlmb3JtcyB9O1xuXG4gICAgICAgIHRoaXMuc2hhZGVyID0gU2hhZGVyLmZyb20odmVydGV4LCBmcmFnbWVudCwgdW5pZm9ybXMpO1xuXG4gICAgICAgIHRoaXMuc2ltcGxlU2hhZGVyID0gU2hhZGVyLmZyb20odmVydGV4LCBmcmFnbWVudFNpbXBsZSwgdW5pZm9ybXMpO1xuXG4gICAgICAgIHRoaXMucXVhZCA9IG5ldyBRdWFkVXYoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UaWxpbmdTcHJpdGV9IHRzIHRpbGluZ1Nwcml0ZSB0byBiZSByZW5kZXJlZFxuICAgICAqL1xuICAgIHJlbmRlcih0cylcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgY29uc3QgcXVhZCA9IHRoaXMucXVhZDtcblxuICAgICAgICBsZXQgdmVydGljZXMgPSBxdWFkLnZlcnRpY2VzO1xuXG4gICAgICAgIHZlcnRpY2VzWzBdID0gdmVydGljZXNbNl0gPSAodHMuX3dpZHRoKSAqIC10cy5hbmNob3IueDtcbiAgICAgICAgdmVydGljZXNbMV0gPSB2ZXJ0aWNlc1szXSA9IHRzLl9oZWlnaHQgKiAtdHMuYW5jaG9yLnk7XG5cbiAgICAgICAgdmVydGljZXNbMl0gPSB2ZXJ0aWNlc1s0XSA9ICh0cy5fd2lkdGgpICogKDEuMCAtIHRzLmFuY2hvci54KTtcbiAgICAgICAgdmVydGljZXNbNV0gPSB2ZXJ0aWNlc1s3XSA9IHRzLl9oZWlnaHQgKiAoMS4wIC0gdHMuYW5jaG9yLnkpO1xuXG4gICAgICAgIGlmICh0cy51dlJlc3BlY3RBbmNob3IpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZlcnRpY2VzID0gcXVhZC51dnM7XG5cbiAgICAgICAgICAgIHZlcnRpY2VzWzBdID0gdmVydGljZXNbNl0gPSAtdHMuYW5jaG9yLng7XG4gICAgICAgICAgICB2ZXJ0aWNlc1sxXSA9IHZlcnRpY2VzWzNdID0gLXRzLmFuY2hvci55O1xuXG4gICAgICAgICAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzRdID0gMS4wIC0gdHMuYW5jaG9yLng7XG4gICAgICAgICAgICB2ZXJ0aWNlc1s1XSA9IHZlcnRpY2VzWzddID0gMS4wIC0gdHMuYW5jaG9yLnk7XG4gICAgICAgIH1cblxuICAgICAgICBxdWFkLmludmFsaWRhdGUoKTtcblxuICAgICAgICBjb25zdCB0ZXggPSB0cy5fdGV4dHVyZTtcbiAgICAgICAgY29uc3QgYmFzZVRleCA9IHRleC5iYXNlVGV4dHVyZTtcbiAgICAgICAgY29uc3QgbHQgPSB0cy50aWxlVHJhbnNmb3JtLmxvY2FsVHJhbnNmb3JtO1xuICAgICAgICBjb25zdCB1diA9IHRzLnV2TWF0cml4O1xuICAgICAgICBsZXQgaXNTaW1wbGUgPSBiYXNlVGV4LmlzUG93ZXJPZlR3b1xuICAgICAgICAgICAgJiYgdGV4LmZyYW1lLndpZHRoID09PSBiYXNlVGV4LndpZHRoICYmIHRleC5mcmFtZS5oZWlnaHQgPT09IGJhc2VUZXguaGVpZ2h0O1xuXG4gICAgICAgIC8vIGF1dG8sIGZvcmNlIHJlcGVhdCB3cmFwTW9kZSBmb3IgYmlnIHRpbGluZyB0ZXh0dXJlc1xuICAgICAgICBpZiAoaXNTaW1wbGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghYmFzZVRleC5fZ2xUZXh0dXJlc1tyZW5kZXJlci5DT05URVhUX1VJRF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGJhc2VUZXgud3JhcE1vZGUgPT09IFdSQVBfTU9ERVMuQ0xBTVApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVGV4LndyYXBNb2RlID0gV1JBUF9NT0RFUy5SRVBFQVQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlzU2ltcGxlID0gYmFzZVRleC53cmFwTW9kZSAhPT0gV1JBUF9NT0RFUy5DTEFNUDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNoYWRlciA9IGlzU2ltcGxlID8gdGhpcy5zaW1wbGVTaGFkZXIgOiB0aGlzLnNoYWRlcjtcblxuICAgICAgICBjb25zdCB3ID0gdGV4LndpZHRoO1xuICAgICAgICBjb25zdCBoID0gdGV4LmhlaWdodDtcbiAgICAgICAgY29uc3QgVyA9IHRzLl93aWR0aDtcbiAgICAgICAgY29uc3QgSCA9IHRzLl9oZWlnaHQ7XG5cbiAgICAgICAgdGVtcE1hdC5zZXQobHQuYSAqIHcgLyBXLFxuICAgICAgICAgICAgbHQuYiAqIHcgLyBILFxuICAgICAgICAgICAgbHQuYyAqIGggLyBXLFxuICAgICAgICAgICAgbHQuZCAqIGggLyBILFxuICAgICAgICAgICAgbHQudHggLyBXLFxuICAgICAgICAgICAgbHQudHkgLyBIKTtcblxuICAgICAgICAvLyB0aGF0IHBhcnQgaXMgdGhlIHNhbWUgYXMgYWJvdmU6XG4gICAgICAgIC8vIHRlbXBNYXQuaWRlbnRpdHkoKTtcbiAgICAgICAgLy8gdGVtcE1hdC5zY2FsZSh0ZXgud2lkdGgsIHRleC5oZWlnaHQpO1xuICAgICAgICAvLyB0ZW1wTWF0LnByZXBlbmQobHQpO1xuICAgICAgICAvLyB0ZW1wTWF0LnNjYWxlKDEuMCAvIHRzLl93aWR0aCwgMS4wIC8gdHMuX2hlaWdodCk7XG5cbiAgICAgICAgdGVtcE1hdC5pbnZlcnQoKTtcbiAgICAgICAgaWYgKGlzU2ltcGxlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZW1wTWF0LnByZXBlbmQodXYubWFwQ29vcmQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVNYXBDb29yZCA9IHV2Lm1hcENvb3JkLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNsYW1wRnJhbWUgPSB1di51Q2xhbXBGcmFtZTtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q2xhbXBPZmZzZXQgPSB1di51Q2xhbXBPZmZzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICBzaGFkZXIudW5pZm9ybXMudVRyYW5zZm9ybSA9IHRlbXBNYXQudG9BcnJheSh0cnVlKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDb2xvciA9IHByZW11bHRpcGx5VGludFRvUmdiYSh0cy50aW50LCB0cy53b3JsZEFscGhhLFxuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDb2xvciwgYmFzZVRleC5wcmVtdWx0aXBseUFscGhhKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gdHMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy51U2FtcGxlciA9IHRleDtcblxuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHF1YWQpOy8vICwgcmVuZGVyZXIuc2hhZGVyLmdldEdMU2hhZGVyKCkpO1xuXG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldEJsZW5kTW9kZShjb3JyZWN0QmxlbmRNb2RlKHRzLmJsZW5kTW9kZSwgYmFzZVRleC5wcmVtdWx0aXBseUFscGhhKSk7XG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcodGhpcy5yZW5kZXJlci5nbC5UUklBTkdMRVMsIDYsIDApO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZVBvaW50LCBQb2ludCwgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5pbXBvcnQgeyByZW1vdmVJdGVtcywgZ2V0UmVzb2x1dGlvbk9mVXJsIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuXG4vKipcbiAqIEEgQml0bWFwVGV4dCBvYmplY3Qgd2lsbCBjcmVhdGUgYSBsaW5lIG9yIG11bHRpcGxlIGxpbmVzIG9mIHRleHQgdXNpbmcgYml0bWFwIGZvbnQuXG4gKlxuICogVGhlIHByaW1hcnkgYWR2YW50YWdlIG9mIHRoaXMgY2xhc3Mgb3ZlciBUZXh0IGlzIHRoYXQgYWxsIG9mIHlvdXIgdGV4dHVyZXMgYXJlIHByZS1nZW5lcmF0ZWQgYW5kIGxvYWRpbmcsXG4gKiBtZWFuaW5nIHRoYXQgcmVuZGVyaW5nIGlzIGZhc3QsIGFuZCBjaGFuZ2luZyB0ZXh0IGhhcyBubyBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMuXG4gKlxuICogVGhlIHByaW1hcnkgZGlzYWR2YW50YWdlIGlzIHRoYXQgeW91IG5lZWQgdG8gcHJlbG9hZCB0aGUgYml0bWFwIGZvbnQgYXNzZXRzLCBhbmQgdGh1cyB0aGUgc3R5bGluZyBpcyBzZXQgaW4gc3RvbmUuXG4gKiBTdXBwb3J0aW5nIGNoYXJhY3RlciBzZXRzIG90aGVyIHRoYW4gbGF0aW4sIHN1Y2ggYXMgQ0pLIGxhbmd1YWdlcywgbWF5IGJlIGltcHJhY3RpY2FsIGR1ZSB0byB0aGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMuXG4gKlxuICogVG8gc3BsaXQgYSBsaW5lIHlvdSBjYW4gdXNlICdcXG4nLCAnXFxyJyBvciAnXFxyXFxuJyBpbiB5b3VyIHN0cmluZy5cbiAqXG4gKiBZb3UgY2FuIGdlbmVyYXRlIHRoZSBmbnQgZmlsZXMgdXNpbmdcbiAqIGh0dHA6Ly93d3cuYW5nZWxjb2RlLmNvbS9wcm9kdWN0cy9ibWZvbnQvIGZvciBXaW5kb3dzIG9yXG4gKiBodHRwOi8vd3d3LmJtZ2x5cGguY29tLyBmb3IgTWFjLlxuICpcbiAqIEEgQml0bWFwVGV4dCBjYW4gb25seSBiZSBjcmVhdGVkIHdoZW4gdGhlIGZvbnQgaXMgbG9hZGVkLlxuICpcbiAqIGBgYGpzXG4gKiAvLyBpbiB0aGlzIGNhc2UgdGhlIGZvbnQgaXMgaW4gYSBmaWxlIGNhbGxlZCAnZGVzeXJlbC5mbnQnXG4gKiBsZXQgYml0bWFwVGV4dCA9IG5ldyBQSVhJLkJpdG1hcFRleHQoXCJ0ZXh0IHVzaW5nIGEgZmFuY3kgZm9udCFcIiwge2ZvbnQ6IFwiMzVweCBEZXN5cmVsXCIsIGFsaWduOiBcInJpZ2h0XCJ9KTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJpdG1hcFRleHQgZXh0ZW5kcyBDb250YWluZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIEEgc3RyaW5nIHRoYXQgeW91IHdvdWxkIGxpa2UgdGhlIHRleHQgdG8gZGlzcGxheS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3R5bGUgLSBUaGUgc3R5bGUgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHN0eWxlLmZvbnQgLSBUaGUgZm9udCBkZXNjcmlwdG9yIGZvciB0aGUgb2JqZWN0LCBjYW4gYmUgcGFzc2VkIGFzIGEgc3RyaW5nIG9mIGZvcm1cbiAgICAgKiAgICAgIFwiMjRweCBGb250TmFtZVwiIG9yIFwiRm9udE5hbWVcIiBvciBhcyBhbiBvYmplY3Qgd2l0aCBleHBsaWNpdCBuYW1lL3NpemUgcHJvcGVydGllcy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmZvbnQubmFtZV0gLSBUaGUgYml0bWFwIGZvbnQgaWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5mb250LnNpemVdIC0gVGhlIHNpemUgb2YgdGhlIGZvbnQgaW4gcGl4ZWxzLCBlLmcuIDI0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHlsZS5hbGlnbj0nbGVmdCddIC0gQWxpZ25tZW50IGZvciBtdWx0aWxpbmUgdGV4dCAoJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnKSwgZG9lcyBub3QgYWZmZWN0XG4gICAgICogICAgICBzaW5nbGUgbGluZSB0ZXh0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUudGludD0weEZGRkZGRl0gLSBUaGUgdGludCBjb2xvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0ZXh0LCBzdHlsZSA9IHt9KVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgd2lkdGggb2YgdGhlIG92ZXJhbGwgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90ZXh0V2lkdGggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBoZWlnaHQgb2YgdGhlIG92ZXJhbGwgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90ZXh0SGVpZ2h0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgbGV0dGVyIHNwcml0ZSBwb29sLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZ2x5cGhzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZvbnQgPSB7XG4gICAgICAgICAgICB0aW50OiBzdHlsZS50aW50ICE9PSB1bmRlZmluZWQgPyBzdHlsZS50aW50IDogMHhGRkZGRkYsXG4gICAgICAgICAgICBhbGlnbjogc3R5bGUuYWxpZ24gfHwgJ2xlZnQnLFxuICAgICAgICAgICAgbmFtZTogbnVsbCxcbiAgICAgICAgICAgIHNpemU6IDAsXG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgZm9udC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mb250ID0gc3R5bGUuZm9udDsgLy8gcnVuIGZvbnQgc2V0dGVyXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggd2lkdGggb2YgdGhpcyBiaXRtYXAgdGV4dCBpbiBwaXhlbHMuIElmIHRoZSB0ZXh0IHByb3ZpZGVkIGlzIGxvbmdlciB0aGFuIHRoZVxuICAgICAgICAgKiB2YWx1ZSBwcm92aWRlZCwgbGluZSBicmVha3Mgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGluc2VydGVkIGluIHRoZSBsYXN0IHdoaXRlc3BhY2UuXG4gICAgICAgICAqIERpc2FibGUgYnkgc2V0dGluZyB2YWx1ZSB0byAwXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21heFdpZHRoID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCBsaW5lIGhlaWdodC4gVGhpcyBpcyB1c2VmdWwgd2hlbiB0cnlpbmcgdG8gdXNlIHRoZSB0b3RhbCBoZWlnaHQgb2YgdGhlIFRleHQsXG4gICAgICAgICAqIGllOiB3aGVuIHRyeWluZyB0byB2ZXJ0aWNhbGx5IGFsaWduLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tYXhMaW5lSGVpZ2h0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTGV0dGVyIHNwYWNpbmcuIFRoaXMgaXMgdXNlZnVsIGZvciBzZXR0aW5nIHRoZSBzcGFjZSBiZXR3ZWVuIGNoYXJhY3RlcnMuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xldHRlclNwYWNpbmcgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZXh0IGFuY2hvci4gcmVhZC1vbmx5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYW5jaG9yID0gbmV3IE9ic2VydmFibGVQb2ludCgoKSA9PiB7IHRoaXMuZGlydHkgPSB0cnVlOyB9LCB0aGlzLCAwLCAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRpcnR5IHN0YXRlIG9mIHRoaXMgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICAgICAqIFRvIHNldCB0aGUgZ2xvYmFsIGRlZmF1bHQsIGNoYW5nZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFN9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJvdW5kUGl4ZWxzID0gc2V0dGluZ3MuUk9VTkRfUElYRUxTO1xuXG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGV4dCBhbmQgdXBkYXRlcyBpdCB3aGVuIG5lZWRlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB1cGRhdGVUZXh0KClcbiAgICB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBCaXRtYXBUZXh0LmZvbnRzW3RoaXMuX2ZvbnQubmFtZV07XG4gICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5fZm9udC5zaXplIC8gZGF0YS5zaXplO1xuICAgICAgICBjb25zdCBwb3MgPSBuZXcgUG9pbnQoKTtcbiAgICAgICAgY29uc3QgY2hhcnMgPSBbXTtcbiAgICAgICAgY29uc3QgbGluZVdpZHRocyA9IFtdO1xuICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5fdGV4dC5yZXBsYWNlKC8oPzpcXHJcXG58XFxyKS9nLCAnXFxuJykgfHwgJyAnO1xuICAgICAgICBjb25zdCB0ZXh0TGVuZ3RoID0gdGV4dC5sZW5ndGg7XG4gICAgICAgIGNvbnN0IG1heFdpZHRoID0gdGhpcy5fbWF4V2lkdGggKiBkYXRhLnNpemUgLyB0aGlzLl9mb250LnNpemU7XG5cbiAgICAgICAgbGV0IHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgIGxldCBsYXN0TGluZVdpZHRoID0gMDtcbiAgICAgICAgbGV0IG1heExpbmVXaWR0aCA9IDA7XG4gICAgICAgIGxldCBsaW5lID0gMDtcbiAgICAgICAgbGV0IGxhc3RCcmVha1BvcyA9IC0xO1xuICAgICAgICBsZXQgbGFzdEJyZWFrV2lkdGggPSAwO1xuICAgICAgICBsZXQgc3BhY2VzUmVtb3ZlZCA9IDA7XG4gICAgICAgIGxldCBtYXhMaW5lSGVpZ2h0ID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRleHRMZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgY2hhckNvZGUgPSB0ZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICBjb25zdCBjaGFyID0gdGV4dC5jaGFyQXQoaSk7XG5cbiAgICAgICAgICAgIGlmICgoLyg/OlxccykvKS50ZXN0KGNoYXIpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1BvcyA9IGk7XG4gICAgICAgICAgICAgICAgbGFzdEJyZWFrV2lkdGggPSBsYXN0TGluZVdpZHRoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2hhciA9PT0gJ1xccicgfHwgY2hhciA9PT0gJ1xcbicpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICAgICAgKytsaW5lO1xuICAgICAgICAgICAgICAgICsrc3BhY2VzUmVtb3ZlZDtcblxuICAgICAgICAgICAgICAgIHBvcy54ID0gMDtcbiAgICAgICAgICAgICAgICBwb3MueSArPSBkYXRhLmxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY2hhckRhdGEgPSBkYXRhLmNoYXJzW2NoYXJDb2RlXTtcblxuICAgICAgICAgICAgaWYgKCFjaGFyRGF0YSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByZXZDaGFyQ29kZSAmJiBjaGFyRGF0YS5rZXJuaW5nW3ByZXZDaGFyQ29kZV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcG9zLnggKz0gY2hhckRhdGEua2VybmluZ1twcmV2Q2hhckNvZGVdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGFycy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBjaGFyRGF0YS50ZXh0dXJlLFxuICAgICAgICAgICAgICAgIGxpbmUsXG4gICAgICAgICAgICAgICAgY2hhckNvZGUsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBQb2ludChwb3MueCArIGNoYXJEYXRhLnhPZmZzZXQgKyAodGhpcy5fbGV0dGVyU3BhY2luZyAvIDIpLCBwb3MueSArIGNoYXJEYXRhLnlPZmZzZXQpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwb3MueCArPSBjaGFyRGF0YS54QWR2YW5jZSArIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgICAgICAgICBsYXN0TGluZVdpZHRoID0gcG9zLng7XG4gICAgICAgICAgICBtYXhMaW5lSGVpZ2h0ID0gTWF0aC5tYXgobWF4TGluZUhlaWdodCwgKGNoYXJEYXRhLnlPZmZzZXQgKyBjaGFyRGF0YS50ZXh0dXJlLmhlaWdodCkpO1xuICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gY2hhckNvZGU7XG5cbiAgICAgICAgICAgIGlmIChsYXN0QnJlYWtQb3MgIT09IC0xICYmIG1heFdpZHRoID4gMCAmJiBwb3MueCA+IG1heFdpZHRoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICsrc3BhY2VzUmVtb3ZlZDtcbiAgICAgICAgICAgICAgICByZW1vdmVJdGVtcyhjaGFycywgMSArIGxhc3RCcmVha1BvcyAtIHNwYWNlc1JlbW92ZWQsIDEgKyBpIC0gbGFzdEJyZWFrUG9zKTtcbiAgICAgICAgICAgICAgICBpID0gbGFzdEJyZWFrUG9zO1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1BvcyA9IC0xO1xuXG4gICAgICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RCcmVha1dpZHRoKTtcbiAgICAgICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RCcmVha1dpZHRoKTtcbiAgICAgICAgICAgICAgICBsaW5lKys7XG5cbiAgICAgICAgICAgICAgICBwb3MueCA9IDA7XG4gICAgICAgICAgICAgICAgcG9zLnkgKz0gZGF0YS5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsYXN0Q2hhciA9IHRleHQuY2hhckF0KHRleHQubGVuZ3RoIC0gMSk7XG5cbiAgICAgICAgaWYgKGxhc3RDaGFyICE9PSAnXFxyJyAmJiBsYXN0Q2hhciAhPT0gJ1xcbicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICgoLyg/OlxccykvKS50ZXN0KGxhc3RDaGFyKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYXN0TGluZVdpZHRoID0gbGFzdEJyZWFrV2lkdGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdExpbmVXaWR0aCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsaW5lQWxpZ25PZmZzZXRzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gbGluZTsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgYWxpZ25PZmZzZXQgPSAwO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udC5hbGlnbiA9PT0gJ3JpZ2h0JylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhbGlnbk9mZnNldCA9IG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9mb250LmFsaWduID09PSAnY2VudGVyJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhbGlnbk9mZnNldCA9IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2ldKSAvIDI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxpbmVBbGlnbk9mZnNldHMucHVzaChhbGlnbk9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsZW5DaGFycyA9IGNoYXJzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgdGludCA9IHRoaXMudGludDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbkNoYXJzOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjID0gdGhpcy5fZ2x5cGhzW2ldOyAvLyBnZXQgdGhlIG5leHQgZ2x5cGggc3ByaXRlXG5cbiAgICAgICAgICAgIGlmIChjKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGMudGV4dHVyZSA9IGNoYXJzW2ldLnRleHR1cmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYyA9IG5ldyBTcHJpdGUoY2hhcnNbaV0udGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgYy5yb3VuZFBpeGVscyA9IHRoaXMucm91bmRQaXhlbHM7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2x5cGhzLnB1c2goYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGMucG9zaXRpb24ueCA9IChjaGFyc1tpXS5wb3NpdGlvbi54ICsgbGluZUFsaWduT2Zmc2V0c1tjaGFyc1tpXS5saW5lXSkgKiBzY2FsZTtcbiAgICAgICAgICAgIGMucG9zaXRpb24ueSA9IGNoYXJzW2ldLnBvc2l0aW9uLnkgKiBzY2FsZTtcbiAgICAgICAgICAgIGMuc2NhbGUueCA9IGMuc2NhbGUueSA9IHNjYWxlO1xuICAgICAgICAgICAgYy50aW50ID0gdGludDtcblxuICAgICAgICAgICAgaWYgKCFjLnBhcmVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIHVubmVjZXNzYXJ5IGNoaWxkcmVuLlxuICAgICAgICBmb3IgKGxldCBpID0gbGVuQ2hhcnM7IGkgPCB0aGlzLl9nbHlwaHMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQodGhpcy5fZ2x5cGhzW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RleHRXaWR0aCA9IG1heExpbmVXaWR0aCAqIHNjYWxlO1xuICAgICAgICB0aGlzLl90ZXh0SGVpZ2h0ID0gKHBvcy55ICsgZGF0YS5saW5lSGVpZ2h0KSAqIHNjYWxlO1xuXG4gICAgICAgIC8vIGFwcGx5IGFuY2hvclxuICAgICAgICBpZiAodGhpcy5hbmNob3IueCAhPT0gMCB8fCB0aGlzLmFuY2hvci55ICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbkNoYXJzOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ2x5cGhzW2ldLnggLT0gdGhpcy5fdGV4dFdpZHRoICogdGhpcy5hbmNob3IueDtcbiAgICAgICAgICAgICAgICB0aGlzLl9nbHlwaHNbaV0ueSAtPSB0aGlzLl90ZXh0SGVpZ2h0ICogdGhpcy5hbmNob3IueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXhMaW5lSGVpZ2h0ID0gbWF4TGluZUhlaWdodCAqIHNjYWxlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHRyYW5zZm9ybSBvZiB0aGlzIG9iamVjdFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB1cGRhdGVUcmFuc2Zvcm0oKVxuICAgIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlcyB0ZXh0IGJlZm9yZSBjYWxsaW5nIHBhcmVudCdzIGdldExvY2FsQm91bmRzXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWFcbiAgICAgKi9cbiAgICBnZXRMb2NhbEJvdW5kcygpXG4gICAge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHN1cGVyLmdldExvY2FsQm91bmRzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0ZXh0IHdoZW4gbmVlZGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHZhbGlkYXRlKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQoKTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB0aW50IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgdGludCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9udC50aW50O1xuICAgIH1cblxuICAgIHNldCB0aW50KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZvbnQudGludCA9ICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHZhbHVlID49IDApID8gdmFsdWUgOiAweEZGRkZGRjtcblxuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYWxpZ25tZW50IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKiBAZGVmYXVsdCAnbGVmdCdcbiAgICAgKi9cbiAgICBnZXQgYWxpZ24oKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnQuYWxpZ247XG4gICAgfVxuXG4gICAgc2V0IGFsaWduKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZvbnQuYWxpZ24gPSB2YWx1ZSB8fCAnbGVmdCc7XG5cbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGFuY2hvciBzZXRzIHRoZSBvcmlnaW4gcG9pbnQgb2YgdGhlIHRleHQuXG4gICAgICpcbiAgICAgKiBUaGUgZGVmYXVsdCBpcyBgKDAsMClgLCB0aGlzIG1lYW5zIHRoZSB0ZXh0J3Mgb3JpZ2luIGlzIHRoZSB0b3AgbGVmdC5cbiAgICAgKlxuICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byBgKDAuNSwwLjUpYCBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyBjZW50ZXJlZC5cbiAgICAgKlxuICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byBgKDEsMSlgIHdvdWxkIG1lYW4gdGhlIHRleHQncyBvcmlnaW4gcG9pbnQgd2lsbCBiZSB0aGUgYm90dG9tIHJpZ2h0IGNvcm5lci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnQgfCBudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGFuY2hvcigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yO1xuICAgIH1cblxuICAgIHNldCBhbmNob3IodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2FuY2hvci5zZXQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYW5jaG9yLmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBmb250IGRlc2NyaXB0b3Igb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAqL1xuICAgIGdldCBmb250KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb250O1xuICAgIH1cblxuICAgIHNldCBmb250KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICghdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnNwbGl0KCcgJyk7XG5cbiAgICAgICAgICAgIHRoaXMuX2ZvbnQubmFtZSA9IHZhbHVlLmxlbmd0aCA9PT0gMSA/IHZhbHVlWzBdIDogdmFsdWUuc2xpY2UoMSkuam9pbignICcpO1xuICAgICAgICAgICAgdGhpcy5fZm9udC5zaXplID0gdmFsdWUubGVuZ3RoID49IDIgPyBwYXJzZUludCh2YWx1ZVswXSwgMTApIDogQml0bWFwVGV4dC5mb250c1t0aGlzLl9mb250Lm5hbWVdLnNpemU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mb250Lm5hbWUgPSB2YWx1ZS5uYW1lO1xuICAgICAgICAgICAgdGhpcy5fZm9udC5zaXplID0gdHlwZW9mIHZhbHVlLnNpemUgPT09ICdudW1iZXInID8gdmFsdWUuc2l6ZSA6IHBhcnNlSW50KHZhbHVlLnNpemUsIDEwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXQgdGV4dCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgICB9XG5cbiAgICBzZXQgdGV4dCh0ZXh0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRleHQgPSBTdHJpbmcodGV4dCA9PT0gbnVsbCB8fCB0ZXh0ID09PSB1bmRlZmluZWQgPyAnJyA6IHRleHQpO1xuXG4gICAgICAgIGlmICh0aGlzLl90ZXh0ID09PSB0ZXh0KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXggd2lkdGggb2YgdGhpcyBiaXRtYXAgdGV4dCBpbiBwaXhlbHMuIElmIHRoZSB0ZXh0IHByb3ZpZGVkIGlzIGxvbmdlciB0aGFuIHRoZVxuICAgICAqIHZhbHVlIHByb3ZpZGVkLCBsaW5lIGJyZWFrcyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgaW5zZXJ0ZWQgaW4gdGhlIGxhc3Qgd2hpdGVzcGFjZS5cbiAgICAgKiBEaXNhYmxlIGJ5IHNldHRpbmcgdGhlIHZhbHVlIHRvIDAuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IG1heFdpZHRoKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXhXaWR0aDtcbiAgICB9XG5cbiAgICBzZXQgbWF4V2lkdGgodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX21heFdpZHRoID09PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21heFdpZHRoID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXggbGluZSBoZWlnaHQuIFRoaXMgaXMgdXNlZnVsIHdoZW4gdHJ5aW5nIHRvIHVzZSB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBUZXh0LFxuICAgICAqIGkuZS4gd2hlbiB0cnlpbmcgdG8gdmVydGljYWxseSBhbGlnbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgbWF4TGluZUhlaWdodCgpXG4gICAge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX21heExpbmVIZWlnaHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBvdmVyYWxsIHRleHQsIGRpZmZlcmVudCBmcm9tIGZvbnRTaXplLFxuICAgICAqIHdoaWNoIGlzIGRlZmluZWQgaW4gdGhlIHN0eWxlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgdGV4dFdpZHRoKClcbiAgICB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dFdpZHRoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZGl0aW9uYWwgc3BhY2UgYmV0d2VlbiBjaGFyYWN0ZXJzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBsZXR0ZXJTcGFjaW5nKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xuICAgIH1cblxuICAgIHNldCBsZXR0ZXJTcGFjaW5nKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9sZXR0ZXJTcGFjaW5nICE9PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbGV0dGVyU3BhY2luZyA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBvdmVyYWxsIHRleHQsIGRpZmZlcmVudCBmcm9tIGZvbnRTaXplLFxuICAgICAqIHdoaWNoIGlzIGRlZmluZWQgaW4gdGhlIHN0eWxlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBnZXQgdGV4dEhlaWdodCgpXG4gICAge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHRIZWlnaHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBiaXRtYXAgZm9udCB3aXRoIGRhdGEgYW5kIGEgdGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1hNTERvY3VtZW50fSB4bWwgLSBUaGUgWE1MIGRvY3VtZW50IGRhdGEuXG4gICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywgUElYSS5UZXh0dXJlPnxQSVhJLlRleHR1cmV8UElYSS5UZXh0dXJlW119IHRleHR1cmVzIC0gTGlzdCBvZiB0ZXh0dXJlcyBmb3IgZWFjaCBwYWdlLlxuICAgICAqICBJZiBwcm92aWRpbmcgYW4gb2JqZWN0LCB0aGUga2V5IGlzIHRoZSBgPHBhZ2U+YCBlbGVtZW50J3MgYGZpbGVgIGF0dHJpYnV0ZSBpbiB0aGUgRk5UIGZpbGUuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBSZXN1bHQgZm9udCBvYmplY3Qgd2l0aCBmb250LCBzaXplLCBsaW5lSGVpZ2h0IGFuZCBjaGFyIGZpZWxkcy5cbiAgICAgKi9cbiAgICBzdGF0aWMgcmVnaXN0ZXJGb250KHhtbCwgdGV4dHVyZXMpXG4gICAge1xuICAgICAgICBjb25zdCBkYXRhID0ge307XG4gICAgICAgIGNvbnN0IGluZm8gPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2luZm8nKVswXTtcbiAgICAgICAgY29uc3QgY29tbW9uID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjb21tb24nKVswXTtcbiAgICAgICAgY29uc3QgcGFnZXMgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhZ2UnKTtcbiAgICAgICAgY29uc3QgcmVzID0gZ2V0UmVzb2x1dGlvbk9mVXJsKHBhZ2VzWzBdLmdldEF0dHJpYnV0ZSgnZmlsZScpLCBzZXR0aW5ncy5SRVNPTFVUSU9OKTtcbiAgICAgICAgY29uc3QgcGFnZXNUZXh0dXJlcyA9IHt9O1xuXG4gICAgICAgIGRhdGEuZm9udCA9IGluZm8uZ2V0QXR0cmlidXRlKCdmYWNlJyk7XG4gICAgICAgIGRhdGEuc2l6ZSA9IHBhcnNlSW50KGluZm8uZ2V0QXR0cmlidXRlKCdzaXplJyksIDEwKTtcbiAgICAgICAgZGF0YS5saW5lSGVpZ2h0ID0gcGFyc2VJbnQoY29tbW9uLmdldEF0dHJpYnV0ZSgnbGluZUhlaWdodCcpLCAxMCkgLyByZXM7XG4gICAgICAgIGRhdGEuY2hhcnMgPSB7fTtcblxuICAgICAgICAvLyBTaW5nbGUgdGV4dHVyZSwgY29udmVydCB0byBsaXN0XG4gICAgICAgIGlmICh0ZXh0dXJlcyBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHR1cmVzID0gW3RleHR1cmVzXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENvbnZlcnQgdGhlIGlucHV0IFRleHR1cmUsIFRleHR1cmVzIG9yIG9iamVjdFxuICAgICAgICAvLyBpbnRvIGEgcGFnZSBUZXh0dXJlIGxvb2t1cCBieSBcImlkXCJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWdlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBwYWdlc1tpXS5nZXRBdHRyaWJ1dGUoJ2lkJyk7XG4gICAgICAgICAgICBjb25zdCBmaWxlID0gcGFnZXNbaV0uZ2V0QXR0cmlidXRlKCdmaWxlJyk7XG5cbiAgICAgICAgICAgIHBhZ2VzVGV4dHVyZXNbaWRdID0gdGV4dHVyZXMgaW5zdGFuY2VvZiBBcnJheSA/IHRleHR1cmVzW2ldIDogdGV4dHVyZXNbZmlsZV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwYXJzZSBsZXR0ZXJzXG4gICAgICAgIGNvbnN0IGxldHRlcnMgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NoYXInKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxldHRlcnMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGxldHRlciA9IGxldHRlcnNbaV07XG4gICAgICAgICAgICBjb25zdCBjaGFyQ29kZSA9IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ2lkJyksIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2UgPSBsZXR0ZXIuZ2V0QXR0cmlidXRlKCdwYWdlJykgfHwgMDtcbiAgICAgICAgICAgIGNvbnN0IHRleHR1cmVSZWN0ID0gbmV3IFJlY3RhbmdsZShcbiAgICAgICAgICAgICAgICAocGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneCcpLCAxMCkgLyByZXMpICsgKHBhZ2VzVGV4dHVyZXNbcGFnZV0uZnJhbWUueCAvIHJlcyksXG4gICAgICAgICAgICAgICAgKHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3knKSwgMTApIC8gcmVzKSArIChwYWdlc1RleHR1cmVzW3BhZ2VdLmZyYW1lLnkgLyByZXMpLFxuICAgICAgICAgICAgICAgIHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3dpZHRoJyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSwgMTApIC8gcmVzXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBkYXRhLmNoYXJzW2NoYXJDb2RlXSA9IHtcbiAgICAgICAgICAgICAgICB4T2Zmc2V0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd4b2Zmc2V0JyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICB5T2Zmc2V0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd5b2Zmc2V0JyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICB4QWR2YW5jZTogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneGFkdmFuY2UnKSwgMTApIC8gcmVzLFxuICAgICAgICAgICAgICAgIGtlcm5pbmc6IHt9LFxuICAgICAgICAgICAgICAgIHRleHR1cmU6IG5ldyBUZXh0dXJlKHBhZ2VzVGV4dHVyZXNbcGFnZV0uYmFzZVRleHR1cmUsIHRleHR1cmVSZWN0KSxcbiAgICAgICAgICAgICAgICBwYWdlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHBhcnNlIGtlcm5pbmdzXG4gICAgICAgIGNvbnN0IGtlcm5pbmdzID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdrZXJuaW5nJyk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXJuaW5ncy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qga2VybmluZyA9IGtlcm5pbmdzW2ldO1xuICAgICAgICAgICAgY29uc3QgZmlyc3QgPSBwYXJzZUludChrZXJuaW5nLmdldEF0dHJpYnV0ZSgnZmlyc3QnKSwgMTApIC8gcmVzO1xuICAgICAgICAgICAgY29uc3Qgc2Vjb25kID0gcGFyc2VJbnQoa2VybmluZy5nZXRBdHRyaWJ1dGUoJ3NlY29uZCcpLCAxMCkgLyByZXM7XG4gICAgICAgICAgICBjb25zdCBhbW91bnQgPSBwYXJzZUludChrZXJuaW5nLmdldEF0dHJpYnV0ZSgnYW1vdW50JyksIDEwKSAvIHJlcztcblxuICAgICAgICAgICAgaWYgKGRhdGEuY2hhcnNbc2Vjb25kXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkYXRhLmNoYXJzW3NlY29uZF0ua2VybmluZ1tmaXJzdF0gPSBhbW91bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJJ20gbGVhdmluZyB0aGlzIGFzIGEgdGVtcG9yYXJ5IGZpeCBzbyB3ZSBjYW4gdGVzdCB0aGUgYml0bWFwIGZvbnRzIGluIHYzXG4gICAgICAgIC8vIGJ1dCBpdCdzIHZlcnkgbGlrZWx5IHRvIGNoYW5nZVxuICAgICAgICBCaXRtYXBUZXh0LmZvbnRzW2RhdGEuZm9udF0gPSBkYXRhO1xuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbn1cblxuQml0bWFwVGV4dC5mb250cyA9IHt9O1xuIiwiaW1wb3J0IHsgTG9hZGVyUmVzb3VyY2UgfSBmcm9tICdAcGl4aS9sb2FkZXJzJztcbmltcG9ydCBCaXRtYXBUZXh0IGZyb20gJy4vQml0bWFwVGV4dCc7XG5cbi8qKlxuICoge0BsaW5rIFBJWEkuTG9hZGVyIExvYWRlcn0gbWlkZGxld2FyZSBmb3IgbG9hZGluZ1xuICogYml0bWFwLWJhc2VkIGZvbnRzIHN1aXRhYmxlIGZvciB1c2luZyB3aXRoIHtAbGluayBQSVhJLkJpdG1hcFRleHR9LlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGltcGxlbWVudHMgUElYSS5JTG9hZGVyUGx1Z2luXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJpdG1hcEZvbnRMb2FkZXJcbntcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIEJpdG1hcFRleHQgZm9udCBmcm9tIGxvYWRlciByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2UgLSBMb2FkZXIgcmVzb3VyY2UuXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBSZWZlcmVuY2UgdG8gdGV4dHVyZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgcGFyc2UocmVzb3VyY2UsIHRleHR1cmUpXG4gICAge1xuICAgICAgICByZXNvdXJjZS5iaXRtYXBGb250ID0gQml0bWFwVGV4dC5yZWdpc3RlckZvbnQocmVzb3VyY2UuZGF0YSwgdGV4dHVyZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIHBsdWdpbiBpcyBpbnN0YWxsZWQuXG4gICAgICpcbiAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luXG4gICAgICovXG4gICAgc3RhdGljIGFkZCgpXG4gICAge1xuICAgICAgICBMb2FkZXJSZXNvdXJjZS5zZXRFeHRlbnNpb25YaHJUeXBlKCdmbnQnLCBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZW1lbnQgZm9yIE5vZGVKUydzIHBhdGguZGlybmFtZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBQYXRoIHRvIGdldCBkaXJlY3RvcnkgZm9yXG4gICAgICovXG4gICAgc3RhdGljIGRpcm5hbWUodXJsKVxuICAgIHtcbiAgICAgICAgY29uc3QgZGlyID0gdXJsXG4gICAgICAgICAgICAucmVwbGFjZSgvXFwvJC8sICcnKSAvLyByZXBsYWNlIHRyYWlsaW5nIHNsYXNoXG4gICAgICAgICAgICAucmVwbGFjZSgvXFwvW15cXC9dKiQvLCAnJyk7IC8vIHJlbW92ZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBsYXN0XG5cbiAgICAgICAgLy8gRmlsZSByZXF1ZXN0IGlzIHJlbGF0aXZlLCB1c2UgY3VycmVudCBkaXJlY3RvcnlcbiAgICAgICAgaWYgKGRpciA9PT0gdXJsKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gJy4nO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN0YXJ0ZWQgd2l0aCBhIHNsYXNoXG4gICAgICAgIGVsc2UgaWYgKGRpciA9PT0gJycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAnLyc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGlyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBhZnRlciBhIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLmxvYWRlck1pZGRsZXdhcmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2V9IHJlc291cmNlXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbmV4dFxuICAgICAqL1xuICAgIHN0YXRpYyB1c2UocmVzb3VyY2UsIG5leHQpXG4gICAge1xuICAgICAgICAvLyBza2lwIGlmIG5vIGRhdGEgb3Igbm90IHhtbCBkYXRhXG4gICAgICAgIGlmICghcmVzb3VyY2UuZGF0YSB8fCByZXNvdXJjZS50eXBlICE9PSBMb2FkZXJSZXNvdXJjZS5UWVBFLlhNTClcbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dCgpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBza2lwIGlmIG5vdCBiaXRtYXAgZm9udCBkYXRhLCB1c2luZyBzb21lIHNpbGx5IGR1Y2stdHlwaW5nXG4gICAgICAgIGlmIChyZXNvdXJjZS5kYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYWdlJykubGVuZ3RoID09PSAwXG4gICAgICAgICAgICB8fCByZXNvdXJjZS5kYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJykubGVuZ3RoID09PSAwXG4gICAgICAgICAgICB8fCByZXNvdXJjZS5kYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJylbMF0uZ2V0QXR0cmlidXRlKCdmYWNlJykgPT09IG51bGxcbiAgICAgICAgKVxuICAgICAgICB7XG4gICAgICAgICAgICBuZXh0KCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB4bWxVcmwgPSAhcmVzb3VyY2UuaXNEYXRhVXJsID8gQml0bWFwRm9udExvYWRlci5kaXJuYW1lKHJlc291cmNlLnVybCkgOiAnJztcblxuICAgICAgICBpZiAocmVzb3VyY2UuaXNEYXRhVXJsKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoeG1sVXJsID09PSAnLicpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgeG1sVXJsID0gJyc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmJhc2VVcmwgJiYgeG1sVXJsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGlmIGJhc2V1cmwgaGFzIGEgdHJhaWxpbmcgc2xhc2ggdGhlbiBhZGQgb25lIHRvIHhtbFVybCBzbyB0aGUgcmVwbGFjZSB3b3JrcyBiZWxvd1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhc2VVcmwuY2hhckF0KHRoaXMuYmFzZVVybC5sZW5ndGggLSAxKSA9PT0gJy8nKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgeG1sVXJsICs9ICcvJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgYmFzZVVybCBmcm9tIHhtbFVybFxuICAgICAgICB4bWxVcmwgPSB4bWxVcmwucmVwbGFjZSh0aGlzLmJhc2VVcmwsICcnKTtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbiB4bWxVcmwgbm93LCBpdCBuZWVkcyBhIHRyYWlsaW5nIHNsYXNoLiBFbnN1cmUgdGhhdCBpdCBkb2VzIGlmIHRoZSBzdHJpbmcgaXNuJ3QgZW1wdHkuXG4gICAgICAgIGlmICh4bWxVcmwgJiYgeG1sVXJsLmNoYXJBdCh4bWxVcmwubGVuZ3RoIC0gMSkgIT09ICcvJylcbiAgICAgICAge1xuICAgICAgICAgICAgeG1sVXJsICs9ICcvJztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhZ2VzID0gcmVzb3VyY2UuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgncGFnZScpO1xuICAgICAgICBjb25zdCB0ZXh0dXJlcyA9IHt9O1xuXG4gICAgICAgIC8vIEhhbmRsZSBjb21wbGV0ZWQsIHdoZW4gdGhlIG51bWJlciBvZiB0ZXh0dXJlc1xuICAgICAgICAvLyBsb2FkIGlzIHRoZSBzYW1lIG51bWJlciBhcyByZWZlcmVuY2VzIGluIHRoZSBmbnQgZmlsZVxuICAgICAgICBjb25zdCBjb21wbGV0ZWQgPSAocGFnZSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGV4dHVyZXNbcGFnZS5tZXRhZGF0YS5wYWdlRmlsZV0gPSBwYWdlLnRleHR1cmU7XG5cbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh0ZXh0dXJlcykubGVuZ3RoID09PSBwYWdlcy5sZW5ndGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgQml0bWFwRm9udExvYWRlci5wYXJzZShyZXNvdXJjZSwgdGV4dHVyZXMpO1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2VzLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwYWdlRmlsZSA9IHBhZ2VzW2ldLmdldEF0dHJpYnV0ZSgnZmlsZScpO1xuICAgICAgICAgICAgY29uc3QgdXJsID0geG1sVXJsICsgcGFnZUZpbGU7XG4gICAgICAgICAgICBsZXQgZXhpc3RzID0gZmFsc2U7XG5cbiAgICAgICAgICAgIC8vIGluY2FzZSB0aGUgaW1hZ2UgaXMgbG9hZGVkIG91dHNpZGVcbiAgICAgICAgICAgIC8vIHVzaW5nIHRoZSBzYW1lIGxvYWRlciwgcmVzb3VyY2Ugd2lsbCBiZSBhdmFpbGFibGVcbiAgICAgICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiB0aGlzLnJlc291cmNlcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiaXRtYXBSZXNvdXJjZSA9IHRoaXMucmVzb3VyY2VzW25hbWVdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGJpdG1hcFJlc291cmNlLnVybCA9PT0gdXJsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYml0bWFwUmVzb3VyY2UubWV0YWRhdGEucGFnZUZpbGUgPSBwYWdlRmlsZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJpdG1hcFJlc291cmNlLnRleHR1cmUpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZChiaXRtYXBSZXNvdXJjZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiaXRtYXBSZXNvdXJjZS5vbkFmdGVyTWlkZGxld2FyZS5hZGQoY29tcGxldGVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBleGlzdHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHRleHR1cmUgaXMgbm90IGxvYWRlZCwgd2UnbGwgYXR0ZW1wdCB0byBhZGRcbiAgICAgICAgICAgIC8vIGl0IHRvIHRoZSBsb2FkIGFuZCBhZGQgdGhlIHRleHR1cmUgdG8gdGhlIGxpc3RcbiAgICAgICAgICAgIGlmICghZXhpc3RzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFN0YW5kYXJkIGxvYWRpbmcgb3B0aW9ucyBmb3IgaW1hZ2VzXG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHJlc291cmNlLmNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgICAgICAgICBsb2FkVHlwZTogTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgcGFnZUZpbGUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLm1ldGFkYXRhLmltYWdlTWV0YWRhdGFcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50UmVzb3VyY2U6IHJlc291cmNlLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB0aGlzLmFkZCh1cmwsIG9wdGlvbnMsIGNvbXBsZXRlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGaWx0ZXIsIGRlZmF1bHRWZXJ0ZXggfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCBmcmFnbWVudCBmcm9tICcuL2FscGhhLmZyYWcnO1xuXG4vKipcbiAqIFNpbXBsZXN0IGZpbHRlciAtIGFwcGxpZXMgYWxwaGEuXG4gKlxuICogVXNlIHRoaXMgaW5zdGVhZCBvZiBDb250YWluZXIncyBhbHBoYSBwcm9wZXJ0eSB0byBhdm9pZCB2aXN1YWwgbGF5ZXJpbmcgb2YgaW5kaXZpZHVhbCBlbGVtZW50cy5cbiAqIEFscGhhRmlsdGVyIGFwcGxpZXMgYWxwaGEgZXZlbmx5IGFjcm9zcyB0aGUgZW50aXJlIGRpc3BsYXkgb2JqZWN0IGFuZCBhbnkgb3BhcXVlIGVsZW1lbnRzIGl0IGNvbnRhaW5zLlxuICogSWYgZWxlbWVudHMgYXJlIG5vdCBvcGFxdWUsIHRoZXkgd2lsbCBibGVuZCB3aXRoIGVhY2ggb3RoZXIgYW55d2F5LlxuICpcbiAqIFZlcnkgaGFuZHkgaWYgeW91IHdhbnQgdG8gdXNlIGNvbW1vbiBmZWF0dXJlcyBvZiBhbGwgZmlsdGVyczpcbiAqXG4gKiAxLiBBc3NpZ24gYSBibGVuZE1vZGUgdG8gdGhpcyBmaWx0ZXIsIGJsZW5kIGFsbCBlbGVtZW50cyBpbnNpZGUgZGlzcGxheSBvYmplY3Qgd2l0aCBiYWNrZ3JvdW5kLlxuICpcbiAqIDIuIFRvIHVzZSBjbGlwcGluZyBpbiBkaXNwbGF5IGNvb3JkaW5hdGVzLCBhc3NpZ24gYSBmaWx0ZXJBcmVhIHRvIHRoZSBzYW1lIGNvbnRhaW5lciB0aGF0IGhhcyB0aGlzIGZpbHRlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFscGhhRmlsdGVyIGV4dGVuZHMgRmlsdGVyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbHBoYT0xXSBBbW91bnQgb2YgYWxwaGEgZnJvbSAwIHRvIDEsIHdoZXJlIDAgaXMgdHJhbnNwYXJlbnRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihhbHBoYSA9IDEuMClcbiAgICB7XG4gICAgICAgIHN1cGVyKGRlZmF1bHRWZXJ0ZXgsIGZyYWdtZW50LCB7IHVBbHBoYTogMSB9KTtcblxuICAgICAgICB0aGlzLmFscGhhID0gYWxwaGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29lZmZpY2llbnQgZm9yIGFscGhhIG11bHRpcGxpY2F0aW9uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIGdldCBhbHBoYSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51QWxwaGE7XG4gICAgfVxuXG4gICAgc2V0IGFscGhhKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudW5pZm9ybXMudUFscGhhID0gdmFsdWU7XG4gICAgfVxufVxuIiwiY29uc3QgdmVydFRlbXBsYXRlID0gYFxuICAgIGF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcblxuICAgIHVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xuXG4gICAgdW5pZm9ybSBmbG9hdCBzdHJlbmd0aDtcblxuICAgIHZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdO1xuXG4gICAgdW5pZm9ybSB2ZWM0IGlucHV0U2l6ZTtcbiAgICB1bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XG4gICAgXG4gICAgdmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXG4gICAge1xuICAgICAgICB2ZWMyIHBvc2l0aW9uID0gYVZlcnRleFBvc2l0aW9uICogbWF4KG91dHB1dEZyYW1lLnp3LCB2ZWMyKDAuKSkgKyBvdXRwdXRGcmFtZS54eTtcbiAgICBcbiAgICAgICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xuICAgIH1cbiAgICBcbiAgICB2ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXG4gICAge1xuICAgICAgICByZXR1cm4gYVZlcnRleFBvc2l0aW9uICogKG91dHB1dEZyYW1lLnp3ICogaW5wdXRTaXplLnp3KTtcbiAgICB9XG5cbiAgICB2b2lkIG1haW4odm9pZClcbiAgICB7XG4gICAgICAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcblxuICAgICAgICB2ZWMyIHRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xuICAgICAgICAlYmx1ciVcbiAgICB9YDtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2VuZXJhdGVCbHVyVmVydFNvdXJjZShrZXJuZWxTaXplLCB4KVxue1xuICAgIGNvbnN0IGhhbGZMZW5ndGggPSBNYXRoLmNlaWwoa2VybmVsU2l6ZSAvIDIpO1xuXG4gICAgbGV0IHZlcnRTb3VyY2UgPSB2ZXJ0VGVtcGxhdGU7XG5cbiAgICBsZXQgYmx1ckxvb3AgPSAnJztcbiAgICBsZXQgdGVtcGxhdGU7XG4gICAgLy8gbGV0IHZhbHVlO1xuXG4gICAgaWYgKHgpXG4gICAge1xuICAgICAgICB0ZW1wbGF0ZSA9ICd2Qmx1clRleENvb3Jkc1slaW5kZXglXSA9ICB0ZXh0dXJlQ29vcmQgKyB2ZWMyKCVzYW1wbGVJbmRleCUgKiBzdHJlbmd0aCwgMC4wKTsnO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICB0ZW1wbGF0ZSA9ICd2Qmx1clRleENvb3Jkc1slaW5kZXglXSA9ICB0ZXh0dXJlQ29vcmQgKyB2ZWMyKDAuMCwgJXNhbXBsZUluZGV4JSAqIHN0cmVuZ3RoKTsnO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2VybmVsU2l6ZTsgaSsrKVxuICAgIHtcbiAgICAgICAgbGV0IGJsdXIgPSB0ZW1wbGF0ZS5yZXBsYWNlKCclaW5kZXglJywgaSk7XG5cbiAgICAgICAgLy8gdmFsdWUgPSBpO1xuXG4gICAgICAgIC8vIGlmKGkgPj0gaGFsZkxlbmd0aClcbiAgICAgICAgLy8ge1xuICAgICAgICAvLyAgICAgdmFsdWUgPSBrZXJuZWxTaXplIC0gaSAtIDE7XG4gICAgICAgIC8vIH1cblxuICAgICAgICBibHVyID0gYmx1ci5yZXBsYWNlKCclc2FtcGxlSW5kZXglJywgYCR7aSAtIChoYWxmTGVuZ3RoIC0gMSl9LjBgKTtcblxuICAgICAgICBibHVyTG9vcCArPSBibHVyO1xuICAgICAgICBibHVyTG9vcCArPSAnXFxuJztcbiAgICB9XG5cbiAgICB2ZXJ0U291cmNlID0gdmVydFNvdXJjZS5yZXBsYWNlKCclYmx1ciUnLCBibHVyTG9vcCk7XG4gICAgdmVydFNvdXJjZSA9IHZlcnRTb3VyY2UucmVwbGFjZSgnJXNpemUlJywga2VybmVsU2l6ZSk7XG5cbiAgICByZXR1cm4gdmVydFNvdXJjZTtcbn1cbiIsImNvbnN0IEdBVVNTSUFOX1ZBTFVFUyA9IHtcbiAgICA1OiBbMC4xNTMzODgsIDAuMjIxNDYxLCAwLjI1MDMwMV0sXG4gICAgNzogWzAuMDcxMzAzLCAwLjEzMTUxNCwgMC4xODk4NzksIDAuMjE0NjA3XSxcbiAgICA5OiBbMC4wMjg1MzIsIDAuMDY3MjM0LCAwLjEyNDAwOSwgMC4xNzkwNDQsIDAuMjAyMzZdLFxuICAgIDExOiBbMC4wMDkzLCAwLjAyODAwMiwgMC4wNjU5ODQsIDAuMTIxNzAzLCAwLjE3NTcxMywgMC4xOTg1OTZdLFxuICAgIDEzOiBbMC4wMDI0MDYsIDAuMDA5MjU1LCAwLjAyNzg2NywgMC4wNjU2NjYsIDAuMTIxMTE3LCAwLjE3NDg2OCwgMC4xOTc2NDFdLFxuICAgIDE1OiBbMC4wMDA0ODksIDAuMDAyNDAzLCAwLjAwOTI0NiwgMC4wMjc4NCwgMC4wNjU2MDIsIDAuMTIwOTk5LCAwLjE3NDY5NywgMC4xOTc0NDhdLFxufTtcblxuY29uc3QgZnJhZ1RlbXBsYXRlID0gW1xuICAgICd2YXJ5aW5nIHZlYzIgdkJsdXJUZXhDb29yZHNbJXNpemUlXTsnLFxuICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjsnLFxuXG4gICAgJ3ZvaWQgbWFpbih2b2lkKScsXG4gICAgJ3snLFxuICAgICcgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjApOycsXG4gICAgJyAgICAlYmx1ciUnLFxuICAgICd9JyxcblxuXS5qb2luKCdcXG4nKTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZShrZXJuZWxTaXplKVxue1xuICAgIGNvbnN0IGtlcm5lbCA9IEdBVVNTSUFOX1ZBTFVFU1trZXJuZWxTaXplXTtcbiAgICBjb25zdCBoYWxmTGVuZ3RoID0ga2VybmVsLmxlbmd0aDtcblxuICAgIGxldCBmcmFnU291cmNlID0gZnJhZ1RlbXBsYXRlO1xuXG4gICAgbGV0IGJsdXJMb29wID0gJyc7XG4gICAgY29uc3QgdGVtcGxhdGUgPSAnZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh1U2FtcGxlciwgdkJsdXJUZXhDb29yZHNbJWluZGV4JV0pICogJXZhbHVlJTsnO1xuICAgIGxldCB2YWx1ZTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2VybmVsU2l6ZTsgaSsrKVxuICAgIHtcbiAgICAgICAgbGV0IGJsdXIgPSB0ZW1wbGF0ZS5yZXBsYWNlKCclaW5kZXglJywgaSk7XG5cbiAgICAgICAgdmFsdWUgPSBpO1xuXG4gICAgICAgIGlmIChpID49IGhhbGZMZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhbHVlID0ga2VybmVsU2l6ZSAtIGkgLSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgYmx1ciA9IGJsdXIucmVwbGFjZSgnJXZhbHVlJScsIGtlcm5lbFt2YWx1ZV0pO1xuXG4gICAgICAgIGJsdXJMb29wICs9IGJsdXI7XG4gICAgICAgIGJsdXJMb29wICs9ICdcXG4nO1xuICAgIH1cblxuICAgIGZyYWdTb3VyY2UgPSBmcmFnU291cmNlLnJlcGxhY2UoJyVibHVyJScsIGJsdXJMb29wKTtcbiAgICBmcmFnU291cmNlID0gZnJhZ1NvdXJjZS5yZXBsYWNlKCclc2l6ZSUnLCBrZXJuZWxTaXplKTtcblxuICAgIHJldHVybiBmcmFnU291cmNlO1xufVxuIiwiaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCBnZW5lcmF0ZUJsdXJWZXJ0U291cmNlIGZyb20gJy4vZ2VuZXJhdGVCbHVyVmVydFNvdXJjZSc7XG5pbXBvcnQgZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZSBmcm9tICcuL2dlbmVyYXRlQmx1ckZyYWdTb3VyY2UnO1xuXG4vKipcbiAqIFRoZSBCbHVyRmlsdGVyUGFzcyBhcHBsaWVzIGEgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCBHYXVzc2lhbiBibHVyIHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJsdXJGaWx0ZXJQYXNzIGV4dGVuZHMgRmlsdGVyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBob3Jpem9udGFsIC0gRG8gcGFzcyBhbG9uZyB0aGUgeC1heGlzIChgdHJ1ZWApIG9yIHktYXhpcyAoYGZhbHNlYCkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmVuZ3RoIC0gVGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcXVhbGl0eSAtIFRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmVzb2x1dGlvbiAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2tlcm5lbFNpemU9NV0gLSBUaGUga2VybmVsU2l6ZSBvZiB0aGUgYmx1ciBmaWx0ZXIuT3B0aW9uczogNSwgNywgOSwgMTEsIDEzLCAxNS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihob3Jpem9udGFsLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSlcbiAgICB7XG4gICAgICAgIGtlcm5lbFNpemUgPSBrZXJuZWxTaXplIHx8IDU7XG4gICAgICAgIGNvbnN0IHZlcnRTcmMgPSBnZW5lcmF0ZUJsdXJWZXJ0U291cmNlKGtlcm5lbFNpemUsIGhvcml6b250YWwpO1xuICAgICAgICBjb25zdCBmcmFnU3JjID0gZ2VuZXJhdGVCbHVyRnJhZ1NvdXJjZShrZXJuZWxTaXplKTtcblxuICAgICAgICBzdXBlcihcbiAgICAgICAgICAgIC8vIHZlcnRleCBzaGFkZXJcbiAgICAgICAgICAgIHZlcnRTcmMsXG4gICAgICAgICAgICAvLyBmcmFnbWVudCBzaGFkZXJcbiAgICAgICAgICAgIGZyYWdTcmNcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmhvcml6b250YWwgPSBob3Jpem9udGFsO1xuXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgc2V0dGluZ3MuUkVTT0xVVElPTjtcblxuICAgICAgICB0aGlzLl9xdWFsaXR5ID0gMDtcblxuICAgICAgICB0aGlzLnF1YWxpdHkgPSBxdWFsaXR5IHx8IDQ7XG5cbiAgICAgICAgdGhpcy5ibHVyID0gc3RyZW5ndGggfHwgODtcbiAgICB9XG5cbiAgICBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhcilcbiAgICB7XG4gICAgICAgIGlmIChvdXRwdXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhvcml6b250YWwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gb3V0cHV0LndpZHRoKSAqIChvdXRwdXQud2lkdGggLyBpbnB1dC53aWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gb3V0cHV0LmhlaWdodCkgKiAob3V0cHV0LmhlaWdodCAvIGlucHV0LmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5ob3Jpem9udGFsKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gZmlsdGVyTWFuYWdlci5yZW5kZXJlci53aWR0aCkgKiAoZmlsdGVyTWFuYWdlci5yZW5kZXJlci53aWR0aCAvIGlucHV0LndpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoID0gKDEgLyBmaWx0ZXJNYW5hZ2VyLnJlbmRlcmVyLmhlaWdodCkgKiAoZmlsdGVyTWFuYWdlci5yZW5kZXJlci5oZWlnaHQgLyBpbnB1dC5oZWlnaHQpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzY3JlZW4gc3BhY2UhXG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggKj0gdGhpcy5zdHJlbmd0aDtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCAvPSB0aGlzLnBhc3NlcztcblxuICAgICAgICBpZiAodGhpcy5wYXNzZXMgPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyVGFyZ2V0ID0gZmlsdGVyTWFuYWdlci5nZXRGaWx0ZXJUZXh0dXJlKCk7XG4gICAgICAgICAgICBjb25zdCByZW5kZXJlciA9IGZpbHRlck1hbmFnZXIucmVuZGVyZXI7XG5cbiAgICAgICAgICAgIGxldCBmbGlwID0gaW5wdXQ7XG4gICAgICAgICAgICBsZXQgZmxvcCA9IHJlbmRlclRhcmdldDtcblxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZCA9IGZhbHNlO1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBmbGlwLCBmbG9wLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5wYXNzZXMgLSAxOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKGZsaXAsIGZsaXAuZmlsdGVyRnJhbWUpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy51U2FtcGxlciA9IGZsb3A7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wID0gZmxvcDtcblxuICAgICAgICAgICAgICAgIGZsb3AgPSBmbGlwO1xuICAgICAgICAgICAgICAgIGZsaXAgPSB0ZW1wO1xuXG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcyk7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyg1KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZCA9IHRydWU7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGZsb3AsIG91dHB1dCwgY2xlYXIpO1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5yZXR1cm5GaWx0ZXJUZXh0dXJlKHJlbmRlclRhcmdldCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgYm90aCB0aGUgYmx1ci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxNlxuICAgICAqL1xuICAgIGdldCBibHVyKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0cmVuZ3RoO1xuICAgIH1cblxuICAgIHNldCBibHVyKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMucGFkZGluZyA9IDEgKyAoTWF0aC5hYnModmFsdWUpICogMik7XG4gICAgICAgIHRoaXMuc3RyZW5ndGggPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBxdWFsaXR5IG9mIHRoZSBibHVyIGJ5IG1vZGlmeWluZyB0aGUgbnVtYmVyIG9mIHBhc3Nlcy4gTW9yZSBwYXNzZXMgbWVhbnMgaGlnaGVyXG4gICAgICogcXVhaWxpdHkgYmx1cmluZyBidXQgdGhlIGxvd2VyIHRoZSBwZXJmb3JtYW5jZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCA0XG4gICAgICovXG4gICAgZ2V0IHF1YWxpdHkoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3F1YWxpdHk7XG4gICAgfVxuXG4gICAgc2V0IHF1YWxpdHkodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fcXVhbGl0eSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnBhc3NlcyA9IHZhbHVlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgc2V0dGluZ3MgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgQmx1ckZpbHRlclBhc3MgZnJvbSAnLi9CbHVyRmlsdGVyUGFzcyc7XG5cbi8qKlxuICogVGhlIEJsdXJGaWx0ZXIgYXBwbGllcyBhIEdhdXNzaWFuIGJsdXIgdG8gYW4gb2JqZWN0LlxuICpcbiAqIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBjYW4gYmUgc2V0IGZvciB0aGUgeC1heGlzIGFuZCB5LWF4aXMgc2VwYXJhdGVseS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJsdXJGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0cmVuZ3RoPThdIC0gVGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3F1YWxpdHk9NF0gLSBUaGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBmaWx0ZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uXSAtIFRoZSByZXNvbHV0aW9uIG9mIHRoZSBibHVyIGZpbHRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2tlcm5lbFNpemU9NV0gLSBUaGUga2VybmVsU2l6ZSBvZiB0aGUgYmx1ciBmaWx0ZXIuT3B0aW9uczogNSwgNywgOSwgMTEsIDEzLCAxNS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSlcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5ibHVyWEZpbHRlciA9IG5ldyBCbHVyRmlsdGVyUGFzcyh0cnVlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgICAgIHRoaXMuYmx1cllGaWx0ZXIgPSBuZXcgQmx1ckZpbHRlclBhc3MoZmFsc2UsIHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKTtcblxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzLlJFU09MVVRJT047XG4gICAgICAgIHRoaXMucXVhbGl0eSA9IHF1YWxpdHkgfHwgNDtcbiAgICAgICAgdGhpcy5ibHVyID0gc3RyZW5ndGggfHwgODtcblxuICAgICAgICB0aGlzLnJlcGVhdEVkZ2VQaXhlbHMgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW19IGZpbHRlck1hbmFnZXIgLSBUaGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGV4dHVyZX0gaW5wdXQgLSBUaGUgaW5wdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBvdXRwdXQgLSBUaGUgb3V0cHV0IHRhcmdldC5cbiAgICAgKi9cbiAgICBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhcilcbiAgICB7XG4gICAgICAgIGNvbnN0IHhTdHJlbmd0aCA9IE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpO1xuICAgICAgICBjb25zdCB5U3RyZW5ndGggPSBNYXRoLmFicyh0aGlzLmJsdXJZRmlsdGVyLnN0cmVuZ3RoKTtcblxuICAgICAgICBpZiAoeFN0cmVuZ3RoICYmIHlTdHJlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcmVuZGVyVGFyZ2V0ID0gZmlsdGVyTWFuYWdlci5nZXRGaWx0ZXJUZXh0dXJlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIHJlbmRlclRhcmdldCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIHJlbmRlclRhcmdldCwgb3V0cHV0LCBjbGVhcik7XG5cbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIucmV0dXJuRmlsdGVyVGV4dHVyZShyZW5kZXJUYXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHlTdHJlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ibHVyWUZpbHRlci5hcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGNsZWFyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZVBhZGRpbmcoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcGVhdEVkZ2VQaXhlbHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSBNYXRoLm1heChNYXRoLmFicyh0aGlzLmJsdXJYRmlsdGVyLnN0cmVuZ3RoKSwgTWF0aC5hYnModGhpcy5ibHVyWUZpbHRlci5zdHJlbmd0aCkpICogMjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIGJvdGggdGhlIGJsdXJYIGFuZCBibHVyWSBwcm9wZXJ0aWVzIHNpbXVsdGFuZW91c2x5XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMlxuICAgICAqL1xuICAgIGdldCBibHVyKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsdXJYRmlsdGVyLmJsdXI7XG4gICAgfVxuXG4gICAgc2V0IGJsdXIodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5ibHVyID0gdGhpcy5ibHVyWUZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG51bWJlciBvZiBwYXNzZXMgZm9yIGJsdXIuIE1vcmUgcGFzc2VzIG1lYW5zIGhpZ2hlciBxdWFpbGl0eSBibHVyaW5nLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBnZXQgcXVhbGl0eSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5xdWFsaXR5O1xuICAgIH1cblxuICAgIHNldCBxdWFsaXR5KHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuYmx1clhGaWx0ZXIucXVhbGl0eSA9IHRoaXMuYmx1cllGaWx0ZXIucXVhbGl0eSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyWCBwcm9wZXJ0eVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDJcbiAgICAgKi9cbiAgICBnZXQgYmx1clgoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIuYmx1cjtcbiAgICB9XG5cbiAgICBzZXQgYmx1clgodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyWSBwcm9wZXJ0eVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDJcbiAgICAgKi9cbiAgICBnZXQgYmx1clkoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmx1cllGaWx0ZXIuYmx1cjtcbiAgICB9XG5cbiAgICBzZXQgYmx1clkodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5ibHVyWUZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGJsZW5kbW9kZSBvZiB0aGUgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgKi9cbiAgICBnZXQgYmxlbmRNb2RlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsdXJZRmlsdGVyLmJsZW5kTW9kZTtcbiAgICB9XG5cbiAgICBzZXQgYmxlbmRNb2RlKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSWYgc2V0IHRvIHRydWUgdGhlIGVkZ2Ugb2YgdGhlIHRhcmdldCB3aWxsIGJlIGNsYW1wZWRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2x9XG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBnZXQgcmVwZWF0RWRnZVBpeGVscygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVwZWF0RWRnZVBpeGVscztcbiAgICB9XG5cbiAgICBzZXQgcmVwZWF0RWRnZVBpeGVscyh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX3JlcGVhdEVkZ2VQaXhlbHMgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy51cGRhdGVQYWRkaW5nKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmlsdGVyLCBkZWZhdWx0RmlsdGVyVmVydGV4IH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgZnJhZ21lbnQgZnJvbSAnLi9jb2xvck1hdHJpeC5mcmFnJztcblxuLyoqXG4gKiBUaGUgQ29sb3JNYXRyaXhGaWx0ZXIgY2xhc3MgbGV0cyB5b3UgYXBwbHkgYSA1eDQgbWF0cml4IHRyYW5zZm9ybWF0aW9uIG9uIHRoZSBSR0JBXG4gKiBjb2xvciBhbmQgYWxwaGEgdmFsdWVzIG9mIGV2ZXJ5IHBpeGVsIG9uIHlvdXIgZGlzcGxheU9iamVjdCB0byBwcm9kdWNlIGEgcmVzdWx0XG4gKiB3aXRoIGEgbmV3IHNldCBvZiBSR0JBIGNvbG9yIGFuZCBhbHBoYSB2YWx1ZXMuIEl0J3MgcHJldHR5IHBvd2VyZnVsIVxuICpcbiAqIGBgYGpzXG4gKiAgbGV0IGNvbG9yTWF0cml4ID0gbmV3IFBJWEkuZmlsdGVycy5Db2xvck1hdHJpeEZpbHRlcigpO1xuICogIGNvbnRhaW5lci5maWx0ZXJzID0gW2NvbG9yTWF0cml4XTtcbiAqICBjb2xvck1hdHJpeC5jb250cmFzdCgyKTtcbiAqIGBgYFxuICogQGF1dGhvciBDbMOpbWVudCBDaGVuZWJhdWx0IDxjbGVtZW50QGdvb2Rib3lkaWdpdGFsLmNvbT5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29sb3JNYXRyaXhGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXJcbntcbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICBjb25zdCB1bmlmb3JtcyA9IHtcbiAgICAgICAgICAgIG06IG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMSwgMCwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAxLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDAsIDEsIDBdKSxcbiAgICAgICAgICAgIHVBbHBoYTogMSxcbiAgICAgICAgfTtcblxuICAgICAgICBzdXBlcihkZWZhdWx0RmlsdGVyVmVydGV4LCBmcmFnbWVudCwgdW5pZm9ybXMpO1xuXG4gICAgICAgIHRoaXMuYWxwaGEgPSAxO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybXMgY3VycmVudCBtYXRyaXggYW5kIHNldCB0aGUgbmV3IG9uZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gbWF0cml4IC0gNXg0IG1hdHJpeFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIF9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkgPSBmYWxzZSlcbiAgICB7XG4gICAgICAgIGxldCBuZXdNYXRyaXggPSBtYXRyaXg7XG5cbiAgICAgICAgaWYgKG11bHRpcGx5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9tdWx0aXBseShuZXdNYXRyaXgsIHRoaXMudW5pZm9ybXMubSwgbWF0cml4KTtcbiAgICAgICAgICAgIG5ld01hdHJpeCA9IHRoaXMuX2NvbG9yTWF0cml4KG5ld01hdHJpeCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgdGhlIG5ldyBtYXRyaXhcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tID0gbmV3TWF0cml4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdHdvIG1hdDUnc1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBvdXQgLSA1eDQgbWF0cml4IHRoZSByZWNlaXZpbmcgbWF0cml4XG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYSAtIDV4NCBtYXRyaXggdGhlIGZpcnN0IG9wZXJhbmRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBiIC0gNXg0IG1hdHJpeCB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyW119IDV4NCBtYXRyaXhcbiAgICAgKi9cbiAgICBfbXVsdGlwbHkob3V0LCBhLCBiKVxuICAgIHtcbiAgICAgICAgLy8gUmVkIENoYW5uZWxcbiAgICAgICAgb3V0WzBdID0gKGFbMF0gKiBiWzBdKSArIChhWzFdICogYls1XSkgKyAoYVsyXSAqIGJbMTBdKSArIChhWzNdICogYlsxNV0pO1xuICAgICAgICBvdXRbMV0gPSAoYVswXSAqIGJbMV0pICsgKGFbMV0gKiBiWzZdKSArIChhWzJdICogYlsxMV0pICsgKGFbM10gKiBiWzE2XSk7XG4gICAgICAgIG91dFsyXSA9IChhWzBdICogYlsyXSkgKyAoYVsxXSAqIGJbN10pICsgKGFbMl0gKiBiWzEyXSkgKyAoYVszXSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzNdID0gKGFbMF0gKiBiWzNdKSArIChhWzFdICogYls4XSkgKyAoYVsyXSAqIGJbMTNdKSArIChhWzNdICogYlsxOF0pO1xuICAgICAgICBvdXRbNF0gPSAoYVswXSAqIGJbNF0pICsgKGFbMV0gKiBiWzldKSArIChhWzJdICogYlsxNF0pICsgKGFbM10gKiBiWzE5XSkgKyBhWzRdO1xuXG4gICAgICAgIC8vIEdyZWVuIENoYW5uZWxcbiAgICAgICAgb3V0WzVdID0gKGFbNV0gKiBiWzBdKSArIChhWzZdICogYls1XSkgKyAoYVs3XSAqIGJbMTBdKSArIChhWzhdICogYlsxNV0pO1xuICAgICAgICBvdXRbNl0gPSAoYVs1XSAqIGJbMV0pICsgKGFbNl0gKiBiWzZdKSArIChhWzddICogYlsxMV0pICsgKGFbOF0gKiBiWzE2XSk7XG4gICAgICAgIG91dFs3XSA9IChhWzVdICogYlsyXSkgKyAoYVs2XSAqIGJbN10pICsgKGFbN10gKiBiWzEyXSkgKyAoYVs4XSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzhdID0gKGFbNV0gKiBiWzNdKSArIChhWzZdICogYls4XSkgKyAoYVs3XSAqIGJbMTNdKSArIChhWzhdICogYlsxOF0pO1xuICAgICAgICBvdXRbOV0gPSAoYVs1XSAqIGJbNF0pICsgKGFbNl0gKiBiWzldKSArIChhWzddICogYlsxNF0pICsgKGFbOF0gKiBiWzE5XSkgKyBhWzldO1xuXG4gICAgICAgIC8vIEJsdWUgQ2hhbm5lbFxuICAgICAgICBvdXRbMTBdID0gKGFbMTBdICogYlswXSkgKyAoYVsxMV0gKiBiWzVdKSArIChhWzEyXSAqIGJbMTBdKSArIChhWzEzXSAqIGJbMTVdKTtcbiAgICAgICAgb3V0WzExXSA9IChhWzEwXSAqIGJbMV0pICsgKGFbMTFdICogYls2XSkgKyAoYVsxMl0gKiBiWzExXSkgKyAoYVsxM10gKiBiWzE2XSk7XG4gICAgICAgIG91dFsxMl0gPSAoYVsxMF0gKiBiWzJdKSArIChhWzExXSAqIGJbN10pICsgKGFbMTJdICogYlsxMl0pICsgKGFbMTNdICogYlsxN10pO1xuICAgICAgICBvdXRbMTNdID0gKGFbMTBdICogYlszXSkgKyAoYVsxMV0gKiBiWzhdKSArIChhWzEyXSAqIGJbMTNdKSArIChhWzEzXSAqIGJbMThdKTtcbiAgICAgICAgb3V0WzE0XSA9IChhWzEwXSAqIGJbNF0pICsgKGFbMTFdICogYls5XSkgKyAoYVsxMl0gKiBiWzE0XSkgKyAoYVsxM10gKiBiWzE5XSkgKyBhWzE0XTtcblxuICAgICAgICAvLyBBbHBoYSBDaGFubmVsXG4gICAgICAgIG91dFsxNV0gPSAoYVsxNV0gKiBiWzBdKSArIChhWzE2XSAqIGJbNV0pICsgKGFbMTddICogYlsxMF0pICsgKGFbMThdICogYlsxNV0pO1xuICAgICAgICBvdXRbMTZdID0gKGFbMTVdICogYlsxXSkgKyAoYVsxNl0gKiBiWzZdKSArIChhWzE3XSAqIGJbMTFdKSArIChhWzE4XSAqIGJbMTZdKTtcbiAgICAgICAgb3V0WzE3XSA9IChhWzE1XSAqIGJbMl0pICsgKGFbMTZdICogYls3XSkgKyAoYVsxN10gKiBiWzEyXSkgKyAoYVsxOF0gKiBiWzE3XSk7XG4gICAgICAgIG91dFsxOF0gPSAoYVsxNV0gKiBiWzNdKSArIChhWzE2XSAqIGJbOF0pICsgKGFbMTddICogYlsxM10pICsgKGFbMThdICogYlsxOF0pO1xuICAgICAgICBvdXRbMTldID0gKGFbMTVdICogYls0XSkgKyAoYVsxNl0gKiBiWzldKSArIChhWzE3XSAqIGJbMTRdKSArIChhWzE4XSAqIGJbMTldKSArIGFbMTldO1xuXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgRmxvYXQzMiBBcnJheSBhbmQgbm9ybWFsaXplIHRoZSBvZmZzZXQgY29tcG9uZW50IHRvIDAtMVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBtYXRyaXggLSA1eDQgbWF0cml4XG4gICAgICogQHJldHVybiB7bnVtYmVyW119IDV4NCBtYXRyaXggd2l0aCBhbGwgdmFsdWVzIGJldHdlZW4gMC0xXG4gICAgICovXG4gICAgX2NvbG9yTWF0cml4KG1hdHJpeClcbiAgICB7XG4gICAgICAgIC8vIENyZWF0ZSBhIEZsb2F0MzIgQXJyYXkgYW5kIG5vcm1hbGl6ZSB0aGUgb2Zmc2V0IGNvbXBvbmVudCB0byAwLTFcbiAgICAgICAgY29uc3QgbSA9IG5ldyBGbG9hdDMyQXJyYXkobWF0cml4KTtcblxuICAgICAgICBtWzRdIC89IDI1NTtcbiAgICAgICAgbVs5XSAvPSAyNTU7XG4gICAgICAgIG1bMTRdIC89IDI1NTtcbiAgICAgICAgbVsxOV0gLz0gMjU1O1xuXG4gICAgICAgIHJldHVybiBtO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkanVzdHMgYnJpZ2h0bmVzc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGIgLSB2YWx1ZSBvZiB0aGUgYnJpZ3RobmVzcyAoMC0xLCB3aGVyZSAwIGlzIGJsYWNrKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIGJyaWdodG5lc3MoYiwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAgICAgICBiLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgYiwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIGIsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBtYXRyaWNlcyBpbiBncmV5IHNjYWxlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIC0gdmFsdWUgb2YgdGhlIGdyZXkgKDAtMSwgd2hlcmUgMCBpcyBibGFjaylcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBncmV5c2NhbGUoc2NhbGUsIG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgICAgICAgc2NhbGUsIHNjYWxlLCBzY2FsZSwgMCwgMCxcbiAgICAgICAgICAgIHNjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsXG4gICAgICAgICAgICBzY2FsZSwgc2NhbGUsIHNjYWxlLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYmxhY2sgYW5kIHdoaXRlIG1hdHJpY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBibGFja0FuZFdoaXRlKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC4zLCAwLjYsIDAuMSwgMCwgMCxcbiAgICAgICAgICAgIDAuMywgMC42LCAwLjEsIDAsIDAsXG4gICAgICAgICAgICAwLjMsIDAuNiwgMC4xLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgaHVlIHByb3BlcnR5IG9mIHRoZSBjb2xvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gaW4gZGVncmVlc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIGh1ZShyb3RhdGlvbiwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICByb3RhdGlvbiA9IChyb3RhdGlvbiB8fCAwKSAvIDE4MCAqIE1hdGguUEk7XG5cbiAgICAgICAgY29uc3QgY29zUiA9IE1hdGguY29zKHJvdGF0aW9uKTtcbiAgICAgICAgY29uc3Qgc2luUiA9IE1hdGguc2luKHJvdGF0aW9uKTtcbiAgICAgICAgY29uc3Qgc3FydCA9IE1hdGguc3FydDtcblxuICAgICAgICAvKiBhIGdvb2QgYXBwcm94aW1hdGlvbiBmb3IgaHVlIHJvdGF0aW9uXG4gICAgICAgICBUaGlzIG1hdHJpeCBpcyBmYXIgYmV0dGVyIHRoYW4gdGhlIHZlcnNpb25zIHdpdGggbWFnaWMgbHVtaW5hbmNlIGNvbnN0YW50c1xuICAgICAgICAgZm9ybWVybHkgdXNlZCBoZXJlLCBidXQgYWxzbyB1c2VkIGluIHRoZSBzdGFybGluZyBmcmFtZXdvcmsgKGZsYXNoKSBhbmQga25vd24gZnJvbSB0aGlzXG4gICAgICAgICBvbGQgcGFydCBvZiB0aGUgaW50ZXJuZXQ6IHF1YXNpbW9uZG8uY29tL2FyY2hpdmVzLzAwMDU2NS5waHBcblxuICAgICAgICAgVGhpcyBuZXcgbWF0cml4IGlzIGJhc2VkIG9uIHJnYiBjdWJlIHJvdGF0aW9uIGluIHNwYWNlLiBMb29rIGhlcmUgZm9yIGEgbW9yZSBkZXNjcmlwdGl2ZVxuICAgICAgICAgaW1wbGVtZW50YXRpb24gYXMgYSBzaGFkZXIgbm90IGEgZ2VuZXJhbCBtYXRyaXg6XG4gICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vZXZhbncvZ2xmeC5qcy9ibG9iLzU4ODQxYzIzOTE5YmQ1OTc4N2VmZmMwMzMzYTQ4OTdiNDM4MzU0MTIvc3JjL2ZpbHRlcnMvYWRqdXN0L2h1ZXNhdHVyYXRpb24uanNcblxuICAgICAgICAgVGhpcyBpcyB0aGUgc291cmNlIGZvciB0aGUgY29kZTpcbiAgICAgICAgIHNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzg1MDc4ODUvc2hpZnQtaHVlLW9mLWFuLXJnYi1jb2xvci84NTEwNzUxIzg1MTA3NTFcbiAgICAgICAgICovXG5cbiAgICAgICAgY29uc3QgdyA9IDEgLyAzO1xuICAgICAgICBjb25zdCBzcXJXID0gc3FydCh3KTsgLy8gd2VpZ2h0IGlzXG5cbiAgICAgICAgY29uc3QgYTAwID0gY29zUiArICgoMS4wIC0gY29zUikgKiB3KTtcbiAgICAgICAgY29uc3QgYTAxID0gKHcgKiAoMS4wIC0gY29zUikpIC0gKHNxclcgKiBzaW5SKTtcbiAgICAgICAgY29uc3QgYTAyID0gKHcgKiAoMS4wIC0gY29zUikpICsgKHNxclcgKiBzaW5SKTtcblxuICAgICAgICBjb25zdCBhMTAgPSAodyAqICgxLjAgLSBjb3NSKSkgKyAoc3FyVyAqIHNpblIpO1xuICAgICAgICBjb25zdCBhMTEgPSBjb3NSICsgKHcgKiAoMS4wIC0gY29zUikpO1xuICAgICAgICBjb25zdCBhMTIgPSAodyAqICgxLjAgLSBjb3NSKSkgLSAoc3FyVyAqIHNpblIpO1xuXG4gICAgICAgIGNvbnN0IGEyMCA9ICh3ICogKDEuMCAtIGNvc1IpKSAtIChzcXJXICogc2luUik7XG4gICAgICAgIGNvbnN0IGEyMSA9ICh3ICogKDEuMCAtIGNvc1IpKSArIChzcXJXICogc2luUik7XG4gICAgICAgIGNvbnN0IGEyMiA9IGNvc1IgKyAodyAqICgxLjAgLSBjb3NSKSk7XG5cbiAgICAgICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgICAgICAgYTAwLCBhMDEsIGEwMiwgMCwgMCxcbiAgICAgICAgICAgIGExMCwgYTExLCBhMTIsIDAsIDAsXG4gICAgICAgICAgICBhMjAsIGEyMSwgYTIyLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29udHJhc3QgbWF0cml4LCBpbmNyZWFzZSB0aGUgc2VwYXJhdGlvbiBiZXR3ZWVuIGRhcmsgYW5kIGJyaWdodFxuICAgICAqIEluY3JlYXNlIGNvbnRyYXN0IDogc2hhZG93cyBkYXJrZXIgYW5kIGhpZ2hsaWdodHMgYnJpZ2h0ZXJcbiAgICAgKiBEZWNyZWFzZSBjb250cmFzdCA6IGJyaW5nIHRoZSBzaGFkb3dzIHVwIGFuZCB0aGUgaGlnaGxpZ2h0cyBkb3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdmFsdWUgb2YgdGhlIGNvbnRyYXN0ICgwLTEpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgY29udHJhc3QoYW1vdW50LCBtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHYgPSAoYW1vdW50IHx8IDApICsgMTtcbiAgICAgICAgY29uc3QgbyA9IC0wLjUgKiAodiAtIDEpO1xuXG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgICAgICAgIHYsIDAsIDAsIDAsIG8sXG4gICAgICAgICAgICAwLCB2LCAwLCAwLCBvLFxuICAgICAgICAgICAgMCwgMCwgdiwgMCwgbyxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHNhdHVyYXRpb24gbWF0cml4LCBpbmNyZWFzZSB0aGUgc2VwYXJhdGlvbiBiZXR3ZWVuIGNvbG9yc1xuICAgICAqIEluY3JlYXNlIHNhdHVyYXRpb24gOiBpbmNyZWFzZSBjb250cmFzdCwgYnJpZ2h0bmVzcywgYW5kIHNoYXJwbmVzc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIFRoZSBzYXR1cmF0aW9uIGFtb3VudCAoMC0xKVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIHNhdHVyYXRlKGFtb3VudCA9IDAsIG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgY29uc3QgeCA9IChhbW91bnQgKiAyIC8gMykgKyAxO1xuICAgICAgICBjb25zdCB5ID0gKCh4IC0gMSkgKiAtMC41KTtcblxuICAgICAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAgICAgICB4LCB5LCB5LCAwLCAwLFxuICAgICAgICAgICAgeSwgeCwgeSwgMCwgMCxcbiAgICAgICAgICAgIHksIHksIHgsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzYXR1cmF0ZSBpbWFnZSAocmVtb3ZlIGNvbG9yKVxuICAgICAqXG4gICAgICogQ2FsbCB0aGUgc2F0dXJhdGUgZnVuY3Rpb25cbiAgICAgKlxuICAgICAqL1xuICAgIGRlc2F0dXJhdGUoKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge1xuICAgICAgICB0aGlzLnNhdHVyYXRlKC0xKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBOZWdhdGl2ZSBpbWFnZSAoaW52ZXJzZSBvZiBjbGFzc2ljIHJnYiBtYXRyaXgpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBuZWdhdGl2ZShtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgICAgICAgIC0xLCAwLCAwLCAxLCAwLFxuICAgICAgICAgICAgMCwgLTEsIDAsIDEsIDAsXG4gICAgICAgICAgICAwLCAwLCAtMSwgMSwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXBpYSBpbWFnZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgc2VwaWEobXVsdGlwbHkpXG4gICAge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLjM5MywgMC43Njg5OTk5LCAwLjE4ODk5OTk5LCAwLCAwLFxuICAgICAgICAgICAgMC4zNDksIDAuNjg1OTk5OSwgMC4xNjc5OTk5OSwgMCwgMCxcbiAgICAgICAgICAgIDAuMjcyLCAwLjUzMzk5OTksIDAuMTMwOTk5OTksIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29sb3IgbW90aW9uIHBpY3R1cmUgcHJvY2VzcyBpbnZlbnRlZCBpbiAxOTE2ICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgdGVjaG5pY29sb3IobXVsdGlwbHkpXG4gICAge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAgICAgICAxLjkxMjUyNzc4OTE0NTYwODMsIC0wLjg1NDUzNDQ5NzY5NTE2NDUsIC0wLjA5MTU1NTA4NDgyNzU1NTg1LCAwLCAxMS43OTM2MDM0MzQzNzczMzcsXG4gICAgICAgICAgICAtMC4zMDg3ODMzMzg1OTI4MDk3LCAxLjc2NTg5MDg1NTU0NTg0MjgsIC0wLjEwNjAxNzQzMDc0NzIyMjQ1LCAwLCAtNzAuMzUyMDUxNjE0NjEzOTgsXG4gICAgICAgICAgICAtMC4yMzExMDMzNzc1NDg2MTYsIC0wLjc1MDE4OTkxOTc0NDAyMTIsIDEuODQ3NTk3ODE2MTA4MTg5LCAwLCAzMC45NTA5NDA4Njk0OTExMzgsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUG9sYXJvaWQgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBwb2xhcm9pZChtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDEuNDM4LCAtMC4wNjIsIC0wLjA2MiwgMCwgMCxcbiAgICAgICAgICAgIC0wLjEyMiwgMS4zNzgsIC0wLjEyMiwgMCwgMCxcbiAgICAgICAgICAgIC0wLjAxNiwgLTAuMDE2LCAxLjQ4MywgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgd2hvIHRyYW5zZm9ybXMgOiBSZWQgLT4gQmx1ZSBhbmQgQmx1ZSAtPiBSZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIHRvQkdSKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgICAgICAgMCwgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDEsIDAsIDAsIDAsXG4gICAgICAgICAgICAxLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbG9yIHJldmVyc2FsIGZpbG0gaW50cm9kdWNlZCBieSBFYXN0bWFuIEtvZGFrIGluIDE5MzUuICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAga29kYWNocm9tZShtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDEuMTI4NTU4MjM5NjU5MzUyNSwgLTAuMzk2NzM4MjI4MzYwMTM0OCwgLTAuMDM5OTI1NTkxNzI5MjE3OTMsIDAsIDYzLjcyOTU4NzYyMTk2NTAyLFxuICAgICAgICAgICAgLTAuMTY0MDQzMzk5NjIyNDQ2MTYsIDEuMDgzNTI1MTU2NjI5MTMwNCwgLTAuMDU0OTg4MDUxMTU2MzMxMzIsIDAsIDI0LjczMjQwNzg5NjcwNjIwMyxcbiAgICAgICAgICAgIC0wLjE2Nzg2MDEwNzA2MTU1NzYzLCAtMC41NjAzNDE2Mjc3Njk1MjQ4LCAxLjYwMTQ4NTA3NjE5NjQ5NDMsIDAsIDM1LjYyOTgyODA3NDYwOTQ2LFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJyb3duIGRlbGljaW91cyBicm93bmkgZmlsdGVyICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgYnJvd25pKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC41OTk3MDIzNDk4MTU5NzE1LCAwLjM0NTUzMjQzMDQ4MzkxMjYzLCAtMC4yNzA4Mjk4Njc0NTM4MDQyLCAwLCA0Ny40MzE5Mjg1NTYwMDg3MyxcbiAgICAgICAgICAgIC0wLjAzNzcwMzI0OTgzNzc4MzE1NywgMC44NjA5NTc3NTg3OTkyNjQxLCAwLjE1MDU5NTUyMzg4NDU5OTEzLCAwLCAtMzYuOTY4NDE0OTgzMTkxMjcsXG4gICAgICAgICAgICAwLjI0MTEzNjM1MTI4MTUzMzM1LCAtMC4wNzQ0MTAzNzkwODQyMjQ5MiwgMC40NDk3MjE4MjA2NDg3NzE1MywgMCwgLTcuNTYyMDc1Mjc3NTkxMjgzLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZpbnRhZ2UgZmlsdGVyICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgdmludGFnZShtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuNjI3OTM0NTYzNTYwNTk5NCwgMC4zMjAyMTgzNDIwODE5MzY3LCAtMC4wMzk2NTQwODIxMTMxMjQ1MywgMCwgOS42NTEyODU4MzUyOTQxMjMsXG4gICAgICAgICAgICAwLjAyNTc4Mzk3NzA0ODA4ODY4LCAwLjY0NDExODg2NDQzNzQ3NzEsIDAuMDMyNTkxMjc2MTYxNDkyOTQsIDAsIDcuNDYyODI5MTc2NDcwNTkxLFxuICAgICAgICAgICAgMC4wNDY2MDU1NTU2NzgyNzE5LCAtMC4wODUxMjMyOTg3MjQ3ODkxLCAwLjUyNDE2NDgwMTg3MDA0NjUsIDAsIDUuMTU5MTkwNTg4MjM1Mjk2LFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdlIGRvbid0IGtub3cgZXhhY3RseSB3aGF0IGl0IGRvZXMsIGtpbmQgb2YgZ3JhZGllbnQgbWFwLCBidXQgZnVubnkgdG8gcGxheSB3aXRoIVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlc2F0dXJhdGlvbiAtIFRvbmUgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b25lZCAtIFRvbmUgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsaWdodENvbG9yIC0gVG9uZSB2YWx1ZXMsIGV4YW1wbGU6IGAweEZGRTU4MGBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZGFya0NvbG9yIC0gVG9uZSB2YWx1ZXMsIGV4YW1wbGU6IGAweEZGRTU4MGBcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBjb2xvclRvbmUoZGVzYXR1cmF0aW9uLCB0b25lZCwgbGlnaHRDb2xvciwgZGFya0NvbG9yLCBtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIGRlc2F0dXJhdGlvbiA9IGRlc2F0dXJhdGlvbiB8fCAwLjI7XG4gICAgICAgIHRvbmVkID0gdG9uZWQgfHwgMC4xNTtcbiAgICAgICAgbGlnaHRDb2xvciA9IGxpZ2h0Q29sb3IgfHwgMHhGRkU1ODA7XG4gICAgICAgIGRhcmtDb2xvciA9IGRhcmtDb2xvciB8fCAweDMzODAwMDtcblxuICAgICAgICBjb25zdCBsUiA9ICgobGlnaHRDb2xvciA+PiAxNikgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgY29uc3QgbEcgPSAoKGxpZ2h0Q29sb3IgPj4gOCkgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgY29uc3QgbEIgPSAobGlnaHRDb2xvciAmIDB4RkYpIC8gMjU1O1xuXG4gICAgICAgIGNvbnN0IGRSID0gKChkYXJrQ29sb3IgPj4gMTYpICYgMHhGRikgLyAyNTU7XG4gICAgICAgIGNvbnN0IGRHID0gKChkYXJrQ29sb3IgPj4gOCkgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgY29uc3QgZEIgPSAoZGFya0NvbG9yICYgMHhGRikgLyAyNTU7XG5cbiAgICAgICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC4zLCAwLjU5LCAwLjExLCAwLCAwLFxuICAgICAgICAgICAgbFIsIGxHLCBsQiwgZGVzYXR1cmF0aW9uLCAwLFxuICAgICAgICAgICAgZFIsIGRHLCBkQiwgdG9uZWQsIDAsXG4gICAgICAgICAgICBsUiAtIGRSLCBsRyAtIGRHLCBsQiAtIGRCLCAwLCAwLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTmlnaHQgZWZmZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW50ZW5zaXR5IC0gVGhlIGludGVuc2l0eSBvZiB0aGUgbmlnaHQgZWZmZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIG5pZ2h0KGludGVuc2l0eSwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICBpbnRlbnNpdHkgPSBpbnRlbnNpdHkgfHwgMC4xO1xuICAgICAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAgICAgICBpbnRlbnNpdHkgKiAoLTIuMCksIC1pbnRlbnNpdHksIDAsIDAsIDAsXG4gICAgICAgICAgICAtaW50ZW5zaXR5LCAwLCBpbnRlbnNpdHksIDAsIDAsXG4gICAgICAgICAgICAwLCBpbnRlbnNpdHksIGludGVuc2l0eSAqIDIuMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcmVkYXRvciBlZmZlY3RcbiAgICAgKlxuICAgICAqIEVyYXNlIHRoZSBjdXJyZW50IG1hdHJpeCBieSBzZXR0aW5nIGEgbmV3IGluZGVwZW50IG9uZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIGhvdyBtdWNoIHRoZSBwcmVkYXRvciBmZWVscyBoaXMgZnV0dXJlIHZpY3RpbVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIHByZWRhdG9yKGFtb3VudCwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAgICAgICAvLyByb3cgMVxuICAgICAgICAgICAgMTEuMjI0MTMwNjMwNDkzMTY0ICogYW1vdW50LFxuICAgICAgICAgICAgLTQuNzk0NDg2OTk5NTExNzE5ICogYW1vdW50LFxuICAgICAgICAgICAgLTIuODc0NjExODU0NTUzMjIyNyAqIGFtb3VudCxcbiAgICAgICAgICAgIDAgKiBhbW91bnQsXG4gICAgICAgICAgICAwLjQwMzQyNDM4MjIwOTc3NzgzICogYW1vdW50LFxuICAgICAgICAgICAgLy8gcm93IDJcbiAgICAgICAgICAgIC0zLjYzMzA2OTc1MzY0Njg1MDYgKiBhbW91bnQsXG4gICAgICAgICAgICA5LjE5MzE1NzE5NjA0NDkyMiAqIGFtb3VudCxcbiAgICAgICAgICAgIC0yLjk1MTgxMDgzNjc5MTk5MiAqIGFtb3VudCxcbiAgICAgICAgICAgIDAgKiBhbW91bnQsXG4gICAgICAgICAgICAtMS4zMTYxMzUwNDg4NjYyNzIgKiBhbW91bnQsXG4gICAgICAgICAgICAvLyByb3cgM1xuICAgICAgICAgICAgLTMuMjE4NDE5NzkwMjY3OTQ0MyAqIGFtb3VudCxcbiAgICAgICAgICAgIC00LjIzNzUwMzA1MTc1NzgxMjUgKiBhbW91bnQsXG4gICAgICAgICAgICA3LjQ3NjQ0ODA1OTA4MjAzMSAqIGFtb3VudCxcbiAgICAgICAgICAgIDAgKiBhbW91bnQsXG4gICAgICAgICAgICAwLjgwNDQ0NTkyMjM3NDcyNTMgKiBhbW91bnQsXG4gICAgICAgICAgICAvLyByb3cgNFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExTRCBlZmZlY3RcbiAgICAgKlxuICAgICAqIE11bHRpcGx5IHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgbHNkKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gW1xuICAgICAgICAgICAgMiwgLTAuNCwgMC41LCAwLCAwLFxuICAgICAgICAgICAgLTAuNSwgMiwgLTAuNCwgMCwgMCxcbiAgICAgICAgICAgIC0wLjQsIC0wLjUsIDMsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXJhc2UgdGhlIGN1cnJlbnQgbWF0cml4IGJ5IHNldHRpbmcgdGhlIGRlZmF1bHQgb25lXG4gICAgICpcbiAgICAgKi9cbiAgICByZXNldCgpXG4gICAge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBbXG4gICAgICAgICAgICAxLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMSwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDEsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwLFxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBmYWxzZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG1hdHJpeCBvZiB0aGUgY29sb3IgbWF0cml4IGZpbHRlclxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICogQGRlZmF1bHQgWzEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDAsIDAsIDAsIDAsIDAsIDEsIDBdXG4gICAgICovXG4gICAgZ2V0IG1hdHJpeCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5tO1xuICAgIH1cblxuICAgIHNldCBtYXRyaXgodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG9wYWNpdHkgdmFsdWUgdG8gdXNlIHdoZW4gbWl4aW5nIHRoZSBvcmlnaW5hbCBhbmQgcmVzdWx0YW50IGNvbG9ycy5cbiAgICAgKlxuICAgICAqIFdoZW4gdGhlIHZhbHVlIGlzIDAsIHRoZSBvcmlnaW5hbCBjb2xvciBpcyB1c2VkIHdpdGhvdXQgbW9kaWZpY2F0aW9uLlxuICAgICAqIFdoZW4gdGhlIHZhbHVlIGlzIDEsIHRoZSByZXN1bHQgY29sb3IgaXMgdXNlZC5cbiAgICAgKiBXaGVuIGluIHRoZSByYW5nZSAoMCwgMSkgdGhlIGNvbG9yIGlzIGludGVycG9sYXRlZCBiZXR3ZWVuIHRoZSBvcmlnaW5hbCBhbmQgcmVzdWx0IGJ5IHRoaXMgYW1vdW50LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBnZXQgYWxwaGEoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudUFscGhhO1xuICAgIH1cblxuICAgIHNldCBhbHBoYSh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICAgIH1cbn1cblxuLy8gQW1lcmljYW5pemVkIGFsaWFzXG5Db2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZ3JheXNjYWxlID0gQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmdyZXlzY2FsZTtcbiIsImltcG9ydCB7IEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgTWF0cml4LCBQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHZlcnRleCBmcm9tICcuL2Rpc3BsYWNlbWVudC52ZXJ0JztcbmltcG9ydCBmcmFnbWVudCBmcm9tICcuL2Rpc3BsYWNlbWVudC5mcmFnJztcblxuLyoqXG4gKiBUaGUgRGlzcGxhY2VtZW50RmlsdGVyIGNsYXNzIHVzZXMgdGhlIHBpeGVsIHZhbHVlcyBmcm9tIHRoZSBzcGVjaWZpZWQgdGV4dHVyZVxuICogKGNhbGxlZCB0aGUgZGlzcGxhY2VtZW50IG1hcCkgdG8gcGVyZm9ybSBhIGRpc3BsYWNlbWVudCBvZiBhbiBvYmplY3QuXG4gKlxuICogWW91IGNhbiB1c2UgdGhpcyBmaWx0ZXIgdG8gYXBwbHkgYWxsIG1hbm9yIG9mIGNyYXp5IHdhcnBpbmcgZWZmZWN0cy5cbiAqIEN1cnJlbnRseSB0aGUgYHJgIHByb3BlcnR5IG9mIHRoZSB0ZXh0dXJlIGlzIHVzZWQgdG8gb2Zmc2V0IHRoZSBgeGBcbiAqIGFuZCB0aGUgYGdgIHByb3BlcnR5IG9mIHRoZSB0ZXh0dXJlIGlzIHVzZWQgdG8gb2Zmc2V0IHRoZSBgeWAuXG4gKlxuICogVGhlIHdheSBpdCB3b3JrcyBpcyBpdCB1c2VzIHRoZSB2YWx1ZXMgb2YgdGhlIGRpc3BsYWNlbWVudCBtYXAgdG8gbG9vayB1cCB0aGVcbiAqIGNvcnJlY3QgcGl4ZWxzIHRvIG91dHB1dC4gVGhpcyBtZWFucyBpdCdzIG5vdCB0ZWNobmljYWxseSBtb3ZpbmcgdGhlIG9yaWdpbmFsLlxuICogSW5zdGVhZCwgaXQncyBzdGFydGluZyBhdCB0aGUgb3V0cHV0IGFuZCBhc2tpbmcgXCJ3aGljaCBwaXhlbCBmcm9tIHRoZSBvcmlnaW5hbCBnb2VzIGhlcmVcIi5cbiAqIEZvciBleGFtcGxlLCBpZiBhIGRpc3BsYWNlbWVudCBtYXAgcGl4ZWwgaGFzIGByZWQgPSAxYCBhbmQgdGhlIGZpbHRlciBzY2FsZSBpcyBgMjBgLFxuICogdGhpcyBmaWx0ZXIgd2lsbCBvdXRwdXQgdGhlIHBpeGVsIGFwcHJveGltYXRlbHkgMjAgcGl4ZWxzIHRvIHRoZSByaWdodCBvZiB0aGUgb3JpZ2luYWwuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaXNwbGFjZW1lbnRGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSBUaGUgc3ByaXRlIHVzZWQgZm9yIHRoZSBkaXNwbGFjZW1lbnQgbWFwLiAobWFrZSBzdXJlIGl0cyBhZGRlZCB0byB0aGUgc2NlbmUhKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2NhbGVdIC0gVGhlIHNjYWxlIG9mIHRoZSBkaXNwbGFjZW1lbnRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzcHJpdGUsIHNjYWxlKVxuICAgIHtcbiAgICAgICAgY29uc3QgbWFza01hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICBzcHJpdGUucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIHN1cGVyKHZlcnRleCwgZnJhZ21lbnQsIHtcbiAgICAgICAgICAgIG1hcFNhbXBsZXI6IHNwcml0ZS5fdGV4dHVyZSxcbiAgICAgICAgICAgIGZpbHRlck1hdHJpeDogbWFza01hdHJpeCxcbiAgICAgICAgICAgIHNjYWxlOiB7IHg6IDEsIHk6IDEgfSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLCAxXSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubWFza1Nwcml0ZSA9IHNwcml0ZTtcbiAgICAgICAgdGhpcy5tYXNrTWF0cml4ID0gbWFza01hdHJpeDtcblxuICAgICAgICBpZiAoc2NhbGUgPT09IG51bGwgfHwgc2NhbGUgPT09IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgc2NhbGUgPSAyMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzY2FsZVgsIHNjYWxlWSBmb3IgZGlzcGxhY2VtZW50c1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2FsZSA9IG5ldyBQb2ludChzY2FsZSwgc2NhbGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGZpbHRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbX0gZmlsdGVyTWFuYWdlciAtIFRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSBpbnB1dCAtIFRoZSBpbnB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IG91dHB1dCAtIFRoZSBvdXRwdXQgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXIgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmcgdG8gaXQuXG4gICAgICovXG4gICAgYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXIpXG4gICAge1xuICAgICAgICAvLyBmaWxsIG1hc2tNYXRyaXggd2l0aCBfbm9ybWFsaXplZCBzcHJpdGUgdGV4dHVyZSBjb29yZHNfXG4gICAgICAgIHRoaXMudW5pZm9ybXMuZmlsdGVyTWF0cml4ID0gZmlsdGVyTWFuYWdlci5jYWxjdWxhdGVTcHJpdGVNYXRyaXgodGhpcy5tYXNrTWF0cml4LCB0aGlzLm1hc2tTcHJpdGUpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnNjYWxlLnggPSB0aGlzLnNjYWxlLng7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc2NhbGUueSA9IHRoaXMuc2NhbGUueTtcblxuICAgICAgICAvLyBFeHRyYWN0IHJvdGF0aW9uIGZyb20gd29ybGQgdHJhbnNmb3JtXG4gICAgICAgIGNvbnN0IHd0ID0gdGhpcy5tYXNrU3ByaXRlLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgY29uc3QgbGVuWCA9IE1hdGguc3FydCgod3QuYSAqIHd0LmEpICsgKHd0LmIgKiB3dC5iKSk7XG4gICAgICAgIGNvbnN0IGxlblkgPSBNYXRoLnNxcnQoKHd0LmMgKiB3dC5jKSArICh3dC5kICogd3QuZCkpO1xuXG4gICAgICAgIGlmIChsZW5YICE9PSAwICYmIGxlblkgIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMucm90YXRpb25bMF0gPSB3dC5hIC8gbGVuWDtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMucm90YXRpb25bMV0gPSB3dC5iIC8gbGVuWDtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMucm90YXRpb25bMl0gPSB3dC5jIC8gbGVuWTtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMucm90YXRpb25bM10gPSB3dC5kIC8gbGVuWTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRyYXcgdGhlIGZpbHRlci4uLlxuICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dHVyZSB1c2VkIGZvciB0aGUgZGlzcGxhY2VtZW50IG1hcC4gTXVzdCBiZSBwb3dlciBvZiAyIHNpemVkIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgZ2V0IG1hcCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5tYXBTYW1wbGVyO1xuICAgIH1cblxuICAgIHNldCBtYXAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tYXBTYW1wbGVyID0gdmFsdWU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgdmVydGV4IGZyb20gJy4vZnhhYS52ZXJ0JztcbmltcG9ydCBmcmFnbWVudCBmcm9tICcuL2Z4YWEuZnJhZyc7XG5cbi8qKlxuICogQmFzaWMgRlhBQSAoRmFzdCBBcHByb3hpbWF0ZSBBbnRpLUFsaWFzaW5nKSBpbXBsZW1lbnRhdGlvbiBiYXNlZCBvbiB0aGUgY29kZSBvbiBnZWVrczNkLmNvbVxuICogd2l0aCB0aGUgbW9kaWZpY2F0aW9uIHRoYXQgdGhlIHRleHR1cmUyRExvZCBzdHVmZiB3YXMgcmVtb3ZlZCBzaW5jZSBpdCBpcyB1bnN1cHBvcnRlZCBieSBXZWJHTC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9taXRzdWhpa28vd2ViZ2wtbWVpbmNyYWZ0XG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICpcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRlhBQUZpbHRlciBleHRlbmRzIEZpbHRlclxue1xuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIC8vIFRPRE8gLSBuZWVkcyB3b3JrXG4gICAgICAgIHN1cGVyKHZlcnRleCwgZnJhZ21lbnQpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZpbHRlciwgZGVmYXVsdEZpbHRlclZlcnRleCB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vbm9pc2UuZnJhZyc7XG5cbi8qKlxuICogQGF1dGhvciBWaWNvIEB2aWNvY290ZWFcbiAqIG9yaWdpbmFsIGZpbHRlcjogaHR0cHM6Ly9naXRodWIuY29tL2V2YW53L2dsZnguanMvYmxvYi9tYXN0ZXIvc3JjL2ZpbHRlcnMvYWRqdXN0L25vaXNlLmpzXG4gKi9cblxuLyoqXG4gKiBBIE5vaXNlIGVmZmVjdCBmaWx0ZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb2lzZUZpbHRlciBleHRlbmRzIEZpbHRlclxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbm9pc2U9MC41XSAtIFRoZSBub2lzZSBpbnRlbnNpdHksIHNob3VsZCBiZSBhIG5vcm1hbGl6ZWQgdmFsdWUgaW4gdGhlIHJhbmdlIFswLCAxXS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NlZWRdIC0gQSByYW5kb20gc2VlZCBmb3IgdGhlIG5vaXNlIGdlbmVyYXRpb24uIERlZmF1bHQgaXMgYE1hdGgucmFuZG9tKClgLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG5vaXNlID0gMC41LCBzZWVkID0gTWF0aC5yYW5kb20oKSlcbiAgICB7XG4gICAgICAgIHN1cGVyKGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIGZyYWdtZW50LCB7XG4gICAgICAgICAgICB1Tm9pc2U6IDAsXG4gICAgICAgICAgICB1U2VlZDogMCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5ub2lzZSA9IG5vaXNlO1xuICAgICAgICB0aGlzLnNlZWQgPSBzZWVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBhbW91bnQgb2Ygbm9pc2UgdG8gYXBwbHksIHRoaXMgdmFsdWUgc2hvdWxkIGJlIGluIHRoZSByYW5nZSAoMCwgMV0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMC41XG4gICAgICovXG4gICAgZ2V0IG5vaXNlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVOb2lzZTtcbiAgICB9XG5cbiAgICBzZXQgbm9pc2UodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy51Tm9pc2UgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNlZWQgdmFsdWUgdG8gYXBwbHkgdG8gdGhlIHJhbmRvbSBub2lzZSBnZW5lcmF0aW9uLiBgTWF0aC5yYW5kb20oKWAgaXMgYSBnb29kIHZhbHVlIHRvIHVzZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgc2VlZCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51U2VlZDtcbiAgICB9XG5cbiAgICBzZXQgc2VlZCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVTZWVkID0gdmFsdWU7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBDbGFzcyBjb250cm9scyBjYWNoZSBmb3IgVVYgbWFwcGluZyBmcm9tIFRleHR1cmUgbm9ybWFsIHNwYWNlIHRvIEJhc2VUZXh0dXJlIG5vcm1hbCBzcGFjZS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lc2hCYXRjaFV2c1xue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CdWZmZXJ9IHV2QnVmZmVyIC0gQnVmZmVyIHdpdGggbm9ybWFsaXplZCB1didzXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmVNYXRyaXh9IHV2TWF0cml4IC0gTWF0ZXJpYWwgVVYgbWF0cml4XG4gICAgICovXG4gICAgY29uc3RydWN0b3IodXZCdWZmZXIsIHV2TWF0cml4KVxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1ZmZlciB3aXRoIG5vcm1hbGl6ZWQgVVYnc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJ1ZmZlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZCdWZmZXIgPSB1dkJ1ZmZlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWF0ZXJpYWwgVVYgbWF0cml4XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZU1hdHJpeH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZNYXRyaXggPSB1dk1hdHJpeDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVVYgQnVmZmVyIGRhdGFcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fYnVmZmVyVXBkYXRlSWQgPSAtMTtcblxuICAgICAgICB0aGlzLl90ZXh0dXJlVXBkYXRlSWQgPSAtMTtcblxuICAgICAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdXBkYXRlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBmb3JjZVVwZGF0ZSAtIGZvcmNlIHRoZSB1cGRhdGVcbiAgICAgKi9cbiAgICB1cGRhdGUoZm9yY2VVcGRhdGUpXG4gICAge1xuICAgICAgICBpZiAoIWZvcmNlVXBkYXRlXG4gICAgICAgICAgICAmJiB0aGlzLl9idWZmZXJVcGRhdGVJZCA9PT0gdGhpcy51dkJ1ZmZlci5fdXBkYXRlSURcbiAgICAgICAgICAgICYmIHRoaXMuX3RleHR1cmVVcGRhdGVJZCA9PT0gdGhpcy51dk1hdHJpeC5fdXBkYXRlSUQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2J1ZmZlclVwZGF0ZUlkID0gdGhpcy51dkJ1ZmZlci5fdXBkYXRlSUQ7XG4gICAgICAgIHRoaXMuX3RleHR1cmVVcGRhdGVJZCA9IHRoaXMudXZNYXRyaXguX3VwZGF0ZUlEO1xuXG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLnV2QnVmZmVyLmRhdGE7XG5cbiAgICAgICAgaWYgKCF0aGlzLmRhdGEgfHwgdGhpcy5kYXRhLmxlbmd0aCAhPT0gZGF0YS5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoZGF0YS5sZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51dk1hdHJpeC5tdWx0aXBseVV2cyhkYXRhLCB0aGlzLmRhdGEpO1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEKys7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgU3RhdGUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFBvaW50LCBQb2x5Z29uIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBCTEVORF9NT0RFUywgRFJBV19NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IHNldHRpbmdzIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IE1lc2hCYXRjaFV2cyBmcm9tICcuL01lc2hCYXRjaFV2cyc7XG5cbmNvbnN0IHRlbXBQb2ludCA9IG5ldyBQb2ludCgpO1xuY29uc3QgdGVtcFBvbHlnb24gPSBuZXcgUG9seWdvbigpO1xuXG4vKipcbiAqIEJhc2UgbWVzaCBjbGFzcy5cbiAqXG4gKiBUaGlzIGNsYXNzIGVtcG93ZXJzIHlvdSB0byBoYXZlIG1heGltdW0gZmxleGliaWxpdHkgdG8gcmVuZGVyIGFueSBraW5kIG9mIFdlYkdMIHZpc3VhbHMgeW91IGNhbiB0aGluayBvZi5cbiAqIFRoaXMgY2xhc3MgYXNzdW1lcyBhIGNlcnRhaW4gbGV2ZWwgb2YgV2ViR0wga25vd2xlZGdlLlxuICogSWYgeW91IGtub3cgYSBiaXQgdGhpcyBzaG91bGQgYWJzdHJhY3QgZW5vdWdoIGF3YXkgdG8gbWFrZSB5b3UgbGlmZSBlYXNpZXIhXG4gKlxuICogUHJldHR5IG11Y2ggQUxMIFdlYkdMIGNhbiBiZSBicm9rZW4gZG93biBpbnRvIHRoZSBmb2xsb3dpbmc6XG4gKiAtIEdlb21ldHJ5IC0gVGhlIHN0cnVjdHVyZSBhbmQgZGF0YSBmb3IgdGhlIG1lc2guIFRoaXMgY2FuIGluY2x1ZGUgYW55dGhpbmcgZnJvbSBwb3NpdGlvbnMsIHV2cywgbm9ybWFscywgY29sb3JzIGV0Yy4uXG4gKiAtIFNoYWRlciAtIFRoaXMgaXMgdGhlIHNoYWRlciB0aGF0IFBpeGlKUyB3aWxsIHJlbmRlciB0aGUgZ2VvbWV0cnkgd2l0aCAoYXR0cmlidXRlcyBpbiB0aGUgc2hhZGVyIG11c3QgbWF0Y2ggdGhlIGdlb21ldHJ5KVxuICogLSBTdGF0ZSAtIFRoaXMgaXMgdGhlIHN0YXRlIG9mIFdlYkdMIHJlcXVpcmVkIHRvIHJlbmRlciB0aGUgbWVzaC5cbiAqXG4gKiBUaHJvdWdoIGEgY29tYmluYXRpb24gb2YgdGhlIGFib3ZlIGVsZW1lbnRzIHlvdSBjYW4gcmVuZGVyIGFueXRoaW5nIHlvdSB3YW50LCAyRCBvciAzRCFcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZXNoIGV4dGVuZHMgQ29udGFpbmVyXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAgdGhlIGdlb21ldHJ5IHRoZSBtZXNoIHdpbGwgdXNlXG4gICAgICogQHBhcmFtIHtQSVhJLlNoYWRlcnxQSVhJLk1lc2hNYXRlcmlhbH0gc2hhZGVyICB0aGUgc2hhZGVyIHRoZSBtZXNoIHdpbGwgdXNlXG4gICAgICogQHBhcmFtIHtQSVhJLlN0YXRlfSBbc3RhdGVdIHRoZSBzdGF0ZSB0aGF0IHRoZSBXZWJHTCBjb250ZXh0IGlzIHJlcXVpcmVkIHRvIGJlIGluIHRvIHJlbmRlciB0aGUgbWVzaFxuICAgICAqICAgICAgICBpZiBubyBzdGF0ZSBpcyBwcm92aWRlZCwgdXNlcyB7QGxpbmsgUElYSS5TdGF0ZS5mb3IyZH0gdG8gY3JlYXRlIGEgMkQgc3RhdGUgZm9yIFBpeGlKUy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RyYXdNb2RlPVBJWEkuRFJBV19NT0RFUy5UUklBTkdMRVNdIHRoZSBkcmF3TW9kZSwgY2FuIGJlIGFueSBvZiB0aGUgUElYSS5EUkFXX01PREVTIGNvbnN0c1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGdlb21ldHJ5LCBzaGFkZXIsIHN0YXRlLCBkcmF3TW9kZSA9IERSQVdfTU9ERVMuVFJJQU5HTEVTKS8vIHZlcnRpY2VzLCB1dnMsIGluZGljZXMsIGRyYXdNb2RlKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5jbHVkZXMgdmVydGV4IHBvc2l0aW9ucywgZmFjZSBpbmRpY2VzLCBub3JtYWxzLCBjb2xvcnMsIFVWcywgYW5kXG4gICAgICAgICAqIGN1c3RvbSBhdHRyaWJ1dGVzIHdpdGhpbiBidWZmZXJzLCByZWR1Y2luZyB0aGUgY29zdCBvZiBwYXNzaW5nIGFsbFxuICAgICAgICAgKiB0aGlzIGRhdGEgdG8gdGhlIEdQVS4gQ2FuIGJlIHNoYXJlZCBiZXR3ZWVuIG11bHRpcGxlIE1lc2ggb2JqZWN0cy5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HZW9tZXRyeX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdlb21ldHJ5ID0gZ2VvbWV0cnk7XG5cbiAgICAgICAgZ2VvbWV0cnkucmVmQ291bnQrKztcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyB0aGUgdmVydGV4IGFuZCBmcmFnbWVudCBzaGFkZXJzIHRoYXQgcHJvY2Vzc2VzIHRoZSBnZW9tZXRyeSBhbmQgcnVucyBvbiB0aGUgR1BVLlxuICAgICAgICAgKiBDYW4gYmUgc2hhcmVkIGJldHdlZW4gbXVsdGlwbGUgTWVzaCBvYmplY3RzLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcnxQSVhJLk1lc2hNYXRlcmlhbH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hhZGVyID0gc2hhZGVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIHRoZSBXZWJHTCBzdGF0ZSB0aGUgTWVzaCByZXF1aXJlZCB0byByZW5kZXIsIGV4Y2x1ZGVzIHNoYWRlciBhbmQgZ2VvbWV0cnkuIEUuZy4sXG4gICAgICAgICAqIGJsZW5kIG1vZGUsIGN1bGxpbmcsIGRlcHRoIHRlc3RpbmcsIGRpcmVjdGlvbiBvZiByZW5kZXJpbmcgdHJpYW5nbGVzLCBiYWNrZmFjZSwgZXRjLlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlIHx8IFN0YXRlLmZvcjJkKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3YXkgdGhlIE1lc2ggc2hvdWxkIGJlIGRyYXduLCBjYW4gYmUgYW55IG9mIHRoZSB7QGxpbmsgUElYSS5EUkFXX01PREVTfSBjb25zdGFudHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLkRSQVdfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZHJhd01vZGUgPSBkcmF3TW9kZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVHlwaWNhbGx5IHRoZSBpbmRleCBvZiB0aGUgSW5kZXhCdWZmZXIgd2hlcmUgdG8gc3RhcnQgZHJhd2luZy5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSG93IG11Y2ggb2YgdGhlIGdlb21ldHJ5IHRvIGRyYXcsIGJ5IGRlZmF1bHQgYDBgIHJlbmRlcnMgZXZlcnl0aGluZy5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNpemUgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0aGVhc2UgYXJlIHVzZWQgYXMgZWFzeSBhY2Nlc3MgZm9yIGJhdGNoaW5nXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhlYXNlIGFyZSB1c2VkIGFzIGVhc3kgYWNjZXNzIGZvciBiYXRjaGluZ1xuICAgICAgICAgKiBAbWVtYmVyIHtVaW50MTZBcnJheX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoaXMgaXMgdGhlIGNhY2hpbmcgbGF5ZXIgdXNlZCBieSB0aGUgYmF0Y2hlclxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KDEpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBnZW9tZXRyeSBpcyBjaGFuZ2VkIHVzZWQgdG8gZGVjaWRlIHRvIHJlLXRyYW5zZm9ybVxuICAgICAgICAgKiB0aGUgdmVydGV4RGF0YS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0ZXhEaXJ0eSA9IDA7XG5cbiAgICAgICAgdGhpcy5fdHJhbnNmb3JtSUQgPSAtMTtcblxuICAgICAgICAvLyBJbmhlcml0ZWQgZnJvbSBEaXNwbGF5TW9kZSwgc2V0IGRlZmF1bHRzXG4gICAgICAgIHRoaXMudGludCA9IDB4RkZGRkZGO1xuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PUk1BTDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgcm91bmRQaXhlbHMgZmllbGRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JvdW5kUGl4ZWxzID0gc2V0dGluZ3MuUk9VTkRfUElYRUxTO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCYXRjaGVkIFVWJ3MgYXJlIGNhY2hlZCBmb3IgYXRsYXMgdGV4dHVyZXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5NZXNoQmF0Y2hVdnN9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhdGNoVXZzID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUbyBjaGFuZ2UgbWVzaCB1didzLCBjaGFuZ2UgaXRzIHV2QnVmZmVyIGRhdGEgYW5kIGluY3JlbWVudCBpdHMgX3VwZGF0ZUlELlxuICAgICAqIEBtZW1iZXIge1BJWEkuQnVmZmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGdldCB1dkJ1ZmZlcigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRvIGNoYW5nZSBtZXNoIHZlcnRpY2VzLCBjaGFuZ2UgaXRzIHV2QnVmZmVyIGRhdGEgYW5kIGluY3JlbWVudCBpdHMgX3VwZGF0ZUlELlxuICAgICAqIEluY3JlbWVudGluZyBfdXBkYXRlSUQgaXMgb3B0aW9uYWwgYmVjYXVzZSBtb3N0IG9mIE1lc2ggb2JqZWN0cyBkbyBpdCBhbnl3YXkuXG4gICAgICogQG1lbWJlciB7UElYSS5CdWZmZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZ2V0IHZlcnRpY2VzQnVmZmVyKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIHtAbGluayBQSVhJLk1lc2gjc2hhZGVyfS5cbiAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcnxQSVhJLk1lc2hNYXRlcmlhbH1cbiAgICAgKi9cbiAgICBzZXQgbWF0ZXJpYWwodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLnNoYWRlciA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBtYXRlcmlhbCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgTWVzaC4gQXBwbHkgYSB2YWx1ZSBvZlxuICAgICAqIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICovXG4gICAgc2V0IGJsZW5kTW9kZSh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuc3RhdGUuYmxlbmRNb2RlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IGJsZW5kTW9kZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS5ibGVuZE1vZGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICogVGhlIG1haW4gZGlzYWR2YW50YWdlIGlzIG1vdmVtZW50IG9mIG9iamVjdHMgbWF5IGFwcGVhciBsZXNzIHNtb290aC5cbiAgICAgKiBUbyBzZXQgdGhlIGdsb2JhbCBkZWZhdWx0LCBjaGFuZ2Uge0BsaW5rIFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTfVxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIHNldCByb3VuZFBpeGVscyh2YWx1ZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscyAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcm91bmRQaXhlbHMgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgcm91bmRQaXhlbHMoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JvdW5kUGl4ZWxzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBtdWx0aXBseSB0aW50IGFwcGxpZWQgdG8gdGhlIE1lc2guIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2ZcbiAgICAgKiBgMHhGRkZGRkZgIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAqL1xuICAgIGdldCB0aW50KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNoYWRlci50aW50O1xuICAgIH1cblxuICAgIHNldCB0aW50KHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5zaGFkZXIudGludCA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0dXJlIHRoYXQgdGhlIE1lc2ggdXNlcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBnZXQgdGV4dHVyZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXIudGV4dHVyZTtcbiAgICB9XG5cbiAgICBzZXQgdGV4dHVyZSh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuc2hhZGVyLnRleHR1cmUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdGFuZGFyZCByZW5kZXJlciBkcmF3LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfcmVuZGVyKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgLy8gc2V0IHByb3BlcnRpZXMgZm9yIGJhdGNoaW5nLi5cbiAgICAgICAgLy8gVE9ETyBjb3VsZCB1c2UgYSBkaWZmZXJlbnQgd2F5IHRvIGdyYWIgdmVydHM/XG4gICAgICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzBdLmRhdGE7XG5cbiAgICAgICAgLy8gVE9ETyBiZW5jaG1hcmsgY2hlY2sgZm9yIGF0dHJpYnV0ZSBzaXplLi5cbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyLmJhdGNoYWJsZSAmJiB0aGlzLmRyYXdNb2RlID09PSBEUkFXX01PREVTLlRSSUFOR0xFUyAmJiB2ZXJ0aWNlcy5sZW5ndGggPCBNZXNoLkJBVENIQUJMRV9TSVpFICogMilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyVG9CYXRjaChyZW5kZXJlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJEZWZhdWx0KHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0YW5kYXJkIG5vbi1iYXRjaGluZyB3YXkgb2YgcmVuZGVyaW5nLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gSW5zdGFuY2UgdG8gcmVuZGVyZXIuXG4gICAgICovXG4gICAgX3JlbmRlckRlZmF1bHQocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBjb25zdCBzaGFkZXIgPSB0aGlzLnNoYWRlcjtcblxuICAgICAgICBzaGFkZXIuYWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG4gICAgICAgIGlmIChzaGFkZXIudXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICBzaGFkZXIudXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuXG4gICAgICAgIGlmIChzaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YS50cmFuc2xhdGlvbk1hdHJpeClcbiAgICAgICAge1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0udG9BcnJheSh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJpbmQgYW5kIHN5bmMgdW5pZm9ybXMuLlxuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuXG4gICAgICAgIC8vIHNldCBzdGF0ZS4uXG4gICAgICAgIHJlbmRlcmVyLnN0YXRlLnNldFN0YXRlKHRoaXMuc3RhdGUpO1xuXG4gICAgICAgIC8vIGJpbmQgdGhlIGdlb21ldHJ5Li4uXG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5nZW9tZXRyeSwgc2hhZGVyKTtcblxuICAgICAgICAvLyB0aGVuIHJlbmRlciBpdFxuICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KHRoaXMuZHJhd01vZGUsIHRoaXMuc2l6ZSwgdGhpcy5zdGFydCwgdGhpcy5nZW9tZXRyeS5pbnN0YW5jZUNvdW50KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJpbmcgYnkgdXNpbmcgdGhlIEJhdGNoIHN5c3RlbS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIEluc3RhbmNlIHRvIHJlbmRlcmVyLlxuICAgICAqL1xuICAgIF9yZW5kZXJUb0JhdGNoKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuXG4gICAgICAgIGlmICh0aGlzLnNoYWRlci51dk1hdHJpeClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zaGFkZXIudXZNYXRyaXgudXBkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVV2cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0IHByb3BlcnRpZXMgZm9yIGJhdGNoaW5nLi5cbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLmluZGljZXMgPSBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhO1xuICAgICAgICB0aGlzLl90aW50UkdCID0gdGhpcy5zaGFkZXIuX3RpbnRSR0I7XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB0aGlzLnNoYWRlci50ZXh0dXJlO1xuXG4gICAgICAgIGNvbnN0IHBsdWdpbk5hbWUgPSB0aGlzLm1hdGVyaWFsLnBsdWdpbk5hbWU7XG5cbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1twbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbcGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdmVydGV4RGF0YSBmaWVsZCBiYXNlZCBvbiB0cmFuc2Zvcm0gYW5kIHZlcnRpY2VzXG4gICAgICovXG4gICAgY2FsY3VsYXRlVmVydGljZXMoKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuICAgICAgICBjb25zdCB2ZXJ0aWNlcyA9IGdlb21ldHJ5LmJ1ZmZlcnNbMF0uZGF0YTtcblxuICAgICAgICBpZiAoZ2VvbWV0cnkudmVydGV4RGlydHlJZCA9PT0gdGhpcy52ZXJ0ZXhEaXJ0eSAmJiB0aGlzLl90cmFuc2Zvcm1JRCA9PT0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG5cbiAgICAgICAgaWYgKHRoaXMudmVydGV4RGF0YS5sZW5ndGggIT09IHZlcnRpY2VzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0aWNlcy5sZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgd3QgPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgY29uc3QgYSA9IHd0LmE7XG4gICAgICAgIGNvbnN0IGIgPSB3dC5iO1xuICAgICAgICBjb25zdCBjID0gd3QuYztcbiAgICAgICAgY29uc3QgZCA9IHd0LmQ7XG4gICAgICAgIGNvbnN0IHR4ID0gd3QudHg7XG4gICAgICAgIGNvbnN0IHR5ID0gd3QudHk7XG5cbiAgICAgICAgY29uc3QgdmVydGV4RGF0YSA9IHRoaXMudmVydGV4RGF0YTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRleERhdGEubGVuZ3RoIC8gMjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB4ID0gdmVydGljZXNbKGkgKiAyKV07XG4gICAgICAgICAgICBjb25zdCB5ID0gdmVydGljZXNbKGkgKiAyKSArIDFdO1xuXG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhWyhpICogMildID0gKGEgKiB4KSArIChjICogeSkgKyB0eDtcbiAgICAgICAgICAgIHZlcnRleERhdGFbKGkgKiAyKSArIDFdID0gKGIgKiB4KSArIChkICogeSkgKyB0eTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9yb3VuZFBpeGVscylcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZXJ0ZXhEYXRhLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZlcnRleERhdGFbaV0gPSBNYXRoLnJvdW5kKHZlcnRleERhdGFbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52ZXJ0ZXhEaXJ0eSA9IGdlb21ldHJ5LnZlcnRleERpcnR5SWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB1diBmaWVsZCBiYXNlZCBvbiBmcm9tIGdlb21ldHJ5IHV2J3Mgb3IgYmF0Y2hVdnNcbiAgICAgKi9cbiAgICBjYWxjdWxhdGVVdnMoKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ2VvbVV2cyA9IHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1sxXTtcblxuICAgICAgICBpZiAoIXRoaXMuc2hhZGVyLnV2TWF0cml4LmlzU2ltcGxlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYmF0Y2hVdnMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXRjaFV2cyA9IG5ldyBNZXNoQmF0Y2hVdnMoZ2VvbVV2cywgdGhpcy5zaGFkZXIudXZNYXRyaXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5iYXRjaFV2cy51cGRhdGUoKTtcbiAgICAgICAgICAgIHRoaXMudXZzID0gdGhpcy5iYXRjaFV2cy5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51dnMgPSBnZW9tVXZzLmRhdGE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBib3VuZHMgb2YgdGhlIG1lc2ggYXMgYSByZWN0YW5nbGUuIFRoZSBib3VuZHMgY2FsY3VsYXRpb24gdGFrZXMgdGhlIHdvcmxkVHJhbnNmb3JtIGludG8gYWNjb3VudC5cbiAgICAgKiB0aGVyZSBtdXN0IGJlIGEgYVZlcnRleFBvc2l0aW9uIGF0dHJpYnV0ZSBwcmVzZW50IGluIHRoZSBnZW9tZXRyeSBmb3IgYm91bmRzIHRvIGJlIGNhbGN1bGF0ZWQgY29ycmVjdGx5LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9jYWxjdWxhdGVCb3VuZHMoKVxuICAgIHtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNlcygpO1xuXG4gICAgICAgIHRoaXMuX2JvdW5kcy5hZGRWZXJ0ZXhEYXRhKHRoaXMudmVydGV4RGF0YSwgMCwgdGhpcy52ZXJ0ZXhEYXRhLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBtZXNoLiBXb3JrcyBvbmx5IGZvciBQSVhJLkRSQVdfTU9ERVMuVFJJQU5HTEVTLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cbiAgICBjb250YWluc1BvaW50KHBvaW50KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmdldEJvdW5kcygpLmNvbnRhaW5zKHBvaW50LngsIHBvaW50LnkpKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcblxuICAgICAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhO1xuXG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRlbXBQb2x5Z29uLnBvaW50cztcbiAgICAgICAgY29uc3QgaW5kaWNlcyA9ICB0aGlzLmdlb21ldHJ5LmdldEluZGV4KCkuZGF0YTtcbiAgICAgICAgY29uc3QgbGVuID0gaW5kaWNlcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSB0aGlzLmRyYXdNb2RlID09PSA0ID8gMyA6IDE7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgKyAyIDwgbGVuOyBpICs9IHN0ZXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGluZDAgPSBpbmRpY2VzW2ldICogMjtcbiAgICAgICAgICAgIGNvbnN0IGluZDEgPSBpbmRpY2VzW2kgKyAxXSAqIDI7XG4gICAgICAgICAgICBjb25zdCBpbmQyID0gaW5kaWNlc1tpICsgMl0gKiAyO1xuXG4gICAgICAgICAgICBwb2ludHNbMF0gPSB2ZXJ0aWNlc1tpbmQwXTtcbiAgICAgICAgICAgIHBvaW50c1sxXSA9IHZlcnRpY2VzW2luZDAgKyAxXTtcbiAgICAgICAgICAgIHBvaW50c1syXSA9IHZlcnRpY2VzW2luZDFdO1xuICAgICAgICAgICAgcG9pbnRzWzNdID0gdmVydGljZXNbaW5kMSArIDFdO1xuICAgICAgICAgICAgcG9pbnRzWzRdID0gdmVydGljZXNbaW5kMl07XG4gICAgICAgICAgICBwb2ludHNbNV0gPSB2ZXJ0aWNlc1tpbmQyICsgMV07XG5cbiAgICAgICAgICAgIGlmICh0ZW1wUG9seWdvbi5jb250YWlucyh0ZW1wUG9pbnQueCwgdGVtcFBvaW50LnkpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgTWVzaCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbFxuICAgICAqICBvcHRpb25zIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlXG4gICAgICogIHRoZWlyIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICovXG4gICAgZGVzdHJveShvcHRpb25zKVxuICAgIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveShvcHRpb25zKTtcblxuICAgICAgICB0aGlzLmdlb21ldHJ5LnJlZkNvdW50LS07XG4gICAgICAgIGlmICh0aGlzLmdlb21ldHJ5LnJlZkNvdW50ID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBudWxsO1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLnV2cyA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IG51bGw7XG4gICAgICAgIHRoaXMudmVydGV4RGF0YSA9IG51bGw7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiB2ZXJ0aWNlcyB0byBjb25zaWRlciBiYXRjaGFibGUuIEdlbmVyYWxseSwgdGhlIGNvbXBsZXhpdHlcbiAqIG9mIHRoZSBnZW9tZXRyeS5cbiAqIEBtZW1iZXJvZiBQSVhJLk1lc2hcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXIge251bWJlcn0gQkFUQ0hBQkxFX1NJWkVcbiAqL1xuTWVzaC5CQVRDSEFCTEVfU0laRSA9IDEwMDtcbiIsImltcG9ydCB7IFNoYWRlciwgUHJvZ3JhbSwgVGV4dHVyZU1hdHJpeCB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHZlcnRleCBmcm9tICcuL3NoYWRlci9tZXNoLnZlcnQnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vc2hhZGVyL21lc2guZnJhZyc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IHByZW11bHRpcGx5VGludFRvUmdiYSB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyoqXG4gKiBTbGlnaHRseSBvcGluaW9uYXRlZCBkZWZhdWx0IHNoYWRlciBmb3IgUGl4aUpTIDJEIG9iamVjdHMuXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlNoYWRlclxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZXNoTWF0ZXJpYWwgZXh0ZW5kcyBTaGFkZXJcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdVNhbXBsZXIgLSBUZXh0dXJlIHRoYXQgbWF0ZXJpYWwgdXNlcyB0byByZW5kZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIEFkZGl0aW9uYWwgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5hbHBoYT0xXSAtIERlZmF1bHQgYWxwaGEuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnRpbnQ9MHhGRkZGRkZdIC0gRGVmYXVsdCB0aW50LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5wbHVnaW5OYW1lPSdiYXRjaCddIC0gUmVuZGVyZXIgcGx1Z2luIGZvciBiYXRjaGluZy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gW29wdGlvbnMucHJvZ3JhbT0weEZGRkZGRl0gLSBDdXN0b20gcHJvZ3JhbS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMudW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHVTYW1wbGVyLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgY29uc3QgdW5pZm9ybXMgPSB7XG4gICAgICAgICAgICB1U2FtcGxlcixcbiAgICAgICAgICAgIGFscGhhOiAxLFxuICAgICAgICAgICAgdVRleHR1cmVNYXRyaXg6IE1hdHJpeC5JREVOVElUWSxcbiAgICAgICAgICAgIHVDb2xvcjogbmV3IEZsb2F0MzJBcnJheShbMSwgMSwgMSwgMV0pLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFNldCBkZWZhdWx0c1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB0aW50OiAweEZGRkZGRixcbiAgICAgICAgICAgIGFscGhhOiAxLFxuICAgICAgICAgICAgcGx1Z2luTmFtZTogJ2JhdGNoJyxcbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMudW5pZm9ybXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odW5pZm9ybXMsIG9wdGlvbnMudW5pZm9ybXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIob3B0aW9ucy5wcm9ncmFtIHx8IFByb2dyYW0uZnJvbSh2ZXJ0ZXgsIGZyYWdtZW50KSwgdW5pZm9ybXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPbmx5IGRvIHVwZGF0ZSBpZiB0aW50IG9yIGFscGhhIGNoYW5nZXMuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9jb2xvckRpcnR5ID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHR1cmVNYXRyaXggaW5zdGFuY2UgZm9yIHRoaXMgTWVzaCwgdXNlZCB0byB0cmFjayBUZXh0dXJlIGNoYW5nZXNcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZNYXRyaXggPSBuZXcgVGV4dHVyZU1hdHJpeCh1U2FtcGxlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiBzaGFkZXIgY2FuIGJlIGJhdGNoIHdpdGggdGhlIHJlbmRlcmVyJ3MgYmF0Y2ggc3lzdGVtLlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhdGNoYWJsZSA9IG9wdGlvbnMucHJvZ3JhbSA9PT0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW5kZXJlciBwbHVnaW4gZm9yIGJhdGNoaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ2JhdGNoJ1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wbHVnaW5OYW1lID0gb3B0aW9ucy5wbHVnaW5OYW1lO1xuXG4gICAgICAgIHRoaXMudGludCA9IG9wdGlvbnMudGludDtcbiAgICAgICAgdGhpcy5hbHBoYSA9IG9wdGlvbnMuYWxwaGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVmZXJlbmNlIHRvIHRoZSB0ZXh0dXJlIGJlaW5nIHJlbmRlcmVkLlxuICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBnZXQgdGV4dHVyZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51U2FtcGxlcjtcbiAgICB9XG4gICAgc2V0IHRleHR1cmUodmFsdWUpXG4gICAge1xuICAgICAgICBpZiAodGhpcy51bmlmb3Jtcy51U2FtcGxlciAhPT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybXMudVNhbXBsZXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudXZNYXRyaXgudGV4dHVyZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBnZXRzIGF1dG9tYXRpY2FsbHkgc2V0IGJ5IHRoZSBvYmplY3QgdXNpbmcgdGhpcy5cbiAgICAgKlxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgc2V0IGFscGhhKHZhbHVlKVxuICAgIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB0aGlzLl9hbHBoYSkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX2FscGhhID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX2NvbG9yRGlydHkgPSB0cnVlO1xuICAgIH1cbiAgICBnZXQgYWxwaGEoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FscGhhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHRpbnQgZm9yIHRoZSBtYXRlcmlhbC5cbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgKi9cbiAgICBzZXQgdGludCh2YWx1ZSlcbiAgICB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdGhpcy5fdGludCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fdGludFJHQiA9ICh2YWx1ZSA+PiAxNikgKyAodmFsdWUgJiAweGZmMDApICsgKCh2YWx1ZSAmIDB4ZmYpIDw8IDE2KTtcbiAgICAgICAgdGhpcy5fY29sb3JEaXJ0eSA9IHRydWU7XG4gICAgfVxuICAgIGdldCB0aW50KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgY2FsbGVkIGF1dG9tYXRpY2FsbHkgYnkgdGhlIE1lc2guIEludGVuZGVkIHRvIGJlIG92ZXJyaWRkZW4gZm9yIGN1c3RvbVxuICAgICAqIE1lc2hNYXRlcmlhbCBvYmplY3RzLlxuICAgICAqL1xuICAgIHVwZGF0ZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fY29sb3JEaXJ0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fY29sb3JEaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgYmFzZVRleHR1cmUgPSB0aGlzLnRleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgICAgIHByZW11bHRpcGx5VGludFRvUmdiYSh0aGlzLl90aW50LCB0aGlzLl9hbHBoYSwgdGhpcy51bmlmb3Jtcy51Q29sb3IsIGJhc2VUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnV2TWF0cml4LnVwZGF0ZSgpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVuaWZvcm1zLnVUZXh0dXJlTWF0cml4ID0gdGhpcy51dk1hdHJpeC5tYXBDb29yZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IFRZUEVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IEJ1ZmZlciwgR2VvbWV0cnkgfSBmcm9tICdAcGl4aS9jb3JlJztcblxuLyoqXG4gKiBTdGFuZGFyZCAyRCBnZW9tZXRyeSB1c2VkIGluIFBpeGlKUy5cbiAqXG4gKiBHZW9tZXRyeSBjYW4gYmUgZGVmaW5lZCB3aXRob3V0IHBhc3NpbmcgaW4gYSBzdHlsZSBvciBkYXRhIGlmIHJlcXVpcmVkLlxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBnZW9tZXRyeSA9IG5ldyBQSVhJLkdlb21ldHJ5KCk7XG4gKlxuICogZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCdwb3NpdGlvbnMnLCBbMCwgMCwgMTAwLCAwLCAxMDAsIDEwMCwgMCwgMTAwXSwgMik7XG4gKiBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3V2cycsIFswLDAsMSwwLDEsMSwwLDFdLCAyKTtcbiAqIGdlb21ldHJ5LmFkZEluZGV4KFswLDEsMiwxLDMsMl0pO1xuICpcbiAqIGBgYFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5HZW9tZXRyeVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZXNoR2VvbWV0cnkgZXh0ZW5kcyBHZW9tZXRyeVxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fG51bWJlcltdfSB2ZXJ0aWNlcyAtIFBvc2l0aW9uYWwgZGF0YSBvbiBnZW9tZXRyeS5cbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxudW1iZXJbXX0gdXZzIC0gVGV4dHVyZSBVVnMuXG4gICAgICogQHBhcmFtIHtVaW50MTZBcnJheXxudW1iZXJbXX0gaW5kZXggLSBJbmRleEJ1ZmZlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHZlcnRpY2VzLCB1dnMsIGluZGV4KVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICBjb25zdCB2ZXJ0aWNlc0J1ZmZlciA9IG5ldyBCdWZmZXIodmVydGljZXMpO1xuICAgICAgICBjb25zdCB1dnNCdWZmZXIgPSBuZXcgQnVmZmVyKHV2cywgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IGluZGV4QnVmZmVyID0gbmV3IEJ1ZmZlcihpbmRleCwgdHJ1ZSwgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5hZGRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicsIHZlcnRpY2VzQnVmZmVyLCAyLCBmYWxzZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUNvb3JkJywgdXZzQnVmZmVyLCAyLCBmYWxzZSwgVFlQRVMuRkxPQVQpXG4gICAgICAgICAgICAuYWRkSW5kZXgoaW5kZXhCdWZmZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXJ0eSBmbGFnIHRvIGxpbWl0IHVwZGF0ZSBjYWxscyBvbiBNZXNoLiBGb3IgZXhhbXBsZSxcbiAgICAgICAgICogbGltaXRpbmcgdXBkYXRlcyBvbiBhIHNpbmdsZSBNZXNoIGluc3RhbmNlIHdpdGggYSBzaGFyZWQgR2VvbWV0cnlcbiAgICAgICAgICogd2l0aGluIHRoZSByZW5kZXIgbG9vcC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAtMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdXBkYXRlSWQgPSAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgdmVydGV4IHBvc2l0aW9uIGlzIHVwZGF0ZWQuXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZ2V0IHZlcnRleERpcnR5SWQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyc1swXS5fdXBkYXRlSUQ7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTWVzaEdlb21ldHJ5IH0gZnJvbSAnQHBpeGkvbWVzaCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYW5lR2VvbWV0cnkgZXh0ZW5kcyBNZXNoR2VvbWV0cnlcbntcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCA9IDEwMCwgaGVpZ2h0ID0gMTAwLCBzZWdXaWR0aCA9IDEwLCBzZWdIZWlnaHQgPSAxMClcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5zZWdXaWR0aCA9IHNlZ1dpZHRoO1xuICAgICAgICB0aGlzLnNlZ0hlaWdodCA9IHNlZ0hlaWdodDtcblxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuYnVpbGQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgcGxhbmUgY29vcmRpbmF0ZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGJ1aWxkKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHRvdGFsID0gdGhpcy5zZWdXaWR0aCAqIHRoaXMuc2VnSGVpZ2h0O1xuICAgICAgICBjb25zdCB2ZXJ0cyA9IFtdO1xuICAgICAgICBjb25zdCB1dnMgPSBbXTtcbiAgICAgICAgY29uc3QgaW5kaWNlcyA9IFtdO1xuXG4gICAgICAgIGNvbnN0IHNlZ21lbnRzWCA9IHRoaXMuc2VnV2lkdGggLSAxO1xuICAgICAgICBjb25zdCBzZWdtZW50c1kgPSB0aGlzLnNlZ0hlaWdodCAtIDE7XG5cbiAgICAgICAgY29uc3Qgc2l6ZVggPSAodGhpcy53aWR0aCkgLyBzZWdtZW50c1g7XG4gICAgICAgIGNvbnN0IHNpemVZID0gKHRoaXMuaGVpZ2h0KSAvIHNlZ21lbnRzWTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHggPSAoaSAlIHRoaXMuc2VnV2lkdGgpO1xuICAgICAgICAgICAgY29uc3QgeSA9ICgoaSAvIHRoaXMuc2VnV2lkdGgpIHwgMCk7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2goeCAqIHNpemVYLCB5ICogc2l6ZVkpO1xuICAgICAgICAgICAgdXZzLnB1c2goeCAvIHNlZ21lbnRzWCwgeSAvIHNlZ21lbnRzWSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0b3RhbFN1YiA9IHNlZ21lbnRzWCAqIHNlZ21lbnRzWTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsU3ViOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHhwb3MgPSBpICUgc2VnbWVudHNYO1xuICAgICAgICAgICAgY29uc3QgeXBvcyA9IChpIC8gc2VnbWVudHNYKSB8IDA7XG5cbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gKHlwb3MgKiB0aGlzLnNlZ1dpZHRoKSArIHhwb3M7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZTIgPSAoeXBvcyAqIHRoaXMuc2VnV2lkdGgpICsgeHBvcyArIDE7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZTMgPSAoKHlwb3MgKyAxKSAqIHRoaXMuc2VnV2lkdGgpICsgeHBvcztcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlNCA9ICgoeXBvcyArIDEpICogdGhpcy5zZWdXaWR0aCkgKyB4cG9zICsgMTtcblxuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHZhbHVlLCB2YWx1ZTIsIHZhbHVlMyxcbiAgICAgICAgICAgICAgICB2YWx1ZTIsIHZhbHVlNCwgdmFsdWUzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYnVmZmVyc1swXS5kYXRhID0gbmV3IEZsb2F0MzJBcnJheSh2ZXJ0cyk7XG4gICAgICAgIHRoaXMuYnVmZmVyc1sxXS5kYXRhID0gbmV3IEZsb2F0MzJBcnJheSh1dnMpO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyLmRhdGEgPSBuZXcgVWludDE2QXJyYXkoaW5kaWNlcyk7XG5cbiAgICAgICAgLy8gZW5zdXJlIHRoYXQgdGhlIGNoYW5nZXMgYXJlIHVwbG9hZGVkXG4gICAgICAgIHRoaXMuYnVmZmVyc1swXS51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5idWZmZXJzWzFdLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyLnVwZGF0ZSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE1lc2hHZW9tZXRyeSB9IGZyb20gJ0BwaXhpL21lc2gnO1xuLyoqXG4gKiBSb3BlR2VvbWV0cnkgYWxsb3dzIHlvdSB0byBkcmF3IGEgZ2VvbWV0cnkgYWNyb3NzIHNldmVyYWwgcG9pbnRzIGFuZCB0aGVuIG1hbmlwdWxhdGUgdGhlc2UgcG9pbnRzLlxuICpcbiAqIGBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBjb25zdCByb3BlID0gbmV3IFBJWEkuUm9wZUdlb21ldHJ5KDEwMCwgcG9pbnRzKTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5NZXNoR2VvbWV0cnlcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSb3BlR2VvbWV0cnkgZXh0ZW5kcyBNZXNoR2VvbWV0cnlcbntcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dpZHRoPTIwMF0gLSBUaGUgd2lkdGggKGkuZS4sIHRoaWNrbmVzcykgb2YgdGhlIHJvcGUuXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50W119IFtwb2ludHNdIC0gQW4gYXJyYXkgb2Yge0BsaW5rIFBJWEkuUG9pbnR9IG9iamVjdHMgdG8gY29uc3RydWN0IHRoaXMgcm9wZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCA9IDIwMCwgcG9pbnRzKVxuICAgIHtcbiAgICAgICAgc3VwZXIobmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCksXG4gICAgICAgICAgICBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KSxcbiAgICAgICAgICAgIG5ldyBVaW50MTZBcnJheSgocG9pbnRzLmxlbmd0aCAtIDEpICogNikpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiBwb2ludHMgdGhhdCBkZXRlcm1pbmUgdGhlIHJvcGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludFtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wb2ludHMgPSBwb2ludHM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCAoaS5lLiwgdGhpY2tuZXNzKSBvZiB0aGUgcm9wZS5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcblxuICAgICAgICB0aGlzLmJ1aWxkKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlcyBSb3BlIGluZGljZXMgYW5kIHV2c1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgYnVpbGQoKVxuICAgIHtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5wb2ludHM7XG5cbiAgICAgICAgaWYgKCFwb2ludHMpIHJldHVybjtcblxuICAgICAgICBjb25zdCB2ZXJ0ZXhCdWZmZXIgPSB0aGlzLmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJyk7XG4gICAgICAgIGNvbnN0IHV2QnVmZmVyID0gdGhpcy5nZXRCdWZmZXIoJ2FUZXh0dXJlQ29vcmQnKTtcbiAgICAgICAgY29uc3QgaW5kZXhCdWZmZXIgPSB0aGlzLmdldEluZGV4KCk7XG5cbiAgICAgICAgLy8gaWYgdG9vIGxpdHRsZSBwb2ludHMsIG9yIHRleHR1cmUgaGFzbid0IGdvdCBVVnMgc2V0IHlldCBqdXN0IG1vdmUgb24uXG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoIDwgMSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhlIG51bWJlciBvZiBwb2ludHMgaGFzIGNoYW5nZWQgd2Ugd2lsbCBuZWVkIHRvIHJlY3JlYXRlIHRoZSBhcnJheWJ1ZmZlcnNcbiAgICAgICAgaWYgKHZlcnRleEJ1ZmZlci5kYXRhLmxlbmd0aCAvIDQgIT09IHBvaW50cy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci5kYXRhID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCk7XG4gICAgICAgICAgICB1dkJ1ZmZlci5kYXRhID0gbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCk7XG4gICAgICAgICAgICBpbmRleEJ1ZmZlci5kYXRhID0gbmV3IFVpbnQxNkFycmF5KChwb2ludHMubGVuZ3RoIC0gMSkgKiA2KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHV2cyA9IHV2QnVmZmVyLmRhdGE7XG4gICAgICAgIGNvbnN0IGluZGljZXMgPSBpbmRleEJ1ZmZlci5kYXRhO1xuXG4gICAgICAgIHV2c1swXSA9IDA7XG4gICAgICAgIHV2c1sxXSA9IDA7XG4gICAgICAgIHV2c1syXSA9IDA7XG4gICAgICAgIHV2c1szXSA9IDE7XG5cbiAgICAgICAgLy8gaW5kaWNlc1swXSA9IDA7XG4gICAgICAgIC8vIGluZGljZXNbMV0gPSAxO1xuXG4gICAgICAgIGNvbnN0IHRvdGFsID0gcG9pbnRzLmxlbmd0aDsgLy8gLSAxO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWw7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdGltZSB0byBkbyBzb21lIHNtYXJ0IGRyYXdpbmchXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGkgKiA0O1xuICAgICAgICAgICAgY29uc3QgYW1vdW50ID0gaSAvICh0b3RhbCAtIDEpO1xuXG4gICAgICAgICAgICB1dnNbaW5kZXhdID0gYW1vdW50O1xuICAgICAgICAgICAgdXZzW2luZGV4ICsgMV0gPSAwO1xuXG4gICAgICAgICAgICB1dnNbaW5kZXggKyAyXSA9IGFtb3VudDtcbiAgICAgICAgICAgIHV2c1tpbmRleCArIDNdID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpbmRleENvdW50ID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsIC0gMTsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGkgKiAyO1xuXG4gICAgICAgICAgICBpbmRpY2VzW2luZGV4Q291bnQrK10gPSBpbmRleDtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMTtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXhDb3VudCsrXSA9IGluZGV4ICsgMjtcblxuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAyO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAxO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleENvdW50KytdID0gaW5kZXggKyAzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZW5zdXJlIHRoYXQgdGhlIGNoYW5nZXMgYXJlIHVwbG9hZGVkXG4gICAgICAgIHV2QnVmZmVyLnVwZGF0ZSgpO1xuICAgICAgICBpbmRleEJ1ZmZlci51cGRhdGUoKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZVZlcnRpY2VzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmVmcmVzaGVzIHZlcnRpY2VzIG9mIFJvcGUgbWVzaFxuICAgICAqL1xuICAgIHVwZGF0ZVZlcnRpY2VzKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuXG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoIDwgMSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxhc3RQb2ludCA9IHBvaW50c1swXTtcbiAgICAgICAgbGV0IG5leHRQb2ludDtcbiAgICAgICAgbGV0IHBlcnBYID0gMDtcbiAgICAgICAgbGV0IHBlcnBZID0gMDtcblxuICAgICAgICAvLyB0aGlzLmNvdW50IC09IDAuMjtcblxuICAgICAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMuYnVmZmVyc1swXS5kYXRhO1xuICAgICAgICBjb25zdCB0b3RhbCA9IHBvaW50cy5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gaSAqIDQ7XG5cbiAgICAgICAgICAgIGlmIChpIDwgcG9pbnRzLmxlbmd0aCAtIDEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmV4dFBvaW50ID0gcG9pbnRzW2kgKyAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuZXh0UG9pbnQgPSBwb2ludDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGVycFkgPSAtKG5leHRQb2ludC54IC0gbGFzdFBvaW50LngpO1xuICAgICAgICAgICAgcGVycFggPSBuZXh0UG9pbnQueSAtIGxhc3RQb2ludC55O1xuXG4gICAgICAgICAgICBsZXQgcmF0aW8gPSAoMSAtIChpIC8gKHRvdGFsIC0gMSkpKSAqIDEwO1xuXG4gICAgICAgICAgICBpZiAocmF0aW8gPiAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJhdGlvID0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcGVycExlbmd0aCA9IE1hdGguc3FydCgocGVycFggKiBwZXJwWCkgKyAocGVycFkgKiBwZXJwWSkpO1xuICAgICAgICAgICAgY29uc3QgbnVtID0gdGhpcy53aWR0aCAvIDI7IC8vICgyMCArIE1hdGguYWJzKE1hdGguc2luKChpICsgdGhpcy5jb3VudCkgKiAwLjMpICogNTApICkqIHJhdGlvO1xuXG4gICAgICAgICAgICBwZXJwWCAvPSBwZXJwTGVuZ3RoO1xuICAgICAgICAgICAgcGVycFkgLz0gcGVycExlbmd0aDtcblxuICAgICAgICAgICAgcGVycFggKj0gbnVtO1xuICAgICAgICAgICAgcGVycFkgKj0gbnVtO1xuXG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleF0gPSBwb2ludC54ICsgcGVycFg7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleCArIDFdID0gcG9pbnQueSArIHBlcnBZO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXggKyAyXSA9IHBvaW50LnggLSBwZXJwWDtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4ICsgM10gPSBwb2ludC55IC0gcGVycFk7XG5cbiAgICAgICAgICAgIGxhc3RQb2ludCA9IHBvaW50O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5idWZmZXJzWzBdLnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVZlcnRpY2VzKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTWVzaCwgTWVzaE1hdGVyaWFsIH0gZnJvbSAnQHBpeGkvbWVzaCc7XG5pbXBvcnQgUm9wZUdlb21ldHJ5IGZyb20gJy4vZ2VvbWV0cnkvUm9wZUdlb21ldHJ5JztcblxuLyoqXG4gKiBUaGUgcm9wZSBhbGxvd3MgeW91IHRvIGRyYXcgYSB0ZXh0dXJlIGFjcm9zcyBzZXZlcmFsIHBvaW50cyBhbmQgdGhlbiBtYW5pcHVsYXRlIHRoZXNlIHBvaW50c1xuICpcbiAqYGBganNcbiAqIGZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykge1xuICogICAgIHBvaW50cy5wdXNoKG5ldyBQSVhJLlBvaW50KGkgKiA1MCwgMCkpO1xuICogfTtcbiAqIGxldCByb3BlID0gbmV3IFBJWEkuUm9wZShQSVhJLlRleHR1cmUuZnJvbShcInNuYWtlLnBuZ1wiKSwgcG9pbnRzKTtcbiAqICBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuTWVzaFxuICogQG1lbWJlcm9mIFBJWElcbiAqXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpbXBsZVJvcGUgZXh0ZW5kcyBNZXNoXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byB1c2Ugb24gdGhlIHJvcGUuXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50W119IHBvaW50cyAtIEFuIGFycmF5IG9mIHtAbGluayBQSVhJLlBvaW50fSBvYmplY3RzIHRvIGNvbnN0cnVjdCB0aGlzIHJvcGUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGV4dHVyZSwgcG9pbnRzKVxuICAgIHtcbiAgICAgICAgY29uc3Qgcm9wZUdlb21ldHJ5ID0gbmV3IFJvcGVHZW9tZXRyeSh0ZXh0dXJlLmhlaWdodCwgcG9pbnRzKTtcbiAgICAgICAgY29uc3QgbWVzaE1hdGVyaWFsID0gbmV3IE1lc2hNYXRlcmlhbCh0ZXh0dXJlKTtcblxuICAgICAgICBzdXBlcihyb3BlR2VvbWV0cnksIG1lc2hNYXRlcmlhbCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJlLWNhbGN1bGF0ZSB2ZXJ0aWNlcyBieSByb3BlIHBvaW50cyBlYWNoIGZyYW1lXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9VcGRhdGUgPSB0cnVlO1xuICAgIH1cblxuICAgIF9yZW5kZXIocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5hdXRvVXBkYXRlXG4gICAgICAgICAgICB8fCB0aGlzLmdlb21ldHJ5LndpZHRoICE9PSB0aGlzLnNoYWRlci50ZXh0dXJlLmhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS53aWR0aCA9IHRoaXMuc2hhZGVyLnRleHR1cmUuaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5nZW9tZXRyeS51cGRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLl9yZW5kZXIocmVuZGVyZXIpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IE1lc2gsIE1lc2hNYXRlcmlhbCB9IGZyb20gJ0BwaXhpL21lc2gnO1xuaW1wb3J0IFBsYW5lR2VvbWV0cnkgZnJvbSAnLi9nZW9tZXRyeS9QbGFuZUdlb21ldHJ5JztcblxuLyoqXG4gKiBUaGUgU2ltcGxlUGxhbmUgYWxsb3dzIHlvdSB0byBkcmF3IGEgdGV4dHVyZSBhY3Jvc3Mgc2V2ZXJhbCBwb2ludHMgYW5kIHRoZW4gbWFuaXB1bGF0ZSB0aGVzZSBwb2ludHNcbiAqXG4gKmBgYGpzXG4gKiBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAqICAgICBwb2ludHMucHVzaChuZXcgUElYSS5Qb2ludChpICogNTAsIDApKTtcbiAqIH07XG4gKiBsZXQgU2ltcGxlUGxhbmUgPSBuZXcgUElYSS5TaW1wbGVQbGFuZShQSVhJLlRleHR1cmUuZnJvbShcInNuYWtlLnBuZ1wiKSwgcG9pbnRzKTtcbiAqICBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuTWVzaFxuICogQG1lbWJlcm9mIFBJWElcbiAqXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpbXBsZVBsYW5lIGV4dGVuZHMgTWVzaFxue1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfSB0ZXh0dXJlIC0gVGhlIHRleHR1cmUgdG8gdXNlIG9uIHRoZSBTaW1wbGVQbGFuZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmVydGljZXNYIC0gVGhlIG51bWJlciBvZiB2ZXJ0aWNlcyBpbiB0aGUgeC1heGlzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZlcnRpY2VzWSAtIFRoZSBudW1iZXIgb2YgdmVydGljZXMgaW4gdGhlIHktYXhpc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRleHR1cmUsIHZlcnRpY2VzWCwgdmVydGljZXNZKVxuICAgIHtcbiAgICAgICAgY29uc3QgcGxhbmVHZW9tZXRyeSA9IG5ldyBQbGFuZUdlb21ldHJ5KHRleHR1cmUud2lkdGgsIHRleHR1cmUuaGVpZ2h0LCB2ZXJ0aWNlc1gsIHZlcnRpY2VzWSk7XG4gICAgICAgIGNvbnN0IG1lc2hNYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwoVGV4dHVyZS5XSElURSk7XG5cbiAgICAgICAgc3VwZXIocGxhbmVHZW9tZXRyeSwgbWVzaE1hdGVyaWFsKTtcblxuICAgICAgICAvLyBsZXRzIGNhbGwgdGhlIHNldHRlciB0byBlbnN1cmUgYWxsIG5lY2Vzc2FyeSB1cGRhdGVzIGFyZSBwZXJmb3JtZWRcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdXNlZCBmb3Igb3ZlcnJpZGVzLCB0byBkbyBzb21ldGhpbmcgaW4gY2FzZSB0ZXh0dXJlIGZyYW1lIHdhcyBjaGFuZ2VkLlxuICAgICAqIE1lc2hlcyBiYXNlZCBvbiBwbGFuZSBjYW4gb3ZlcnJpZGUgaXQgYW5kIGNoYW5nZSBtb3JlIGRldGFpbHMgYmFzZWQgb24gdGV4dHVyZS5cbiAgICAgKi9cbiAgICB0ZXh0dXJlVXBkYXRlZCgpXG4gICAge1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSB0aGlzLnNoYWRlci50ZXh0dXJlLl91cGRhdGVJRDtcblxuICAgICAgICB0aGlzLmdlb21ldHJ5LndpZHRoID0gdGhpcy5zaGFkZXIudGV4dHVyZS53aWR0aDtcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5oZWlnaHQgPSB0aGlzLnNoYWRlci50ZXh0dXJlLmhlaWdodDtcblxuICAgICAgICB0aGlzLmdlb21ldHJ5LmJ1aWxkKCk7XG4gICAgfVxuXG4gICAgc2V0IHRleHR1cmUodmFsdWUpXG4gICAge1xuICAgICAgICAvLyBUcmFjayB0ZXh0dXJlIHNhbWUgd2F5IHNwcml0ZSBkb2VzLlxuICAgICAgICAvLyBGb3IgZ2VuZXJhdGVkIG1lc2hlcyBsaWtlIE5pbmVTbGljZVBsYW5lIGl0IGNhbiBjaGFuZ2UgdGhlIGdlb21ldHJ5LlxuICAgICAgICAvLyBVbmZvcnR1bmF0ZWx5LCB0aGlzIG1ldGhvZCBtaWdodCBub3Qgd29yayBpZiB5b3UgZGlyZWN0bHkgY2hhbmdlIHRleHR1cmUgaW4gbWF0ZXJpYWwuXG5cbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyLnRleHR1cmUgPT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNoYWRlci50ZXh0dXJlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuXG4gICAgICAgIGlmICh2YWx1ZS5iYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlVXBkYXRlZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdmFsdWUub25jZSgndXBkYXRlJywgdGhpcy50ZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgdGV4dHVyZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zaGFkZXIudGV4dHVyZTtcbiAgICB9XG5cbiAgICBfcmVuZGVyKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3RleHR1cmVJRCAhPT0gdGhpcy5zaGFkZXIudGV4dHVyZS5fdXBkYXRlSUQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZVVwZGF0ZWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN1cGVyLl9yZW5kZXIocmVuZGVyZXIpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE1lc2gsIE1lc2hHZW9tZXRyeSwgTWVzaE1hdGVyaWFsIH0gZnJvbSAnQHBpeGkvbWVzaCc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qKlxuICogVGhlIFNpbXBsZSBNZXNoIGNsYXNzIG1pbWljcyBNZXNoIGluIFBpeGlKUyB2NCwgcHJvdmlkaW5nIGVhc3ktdG8tdXNlIGNvbnN0cnVjdG9yIGFyZ3VtZW50cy5cbiAqIEZvciBtb3JlIHJvYnVzdCBjdXN0b21pemF0aW9uLCB1c2Uge0BsaW5rIFBJWEkuTWVzaH0uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLk1lc2hcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpbXBsZU1lc2ggZXh0ZW5kcyBNZXNoXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IFt0ZXh0dXJlPVRleHR1cmUuRU1QVFldIC0gVGhlIHRleHR1cmUgdG8gdXNlXG4gICAgICogQHBhcmFtIHtGbG9hdDMyQXJyYXl9IFt2ZXJ0aWNlc10gLSBpZiB5b3Ugd2FudCB0byBzcGVjaWZ5IHRoZSB2ZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbdXZzXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIHV2c1xuICAgICAqIEBwYXJhbSB7VWludDE2QXJyYXl9IFtpbmRpY2VzXSAtIGlmIHlvdSB3YW50IHRvIHNwZWNpZnkgdGhlIGluZGljZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RyYXdNb2RlXSAtIHRoZSBkcmF3TW9kZSwgY2FuIGJlIGFueSBvZiB0aGUgTWVzaC5EUkFXX01PREVTIGNvbnN0c1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRleHR1cmUgPSBUZXh0dXJlLkVNUFRZLCB2ZXJ0aWNlcywgdXZzLCBpbmRpY2VzLCBkcmF3TW9kZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gbmV3IE1lc2hHZW9tZXRyeSh2ZXJ0aWNlcywgdXZzLCBpbmRpY2VzKTtcblxuICAgICAgICBnZW9tZXRyeS5nZXRCdWZmZXIoJ2FWZXJ0ZXhQb3NpdGlvbicpLnN0YXRpYyA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IG1lc2hNYXRlcmlhbCA9IG5ldyBNZXNoTWF0ZXJpYWwodGV4dHVyZSk7XG5cbiAgICAgICAgc3VwZXIoZ2VvbWV0cnksIG1lc2hNYXRlcmlhbCwgbnVsbCwgZHJhd01vZGUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB1cGxvYWQgdmVydGljZXMgYnVmZmVyIGVhY2ggZnJhbWVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b1VwZGF0ZSA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29sbGVjdGlvbiBvZiB2ZXJ0aWNlcyBkYXRhLlxuICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgKi9cbiAgICBnZXQgdmVydGljZXMoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhO1xuICAgIH1cbiAgICBzZXQgdmVydGljZXModmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykuZGF0YSA9IHZhbHVlO1xuICAgIH1cblxuICAgIF9yZW5kZXIocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5hdXRvVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJykudXBkYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzdXBlci5fcmVuZGVyKHJlbmRlcmVyKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgU2ltcGxlUGxhbmUgZnJvbSAnLi9TaW1wbGVQbGFuZSc7XG5cbmNvbnN0IERFRkFVTFRfQk9SREVSX1NJWkUgPSAxMDtcblxuLyoqXG4gKiBUaGUgTmluZVNsaWNlUGxhbmUgYWxsb3dzIHlvdSB0byBzdHJldGNoIGEgdGV4dHVyZSB1c2luZyA5LXNsaWNlIHNjYWxpbmcuIFRoZSBjb3JuZXJzIHdpbGwgcmVtYWluIHVuc2NhbGVkICh1c2VmdWxcbiAqIGZvciBidXR0b25zIHdpdGggcm91bmRlZCBjb3JuZXJzIGZvciBleGFtcGxlKSBhbmQgdGhlIG90aGVyIGFyZWFzIHdpbGwgYmUgc2NhbGVkIGhvcml6b250YWxseSBhbmQgb3IgdmVydGljYWxseVxuICpcbiAqYGBganNcbiAqIGxldCBQbGFuZTkgPSBuZXcgUElYSS5OaW5lU2xpY2VQbGFuZShQSVhJLlRleHR1cmUuZnJvbSgnQm94V2l0aFJvdW5kZWRDb3JuZXJzLnBuZycpLCAxNSwgMTUsIDE1LCAxNSk7XG4gKiAgYGBgXG4gKiA8cHJlPlxuICogICAgICBBICAgICAgICAgICAgICAgICAgICAgICAgICBCXG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogIEMgfCAxIHwgICAgICAgICAgMiAgICAgICAgICAgfCAzIHxcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG4gKiAgICB8ICAgfCAgICAgICAgICAgICAgICAgICAgICB8ICAgfFxuICogICAgfCA0IHwgICAgICAgICAgNSAgICAgICAgICAgfCA2IHxcbiAqICAgIHwgICB8ICAgICAgICAgICAgICAgICAgICAgIHwgICB8XG4gKiAgICArLS0tKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rLS0tK1xuICogIEQgfCA3IHwgICAgICAgICAgOCAgICAgICAgICAgfCA5IHxcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG5cbiAqICBXaGVuIGNoYW5naW5nIHRoaXMgb2JqZWN0cyB3aWR0aCBhbmQvb3IgaGVpZ2h0OlxuICogICAgIGFyZWFzIDEgMyA3IGFuZCA5IHdpbGwgcmVtYWluIHVuc2NhbGVkLlxuICogICAgIGFyZWFzIDIgYW5kIDggd2lsbCBiZSBzdHJldGNoZWQgaG9yaXpvbnRhbGx5XG4gKiAgICAgYXJlYXMgNCBhbmQgNiB3aWxsIGJlIHN0cmV0Y2hlZCB2ZXJ0aWNhbGx5XG4gKiAgICAgYXJlYSA1IHdpbGwgYmUgc3RyZXRjaGVkIGJvdGggaG9yaXpvbnRhbGx5IGFuZCB2ZXJ0aWNhbGx5XG4gKiA8L3ByZT5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU2ltcGxlUGxhbmVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOaW5lU2xpY2VQbGFuZSBleHRlbmRzIFNpbXBsZVBsYW5lXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUgdGV4dHVyZSB0byB1c2Ugb24gdGhlIE5pbmVTbGljZVBsYW5lLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVmdFdpZHRoPTEwXSBzaXplIG9mIHRoZSBsZWZ0IHZlcnRpY2FsIGJhciAoQSlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3RvcEhlaWdodD0xMF0gc2l6ZSBvZiB0aGUgdG9wIGhvcml6b250YWwgYmFyIChDKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmlnaHRXaWR0aD0xMF0gc2l6ZSBvZiB0aGUgcmlnaHQgdmVydGljYWwgYmFyIChCKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYm90dG9tSGVpZ2h0PTEwXSBzaXplIG9mIHRoZSBib3R0b20gaG9yaXpvbnRhbCBiYXIgKEQpXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGV4dHVyZSwgbGVmdFdpZHRoLCB0b3BIZWlnaHQsIHJpZ2h0V2lkdGgsIGJvdHRvbUhlaWdodClcbiAgICB7XG4gICAgICAgIHN1cGVyKFRleHR1cmUuV0hJVEUsIDQsIDQpO1xuXG4gICAgICAgIHRoaXMuX29yaWdXaWR0aCA9IHRleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdGhpcy5fb3JpZ0hlaWdodCA9IHRleHR1cmUub3JpZy5oZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fd2lkdGggPSB0aGlzLl9vcmlnV2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hlaWdodCA9IHRoaXMuX29yaWdIZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgbGVmdCBjb2x1bW4gKGEpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xlZnRXaWR0aCA9IHR5cGVvZiBsZWZ0V2lkdGggIT09ICd1bmRlZmluZWQnID8gbGVmdFdpZHRoIDogREVGQVVMVF9CT1JERVJfU0laRTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSByaWdodCBjb2x1bW4gKGIpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JpZ2h0V2lkdGggPSB0eXBlb2YgcmlnaHRXaWR0aCAhPT0gJ3VuZGVmaW5lZCcgPyByaWdodFdpZHRoIDogREVGQVVMVF9CT1JERVJfU0laRTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgdG9wIHJvdyAoYylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdG9wSGVpZ2h0ID0gdHlwZW9mIHRvcEhlaWdodCAhPT0gJ3VuZGVmaW5lZCcgPyB0b3BIZWlnaHQgOiBERUZBVUxUX0JPUkRFUl9TSVpFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBib3R0b20gcm93IChkKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3R0b21IZWlnaHQgPSB0eXBlb2YgYm90dG9tSGVpZ2h0ICE9PSAndW5kZWZpbmVkJyA/IGJvdHRvbUhlaWdodCA6IERFRkFVTFRfQk9SREVSX1NJWkU7XG5cbiAgICAgICAgLy8gbGV0cyBjYWxsIHRoZSBzZXR0ZXIgdG8gZW5zdXJlIGFsbCBuZWNlc3NhcnkgdXBkYXRlcyBhcmUgcGVyZm9ybWVkXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgfVxuXG4gICAgdGV4dHVyZVVwZGF0ZWQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gdGhpcy5zaGFkZXIudGV4dHVyZS5fdXBkYXRlSUQ7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9XG5cbiAgICBnZXQgdmVydGljZXMoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhO1xuICAgIH1cblxuICAgIHNldCB2ZXJ0aWNlcyh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKS5kYXRhID0gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgaG9yaXpvbnRhbCB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqL1xuICAgIHVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcygpXG4gICAge1xuICAgICAgICBjb25zdCB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG5cbiAgICAgICAgY29uc3QgaCA9IHRoaXMuX3RvcEhlaWdodCArIHRoaXMuX2JvdHRvbUhlaWdodDtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLl9oZWlnaHQgPiBoID8gMS4wIDogdGhpcy5faGVpZ2h0IC8gaDtcblxuICAgICAgICB2ZXJ0aWNlc1s5XSA9IHZlcnRpY2VzWzExXSA9IHZlcnRpY2VzWzEzXSA9IHZlcnRpY2VzWzE1XSA9IHRoaXMuX3RvcEhlaWdodCAqIHNjYWxlO1xuICAgICAgICB2ZXJ0aWNlc1sxN10gPSB2ZXJ0aWNlc1sxOV0gPSB2ZXJ0aWNlc1syMV0gPSB2ZXJ0aWNlc1syM10gPSB0aGlzLl9oZWlnaHQgLSAodGhpcy5fYm90dG9tSGVpZ2h0ICogc2NhbGUpO1xuICAgICAgICB2ZXJ0aWNlc1syNV0gPSB2ZXJ0aWNlc1syN10gPSB2ZXJ0aWNlc1syOV0gPSB2ZXJ0aWNlc1szMV0gPSB0aGlzLl9oZWlnaHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdmVydGljYWwgdmVydGljZXMuXG4gICAgICpcbiAgICAgKi9cbiAgICB1cGRhdGVWZXJ0aWNhbFZlcnRpY2VzKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHZlcnRpY2VzID0gdGhpcy52ZXJ0aWNlcztcblxuICAgICAgICBjb25zdCB3ID0gdGhpcy5fbGVmdFdpZHRoICsgdGhpcy5fcmlnaHRXaWR0aDtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLl93aWR0aCA+IHcgPyAxLjAgOiB0aGlzLl93aWR0aCAvIHc7XG5cbiAgICAgICAgdmVydGljZXNbMl0gPSB2ZXJ0aWNlc1sxMF0gPSB2ZXJ0aWNlc1sxOF0gPSB2ZXJ0aWNlc1syNl0gPSB0aGlzLl9sZWZ0V2lkdGggKiBzY2FsZTtcbiAgICAgICAgdmVydGljZXNbNF0gPSB2ZXJ0aWNlc1sxMl0gPSB2ZXJ0aWNlc1syMF0gPSB2ZXJ0aWNlc1syOF0gPSB0aGlzLl93aWR0aCAtICh0aGlzLl9yaWdodFdpZHRoICogc2NhbGUpO1xuICAgICAgICB2ZXJ0aWNlc1s2XSA9IHZlcnRpY2VzWzE0XSA9IHZlcnRpY2VzWzIyXSA9IHZlcnRpY2VzWzMwXSA9IHRoaXMuX3dpZHRoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCB3aWR0aCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgfVxuXG4gICAgc2V0IHdpZHRoKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGhlaWdodCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgIH1cblxuICAgIHNldCBoZWlnaHQodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIGxlZnQgY29sdW1uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0IGxlZnRXaWR0aCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGVmdFdpZHRoO1xuICAgIH1cblxuICAgIHNldCBsZWZ0V2lkdGgodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fbGVmdFdpZHRoID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHJpZ2h0IGNvbHVtblxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCByaWdodFdpZHRoKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yaWdodFdpZHRoO1xuICAgIH1cblxuICAgIHNldCByaWdodFdpZHRoKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3JpZ2h0V2lkdGggPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRvcCByb3dcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgdG9wSGVpZ2h0KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b3BIZWlnaHQ7XG4gICAgfVxuXG4gICAgc2V0IHRvcEhlaWdodCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl90b3BIZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIGJvdHRvbSByb3dcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgYm90dG9tSGVpZ2h0KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ib3R0b21IZWlnaHQ7XG4gICAgfVxuXG4gICAgc2V0IGJvdHRvbUhlaWdodCh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9ib3R0b21IZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlcyBOaW5lU2xpY2VQbGFuZSBjb29yZHMuIEFsbCBvZiB0aGVtLlxuICAgICAqL1xuICAgIF9yZWZyZXNoKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLnRleHR1cmU7XG5cbiAgICAgICAgY29uc3QgdXZzID0gdGhpcy5nZW9tZXRyeS5idWZmZXJzWzFdLmRhdGE7XG5cbiAgICAgICAgdGhpcy5fb3JpZ1dpZHRoID0gdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB0aGlzLl9vcmlnSGVpZ2h0ID0gdGV4dHVyZS5vcmlnLmhlaWdodDtcblxuICAgICAgICBjb25zdCBfdXZ3ID0gMS4wIC8gdGhpcy5fb3JpZ1dpZHRoO1xuICAgICAgICBjb25zdCBfdXZoID0gMS4wIC8gdGhpcy5fb3JpZ0hlaWdodDtcblxuICAgICAgICB1dnNbMF0gPSB1dnNbOF0gPSB1dnNbMTZdID0gdXZzWzI0XSA9IDA7XG4gICAgICAgIHV2c1sxXSA9IHV2c1szXSA9IHV2c1s1XSA9IHV2c1s3XSA9IDA7XG4gICAgICAgIHV2c1s2XSA9IHV2c1sxNF0gPSB1dnNbMjJdID0gdXZzWzMwXSA9IDE7XG4gICAgICAgIHV2c1syNV0gPSB1dnNbMjddID0gdXZzWzI5XSA9IHV2c1szMV0gPSAxO1xuXG4gICAgICAgIHV2c1syXSA9IHV2c1sxMF0gPSB1dnNbMThdID0gdXZzWzI2XSA9IF91dncgKiB0aGlzLl9sZWZ0V2lkdGg7XG4gICAgICAgIHV2c1s0XSA9IHV2c1sxMl0gPSB1dnNbMjBdID0gdXZzWzI4XSA9IDEgLSAoX3V2dyAqIHRoaXMuX3JpZ2h0V2lkdGgpO1xuICAgICAgICB1dnNbOV0gPSB1dnNbMTFdID0gdXZzWzEzXSA9IHV2c1sxNV0gPSBfdXZoICogdGhpcy5fdG9wSGVpZ2h0O1xuICAgICAgICB1dnNbMTddID0gdXZzWzE5XSA9IHV2c1syMV0gPSB1dnNbMjNdID0gMSAtIChfdXZoICogdGhpcy5fYm90dG9tSGVpZ2h0KTtcblxuICAgICAgICB0aGlzLnVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZlcnRpY2FsVmVydGljZXMoKTtcblxuICAgICAgICB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMF0udXBkYXRlKCk7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1sxXS51cGRhdGUoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgVGlja2VyLCBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuXG4vKipcbiAqIEFuIEFuaW1hdGVkU3ByaXRlIGlzIGEgc2ltcGxlIHdheSB0byBkaXNwbGF5IGFuIGFuaW1hdGlvbiBkZXBpY3RlZCBieSBhIGxpc3Qgb2YgdGV4dHVyZXMuXG4gKlxuICogYGBganNcbiAqIGxldCBhbGllbkltYWdlcyA9IFtcImltYWdlX3NlcXVlbmNlXzAxLnBuZ1wiLFwiaW1hZ2Vfc2VxdWVuY2VfMDIucG5nXCIsXCJpbWFnZV9zZXF1ZW5jZV8wMy5wbmdcIixcImltYWdlX3NlcXVlbmNlXzA0LnBuZ1wiXTtcbiAqIGxldCB0ZXh0dXJlQXJyYXkgPSBbXTtcbiAqXG4gKiBmb3IgKGxldCBpPTA7IGkgPCA0OyBpKyspXG4gKiB7XG4gKiAgICAgIGxldCB0ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb20oYWxpZW5JbWFnZXNbaV0pO1xuICogICAgICB0ZXh0dXJlQXJyYXkucHVzaCh0ZXh0dXJlKTtcbiAqIH07XG4gKlxuICogbGV0IGFuaW1hdGVkU3ByaXRlID0gbmV3IFBJWEkuQW5pbWF0ZWRTcHJpdGUodGV4dHVyZUFycmF5KTtcbiAqIGBgYFxuICpcbiAqIFRoZSBtb3JlIGVmZmljaWVudCBhbmQgc2ltcGxlciB3YXkgdG8gY3JlYXRlIGFuIGFuaW1hdGVkIHNwcml0ZSBpcyB1c2luZyBhIHtAbGluayBQSVhJLlNwcml0ZXNoZWV0fVxuICogY29udGFpbmluZyB0aGUgYW5pbWF0aW9uIGRlZmluaXRpb25zOlxuICpcbiAqIGBgYGpzXG4gKiBQSVhJLkxvYWRlci5zaGFyZWQuYWRkKFwiYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb25cIikubG9hZChzZXR1cCk7XG4gKlxuICogZnVuY3Rpb24gc2V0dXAoKSB7XG4gKiAgIGxldCBzaGVldCA9IFBJWEkuTG9hZGVyLnNoYXJlZC5yZXNvdXJjZXNbXCJhc3NldHMvc3ByaXRlc2hlZXQuanNvblwiXS5zcHJpdGVzaGVldDtcbiAqICAgYW5pbWF0ZWRTcHJpdGUgPSBuZXcgUElYSS5BbmltYXRlZFNwcml0ZShzaGVldC5hbmltYXRpb25zW1wiaW1hZ2Vfc2VxdWVuY2VcIl0pO1xuICogICAuLi5cbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TcHJpdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFuaW1hdGVkU3ByaXRlIGV4dGVuZHMgU3ByaXRlXG57XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQSVhJLlRleHR1cmVbXXxQSVhJLkFuaW1hdGVkU3ByaXRlLkZyYW1lT2JqZWN0W119IHRleHR1cmVzIC0gQW4gYXJyYXkgb2Yge0BsaW5rIFBJWEkuVGV4dHVyZX0gb3IgZnJhbWVcbiAgICAgKiAgb2JqZWN0cyB0aGF0IG1ha2UgdXAgdGhlIGFuaW1hdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthdXRvVXBkYXRlPXRydWVdIC0gV2hldGhlciB0byB1c2UgUElYSS5UaWNrZXIuc2hhcmVkIHRvIGF1dG8gdXBkYXRlIGFuaW1hdGlvbiB0aW1lLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRleHR1cmVzLCBhdXRvVXBkYXRlKVxuICAgIHtcbiAgICAgICAgc3VwZXIodGV4dHVyZXNbMF0gaW5zdGFuY2VvZiBUZXh0dXJlID8gdGV4dHVyZXNbMF0gOiB0ZXh0dXJlc1swXS50ZXh0dXJlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge1BJWEkuVGV4dHVyZVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dHVyZXMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kdXJhdGlvbnMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMudGV4dHVyZXMgPSB0ZXh0dXJlcztcblxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIHVzZXMgUElYSS5UaWNrZXIuc2hhcmVkIHRvIGF1dG8gdXBkYXRlIGFuaW1hdGlvbiB0aW1lLlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYXV0b1VwZGF0ZSA9IGF1dG9VcGRhdGUgIT09IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3BlZWQgdGhhdCB0aGUgQW5pbWF0ZWRTcHJpdGUgd2lsbCBwbGF5IGF0LiBIaWdoZXIgaXMgZmFzdGVyLCBsb3dlciBpcyBzbG93ZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbmltYXRpb25TcGVlZCA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoZSBhbmltYXRlIHNwcml0ZSByZXBlYXRzIGFmdGVyIHBsYXlpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubG9vcCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSBhbmNob3IgdG8gW1RleHR1cmUncyBkZWZhdWx0QW5jaG9yXXtAbGluayBQSVhJLlRleHR1cmUjZGVmYXVsdEFuY2hvcn0gd2hlbiBmcmFtZSBjaGFuZ2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBVc2VmdWwgd2l0aCBbc3ByaXRlIHNoZWV0IGFuaW1hdGlvbnNde0BsaW5rIFBJWEkuU3ByaXRlc2hlZXQjYW5pbWF0aW9uc30gY3JlYXRlZCB3aXRoIHRvb2xzLlxuICAgICAgICAgKiBDaGFuZ2luZyBhbmNob3IgZm9yIGVhY2ggZnJhbWUgYWxsb3dzIHRvIHBpbiBzcHJpdGUgb3JpZ2luIHRvIGNlcnRhaW4gbW92aW5nIGZlYXR1cmVcbiAgICAgICAgICogb2YgdGhlIGZyYW1lIChlLmcuIGxlZnQgZm9vdCkuXG4gICAgICAgICAqXG4gICAgICAgICAqIE5vdGU6IEVuYWJsaW5nIHRoaXMgd2lsbCBvdmVycmlkZSBhbnkgcHJldmlvdXNseSBzZXQgYGFuY2hvcmAgb24gZWFjaCBmcmFtZSBjaGFuZ2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVwZGF0ZUFuY2hvciA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiB0byBjYWxsIHdoZW4gYW4gQW5pbWF0ZWRTcHJpdGUgZmluaXNoZXMgcGxheWluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW5jdGlvbiB0byBjYWxsIHdoZW4gYW4gQW5pbWF0ZWRTcHJpdGUgY2hhbmdlcyB3aGljaCB0ZXh0dXJlIGlzIGJlaW5nIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25GcmFtZUNoYW5nZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBgbG9vcGAgaXMgdHJ1ZSwgYW5kIGFuIEFuaW1hdGVkU3ByaXRlIGlzIHBsYXllZCBhbmQgbG9vcHMgYXJvdW5kIHRvIHN0YXJ0IGFnYWluLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Mb29wID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRWxhcHNlZCB0aW1lIHNpbmNlIGFuaW1hdGlvbiBoYXMgYmVlbiBzdGFydGVkLCB1c2VkIGludGVybmFsbHkgdG8gZGlzcGxheSBjdXJyZW50IHRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBBbmltYXRlZFNwcml0ZSBpcyBjdXJyZW50bHkgcGxheWluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICpcbiAgICAgKi9cbiAgICBzdG9wKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5wbGF5aW5nKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9VcGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBsYXlzIHRoZSBBbmltYXRlZFNwcml0ZS5cbiAgICAgKlxuICAgICAqL1xuICAgIHBsYXkoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucGxheWluZylcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbGF5aW5nID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9VcGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuSElHSCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgQW5pbWF0ZWRTcHJpdGUgYW5kIGdvZXMgdG8gYSBzcGVjaWZpYyBmcmFtZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcmFtZU51bWJlciAtIEZyYW1lIGluZGV4IHRvIHN0b3AgYXQuXG4gICAgICovXG4gICAgZ290b0FuZFN0b3AoZnJhbWVOdW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLnN0b3AoKTtcblxuICAgICAgICBjb25zdCBwcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG5cbiAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgPSBmcmFtZU51bWJlcjtcblxuICAgICAgICBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR29lcyB0byBhIHNwZWNpZmljIGZyYW1lIGFuZCBiZWdpbnMgcGxheWluZyB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJhbWVOdW1iZXIgLSBGcmFtZSBpbmRleCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICBnb3RvQW5kUGxheShmcmFtZU51bWJlcilcbiAgICB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcblxuICAgICAgICB0aGlzLl9jdXJyZW50VGltZSA9IGZyYW1lTnVtYmVyO1xuXG4gICAgICAgIGlmIChwcmV2aW91c0ZyYW1lICE9PSB0aGlzLmN1cnJlbnRGcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBsYXkoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBvYmplY3QgdHJhbnNmb3JtIGZvciByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWx0YVRpbWUgLSBUaW1lIHNpbmNlIGxhc3QgdGljay5cbiAgICAgKi9cbiAgICB1cGRhdGUoZGVsdGFUaW1lKVxuICAgIHtcbiAgICAgICAgY29uc3QgZWxhcHNlZCA9IHRoaXMuYW5pbWF0aW9uU3BlZWQgKiBkZWx0YVRpbWU7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcblxuICAgICAgICBpZiAodGhpcy5fZHVyYXRpb25zICE9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgbGFnID0gdGhpcy5fY3VycmVudFRpbWUgJSAxICogdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcblxuICAgICAgICAgICAgbGFnICs9IGVsYXBzZWQgLyA2MCAqIDEwMDA7XG5cbiAgICAgICAgICAgIHdoaWxlIChsYWcgPCAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lLS07XG4gICAgICAgICAgICAgICAgbGFnICs9IHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNpZ24gPSBNYXRoLnNpZ24odGhpcy5hbmltYXRpb25TcGVlZCAqIGRlbHRhVGltZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gTWF0aC5mbG9vcih0aGlzLl9jdXJyZW50VGltZSk7XG5cbiAgICAgICAgICAgIHdoaWxlIChsYWcgPj0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYWcgLT0gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXSAqIHNpZ247XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gc2lnbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gbGFnIC8gdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IGVsYXBzZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fY3VycmVudFRpbWUgPCAwICYmICF0aGlzLmxvb3ApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ290b0FuZFN0b3AoMCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9uQ29tcGxldGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fY3VycmVudFRpbWUgPj0gdGhpcy5fdGV4dHVyZXMubGVuZ3RoICYmICF0aGlzLmxvb3ApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ290b0FuZFN0b3AodGhpcy5fdGV4dHVyZXMubGVuZ3RoIC0gMSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9uQ29tcGxldGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxvb3AgJiYgdGhpcy5vbkxvb3ApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uU3BlZWQgPiAwICYmIHRoaXMuY3VycmVudEZyYW1lIDwgcHJldmlvdXNGcmFtZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Mb29wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuYW5pbWF0aW9uU3BlZWQgPCAwICYmIHRoaXMuY3VycmVudEZyYW1lID4gcHJldmlvdXNGcmFtZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Mb29wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGRpc3BsYXllZCB0ZXh0dXJlIHRvIG1hdGNoIHRoZSBjdXJyZW50IGZyYW1lIGluZGV4LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB1cGRhdGVUZXh0dXJlKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSB0aGlzLl90ZXh0dXJlc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG4gICAgICAgIHRoaXMuY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuICAgICAgICB0aGlzLnV2cyA9IHRoaXMuX3RleHR1cmUuX3V2cy51dnNGbG9hdDMyO1xuXG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZUFuY2hvcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYW5jaG9yLmNvcHkodGhpcy5fdGV4dHVyZS5kZWZhdWx0QW5jaG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9uRnJhbWVDaGFuZ2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMub25GcmFtZUNoYW5nZSh0aGlzLmN1cnJlbnRGcmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgQW5pbWF0ZWRTcHJpdGUgYW5kIGRlc3Ryb3lzIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBJZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICAgICAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGwuXG4gICAgICovXG4gICAgZGVzdHJveShvcHRpb25zKVxuICAgIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3kob3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5vbkNvbXBsZXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5vbkZyYW1lQ2hhbmdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5vbkxvb3AgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCB3YXkgb2YgY3JlYXRpbmcgYW4gQW5pbWF0ZWRTcHJpdGUgZnJvbSBhbiBhcnJheSBvZiBmcmFtZSBpZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gZnJhbWVzIC0gVGhlIGFycmF5IG9mIGZyYW1lcyBpZHMgdGhlIEFuaW1hdGVkU3ByaXRlIHdpbGwgdXNlIGFzIGl0cyB0ZXh0dXJlIGZyYW1lcy5cbiAgICAgKiBAcmV0dXJuIHtBbmltYXRlZFNwcml0ZX0gVGhlIG5ldyBhbmltYXRlZCBzcHJpdGUgd2l0aCB0aGUgc3BlY2lmaWVkIGZyYW1lcy5cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbUZyYW1lcyhmcmFtZXMpXG4gICAge1xuICAgICAgICBjb25zdCB0ZXh0dXJlcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZnJhbWVzLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0dXJlcy5wdXNoKFRleHR1cmUuZnJvbShmcmFtZXNbaV0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgQW5pbWF0ZWRTcHJpdGUodGV4dHVyZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCB3YXkgb2YgY3JlYXRpbmcgYW4gQW5pbWF0ZWRTcHJpdGUgZnJvbSBhbiBhcnJheSBvZiBpbWFnZSBpZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gaW1hZ2VzIC0gVGhlIGFycmF5IG9mIGltYWdlIHVybHMgdGhlIEFuaW1hdGVkU3ByaXRlIHdpbGwgdXNlIGFzIGl0cyB0ZXh0dXJlIGZyYW1lcy5cbiAgICAgKiBAcmV0dXJuIHtBbmltYXRlZFNwcml0ZX0gVGhlIG5ldyBhbmltYXRlIHNwcml0ZSB3aXRoIHRoZSBzcGVjaWZpZWQgaW1hZ2VzIGFzIGZyYW1lcy5cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbUltYWdlcyhpbWFnZXMpXG4gICAge1xuICAgICAgICBjb25zdCB0ZXh0dXJlcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0dXJlcy5wdXNoKFRleHR1cmUuZnJvbShpbWFnZXNbaV0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgQW5pbWF0ZWRTcHJpdGUodGV4dHVyZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSB0b3RhbCBudW1iZXIgb2YgZnJhbWVzIGluIHRoZSBBbmltYXRlZFNwcml0ZS4gVGhpcyBpcyB0aGUgc2FtZSBhcyBudW1iZXIgb2YgdGV4dHVyZXNcbiAgICAgKiBhc3NpZ25lZCB0byB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIGdldCB0b3RhbEZyYW1lcygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZXMubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBhcnJheSBvZiB0ZXh0dXJlcyB1c2VkIGZvciB0aGlzIEFuaW1hdGVkU3ByaXRlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlW119XG4gICAgICovXG4gICAgZ2V0IHRleHR1cmVzKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlcztcbiAgICB9XG5cbiAgICBzZXQgdGV4dHVyZXModmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHZhbHVlWzBdIGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fZHVyYXRpb25zID0gW107XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMucHVzaCh2YWx1ZVtpXS50ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kdXJhdGlvbnMucHVzaCh2YWx1ZVtpXS50aW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdvdG9BbmRTdG9wKDApO1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIFRoZSBBbmltYXRlZFNwcml0ZXMgY3VycmVudCBmcmFtZSBpbmRleC5cbiAgICAqXG4gICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgKiBAcmVhZG9ubHlcbiAgICAqL1xuICAgIGdldCBjdXJyZW50RnJhbWUoKVxuICAgIHtcbiAgICAgICAgbGV0IGN1cnJlbnRGcmFtZSA9IE1hdGguZmxvb3IodGhpcy5fY3VycmVudFRpbWUpICUgdGhpcy5fdGV4dHVyZXMubGVuZ3RoO1xuXG4gICAgICAgIGlmIChjdXJyZW50RnJhbWUgPCAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBjdXJyZW50RnJhbWUgKz0gdGhpcy5fdGV4dHVyZXMubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGN1cnJlbnRGcmFtZTtcbiAgICB9XG59XG5cbi8qKlxuICogQG1lbWJlcm9mIFBJWEkuQW5pbWF0ZWRTcHJpdGVcbiAqIEB0eXBlZGVmIHtvYmplY3R9IEZyYW1lT2JqZWN0XG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtQSVhJLlRleHR1cmV9IHRleHR1cmUgLSBUaGUge0BsaW5rIFBJWEkuVGV4dHVyZX0gb2YgdGhlIGZyYW1lXG4gKiBAcHJvcGVydHkge251bWJlcn0gdGltZSAtIHRoZSBkdXJhdGlvbiBvZiB0aGUgZnJhbWUgaW4gbXNcbiAqL1xuIiwiaW1wb3J0IHsgZGVwcmVjYXRpb24gfSBmcm9tICdAcGl4aS91dGlscyc7XG5cbmNvbnN0IHY1ID0gJzUuMC4wJztcblxuLyoqXG4gKiBEZXByZWNhdGlvbnMgKGJhY2t3YXJkIGNvbXBhdGliaWxpdGllcykgYXJlIGF1dG9tYXRpY2FsbHkgYXBwbGllZCBmb3IgYnJvd3NlciBidW5kbGVzXG4gKiBpbiB0aGUgVU1EIG1vZHVsZSBmb3JtYXQuIElmIHVzaW5nIFdlYnBhY2sgb3IgUm9sbHVwLCB5b3UnbGwgbmVlZCB0byBhcHBseSB0aGVzZVxuICogZGVwcmVjYXRpb25zIG1hbnVhbGx5IGJ5IGRvaW5nIHNvbWV0aGluZyBsaWtlIHRoaXM6XG4gKiBAZXhhbXBsZVxuICogaW1wb3J0ICogYXMgUElYSSBmcm9tICdwaXhpLmpzJztcbiAqIFBJWEkudXNlRGVwcmVjYXRlZCgpOyAvLyBNVVNUIGJlIGJvdW5kIHRvIG5hbWVzcGFjZVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiB1c2VEZXByZWNhdGVkXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZURlcHJlY2F0ZWQoKVxue1xuICAgIGNvbnN0IFBJWEkgPSB0aGlzO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNvbnN0YW50IHtSZWdFeHB8c3RyaW5nfSBTVkdfU0laRVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAc2VlIFBJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlLlNWR19TSVpFXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBTVkdfU0laRToge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudXRpbHMuU1ZHX1NJWkUgcHJvcGVydHkgaGFzIG1vdmVkIHRvIFBJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlLlNWR19TSVpFJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TVkdSZXNvdXJjZS5TVkdfU0laRTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLlRyYW5zZm9ybVN0YXRpY1xuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuVHJhbnNmb3JtXG4gICAgICAgICAqL1xuICAgICAgICBUcmFuc2Zvcm1TdGF0aWM6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLlRyYW5zZm9ybVN0YXRpYyBjbGFzcyBoYXMgYmVlbiByZW1vdmVkLCB1c2UgUElYSS5UcmFuc2Zvcm0nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlRyYW5zZm9ybTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLlRyYW5zZm9ybUJhc2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlRyYW5zZm9ybVxuICAgICAgICAgKi9cbiAgICAgICAgVHJhbnNmb3JtQmFzZToge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuVHJhbnNmb3JtQmFzZSBjbGFzcyBoYXMgYmVlbiByZW1vdmVkLCB1c2UgUElYSS5UcmFuc2Zvcm0nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlRyYW5zZm9ybTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnN0YW50cyB0aGF0IHNwZWNpZnkgdGhlIHRyYW5zZm9ybSB0eXBlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc3RhdGljXG4gICAgICAgICAqIEBjb25zdGFudFxuICAgICAgICAgKiBAbmFtZSBUUkFOU0ZPUk1fTU9ERVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAZW51bSB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gU1RBVElDXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEWU5BTUlDXG4gICAgICAgICAqL1xuICAgICAgICBUUkFOU0ZPUk1fTU9ERToge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuVFJBTlNGT1JNX01PREUgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgU1RBVElDOiAwLCBEWU5BTUlDOiAxIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5XZWJHTFJlbmRlcmVyXG4gICAgICAgICAqIEBzZWUgUElYSS5SZW5kZXJlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgV2ViR0xSZW5kZXJlcjoge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuV2ViR0xSZW5kZXJlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5SZW5kZXJlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuUmVuZGVyZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5DYW52YXNSZW5kZXJUYXJnZXRcbiAgICAgICAgICogQHNlZSBQSVhJLnV0aWxzLkNhbnZhc1JlbmRlclRhcmdldFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQ2FudmFzUmVuZGVyVGFyZ2V0OiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5DYW52YXNSZW5kZXJUYXJnZXQgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkudXRpbHMuQ2FudmFzUmVuZGVyVGFyZ2V0Jyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS51dGlscy5DYW52YXNSZW5kZXJUYXJnZXQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSVxuICAgICAgICAgKiBAbmFtZSBsb2FkZXJcbiAgICAgICAgICogQHR5cGUge1BJWEkuTG9hZGVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLnNoYXJlZFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgbG9hZGVyOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXIgaW5zdGFuY2UgaGFzIG1vdmVkIHRvIFBJWEkuTG9hZGVyLnNoYXJlZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTG9hZGVyLnNoYXJlZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLkZpbHRlck1hbmFnZXJcbiAgICAgICAgICogQHNlZSBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBGaWx0ZXJNYW5hZ2VyOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5GaWx0ZXJNYW5hZ2VyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG5hbWVzcGFjZSBoYXMgYmVlbiByZW1vdmVkLiBBbGwgY2xhc3NlcyBwcmV2aW91cyBuZXN0ZWRcbiAgICAgKiB1bmRlciB0aGlzIG5hbWVzcGFjZSBoYXZlIGJlZW4gbW92ZWQgdG8gdGhlIHRvcC1sZXZlbCBgUElYSWAgb2JqZWN0LlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5leHRyYXNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkuZXh0cmFzID0ge307XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLmV4dHJhcywge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZVxuICAgICAgICAgKiBAc2VlIFBJWEkuVGlsaW5nU3ByaXRlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBUaWxpbmdTcHJpdGU6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuVGlsaW5nU3ByaXRlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UaWxpbmdTcHJpdGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZVJlbmRlcmVyXG4gICAgICAgICAqIEBzZWUgUElYSS5UaWxpbmdTcHJpdGVSZW5kZXJlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgVGlsaW5nU3ByaXRlUmVuZGVyZXI6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGVSZW5kZXJlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5UaWxpbmdTcHJpdGVSZW5kZXJlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVGlsaW5nU3ByaXRlUmVuZGVyZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlXG4gICAgICAgICAqIEBzZWUgUElYSS5BbmltYXRlZFNwcml0ZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQW5pbWF0ZWRTcHJpdGU6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmV4dHJhcy5BbmltYXRlZFNwcml0ZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5BbmltYXRlZFNwcml0ZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQW5pbWF0ZWRTcHJpdGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFzLkJpdG1hcFRleHRcbiAgICAgICAgICogQHNlZSBQSVhJLkJpdG1hcFRleHRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIEJpdG1hcFRleHQ6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmV4dHJhcy5CaXRtYXBUZXh0IGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLkJpdG1hcFRleHQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkJpdG1hcFRleHQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS51dGlscywge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uIFBJWEkudXRpbHMuZ2V0U3ZnU2l6ZVxuICAgICAgICAgKiBAc2VlIFBJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlLmdldFNpemVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGdldFN2Z1NpemU6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnV0aWxzLmdldFN2Z1NpemUgZnVuY3Rpb24gaGFzIG1vdmVkIHRvIFBJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlLmdldFNpemUnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNWR1Jlc291cmNlLmdldFNpemU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQWxsIGNsYXNzZXMgb24gdGhpcyBuYW1lc3BhY2UgaGF2ZSBtb3ZlZCB0byB0aGUgaGlnaC1sZXZlbCBgUElYSWAgb2JqZWN0LlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5tZXNoXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLm1lc2ggPSB7fTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkubWVzaCwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5NZXNoXG4gICAgICAgICAqIEBzZWUgUElYSS5TaW1wbGVNZXNoXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBNZXNoOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLk1lc2ggY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuU2ltcGxlTWVzaCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU2ltcGxlTWVzaDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLk5pbmVTbGljZVBsYW5lXG4gICAgICAgICAqIEBzZWUgUElYSS5OaW5lU2xpY2VQbGFuZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgTmluZVNsaWNlUGxhbmU6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guTmluZVNsaWNlUGxhbmUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuTmluZVNsaWNlUGxhbmUnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLk5pbmVTbGljZVBsYW5lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guUGxhbmVcbiAgICAgICAgICogQHNlZSBQSVhJLlNpbXBsZVBsYW5lXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBQbGFuZToge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5QbGFuZSBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5TaW1wbGVQbGFuZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU2ltcGxlUGxhbmU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5Sb3BlXG4gICAgICAgICAqIEBzZWUgUElYSS5TaW1wbGVSb3BlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBSb3BlOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLlJvcGUgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuU2ltcGxlUm9wZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU2ltcGxlUm9wZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLlJhd01lc2hcbiAgICAgICAgICogQHNlZSBQSVhJLk1lc2hcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIFJhd01lc2g6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLm1lc2guUmF3TWVzaCBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5NZXNoJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5NZXNoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guQ2FudmFzTWVzaFJlbmRlcmVyXG4gICAgICAgICAqIEBzZWUgUElYSS5DYW52YXNNZXNoUmVuZGVyZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIENhbnZhc01lc2hSZW5kZXJlcjoge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubWVzaC5DYW52YXNNZXNoUmVuZGVyZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuQ2FudmFzTWVzaFJlbmRlcmVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5DYW52YXNNZXNoUmVuZGVyZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5NZXNoUmVuZGVyZXJcbiAgICAgICAgICogQHNlZSBQSVhJLk1lc2hSZW5kZXJlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgTWVzaFJlbmRlcmVyOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5tZXNoLk1lc2hSZW5kZXJlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5NZXNoUmVuZGVyZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLk1lc2hSZW5kZXJlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG5hbWVzcGFjZSBoYXMgYmVlbiByZW1vdmVkIGFuZCBpdGVtcyBoYXZlIGJlZW4gbW92ZWQgdG9cbiAgICAgKiB0aGUgdG9wLWxldmVsIGBQSVhJYCBvYmplY3QuXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLnBhcnRpY2xlc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgUElYSS5wYXJ0aWNsZXMgPSB7fTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkucGFydGljbGVzLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5wYXJ0aWNsZXMuUGFydGljbGVDb250YWluZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlBhcnRpY2xlQ29udGFpbmVyXG4gICAgICAgICAqL1xuICAgICAgICBQYXJ0aWNsZUNvbnRhaW5lcjoge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkucGFydGljbGVzLlBhcnRpY2xlQ29udGFpbmVyIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLlBhcnRpY2xlQ29udGFpbmVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5QYXJ0aWNsZUNvbnRhaW5lcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5wYXJ0aWNsZXMuUGFydGljbGVSZW5kZXJlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuUGFydGljbGVSZW5kZXJlclxuICAgICAgICAgKi9cbiAgICAgICAgUGFydGljbGVSZW5kZXJlcjoge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkucGFydGljbGVzLlBhcnRpY2xlUmVuZGVyZXIgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuUGFydGljbGVSZW5kZXJlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuUGFydGljbGVSZW5kZXJlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG5hbWVzcGFjZSBoYXMgYmVlbiByZW1vdmVkIGFuZCBpdGVtcyBoYXZlIGJlZW4gbW92ZWQgdG9cbiAgICAgKiB0aGUgdG9wLWxldmVsIGBQSVhJYCBvYmplY3QuXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLnRpY2tlclxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgUElYSS50aWNrZXIgPSB7fTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkudGlja2VyLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS50aWNrZXIuVGlja2VyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5UaWNrZXJcbiAgICAgICAgICovXG4gICAgICAgIFRpY2tlcjoge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudGlja2VyLlRpY2tlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5UaWNrZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlRpY2tlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLnRpY2tlci5zaGFyZWRcbiAgICAgICAgICogQHR5cGUge1BJWEkuVGlja2VyfVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuVGlja2VyLnNoYXJlZFxuICAgICAgICAgKi9cbiAgICAgICAgc2hhcmVkOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS50aWNrZXIuc2hhcmVkIGluc3RhbmNlIGhhcyBtb3ZlZCB0byBQSVhJLlRpY2tlci5zaGFyZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlRpY2tlci5zaGFyZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQWxsIGNsYXNzZXMgb24gdGhpcyBuYW1lc3BhY2UgaGF2ZSBtb3ZlZCB0byB0aGUgaGlnaC1sZXZlbCBgUElYSWAgb2JqZWN0LlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5sb2FkZXJzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLmxvYWRlcnMgPSB7fTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkubG9hZGVycywge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubG9hZGVycy5Mb2FkZXJcbiAgICAgICAgICogQHNlZSBQSVhJLkxvYWRlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgTG9hZGVyOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXJzLkxvYWRlciBjbGFzcyBoYXMgbW92ZWQgdG8gUElYSS5Mb2FkZXInKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkxvYWRlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5sb2FkZXJzLlJlc291cmNlXG4gICAgICAgICAqIEBzZWUgUElYSS5Mb2FkZXJSZXNvdXJjZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgUmVzb3VyY2U6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMuUmVzb3VyY2UgY2xhc3MgaGFzIG1vdmVkIHRvIFBJWEkuTG9hZGVyUmVzb3VyY2UnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkxvYWRlclJlc291cmNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvbiBQSVhJLmxvYWRlcnMuYml0bWFwRm9udFBhcnNlclxuICAgICAgICAgKiBAc2VlIFBJWEkuQml0bWFwRm9udExvYWRlci51c2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGJpdG1hcEZvbnRQYXJzZXI6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmxvYWRlcnMuYml0bWFwRm9udFBhcnNlciBmdW5jdGlvbiBoYXMgbW92ZWQgdG8gUElYSS5CaXRtYXBGb250TG9hZGVyLnVzZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQml0bWFwRm9udExvYWRlci51c2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uIFBJWEkubG9hZGVycy5wYXJzZUJpdG1hcEZvbnREYXRhXG4gICAgICAgICAqIEBzZWUgUElYSS5CaXRtYXBGb250TG9hZGVyLnBhcnNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBwYXJzZUJpdG1hcEZvbnREYXRhOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXJzLnBhcnNlQml0bWFwRm9udERhdGEgZnVuY3Rpb24gaGFzIG1vdmVkIHRvIFBJWEkuQml0bWFwRm9udExvYWRlci5wYXJzZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQml0bWFwRm9udExvYWRlci5wYXJzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb24gUElYSS5sb2FkZXJzLnNwcml0ZXNoZWV0UGFyc2VyXG4gICAgICAgICAqIEBzZWUgUElYSS5TcHJpdGVzaGVldExvYWRlci51c2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIHNwcml0ZXNoZWV0UGFyc2VyOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5sb2FkZXJzLnNwcml0ZXNoZWV0UGFyc2VyIGZ1bmN0aW9uIGhhcyBtb3ZlZCB0byBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLnVzZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIudXNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvbiBQSVhJLmxvYWRlcnMuZ2V0UmVzb3VyY2VQYXRoXG4gICAgICAgICAqIEBzZWUgUElYSS5TcHJpdGVzaGVldExvYWRlci5nZXRSZXNvdXJjZVBhdGhcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGdldFJlc291cmNlUGF0aDoge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkubG9hZGVycy5nZXRSZXNvdXJjZVBhdGggcHJvcGVydHkgaGFzIG1vdmVkIHRvIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIuZ2V0UmVzb3VyY2VQYXRoJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TcHJpdGVzaGVldExvYWRlci5nZXRSZXNvdXJjZVBhdGg7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uIFBJWEkubG9hZGVycy5Mb2FkZXIuYWRkUGl4aU1pZGRsZXdhcmVcbiAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBtaWRkbGV3YXJlXG4gICAgICovXG4gICAgUElYSS5Mb2FkZXIuYWRkUGl4aU1pZGRsZXdhcmUgPSBmdW5jdGlvbiBhZGRQaXhpTWlkZGxld2FyZShtaWRkbGV3YXJlKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsXG4gICAgICAgICAgICAnUElYSS5sb2FkZXJzLkxvYWRlci5hZGRQaXhpTWlkZGxld2FyZSBmdW5jdGlvbiBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5sb2FkZXJzLkxvYWRlci5yZWdpc3RlclBsdWdpbidcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gUElYSS5sb2FkZXJzLkxvYWRlci5yZWdpc3RlclBsdWdpbih7IHVzZTogbWlkZGxld2FyZSgpIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAY2xhc3MgUElYSS5leHRyYWN0LldlYkdMRXh0cmFjdFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLmV4dHJhY3QuRXh0cmFjdFxuICAgICAqL1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQSVhJLmV4dHJhY3QsICdXZWJHTEV4dHJhY3QnLCB7XG4gICAgICAgIGdldCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5leHRyYWN0LldlYkdMRXh0cmFjdCBtZXRob2QgaGFzIG1vdmVkIHRvIFBJWEkuZXh0cmFjdC5FeHRyYWN0Jyk7XG5cbiAgICAgICAgICAgIHJldHVybiBQSVhJLmV4dHJhY3QuRXh0cmFjdDtcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBjbGFzcyBQSVhJLnByZXBhcmUuV2ViR0xQcmVwYXJlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkucHJlcGFyZS5QcmVwYXJlXG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBJWEkucHJlcGFyZSwgJ1dlYkdMUHJlcGFyZScsIHtcbiAgICAgICAgZ2V0KClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLnByZXBhcmUuV2ViR0xQcmVwYXJlIGNsYXNzIGhhcyBtb3ZlZCB0byBQSVhJLnByZXBhcmUuUHJlcGFyZScpO1xuXG4gICAgICAgICAgICByZXR1cm4gUElYSS5wcmVwYXJlLlByZXBhcmU7XG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuQ29udGFpbmVyI19yZW5kZXJXZWJHTFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQ29udGFpbmVyI3JlbmRlclxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgSW5zdGFuY2Ugb2YgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBQSVhJLkNvbnRhaW5lci5wcm90b3R5cGUuX3JlbmRlcldlYkdMID0gZnVuY3Rpb24gX3JlbmRlcldlYkdMKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkNvbnRhaW5lci5fcmVuZGVyV2ViR0wgbWV0aG9kIGhhcyBtb3ZlZCB0byBQSVhJLkNvbnRhaW5lci5fcmVuZGVyJyk7XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyKHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLkNvbnRhaW5lciNyZW5kZXJXZWJHTFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkNvbnRhaW5lciNyZW5kZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIEluc3RhbmNlIG9mIHJlbmRlcmVyXG4gICAgICovXG4gICAgUElYSS5Db250YWluZXIucHJvdG90eXBlLnJlbmRlcldlYkdMID0gZnVuY3Rpb24gcmVuZGVyV2ViR0wocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQ29udGFpbmVyLnJlbmRlcldlYkdMIG1ldGhvZCBoYXMgbW92ZWQgdG8gUElYSS5Db250YWluZXIucmVuZGVyJyk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIocmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuRGlzcGxheU9iamVjdCNyZW5kZXJXZWJHTFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkRpc3BsYXlPYmplY3QjcmVuZGVyXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciBJbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIFBJWEkuRGlzcGxheU9iamVjdC5wcm90b3R5cGUucmVuZGVyV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJXZWJHTChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5EaXNwbGF5T2JqZWN0LnJlbmRlcldlYkdMIG1ldGhvZCBoYXMgbW92ZWQgdG8gUElYSS5EaXNwbGF5T2JqZWN0LnJlbmRlcicpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyKHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLkNvbnRhaW5lciNyZW5kZXJBZHZhbmNlZFdlYkdMXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQ29udGFpbmVyI3JlbmRlckFkdmFuY2VkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciBJbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIFBJWEkuQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXJBZHZhbmNlZFdlYkdMID0gZnVuY3Rpb24gcmVuZGVyQWR2YW5jZWRXZWJHTChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5Db250YWluZXIucmVuZGVyQWR2YW5jZWRXZWJHTCBtZXRob2QgaGFzIG1vdmVkIHRvIFBJWEkuQ29udGFpbmVyLnJlbmRlckFkdmFuY2VkJyk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJBZHZhbmNlZChyZW5kZXJlcik7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkuc2V0dGluZ3MsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmF1bHQgdHJhbnNmb3JtIHR5cGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgICAgICogQHR5cGUge1BJWEkuVFJBTlNGT1JNX01PREV9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuVFJBTlNGT1JNX01PREUuU1RBVElDXG4gICAgICAgICAqL1xuICAgICAgICBUUkFOU0ZPUk1fTU9ERToge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuc2V0dGluZ3MuVFJBTlNGT1JNX01PREUgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuc2V0dGluZ3MuVFJBTlNGT1JNX01PREUgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCcpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIGNvbnN0IHsgQmFzZVRleHR1cmUgfSA9IFBJWEk7XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGxvYWRTb3VyY2VcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5CYXNlVGV4dHVyZSNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5sb2FkU291cmNlID0gZnVuY3Rpb24gbG9hZFNvdXJjZShpbWFnZSlcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5sb2FkU291cmNlIG1ldGhvZCBoYXMgYmVlbiBkZXByZWNhdGVkJyk7XG5cbiAgICAgICAgY29uc3QgcmVzb3VyY2UgPSBQSVhJLnJlc291cmNlcy5hdXRvRGV0ZWN0UmVzb3VyY2UoaW1hZ2UpO1xuXG4gICAgICAgIHJlc291cmNlLmludGVybmFsID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLnNldFJlc291cmNlKHJlc291cmNlKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQmFzZVRleHR1cmUucHJvdG90eXBlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLkJhc2VUZXh0dXJlI2hhc0xvYWRlZFxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZSN2YWxpZFxuICAgICAgICAgKi9cbiAgICAgICAgaGFzTG9hZGVkOiB7XG4gICAgICAgICAgICBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5oYXNMb2FkZWQgcHJvcGVydHkgaGFzIGJlZW4gcmVtb3ZlZCwgdXNlIFBJWEkuQmFzZVRleHR1cmUudmFsaWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbGlkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQmFzZVRleHR1cmUjaW1hZ2VVcmxcbiAgICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBzZWUgUElYSS5yZXNvdXJjZS5JbWFnZVJlc291cmNlI3VybFxuICAgICAgICAgKi9cbiAgICAgICAgaW1hZ2VVcmw6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLmltYWdlVXJsIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQsIHVzZSByZXNvdXJjZS51cmwnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc291cmNlICYmIHRoaXMucmVzb3VyY2UudXJsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuQmFzZVRleHR1cmUjc291cmNlXG4gICAgICAgICAqIEB0eXBlIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8U1ZHRWxlbWVudH1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBzZWUgUElYSS5yZXNvdXJjZXMuQmFzZUltYWdlUmVzb3VyY2Ujc291cmNlXG4gICAgICAgICAqL1xuICAgICAgICBzb3VyY2U6IHtcbiAgICAgICAgICAgIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkJhc2VUZXh0dXJlLnNvdXJjZSBwcm9wZXJ0eSBoYXMgYmVlbiBtb3ZlZCwgdXNlIGByZXNvdXJjZS5zb3VyY2VgJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXNvdXJjZSAmJiB0aGlzLnJlc291cmNlLnNvdXJjZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQoc291cmNlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5zb3VyY2UgcHJvcGVydHkgaGFzIGJlZW4gbW92ZWQsIHVzZSBgcmVzb3VyY2Uuc291cmNlYCAnXG4gICAgICAgICAgICAgICAgICAgICsgJ2lmIHlvdSB3YW50IHRvIHNldCBIVE1MQ2FudmFzRWxlbWVudC4gT3RoZXJ3aXNlLCBjcmVhdGUgbmV3IEJhc2VUZXh0dXJlLicpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzb3VyY2UpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc291cmNlLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBmcm9tSW1hZ2VcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQmFzZVRleHR1cmVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZS5mcm9tXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUuZnJvbUltYWdlID0gZnVuY3Rpb24gZnJvbUltYWdlKGNhbnZhcywgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSwgc2NhbGUpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuZnJvbUltYWdlIG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuQmFzZVRleHR1cmUuZnJvbScpO1xuXG4gICAgICAgIGNvbnN0IHJlc291cmNlT3B0aW9ucyA9IHsgc2NhbGUsIGNyb3Nzb3JpZ2luIH07XG5cbiAgICAgICAgcmV0dXJuIEJhc2VUZXh0dXJlLmZyb20oY2FudmFzLCB7IHNjYWxlTW9kZSwgcmVzb3VyY2VPcHRpb25zIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGZyb21DYW52YXNcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQmFzZVRleHR1cmVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZS5mcm9tXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUuZnJvbUNhbnZhcyA9IGZ1bmN0aW9uIGZyb21DYW52YXMoY2FudmFzLCBzY2FsZU1vZGUpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuQmFzZVRleHR1cmUuZnJvbUNhbnZhcyBtZXRob2QgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLkJhc2VUZXh0dXJlLmZyb20nKTtcblxuICAgICAgICByZXR1cm4gQmFzZVRleHR1cmUuZnJvbShjYW52YXMsIHsgc2NhbGVNb2RlIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIGZyb21TVkdcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQmFzZVRleHR1cmVcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5CYXNlVGV4dHVyZS5mcm9tXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUuZnJvbVNWRyA9IGZ1bmN0aW9uIGZyb21TVkcoY2FudmFzLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlLCBzY2FsZSlcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5CYXNlVGV4dHVyZS5mcm9tU1ZHIG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuQmFzZVRleHR1cmUuZnJvbScpO1xuXG4gICAgICAgIGNvbnN0IHJlc291cmNlT3B0aW9ucyA9IHsgc2NhbGUsIGNyb3Nzb3JpZ2luIH07XG5cbiAgICAgICAgcmV0dXJuIEJhc2VUZXh0dXJlLmZyb20oY2FudmFzLCB7IHNjYWxlTW9kZSwgcmVzb3VyY2VPcHRpb25zIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuUG9pbnQjY29weVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLlBvaW50I2NvcHlGcm9tXG4gICAgICovXG4gICAgUElYSS5Qb2ludC5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocClcbiAgICB7XG4gICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5Qb2ludC5jb3B5IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuUG9pbnQuY29weUZyb20nKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jb3B5RnJvbShwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLk9ic2VydmFibGVQb2ludCNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuT2JzZXJ2YWJsZVBvaW50I2NvcHlGcm9tXG4gICAgICovXG4gICAgUElYSS5PYnNlcnZhYmxlUG9pbnQucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHApXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuT2JzZXJ2YWJsZVBvaW50LmNvcHkgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5PYnNlcnZhYmxlUG9pbnQuY29weUZyb20nKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jb3B5RnJvbShwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLlJlY3RhbmdsZSNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuUmVjdGFuZ2xlI2NvcHlGcm9tXG4gICAgICovXG4gICAgUElYSS5SZWN0YW5nbGUucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHApXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuUmVjdGFuZ2xlLmNvcHkgbWV0aG9kIGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5SZWN0YW5nbGUuY29weUZyb20nKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jb3B5RnJvbShwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLk1hdHJpeCNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuTWF0cml4I2NvcHlUb1xuICAgICAqL1xuICAgIFBJWEkuTWF0cml4LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShwKVxuICAgIHtcbiAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLk1hdHJpeC5jb3B5IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuTWF0cml4LmNvcHlUbycpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNvcHlUbyhwKTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmFzc2lnbihQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtLnByb3RvdHlwZSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1ldGhvZCBQSVhJLkZpbHRlck1hbmFnZXIjZ2V0UmVuZGVyVGFyZ2V0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNnZXRGaWx0ZXJUZXh0dXJlXG4gICAgICAgICAqL1xuICAgICAgICBnZXRSZW5kZXJUYXJnZXQoY2xlYXIsIHJlc29sdXRpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LFxuICAgICAgICAgICAgICAgICdQSVhJLkZpbHRlck1hbmFnZXIuZ2V0UmVuZGVyVGFyZ2V0IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0jZ2V0RmlsdGVyVGV4dHVyZSdcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEZpbHRlclRleHR1cmUocmVzb2x1dGlvbik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5GaWx0ZXJNYW5hZ2VyI3JldHVyblJlbmRlclRhcmdldFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0jcmV0dXJuRmlsdGVyVGV4dHVyZVxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuUmVuZGVyVGFyZ2V0KHJlbmRlclRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LFxuICAgICAgICAgICAgICAgICdQSVhJLkZpbHRlck1hbmFnZXIucmV0dXJuUmVuZGVyVGFyZ2V0IG1ldGhvZCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoICdcbiAgICAgICAgICAgICAgICArICdQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtLnJldHVybkZpbHRlclRleHR1cmUnXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB0aGlzLnJldHVybkZpbHRlclRleHR1cmUocmVuZGVyVGV4dHVyZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNjYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBvdXRwdXRNYXRyaXggLSB0aGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgICAgICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXBwZWQgbWF0cml4LlxuICAgICAgICAgKi9cbiAgICAgICAgY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXgob3V0cHV0TWF0cml4KVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0uY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXggbWV0aG9kIGlzIHJlbW92ZWQsICdcbiAgICAgICAgICAgICAgICArICd1c2UgYCh2VGV4dHVyZUNvb3JkICogaW5wdXRTaXplLnh5KSArIG91dHB1dEZyYW1lLnh5YCBpbnN0ZWFkJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1hcHBlZE1hdHJpeCA9IG91dHB1dE1hdHJpeC5pZGVudGl0eSgpO1xuICAgICAgICAgICAgY29uc3QgeyBzb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSB9ID0gdGhpcy5hY3RpdmVTdGF0ZTtcblxuICAgICAgICAgICAgbWFwcGVkTWF0cml4LnRyYW5zbGF0ZShzb3VyY2VGcmFtZS54IC8gZGVzdGluYXRpb25GcmFtZS53aWR0aCwgc291cmNlRnJhbWUueSAvIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0KTtcbiAgICAgICAgICAgIG1hcHBlZE1hdHJpeC5zY2FsZShkZXN0aW5hdGlvbkZyYW1lLndpZHRoLCBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodCk7XG5cbiAgICAgICAgICAgIHJldHVybiBtYXBwZWRNYXRyaXg7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbSNjYWxjdWxhdGVOb3JtYWxpemVkU2NyZWVuU3BhY2VNYXRyaXhcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gb3V0cHV0TWF0cml4IC0gVGhlIG1hdHJpeCB0byBvdXRwdXQgdG8uXG4gICAgICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGUgbWFwcGVkIG1hdHJpeC5cbiAgICAgICAgICovXG4gICAgICAgIGNhbGN1bGF0ZU5vcm1hbGl6ZWRTY3JlZW5TcGFjZU1hdHJpeChvdXRwdXRNYXRyaXgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5zeXN0ZW1zLkZpbHRlck1hbmFnZXIuY2FsY3VsYXRlTm9ybWFsaXplZFNjcmVlblNwYWNlTWF0cml4IG1ldGhvZCBpcyByZW1vdmVkLCAnXG4gICAgICAgICAgICAgICAgKyAndXNlIGAoKHZUZXh0dXJlQ29vcmQgKiBpbnB1dFNpemUueHkpICsgb3V0cHV0RnJhbWUueHkpIC8gb3V0cHV0RnJhbWUuendgIGluc3RlYWQuJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHsgc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUgfSA9IHRoaXMuYWN0aXZlU3RhdGU7XG4gICAgICAgICAgICBjb25zdCBtYXBwZWRNYXRyaXggPSBvdXRwdXRNYXRyaXguaWRlbnRpdHkoKTtcblxuICAgICAgICAgICAgbWFwcGVkTWF0cml4LnRyYW5zbGF0ZShzb3VyY2VGcmFtZS54IC8gZGVzdGluYXRpb25GcmFtZS53aWR0aCwgc291cmNlRnJhbWUueSAvIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0KTtcblxuICAgICAgICAgICAgY29uc3QgdHJhbnNsYXRlU2NhbGVYID0gKGRlc3RpbmF0aW9uRnJhbWUud2lkdGggLyBzb3VyY2VGcmFtZS53aWR0aCk7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2xhdGVTY2FsZVkgPSAoZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyBzb3VyY2VGcmFtZS5oZWlnaHQpO1xuXG4gICAgICAgICAgICBtYXBwZWRNYXRyaXguc2NhbGUodHJhbnNsYXRlU2NhbGVYLCB0cmFuc2xhdGVTY2FsZVkpO1xuXG4gICAgICAgICAgICByZXR1cm4gbWFwcGVkTWF0cml4O1xuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5SZW5kZXJUZXh0dXJlLnByb3RvdHlwZSwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG5hbWUgUElYSS5SZW5kZXJUZXh0dXJlI3NvdXJjZUZyYW1lXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBzb3VyY2VGcmFtZToge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuUmVuZGVyVGV4dHVyZS5zb3VyY2VGcmFtZSBwcm9wZXJ0eSBoYXMgYmVlbiByZW1vdmVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJGcmFtZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLlJlbmRlclRleHR1cmUjc2l6ZVxuICAgICAgICAgKiBAdHlwZSB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgc2l6ZToge1xuICAgICAgICAgICAgZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkuUmVuZGVyVGV4dHVyZS5zaXplIHByb3BlcnR5IGhhcyBiZWVuIHJlbW92ZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9mcmFtZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAY2xhc3MgQmx1clhGaWx0ZXJcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzc1xuICAgICAqL1xuICAgIGNsYXNzIEJsdXJYRmlsdGVyIGV4dGVuZHMgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzXG4gICAge1xuICAgICAgICBjb25zdHJ1Y3RvcihzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmZpbHRlcnMuQmx1clhGaWx0ZXIgY2xhc3MgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzcycpO1xuXG4gICAgICAgICAgICBzdXBlcih0cnVlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAY2xhc3MgQmx1cllGaWx0ZXJcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzc1xuICAgICAqL1xuICAgIGNsYXNzIEJsdXJZRmlsdGVyIGV4dGVuZHMgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzXG4gICAge1xuICAgICAgICBjb25zdHJ1Y3RvcihzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLmZpbHRlcnMuQmx1cllGaWx0ZXIgY2xhc3MgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzcycpO1xuXG4gICAgICAgICAgICBzdXBlcihmYWxzZSwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgT2JqZWN0LmFzc2lnbihQSVhJLmZpbHRlcnMsIHtcbiAgICAgICAgQmx1clhGaWx0ZXIsXG4gICAgICAgIEJsdXJZRmlsdGVyLFxuICAgIH0pO1xuXG4gICAgY29uc3QgeyBTcHJpdGUsIFRleHR1cmUsIEdyYXBoaWNzIH0gPSBQSVhJO1xuXG4gICAgLy8gU3VwcG9ydCBmb3IgcGl4aS5qcy1sZWdhY3kgYmlmdXJjYXRpb25cbiAgICAvLyBnaXZlIHVzZXJzIGEgZnJpZW5kbHkgYXNzaXN0IHRvIHVzZSBsZWdhY3lcbiAgICBpZiAoIUdyYXBoaWNzLnByb3RvdHlwZS5nZW5lcmF0ZUNhbnZhc1RleHR1cmUpXG4gICAge1xuICAgICAgICBHcmFwaGljcy5wcm90b3R5cGUuZ2VuZXJhdGVDYW52YXNUZXh0dXJlID0gZnVuY3Rpb24gZ2VuZXJhdGVDYW52YXNUZXh0dXJlKClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVwcmVjYXRpb24odjUsICdQSVhJLkdyYXBoaWNzLmdlbmVyYXRlQ2FudmFzVGV4dHVyZSBtZXRob2QgaXMgb25seSBhdmFpbGFibGUgaW4gXCJwaXhpLmpzLWxlZ2FjeVwiJyk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gVXNlIHRoZXNlIHRvIGRlcHJlY2F0ZSBhbGwgdGhlIFNwcml0ZSBmcm9tKiBtZXRob2RzXG4gICAgZnVuY3Rpb24gc3ByaXRlRnJvbShuYW1lLCBzb3VyY2UsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgYFBJWEkuU3ByaXRlLiR7bmFtZX0gbWV0aG9kIGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLlNwcml0ZS5mcm9tYCk7XG5cbiAgICAgICAgcmV0dXJuIFNwcml0ZS5mcm9tKHNvdXJjZSwge1xuICAgICAgICAgICAgcmVzb3VyY2VPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgc2NhbGU6IHNjYWxlTW9kZSxcbiAgICAgICAgICAgICAgICBjcm9zc29yaWdpbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tSW1hZ2VcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBTcHJpdGUuZnJvbUltYWdlID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tSW1hZ2UnKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tU1ZHXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgU3ByaXRlLmZyb21TVkcgPSBzcHJpdGVGcm9tLmJpbmQobnVsbCwgJ2Zyb21TVkcnKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tQ2FudmFzXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgU3ByaXRlLmZyb21DYW52YXMgPSBzcHJpdGVGcm9tLmJpbmQobnVsbCwgJ2Zyb21DYW52YXMnKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tVmlkZW9cbiAgICAgKiBAc2VlIFBJWEkuU3ByaXRlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBTcHJpdGUuZnJvbVZpZGVvID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tVmlkZW8nKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlNwcml0ZS5mcm9tRnJhbWVcbiAgICAgKiBAc2VlIFBJWEkuU3ByaXRlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBTcHJpdGUuZnJvbUZyYW1lID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tRnJhbWUnKTtcblxuICAgIC8vIFVzZSB0aGVzZSB0byBkZXByZWNhdGUgYWxsIHRoZSBUZXh0dXJlIGZyb20qIG1ldGhvZHNcbiAgICBmdW5jdGlvbiB0ZXh0dXJlRnJvbShuYW1lLCBzb3VyY2UsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUpXG4gICAge1xuICAgICAgICBkZXByZWNhdGlvbih2NSwgYFBJWEkuVGV4dHVyZS4ke25hbWV9IG1ldGhvZCBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5UZXh0dXJlLmZyb21gKTtcblxuICAgICAgICByZXR1cm4gVGV4dHVyZS5mcm9tKHNvdXJjZSwge1xuICAgICAgICAgICAgcmVzb3VyY2VPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgc2NhbGU6IHNjYWxlTW9kZSxcbiAgICAgICAgICAgICAgICBjcm9zc29yaWdpbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbUltYWdlXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21JbWFnZSA9IHRleHR1cmVGcm9tLmJpbmQobnVsbCwgJ2Zyb21JbWFnZScpO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGV4dHVyZS5mcm9tU1ZHXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21TVkcgPSB0ZXh0dXJlRnJvbS5iaW5kKG51bGwsICdmcm9tU1ZHJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5UZXh0dXJlLmZyb21DYW52YXNcbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIFRleHR1cmUuZnJvbUNhbnZhcyA9IHRleHR1cmVGcm9tLmJpbmQobnVsbCwgJ2Zyb21DYW52YXMnKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbVZpZGVvXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21WaWRlbyA9IHRleHR1cmVGcm9tLmJpbmQobnVsbCwgJ2Zyb21WaWRlbycpO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGV4dHVyZS5mcm9tRnJhbWVcbiAgICAgKiBAc2VlIFBJWEkuVGV4dHVyZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfVxuICAgICAqL1xuICAgIFRleHR1cmUuZnJvbUZyYW1lID0gdGV4dHVyZUZyb20uYmluZChudWxsLCAnZnJvbUZyYW1lJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59IFBJWEkuQWJzdHJhY3RSZW5kZXJlciNhdXRvUmVzaXplXG4gICAgICogQHNlZSBQSVhJLkFic3RyYWN0UmVuZGVyZXIjYXV0b0RlbnNpdHlcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUElYSS5BYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZSwgJ2F1dG9SZXNpemUnLCB7XG4gICAgICAgIGdldCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5BYnN0cmFjdFJlbmRlcmVyLmF1dG9SZXNpemUgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgdXNlIGF1dG9EZW5zaXR5Jyk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmF1dG9EZW5zaXR5O1xuICAgICAgICB9LFxuICAgICAgICBzZXQodmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS5BYnN0cmFjdFJlbmRlcmVyLmF1dG9SZXNpemUgcHJvcGVydHkgaXMgZGVwcmVjYXRlZCwgdXNlIGF1dG9EZW5zaXR5Jyk7XG5cbiAgICAgICAgICAgIHRoaXMuYXV0b0RlbnNpdHkgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS51dGlscy5taXhpbnNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkudXRpbHMubWl4aW5zID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkudXRpbHMubWl4aW5zXG4gICAgICAgICAqIEBmdW5jdGlvbiBtaXhpblxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgbWl4aW4oKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudXRpbHMubWl4aW5zLm1peGluIGZ1bmN0aW9uIGlzIG5vIGxvbmdlciBhdmFpbGFibGUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLm1peGluc1xuICAgICAgICAgKiBAZnVuY3Rpb24gZGVsYXlNaXhpblxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgZGVsYXlNaXhpbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKHY1LCAnUElYSS51dGlscy5taXhpbnMuZGVsYXlNaXhpbiBmdW5jdGlvbiBpcyBubyBsb25nZXIgYXZhaWxhYmxlJyk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS51dGlscy5taXhpbnNcbiAgICAgICAgICogQGZ1bmN0aW9uIHBlcmZvcm1NaXhpbnNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIHBlcmZvcm1NaXhpbnMoKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbih2NSwgJ1BJWEkudXRpbHMubWl4aW5zLnBlcmZvcm1NaXhpbnMgZnVuY3Rpb24gaXMgbm8gbG9uZ2VyIGF2YWlsYWJsZScpO1xuICAgICAgICB9LFxuICAgIH07XG59XG4iLCJpbXBvcnQgKiBhcyBQSVhJIGZyb20gJ3BpeGkuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBQSVhJIDtcbiIsImltcG9ydCBQSVhJIGZyb20gJy4uL2pzL3BpeGktbW9kdWxlLmpzJyA7XG5cbnR5cGUgVGZhbGxpbmdTeW1ib2wgPSB7XG4gICAgaW1hZ2U6IGFueSxcbiAgICB3aWR0aDogbnVtYmVyLFxuICAgIHN0YXJ0WTogbnVtYmVyLFxuICAgIGVuZFk6IG51bWJlcixcbiAgICBwb3NpdGlvblg6IG51bWJlcixcbiAgICBkZWxheTogbnVtYmVyLFxuICAgIHZlbG9jaXR5OiBudW1iZXJcbn0gO1xudHlwZSBUc291bmREYXRhID0ge1xuICAgIHNyYzogc3RyaW5nLFxuICAgIGlkOiBzdHJpbmdcbn0gO1xudHlwZSBUYnV0dG9uU3JjID0ge1xuICAgIG5vcm1hbEJ1dHRvbjogc3RyaW5nLFxuICAgIGhvdmVyQnV0dG9uOiBzdHJpbmcsXG4gICAgZGlzYWJsZWRCdXR0b246IHN0cmluZyxcbiAgICBwcmVzc2VkQnV0dG9uOiBzdHJpbmdcbn0gO1xuXG5jbGFzcyBSZWVsIHtcbiAgICBwcml2YXRlIHNvdW5kSlM6IGFueSA9IGNyZWF0ZWpzLlNvdW5kIDtcbiAgICBwcml2YXRlIGJhc2VTb3VuZHNQYXRoOiBzdHJpbmcgPSAnLi9zb3VuZHMvJyA7XG4gICAgcHJpdmF0ZSBzdG9wU291bmRzSWRzOiBzdHJpbmdbXSA7XG4gICAgcHJpdmF0ZSBzdGFydFNvdW5kSWQ6IHN0cmluZyA9ICdTdGFydF9CdXR0b24nIDtcbiAgICBwcml2YXRlIHNvdW5kczogVHNvdW5kRGF0YVtdIDtcblxuICAgIHByaXZhdGUgbWFza1NpemU6IHt3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcn0gO1xuICAgIHByaXZhdGUgYXBwOiBhbnkgO1xuICAgIHByaXZhdGUgcmVlbDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVlbCcpIDtcbiAgICBwcml2YXRlIHN0YXJ0QnV0dG9uOiBIVE1MSW1hZ2VFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2J1dHRvbicpIDtcbiAgICBwcml2YXRlIHN5bWJvbHNQYXRoOiB7XG4gICAgICAgIGJhc2VQYXRoOiBzdHJpbmcsXG4gICAgICAgIGV4dDogc3RyaW5nLFxuICAgICAgICBhbW91bnQ6IG51bWJlclxuICAgIH0gPSB7XG4gICAgICAgIGJhc2VQYXRoOiAnLi9pbWFnZXMvc3ltYm9scy9zeW1ib2xfJyxcbiAgICAgICAgZXh0OiAnLnBuZycsXG4gICAgICAgIGFtb3VudDogOFxuICAgIH0gO1xuICAgIHByaXZhdGUgc3ltYm9sczogVGZhbGxpbmdTeW1ib2xbXSA7XG4gICAgcHJpdmF0ZSBzeW1ib2xzU3JjOiBzdHJpbmdbXSA7XG4gICAgcHJpdmF0ZSBidXR0b25QYXRoZXM6IHtcbiAgICAgICAgYmFzZVBhdGg6IHN0cmluZyxcbiAgICAgICAgZXh0OiBzdHJpbmcsXG4gICAgICAgIHN0YXRlczogYW55XG4gICAgfSA9IHtcbiAgICAgICAgYmFzZVBhdGg6ICcuL2ltYWdlcy91aS9idG5fc3Bpbl8nLFxuICAgICAgICBleHQ6ICcucG5nJyxcbiAgICAgICAgc3RhdGVzOiB7XG4gICAgICAgICAgICBub3JtYWxCdXR0b246IDxzdHJpbmc+J25vcm1hbCcsXG4gICAgICAgICAgICBob3ZlckJ1dHRvbjogPHN0cmluZz4naG92ZXInLFxuICAgICAgICAgICAgZGlzYWJsZWRCdXR0b246IDxzdHJpbmc+J2Rpc2FibGVkJyxcbiAgICAgICAgICAgIHByZXNzZWRCdXR0b246IDxzdHJpbmc+J3ByZXNzZWQnXG4gICAgICAgIH1cbiAgICB9IDtcbiAgICBwcml2YXRlIGJ1dHRvblNyYzogYW55IDtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgc3ltYm9sV2lkdGg6IG51bWJlciwgcHJpdmF0ZSByb3dzOiBudW1iZXIsIHByaXZhdGUgY29sdW1uczogbnVtYmVyLCBwcml2YXRlIGZhbGxpbmdWZWxvY2l0eTogbnVtYmVyKSB7ICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlUmVlbCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZXRBcHAoKSA7XG4gICAgICAgIHRoaXMuY3JlYXRlQnV0dG9uU3JjKCkgO1xuICAgICAgICB0aGlzLmNyZWF0ZVNvdW5kc0RhdGEoKSA7XG4gICAgICAgIHRoaXMuY3JlYXRlU3ltYm9sc1NyYygpIDtcblxuICAgICAgICBjb25zdCB7IGFwcCwgc3ltYm9sc1NyYyB9ID0gdGhpcyA7XG5cbiAgICAgICAgdGhpcy5yZWVsLmFwcGVuZENoaWxkKGFwcC52aWV3KSA7XG5cbiAgICAgICAgYXBwLmxvYWRlclxuICAgICAgICAuYWRkKHN5bWJvbHNTcmMpXG4gICAgICAgIC5sb2FkKChsb2FkZXI6IGFueSwgcmVzb3VyY2VzOiBhbnkpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3ltYm9scyA9IHRoaXMuY3JlYXRlSW1hZ2VzKHJlc291cmNlcykgO1xuICAgICAgICAgICAgY29uc3QgY29udHJvbDogeyByZWVsU3BpbmluZzogYm9vbGVhbiB9ID0ge1xuICAgICAgICAgICAgICAgIHJlZWxTcGluaW5nOiBmYWxzZVxuICAgICAgICAgICAgfSA7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0QnV0dG9uSGFuZGxlcnMoKSA7XG4gICAgICAgICAgICBhcHAudGlja2VyLmFkZCgoZGVsdGE6IGFueSk6IHZvaWQgPT4gZ2FtZUxvb3AoZGVsdGEpKSA7XG5cbiAgICAgICAgICAgIGNvbnN0IGdhbWVMb29wID0gKGRlbHRhOiBhbnkpOiB2b2lkID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnN5bWJvbHMuZm9yRWFjaCgoc3ltYjogVGZhbGxpbmdTeW1ib2wpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyB2ZWxvY2l0eSB9ID0gc3ltYiA7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlU3ltYm9sKHN5bWIpIDtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbC5yZWVsU3BpbmluZyA9IHZlbG9jaXR5ID4gMCA7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tTeW1ib2xTaG91bGRTdG9wKHN5bWIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3BGYWxsaW5nU3ltYm9sKHN5bWIpIDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja1JlZWxTaG91bGRTdGFydCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3ltYm9scyA9IHRoaXMuY3JlYXRlSW1hZ2VzKHJlc291cmNlcykgO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0UmVlbFNwaW5pbmcoKSA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNoZWNrUmVlbFNob3VsZFN0b3AoY29udHJvbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRCdXR0b25IYW5kbGVycygpIDtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbC5yZWVsU3BpbmluZyA9IGZhbHNlIDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0TWFza1NpemUoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHsgc3ltYm9sV2lkdGgsIHJvd3MsIGNvbHVtbnMgfSA9IHRoaXMgO1xuICAgICAgICBjb25zdCB3aWR0aDogbnVtYmVyID0gc3ltYm9sV2lkdGggKiBjb2x1bW5zIDtcbiAgICAgICAgY29uc3QgaGVpZ2h0OiBudW1iZXIgPSBzeW1ib2xXaWR0aCAqIChyb3dzICsgMSkgO1xuXG4gICAgICAgIHRoaXMubWFza1NpemUgPSB7IHdpZHRoLCBoZWlnaHQgfSA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRBcHAoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2V0TWFza1NpemUoKSA7XG5cbiAgICAgICAgdGhpcy5hcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbih0aGlzLm1hc2tTaXplKSA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVTdG9wU291bmRzSWRzKGFtb3VudFN0b3BTb3VuZHM6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBjb25zdCBiYXNlU3RvcE5hbWU6IHN0cmluZyA9ICdSZWVsX1N0b3BfJyA7XG4gICAgICAgIGNvbnN0IGlkcyA9IFtdIDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBhbW91bnRTdG9wU291bmRzOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gYCR7YmFzZVN0b3BOYW1lfSR7aX1gIDtcbiAgICAgICAgICAgIGlkcy5wdXNoKGlkKSA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0b3BTb3VuZHNJZHMgPSBpZHMgO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlU291bmRzRGF0YSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jcmVhdGVTdG9wU291bmRzSWRzKDUpIDtcblxuICAgICAgICBjb25zdCB7IHN0YXJ0U291bmRJZCwgc3RvcFNvdW5kc0lkcyB9ID0gdGhpcyA7XG4gICAgICAgIGNvbnN0IHNvdW5kc0RhdGEgPSBbXSA7XG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbjogc3RyaW5nID0gJy5tcDMnIDtcbiAgICAgICAgY29uc3Qgc3RhcnRTb3VuZERhdGE6IFRzb3VuZERhdGEgPSB7IHNyYzogYCR7c3RhcnRTb3VuZElkfSR7ZXh0ZW5zaW9ufWAsIGlkOiBgJHtzdGFydFNvdW5kSWR9YCB9IDtcblxuICAgICAgICBzb3VuZHNEYXRhLnB1c2goc3RhcnRTb3VuZERhdGEpIDtcblxuICAgICAgICBzdG9wU291bmRzSWRzLmZvckVhY2goKHN0b3BJZDogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdG9wU291bmREYXRhOiBUc291bmREYXRhID0geyBzcmM6IGAke3N0b3BJZH0ke2V4dGVuc2lvbn1gLCBpZDogYCR7c3RvcElkfWAgfSA7XG5cbiAgICAgICAgICAgIHNvdW5kc0RhdGEucHVzaChzdG9wU291bmREYXRhKSA7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuc291bmRzID0gc291bmRzRGF0YSA7XG4gICAgICAgIHRoaXMuc291bmRKUy5yZWdpc3RlclNvdW5kcyggdGhpcy5zb3VuZHMsIHRoaXMuYmFzZVNvdW5kc1BhdGggKSA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVTeW1ib2xzU3JjKCk6IHZvaWQge1xuICAgICAgICBjb25zdCB7IGJhc2VQYXRoLCBleHQsIGFtb3VudCB9ID0gdGhpcy5zeW1ib2xzUGF0aCA7XG4gICAgICAgIGNvbnN0IHNvdXJjZXMgPSBbXSA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gYW1vdW50OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGg6IHN0cmluZyA9IGAke2Jhc2VQYXRofSR7aX0ke2V4dH1gIDtcblxuICAgICAgICAgICAgc291cmNlcy5wdXNoKHBhdGgpIDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3ltYm9sc1NyYyA9IHNvdXJjZXMgO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlQnV0dG9uU3JjKCk6IHZvaWQge1xuICAgICAgICBjb25zdCB7IGJhc2VQYXRoLCBleHQsIHN0YXRlcyB9ID0gdGhpcy5idXR0b25QYXRoZXMgO1xuICAgICAgICBjb25zdCBzb3VyY2VzOiBhbnkgPSB7fSA7XG5cbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc3RhdGVzKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGVzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZTogc3RyaW5nID0gc3RhdGVzW2tleV0gO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhdGg6IHN0cmluZyA9IGAke2Jhc2VQYXRofSR7c3RhdGV9JHtleHR9YCA7XG5cbiAgICAgICAgICAgICAgICBzb3VyY2VzW2tleV0gPSBwYXRoIDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYnV0dG9uU3JjID0gc291cmNlcyA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVJbWFnZXMocmVzb3VyY2VzOiBhbnkpOiBUZmFsbGluZ1N5bWJvbFtdIHtcbiAgICAgICAgY29uc3Qgc3ltYm9sczogVGZhbGxpbmdTeW1ib2xbXSA9IFtdIDtcbiAgICAgICAgY29uc3Qgc3ltYm9sc0luUm93OiBudW1iZXIgPSB0aGlzLmNvbHVtbnMgO1xuICAgICAgICBjb25zdCBzeW1ib2xzSW5Db2x1bW46IG51bWJlciA9IHRoaXMucm93cyA7XG4gICAgICAgIGNvbnN0IHN5bWJvbHNBbW91bnQ6IG51bWJlciA9IHN5bWJvbHNJblJvdyAqIHN5bWJvbHNJbkNvbHVtbiA7XG4gICAgICAgIGNvbnN0IHsgc3ltYm9sV2lkdGgsIHN5bWJvbHNTcmMsIGFwcCB9ID0gdGhpcyA7XG4gICAgICAgIGNvbnN0IHsgaGVpZ2h0OiBtYXNrSGVpZ2h0IH0gPSBhcHAucmVuZGVyZXIgO1xuXG4gICAgICAgIGNvbnN0IHN0YXJ0VmVsb2NpdHk6IG51bWJlciA9IDAgO1xuICAgICAgICBsZXQgY29sdW1uQ291bnRlcjogbnVtYmVyID0gMCA7XG4gICAgICAgIGxldCByb3dDb3VudGVyOiBudW1iZXIgPSAxIDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN5bWJvbHNBbW91bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBzeW1ib2xzU3JjLmxlbmd0aCkgO1xuICAgICAgICAgICAgY29uc3QgaW1hZ2VQYXRoID0gc3ltYm9sc1NyY1tpbmRleF0gO1xuICAgICAgICAgICAgY29uc3Qgc3ltYm9sSW5pdGlhbERhdGE6IFRmYWxsaW5nU3ltYm9sID0ge1xuICAgICAgICAgICAgICAgIGltYWdlOiBuZXcgUElYSS5TcHJpdGUocmVzb3VyY2VzW2ltYWdlUGF0aF0udGV4dHVyZSksXG4gICAgICAgICAgICAgICAgd2lkdGg6IHN5bWJvbFdpZHRoLFxuICAgICAgICAgICAgICAgIHN0YXJ0WTogLShyb3dDb3VudGVyICogc3ltYm9sV2lkdGgpLFxuICAgICAgICAgICAgICAgIGVuZFk6IG1hc2tIZWlnaHQgLSAoc3ltYm9sV2lkdGggKiByb3dDb3VudGVyKSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvblg6IGNvbHVtbkNvdW50ZXIgKiBzeW1ib2xXaWR0aCxcbiAgICAgICAgICAgICAgICBkZWxheTogKHJvd0NvdW50ZXIgKiBjb2x1bW5Db3VudGVyICsgcm93Q291bnRlcikgKiAxMDAsXG4gICAgICAgICAgICAgICAgdmVsb2NpdHk6IHN0YXJ0VmVsb2NpdHlcbiAgICAgICAgICAgIH0gO1xuXG4gICAgICAgICAgICBzeW1ib2xzLnB1c2goc3ltYm9sSW5pdGlhbERhdGEpIDtcbiAgICAgICAgICAgIHRoaXMuc2V0SW1hZ2VBdHRyaWJ1dGVzKHN5bWJvbEluaXRpYWxEYXRhKSA7XG5cbiAgICAgICAgICAgIGNvbHVtbkNvdW50ZXIrKyA7XG5cbiAgICAgICAgICAgIGlmIChjb2x1bW5Db3VudGVyID4gKHN5bWJvbHNJblJvdyAtIDEpKSB7XG4gICAgICAgICAgICAgICAgY29sdW1uQ291bnRlciA9IDAgO1xuICAgICAgICAgICAgICAgIHJvd0NvdW50ZXIrKyA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3ltYm9scyA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRJbWFnZUF0dHJpYnV0ZXMoc3ltYm9sSXRlbTogVGZhbGxpbmdTeW1ib2wpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgaW1hZ2UsXG4gICAgICAgICAgICBzdGFydFksXG4gICAgICAgICAgICBwb3NpdGlvblgsXG4gICAgICAgICAgICB3aWR0aFxuICAgICAgICB9ID0gc3ltYm9sSXRlbSA7XG4gICAgICAgIGNvbnN0IGFuY2hvclg6IG51bWJlciA9IDAgO1xuICAgICAgICBjb25zdCBhbmNob3JZOiBudW1iZXIgPSAwIDtcblxuICAgICAgICBpbWFnZS54ID0gcG9zaXRpb25YIDtcbiAgICAgICAgaW1hZ2UueSA9IHN0YXJ0WSA7XG4gICAgICAgIGltYWdlLndpZHRoID0gaW1hZ2UuaGVpZ2h0ID0gd2lkdGggO1xuICAgICAgICBpbWFnZS5hbmNob3IueCA9IGFuY2hvclggO1xuICAgICAgICBpbWFnZS5hbmNob3IueSA9IGFuY2hvclkgO1xuXG4gICAgICAgIHRoaXMuYXBwLnN0YWdlLmFkZENoaWxkKGltYWdlKSA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGFydFJlZWxTcGluaW5nKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnN5bWJvbHMuZm9yRWFjaCgoc3ltYm9sSXRlbTogVGZhbGxpbmdTeW1ib2wpID0+IHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHN5bWJvbEl0ZW0udmVsb2NpdHkgPSB0aGlzLmZhbGxpbmdWZWxvY2l0eTtcbiAgICAgICAgICAgIH0sIHN5bWJvbEl0ZW0uZGVsYXkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldEJ1dHRvbkhhbmRsZXJzKCk6IHZvaWQge1xuICAgICAgICBjb25zdCB7IHN0YXJ0QnV0dG9uIH0gPSB0aGlzIDtcblxuICAgICAgICBzdGFydEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5idXR0b25Nb3VzZVVwSGFuZGxlcikgO1xuICAgICAgICBzdGFydEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLmJ1dHRvbk1vdXNlRG93bkhhbmRsZXIpIDtcbiAgICAgICAgc3RhcnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5idXR0b25Nb3VzZU92ZXJIYW5kbGVyKSA7XG4gICAgICAgIHN0YXJ0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5idXR0b25Nb3VzZU91dEhhbmRsZXIpIDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1dHRvbk1vdXNlVXBIYW5kbGVyID0gKGU6IEV2ZW50KTogdm9pZCA9PiB7XG4gICAgICAgIGNvbnN0IHsgc3RhcnRCdXR0b24sIGJ1dHRvblNyYyB9ID0gdGhpcyA7XG5cbiAgICAgICAgc3RhcnRCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuYnV0dG9uTW91c2VVcEhhbmRsZXIpIDtcbiAgICAgICAgc3RhcnRCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5idXR0b25Nb3VzZURvd25IYW5kbGVyKSA7XG4gICAgICAgIHN0YXJ0QnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMuYnV0dG9uTW91c2VPdmVySGFuZGxlcikgO1xuICAgICAgICBzdGFydEJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMuYnV0dG9uTW91c2VPdXRIYW5kbGVyKSA7XG5cbiAgICAgICAgc3RhcnRCdXR0b24uc3JjID0gYnV0dG9uU3JjLmRpc2FibGVkQnV0dG9uIDtcbiAgICAgICAgdGhpcy5zb3VuZEpTLnBsYXkodGhpcy5zdGFydFNvdW5kSWQpIDtcbiAgICAgICAgdGhpcy5zdGFydFJlZWxTcGluaW5nKCkgO1xuICAgIH1cblxuICAgIHByaXZhdGUgYnV0dG9uTW91c2VEb3duSGFuZGxlciA9IChlOiBFdmVudCk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCB7IHN0YXJ0QnV0dG9uLCBidXR0b25TcmMgfSA9IHRoaXMgO1xuXG4gICAgICAgIHN0YXJ0QnV0dG9uLnNyYyA9IGJ1dHRvblNyYy5wcmVzc2VkQnV0dG9uO1xuICAgIH1cblxuICAgIHByaXZhdGUgYnV0dG9uTW91c2VPdmVySGFuZGxlciA9IChlOiBFdmVudCk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCB7IHN0YXJ0QnV0dG9uLCBidXR0b25TcmMgfSA9IHRoaXMgO1xuXG4gICAgICAgIHN0YXJ0QnV0dG9uLnNyYyA9IGJ1dHRvblNyYy5ob3ZlckJ1dHRvbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1dHRvbk1vdXNlT3V0SGFuZGxlciA9IChlOiBFdmVudCk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCB7IHN0YXJ0QnV0dG9uLCBidXR0b25TcmMgfSA9IHRoaXMgO1xuXG4gICAgICAgIHN0YXJ0QnV0dG9uLnNyYyA9IGJ1dHRvblNyYy5ub3JtYWxCdXR0b247XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBtb3ZlU3ltYm9sKHN5bWJvbERhdGE6IFRmYWxsaW5nU3ltYm9sKTogdm9pZCB7XG4gICAgICAgIHN5bWJvbERhdGEuaW1hZ2UueSArPSBzeW1ib2xEYXRhLnZlbG9jaXR5IDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNoZWNrU3ltYm9sU2hvdWxkU3RvcChzeW1ib2xEYXRhOiBUZmFsbGluZ1N5bWJvbCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCB7IGVuZFksIGltYWdlLCB2ZWxvY2l0eSB9ID0gc3ltYm9sRGF0YSA7XG4gICAgICAgIGNvbnN0IHsgeTogcG9zaXRpb25ZIH0gPSBpbWFnZSA7XG4gICAgICAgIGNvbnN0IHJlbWFpbmluZ0Rpc3RhbmNlOiBudW1iZXIgPSBlbmRZIC0gcG9zaXRpb25ZIDtcblxuICAgICAgICByZXR1cm4gcmVtYWluaW5nRGlzdGFuY2UgPj0gMCAmJiByZW1haW5pbmdEaXN0YW5jZSA8IHZlbG9jaXR5IDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0b3BGYWxsaW5nU3ltYm9sKHN5bWJvbERhdGE6IFRmYWxsaW5nU3ltYm9sKTogdm9pZCB7XG4gICAgICAgIHN5bWJvbERhdGEuaW1hZ2UueSA9IHN5bWJvbERhdGEuZW5kWSA7XG4gICAgICAgIHN5bWJvbERhdGEudmVsb2NpdHkgPSAwIDtcbiAgICAgICAgdGhpcy5wbGF5U3RvcFNvdW5kKCkgO1xuICAgIH1cblxuICAgIHByaXZhdGUgY2hlY2tSZWVsU2hvdWxkU3RhcnQoKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHsgc3ltYm9scywgYXBwIH0gPSB0aGlzIDtcbiAgICAgICAgY29uc3QgeyBoZWlnaHQ6IG1hc2tIZWlnaHQgfSA9IGFwcC5yZW5kZXJlciA7XG5cbiAgICAgICAgcmV0dXJuIHN5bWJvbHMuZXZlcnkoKHN5bWI6IFRmYWxsaW5nU3ltYm9sKSA9PiBzeW1iLmltYWdlLnkgPiBtYXNrSGVpZ2h0KSA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjaGVja1JlZWxTaG91bGRTdG9wKGNvbnRyb2w6IHsgcmVlbFNwaW5pbmc6IGJvb2xlYW4gfSk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCB7IHN5bWJvbHMgfSA9IHRoaXMgO1xuXG4gICAgICAgIHJldHVybiBzeW1ib2xzLmV2ZXJ5KChzeW1iOiBUZmFsbGluZ1N5bWJvbCkgPT4gc3ltYi52ZWxvY2l0eSA9PT0gMCkgJiYgY29udHJvbC5yZWVsU3BpbmluZyA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwbGF5U3RvcFNvdW5kKCk6IHZvaWQge1xuICAgICAgICBjb25zdCB7IHN0b3BTb3VuZHNJZHMgfSA9IHRoaXMgO1xuICAgICAgICBjb25zdCBtYXhOdW1iZXI6IG51bWJlciA9IHN0b3BTb3VuZHNJZHMubGVuZ3RoIDtcbiAgICAgICAgY29uc3QgcmFuZG9tTnVtYmVyOiBudW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtYXhOdW1iZXIpIDtcbiAgICAgICAgY29uc3Qgc3RvcFNvdW5kSWQ6IHN0cmluZyA9IHN0b3BTb3VuZHNJZHNbcmFuZG9tTnVtYmVyXSA7XG5cbiAgICAgICAgdGhpcy5zb3VuZEpTLnBsYXkoc3RvcFNvdW5kSWQpIDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlZWwgO1xuIiwiaW1wb3J0IFJlZWwgZnJvbSAnLi9SZWVsJyA7XG5pbXBvcnQgJy4uL2Nzcy9tYWluLmNzcycgO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZWVsID0gbmV3IFJlZWwoMTIzLCAzLCA1LCAxMSkgO1xuXG4gICAgICAgIHJlZWwuY3JlYXRlUmVlbCgpIDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZygn0J7RiNC40LHQutCwISEhICcsIGVycm9yLm1lc3NhZ2UpO1xuICAgIH1cbn0pXG4iXSwic291cmNlUm9vdCI6IiJ9